!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define("FlowEditor",["React","ReactDOM"],t):"object"==typeof exports?exports.FlowEditor=t(require("react"),require("react-dom")):e.FlowEditor=t(e.React,e.ReactDOM)}("undefined"!=typeof self?self:this,function(e,t){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=157)}([function(t,n){t.exports=e},function(e,t,n){"use strict";function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",n=arguments[1]||t+"Subscription",o=function(e){function o(n,r){!function(e,t){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r));return i[t]=n.store,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,e),o.prototype.getChildContext=function(){var e;return e={},e[t]=this[t],e[n]=null,e},o.prototype.render=function(){return m.Children.only(this.props.children)},o}(m.Component);return o.propTypes={store:b.isRequired,children:_.a.element.isRequired},o.childContextTypes=(e={},e[t]=b.isRequired,e[n]=y,e),o}function r(){}function i(e){var t,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=o.getDisplayName,s=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,a=o.methodName,u=void 0===a?"connectAdvanced":a,l=o.renderCountProp,c=void 0===l?void 0:l,d=o.shouldHandleStateChanges,p=void 0===d||d,f=o.storeKey,h=void 0===f?"store":f,g=o.withRef,v=void 0!==g&&g,_=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(o,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),E=h+"Subscription",C=P++,x=(t={},t[h]=b,t[E]=y,t),S=(n={},n[E]=y,n);return function(t){O()("function"==typeof t,"You must pass a component to the function returned by "+u+". Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",o=s(n),i=T({},_,{getDisplayName:s,methodName:u,renderCountProp:c,shouldHandleStateChanges:p,storeKey:h,withRef:v,displayName:o,wrappedComponentName:n,WrappedComponent:t}),a=function(n){function s(e,t){!function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,n.call(this,e,t));return r.version=C,r.state={},r.renderCount=0,r.store=e[h]||t[h],r.propsMode=Boolean(e[h]),r.setWrappedInstance=r.setWrappedInstance.bind(r),O()(r.store,'Could not find "'+h+'" in either the context or props of "'+o+'". Either wrap the root component in a <Provider>, or explicitly pass "'+h+'" as a prop to "'+o+'".'),r.initSelector(),r.initSubscription(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,n),s.prototype.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return e={},e[E]=t||this.context[E],e},s.prototype.componentDidMount=function(){p&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},s.prototype.componentWillReceiveProps=function(e){this.selector.run(e)},s.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},s.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=r,this.store=null,this.selector.run=r,this.selector.shouldComponentUpdate=!1},s.prototype.getWrappedInstance=function(){return O()(v,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+u+"() call."),this.wrappedInstance},s.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},s.prototype.initSelector=function(){var t=e(this.store.dispatch,i);this.selector=function(e,t){var n={run:function(o){try{var r=e(t.getState(),o);(r!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=r,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n}(t,this.store),this.selector.run(this.props)},s.prototype.initSubscription=function(){if(p){var e=(this.propsMode?this.props:this.context)[E];this.subscription=new A(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},s.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(D)):this.notifyNestedSubs()},s.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},s.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},s.prototype.addExtraProps=function(e){if(!(v||c||this.propsMode&&this.subscription))return e;var t=T({},e);return v&&(t.ref=this.setWrappedInstance),c&&(t[c]=this.renderCount++),this.propsMode&&this.subscription&&(t[E]=this.subscription),t},s.prototype.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(m.createElement)(t,this.addExtraProps(e.props))},s}(m.Component);return a.WrappedComponent=t,a.displayName=o,a.childContextTypes=S,a.contextTypes=x,a.propTypes=x,w()(a,t)}}function s(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function a(e,t){if(s(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var r=0;r<n.length;r++)if(!k.call(t,n[r])||!s(e[n[r]],t[n[r]]))return!1;return!0}function u(e){return function(t,n){function o(){return r}var r=e(t,n);return o.dependsOnOwnProps=!1,o}}function l(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function c(e,t){return function(t,n){n.displayName;var o=function(e,t){return o.dependsOnOwnProps?o.mapToProps(e,t):o.mapToProps(e)};return o.dependsOnOwnProps=!0,o.mapToProps=function(t,n){o.mapToProps=e,o.dependsOnOwnProps=l(e);var r=o(t,n);return"function"==typeof r&&(o.mapToProps=r,o.dependsOnOwnProps=l(r),r=o(t,n)),r},o}}function d(e,t,n){return G({},n,e,t)}function p(e,t,n,o,r){var i=r.areStatesEqual,s=r.areOwnPropsEqual,a=r.areStatePropsEqual,u=!1,l=void 0,c=void 0,d=void 0,p=void 0,f=void 0;return function(r,h){return u?function(r,u){var h=!s(u,c),g=!i(r,l);return l=r,c=u,h&&g?(d=e(l,c),t.dependsOnOwnProps&&(p=t(o,c)),f=n(d,p,c)):h?(e.dependsOnOwnProps&&(d=e(l,c)),t.dependsOnOwnProps&&(p=t(o,c)),f=n(d,p,c)):g?function(){var t=e(l,c),o=!a(t,d);return d=t,o&&(f=n(d,p,c)),f}():f}(r,h):(l=r,c=h,d=e(l,c),p=t(o,c),f=n(d,p,c),u=!0,f)}}function f(e,t){var n=t.initMapStateToProps,o=t.initMapDispatchToProps,r=t.initMergeProps,i=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),s=n(e,i),a=o(e,i),u=r(e,i);return(i.pure?p:function(e,t,n,o){return function(r,i){return n(e(r,i),t(o,i),i)}})(s,a,u,e,i)}function h(e,t,n){for(var o=t.length-1;o>=0;o--){var r=t[o](e);if(r)return r}return function(t,o){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+o.wrappedComponentName+".")}}function g(e,t){return e===t}Object.defineProperty(t,"__esModule",{value:!0});var m=n(0),v=n(5),_=n.n(v),y=_.a.shape({trySubscribe:_.a.func.isRequired,tryUnsubscribe:_.a.func.isRequired,notifyNestedSubs:_.a.func.isRequired,isSubscribed:_.a.func.isRequired}),b=_.a.shape({subscribe:_.a.func.isRequired,dispatch:_.a.func.isRequired,getState:_.a.func.isRequired}),E=o(),C=n(164),w=n.n(C),x=n(39),O=n.n(x),S={notify:function(){}},A=function(){function e(t,n,o){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.store=t,this.parentSub=n,this.onStateChange=o,this.unsubscribe=null,this.listeners=S}return e.prototype.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},e.prototype.notifyNestedSubs=function(){this.listeners.notify()},e.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},e.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=function(){var e=[],t=[];return{clear:function(){t=null,e=null},notify:function(){for(var n=e=t,o=0;o<n.length;o++)n[o]()},get:function(){return t},subscribe:function(n){var o=!0;return t===e&&(t=e.slice()),t.push(n),function(){o&&null!==e&&(o=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}}())},e.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=S)},e}(),T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},P=0,D={},k=Object.prototype.hasOwnProperty,N=n(3),R=n(169),j="object"==typeof self&&self&&self.Object===Object&&self,I=(R.a||j||Function("return this")()).Symbol,M=Object.prototype,L=(M.hasOwnProperty,M.toString,I&&I.toStringTag,Object.prototype.toString,I&&I.toStringTag,Object.getPrototypeOf,Object,Function.prototype),F=Object.prototype,U=L.toString,H=(F.hasOwnProperty,U.call(Object),[function(e){return"function"==typeof e?c(e):void 0},function(e){return e?void 0:u(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?u(function(t){return Object(N.bindActionCreators)(e,t)}):void 0}]),B=[function(e){return"function"==typeof e?c(e):void 0},function(e){return e?void 0:u(function(){return{}})}],G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},W=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var o=n.pure,r=n.areMergedPropsEqual,i=!1,s=void 0;return function(t,n,a){var u=e(t,n,a);return i?o&&r(u,s)||(s=u):(i=!0,s=u),s}}}(e):void 0},function(e){return e?void 0:function(){return d}}],z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.connectHOC,n=void 0===t?i:t,o=e.mapStateToPropsFactories,r=void 0===o?B:o,s=e.mapDispatchToPropsFactories,u=void 0===s?H:s,l=e.mergePropsFactories,c=void 0===l?W:l,d=e.selectorFactory,p=void 0===d?f:d;return function(e,t,o){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=i.pure,l=void 0===s||s,d=i.areStatesEqual,f=void 0===d?g:d,m=i.areOwnPropsEqual,v=void 0===m?a:m,_=i.areStatePropsEqual,y=void 0===_?a:_,b=i.areMergedPropsEqual,E=void 0===b?a:b,C=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(i,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),w=h(e,r,"mapStateToProps"),x=h(t,u,"mapDispatchToProps"),O=h(o,c,"mergeProps");return n(p,z({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:w,initMapDispatchToProps:x,initMergeProps:O,pure:l,areStatesEqual:f,areOwnPropsEqual:v,areStatePropsEqual:y,areMergedPropsEqual:E},C))}}();n.d(t,"Provider",function(){return E}),n.d(t,"createProvider",function(){return o}),n.d(t,"connectAdvanced",function(){return i}),n.d(t,"connect",function(){return q})},function(e,t,n){"use strict";var o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},s=this;Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),u=n(14),l=n(106),c=n(174);t.V4_UUID=/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i;var d=/^[a-zA-Z0-9-][a-zA-Z0-9- ]*$/,p=/\s+(?=\S)/g;t.GRID_SIZE=parseInt(c.grid_size,10)||20,t.NODE_SPACING=parseInt(c.node_spacing,10)||10,t.NODE_PADDING=parseInt(c.node_padding,10)||10,t.QUIET_NOTE=2e3,t.CONFIRMATION_TIME=2e3,t.snapToGrid=function(e,n){var o=e%t.GRID_SIZE,r=n%t.GRID_SIZE;return o>t.GRID_SIZE/3?o=t.GRID_SIZE-o:o*=-1,r>t.GRID_SIZE/3?r=t.GRID_SIZE-r:r*=-1,{left:Math.max(e+o,0),top:Math.max(n+r,0)}},t.toBoolMap=function(e){return e.reduce(function(e,t){return o({},e,(n={},n[t]=!0,n));var n},{})},t.addCommas=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},t.snakify=function(e){return e.toLowerCase().trim().replace(p,"_")},t.validUUID=function(e){return t.V4_UUID.test(e)},t.titleCase=function(e){return e.replace(/\b\w+/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})},t.getSelectClass=function(e){return 0===e?"":"select-invalid"},t.reorderList=function(e,t,n){var o=r(e.splice(t,1),1)[0];return e.splice(n,0,o),e},t.jsonEqual=function(e,t){return JSON.stringify(e)===JSON.stringify(t)},t.hasErrorType=function(e,t){if(!e.length)return!1;try{for(var n=i(e),o=n.next();!o.done;o=n.next()){var r=o.value;try{for(var s=i(t),a=s.next();!a.done;a=s.next()){var u=a.value;if(r.match(u))return!0}}catch(e){d={error:e}}finally{try{a&&!a.done&&(p=s.return)&&p.call(s)}finally{if(d)throw d.error}}}}catch(e){l={error:e}}finally{try{o&&!o.done&&(c=n.return)&&c.call(n)}finally{if(l)throw l.error}}return!1;var l,c,d,p},t.getLocalizedObject=function(e){if(e&&e.length)return e[0]},t.createClickHandler=function(e){return{onMouseDown:function(e){s._clicked=!0},onMouseUp:function(t){s._clicked&&e(t),s._clicked=!1}}},t.getBaseLanguage=function(e){var t=r(Object.keys(e),1)[0];return{name:e[t],iso:t}},t.getLanguage=function(e,t){return{name:e[t],iso:t}},t.getLocalization=function(e,t,n,o){return l.default.translate(e,n,o,t[n])},t.dump=function(e){return console.log(JSON.stringify(e,null,2))},t.emphasize=function(e){return a.createElement("span",{className:"emph"},e)},t.propertyExists=function(e){try{for(var t=i(Object.keys(u.ContactProperties)),n=t.next();!n.done;n=t.next())if(n.value.toLowerCase()===e.toLowerCase().trim())return!0}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=t.return)&&r.call(t)}finally{if(o)throw o.error}}return!1;var o,r},t.renderIf=function(e){return function(t){return e&&t}},t.properLabelLength=function(e){return void 0===e&&(e=""),e.length>0&&e.length<=36},t.containsOnlyLabelChars=function(e){return void 0===e&&(e=""),d.test(e)},t.isValidLabel=function(e){return t.properLabelLength(e)&&t.containsOnlyLabelChars(e)},t.isRealValue=function(e){return null!==e&&void 0!==e},t.timeStart=function(e){return!1},t.timeEnd=function(e){return!1},t.capitalize=function(e){return e.replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()})},t.set=function(e){return{$set:e}},t.setTrue=function(){return t.set(!0)},t.setFalse=function(){return t.set(!1)},t.setNull=function(){return t.set(null)},t.setEmpty=function(){return t.set("")},t.merge=function(e){return{$merge:e}},t.unset=function(e){return{$unset:e}},t.push=function(e){return{$push:e}},t.splice=function(e){return{$splice:e}},"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__assign","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/utils/index.tsx"),__REACT_HOT_LOADER__.register(r,"__read","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/utils/index.tsx"),__REACT_HOT_LOADER__.register(i,"__values","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/utils/index.tsx"),__REACT_HOT_LOADER__.register(s,"_this","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/utils/index.tsx"),__REACT_HOT_LOADER__.register(d,"LABEL_CHARS","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/utils/index.tsx"),__REACT_HOT_LOADER__.register(36,"MAX_LABEL_LENGTH","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/utils/index.tsx"),__REACT_HOT_LOADER__.register(p,"SNAKED_CHARS","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/utils/index.tsx"))},function(e,t,n){"use strict";function o(e,t,n){function r(){p===d&&(p=d.slice())}function i(){return c}function s(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return r(),p.push(e),function(){if(t){t=!1,r();var n=p.indexOf(e);p.splice(n,1)}}}function a(e){if(!S(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(f)throw new Error("Reducers may not dispatch actions.");try{f=!0,c=l(c,e)}finally{f=!1}for(var t=d=p,n=0;n<t.length;n++)(0,t[n])();return e}var u;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(o)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var l=e,c=t,d=[],p=d,f=!1;return a({type:T.INIT}),u={dispatch:a,subscribe:s,getState:i,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");l=e,a({type:T.INIT})}},u[A.a]=function(){var e,t=s;return e={subscribe:function(e){function n(){e.next&&e.next(i())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:t(n)}}},e[A.a]=function(){return this},e},u}function r(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function i(e){for(var t=Object.keys(e),n={},o=0;o<t.length;o++){var i=t[o];"function"==typeof e[i]&&(n[i]=e[i])}var s=Object.keys(n),a=void 0;try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:T.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+T.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(e){a=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(a)throw a;for(var o=!1,i={},u=0;u<s.length;u++){var l=s[u],c=n[l],d=e[l],p=c(d,t);if(void 0===p){var f=r(l,t);throw new Error(f)}i[l]=p,o=o||p!==d}return o?i:e}}function s(e,t){return function(){return t(e.apply(void 0,arguments))}}function a(e,t){if("function"==typeof e)return s(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),o={},r=0;r<n.length;r++){var i=n[r],a=e[i];"function"==typeof a&&(o[i]=s(a,t))}return o}function u(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function l(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,o,r){var i=e(n,o,r),s=i.dispatch,a=[],l={getState:i.getState,dispatch:function(e){return s(e)}};return a=t.map(function(e){return e(l)}),s=u.apply(void 0,a)(i.dispatch),P({},i,{dispatch:s})}}}Object.defineProperty(t,"__esModule",{value:!0});var c=n(165),d="object"==typeof self&&self&&self.Object===Object&&self,p=(c.a||d||Function("return this")()).Symbol,f=Object.prototype,h=f.hasOwnProperty,g=f.toString,m=p?p.toStringTag:void 0,v=Object.prototype.toString,_=p?p.toStringTag:void 0,y=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":_&&_ in Object(e)?function(e){var t=h.call(e,m),n=e[m];try{e[m]=void 0;var o=!0}catch(e){}var r=g.call(e);return o&&(t?e[m]=n:delete e[m]),r}(e):function(e){return v.call(e)}(e)},b=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object),E=Function.prototype,C=Object.prototype,w=E.toString,x=C.hasOwnProperty,O=w.call(Object),S=function(e){if(!function(e){return null!=e&&"object"==typeof e}(e)||"[object Object]"!=y(e))return!1;var t=b(e);if(null===t)return!0;var n=x.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&w.call(n)==O},A=n(166),T={INIT:"@@redux/INIT"},P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};n.d(t,"createStore",function(){return o}),n.d(t,"combineReducers",function(){return i}),n.d(t,"bindActionCreators",function(){return a}),n.d(t,"applyMiddleware",function(){return l}),n.d(t,"compose",function(){return u})},function(e,t,n){"use strict";e.exports=((e,t)=>{t=Object.assign({},t);const n=e=>{const n=t=>"string"==typeof t?e===t:t.test(e);return t.include?t.include.some(n):!t.exclude||!t.exclude.some(n)};for(const t of Object.getOwnPropertyNames(e.constructor.prototype)){const o=e[t];"constructor"!==t&&"function"==typeof o&&n(t)&&(e[t]=o.bind(e))}return e});const o=["componentWillMount","render","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","componentWillUnmount","componentDidCatch","setState","forceUpdate"];e.exports.react=((t,n)=>(n=Object.assign({},n),n.exclude=(n.exclude||[]).concat(o),e.exports(t,n)))},function(e,t,n){e.exports=n(160)()},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.fakePropType=function(){return null},t.fakePropType.isRequired=function(){return null},t.SINGLE_CHILD_ERROR="ConfigProvider expects only one child component.",t.VALID_CHILD_ERROR="ConfigProvider expects a valid React element: https://reactjs.org/docs/react-api.html#isvalidelement";var i=function(e){function n(n){var o=e.call(this,n)||this;if(r.Children.count(n.children)>1)throw new Error(t.SINGLE_CHILD_ERROR);if(!r.isValidElement(n.children))throw new Error(t.VALID_CHILD_ERROR);return o}return o(n,e),n.prototype.getChildContext=function(){return{assetService:this.props.config.assetService,languages:this.props.config.languages,endpoints:this.props.config.endpoints,flow:this.props.config.flow}},n.prototype.render=function(){return r.Children.only(this.props.children)},n.childContextTypes={assetService:t.fakePropType,endpoints:t.fakePropType,languages:t.fakePropType,flow:t.fakePropType},n}(r.Component);t.default=i,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__extends","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/config/ConfigProvider.tsx"),__REACT_HOT_LOADER__.register(i,"ConfigProvider","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/config/ConfigProvider.tsx"))},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.closest=t.distance=t.patch=t.absolute=t.negate=t.isEqual=t.subtract=t.add=void 0;var r=o(n(89)),i=o(n(44)),s=(t.add=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},t.subtract=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},t.isEqual=function(e,t){return e.x===t.x&&e.y===t.y},t.negate=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},t.absolute=function(e){return{x:Math.abs(e.x),y:Math.abs(e.y)}},t.patch=function(e,t){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return n={},(0,i.default)(n,e,t),(0,i.default)(n,"x"===e?"y":"x",o),n},t.distance=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))});t.closest=function(e,t){return Math.min.apply(Math,(0,r.default)(t.map(function(t){return s(e,t)})))}},function(e,t,n){"use strict";function o(e){return"[object Array]"===c.call(e)}function r(e){return null!==e&&"object"==typeof e}function i(e){return"[object Function]"===c.call(e)}function s(e,t){if(null!==e&&void 0!==e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function a(){function e(e,n){"object"==typeof t[n]&&"object"==typeof e?t[n]=a(t[n],e):t[n]=e}for(var t={},n=0,o=arguments.length;n<o;n++)s(arguments[n],e);return t}var u=n(108),l=n(178),c=Object.prototype.toString;e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===c.call(e)},isBuffer:l,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:r,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===c.call(e)},isFile:function(e){return"[object File]"===c.call(e)},isBlob:function(e){return"[object Blob]"===c.call(e)},isFunction:i,isStream:function(e){return r(e)&&i(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:s,merge:a,extend:function(e,t,n){return s(t,function(t,o){e[o]=n&&"function"==typeof t?u(t,n):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t){var n=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=void 0,r=[],i=void 0,s=!1,a=function(e,n){return t(e,r[n])};return function(){for(var t=arguments.length,o=Array(t),u=0;u<t;u++)o[u]=arguments[u];return s&&n===this&&o.length===r.length&&o.every(a)?i:(s=!0,n=this,r=o,i=e.apply(this,o))}};var o=function(e,t){return e===t}},function(e,t,n){var o=n(172),r=n(173),i=r;i.v1=o,i.v4=r,e.exports=i},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var s,a=n(68),u=n(14);!function(e){e.Channel="channel",e.Flow="flow",e.Group="group",e.Property="property",e.Field="field"}(s=t.AssetType||(t.AssetType={}));var l;!function(e){e.UUID="uuid",e.Key="key",e.ID="id"}(l||(l={}));var c;(c||(c={})).Name="name";var d;!function(e){e.Flow="flow",e.Fields="field_set",e.Groups="group_set",e.Channels="channel_set"}(d||(d={})),t.getBaseURL=function(){var e=window.location;return e.protocol+"//"+e.hostname+(e.port?":"+e.port:"")};var p=function(){function e(e,t){this.assets={},this.localStorage=t,this.endpoint=e,this.idProperty=l.UUID}return e.prototype.get=function(e){var t=this,n=this.assets[e];return n?new Promise(function(e){e(n)}):new Promise(function(n,o){var r=t.endpoint+"/"+e+"/";a.default.get(r).then(function(o){var r=o.data,i={id:r.uuid,name:r.name,type:t.assetType,content:r};return t.localStorage&&(t.assets[e]=i),n(i)}).catch(function(e){return o(e)})})},e.prototype.searchLocalItems=function(e){var t=this,n=[];return Object.keys(this.assets).map(function(o){var r=t.assets[o];t.matches(e,r.name)&&n.push(r)}),n},e.prototype.search=function(e){var t=this,n=this.searchLocalItems(e),o=this.endpoint;return e&&(o+="?query="+encodeURIComponent(e)),a.default.get(o).then(function(o){try{for(var r=i(o.data),s=r.next();!s.done;s=r.next()){var a=s.value;t.matches(e,a.name)&&n.push({name:a.name,id:a[t.idProperty],type:t.assetType})}}catch(e){u={error:e}}finally{try{s&&!s.done&&(l=r.return)&&l.call(r)}finally{if(u)throw u.error}}return n;var u,l})},e.prototype.matches=function(e,t){return!!t&&(0===e.length||t.toLocaleLowerCase().trim().indexOf(e.toLocaleLowerCase().trim())>-1)},e.prototype.add=function(e){this.localStorage&&(this.assets[e.id]=e)},e.prototype.addAll=function(e){var t=this;e.map(function(e){t.add(e)})},e.prototype.update=function(e,t){var n=this;return new Promise(function(o,r){if(n.localStorage){var i=n.assets[e];i.content=t,o(i)}else n.endpoint,o(n.assets[e])})},e.prototype.getAssetSet=function(){var e=this,t=[];return Object.keys(this.assets).forEach(function(n){var o=e.assets[n];o.type!==s.Property&&t.push(r((i={},i[e.idProperty]=o.id,i.name=o.name,i),o.content));var i}),t},e.prototype.getAssetContents=function(e){var n=this;return Object.keys(this.assets).map(function(o){var r=n.assets[o];return{type:e,url:t.getBaseURL()+n.endpoint+"/"+r.id+"/",content:r.content}})},e}();t.Assets=p;var f=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.idProperty=l.UUID,o.assetType=s.Group,o}return o(t,e),t}(p),h=function(e){function t(n,o){var r=e.call(this,n,o)||this;return r.idProperty=l.Key,r.assetType=s.Field,t.CONTACT_PROPERTIES.map(function(e){r.assets[e.id]=e}),r}return o(t,e),t.CONTACT_PROPERTIES=[{name:u.ContactProperties.Name,id:u.ContactProperties.Name.toLowerCase(),type:s.Property}],t}(p),g=function(e){function t(t,n){var o=e.call(this,t,n)||this;o.idProperty=l.UUID,o.assetType=s.Channel;var r="6934255e-446b-40d3-b2ca-c5f801bd2278";return o.assets[r]={id:r,name:"Simulator",type:s.Channel,content:{address:"+12065550000",schemes:["tel"],roles:["send","receive"]}},o}return o(t,e),t}(p),m=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.idProperty=l.UUID,o.assetType=s.Flow,o}return o(t,e),t}(p),v=function(){function e(e){this.groups=new f(e.endpoints.groups,e.localStorage),this.fields=new h(e.endpoints.fields,e.localStorage),this.flows=new m(e.endpoints.flows,e.localStorage),this.channels=new g("/channels",!0)}return e.prototype.addFlowComponents=function(e){this.groups.addAll(e.groups),this.fields.addAll(e.fields)},e.prototype.getFlowAssets=function(){return this.flows},e.prototype.getGroupAssets=function(){return this.groups},e.prototype.getFieldAssets=function(){return this.fields},e.prototype.getSimulationAssets=function(){var e=[],n=t.getBaseURL();return e.push({type:d.Groups,url:n+this.groups.endpoint+"/",content:this.groups.getAssetSet()}),e.push({type:d.Fields,url:n+this.fields.endpoint+"/",content:this.fields.getAssetSet()}),e.push({type:d.Channels,url:n+this.channels.endpoint+"/",content:this.channels.getAssetSet()}),{assets:e=e.concat(this.flows.getAssetContents(d.Flow)),asset_server:{type_urls:{flow:n+this.flows.endpoint+"/{uuid}/",field_set:n+this.fields.endpoint+"/",channel_set:n+this.channels.endpoint+"/",group_set:n+this.groups.endpoint+"/"}}}},e}();t.default=v,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__extends","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/services/AssetService.ts"),__REACT_HOT_LOADER__.register(r,"__assign","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/services/AssetService.ts"),__REACT_HOT_LOADER__.register(i,"__values","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/services/AssetService.ts"),__REACT_HOT_LOADER__.register(s,"AssetType","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/services/AssetService.ts"),__REACT_HOT_LOADER__.register(l,"IdProperty","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/services/AssetService.ts"),__REACT_HOT_LOADER__.register(c,"NameProperty","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/services/AssetService.ts"),__REACT_HOT_LOADER__.register(d,"SimAssetType","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/services/AssetService.ts"),__REACT_HOT_LOADER__.register(p,"Assets","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/services/AssetService.ts"),__REACT_HOT_LOADER__.register(f,"GroupAssets","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/services/AssetService.ts"),__REACT_HOT_LOADER__.register(h,"FieldAssets","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/services/AssetService.ts"),__REACT_HOT_LOADER__.register(g,"ChannelAssets","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/services/AssetService.ts"),__REACT_HOT_LOADER__.register(m,"FlowAssets","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/services/AssetService.ts"),__REACT_HOT_LOADER__.register(v,"AssetService","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/services/AssetService.ts"))},function(e,t,n){var o=n(77)("wks"),r=n(61),i=n(20).Symbol,s="function"==typeof i;(e.exports=function(e){return o[e]||(o[e]=s&&i[e]||(s?i:r)("Symbol."+e))}).store=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o;!function(e){e.exp="exp",e.group="group",e.msg="msg",e.flow="flow"}(o=t.WaitTypes||(t.WaitTypes={}));var r;!function(e){e.GET="GET",e.POST="POST",e.PUT="PUT"}(r=t.Methods||(t.Methods={}));var i;!function(e){e.UUID="UUID",e["Created By"]="Created By",e["Modified By"]="Modified By",e.Org="Org",e.Name="Name",e.Language="Language",e.Timezone="Timezone",e.Email="Email",e.Mailto="Mailto",e.Phone="Phone",e.Groups="Groups",e.Facebook="Facebook",e.Telegram="Telegram"}(i=t.ContactProperties||(t.ContactProperties={}));var s;!function(e){e.flow="flow",e.field="field",e.group="group",e.label="label"}(s=t.ResultType||(t.ResultType={}));var a;!function(e){e.text="text",e.numeric="numeric",e.datetime="datetime",e.state="state",e.district="district",e.ward="ward"}(a=t.ValueType||(t.ValueType={}));var u;!function(e){e.Complete="C",e.Expired="E"}(u=t.StartFlowArgs||(t.StartFlowArgs={}));var l;!function(e){e.Complete="Complete",e.Expired="Expired"}(l=t.StartFlowExitNames||(t.StartFlowExitNames={}));var c;!function(e){e.Success="Success",e.Failure="Failed",e.Unreachable="Unreachable"}(c=t.WebhookExitNames||(t.WebhookExitNames={})),"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"WaitTypes","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/flowTypes.ts"),__REACT_HOT_LOADER__.register(r,"Methods","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/flowTypes.ts"),__REACT_HOT_LOADER__.register(i,"ContactProperties","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/flowTypes.ts"),__REACT_HOT_LOADER__.register(s,"ResultType","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/flowTypes.ts"),__REACT_HOT_LOADER__.register(a,"ValueType","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/flowTypes.ts"),__REACT_HOT_LOADER__.register(u,"StartFlowArgs","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/flowTypes.ts"),__REACT_HOT_LOADER__.register(l,"StartFlowExitNames","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/flowTypes.ts"),__REACT_HOT_LOADER__.register(c,"WebhookExitNames","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/flowTypes.ts"))},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=n(0),s=n(107),a=n(2),u=r.bind(s),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getName=function(){return a.renderIf(this.props.showLabel&&void 0!==this.props.name&&null!==this.props.name&&this.props.name.length>0)(i.createElement("div",{className:s.label},this.props.name))},t.prototype.getHelpText=function(){return a.renderIf(this.props.helpText&&!this.props.errors.length)(i.createElement("div",{className:s.helpText},this.props.helpText," "))},t.prototype.getErrors=function(){var e=this;if(this.props.errors.length<1)return null;var t=this.props.errors.map(function(t,n){var o=u((r={},r[s.error]=!0,r[s.sendMsgError]=!0===e.props.sendMsgError,r[s.kaseError]=!0===e.props.kaseError,r[s.attribError]=!0===e.props.attribError,r));return i.createElement("div",{key:n,className:o},t);var r});return i.createElement("div",{className:s.error},t)},t.prototype.render=function(){var e=this.getName(),t=this.getHelpText(),n=this.getErrors(),o=u((r={},r[s.ele]=!0,r[s.border]=this.props.border,r[this.props.__className]=void 0!==this.props.__className,r));return i.createElement("div",{className:o},e,this.props.children,i.createElement("div",null,t,n));var r},t}(i.PureComponent);t.default=l,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__extends","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/form/FormElement.tsx"),__REACT_HOT_LOADER__.register(u,"cx","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/form/FormElement.tsx"),__REACT_HOT_LOADER__.register(l,"FormElement","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/form/FormElement.tsx"))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(200);t.Count=o.Count,t.default=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),r=n(170);t.Mode=r.Mode,t.typeConfigList=r.typeConfigList,t.getTypeConfig=r.getTypeConfig;var i=n(60);t.operatorConfigList=i.operatorConfigList,t.getOperatorConfig=i.getOperatorConfig,t.default=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(226);t.createStore=o.default;var r=n(55);t.Constants=r.default;var i=n(54);t.updateDefinition=i.updateDefinition,t.updateDependencies=i.updateDependencies;var s=n(43);t.updateCreateNodePosition=s.updateCreateNodePosition,t.updateDragGroup=s.updateDragGroup,t.updateFetchingFlow=s.updateFetchingFlow,t.updateGhostNode=s.updateGhostNode,t.updateLanguage=s.updateLanguage,t.updateNodeDragging=s.updateNodeDragging,t.updateNodeEditorOpen=s.updateNodeEditorOpen,t.updateTranslating=s.updateTranslating,t.updateDragSelection=s.updateDragSelection;var a=n(56);t.updateActionToEdit=a.updateActionToEdit,t.updateOperand=a.updateOperand,t.updateResultName=a.updateResultName,t.updateShowResultName=a.updateShowResultName,t.updateTypeConfig=a.updateTypeConfig,t.updateUserAddingAction=a.updateUserAddingAction;var u=n(119);t.initialState=u.initialState;var l=n(120);t.disconnectExit=l.disconnectExit,t.ensureStartNode=l.ensureStartNode,t.fetchFlow=l.fetchFlow,t.moveActionUp=l.moveActionUp,t.onAddToNode=l.onAddToNode,t.onConnectionDrag=l.onConnectionDrag,t.onNodeMoved=l.onNodeMoved,t.onOpenNodeEditor=l.onOpenNodeEditor,t.onUpdateAction=l.onUpdateAction,t.onUpdateLocalizations=l.onUpdateLocalizations,t.onUpdateRouter=l.onUpdateRouter,t.removeAction=l.removeAction,t.removeNode=l.removeNode,t.resetNodeEditingState=l.resetNodeEditingState,t.updateConnection=l.updateConnection,t.updateDimensions=l.updateDimensions,t.updateSticky=l.updateSticky},function(e,t,n){var o=n(20),r=n(9),i=n(73),s=n(35),a="prototype",u=function(e,t,n){var l,c,d,p=e&u.F,f=e&u.G,h=e&u.S,g=e&u.P,m=e&u.B,v=e&u.W,_=f?r:r[t]||(r[t]={}),y=_[a],b=f?o:h?o[t]:(o[t]||{})[a];f&&(n=t);for(l in n)(c=!p&&b&&void 0!==b[l])&&l in _||(d=c?b[l]:n[l],_[l]=f&&"function"!=typeof b[l]?n[l]:m&&c?i(d,o):v&&b[l]==d?function(e){var t=function(t,n,o){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,o)}return e.apply(this,arguments)};return t[a]=e[a],t}(d):g&&"function"==typeof d?i(Function.call,d):d,g&&((_.virtual||(_.virtual={}))[l]=d,e&u.R&&y&&!y[l]&&s(y,l,d)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var o=n(36),r=n(132),i=n(74),s=Object.defineProperty;t.f=n(27)?Object.defineProperty:function(e,t,n){if(o(e),t=i(t,!0),o(n),r)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports={default:n(250),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(131));t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}()},function(e,t,n){"use strict";t.__esModule=!0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(78));t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,o.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=o(n(274)),i=o(n(278)),s=o(n(78));t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,s.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},function(e,t,n){e.exports=!n(37)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){e.exports={default:n(283),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(285));t.default=o.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(29)),i=o(n(10));t.default=(0,i.default)(function(e,t){return(0,r.default)(t).map(function(e){return t[e]}).filter(function(t){return e.id===t.droppableId}).sort(function(t,n){return t.page.withoutMargin.center[e.axis.line]-n.page.withoutMargin.center[e.axis.line]})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return"private-drag-drop-key-do-not-use-store-"+e};t.storeKey=o("store"),t.droppableIdKey=o("droppable-id")},function(e,t,n){"use strict";function o(e){var t=e.onMouseDown;return g.a.createElement("span",{className:"Select-arrow",onMouseDown:t})}function r(e){for(var t=0;t<w.length;t++)e=e.replace(w[t].letters,w[t].base);return e}function i(e,t,n,o){var i=this;return o.ignoreAccents&&(t=r(t)),o.ignoreCase&&(t=t.toLowerCase()),o.trimFilter&&(t=t.replace(/^\s+|\s+$/g,"")),n&&(n=n.map(function(e){return e[o.valueKey]})),e.filter(function(e){if(n&&n.indexOf(e[o.valueKey])>-1)return!1;if(o.filterOption)return o.filterOption.call(i,e,t);if(!t)return!0;var s=String(e[o.valueKey]),a=String(e[o.labelKey]);return o.ignoreAccents&&("label"!==o.matchProp&&(s=r(s)),"value"!==o.matchProp&&(a=r(a))),o.ignoreCase&&("label"!==o.matchProp&&(s=s.toLowerCase()),"value"!==o.matchProp&&(a=a.toLowerCase())),"start"===o.matchPos?"label"!==o.matchProp&&s.substr(0,t.length)===t||"value"!==o.matchProp&&a.substr(0,t.length)===t:"label"!==o.matchProp&&s.indexOf(t)>=0||"value"!==o.matchProp&&a.indexOf(t)>=0})}function s(e){var t=e.focusedOption,n=e.focusOption,o=e.inputValue,r=e.instancePrefix,i=(e.labelKey,e.onFocus),s=e.onOptionRef,a=e.onSelect,u=e.optionClassName,l=e.optionComponent,c=e.optionRenderer,d=e.options,p=e.removeValue,f=e.selectValue,h=e.valueArray,m=e.valueKey,v=l;return d.map(function(e,l){var d=h&&h.some(function(t){return t[m]==e[m]}),_=e===t,y=C()(u,{"Select-option":!0,"is-selected":d,"is-focused":_,"is-disabled":e.disabled});return g.a.createElement(v,{className:y,focusOption:n,inputValue:o,instancePrefix:r,isDisabled:e.disabled,isFocused:_,isSelected:d,key:"option-"+l+"-"+e[m],onFocus:i,onSelect:a,option:e,optionIndex:l,ref:function(e){s(e,_)},removeValue:p,selectValue:f},c(e,l,o))})}function a(){return g.a.createElement("span",{className:"Select-clear",dangerouslySetInnerHTML:{__html:"&times;"}})}function u(e){return g.a.createElement(F,e)}function l(e){var t=e.option,n=e.options,o=e.labelKey,r=e.valueKey;return 0===n.filter(function(e){return e[o]===t[o]||e[r]===t[r]}).length}function c(e){return!!e.label}function d(e){var t=e.label,n=e.labelKey,o={};return o[e.valueKey]=t,o[n]=t,o.className="Select-create-option-placeholder",o}function p(e){return'Create option "'+e+'"'}function f(e){switch(e.keyCode){case 9:case 13:case 188:return!0;default:return!1}}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"Async",function(){return G}),n.d(t,"AsyncCreatable",function(){return z}),n.d(t,"Creatable",function(){return W}),n.d(t,"Value",function(){return R}),n.d(t,"Option",function(){return N}),n.d(t,"defaultMenuRenderer",function(){return s}),n.d(t,"defaultArrowRenderer",function(){return o}),n.d(t,"defaultClearRenderer",function(){return a}),n.d(t,"defaultFilterOptions",function(){return i});var h=n(0),g=n.n(h),m=n(5),v=n.n(m),_=n(53),y=(n.n(_),n(175)),b=n.n(y),E=n(176),C=n.n(E);o.propTypes={onMouseDown:v.a.func};var w=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O=(function(){function e(e){function t(o,r){try{var i=e[o](r),s=i.value;s instanceof function(e){this.value=e}?Promise.resolve(s.value).then(function(e){t("next",e)},function(e){t("throw",e)}):n(i.done?"return":"normal",i.value)}catch(e){n("throw",e)}}function n(e,n){switch(e){case"return":o.resolve({value:n,done:!0});break;case"throw":o.reject(n);break;default:o.resolve({value:n,done:!1})}(o=o.next)?t(o.key,o.arg):r=null}var o,r;this._invoke=function(e,n){return new Promise(function(i,s){var a={key:e,arg:n,resolve:i,reject:s,next:null};r?r=r.next=a:(o=r=a,t(e,n))})},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(e){return this._invoke("next",e)},e.prototype.throw=function(e){return this._invoke("throw",e)},e.prototype.return=function(e){return this._invoke("return",e)}}(),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}),S=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),A=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},P=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},D=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},k=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},N=function(e){function t(e){O(this,t);var n=k(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseDown=n.handleMouseDown.bind(n),n.handleMouseEnter=n.handleMouseEnter.bind(n),n.handleMouseMove=n.handleMouseMove.bind(n),n.handleTouchStart=n.handleTouchStart.bind(n),n.handleTouchEnd=n.handleTouchEnd.bind(n),n.handleTouchMove=n.handleTouchMove.bind(n),n.onFocus=n.onFocus.bind(n),n}return P(t,e),S(t,[{key:"blockEvent",value:function(e){e.preventDefault(),e.stopPropagation(),"A"===e.target.tagName&&"href"in e.target&&(e.target.target?window.open(e.target.href,e.target.target):window.location.href=e.target.href)}},{key:"handleMouseDown",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.onSelect(this.props.option,e)}},{key:"handleMouseEnter",value:function(e){this.onFocus(e)}},{key:"handleMouseMove",value:function(e){this.onFocus(e)}},{key:"handleTouchEnd",value:function(e){this.dragging||this.handleMouseDown(e)}},{key:"handleTouchMove",value:function(e){this.dragging=!0}},{key:"handleTouchStart",value:function(e){this.dragging=!1}},{key:"onFocus",value:function(e){this.props.isFocused||this.props.onFocus(this.props.option,e)}},{key:"render",value:function(){var e=this.props,t=e.option,n=e.instancePrefix,o=e.optionIndex,r=C()(this.props.className,t.className);return t.disabled?g.a.createElement("div",{className:r,onMouseDown:this.blockEvent,onClick:this.blockEvent},this.props.children):g.a.createElement("div",{className:r,style:t.style,role:"option","aria-label":t.label,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,id:n+"-option-"+o,title:t.title},this.props.children)}}]),t}(g.a.Component);N.propTypes={children:v.a.node,className:v.a.string,instancePrefix:v.a.string.isRequired,isDisabled:v.a.bool,isFocused:v.a.bool,isSelected:v.a.bool,onFocus:v.a.func,onSelect:v.a.func,onUnfocus:v.a.func,option:v.a.object.isRequired,optionIndex:v.a.number};var R=function(e){function t(e){O(this,t);var n=k(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseDown=n.handleMouseDown.bind(n),n.onRemove=n.onRemove.bind(n),n.handleTouchEndRemove=n.handleTouchEndRemove.bind(n),n.handleTouchMove=n.handleTouchMove.bind(n),n.handleTouchStart=n.handleTouchStart.bind(n),n}return P(t,e),S(t,[{key:"handleMouseDown",value:function(e){if("mousedown"!==e.type||0===e.button)return this.props.onClick?(e.stopPropagation(),void this.props.onClick(this.props.value,e)):void(this.props.value.href&&e.stopPropagation())}},{key:"onRemove",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.onRemove(this.props.value)}},{key:"handleTouchEndRemove",value:function(e){this.dragging||this.onRemove(e)}},{key:"handleTouchMove",value:function(e){this.dragging=!0}},{key:"handleTouchStart",value:function(e){this.dragging=!1}},{key:"renderRemoveIcon",value:function(){if(!this.props.disabled&&this.props.onRemove)return g.a.createElement("span",{className:"Select-value-icon","aria-hidden":"true",onMouseDown:this.onRemove,onTouchEnd:this.handleTouchEndRemove,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove},"")}},{key:"renderLabel",value:function(){var e="Select-value-label";return this.props.onClick||this.props.value.href?g.a.createElement("a",{className:e,href:this.props.value.href,target:this.props.value.target,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleMouseDown},this.props.children):g.a.createElement("span",{className:e,role:"option","aria-selected":"true",id:this.props.id},this.props.children)}},{key:"render",value:function(){return g.a.createElement("div",{className:C()("Select-value",this.props.value.className),style:this.props.value.style,title:this.props.value.title},this.renderRemoveIcon(),this.renderLabel())}}]),t}(g.a.Component);R.propTypes={children:v.a.node,disabled:v.a.bool,id:v.a.string,onClick:v.a.func,onRemove:v.a.func,value:v.a.object.isRequired};var j=function(e){return"string"==typeof e?e:null!==e&&JSON.stringify(e)||""},I=v.a.oneOfType([v.a.string,v.a.node]),M=v.a.oneOfType([v.a.string,v.a.number]),L=1,F=function(e){function t(e){O(this,t);var n=k(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return["clearValue","focusOption","handleInputBlur","handleInputChange","handleInputFocus","handleInputValueChange","handleKeyDown","handleMenuScroll","handleMouseDown","handleMouseDownOnArrow","handleMouseDownOnMenu","handleRequired","handleTouchOutside","handleTouchMove","handleTouchStart","handleTouchEnd","handleTouchEndClearValue","handleValueClick","getOptionLabel","onOptionRef","removeValue","selectValue"].forEach(function(e){return n[e]=n[e].bind(n)}),n.state={inputValue:"",isFocused:!1,isOpen:!1,isPseudoFocused:!1,required:!1},n}return P(t,e),S(t,[{key:"componentWillMount",value:function(){this._instancePrefix="react-select-"+(this.props.instanceId||++L)+"-";var e=this.getValueArray(this.props.value);this.props.required&&this.setState({required:this.handleRequired(e[0],this.props.multi)})}},{key:"componentDidMount",value:function(){void 0!==this.props.autofocus&&"undefined"!=typeof console&&console.warn("Warning: The autofocus prop has changed to autoFocus, support will be removed after react-select@1.0"),(this.props.autoFocus||this.props.autofocus)&&this.focus()}},{key:"componentWillReceiveProps",value:function(e){var t=this.getValueArray(e.value,e);e.required?this.setState({required:this.handleRequired(t[0],e.multi)}):this.props.required&&this.setState({required:!1})}},{key:"componentDidUpdate",value:function(e,t){if(this.menu&&this.focused&&this.state.isOpen&&!this.hasScrolledToOption){var n=Object(_.findDOMNode)(this.focused),o=Object(_.findDOMNode)(this.menu),r=o.scrollTop,i=r+o.offsetHeight,s=n.offsetTop,a=s+n.offsetHeight;(r>s||i<a)&&(o.scrollTop=n.offsetTop),this.hasScrolledToOption=!0}else this.state.isOpen||(this.hasScrolledToOption=!1);if(this._scrollToFocusedOptionOnUpdate&&this.focused&&this.menu){this._scrollToFocusedOptionOnUpdate=!1;var u=Object(_.findDOMNode)(this.focused),l=Object(_.findDOMNode)(this.menu),c=u.getBoundingClientRect(),d=l.getBoundingClientRect();c.bottom>d.bottom?l.scrollTop=u.offsetTop+u.clientHeight-l.offsetHeight:c.top<d.top&&(l.scrollTop=u.offsetTop)}if(this.props.scrollMenuIntoView&&this.menuContainer){var p=this.menuContainer.getBoundingClientRect();window.innerHeight<p.bottom+this.props.menuBuffer&&window.scrollBy(0,p.bottom+this.props.menuBuffer-window.innerHeight)}if(e.disabled!==this.props.disabled&&(this.setState({isFocused:!1}),this.closeMenu()),t.isOpen!==this.state.isOpen){this.toggleTouchOutsideEvent(this.state.isOpen);var f=this.state.isOpen?this.props.onOpen:this.props.onClose;f&&f()}}},{key:"componentWillUnmount",value:function(){this.toggleTouchOutsideEvent(!1)}},{key:"toggleTouchOutsideEvent",value:function(e){e?!document.addEventListener&&document.attachEvent?document.attachEvent("ontouchstart",this.handleTouchOutside):document.addEventListener("touchstart",this.handleTouchOutside):!document.removeEventListener&&document.detachEvent?document.detachEvent("ontouchstart",this.handleTouchOutside):document.removeEventListener("touchstart",this.handleTouchOutside)}},{key:"handleTouchOutside",value:function(e){this.wrapper&&!this.wrapper.contains(e.target)&&this.closeMenu()}},{key:"focus",value:function(){this.input&&this.input.focus()}},{key:"blurInput",value:function(){this.input&&this.input.blur()}},{key:"handleTouchMove",value:function(e){this.dragging=!0}},{key:"handleTouchStart",value:function(e){this.dragging=!1}},{key:"handleTouchEnd",value:function(e){this.dragging||this.handleMouseDown(e)}},{key:"handleTouchEndClearValue",value:function(e){this.dragging||this.clearValue(e)}},{key:"handleMouseDown",value:function(e){if(!(this.props.disabled||"mousedown"===e.type&&0!==e.button))if("INPUT"!==e.target.tagName){if(e.preventDefault(),!this.props.searchable)return this.focus(),this.setState({isOpen:!this.state.isOpen});if(this.state.isFocused){this.focus();var t=this.input;"function"==typeof t.getInput&&(t=t.getInput()),t.value="",this.setState({isOpen:!0,isPseudoFocused:!1})}else this._openAfterFocus=this.props.openOnClick,this.focus()}else this.state.isFocused?this.state.isOpen||this.setState({isOpen:!0,isPseudoFocused:!1}):(this._openAfterFocus=this.props.openOnClick,this.focus())}},{key:"handleMouseDownOnArrow",value:function(e){this.props.disabled||"mousedown"===e.type&&0!==e.button||(this.state.isOpen||this.setState({isOpen:!0}),e.stopPropagation(),e.preventDefault(),this.state.isOpen&&this.closeMenu())}},{key:"handleMouseDownOnMenu",value:function(e){this.props.disabled||"mousedown"===e.type&&0!==e.button||(e.stopPropagation(),e.preventDefault(),this._openAfterFocus=!0,this.focus())}},{key:"closeMenu",value:function(){this.props.onCloseResetsInput?this.setState({isOpen:!1,isPseudoFocused:this.state.isFocused&&!this.props.multi,inputValue:this.handleInputValueChange("")}):this.setState({isOpen:!1,isPseudoFocused:this.state.isFocused&&!this.props.multi}),this.hasScrolledToOption=!1}},{key:"handleInputFocus",value:function(e){if(!this.props.disabled){var t=this.state.isOpen||this._openAfterFocus||this.props.openOnFocus;this.props.onFocus&&this.props.onFocus(e),this.setState({isFocused:!0,isOpen:t}),this._openAfterFocus=!1}}},{key:"handleInputBlur",value:function(e){if(!this.menu||this.menu!==document.activeElement&&!this.menu.contains(document.activeElement)){this.props.onBlur&&this.props.onBlur(e);var t={isFocused:!1,isOpen:!1,isPseudoFocused:!1};this.props.onBlurResetsInput&&(t.inputValue=this.handleInputValueChange("")),this.setState(t)}else this.focus()}},{key:"handleInputChange",value:function(e){var t=e.target.value;this.state.inputValue!==e.target.value&&(t=this.handleInputValueChange(t)),this.setState({isOpen:!0,isPseudoFocused:!1,inputValue:t})}},{key:"handleInputValueChange",value:function(e){if(this.props.onInputChange){var t=this.props.onInputChange(e);null!=t&&"object"!==(void 0===t?"undefined":x(t))&&(e=""+t)}return e}},{key:"handleKeyDown",value:function(e){if(!(this.props.disabled||"function"==typeof this.props.onInputKeyDown&&(this.props.onInputKeyDown(e),e.defaultPrevented))){switch(e.keyCode){case 8:return void(!this.state.inputValue&&this.props.backspaceRemoves&&(e.preventDefault(),this.popValue()));case 9:if(e.shiftKey||!this.state.isOpen||!this.props.tabSelectsValue)return;return e.preventDefault(),void this.selectFocusedOption();case 13:return e.preventDefault(),e.stopPropagation(),void(this.state.isOpen?this.selectFocusedOption():this.focusNextOption());case 27:this.state.isOpen?(this.closeMenu(),e.stopPropagation()):this.props.clearable&&this.props.escapeClearsValue&&(this.clearValue(e),e.stopPropagation());break;case 32:if(this.props.searchable)return;if(e.preventDefault(),!this.state.isOpen)return void this.focusNextOption();e.stopPropagation(),this.selectFocusedOption();break;case 38:this.focusPreviousOption();break;case 40:this.focusNextOption();break;case 33:this.focusPageUpOption();break;case 34:this.focusPageDownOption();break;case 35:if(e.shiftKey)return;this.focusEndOption();break;case 36:if(e.shiftKey)return;this.focusStartOption();break;case 46:return void(!this.state.inputValue&&this.props.deleteRemoves&&(e.preventDefault(),this.popValue()));default:return}e.preventDefault()}}},{key:"handleValueClick",value:function(e,t){this.props.onValueClick&&this.props.onValueClick(e,t)}},{key:"handleMenuScroll",value:function(e){if(this.props.onMenuScrollToBottom){var t=e.target;t.scrollHeight>t.offsetHeight&&t.scrollHeight-t.offsetHeight-t.scrollTop<=0&&this.props.onMenuScrollToBottom()}}},{key:"handleRequired",value:function(e,t){return!e||(t?0===e.length:0===Object.keys(e).length)}},{key:"getOptionLabel",value:function(e){return e[this.props.labelKey]}},{key:"getValueArray",value:function(e,t){var n=this,o="object"===(void 0===t?"undefined":x(t))?t:this.props;if(o.multi){if("string"==typeof e&&(e=e.split(o.delimiter)),!Array.isArray(e)){if(null===e||void 0===e)return[];e=[e]}return e.map(function(e){return n.expandValue(e,o)}).filter(function(e){return e})}var r=this.expandValue(e,o);return r?[r]:[]}},{key:"expandValue",value:function(e,t){var n=void 0===e?"undefined":x(e);if("string"!==n&&"number"!==n&&"boolean"!==n)return e;var o=t.options,r=t.valueKey;if(o)for(var i=0;i<o.length;i++)if(String(o[i][r])===String(e))return o[i]}},{key:"setValue",value:function(e){var t=this;if(this.props.autoBlur&&this.blurInput(),this.props.required){var n=this.handleRequired(e,this.props.multi);this.setState({required:n})}this.props.onChange&&(this.props.simpleValue&&e&&(e=this.props.multi?e.map(function(e){return e[t.props.valueKey]}).join(this.props.delimiter):e[this.props.valueKey]),this.props.onChange(e))}},{key:"selectValue",value:function(e){var t=this;if(this.props.closeOnSelect&&(this.hasScrolledToOption=!1),this.props.multi){var n=this.props.onSelectResetsInput?"":this.state.inputValue;this.setState({focusedIndex:null,inputValue:this.handleInputValueChange(n),isOpen:!this.props.closeOnSelect},function(){t.getValueArray(t.props.value).some(function(n){return n[t.props.valueKey]===e[t.props.valueKey]})?t.removeValue(e):t.addValue(e)})}else this.setState({inputValue:this.handleInputValueChange(""),isOpen:!this.props.closeOnSelect,isPseudoFocused:this.state.isFocused},function(){t.setValue(e)})}},{key:"addValue",value:function(e){var t=this.getValueArray(this.props.value),n=this._visibleOptions.filter(function(e){return!e.disabled}),o=n.indexOf(e);this.setValue(t.concat(e)),n.length-1===o?this.focusOption(n[o-1]):n.length>o&&this.focusOption(n[o+1])}},{key:"popValue",value:function(){var e=this.getValueArray(this.props.value);e.length&&!1!==e[e.length-1].clearableValue&&this.setValue(this.props.multi?e.slice(0,e.length-1):null)}},{key:"removeValue",value:function(e){var t=this,n=this.getValueArray(this.props.value);this.setValue(n.filter(function(n){return n[t.props.valueKey]!==e[t.props.valueKey]})),this.focus()}},{key:"clearValue",value:function(e){e&&"mousedown"===e.type&&0!==e.button||(e.preventDefault(),this.setValue(this.getResetValue()),this.setState({isOpen:!1,inputValue:this.handleInputValueChange("")},this.focus))}},{key:"getResetValue",value:function(){return void 0!==this.props.resetValue?this.props.resetValue:this.props.multi?[]:null}},{key:"focusOption",value:function(e){this.setState({focusedOption:e})}},{key:"focusNextOption",value:function(){this.focusAdjacentOption("next")}},{key:"focusPreviousOption",value:function(){this.focusAdjacentOption("previous")}},{key:"focusPageUpOption",value:function(){this.focusAdjacentOption("page_up")}},{key:"focusPageDownOption",value:function(){this.focusAdjacentOption("page_down")}},{key:"focusStartOption",value:function(){this.focusAdjacentOption("start")}},{key:"focusEndOption",value:function(){this.focusAdjacentOption("end")}},{key:"focusAdjacentOption",value:function(e){var t=this._visibleOptions.map(function(e,t){return{option:e,index:t}}).filter(function(e){return!e.option.disabled});if(this._scrollToFocusedOptionOnUpdate=!0,this.state.isOpen){if(t.length){for(var n=-1,o=0;o<t.length;o++)if(this._focusedOption===t[o].option){n=o;break}if("next"===e&&-1!==n)n=(n+1)%t.length;else if("previous"===e)n>0?n-=1:n=t.length-1;else if("start"===e)n=0;else if("end"===e)n=t.length-1;else if("page_up"===e)n=(r=n-this.props.pageSize)<0?0:r;else if("page_down"===e){var r;n=(r=n+this.props.pageSize)>t.length-1?t.length-1:r}-1===n&&(n=0),this.setState({focusedIndex:t[n].index,focusedOption:t[n].option})}}else this.setState({isOpen:!0,inputValue:"",focusedOption:this._focusedOption||(t.length?t["next"===e?0:t.length-1].option:null)})}},{key:"getFocusedOption",value:function(){return this._focusedOption}},{key:"selectFocusedOption",value:function(){if(this._focusedOption)return this.selectValue(this._focusedOption)}},{key:"renderLoading",value:function(){if(this.props.isLoading)return g.a.createElement("span",{className:"Select-loading-zone","aria-hidden":"true"},g.a.createElement("span",{className:"Select-loading"}))}},{key:"renderValue",value:function(e,t){var n=this,o=this.props.valueRenderer||this.getOptionLabel,r=this.props.valueComponent;if(!e.length)return this.state.inputValue?null:g.a.createElement("div",{className:"Select-placeholder"},this.props.placeholder);var i=this.props.onValueClick?this.handleValueClick:null;return this.props.multi?e.map(function(e,t){return g.a.createElement(r,{id:n._instancePrefix+"-value-"+t,instancePrefix:n._instancePrefix,disabled:n.props.disabled||!1===e.clearableValue,key:"value-"+t+"-"+e[n.props.valueKey],onClick:i,onRemove:n.removeValue,value:e},o(e,t),g.a.createElement("span",{className:"Select-aria-only"},""))}):this.state.inputValue?void 0:(t&&(i=null),g.a.createElement(r,{id:this._instancePrefix+"-value-item",disabled:this.props.disabled,instancePrefix:this._instancePrefix,onClick:i,value:e[0]},o(e[0])))}},{key:"renderInput",value:function(e,t){var n,o=this,r=C()("Select-input",this.props.inputProps.className),i=!!this.state.isOpen,s=C()((n={},A(n,this._instancePrefix+"-list",i),A(n,this._instancePrefix+"-backspace-remove-message",this.props.multi&&!this.props.disabled&&this.state.isFocused&&!this.state.inputValue),n)),a=T({},this.props.inputProps,{role:"combobox","aria-expanded":""+i,"aria-owns":s,"aria-haspopup":""+i,"aria-activedescendant":i?this._instancePrefix+"-option-"+t:this._instancePrefix+"-value","aria-describedby":this.props["aria-describedby"],"aria-labelledby":this.props["aria-labelledby"],"aria-label":this.props["aria-label"],className:r,tabIndex:this.props.tabIndex,onBlur:this.handleInputBlur,onChange:this.handleInputChange,onFocus:this.handleInputFocus,ref:function(e){return o.input=e},required:this.state.required,value:this.state.inputValue});if(this.props.inputRenderer)return this.props.inputRenderer(a);if(this.props.disabled||!this.props.searchable){var u=this.props.inputProps,l=(u.inputClassName,D(u,["inputClassName"])),c=C()(A({},this._instancePrefix+"-list",i));return g.a.createElement("div",T({},l,{role:"combobox","aria-expanded":i,"aria-owns":c,"aria-activedescendant":i?this._instancePrefix+"-option-"+t:this._instancePrefix+"-value","aria-labelledby":this.props["aria-labelledby"],"aria-label":this.props["aria-label"],className:r,tabIndex:this.props.tabIndex||0,onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,ref:function(e){return o.input=e},"aria-disabled":""+!!this.props.disabled,style:{border:0,width:1,display:"inline-block"}}))}return this.props.autosize?g.a.createElement(b.a,T({id:this.props.id},a,{minWidth:"5"})):g.a.createElement("div",{className:r,key:"input-wrap"},g.a.createElement("input",T({id:this.props.id},a)))}},{key:"renderClear",value:function(){var e=this.getValueArray(this.props.value);if(this.props.clearable&&e.length&&!this.props.disabled&&!this.props.isLoading){var t=this.props.clearRenderer();return g.a.createElement("span",{className:"Select-clear-zone",title:this.props.multi?this.props.clearAllText:this.props.clearValueText,"aria-label":this.props.multi?this.props.clearAllText:this.props.clearValueText,onMouseDown:this.clearValue,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEndClearValue},t)}}},{key:"renderArrow",value:function(){if(this.props.arrowRenderer){var e=this.handleMouseDownOnArrow,t=this.state.isOpen,n=this.props.arrowRenderer({onMouseDown:e,isOpen:t});return n?g.a.createElement("span",{className:"Select-arrow-zone",onMouseDown:e},n):null}}},{key:"filterOptions",value:function(e){var t=this.state.inputValue,n=this.props.options||[];if(this.props.filterOptions){return("function"==typeof this.props.filterOptions?this.props.filterOptions:i)(n,t,e,{filterOption:this.props.filterOption,ignoreAccents:this.props.ignoreAccents,ignoreCase:this.props.ignoreCase,labelKey:this.props.labelKey,matchPos:this.props.matchPos,matchProp:this.props.matchProp,valueKey:this.props.valueKey,trimFilter:this.props.trimFilter})}return n}},{key:"onOptionRef",value:function(e,t){t&&(this.focused=e)}},{key:"renderMenu",value:function(e,t,n){return e&&e.length?this.props.menuRenderer({focusedOption:n,focusOption:this.focusOption,inputValue:this.state.inputValue,instancePrefix:this._instancePrefix,labelKey:this.props.labelKey,onFocus:this.focusOption,onSelect:this.selectValue,optionClassName:this.props.optionClassName,optionComponent:this.props.optionComponent,optionRenderer:this.props.optionRenderer||this.getOptionLabel,options:e,selectValue:this.selectValue,removeValue:this.removeValue,valueArray:t,valueKey:this.props.valueKey,onOptionRef:this.onOptionRef}):this.props.noResultsText?g.a.createElement("div",{className:"Select-noresults"},this.props.noResultsText):null}},{key:"renderHiddenField",value:function(e){var t=this;if(this.props.name){if(this.props.joinValues){var n=e.map(function(e){return j(e[t.props.valueKey])}).join(this.props.delimiter);return g.a.createElement("input",{type:"hidden",ref:function(e){return t.value=e},name:this.props.name,value:n,disabled:this.props.disabled})}return e.map(function(e,n){return g.a.createElement("input",{key:"hidden."+n,type:"hidden",ref:"value"+n,name:t.props.name,value:j(e[t.props.valueKey]),disabled:t.props.disabled})})}}},{key:"getFocusableOptionIndex",value:function(e){var t=this._visibleOptions;if(!t.length)return null;var n=this.props.valueKey,o=this.state.focusedOption||e;if(o&&!o.disabled){var r=-1;if(t.some(function(e,t){var i=e[n]===o[n];return i&&(r=t),i}),-1!==r)return r}for(var i=0;i<t.length;i++)if(!t[i].disabled)return i;return null}},{key:"renderOuter",value:function(e,t,n){var o=this,r=this.renderMenu(e,t,n);return r?g.a.createElement("div",{ref:function(e){return o.menuContainer=e},className:"Select-menu-outer",style:this.props.menuContainerStyle},g.a.createElement("div",{ref:function(e){return o.menu=e},role:"listbox",tabIndex:-1,className:"Select-menu",id:this._instancePrefix+"-list",style:this.props.menuStyle,onScroll:this.handleMenuScroll,onMouseDown:this.handleMouseDownOnMenu},r)):null}},{key:"render",value:function(){var e=this,t=this.getValueArray(this.props.value),n=this._visibleOptions=this.filterOptions(this.props.multi&&this.props.removeSelected?t:null),o=this.state.isOpen;this.props.multi&&!n.length&&t.length&&!this.state.inputValue&&(o=!1);var r=this.getFocusableOptionIndex(t[0]),i=null;i=this._focusedOption=null!==r?n[r]:null;var s=C()("Select",this.props.className,{"Select--multi":this.props.multi,"Select--single":!this.props.multi,"is-clearable":this.props.clearable,"is-disabled":this.props.disabled,"is-focused":this.state.isFocused,"is-loading":this.props.isLoading,"is-open":o,"is-pseudo-focused":this.state.isPseudoFocused,"is-searchable":this.props.searchable,"has-value":t.length,"Select--rtl":this.props.rtl}),a=null;return this.props.multi&&!this.props.disabled&&t.length&&!this.state.inputValue&&this.state.isFocused&&this.props.backspaceRemoves&&(a=g.a.createElement("span",{id:this._instancePrefix+"-backspace-remove-message",className:"Select-aria-only","aria-live":"assertive"},this.props.backspaceToRemoveMessage.replace("{label}",t[t.length-1][this.props.labelKey]))),g.a.createElement("div",{ref:function(t){return e.wrapper=t},className:s,style:this.props.wrapperStyle},this.renderHiddenField(t),g.a.createElement("div",{ref:function(t){return e.control=t},className:"Select-control",style:this.props.style,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleTouchEnd,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove},g.a.createElement("span",{className:"Select-multi-value-wrapper",id:this._instancePrefix+"-value"},this.renderValue(t,o),this.renderInput(t,r)),a,this.renderLoading(),this.renderClear(),this.renderArrow()),o?this.renderOuter(n,t,i):null)}}]),t}(g.a.Component);F.propTypes={"aria-describedby":v.a.string,"aria-label":v.a.string,"aria-labelledby":v.a.string,arrowRenderer:v.a.func,autoBlur:v.a.bool,autoFocus:v.a.bool,autofocus:v.a.bool,autosize:v.a.bool,backspaceRemoves:v.a.bool,backspaceToRemoveMessage:v.a.string,className:v.a.string,clearAllText:I,clearRenderer:v.a.func,clearValueText:I,clearable:v.a.bool,closeOnSelect:v.a.bool,deleteRemoves:v.a.bool,delimiter:v.a.string,disabled:v.a.bool,escapeClearsValue:v.a.bool,filterOption:v.a.func,filterOptions:v.a.any,id:v.a.string,ignoreAccents:v.a.bool,ignoreCase:v.a.bool,inputProps:v.a.object,inputRenderer:v.a.func,instanceId:v.a.string,isLoading:v.a.bool,joinValues:v.a.bool,labelKey:v.a.string,matchPos:v.a.string,matchProp:v.a.string,menuBuffer:v.a.number,menuContainerStyle:v.a.object,menuRenderer:v.a.func,menuStyle:v.a.object,multi:v.a.bool,name:v.a.string,noResultsText:I,onBlur:v.a.func,onBlurResetsInput:v.a.bool,onChange:v.a.func,onClose:v.a.func,onCloseResetsInput:v.a.bool,onFocus:v.a.func,onInputChange:v.a.func,onInputKeyDown:v.a.func,onMenuScrollToBottom:v.a.func,onOpen:v.a.func,onSelectResetsInput:v.a.bool,onValueClick:v.a.func,openOnClick:v.a.bool,openOnFocus:v.a.bool,optionClassName:v.a.string,optionComponent:v.a.func,optionRenderer:v.a.func,options:v.a.array,pageSize:v.a.number,placeholder:I,removeSelected:v.a.bool,required:v.a.bool,resetValue:v.a.any,rtl:v.a.bool,scrollMenuIntoView:v.a.bool,searchable:v.a.bool,simpleValue:v.a.bool,style:v.a.object,tabIndex:M,tabSelectsValue:v.a.bool,trimFilter:v.a.bool,value:v.a.any,valueComponent:v.a.func,valueKey:v.a.string,valueRenderer:v.a.func,wrapperStyle:v.a.object},F.defaultProps={arrowRenderer:o,autosize:!0,backspaceRemoves:!0,backspaceToRemoveMessage:"Press backspace to remove {label}",clearable:!0,clearAllText:"Clear all",clearRenderer:a,clearValueText:"Clear value",closeOnSelect:!0,deleteRemoves:!0,delimiter:",",disabled:!1,escapeClearsValue:!0,filterOptions:i,ignoreAccents:!0,ignoreCase:!0,inputProps:{},isLoading:!1,joinValues:!1,labelKey:"label",matchPos:"any",matchProp:"any",menuBuffer:0,menuRenderer:s,multi:!1,noResultsText:"No results found",onBlurResetsInput:!0,onSelectResetsInput:!0,onCloseResetsInput:!0,openOnClick:!0,optionComponent:N,pageSize:5,placeholder:"Select...",removeSelected:!0,required:!1,rtl:!1,scrollMenuIntoView:!0,searchable:!0,simpleValue:!1,tabSelectsValue:!0,trimFilter:!0,valueComponent:R,valueKey:"value"};var U={autoload:v.a.bool.isRequired,cache:v.a.any,children:v.a.func.isRequired,ignoreAccents:v.a.bool,ignoreCase:v.a.bool,loadOptions:v.a.func.isRequired,loadingPlaceholder:v.a.oneOfType([v.a.string,v.a.node]),multi:v.a.bool,noResultsText:v.a.oneOfType([v.a.string,v.a.node]),onChange:v.a.func,onInputChange:v.a.func,options:v.a.array.isRequired,placeholder:v.a.oneOfType([v.a.string,v.a.node]),searchPromptText:v.a.oneOfType([v.a.string,v.a.node]),value:v.a.any},H={},B={autoload:!0,cache:H,children:function(e){return g.a.createElement(F,e)},ignoreAccents:!0,ignoreCase:!0,loadingPlaceholder:"Loading...",options:[],searchPromptText:"Type to search"},G=function(e){function t(e,n){O(this,t);var o=k(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o._cache=e.cache===H?{}:e.cache,o.state={inputValue:"",isLoading:!1,options:e.options},o.onInputChange=o.onInputChange.bind(o),o}return P(t,e),S(t,[{key:"componentDidMount",value:function(){this.props.autoload&&this.loadOptions("")}},{key:"componentWillReceiveProps",value:function(e){e.options!==this.props.options&&this.setState({options:e.options})}},{key:"componentWillUnmount",value:function(){this._callback=null}},{key:"loadOptions",value:function(e){var t=this,n=this.props.loadOptions,o=this._cache;if(o&&Object.prototype.hasOwnProperty.call(o,e))return this._callback=null,void this.setState({isLoading:!1,options:o[e]});var r=function n(r,i){var s=i&&i.options||[];o&&(o[e]=s),n===t._callback&&(t._callback=null,t.setState({isLoading:!1,options:s}))};this._callback=r;var i=n(e,r);i&&i.then(function(e){return r(0,e)},function(e){return r()}),this._callback&&!this.state.isLoading&&this.setState({isLoading:!0})}},{key:"onInputChange",value:function(e){var t=this.props,n=t.ignoreAccents,o=t.ignoreCase,i=t.onInputChange,s=e;if(i){var a=i(s);null!=a&&"object"!==(void 0===a?"undefined":x(a))&&(s=""+a)}var u=s;return n&&(u=r(u)),o&&(u=u.toLowerCase()),this.setState({inputValue:s}),this.loadOptions(u),s}},{key:"noResultsText",value:function(){var e=this.props,t=e.loadingPlaceholder,n=e.noResultsText,o=e.searchPromptText,r=this.state,i=r.inputValue;return r.isLoading?t:i&&n?n:o}},{key:"focus",value:function(){this.select.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,o=t.loadingPlaceholder,r=(t.multi,t.onChange,t.placeholder),i=this.state,s=i.isLoading,a=i.options,u={noResultsText:this.noResultsText(),placeholder:s?o:r,options:s&&o?[]:a,ref:function(t){return e.select=t}};return n(T({},this.props,u,{isLoading:s,onInputChange:this.onInputChange}))}}]),t}(h.Component);G.propTypes=U,G.defaultProps=B;var W=function(e){function t(e,n){O(this,t);var o=k(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.filterOptions=o.filterOptions.bind(o),o.menuRenderer=o.menuRenderer.bind(o),o.onInputKeyDown=o.onInputKeyDown.bind(o),o.onInputChange=o.onInputChange.bind(o),o.onOptionSelect=o.onOptionSelect.bind(o),o}return P(t,e),S(t,[{key:"createNewOption",value:function(){var e=this.props,t=e.isValidNewOption,n=e.newOptionCreator,o=e.onNewOptionClick,r=e.options,i=void 0===r?[]:r;if(t({label:this.inputValue})){var s=n({label:this.inputValue,labelKey:this.labelKey,valueKey:this.valueKey});this.isOptionUnique({option:s})&&(o?o(s):(i.unshift(s),this.select.selectValue(s)))}}},{key:"filterOptions",value:function(){var e=this.props,t=e.filterOptions,n=e.isValidNewOption,o=e.promptTextCreator,r=(arguments.length<=2?void 0:arguments[2])||[],i=t.apply(void 0,arguments)||[];if(n({label:this.inputValue})){var s=this.props.newOptionCreator,a=s({label:this.inputValue,labelKey:this.labelKey,valueKey:this.valueKey});if(this.isOptionUnique({option:a,options:r.concat(i)})){var u=o(this.inputValue);this._createPlaceholderOption=s({label:u,labelKey:this.labelKey,valueKey:this.valueKey}),i.unshift(this._createPlaceholderOption)}}return i}},{key:"isOptionUnique",value:function(e){var t=e.option,n=e.options,o=this.props.isOptionUnique;return n=n||this.props.options,o({labelKey:this.labelKey,option:t,options:n,valueKey:this.valueKey})}},{key:"menuRenderer",value:function(e){return(0,this.props.menuRenderer)(T({},e,{onSelect:this.onOptionSelect,selectValue:this.onOptionSelect}))}},{key:"onInputChange",value:function(e){var t=this.props.onInputChange;return this.inputValue=e,t&&(this.inputValue=t(e)),this.inputValue}},{key:"onInputKeyDown",value:function(e){var t=this.props,n=t.shouldKeyDownEventCreateNewOption,o=t.onInputKeyDown,r=this.select.getFocusedOption();r&&r===this._createPlaceholderOption&&n({keyCode:e.keyCode})?(this.createNewOption(),e.preventDefault()):o&&o(e)}},{key:"onOptionSelect",value:function(e,t){e===this._createPlaceholderOption?this.createNewOption():this.select.selectValue(e)}},{key:"focus",value:function(){this.select.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=(t.newOptionCreator,t.shouldKeyDownEventCreateNewOption,t.ref),o=D(t,["newOptionCreator","shouldKeyDownEventCreateNewOption","ref"]),r=this.props.children;return r||(r=u),r(T({},o,{allowCreate:!0,filterOptions:this.filterOptions,menuRenderer:this.menuRenderer,onInputChange:this.onInputChange,onInputKeyDown:this.onInputKeyDown,ref:function(t){e.select=t,t&&(e.labelKey=t.props.labelKey,e.valueKey=t.props.valueKey),n&&n(t)}}))}}]),t}(g.a.Component);W.isOptionUnique=l,W.isValidNewOption=c,W.newOptionCreator=d,W.promptTextCreator=p,W.shouldKeyDownEventCreateNewOption=f,W.defaultProps={filterOptions:i,isOptionUnique:l,isValidNewOption:c,menuRenderer:s,newOptionCreator:d,promptTextCreator:p,shouldKeyDownEventCreateNewOption:f},W.propTypes={children:v.a.func,filterOptions:v.a.any,isOptionUnique:v.a.func,isValidNewOption:v.a.func,menuRenderer:v.a.any,newOptionCreator:v.a.func,onInputChange:v.a.func,onInputKeyDown:v.a.func,onNewOptionClick:v.a.func,options:v.a.array,promptTextCreator:v.a.func,ref:v.a.func,shouldKeyDownEventCreateNewOption:v.a.func};var z=function(e){function t(){return O(this,t),k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P(t,e),S(t,[{key:"focus",value:function(){this.select.focus()}},{key:"render",value:function(){var e=this;return g.a.createElement(G,this.props,function(t){var n=t.ref,o=D(t,["ref"]),r=n;return g.a.createElement(W,o,function(t){var n=t.ref,o=D(t,["ref"]),i=n;return e.props.children(T({},o,{ref:function(t){i(t),r(t),e.select=t}}))})})}}]),t}(g.a.Component);z.propTypes={children:v.a.func.isRequired},z.defaultProps={children:function(e){return g.a.createElement(F,e)}},F.Async=G,F.AsyncCreatable=z,F.Creatable=W,F.Value=R,F.Option=N,t.default=F},function(e,t,n){var o;!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var i=typeof o;if("string"===i||"number"===i)e.push(this&&this[o]||o);else if(Array.isArray(o))e.push(n.apply(this,o));else if("object"===i)for(var s in o)r.call(o,s)&&o[s]&&e.push(this&&this[s]||s)}}return e.join(" ")}var r={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=n:void 0===(o=function(){return n}.apply(t,[]))||(e.exports=o)}()},function(e,t,n){var o=n(21),r=n(46);e.exports=n(27)?function(e,t,n){return o.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var o=n(45);e.exports=function(e){if(!o(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var o=n(140),r=n(75);e.exports=function(e){return o(r(e))}},function(e,t,n){"use strict";e.exports=function(e,t,n,o,r,i,s,a){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,o,r,i,s,a],c=0;(u=new Error(t.replace(/%s/g,function(){return l[c++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var o=Array.isArray,r=Object.keys,i=Object.prototype.hasOwnProperty;e.exports=function e(t,n){if(t===n)return!0;var s,a,u,l=o(t),c=o(n);if(l&&c){if((a=t.length)!=n.length)return!1;for(s=0;s<a;s++)if(!e(t[s],n[s]))return!1;return!0}if(l!=c)return!1;var d=t instanceof Date,p=n instanceof Date;if(d!=p)return!1;if(d&&p)return t.getTime()==n.getTime();var f=t instanceof RegExp,h=n instanceof RegExp;if(f!=h)return!1;if(f&&h)return t.toString()==n.toString();if(t instanceof Object&&n instanceof Object){var g=r(t);if((a=g.length)!==r(n).length)return!1;for(s=0;s<a;s++)if(!i.call(n,g[s]))return!1;for(s=0;s<a;s++)if(u=g[s],!e(t[u],n[u]))return!1;return!0}return!1}},function(e,t,n){"use strict";(function(e){var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var u=n(4),l=n(0),c=n(1),d=n(3),p=n(11),f=n(17),h=n(14),g=n(18),m=n(16),v=n(121),_=n(59),y=n(126),b=n(127),E=n(241),C=n(60),w=n(14);t.mapExits=function(e){return e.reduce(function(e,t){return e[t.uuid]=t,e},{})},t.isSwitchForm=function(e){return"wait_for_response"===e||"split_by_expression"===e||"split_by_groups"===e},t.hasSwitchRouter=function(e){return e.router&&e.router.hasOwnProperty("operand")},t.getAction=function(e,t){var n;if(e){if(e.type===t.type||t.aliases&&e.type===t.aliases[0])return e;n=e.uuid}var o={type:t.type,uuid:n||p.v4()};switch(t.type){case"send_msg":o=r({},o,{text:"",all_urns:!1});break;case"add_contact_groups":case"remove_contact_groups":o=r({},o,{groups:null});break;case"set_contact_field":o=r({},o,{field:{key:"",name:""},value:""});break;case"send_email":o=r({},o,{subject:"",body:"",addresses:null});break;case"set_run_result":o=r({},o,{name:"",value:"",category:""});break;case"call_webhook":o=r({},o,{url:"",method:h.Methods.GET});break;case"start_flow":o=r({},o,{flow:{name:null,uuid:null}})}return o},t.resolveExits=function(e,t){var n={};if(t.exits)try{for(var o=i(t.exits),r=o.next();!r.done;r=o.next())n[(g=r.value).uuid]=g}catch(e){w={error:e}}finally{try{r&&!r.done&&(x=o.return)&&x.call(o)}finally{if(w)throw w.error}}var s=[],a=[];try{for(var u=i(e),l=u.next();!l.done;l=u.next()){var c=l.value,d=null;if(!c.exitName&&c.kase.exit_uuid in n&&(c.exitName=n[c.kase.exit_uuid].name),c.exitName&&0!==c.exitName.trim().length){if(c.exitName){try{for(var f=i(s),h=f.next();!h.done;h=f.next()){var g=h.value;if(c.exitName&&g.name&&g.name.toLowerCase()===c.exitName.trim().toLowerCase()){d=g;break}}}catch(e){A={error:e}}finally{try{h&&!h.done&&(T=f.return)&&T.call(f)}finally{if(A)throw A.error}}if(!d&&t.exits)try{for(var m=i(t.exits),v=m.next();!v.done;v=m.next())if(g=v.value,c.exitName&&g.name&&g.name.toLowerCase()===c.exitName.trim().toLowerCase()){d=g,s.push(d);break}}catch(e){P={error:e}}finally{try{v&&!v.done&&(D=m.return)&&D.call(m)}finally{if(P)throw P.error}}}if(d)c.kase.exit_uuid=d.uuid;else{var _=null;c.kase.exit_uuid in n&&(_=n[c.kase.exit_uuid].destination_node_uuid),c.kase.exit_uuid=p.v4(),s.push({name:c.exitName,uuid:c.kase.exit_uuid,destination_node_uuid:_})}a.push(c.kase)}}}catch(e){O={error:e}}finally{try{l&&!l.done&&(S=u.return)&&S.call(u)}finally{if(O)throw O.error}}var y=p.v4();if(t.router&&"switch"===t.router.type){var b=t.router;b&&b.default_exit_uuid&&(y=b.default_exit_uuid)}var E="All Responses";t.wait&&"exp"===t.wait.type&&(E="Any Value "),s.length>0&&(E="Other");var C=null;return y in n&&(C=n[y].destination_node_uuid),s.push({uuid:y,name:E,destination_node_uuid:C}),{cases:a,exits:s,defaultExit:y};var w,x,O,S,A,T,P,D},t.hasCases=function(e){return!!(e.router&&e.router.cases&&e.router.cases.length)},t.hasWait=function(e,t){return!(!(e&&e.wait&&e.wait.type)||t&&e.wait.type!==t)&&e.wait.type in h.WaitTypes},t.groupsToCases=function(e){return void 0===e&&(e=[]),e.map(function(e){var t=e.name,n=e.id;return{kase:{uuid:n,type:C.Operators.has_group,arguments:[n],exit_uuid:""},exitName:t}})},t.FormContainer=function(e){var t=e.children,n=e.onKeyPress,o=e.__className;return l.createElement("div",{className:o||null},l.createElement("div",{className:b.node_editor},l.createElement("form",{onKeyPress:n},t)))};var x=function(n){function c(e){var t=n.call(this,e)||this;return t.widgets={},t.advancedWidgets={},u.react(t,{include:[/^get/,/^on/,/Ref$/,/^get/,/^add/,/^update/,/Localizations$/,"toggleAdvanced","triggerFormUpdate","removeWidget"]}),t.initialButtons={primary:{name:"Save",onClick:t.onSave},secondary:{name:"Cancel",onClick:t.onCancel}},t}return o(c,n),c.prototype.formRef=function(e){return this.form=e},c.prototype.modalRef=function(e){return this.modal=e},c.prototype.onBindWidget=function(e){e&&this.widgets&&(this.widgets[e.props.name]=e)},c.prototype.onBindAdvancedWidget=function(e){e&&(this.onBindWidget(e),this.advancedWidgets[e.props.name]=!0)},c.prototype.onSave=function(){this.submit()&&this.close(!1)},c.prototype.onCancel=function(){this.close(!0)},c.prototype.onKeyPress=function(t){13===t.which&&("TEXTAREA"===e(t.target).prop("tagName")&&!t.shiftKey||(t.preventDefault(),this.submit()&&this.close(!1)))},c.prototype.onTypeChange=function(e){this.widgets={},this.advancedWidgets={},this.props.updateTypeConfig(e)},c.prototype.onShowNameField=function(){this.props.updateShowResultName(!0)},c.prototype.onResultNameChange=function(e){var t=e.target.value;this.props.updateResultName(t)},c.prototype.onExpressionChanged=function(e){var t=e.currentTarget.value;this.props.updateOperand(t)},c.prototype.getResultNameField=function(){var e;return e=this.props.showResultName?l.createElement(m.default,{"data-spec":"name-field",ref:this.onBindWidget,name:"Result Name",showLabel:!0,value:this.props.resultName,onChange:this.onResultNameChange,helpText:"By naming the result, you can reference it later using @run.results.whatever_the_name_is"}):l.createElement("span",{"data-spec":"name-field",className:b.saveLink,onClick:this.onShowNameField},"Save as.."),l.createElement("div",{className:b.saveAs},e)},c.prototype.updateLocalizations=function(e,t){this.props.onUpdateLocalizations(e,t)},c.prototype.cleanUpLocalizations=function(e){var n,o=this,r=this.props.nodeToEdit,i=(r.uuid,r.exits),s=t.mapExits(i),a=[];Object.keys(this.props.definition.localization).forEach(function(e){var t=o.props.definition.localization[e];Object.keys(t).forEach(function(t){if(s[t]){var o=s[t];!o.name||"All Responses"!==o.name&&"Other"!==o.name||(n=e,a.push({uuid:t}))}})}),this.updateLocalizations(n,a)},c.prototype.getLocalizedExits=function(e){return this.props.nodeToEdit.exits.reduce(function(t,n){var o=n.uuid,r=e[o];if(r){var i=r.wrappedInstance.state.value.constructor===Array?r.wrappedInstance.state.value[0].trim():r.wrappedInstance.state.value.trim();i?t.push({uuid:o,translations:{name:[i]}}):t.push({uuid:o,translations:null})}return t},[])},c.prototype.saveLocalizations=function(e,t){var n=a(this.getLocalizedExits(e));t&&t.length&&n.push.apply(n,a(this.getLocalizedCases(e))),this.updateLocalizations(this.props.language.iso,n)},c.prototype.getLocalizedCases=function(e){var t=[];return this.props.nodeToEdit.router.cases.forEach(function(n){var o=n.uuid,r=e[o];if(r){var i=r.hasOwnProperty("wrappedInstance")?r.wrappedInstance.state.value.trim():r.state.value.trim();i?t.push({uuid:o,translations:{arguments:[i]}}):t.push({uuid:o,translations:null})}}),t},c.prototype.getExitTranslations=function(){var e=this,t="Spanish";if(this.props.translating&&(t=this.props.language.name),!t)return null;var n=this.props.nodeToEdit.exits.reduce(function(n,o){var r=o.uuid,i=o.name,a=s(e.props.localizations.filter(function(e){return e.getObject().uuid===r}),1)[0];if(a){var u="";"name"in a.localizedKeys&&(u=a.getObject().name);var c=t+" Translation";n.push(l.createElement("div",{key:r,className:b.translating_exit},l.createElement("div",{"data-spec":"exit-name",className:b.translating_from},i),l.createElement("div",{className:b.translating_to},l.createElement(m.default,{"data-spec":"localization-input",ref:e.onBindWidget,name:r,placeholder:c,showLabel:!1,value:u}))))}return n},[]);return l.createElement("div",null,l.createElement("div",{"data-spec":"title",className:b.title},"Categories"),l.createElement("div",{"data-spec":"instructions",className:b.instructions},"When category names are referenced later in the flow, the appropriate language for the category will be used. If no translation is provided, the original text will be used."),l.createElement("div",{className:b.translating_exits},n))},c.prototype.submit=function(){var e=this,t=Object.keys(this.widgets).reduce(function(t,n){var o=e.widgets[n];return o.wrappedInstance?o.wrappedInstance.validate()||t.push(o):o.validate()||t.push(o),t},[]);if(!t.length)return this.form.wrappedInstance?this.form.wrappedInstance.onValid(this.widgets):this.form.onValid(this.widgets),!0;var n=!1;try{for(var o=i(t),r=o.next();!r.done;r=o.next()){var s=r.value;if(!this.advancedWidgets[s.props.name]){n=!0;break}}}catch(e){a={error:e}}finally{try{r&&!r.done&&(u=o.return)&&u.call(o)}finally{if(a)throw a.error}}return(n&&this.modal.state.flipped||!n&&!this.modal.state.flipped)&&this.toggleAdvanced(),!1;var a,u},c.prototype.close=function(e){if(this.widgets={},this.advancedWidgets={},e&&this.props.pendingConnection){var t=this.props.nodes[this.props.pendingConnection.nodeUUID];try{for(var n=i(t.node.exits),o=n.next();!o.done;o=n.next()){var r=o.value;if(r.uuid===this.props.pendingConnection.exitUUID){this.props.plumberConnectExit(t.node,r);break}}}catch(e){s={error:e}}finally{try{o&&!o.done&&(a=n.return)&&a.call(n)}finally{if(s)throw s.error}}}this.props.resetNodeEditingState(),this.props.updateUserAddingAction(!1),this.props.updateNodeEditorOpen(!1);var s,a},c.prototype.triggerFormUpdate=function(){this.form.wrappedInstance?this.form.wrappedInstance.onUpdateForm(this.widgets):this.form.onUpdateForm(this.widgets),this.advanced&&(this.advanced.wrappedInstance?this.advanced.wrappedInstance.onUpdateForm(this.widgets):this.advanced.onUpdateForm(this.widgets))},c.prototype.toggleAdvanced=function(){this.modal&&this.modal.toggleFlip()},c.prototype.removeWidget=function(e){delete this.widgets[e]},c.prototype.updateAction=function(e){this.props.onUpdateAction(e)},c.prototype.updateSwitchRouter=function(e){this.props.definition.localization&&Object.keys(this.props.definition.localization).length&&this.cleanUpLocalizations(e);var n=t.resolveExits(e,this.props.nodeToEdit),o=n.cases,i=n.exits,s=n.defaultExit,a={};this.props.resultName&&(a.result_name=this.props.resultName);var u=r({type:"switch",default_exit_uuid:s,cases:o,operand:this.props.operand},a),l=this.getUpdatedRouterNode(u,i,this.props.typeConfig.type);"wait_for_response"===this.props.typeConfig.type&&(l.node.wait={type:h.WaitTypes.msg}),this.props.onUpdateRouter(l)},c.prototype.getUpdatedRouterNode=function(e,t,n,o,r){return void 0===o&&(o=[]),void 0===r&&(r=null),{node:{uuid:this.props.nodeToEdit.uuid,actions:o,router:e,exits:t,wait:r},ui:{type:n,position:null},inboundConnections:{}}},c.prototype.updateGroupsRouter=function(){var e=this.widgets.Groups.state.groups,n=t.groupsToCases(e),o=t.resolveExits(n,this.props.nodeToEdit),r=o.cases,i=o.exits,s=o.defaultExit;this.props.definition.localization&&Object.keys(this.props.definition.localization).length&&this.cleanUpLocalizations(n);var a={type:"switch",cases:r,default_exit_uuid:s,operand:y.GROUPS_OPERAND,result_name:""};this.props.resultName&&(a.result_name+=this.props.resultName);var u=this.getUpdatedRouterNode(a,i,this.props.typeConfig.type);u.node.wait={type:h.WaitTypes.group},this.props.onUpdateRouter(u)},c.prototype.updateSubflowRouter=function(){var e,n,o=t.getAction(this.props.actionToEdit,this.props.typeConfig),r=this.widgets.Flow.state.flow,i=r.name,s=r.id,a={uuid:o.uuid,type:this.props.typeConfig.type,flow:{name:i,uuid:s}},u=this.props.nodes[this.props.nodeToEdit.uuid];u&&"subflow"===u.ui.type?(e=this.props.nodeToEdit.exits,n=this.props.nodeToEdit.router.cases):(e=[{uuid:p.v4(),name:w.StartFlowExitNames.Complete,destination_node_uuid:null},{uuid:p.v4(),name:w.StartFlowExitNames.Expired,destination_node_uuid:null}],n=[{uuid:p.v4(),type:C.Operators.is_text_eq,arguments:["child.run.status","completed"],exit_uuid:e[0].uuid},{uuid:p.v4(),arguments:["child.run.status","expired"],type:C.Operators.is_text_eq,exit_uuid:e[1].uuid}]);var l={type:"switch",operand:"@child",cases:n,default_exit_uuid:null},c=this.getUpdatedRouterNode(l,e,"subflow",[a],{type:"flow",flow_uuid:s});this.props.onUpdateRouter(c)},c.prototype.updateWebhookRouter=function(){var e=this,n=t.getAction(this.props.actionToEdit,this.props.typeConfig),o=this.widgets.URL.wrappedInstance,r=h.Methods.GET,i=this.widgets.MethodMap;i.state.value&&(r=i.state.value);var s=y.DEFAULT_BODY;r!==h.Methods.POST&&r!==h.Methods.PUT||(s=this.widgets.Body.wrappedInstance.state.value);var a=Object.keys(this.widgets).reduce(function(t,n){if(n.startsWith("header_")){var o=e.widgets[n],r=o.state.name.trim(),i=o.state.value.trim();r.length&&(t[r]=i)}return t},{}),u={uuid:n.uuid,type:this.props.typeConfig.type,url:o.state.value,headers:a,method:r,body:s},l=[],c=[],d=this.props.nodes[this.props.nodeToEdit.uuid];d&&"webhook"===d.ui.type?(this.props.nodeToEdit.exits.forEach(function(e){return l.push(e)}),this.props.nodeToEdit.router.cases.forEach(function(e){return c.push(e)})):(l.push({uuid:p.v4(),name:h.WebhookExitNames.Success,destination_node_uuid:null},{uuid:p.v4(),name:h.WebhookExitNames.Failure,destination_node_uuid:null},{uuid:p.v4(),name:h.WebhookExitNames.Unreachable,destination_node_uuid:null}),c=[{uuid:p.v4(),type:C.Operators.is_text_eq,arguments:["run.webhook.status","success"],exit_uuid:l[0].uuid},{uuid:p.v4(),type:C.Operators.is_text_eq,arguments:["run.webhook.status","response_error"],exit_uuid:l[1].uuid},{uuid:p.v4(),type:C.Operators.is_text_eq,arguments:["run.webhook.status","connection_error"],exit_uuid:l[2].uuid}]);var f={type:"switch",operand:"@webhook",cases:c,default_exit_uuid:l[1].uuid},g=this.getUpdatedRouterNode(f,l,"webhook",[u]);this.props.onUpdateRouter(g)},c.prototype.getMode=function(){return this.props.translating?f.Mode.TRANSLATING:f.Mode.EDITING},c.prototype.hasAdvanced=function(){var e=this.getMode();return this.props.typeConfig.allows(e)},c.prototype.getButtons=function(){return this.temporaryButtons?this.temporaryButtons:this.initialButtons},c.prototype.getTitleText=function(){return this.props.translating?this.props.language.name+" Translation":this.props.typeConfig.name},c.prototype.getTitles=function(){var e=this.getTitleText(),t=[l.createElement("div",{key:"front"},e)];return this.hasAdvanced()&&t.push(l.createElement("div",{key:"advanced"},l.createElement("div",null,e),l.createElement("div",{className:_.advanced_title},"Advanced Settings"))),t},c.prototype.getTypeList=function(){if(!this.props.translating){var e="";return e=t.isSwitchForm(this.props.typeConfig.type)?b.type_chooser_switch:b.type_chooser,l.createElement(E.default,{__className:e,initialType:this.props.typeConfig,onChange:this.onTypeChange})}return null},c.prototype.getSides=function(){var e,n=this.props,o=n.actionToEdit,i=n.typeConfig,s=t.getAction(o,i);"wait_for_response"===i.type||"split_by_expression"===i.type?e=this.updateSwitchRouter:"start_flow"===i.type?e=this.updateSubflowRouter:"call_webhook"===i.type?e=this.updateWebhookRouter:"split_by_groups"===i.type&&(e=this.updateGroupsRouter);var a={action:s,saveLocalizations:this.saveLocalizations,updateLocalizations:this.updateLocalizations,cleanUpLocalizations:this.cleanUpLocalizations,updateAction:this.updateAction,updateRouter:e,getResultNameField:this.getResultNameField,getExitTranslations:this.getExitTranslations,onBindWidget:this.onBindWidget,onBindAdvancedWidget:this.onBindAdvancedWidget,onToggleAdvanced:this.toggleAdvanced,onExpressionChanged:this.onExpressionChanged,triggerFormUpdate:this.triggerFormUpdate,removeWidget:this.removeWidget},u=i.form,c=this.getTypeList(),d=l.createElement(t.FormContainer,{key:"fc-front",onKeyPress:this.onKeyPress},c,l.createElement(u,r({ref:this.formRef},r({},a,{showAdvanced:!1})))),p=null;return this.hasAdvanced()&&(p=l.createElement(t.FormContainer,{key:"fc-back",onKeyPress:this.onKeyPress,__className:b.advanced},l.createElement(u,r({ref:this.formRef},r({},a,{showAdvanced:!0}))))),{front:d,back:p}},c.prototype.render=function(){if(this.props.nodeEditorOpen){if(this.props.typeConfig.form){var e=_[this.props.typeConfig.type],t=this.getTitles(),n=this.getButtons(),o=this.getSides(),r=o.front,i=o.back;return l.createElement(v.default,{ref:this.modalRef,__className:e,width:"600px",title:t,show:this.props.nodeEditorOpen,buttons:n,node:this.props.nodeToEdit},r,i)}return null}return null},c}(l.Component);t.NodeEditor=x;var O=function(e){var t=e.flowContext,n=t.localizations,o=t.definition,r=t.nodes,i=e.flowEditor,s=i.editorUI,a=s.language,u=s.translating,l=s.nodeEditorOpen,c=i.flowUI.pendingConnection,d=e.nodeEditor;return{nodeToEdit:d.nodeToEdit,language:a,nodeEditorOpen:l,actionToEdit:d.actionToEdit,definition:o,localizations:n,nodes:r,translating:u,typeConfig:d.typeConfig,resultName:d.resultName,showResultName:d.showResultName,operand:d.operand,pendingConnection:c}},S=function(e){return d.bindActionCreators({updateResultName:g.updateResultName,resetNodeEditingState:g.resetNodeEditingState,updateNodeEditorOpen:g.updateNodeEditorOpen,updateTypeConfig:g.updateTypeConfig,updateOperand:g.updateOperand,onUpdateLocalizations:g.onUpdateLocalizations,onUpdateAction:g.onUpdateAction,onUpdateRouter:g.onUpdateRouter,updateUserAddingAction:g.updateUserAddingAction,updateShowResultName:g.updateShowResultName},e)};t.default=c.connect(O,S)(x),"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__extends","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/NodeEditor/NodeEditor.tsx"),__REACT_HOT_LOADER__.register(r,"__assign","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/NodeEditor/NodeEditor.tsx"),__REACT_HOT_LOADER__.register(i,"__values","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/NodeEditor/NodeEditor.tsx"),__REACT_HOT_LOADER__.register(s,"__read","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/NodeEditor/NodeEditor.tsx"),__REACT_HOT_LOADER__.register(a,"__spread","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/NodeEditor/NodeEditor.tsx"),__REACT_HOT_LOADER__.register(x,"NodeEditor","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/NodeEditor/NodeEditor.tsx"),__REACT_HOT_LOADER__.register(O,"mapStateToProps","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/NodeEditor/NodeEditor.tsx"),__REACT_HOT_LOADER__.register(S,"mapDispatchToProps","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/NodeEditor/NodeEditor.tsx"))}).call(t,n(72))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),r=n(55);t.initialState={editorUI:{translating:!1,language:null,fetchingFlow:!1,nodeEditorOpen:!1},flowUI:{createNodePosition:null,pendingConnection:null,nodeDragging:!1,ghostNode:null,dragSelection:null,dragGroup:!1}},t.updateTranslating=function(e){return{type:r.default.UPDATE_TRANSLATING,payload:{translating:e}}},t.updateLanguage=function(e){return{type:r.default.UPDATE_LANGUAGE,payload:{language:e}}},t.updateFetchingFlow=function(e){return{type:r.default.UPDATE_FETCHING_FLOW,payload:{fetchingFlow:e}}},t.updateNodeEditorOpen=function(e){return{type:r.default.UPDATE_NODE_EDITOR_OPEN,payload:{nodeEditorOpen:e}}},t.updateCreateNodePosition=function(e){return{type:r.default.UPDATE_CREATE_NODE_POSITION,payload:{createNodePosition:e}}},t.updatePendingConnection=function(e){return{type:r.default.UPDATE_PENDING_CONNECTION,payload:{pendingConnection:e}}},t.updateDragSelection=function(e){return{type:r.default.UPDATE_DRAG_SELECTION,payload:{dragSelection:e}}},t.updatePendingConnections=function(e,t){return{type:r.default.UPDATE_PENDING_CONNECTIONS,payload:{draggedTo:e,draggedFrom:t}}},t.removePendingConnection=function(e){return{type:r.default.REMOVE_PENDING_CONNECTION,payload:{nodeUUID:e}}},t.updateGhostNode=function(e){return{type:r.default.UPDATE_GHOST_NODE,payload:{ghostNode:e}}},t.updateNodeDragging=function(e){return{type:r.default.UPDATE_NODE_DRAGGING,payload:{nodeDragging:e}}},t.updateDragGroup=function(e){return{type:r.default.UPDATE_DRAG_GROUP,payload:{dragGroup:e}}},t.language=function(e,n){switch(void 0===e&&(e=t.initialState.editorUI.language),n.type){case r.default.UPDATE_LANGUAGE:return n.payload.language;default:return e}},t.translating=function(e,n){switch(void 0===e&&(e=t.initialState.editorUI.translating),n.type){case r.default.UPDATE_TRANSLATING:return n.payload.translating;default:return e}},t.fetchingFlow=function(e,n){switch(void 0===e&&(e=t.initialState.editorUI.fetchingFlow),n.type){case r.default.UPDATE_FETCHING_FLOW:return n.payload.fetchingFlow;default:return e}},t.nodeEditorOpen=function(e,n){switch(void 0===e&&(e=t.initialState.editorUI.nodeEditorOpen),n.type){case r.default.UPDATE_NODE_EDITOR_OPEN:return n.payload.nodeEditorOpen;default:return e}},t.editorUI=o.combineReducers({language:t.language,translating:t.translating,fetchingFlow:t.fetchingFlow,nodeEditorOpen:t.nodeEditorOpen}),t.createNodePosition=function(e,n){switch(void 0===e&&(e=t.initialState.flowUI.createNodePosition),n.type){case r.default.UPDATE_CREATE_NODE_POSITION:return n.payload.createNodePosition;default:return e}},t.pendingConnection=function(e,n){switch(void 0===e&&(e=t.initialState.flowUI.pendingConnection),n.type){case r.default.UPDATE_PENDING_CONNECTION:return n.payload.pendingConnection;default:return e}},t.nodeDragging=function(e,n){switch(void 0===e&&(e=t.initialState.flowUI.nodeDragging),n.type){case r.default.UPDATE_NODE_DRAGGING:return n.payload.nodeDragging;default:return e}},t.dragSelection=function(e,n){switch(void 0===e&&(e=t.initialState.flowUI.dragSelection),n.type){case r.default.UPDATE_DRAG_SELECTION:return n.payload.dragSelection;default:return e}},t.ghostNode=function(e,n){switch(void 0===e&&(e=t.initialState.flowUI.ghostNode),n.type){case r.default.UPDATE_GHOST_NODE:return n.payload.ghostNode;default:return e}},t.dragGroup=function(e,n){switch(void 0===e&&(e=t.initialState.flowUI.dragGroup),n.type){case r.default.UPDATE_DRAG_GROUP:return n.payload.dragGroup;default:return e}},t.flowUI=o.combineReducers({createNodePosition:t.createNodePosition,pendingConnection:t.pendingConnection,nodeDragging:t.nodeDragging,ghostNode:t.ghostNode,dragSelection:t.dragSelection,dragGroup:t.dragGroup}),t.default=o.combineReducers({editorUI:t.editorUI,flowUI:t.flowUI})},function(e,t,n){"use strict";t.__esModule=!0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(131));t.default=function(e,t,n){return t in e?(0,o.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var o=n(75);e.exports=function(e){return Object(o(e))}},function(e,t){e.exports={}},function(e,t,n){var o=n(139),r=n(83);e.exports=Object.keys||function(e){return o(e,r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDraggableWithin=t.isPointWithinDroppable=t.getVisibleBounds=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(144)),r=n(7),i=n(63),s=t.getVisibleBounds=function(e){var t=e.container,n=t.scroll,o=t.bounds,s=(0,r.subtract)(n.initial,n.current),a=(0,i.offset)(e.page.withMargin,s);return{top:Math.max(a.top,o.top),right:Math.min(a.right,o.right),bottom:Math.min(a.bottom,o.bottom),left:Math.max(a.left,o.left)}};t.isPointWithinDroppable=function(e){return function(e){var t=(0,o.default)(e.left,e.right),n=(0,o.default)(e.top,e.bottom);return function(e){return t(e.x)&&n(e.y)}}(s(e))},t.isDraggableWithin=function(e){var t=e.top,n=e.right,r=e.bottom,i=e.left,s=(0,o.default)(i-1,n+1),a=(0,o.default)(t-1,r+1);return function(e){var t=e.page.withoutMargin;return s(t.left)&&s(t.right)&&a(t.top)&&a(t.bottom)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(7);t.default=function(e){var t=e.source,n=e.sourceEdge,r=e.destination,i=e.destinationEdge,s=e.destinationAxis,a=function(e){return(0,o.patch)(s.line,e[s[i]],e[s.crossAxisStart])},u=a(r),l=(0,o.absolute)((0,o.subtract)(t.center,a(t))),c=(0,o.patch)(s.line,("end"===n?-1:1)*l[s.line],l[s.crossLine]);return(0,o.add)(u,c)}},function(e,t,n){"use strict";function o(e,t){return e===t}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=null,r=null;return function(){return function(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var o=t.length,r=0;r<o;r++)if(!e(t[r],n[r]))return!1;return!0}(t,n,arguments)||(r=e.apply(null,arguments)),n=arguments,r}}function i(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return function(){for(var t=arguments.length,o=Array(t),i=0;i<t;i++)o[i]=arguments[i];var s=0,a=o.pop(),u=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}(o),l=e.apply(void 0,[function(){return s++,a.apply(null,arguments)}].concat(n)),c=r(function(){for(var e=[],t=u.length,n=0;n<t;n++)e.push(u[n].apply(null,arguments));return l.apply(null,e)});return c.resultFunc=a,c.recomputations=function(){return s},c.resetRecomputations=function(){return s=0},c}}t.__esModule=!0,t.defaultMemoize=r,t.createSelectorCreator=i,t.createStructuredSelector=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return t.reduce(function(e,t,o){return e[n[o]]=t,e},{})})};var s=t.createSelector=i(r)},function(e,n){e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),r=n(55);t.initialState={definition:null,dependencies:null,localizations:[],resultNames:[],nodes:{}},t.updateDefinition=function(e){return{type:r.default.UPDATE_DEFINITION,payload:{definition:e}}},t.updateNodes=function(e){return{type:r.default.UPDATE_NODES,payload:{nodes:e}}},t.updateDependencies=function(e){return{type:r.default.UPDATE_DEPENDENCIES,payload:{dependencies:e}}},t.updateLocalizations=function(e){return{type:r.default.UPDATE_LOCALIZATIONS,payload:{localizations:e}}},t.updateResultNames=function(e){return{type:r.default.UPDATE_RESULT_NAMES,payload:{resultNames:e}}},t.definition=function(e,n){switch(void 0===e&&(e=t.initialState.definition),n.type){case r.default.UPDATE_DEFINITION:return n.payload.definition;default:return e}},t.nodes=function(e,n){switch(void 0===e&&(e=t.initialState.nodes),n.type){case r.default.UPDATE_NODES:return n.payload.nodes;default:return e}},t.dependencies=function(e,n){switch(void 0===e&&(e=t.initialState.dependencies),n.type){case r.default.UPDATE_DEPENDENCIES:return n.payload.dependencies;default:return e}},t.localizations=function(e,n){switch(void 0===e&&(e=t.initialState.localizations),n.type){case r.default.UPDATE_LOCALIZATIONS:return n.payload.localizations;default:return e}},t.resultNames=function(e,n){switch(void 0===e&&(e=t.initialState.resultNames),n.type){case r.default.UPDATE_RESULT_NAMES:return n.payload.resultNames;default:return e}},t.default=o.combineReducers({definition:t.definition,nodes:t.nodes,dependencies:t.dependencies,localizations:t.localizations,resultNames:t.resultNames})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o;!function(e){e.UPDATE_TRANSLATING="UPDATE_TRANSLATING",e.UPDATE_LANGUAGE="UPDATE_LANGUAGE",e.UPDATE_FETCHING_FLOW="FETCHING_FLOW",e.UPDATE_DEFINITION="UPDATE_DEFINITION",e.UPDATE_NODE_DRAGGING="UPDATE_NODE_DRAGGING",e.UPDATE_FLOWS="UPDATE_FLOWS",e.UPDATE_DEPENDENCIES="UPDATE_DEPENDENCIES",e.UPDATE_PENDING_CONNECTIONS="UPDATE_PENDING_CONNECTIONS",e.REMOVE_PENDING_CONNECTION="REMOVE_PENDING_CONNECTION",e.UPDATE_COMPONENTS="UPDATE_COMPONENTS",e.UPDATE_CONTACT_FIELDS="UPDATE_CONTACT_FIELDS",e.UPDATE_GROUPS="UPDATE_GROUPS",e.UPDATE_RESULT_NAMES="UPDATE_RESULT_NAMES",e.UPDATE_NODES="UPDATE_NODES",e.UPDATE_EXITS="UPDATE_EXITS",e.UPDATE_NODE_EDITOR_OPEN="UPDATE_NODE_EDITOR_OPEN",e.UPDATE_CREATE_NODE_POSITION="UPDATE_CREATE_NODE_POSITION",e.UPDATE_PENDING_CONNECTION="UPDATE_PENDING_CONNECTION",e.UPDATE_ACTION="UPDATE_ACTION",e.UPDATE_ACTION_TO_EDIT="UPDATE_ACTION_TO_EDIT",e.UPDATE_NODE_TO_EDIT="UPDATE_NODE_TO_EDIT",e.UPDATE_LOCALIZATIONS="UPDATE_LOCALIZATIONS",e.UPDATE_DRAG_GROUP="UPDATE_DRAG_GROUP",e.UPDATE_DRAG_SELECTION="UPDATE_DRAG_SELECTION",e.UPDATE_GHOST_NODE="UPDATE_GHOST_NODE",e.UPDATE_TYPE_CONFIG="UPDATE_TYPE_CONFIG",e.UPDATE_RESULT_NAME="UPDATE_RESULT_NAME",e.UPDATE_SHOW_RESULT_NAME="UPDATE_SHOW_RESULT_NAME",e.UPDATE_OPERAND="UPDATE_OPERAND",e.UPDATE_USER_ADDING_ACTION="UPDATE_USER_ADDING_ACTION"}(o||(o={})),t.default=o,"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(o,"Constants","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/store/constants.ts")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),r=n(55);t.initialState={typeConfig:null,resultName:"",showResultName:!1,operand:"@run.input",userAddingAction:!1,nodeToEdit:null,actionToEdit:null},t.updateTypeConfig=function(e){return{type:r.default.UPDATE_TYPE_CONFIG,payload:{typeConfig:e}}},t.updateResultName=function(e){return{type:r.default.UPDATE_RESULT_NAME,payload:{resultName:e}}},t.updateOperand=function(e){return{type:r.default.UPDATE_OPERAND,payload:{operand:e}}},t.updateUserAddingAction=function(e){return{type:r.default.UPDATE_USER_ADDING_ACTION,payload:{userAddingAction:e}}},t.updateActionToEdit=function(e){return{type:r.default.UPDATE_ACTION_TO_EDIT,payload:{actionToEdit:e}}},t.updateNodeToEdit=function(e){return{type:r.default.UPDATE_NODE_TO_EDIT,payload:{nodeToEdit:e}}},t.updateShowResultName=function(e){return{type:r.default.UPDATE_SHOW_RESULT_NAME,payload:{showResultName:e}}},t.typeConfig=function(e,n){switch(void 0===e&&(e=t.initialState.typeConfig),n.type){case r.default.UPDATE_TYPE_CONFIG:return n.payload.typeConfig;default:return e}},t.resultName=function(e,n){switch(void 0===e&&(e=t.initialState.resultName),n.type){case r.default.UPDATE_RESULT_NAME:return n.payload.resultName;default:return e}},t.showResultName=function(e,n){switch(void 0===e&&(e=t.initialState.showResultName),n.type){case r.default.UPDATE_SHOW_RESULT_NAME:return n.payload.showResultName;default:return e}},t.operand=function(e,n){switch(void 0===e&&(e=t.initialState.operand),n.type){case r.default.UPDATE_OPERAND:return n.payload.operand;default:return e}},t.userAddingAction=function(e,n){switch(void 0===e&&(e=t.initialState.userAddingAction),n.type){case r.default.UPDATE_USER_ADDING_ACTION:return n.payload.userAddingAction;default:return e}},t.nodeToEdit=function(e,n){switch(void 0===e&&(e=t.initialState.nodeToEdit),n.type){case r.default.UPDATE_NODE_TO_EDIT:return n.payload.nodeToEdit;default:return e}},t.actionToEdit=function(e,n){switch(void 0===e&&(e=t.initialState.actionToEdit),n.type){case r.default.UPDATE_ACTION_TO_EDIT:return n.payload.actionToEdit;default:return e}},t.default=o.combineReducers({typeConfig:t.typeConfig,resultName:t.resultName,showResultName:t.showResultName,operand:t.operand,userAddingAction:t.userAddingAction,nodeToEdit:t.nodeToEdit,actionToEdit:t.actionToEdit}),"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register("@run.input","DEFAULT_OPERAND","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/store/nodeEditor.ts")},function(e,t,n){"use strict";var o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s};Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),s=n(14),a=n(106),u=n(12);t.getNode=function(e,t){var n=e[t];if(!n)throw new Error("Cannot find node "+t);return n},t.getExitIndex=function(e,t){try{for(var n=o(e.exits.entries()),i=n.next();!i.done;i=n.next()){var s=r(i.value,2),a=s[0];if(s[1].uuid===t)return a}}catch(e){u={error:e}}finally{try{i&&!i.done&&(l=n.return)&&l.call(n)}finally{if(u)throw u.error}}throw new Error("Cannot find exit "+t);var u,l},t.getActionIndex=function(e,t){try{for(var n=o(e.actions.entries()),i=n.next();!i.done;i=n.next()){var s=r(i.value,2),a=s[0];if(s[1].uuid===t)return a}}catch(e){u={error:e}}finally{try{i&&!i.done&&(l=n.return)&&l.call(n)}finally{if(u)throw u.error}}throw new Error("Cannot find action "+t);var u,l},t.getSuggestedResultName=function(e){return"Response "+(Object.keys(e).length+1)},t.getLocalizations=function(e,t,n,o,r){var i=[];return e.router&&"switch"===e.router.type&&(e.router.cases.forEach(function(e){return i.push(a.default.translate(e,n,o,r))}),e.exits.forEach(function(e){i.push(a.default.translate(e,n,o,r))})),t&&i.push(a.default.translate(t,n,o,r)),i},t.determineConfigType=function(e,n,o){if(n&&n.type)return n.type;if(e.actions&&e.actions.length>0)return e.actions[e.actions.length-1].type;try{var r=t.getNode(o,e.uuid);if(r.ui.type)return r.ui.type}catch(e){}if(e.router)return e.router.type;throw new Error("Cannot initialize NodeEditor without a valid type: "+e.uuid)},t.getUniqueDestinations=function(e){var t={};try{for(var n=o(e.exits),r=n.next();!r.done;r=n.next()){var i=r.value;i.destination_node_uuid&&(t[i.destination_node_uuid]=!0)}}catch(e){s={error:e}}finally{try{r&&!r.done&&(a=n.return)&&a.call(n)}finally{if(s)throw s.error}}return Object.keys(t);var s,a},t.getOrderedNodes=function(e){var t=[];return Object.keys(e).forEach(function(n){t.push(e[n])}),t.sort(function(e,t){var n=e.ui.position.top-t.ui.position.top;return 0===n&&(n=e.ui.position.left-t.ui.position.left),n})},t.getCollisions=function(e,n){var r={};try{for(var i=o(Object.keys(e)),s=i.next();!s.done;s=i.next()){var a=e[s.value];t.collides(n,a.ui.position)&&(r[a.node.uuid]=!0)}}catch(e){u={error:e}}finally{try{s&&!s.done&&(l=i.return)&&l.call(i)}finally{if(u)throw u.error}}return r;var u,l},t.collides=function(e,t){return!(!e.bottom||!t.bottom||t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)},t.getCollision=function(e){for(var n=t.getOrderedNodes(e),o=0;o<n.length;o++){var r=n[o];if(o+1<n.length)for(var i=o+1;i<n.length;i++){var s=n[i];if(t.collides(r.ui.position,s.ui.position)){if(i+1<n.length){var a=n[i+1];if(t.collides(s.ui.position,a.ui.position))return[r,s,a]}return[r,s]}}}return[]},t.getGhostNode=function(e,n){var o={uuid:i.v4(),actions:[],exits:[{uuid:i.v4(),destination_node_uuid:null}]};if(e.node.wait||"webhook"===e.ui.type){var r={uuid:i.v4(),type:"send_msg",text:""};o.actions.push(r)}else o.exits[0].name="All Responses",o.wait={type:s.WaitTypes.msg},o.router={type:"switch",result_name:t.getSuggestedResultName(n)};return o},t.isGroupAction=function(e){return"add_contact_groups"===e||"remove_contact_groups"===e},t.getFlowComponents=function(e){var n=e.nodes,r=e._ui,i={},s=[],a=[],l={},c={},d={};try{for(var p=o(n),f=p.next();!f.done;f=p.next()){var h=f.value;h.actions||(h.actions=[]);var g=r.nodes[h.uuid];if(i[h.uuid]={node:h,ui:g,inboundConnections:{}},"split_by_groups"===g.type){var m=h.router,v=function(e){var t=e.arguments[0],n=h.exits.find(function(t){return t.uuid===e.exit_uuid});n&&(c[t]=n.name)};try{for(var _=o(m.cases),y=_.next();!y.done;y=_.next())v(y.value)}catch(e){G={error:e}}finally{try{y&&!y.done&&(W=_.return)&&W.call(_)}finally{if(G)throw G.error}}}try{for(var b=o(h.actions),E=b.next();!E.done;E=b.next()){var C=E.value;if(t.isGroupAction(C.type))try{for(var w=o(C.groups),x=w.next();!x.done;x=w.next()){var O=x.value;c[O.uuid]=O.name}}catch(e){V={error:e}}finally{try{x&&!x.done&&(X=w.return)&&X.call(w)}finally{if(V)throw V.error}}else if("set_contact_field"===C.type){var S=C;d[S.field.key]=S.field}}}catch(e){z={error:e}}finally{try{E&&!E.done&&(q=b.return)&&q.call(b)}finally{if(z)throw z.error}}try{for(var A=o(h.exits),T=A.next();!T.done;T=A.next()){var P=T.value;if(P.destination_node_uuid){var D=l[P.destination_node_uuid];D||(D={}),D[P.uuid]=h.uuid,l[P.destination_node_uuid]=D}}}catch(e){K={error:e}}finally{try{T&&!T.done&&(Y=A.return)&&Y.call(A)}finally{if(K)throw K.error}}}}catch(e){H={error:e}}finally{try{f&&!f.done&&(B=p.return)&&B.call(p)}finally{if(H)throw H.error}}try{for(var k=o(Object.keys(l)),N=k.next();!N.done;N=k.next()){var R=N.value;i[R].inboundConnections=l[R]}}catch(e){$={error:e}}finally{try{N&&!N.done&&(J=k.return)&&J.call(k)}finally{if($)throw $.error}}try{for(var j=o(Object.keys(c)),I=j.next();!I.done;I=j.next()){var M=I.value;s.push({name:c[M],id:M,type:u.AssetType.Group})}}catch(e){Z={error:e}}finally{try{I&&!I.done&&(Q=j.return)&&Q.call(j)}finally{if(Z)throw Z.error}}try{for(var L=o(Object.keys(d)),F=L.next();!F.done;F=L.next()){var U=F.value;a.push({name:d[U].name,id:U,type:u.AssetType.Field})}}catch(e){ee={error:e}}finally{try{F&&!F.done&&(te=L.return)&&te.call(L)}finally{if(ee)throw ee.error}}return{renderNodeMap:i,groups:s,fields:a};var H,B,G,W,z,q,V,X,K,Y,$,J,Z,Q,ee,te},"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__values","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/store/helpers.ts"),__REACT_HOT_LOADER__.register(r,"__read","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/store/helpers.ts"))},function(e,t,n){function o(e){if(Array.isArray(e))return h(e.constructor(e.length),e);if("Map"===f(e))return new Map(e);if("Set"===f(e))return new Set(e);if(e&&"object"==typeof e){var t=e.constructor&&e.constructor.prototype;return h(Object.create(t||null),e)}return e}function r(){function e(n,r){if("function"==typeof r)return r(n);Array.isArray(n)&&Array.isArray(r)||l(!Array.isArray(r),"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."),l("object"==typeof r&&null!==r,"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: %s.",Object.keys(t).join(", "));var i=n;return g(r).forEach(function(s){if(c.call(t,s)){var a=n===i;i=t[s](r[s],i,r,n),a&&e.isEquals(i,n)&&(i=n)}else{var u=e(n[s],r[s]);e.isEquals(u,i[s])&&(void 0!==u||c.call(n,s))||(i===n&&(i=o(n)),i[s]=u)}}),i}var t=h({},m);return e.extend=function(e,n){t[e]=n},e.isEquals=function(e,t){return e===t},e}function i(e,t,n){l(Array.isArray(e),"update(): expected target of %s to be an array; got %s.",n,e),s(t[n],n)}function s(e,t){l(Array.isArray(e),"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",t,e)}function a(e){l(Array.isArray(e),"update(): expected spec of $splice to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",e)}function u(e,t){var n=f(e);l("Map"===n||"Set"===n,"update(): %s expects a target of type Set or Map; got %s",t,n)}var l=n(39),c=Object.prototype.hasOwnProperty,d=Array.prototype.splice,p=Object.prototype.toString,f=function(e){return p.call(e).slice(8,-1)},h=Object.assign||function(e,t){return g(t).forEach(function(n){c.call(t,n)&&(e[n]=t[n])}),e},g="function"==typeof Object.getOwnPropertySymbols?function(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.keys(e)},m={$push:function(e,t,n){return i(t,n,"$push"),e.length?t.concat(e):t},$unshift:function(e,t,n){return i(t,n,"$unshift"),e.length?e.concat(t):t},$splice:function(e,t,n,r){return function(e,t){l(Array.isArray(e),"Expected $splice target to be an array; got %s",e),a(t.$splice)}(t,n),e.forEach(function(e){a(e),t===r&&e.length&&(t=o(r)),d.apply(t,e)}),t},$set:function(e,t,n){return function(e){l(1===Object.keys(e).length,"Cannot have more than one key in an object with $set")}(n),e},$toggle:function(e,t){s(e,"$toggle");var n=e.length?o(t):t;return e.forEach(function(e){n[e]=!t[e]}),n},$unset:function(e,t,n,r){return s(e,"$unset"),e.forEach(function(e){Object.hasOwnProperty.call(t,e)&&(t===r&&(t=o(r)),delete t[e])}),t},$add:function(e,t,n,r){return u(t,"$add"),s(e,"$add"),"Map"===f(t)?e.forEach(function(e){var n=e[0],i=e[1];t===r&&t.get(n)!==i&&(t=o(r)),t.set(n,i)}):e.forEach(function(e){t!==r||t.has(e)||(t=o(r)),t.add(e)}),t},$remove:function(e,t,n,r){return u(t,"$remove"),s(e,"$remove"),e.forEach(function(e){t===r&&t.has(e)&&(t=o(r)),t.delete(e)}),t},$merge:function(e,t,n,r){return function(t,n){l(e&&"object"==typeof e,"update(): $merge expects a spec of type 'object'; got %s",e),l(t&&"object"==typeof t,"update(): $merge expects a target of type 'object'; got %s",t)}(t),g(e).forEach(function(n){e[n]!==t[n]&&(t===r&&(t=o(r)),t[n]=e[n])}),t},$apply:function(e,t){return l("function"==typeof e,"update(): expected spec of $apply to be a function; got %s.",e),e(t)}},v=r();e.exports=v,e.exports.default=v,e.exports.newContext=r},function(e,t){e.exports={grid_size:"20",gridSize:"20",node_spacing:"20",nodeSpacing:"20",node_padding:"10",nodePadding:"10","background-size":"20",backgroundSize:"20",random:"shared__random___3NG50",wait_for_response:"shared__wait_for_response___m9OpX",waitForResponse:"shared__wait_for_response___m9OpX",add_contact_groups:"shared__add_contact_groups___17F_i",addContactGroups:"shared__add_contact_groups___17F_i",remove_contact_groups:"shared__remove_contact_groups___70t4G",removeContactGroups:"shared__remove_contact_groups___70t4G",send_email:"shared__send_email___3BzZp",sendEmail:"shared__send_email___3BzZp",msg:"shared__msg___3VdrZ",send_msg:"shared__send_msg___MNxAw",sendMsg:"shared__send_msg___MNxAw",start_flow:"shared__start_flow___qpfUl",startFlow:"shared__start_flow___qpfUl",add_label:"shared__add_label___2GDJd",addLabel:"shared__add_label___2GDJd",set_contact_property:"shared__set_contact_property___20X5c",setContactProperty:"shared__set_contact_property___20X5c",set_contact_field:"shared__set_contact_field___fGcqG",setContactField:"shared__set_contact_field___fGcqG",set_run_result:"shared__set_run_result___3tvLp",setRunResult:"shared__set_run_result___3tvLp",set_language:"shared__set_language___1vYWS",setLanguage:"shared__set_language___1vYWS",set_contact_channel:"shared__set_contact_channel___3aC7b",setContactChannel:"shared__set_contact_channel___3aC7b",missing:"shared__missing___2ADvI",subflow:"shared__subflow___325ld",split_by_expression:"shared__split_by_expression___1gIMh",splitByExpression:"shared__split_by_expression___1gIMh",split_by_groups:"shared__split_by_groups___3M9vL",splitByGroups:"shared__split_by_groups___3M9vL",call_webhook:"shared__call_webhook___3sxg4",callWebhook:"shared__call_webhook___3sxg4",breaks:"shared__breaks___36wHg",url:"shared__url___1vI5N",modal_side_1:"shared__modal_side_1___idEb7",modalSide1:"shared__modal_side_1___idEb7",advanced_title:"shared__advanced_title___2fCpL",advancedTitle:"shared__advanced_title___2fCpL"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o;!function(e){e.has_any_word="has_any_word",e.has_all_words="has_all_words",e.has_phrase="has_phrase",e.has_only_phrase="has_only_phrase",e.has_beginning="has_beginning",e.has_text="has_text",e.has_date="has_date",e.has_date_lt="has_date_lt",e.has_date_eq="has_date_eq",e.has_date_gt="has_date_gt",e.has_number="has_number",e.has_number_between="has_number_between",e.has_number_lt="has_number_lt",e.has_number_lte="has_number_lte",e.has_number_eq="has_number_eq",e.has_number_gte="has_number_gte",e.has_number_gt="has_number_gt",e.has_run_status="has_run_status",e.is_text_eq="is_text_eq",e.has_group="has_group",e.has_phone="has_phone",e.has_email="has_email",e.has_error="has_error",e.has_value="has_value"}(o=t.Operators||(t.Operators={})),t.operatorConfigList=[{type:o.has_any_word,verboseName:"has any of the words",operands:1},{type:o.has_all_words,verboseName:"has all of the words",operands:1},{type:o.has_phrase,verboseName:"has the phrase",operands:1},{type:o.has_only_phrase,verboseName:"has only the phrase",operands:1},{type:o.has_beginning,verboseName:"starts with",operands:1},{type:o.has_text,verboseName:"has some text",operands:0,categoryName:"Has Text"},{type:o.has_number,verboseName:"has a number",operands:0,categoryName:"Has Number"},{type:o.has_number_between,verboseName:"has a number between",operands:2},{type:o.has_number_lt,verboseName:"has a number below",operands:1},{type:o.has_number_lte,verboseName:"has a number at or below",operands:1},{type:o.has_number_eq,verboseName:"has a number equal to",operands:1},{type:o.has_number_gte,verboseName:"has a number at or above",operands:1},{type:o.has_number_gt,verboseName:"has a number above",operands:1},{type:o.has_date,verboseName:"has a date",operands:0,categoryName:"Has Date"},{type:o.has_date_lt,verboseName:"has a date before",operands:1},{type:o.has_date_eq,verboseName:"has a date equal to",operands:1},{type:o.has_date_gt,verboseName:"has a date after",operands:1},{type:o.has_run_status,verboseName:"has a run status of",operands:1},{type:o.has_group,verboseName:"is in the group",operands:1},{type:o.has_phone,verboseName:"has a phone number",operands:0,categoryName:"Has Phone"},{type:o.has_email,verboseName:"has an email",operands:0,categoryName:"Has Email"},{type:o.has_error,verboseName:"has an error",operands:0,categoryName:"Has Error"},{type:o.has_value,verboseName:"is not empty",operands:0,categoryName:"Not Empty"}],t.operatorConfigMap=t.operatorConfigList.reduce(function(e,t){return e[t.type]=t,e},{}),t.getOperatorConfig=function(e){return t.operatorConfigMap[e]},"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(o,"Operators","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/config/operatorConfigs.ts")},function(e,t){var n=0,o=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+o).toString(36))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCorners=t.offset=t.isEqual=t.addPosition=t.add=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(30));t.add=function(e,t){return{top:e.top+t.top,left:e.left+t.left,right:e.right+t.right,bottom:e.bottom+t.bottom}},t.addPosition=function(e,t){return(0,o.default)({},e,{right:e.right+t.x,bottom:e.bottom+t.y})},t.isEqual=function(e,t){return e.top===t.top&&e.right===t.right&&e.bottom===t.bottom&&e.left===t.left},t.offset=function(e,t){return{top:e.top+t.y,right:e.right+t.x,bottom:e.bottom+t.y,left:e.left+t.x}},t.getCorners=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]="number"==typeof e[n]?e[n]:e[n].val);return t},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.preventDefault(),e.stopPropagation()}},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(11),a=n(14),u=n(2),l=n(67),c=n(15),d=n(12);t.isValidNewOption=function(e){var t=e.label;return!!t&&u.isValidLabel(t)},t.createNewOption=function(e){var t=e.label;return{id:s.v4(),name:t,type:d.AssetType.Group,isNew:!0}},t.GROUP_PROMPT="New group: ",t.GROUP_PLACEHOLDER="Enter the name of an existing group...",t.GROUP_NOT_FOUND="Invalid group name";var p=function(e){function n(t){var n=e.call(this,t)||this;return n.state={groups:n.props.groups||[],errors:[]},n.onChange=n.onChange.bind(n),n}return o(n,e),n.prototype.componentWillReceiveProps=function(e){e.groups&&e.groups.length&&!u.jsonEqual(e.groups,this.props.groups)&&this.setState({groups:e.groups})},n.prototype.onChange=function(e){var t=this;u.jsonEqual(e,this.state.groups)||this.setState({groups:e},function(){t.props.onChange&&t.props.onChange(e)})},n.prototype.validate=function(){var e=[];return this.props.required&&!this.state.groups.length&&e.push(this.props.name+" is required."),this.setState({errors:e}),0===e.length},n.prototype.render=function(){var e={};this.props.add&&(e.isValidNewOption=t.isValidNewOption,e.createNewOption=t.createNewOption,e.createPrompt=t.GROUP_PROMPT);var n=u.getSelectClass(this.state.errors.length);return i.createElement(c.default,{name:this.props.name,errors:this.state.errors},i.createElement(l.default,r({_className:n,onChange:this.onChange,name:this.props.name,resultType:a.ResultType.group,assets:this.props.assets,multi:!0,initial:this.state.groups,placeholder:this.props.placeholder,searchPromptText:this.props.searchPromptText},e)))},n.defaultProps={placeholder:t.GROUP_PLACEHOLDER,searchPromptText:t.GROUP_NOT_FOUND},n}(i.Component);t.default=p,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__extends","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/form/GroupsElement.tsx"),__REACT_HOT_LOADER__.register(r,"__assign","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/form/GroupsElement.tsx"),__REACT_HOT_LOADER__.register(p,"GroupsElement","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/form/GroupsElement.tsx"))},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var u=n(4),l=n(41),c=n(0),d=n(33),p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={selections:t.initial||[]},u.react(n,{include:["selectRef","loadOptions",/^on/]}),n}return o(t,e),t.prototype.selectRef=function(e){return this.select=e},t.prototype.componentWillReceiveProps=function(e){l(this.props.initial,e.initial)||this.setState({selections:e.initial})},t.prototype.onChange=function(e){var t=this;if(e){e.isNew&&this.props.assets&&this.props.assets.add(e);var n=[e];l(this.state.selections,n)||(this.props.onChange&&this.props.onChange(e),this.setState({selections:n},function(){return t.select.focus()}))}},t.prototype.onChangeMulti=function(e){var t=this;if(this.props.assets)try{for(var n=i(e),o=n.next();!o.done;o=n.next()){var r=o.value;r.isNew&&this.props.assets.add(r)}}catch(e){s={error:e}}finally{try{o&&!o.done&&(a=n.return)&&a.call(n)}finally{if(s)throw s.error}}if(e){l(this.state.selections,e)||(this.props.onChange&&this.props.onChange(e),this.setState({selections:e},function(){return t.select.focus()}));var s,a}},t.prototype.sortResults=function(e,t){return e.name.localeCompare(t.name)},t.prototype.addSearchResult=function(e,t){var n=a(e),o=!1;try{for(var r=i(n),s=r.next();!s.done;s=r.next()){var u=s.value;if(t.id===u.id){o=!0;break}}}catch(e){l={error:e}}finally{try{s&&!s.done&&(c=r.return)&&c.call(r)}finally{if(l)throw l.error}}return o||n.push(t),n;var l,c},t.prototype.search=function(e){var t=this,n=[];if(this.props.localSearchOptions)try{for(var o=i(this.props.localSearchOptions),r=o.next();!r.done;r=o.next()){var s=r.value;(!e||s.name&&s.name.toLowerCase().indexOf(e.toLowerCase())>-1)&&(n=this.addSearchResult(n,s))}}catch(e){a={error:e}}finally{try{r&&!r.done&&(u=o.return)&&u.call(o)}finally{if(a)throw a.error}}return this.props.assets?this.props.assets.search(e).then(function(e){try{for(var o=i(e),r=o.next();!r.done;r=o.next()){var s=r.value;n=t.addSearchResult(n,s)}}catch(e){a={error:e}}finally{try{r&&!r.done&&(u=o.return)&&u.call(o)}finally{if(a)throw a.error}}return new Promise(function(e){e({options:n.sort(t.sortResults),complete:!0})});var a,u}):new Promise(function(e){e({options:n.sort(t.sortResults),complete:!0})});var a,u},t.prototype.loadOptions=function(e,t){this.search(e).then(function(e){return t(null,e)})},t.prototype.filterOption=function(e,t){return e.name&&e.name.toLowerCase().indexOf(t.toLowerCase())>-1},t.prototype.render=function(){var e,t=this;if(this.props.multi&&(e=[]),this.state.selections.length)try{for(var n=i(this.state.selections),o=n.next();!o.done;o=n.next()){var s=o.value;if(s){var a=s.isNew||this.props.multi?s:s.id;this.props.multi?e.push(a):e=a}}}catch(e){p={error:e}}finally{try{o&&!o.done&&(f=n.return)&&f.call(n)}finally{if(p)throw p.error}}var u=this.props.multi?this.onChangeMulti:this.onChange,l={};return this.props.createPrompt&&(l.promptTextCreator=function(e){return t.props.createPrompt+e}),this.props.createNewOption&&(l.newOptionCreator=this.props.createNewOption),this.props.isValidNewOption&&(l.isValidNewOption=this.props.isValidNewOption),this.props.isOptionUnique&&(l.isOptionUnique=this.props.isOptionUnique),this.props.createNewOption?c.createElement(d.AsyncCreatable,r({ref:this.selectRef,className:this.props.__className,name:this.props.name,placeholder:this.props.placeholder,loadOptions:this.loadOptions,closeOnSelect:this.props.closeOnSelect,ignoreCase:!1,ignoreAccents:!1,value:e,openOnFocus:!0,valueKey:"id",labelKey:"name",multi:this.props.multi,clearable:this.props.multi,searchable:!0,onBlurResetsInput:!0,filterOption:this.filterOption,onChange:u,searchPromptText:this.props.searchPromptText},l)):c.createElement(d.Async,r({ref:this.selectRef,className:this.props.__className,name:this.props.name,placeholder:this.props.placeholder,loadOptions:this.loadOptions,closeOnSelect:this.props.closeOnSelect,ignoreCase:!1,ignoreAccents:!1,value:e,openOnFocus:!0,valueKey:"id",labelKey:"name",multi:this.props.multi,clearable:this.props.multi,searchable:!0,onBlurResetsInput:!0,filterOption:this.filterOption,onChange:u,searchPromptText:this.props.searchPromptText},l));var p,f},t}(c.PureComponent);t.default=p,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__extends","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/SelectSearch.tsx"),__REACT_HOT_LOADER__.register(r,"__assign","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/SelectSearch.tsx"),__REACT_HOT_LOADER__.register(i,"__values","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/SelectSearch.tsx"),__REACT_HOT_LOADER__.register(s,"__read","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/SelectSearch.tsx"),__REACT_HOT_LOADER__.register(a,"__spread","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/SelectSearch.tsx"),__REACT_HOT_LOADER__.register(p,"SelectSearch","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/SelectSearch.tsx"))},function(e,t,n){e.exports=n(177)},function(e,t,n){"use strict";(function(t){function o(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var r=n(8),i=n(180),s={"Content-Type":"application/x-www-form-urlencoded"},a={adapter:function(){var e;return"undefined"!=typeof XMLHttpRequest?e=n(109):void 0!==t&&(e=n(109)),e}(),transformRequest:[function(e,t){return i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};a.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],function(e){a.headers[e]={}}),r.forEach(["post","put","patch"],function(e){a.headers[e]=r.merge(s)}),e.exports=a}).call(t,n(70))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function r(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function i(){h&&p&&(h=!1,p.length?f=p.concat(f):g=-1,f.length&&s())}function s(){if(!h){var e=r(i);h=!0;for(var t=f.length;t;){for(p=f,f=[];++g<t;)p&&p[g].run();g=-1,t=f.length}p=null,h=!1,function(e){if(c===clearTimeout)return clearTimeout(e);if((c===o||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}(e)}}function a(e,t){this.fun=e,this.array=t}function u(){}var l,c,d=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{c="function"==typeof clearTimeout?clearTimeout:o}catch(e){c=o}}();var p,f=[],h=!1,g=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new a(e,t)),1!==f.length||h||r(s)},a.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=u,d.addListener=u,d.once=u,d.off=u,d.removeListener=u,d.removeAllListeners=u,d.emit=u,d.prependListener=u,d.prependOnceListener=u,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){"use strict";var o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var s=n(205),a=n(117);t.isUnicode=function(e){return!a.GSM.hasOwnProperty(e)},t.getUnicodeChars=function(e){var n={};try{for(var r=o(e),i=r.next();!i.done;i=r.next()){var s=i.value;t.isUnicode(s)&&(n[s]=!0)}}catch(e){a={error:e}}finally{try{i&&!i.done&&(u=r.return)&&u.call(r)}finally{if(a)throw a.error}}return n;var a,u},t.cleanMsg=function(e){return e.replace(/[\u2018\u2019]/g,"'").replace(/[\u201C\u201D]/g,'"').replace(/[\u2013\u2014]/g,"-").replace(/\u2026/g,"...").replace(/\u2002/g," ")},t.getMsgStats=function(e,n){var o=e;o.constructor===Array&&(o=o[0]),n&&(o=t.cleanMsg(o));var r=s.split(o);return{value:o,parts:r.parts,characterCount:r.length,unicodeChars:t.getUnicodeChars(o)}},t.isValidURL=function(e){return new RegExp("^(?:(?:https?|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$","i").test(e)},t.filterOptions=function(e,t){if(null!=t){var n=t.toLowerCase();return e.filter(function(e){var t=e.name,o=t.substr(n.length);return 0===t.indexOf(n)&&(0===o.length||-1===o.substr(1).indexOf("."))})}return[]},t.getOptionsList=function(e,t){return e?i(a.OPTIONS,t):a.OPTIONS},t.pluralize=function(e,t,n){return void 0===n&&(n="s"),""+t+(1!==e?n:"")},"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__values","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/form/TextInputElement/helpers.ts"),__REACT_HOT_LOADER__.register(r,"__read","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/form/TextInputElement/helpers.ts"),__REACT_HOT_LOADER__.register(i,"__spread","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/form/TextInputElement/helpers.ts"))},function(e,t,n){var o;!function(t,n){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(n,r){"use strict";function i(e,t){var n=(t=t||Z).createElement("script");n.text=e,t.head.appendChild(n).parentNode.removeChild(n)}function s(e){var t=!!e&&"length"in e&&e.length,n=ce.type(e);return"function"!==n&&!ce.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function a(e,t,n){return ce.isFunction(t)?ce.grep(e,function(e,o){return!!t.call(e,o,e)!==n}):t.nodeType?ce.grep(e,function(e){return e===t!==n}):"string"!=typeof t?ce.grep(e,function(e){return oe.call(t,e)>-1!==n}):be.test(t)?ce.filter(t,e,n):(t=ce.filter(t,e),ce.grep(e,function(e){return oe.call(t,e)>-1!==n&&1===e.nodeType}))}function u(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function l(e){return e}function c(e){throw e}function d(e,t,n){var o;try{e&&ce.isFunction(o=e.promise)?o.call(e).done(t).fail(n):e&&ce.isFunction(o=e.then)?o.call(e,t,n):t.call(void 0,e)}catch(e){n.call(void 0,e)}}function p(){Z.removeEventListener("DOMContentLoaded",p),n.removeEventListener("load",p),ce.ready()}function f(){this.expando=ce.expando+f.uid++}function h(e,t,n){var o;if(void 0===n&&1===e.nodeType)if(o="data-"+t.replace(Re,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(o))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Ne.test(e)?JSON.parse(e):e)}(n)}catch(e){}ke.set(e,t,n)}else n=void 0;return n}function g(e,t,n,o){var r,i=1,s=20,a=o?function(){return o.cur()}:function(){return ce.css(e,t,"")},u=a(),l=n&&n[3]||(ce.cssNumber[t]?"":"px"),c=(ce.cssNumber[t]||"px"!==l&&+u)&&Ie.exec(ce.css(e,t));if(c&&c[3]!==l){l=l||c[3],n=n||[],c=+u||1;do{c/=i=i||".5",ce.style(e,t,c+l)}while(i!==(i=a()/u)&&1!==i&&--s)}return n&&(c=+c||+u||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],o&&(o.unit=l,o.start=c,o.end=r)),r}function m(e){var t,n=e.ownerDocument,o=e.nodeName,r=Ue[o];return r||(t=n.body.appendChild(n.createElement(o)),r=ce.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),Ue[o]=r,r)}function v(e,t){for(var n,o,r=[],i=0,s=e.length;i<s;i++)(o=e[i]).style&&(n=o.style.display,t?("none"===n&&(r[i]=De.get(o,"display")||null,r[i]||(o.style.display="")),""===o.style.display&&Le(o)&&(r[i]=m(o))):"none"!==n&&(r[i]="none",De.set(o,"display",n)));for(i=0;i<s;i++)null!=r[i]&&(e[i].style.display=r[i]);return e}function _(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&ce.nodeName(e,t)?ce.merge([e],n):n}function y(e,t){for(var n=0,o=e.length;n<o;n++)De.set(e[n],"globalEval",!t||De.get(t[n],"globalEval"))}function b(e,t,n,o,r){for(var i,s,a,u,l,c,d=t.createDocumentFragment(),p=[],f=0,h=e.length;f<h;f++)if((i=e[f])||0===i)if("object"===ce.type(i))ce.merge(p,i.nodeType?[i]:i);else if(ze.test(i)){for(s=s||d.appendChild(t.createElement("div")),a=(Be.exec(i)||["",""])[1].toLowerCase(),u=We[a]||We._default,s.innerHTML=u[1]+ce.htmlPrefilter(i)+u[2],c=u[0];c--;)s=s.lastChild;ce.merge(p,s.childNodes),(s=d.firstChild).textContent=""}else p.push(t.createTextNode(i));for(d.textContent="",f=0;i=p[f++];)if(o&&ce.inArray(i,o)>-1)r&&r.push(i);else if(l=ce.contains(i.ownerDocument,i),s=_(d.appendChild(i),"script"),l&&y(s),n)for(c=0;i=s[c++];)Ge.test(i.type||"")&&n.push(i);return d}function E(){return!0}function C(){return!1}function w(){try{return Z.activeElement}catch(e){}}function x(e,t,n,o,r,i){var s,a;if("object"==typeof t){"string"!=typeof n&&(o=o||n,n=void 0);for(a in t)x(e,a,n,o,t[a],i);return e}if(null==o&&null==r?(r=n,o=n=void 0):null==r&&("string"==typeof n?(r=o,o=void 0):(r=o,o=n,n=void 0)),!1===r)r=C;else if(!r)return e;return 1===i&&(s=r,(r=function(e){return ce().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=ce.guid++)),e.each(function(){ce.event.add(this,t,r,o,n)})}function O(e,t){return ce.nodeName(e,"table")&&ce.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e:e}function S(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function A(e){var t=Ze.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function T(e,t){var n,o,r,i,s,a,u,l;if(1===t.nodeType){if(De.hasData(e)&&(i=De.access(e),s=De.set(t,i),l=i.events)){delete s.handle,s.events={};for(r in l)for(n=0,o=l[r].length;n<o;n++)ce.event.add(t,r,l[r][n])}ke.hasData(e)&&(a=ke.access(e),u=ce.extend({},a),ke.set(t,u))}}function P(e,t){var n=t.nodeName.toLowerCase();"input"===n&&He.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function D(e,t,n,o){t=te.apply([],t);var r,s,a,u,l,c,d=0,p=e.length,f=p-1,h=t[0],g=ce.isFunction(h);if(g||p>1&&"string"==typeof h&&!le.checkClone&&Je.test(h))return e.each(function(r){var i=e.eq(r);g&&(t[0]=h.call(this,r,i.html())),D(i,t,n,o)});if(p&&(r=b(t,e[0].ownerDocument,!1,e,o),s=r.firstChild,1===r.childNodes.length&&(r=s),s||o)){for(u=(a=ce.map(_(r,"script"),S)).length;d<p;d++)l=r,d!==f&&(l=ce.clone(l,!0,!0),u&&ce.merge(a,_(l,"script"))),n.call(e[d],l,d);if(u)for(c=a[a.length-1].ownerDocument,ce.map(a,A),d=0;d<u;d++)l=a[d],Ge.test(l.type||"")&&!De.access(l,"globalEval")&&ce.contains(c,l)&&(l.src?ce._evalUrl&&ce._evalUrl(l.src):i(l.textContent.replace(Qe,""),c))}return e}function k(e,t,n){for(var o,r=t?ce.filter(t,e):e,i=0;null!=(o=r[i]);i++)n||1!==o.nodeType||ce.cleanData(_(o)),o.parentNode&&(n&&ce.contains(o.ownerDocument,o)&&y(_(o,"script")),o.parentNode.removeChild(o));return e}function N(e,t,n){var o,r,i,s,a=e.style;return(n=n||nt(e))&&(""!==(s=n.getPropertyValue(t)||n[t])||ce.contains(e.ownerDocument,e)||(s=ce.style(e,t)),!le.pixelMarginRight()&&tt.test(s)&&et.test(t)&&(o=a.width,r=a.minWidth,i=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=o,a.minWidth=r,a.maxWidth=i)),void 0!==s?s+"":s}function R(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function j(e){if(e in at)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=st.length;n--;)if((e=st[n]+t)in at)return e}function I(e,t,n){var o=Ie.exec(t);return o?Math.max(0,o[2]-(n||0))+(o[3]||"px"):t}function M(e,t,n,o,r){var i,s=0;for(i=n===(o?"border":"content")?4:"width"===t?1:0;i<4;i+=2)"margin"===n&&(s+=ce.css(e,n+Me[i],!0,r)),o?("content"===n&&(s-=ce.css(e,"padding"+Me[i],!0,r)),"margin"!==n&&(s-=ce.css(e,"border"+Me[i]+"Width",!0,r))):(s+=ce.css(e,"padding"+Me[i],!0,r),"padding"!==n&&(s+=ce.css(e,"border"+Me[i]+"Width",!0,r)));return s}function L(e,t,n){var o,r=!0,i=nt(e),s="border-box"===ce.css(e,"boxSizing",!1,i);if(e.getClientRects().length&&(o=e.getBoundingClientRect()[t]),o<=0||null==o){if(((o=N(e,t,i))<0||null==o)&&(o=e.style[t]),tt.test(o))return o;r=s&&(le.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+M(e,t,n||(s?"border":"content"),r,i)+"px"}function F(e,t,n,o,r){return new F.prototype.init(e,t,n,o,r)}function U(){lt&&(n.requestAnimationFrame(U),ce.fx.tick())}function H(){return n.setTimeout(function(){ut=void 0}),ut=ce.now()}function B(e,t){var n,o=0,r={height:e};for(t=t?1:0;o<4;o+=2-t)r["margin"+(n=Me[o])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function G(e,t,n){for(var o,r=(W.tweeners[t]||[]).concat(W.tweeners["*"]),i=0,s=r.length;i<s;i++)if(o=r[i].call(n,t,e))return o}function W(e,t,n){var o,r,i=0,s=W.prefilters.length,a=ce.Deferred().always(function(){delete u.elem}),u=function(){if(r)return!1;for(var t=ut||H(),n=Math.max(0,l.startTime+l.duration-t),o=1-(n/l.duration||0),i=0,s=l.tweens.length;i<s;i++)l.tweens[i].run(o);return a.notifyWith(e,[l,o,n]),o<1&&s?n:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:ce.extend({},t),opts:ce.extend(!0,{specialEasing:{},easing:ce.easing._default},n),originalProperties:t,originalOptions:n,startTime:ut||H(),duration:n.duration,tweens:[],createTween:function(t,n){var o=ce.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(o),o},stop:function(t){var n=0,o=t?l.tweens.length:0;if(r)return this;for(r=!0;n<o;n++)l.tweens[n].run(1);return t?(a.notifyWith(e,[l,1,0]),a.resolveWith(e,[l,t])):a.rejectWith(e,[l,t]),this}}),c=l.props;for(function(e,t){var n,o,r,i,s;for(n in e)if(o=ce.camelCase(n),r=t[o],i=e[n],ce.isArray(i)&&(r=i[1],i=e[n]=i[0]),n!==o&&(e[o]=i,delete e[n]),(s=ce.cssHooks[o])&&"expand"in s){i=s.expand(i),delete e[o];for(n in i)n in e||(e[n]=i[n],t[n]=r)}else t[o]=r}(c,l.opts.specialEasing);i<s;i++)if(o=W.prefilters[i].call(l,e,c,l.opts))return ce.isFunction(o.stop)&&(ce._queueHooks(l.elem,l.opts.queue).stop=ce.proxy(o.stop,o)),o;return ce.map(c,G,l),ce.isFunction(l.opts.start)&&l.opts.start.call(e,l),ce.fx.timer(ce.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function z(e){return(e.match(Oe)||[]).join(" ")}function q(e){return e.getAttribute&&e.getAttribute("class")||""}function V(e,t,n,o){var r;if(ce.isArray(t))ce.each(t,function(t,r){n||Et.test(e)?o(e,r):V(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,o)});else if(n||"object"!==ce.type(t))o(e,t);else for(r in t)V(e+"["+r+"]",t[r],n,o)}function X(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var o,r=0,i=t.toLowerCase().match(Oe)||[];if(ce.isFunction(n))for(;o=i[r++];)"+"===o[0]?(o=o.slice(1)||"*",(e[o]=e[o]||[]).unshift(n)):(e[o]=e[o]||[]).push(n)}}function K(e,t,n,o){function r(a){var u;return i[a]=!0,ce.each(e[a]||[],function(e,a){var l=a(t,n,o);return"string"!=typeof l||s||i[l]?s?!(u=l):void 0:(t.dataTypes.unshift(l),r(l),!1)}),u}var i={},s=e===Nt;return r(t.dataTypes[0])||!i["*"]&&r("*")}function Y(e,t){var n,o,r=ce.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:o||(o={}))[n]=t[n]);return o&&ce.extend(!0,e,o),e}function $(e){return ce.isWindow(e)?e:9===e.nodeType&&e.defaultView}var J=[],Z=n.document,Q=Object.getPrototypeOf,ee=J.slice,te=J.concat,ne=J.push,oe=J.indexOf,re={},ie=re.toString,se=re.hasOwnProperty,ae=se.toString,ue=ae.call(Object),le={},ce=function(e,t){return new ce.fn.init(e,t)},de=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,pe=/^-ms-/,fe=/-([a-z])/g,he=function(e,t){return t.toUpperCase()};ce.fn=ce.prototype={jquery:"3.1.1",constructor:ce,length:0,toArray:function(){return ee.call(this)},get:function(e){return null==e?ee.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=ce.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return ce.each(this,e)},map:function(e){return this.pushStack(ce.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(ee.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ne,sort:J.sort,splice:J.splice},ce.extend=ce.fn.extend=function(){var e,t,n,o,r,i,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||ce.isFunction(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],s!==(o=e[t])&&(l&&o&&(ce.isPlainObject(o)||(r=ce.isArray(o)))?(r?(r=!1,i=n&&ce.isArray(n)?n:[]):i=n&&ce.isPlainObject(n)?n:{},s[t]=ce.extend(l,i,o)):void 0!==o&&(s[t]=o));return s},ce.extend({expando:"jQuery"+("3.1.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ce.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=ce.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==ie.call(e)||(t=Q(e))&&("function"!=typeof(n=se.call(t,"constructor")&&t.constructor)||ae.call(n)!==ue))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?re[ie.call(e)]||"object":typeof e},globalEval:function(e){i(e)},camelCase:function(e){return e.replace(pe,"ms-").replace(fe,he)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,o=0;if(s(e))for(n=e.length;o<n&&!1!==t.call(e[o],o,e[o]);o++);else for(o in e)if(!1===t.call(e[o],o,e[o]))break;return e},trim:function(e){return null==e?"":(e+"").replace(de,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(s(Object(e))?ce.merge(n,"string"==typeof e?[e]:e):ne.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:oe.call(t,e,n)},merge:function(e,t){for(var n=+t.length,o=0,r=e.length;o<n;o++)e[r++]=t[o];return e.length=r,e},grep:function(e,t,n){for(var o=[],r=0,i=e.length,s=!n;r<i;r++)!t(e[r],r)!==s&&o.push(e[r]);return o},map:function(e,t,n){var o,r,i=0,a=[];if(s(e))for(o=e.length;i<o;i++)null!=(r=t(e[i],i,n))&&a.push(r);else for(i in e)null!=(r=t(e[i],i,n))&&a.push(r);return te.apply([],a)},guid:1,proxy:function(e,t){var n,o,r;if("string"==typeof t&&(n=e[t],t=e,e=n),ce.isFunction(e))return o=ee.call(arguments,2),r=function(){return e.apply(t||this,o.concat(ee.call(arguments)))},r.guid=e.guid=e.guid||ce.guid++,r},now:Date.now,support:le}),"function"==typeof Symbol&&(ce.fn[Symbol.iterator]=J[Symbol.iterator]),ce.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){re["[object "+t+"]"]=t.toLowerCase()});var ge=function(e){function t(e,t,n,o){var r,i,s,a,u,l,c,p=t&&t.ownerDocument,h=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==h&&9!==h&&11!==h)return n;if(!o&&((t?t.ownerDocument||t:U)!==k&&D(t),t=t||k,R)){if(11!==h&&(u=ge.exec(e)))if(r=u[1]){if(9===h){if(!(s=t.getElementById(r)))return n;if(s.id===r)return n.push(s),n}else if(p&&(s=p.getElementById(r))&&L(t,s)&&s.id===r)return n.push(s),n}else{if(u[2])return $.apply(n,t.getElementsByTagName(e)),n;if((r=u[3])&&b.getElementsByClassName&&t.getElementsByClassName)return $.apply(n,t.getElementsByClassName(r)),n}if(b.qsa&&!z[e+" "]&&(!j||!j.test(e))){if(1!==h)p=t,c=e;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(ye,be):t.setAttribute("id",a=F),i=(l=x(e)).length;i--;)l[i]="#"+a+" "+f(l[i]);c=l.join(","),p=me.test(e)&&d(t.parentNode)||t}if(c)try{return $.apply(n,p.querySelectorAll(c)),n}catch(e){}finally{a===F&&t.removeAttribute("id")}}}return S(e.replace(ie,"$1"),t,n,o)}function n(){function e(n,o){return t.push(n+" ")>E.cacheLength&&delete e[t.shift()],e[n+" "]=o}var t=[];return e}function o(e){return e[F]=!0,e}function r(e){var t=k.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function i(e,t){for(var n=e.split("|"),o=n.length;o--;)E.attrHandle[n[o]]=t}function s(e,t){var n=t&&e,o=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(o)return o;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Ce(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function c(e){return o(function(t){return t=+t,o(function(n,o){for(var r,i=e([],n.length,t),s=i.length;s--;)n[r=i[s]]&&(n[r]=!(o[r]=n[r]))})})}function d(e){return e&&void 0!==e.getElementsByTagName&&e}function p(){}function f(e){for(var t=0,n=e.length,o="";t<n;t++)o+=e[t].value;return o}function h(e,t,n){var o=t.dir,r=t.next,i=r||o,s=n&&"parentNode"===i,a=B++;return t.first?function(t,n,r){for(;t=t[o];)if(1===t.nodeType||s)return e(t,n,r);return!1}:function(t,n,u){var l,c,d,p=[H,a];if(u){for(;t=t[o];)if((1===t.nodeType||s)&&e(t,n,u))return!0}else for(;t=t[o];)if(1===t.nodeType||s)if(d=t[F]||(t[F]={}),c=d[t.uniqueID]||(d[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[o]||t;else{if((l=c[i])&&l[0]===H&&l[1]===a)return p[2]=l[2];if(c[i]=p,p[2]=e(t,n,u))return!0}return!1}}function g(e){return e.length>1?function(t,n,o){for(var r=e.length;r--;)if(!e[r](t,n,o))return!1;return!0}:e[0]}function m(e,t,n,o,r){for(var i,s=[],a=0,u=e.length,l=null!=t;a<u;a++)(i=e[a])&&(n&&!n(i,o,r)||(s.push(i),l&&t.push(a)));return s}function v(e,n,r,i,s,a){return i&&!i[F]&&(i=v(i)),s&&!s[F]&&(s=v(s,a)),o(function(o,a,u,l){var c,d,p,f=[],h=[],g=a.length,v=o||function(e,n,o){for(var r=0,i=n.length;r<i;r++)t(e,n[r],o);return o}(n||"*",u.nodeType?[u]:u,[]),_=!e||!o&&n?v:m(v,f,e,u,l),y=r?s||(o?e:g||i)?[]:a:_;if(r&&r(_,y,u,l),i)for(c=m(y,h),i(c,[],u,l),d=c.length;d--;)(p=c[d])&&(y[h[d]]=!(_[h[d]]=p));if(o){if(s||e){if(s){for(c=[],d=y.length;d--;)(p=y[d])&&c.push(_[d]=p);s(null,y=[],c,l)}for(d=y.length;d--;)(p=y[d])&&(c=s?Z(o,p):f[d])>-1&&(o[c]=!(a[c]=p))}}else y=m(y===a?y.splice(g,y.length):y),s?s(null,a,y,l):$.apply(a,y)})}function _(e){for(var t,n,o,r=e.length,i=E.relative[e[0].type],s=i||E.relative[" "],a=i?1:0,u=h(function(e){return e===t},s,!0),l=h(function(e){return Z(t,e)>-1},s,!0),c=[function(e,n,o){var r=!i&&(o||n!==A)||((t=n).nodeType?u(e,n,o):l(e,n,o));return t=null,r}];a<r;a++)if(n=E.relative[e[a].type])c=[h(g(c),n)];else{if((n=E.filter[e[a].type].apply(null,e[a].matches))[F]){for(o=++a;o<r&&!E.relative[e[o].type];o++);return v(a>1&&g(c),a>1&&f(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ie,"$1"),n,a<o&&_(e.slice(a,o)),o<r&&_(e=e.slice(o)),o<r&&f(e))}c.push(n)}return g(c)}var y,b,E,C,w,x,O,S,A,T,P,D,k,N,R,j,I,M,L,F="sizzle"+1*new Date,U=e.document,H=0,B=0,G=n(),W=n(),z=n(),q=function(e,t){return e===t&&(P=!0),0},V={}.hasOwnProperty,X=[],K=X.pop,Y=X.push,$=X.push,J=X.slice,Z=function(e,t){for(var n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1},Q="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ne="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",oe=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ne+")*)|.*)\\)|)",re=new RegExp(ee+"+","g"),ie=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),se=new RegExp("^"+ee+"*,"+ee+"*"),ae=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),ue=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),le=new RegExp(oe),ce=new RegExp("^"+te+"$"),de={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+ne),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+Q+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},pe=/^(?:input|select|textarea|button)$/i,fe=/^h\d$/i,he=/^[^{]+\{\s*\[native \w/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,me=/[+~]/,ve=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),_e=function(e,t,n){var o="0x"+t-65536;return o!=o||n?t:o<0?String.fromCharCode(o+65536):String.fromCharCode(o>>10|55296,1023&o|56320)},ye=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,be=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},Ee=function(){D()},Ce=h(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{$.apply(X=J.call(U.childNodes),U.childNodes),X[U.childNodes.length].nodeType}catch(e){$={apply:X.length?function(e,t){Y.apply(e,J.call(t))}:function(e,t){for(var n=e.length,o=0;e[n++]=t[o++];);e.length=n-1}}}b=t.support={},w=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},D=t.setDocument=function(e){var t,n,o=e?e.ownerDocument||e:U;return o!==k&&9===o.nodeType&&o.documentElement?(k=o,N=k.documentElement,R=!w(k),U!==k&&(n=k.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Ee,!1):n.attachEvent&&n.attachEvent("onunload",Ee)),b.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),b.getElementsByTagName=r(function(e){return e.appendChild(k.createComment("")),!e.getElementsByTagName("*").length}),b.getElementsByClassName=he.test(k.getElementsByClassName),b.getById=r(function(e){return N.appendChild(e).id=F,!k.getElementsByName||!k.getElementsByName(F).length}),b.getById?(E.filter.ID=function(e){var t=e.replace(ve,_e);return function(e){return e.getAttribute("id")===t}},E.find.ID=function(e,t){if(void 0!==t.getElementById&&R){var n=t.getElementById(e);return n?[n]:[]}}):(E.filter.ID=function(e){var t=e.replace(ve,_e);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},E.find.ID=function(e,t){if(void 0!==t.getElementById&&R){var n,o,r,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(r=t.getElementsByName(e),o=0;i=r[o++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),E.find.TAG=b.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):b.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,o=[],r=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[r++];)1===n.nodeType&&o.push(n);return o}return i},E.find.CLASS=b.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&R)return t.getElementsByClassName(e)},I=[],j=[],(b.qsa=he.test(k.querySelectorAll))&&(r(function(e){N.appendChild(e).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&j.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||j.push("\\["+ee+"*(?:value|"+Q+")"),e.querySelectorAll("[id~="+F+"-]").length||j.push("~="),e.querySelectorAll(":checked").length||j.push(":checked"),e.querySelectorAll("a#"+F+"+*").length||j.push(".#.+[+~]")}),r(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=k.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&j.push("name"+ee+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&j.push(":enabled",":disabled"),N.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&j.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),j.push(",.*:")})),(b.matchesSelector=he.test(M=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&r(function(e){b.disconnectedMatch=M.call(e,"*"),M.call(e,"[s!='']:x"),I.push("!=",oe)}),j=j.length&&new RegExp(j.join("|")),I=I.length&&new RegExp(I.join("|")),t=he.test(N.compareDocumentPosition),L=t||he.test(N.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,o=t&&t.parentNode;return e===o||!(!o||1!==o.nodeType||!(n.contains?n.contains(o):e.compareDocumentPosition&&16&e.compareDocumentPosition(o)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},q=t?function(e,t){if(e===t)return P=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!b.sortDetached&&t.compareDocumentPosition(e)===n?e===k||e.ownerDocument===U&&L(U,e)?-1:t===k||t.ownerDocument===U&&L(U,t)?1:T?Z(T,e)-Z(T,t):0:4&n?-1:1)}:function(e,t){if(e===t)return P=!0,0;var n,o=0,r=e.parentNode,i=t.parentNode,a=[e],u=[t];if(!r||!i)return e===k?-1:t===k?1:r?-1:i?1:T?Z(T,e)-Z(T,t):0;if(r===i)return s(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;a[o]===u[o];)o++;return o?s(a[o],u[o]):a[o]===U?-1:u[o]===U?1:0},k):k},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==k&&D(e),n=n.replace(ue,"='$1']"),b.matchesSelector&&R&&!z[n+" "]&&(!I||!I.test(n))&&(!j||!j.test(n)))try{var o=M.call(e,n);if(o||b.disconnectedMatch||e.document&&11!==e.document.nodeType)return o}catch(e){}return t(n,k,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==k&&D(e),L(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==k&&D(e);var n=E.attrHandle[t.toLowerCase()],o=n&&V.call(E.attrHandle,t.toLowerCase())?n(e,t,!R):void 0;return void 0!==o?o:b.attributes||!R?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},t.escape=function(e){return(e+"").replace(ye,be)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],o=0,r=0;if(P=!b.detectDuplicates,T=!b.sortStable&&e.slice(0),e.sort(q),P){for(;t=e[r++];)t===e[r]&&(o=n.push(r));for(;o--;)e.splice(n[o],1)}return T=null,e},C=t.getText=function(e){var t,n="",o=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[o++];)n+=C(t);return n},(E=t.selectors={cacheLength:50,createPseudo:o,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ve,_e),e[3]=(e[3]||e[4]||e[5]||"").replace(ve,_e),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return de.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&le.test(n)&&(t=x(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ve,_e).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=G[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&G(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,o){return function(r){var i=t.attr(r,e);return null==i?"!="===n:!n||(i+="","="===n?i===o:"!="===n?i!==o:"^="===n?o&&0===i.indexOf(o):"*="===n?o&&i.indexOf(o)>-1:"$="===n?o&&i.slice(-o.length)===o:"~="===n?(" "+i.replace(re," ")+" ").indexOf(o)>-1:"|="===n&&(i===o||i.slice(0,o.length+1)===o+"-"))}},CHILD:function(e,t,n,o,r){var i="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===o&&0===r?function(e){return!!e.parentNode}:function(t,n,u){var l,c,d,p,f,h,g=i!==s?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),_=!u&&!a,y=!1;if(m){if(i){for(;g;){for(p=t;p=p[g];)if(a?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[s?m.firstChild:m.lastChild],s&&_){for(y=(f=(l=(c=(d=(p=m)[F]||(p[F]={}))[p.uniqueID]||(d[p.uniqueID]={}))[e]||[])[0]===H&&l[1])&&l[2],p=f&&m.childNodes[f];p=++f&&p&&p[g]||(y=f=0)||h.pop();)if(1===p.nodeType&&++y&&p===t){c[e]=[H,f,y];break}}else if(_&&(y=f=(l=(c=(d=(p=t)[F]||(p[F]={}))[p.uniqueID]||(d[p.uniqueID]={}))[e]||[])[0]===H&&l[1]),!1===y)for(;(p=++f&&p&&p[g]||(y=f=0)||h.pop())&&((a?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++y||(_&&((c=(d=p[F]||(p[F]={}))[p.uniqueID]||(d[p.uniqueID]={}))[e]=[H,y]),p!==t)););return(y-=r)===o||y%o==0&&y/o>=0}}},PSEUDO:function(e,n){var r,i=E.pseudos[e]||E.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return i[F]?i(n):i.length>1?(r=[e,e,"",n],E.setFilters.hasOwnProperty(e.toLowerCase())?o(function(e,t){for(var o,r=i(e,n),s=r.length;s--;)e[o=Z(e,r[s])]=!(t[o]=r[s])}):function(e){return i(e,0,r)}):i}},pseudos:{not:o(function(e){var t=[],n=[],r=O(e.replace(ie,"$1"));return r[F]?o(function(e,t,n,o){for(var i,s=r(e,null,o,[]),a=e.length;a--;)(i=s[a])&&(e[a]=!(t[a]=i))}):function(e,o,i){return t[0]=e,r(t,null,i,n),t[0]=null,!n.pop()}}),has:o(function(e){return function(n){return t(e,n).length>0}}),contains:o(function(e){return e=e.replace(ve,_e),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:o(function(e){return ce.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ve,_e).toLowerCase(),function(t){var n;do{if(n=R?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===N},focus:function(e){return e===k.activeElement&&(!k.hasFocus||k.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:l(!1),disabled:l(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!E.pseudos.empty(e)},header:function(e){return fe.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[n<0?n+t:n]}),even:c(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var o=n<0?n+t:n;--o>=0;)e.push(o);return e}),gt:c(function(e,t,n){for(var o=n<0?n+t:n;++o<t;)e.push(o);return e})}}).pseudos.nth=E.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})E.pseudos[y]=a(y);for(y in{submit:!0,reset:!0})E.pseudos[y]=u(y);return p.prototype=E.filters=E.pseudos,E.setFilters=new p,x=t.tokenize=function(e,n){var o,r,i,s,a,u,l,c=W[e+" "];if(c)return n?0:c.slice(0);for(a=e,u=[],l=E.preFilter;a;){o&&!(r=se.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(i=[])),o=!1,(r=ae.exec(a))&&(o=r.shift(),i.push({value:o,type:r[0].replace(ie," ")}),a=a.slice(o.length));for(s in E.filter)!(r=de[s].exec(a))||l[s]&&!(r=l[s](r))||(o=r.shift(),i.push({value:o,type:s,matches:r}),a=a.slice(o.length));if(!o)break}return n?a.length:a?t.error(e):W(e,u).slice(0)},O=t.compile=function(e,n){var r,i=[],s=[],a=z[e+" "];if(!a){for(n||(n=x(e)),r=n.length;r--;)(a=_(n[r]))[F]?i.push(a):s.push(a);(a=z(e,function(e,n){var r=n.length>0,i=e.length>0,s=function(o,s,a,u,l){var c,d,p,f=0,h="0",g=o&&[],v=[],_=A,y=o||i&&E.find.TAG("*",l),b=H+=null==_?1:Math.random()||.1,C=y.length;for(l&&(A=s===k||s||l);h!==C&&null!=(c=y[h]);h++){if(i&&c){for(d=0,s||c.ownerDocument===k||(D(c),a=!R);p=e[d++];)if(p(c,s||k,a)){u.push(c);break}l&&(H=b)}r&&((c=!p&&c)&&f--,o&&g.push(c))}if(f+=h,r&&h!==f){for(d=0;p=n[d++];)p(g,v,s,a);if(o){if(f>0)for(;h--;)g[h]||v[h]||(v[h]=K.call(u));v=m(v)}$.apply(u,v),l&&!o&&v.length>0&&f+n.length>1&&t.uniqueSort(u)}return l&&(H=b,A=_),g};return r?o(s):s}(s,i))).selector=e}return a},S=t.select=function(e,t,n,o){var r,i,s,a,u,l="function"==typeof e&&e,c=!o&&x(e=l.selector||e);if(n=n||[],1===c.length){if((i=c[0]=c[0].slice(0)).length>2&&"ID"===(s=i[0]).type&&9===t.nodeType&&R&&E.relative[i[1].type]){if(!(t=(E.find.ID(s.matches[0].replace(ve,_e),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(r=de.needsContext.test(e)?0:i.length;r--&&(s=i[r],!E.relative[a=s.type]);)if((u=E.find[a])&&(o=u(s.matches[0].replace(ve,_e),me.test(i[0].type)&&d(t.parentNode)||t))){if(i.splice(r,1),!(e=o.length&&f(i)))return $.apply(n,o),n;break}}return(l||O(e,c))(o,t,!R,n,!t||me.test(e)&&d(t.parentNode)||t),n},b.sortStable=F.split("").sort(q).join("")===F,b.detectDuplicates=!!P,D(),b.sortDetached=r(function(e){return 1&e.compareDocumentPosition(k.createElement("fieldset"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||i("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),b.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||i("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||i(Q,function(e,t,n){var o;if(!n)return!0===e[t]?t.toLowerCase():(o=e.getAttributeNode(t))&&o.specified?o.value:null}),t}(n);ce.find=ge,ce.expr=ge.selectors,ce.expr[":"]=ce.expr.pseudos,ce.uniqueSort=ce.unique=ge.uniqueSort,ce.text=ge.getText,ce.isXMLDoc=ge.isXML,ce.contains=ge.contains,ce.escapeSelector=ge.escape;var me=function(e,t,n){for(var o=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&ce(e).is(n))break;o.push(e)}return o},ve=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},_e=ce.expr.match.needsContext,ye=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,be=/^.[^:#\[\.,]*$/;ce.filter=function(e,t,n){var o=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===o.nodeType?ce.find.matchesSelector(o,e)?[o]:[]:ce.find.matches(e,ce.grep(t,function(e){return 1===e.nodeType}))},ce.fn.extend({find:function(e){var t,n,o=this.length,r=this;if("string"!=typeof e)return this.pushStack(ce(e).filter(function(){for(t=0;t<o;t++)if(ce.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;t<o;t++)ce.find(e,r[t],n);return o>1?ce.uniqueSort(n):n},filter:function(e){return this.pushStack(a(this,e||[],!1))},not:function(e){return this.pushStack(a(this,e||[],!0))},is:function(e){return!!a(this,"string"==typeof e&&_e.test(e)?ce(e):e||[],!1).length}});var Ee,Ce=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(ce.fn.init=function(e,t,n){var o,r;if(!e)return this;if(n=n||Ee,"string"==typeof e){if(!(o="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Ce.exec(e))||!o[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(o[1]){if(t=t instanceof ce?t[0]:t,ce.merge(this,ce.parseHTML(o[1],t&&t.nodeType?t.ownerDocument||t:Z,!0)),ye.test(o[1])&&ce.isPlainObject(t))for(o in t)ce.isFunction(this[o])?this[o](t[o]):this.attr(o,t[o]);return this}return(r=Z.getElementById(o[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):ce.isFunction(e)?void 0!==n.ready?n.ready(e):e(ce):ce.makeArray(e,this)}).prototype=ce.fn,Ee=ce(Z);var we=/^(?:parents|prev(?:Until|All))/,xe={children:!0,contents:!0,next:!0,prev:!0};ce.fn.extend({has:function(e){var t=ce(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(ce.contains(this,t[e]))return!0})},closest:function(e,t){var n,o=0,r=this.length,i=[],s="string"!=typeof e&&ce(e);if(!_e.test(e))for(;o<r;o++)for(n=this[o];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ce.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?ce.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?oe.call(ce(e),this[0]):oe.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ce.uniqueSort(ce.merge(this.get(),ce(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ce.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return me(e,"parentNode")},parentsUntil:function(e,t,n){return me(e,"parentNode",n)},next:function(e){return u(e,"nextSibling")},prev:function(e){return u(e,"previousSibling")},nextAll:function(e){return me(e,"nextSibling")},prevAll:function(e){return me(e,"previousSibling")},nextUntil:function(e,t,n){return me(e,"nextSibling",n)},prevUntil:function(e,t,n){return me(e,"previousSibling",n)},siblings:function(e){return ve((e.parentNode||{}).firstChild,e)},children:function(e){return ve(e.firstChild)},contents:function(e){return e.contentDocument||ce.merge([],e.childNodes)}},function(e,t){ce.fn[e]=function(n,o){var r=ce.map(this,t,n);return"Until"!==e.slice(-5)&&(o=n),o&&"string"==typeof o&&(r=ce.filter(o,r)),this.length>1&&(xe[e]||ce.uniqueSort(r),we.test(e)&&r.reverse()),this.pushStack(r)}});var Oe=/[^\x20\t\r\n\f]+/g;ce.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return ce.each(e.match(Oe)||[],function(e,n){t[n]=!0}),t}(e):ce.extend({},e);var t,n,o,r,i=[],s=[],a=-1,u=function(){for(r=e.once,o=t=!0;s.length;a=-1)for(n=s.shift();++a<i.length;)!1===i[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=i.length,n=!1);e.memory||(n=!1),t=!1,r&&(i=n?[]:"")},l={add:function(){return i&&(n&&!t&&(a=i.length-1,s.push(n)),function t(n){ce.each(n,function(n,o){ce.isFunction(o)?e.unique&&l.has(o)||i.push(o):o&&o.length&&"string"!==ce.type(o)&&t(o)})}(arguments),n&&!t&&u()),this},remove:function(){return ce.each(arguments,function(e,t){for(var n;(n=ce.inArray(t,i,n))>-1;)i.splice(n,1),n<=a&&a--}),this},has:function(e){return e?ce.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return r=s=[],i=n="",this},disabled:function(){return!i},lock:function(){return r=s=[],n||t||(i=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!o}};return l},ce.extend({Deferred:function(e){var t=[["notify","progress",ce.Callbacks("memory"),ce.Callbacks("memory"),2],["resolve","done",ce.Callbacks("once memory"),ce.Callbacks("once memory"),0,"resolved"],["reject","fail",ce.Callbacks("once memory"),ce.Callbacks("once memory"),1,"rejected"]],o="pending",r={state:function(){return o},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return ce.Deferred(function(n){ce.each(t,function(t,o){var r=ce.isFunction(e[o[4]])&&e[o[4]];i[o[1]](function(){var e=r&&r.apply(this,arguments);e&&ce.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this,r?[e]:arguments)})}),e=null}).promise()},then:function(e,o,r){function i(e,t,o,r){return function(){var a=this,u=arguments,d=function(){var n,d;if(!(e<s)){if((n=o.apply(a,u))===t.promise())throw new TypeError("Thenable self-resolution");d=n&&("object"==typeof n||"function"==typeof n)&&n.then,ce.isFunction(d)?r?d.call(n,i(s,t,l,r),i(s,t,c,r)):(s++,d.call(n,i(s,t,l,r),i(s,t,c,r),i(s,t,l,t.notifyWith))):(o!==l&&(a=void 0,u=[n]),(r||t.resolveWith)(a,u))}},p=r?d:function(){try{d()}catch(n){ce.Deferred.exceptionHook&&ce.Deferred.exceptionHook(n,p.stackTrace),e+1>=s&&(o!==c&&(a=void 0,u=[n]),t.rejectWith(a,u))}};e?p():(ce.Deferred.getStackHook&&(p.stackTrace=ce.Deferred.getStackHook()),n.setTimeout(p))}}var s=0;return ce.Deferred(function(n){t[0][3].add(i(0,n,ce.isFunction(r)?r:l,n.notifyWith)),t[1][3].add(i(0,n,ce.isFunction(e)?e:l)),t[2][3].add(i(0,n,ce.isFunction(o)?o:c))}).promise()},promise:function(e){return null!=e?ce.extend(e,r):r}},i={};return ce.each(t,function(e,n){var s=n[2],a=n[5];r[n[1]]=s.add,a&&s.add(function(){o=a},t[3-e][2].disable,t[0][2].lock),s.add(n[3].fire),i[n[0]]=function(){return i[n[0]+"With"](this===i?void 0:this,arguments),this},i[n[0]+"With"]=s.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=arguments.length,n=t,o=Array(n),r=ee.call(arguments),i=ce.Deferred(),s=function(e){return function(n){o[e]=this,r[e]=arguments.length>1?ee.call(arguments):n,--t||i.resolveWith(o,r)}};if(t<=1&&(d(e,i.done(s(n)).resolve,i.reject),"pending"===i.state()||ce.isFunction(r[n]&&r[n].then)))return i.then();for(;n--;)d(r[n],s(n),i.reject);return i.promise()}});var Se=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ce.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&Se.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},ce.readyException=function(e){n.setTimeout(function(){throw e})};var Ae=ce.Deferred();ce.fn.ready=function(e){return Ae.then(e).catch(function(e){ce.readyException(e)}),this},ce.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ce.readyWait++:ce.ready(!0)},ready:function(e){(!0===e?--ce.readyWait:ce.isReady)||(ce.isReady=!0,!0!==e&&--ce.readyWait>0||Ae.resolveWith(Z,[ce]))}}),ce.ready.then=Ae.then,"complete"===Z.readyState||"loading"!==Z.readyState&&!Z.documentElement.doScroll?n.setTimeout(ce.ready):(Z.addEventListener("DOMContentLoaded",p),n.addEventListener("load",p));var Te=function(e,t,n,o,r,i,s){var a=0,u=e.length,l=null==n;if("object"===ce.type(n)){r=!0;for(a in n)Te(e,t,a,n[a],!0,i,s)}else if(void 0!==o&&(r=!0,ce.isFunction(o)||(s=!0),l&&(s?(t.call(e,o),t=null):(l=t,t=function(e,t,n){return l.call(ce(e),n)})),t))for(;a<u;a++)t(e[a],n,s?o:o.call(e[a],a,t(e[a],n)));return r?e:l?t.call(e):u?t(e[0],n):i},Pe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};f.uid=1,f.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Pe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var o,r=this.cache(e);if("string"==typeof t)r[ce.camelCase(t)]=n;else for(o in t)r[ce.camelCase(o)]=t[o];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][ce.camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,o=e[this.expando];if(void 0!==o){if(void 0!==t){n=(t=ce.isArray(t)?t.map(ce.camelCase):(t=ce.camelCase(t))in o?[t]:t.match(Oe)||[]).length;for(;n--;)delete o[t[n]]}(void 0===t||ce.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!ce.isEmptyObject(t)}};var De=new f,ke=new f,Ne=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Re=/[A-Z]/g;ce.extend({hasData:function(e){return ke.hasData(e)||De.hasData(e)},data:function(e,t,n){return ke.access(e,t,n)},removeData:function(e,t){ke.remove(e,t)},_data:function(e,t,n){return De.access(e,t,n)},_removeData:function(e,t){De.remove(e,t)}}),ce.fn.extend({data:function(e,t){var n,o,r,i=this[0],s=i&&i.attributes;if(void 0===e){if(this.length&&(r=ke.get(i),1===i.nodeType&&!De.get(i,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(o=s[n].name).indexOf("data-")&&(o=ce.camelCase(o.slice(5)),h(i,o,r[o]));De.set(i,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){ke.set(this,e)}):Te(this,function(t){var n;if(i&&void 0===t){if(void 0!==(n=ke.get(i,e)))return n;if(void 0!==(n=h(i,e)))return n}else this.each(function(){ke.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ke.remove(this,e)})}}),ce.extend({queue:function(e,t,n){var o;if(e)return t=(t||"fx")+"queue",o=De.get(e,t),n&&(!o||ce.isArray(n)?o=De.access(e,t,ce.makeArray(n)):o.push(n)),o||[]},dequeue:function(e,t){t=t||"fx";var n=ce.queue(e,t),o=n.length,r=n.shift(),i=ce._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),o--),r&&("fx"===t&&n.unshift("inprogress"),delete i.stop,r.call(e,function(){ce.dequeue(e,t)},i)),!o&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return De.get(e,n)||De.access(e,n,{empty:ce.Callbacks("once memory").add(function(){De.remove(e,[t+"queue",n])})})}}),ce.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ce.queue(this[0],e):void 0===t?this:this.each(function(){var n=ce.queue(this,e,t);ce._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ce.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ce.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,o=1,r=ce.Deferred(),i=this,s=this.length,a=function(){--o||r.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=De.get(i[s],e+"queueHooks"))&&n.empty&&(o++,n.empty.add(a));return a(),r.promise(t)}});var je=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ie=new RegExp("^(?:([+-])=|)("+je+")([a-z%]*)$","i"),Me=["Top","Right","Bottom","Left"],Le=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ce.contains(e.ownerDocument,e)&&"none"===ce.css(e,"display")},Fe=function(e,t,n,o){var r,i,s={};for(i in t)s[i]=e.style[i],e.style[i]=t[i];r=n.apply(e,o||[]);for(i in t)e.style[i]=s[i];return r},Ue={};ce.fn.extend({show:function(){return v(this,!0)},hide:function(){return v(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Le(this)?ce(this).show():ce(this).hide()})}});var He=/^(?:checkbox|radio)$/i,Be=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ge=/^$|\/(?:java|ecma)script/i,We={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};We.optgroup=We.option,We.tbody=We.tfoot=We.colgroup=We.caption=We.thead,We.th=We.td;var ze=/<|&#?\w+;/;!function(){var e=Z.createDocumentFragment().appendChild(Z.createElement("div")),t=Z.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),le.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",le.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var qe=Z.documentElement,Ve=/^key/,Xe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ke=/^([^.]*)(?:\.(.+)|)/;ce.event={global:{},add:function(e,t,n,o,r){var i,s,a,u,l,c,d,p,f,h,g,m=De.get(e);if(m)for(n.handler&&(n=(i=n).handler,r=i.selector),r&&ce.find.matchesSelector(qe,r),n.guid||(n.guid=ce.guid++),(u=m.events)||(u=m.events={}),(s=m.handle)||(s=m.handle=function(t){return void 0!==ce&&ce.event.triggered!==t.type?ce.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(Oe)||[""]).length;l--;)f=g=(a=Ke.exec(t[l])||[])[1],h=(a[2]||"").split(".").sort(),f&&(d=ce.event.special[f]||{},f=(r?d.delegateType:d.bindType)||f,d=ce.event.special[f]||{},c=ce.extend({type:f,origType:g,data:o,handler:n,guid:n.guid,selector:r,needsContext:r&&ce.expr.match.needsContext.test(r),namespace:h.join(".")},i),(p=u[f])||((p=u[f]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,o,h,s)||e.addEventListener&&e.addEventListener(f,s)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),r?p.splice(p.delegateCount++,0,c):p.push(c),ce.event.global[f]=!0)},remove:function(e,t,n,o,r){var i,s,a,u,l,c,d,p,f,h,g,m=De.hasData(e)&&De.get(e);if(m&&(u=m.events)){for(l=(t=(t||"").match(Oe)||[""]).length;l--;)if(a=Ke.exec(t[l])||[],f=g=a[1],h=(a[2]||"").split(".").sort(),f){for(d=ce.event.special[f]||{},p=u[f=(o?d.delegateType:d.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=i=p.length;i--;)c=p[i],!r&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||o&&o!==c.selector&&("**"!==o||!c.selector)||(p.splice(i,1),c.selector&&p.delegateCount--,d.remove&&d.remove.call(e,c));s&&!p.length&&(d.teardown&&!1!==d.teardown.call(e,h,m.handle)||ce.removeEvent(e,f,m.handle),delete u[f])}else for(f in u)ce.event.remove(e,f+t[l],n,o,!0);ce.isEmptyObject(u)&&De.remove(e,"handle events")}},dispatch:function(e){var t,n,o,r,i,s,a=ce.event.fix(e),u=new Array(arguments.length),l=(De.get(this,"events")||{})[a.type]||[],c=ce.event.special[a.type]||{};for(u[0]=a,t=1;t<arguments.length;t++)u[t]=arguments[t];if(a.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,a)){for(s=ce.event.handlers.call(this,a,l),t=0;(r=s[t++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(i=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(i.namespace)||(a.handleObj=i,a.data=i.data,void 0!==(o=((ce.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,u))&&!1===(a.result=o)&&(a.preventDefault(),a.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,o,r,i,s,a=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(i=[],s={},n=0;n<u;n++)void 0===s[r=(o=t[n]).selector+" "]&&(s[r]=o.needsContext?ce(r,this).index(l)>-1:ce.find(r,this,null,[l]).length),s[r]&&i.push(o);i.length&&a.push({elem:l,handlers:i})}return l=this,u<t.length&&a.push({elem:l,handlers:t.slice(u)}),a},addProp:function(e,t){Object.defineProperty(ce.Event.prototype,e,{enumerable:!0,configurable:!0,get:ce.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[ce.expando]?e:new ce.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==w()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===w()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&ce.nodeName(this,"input"))return this.click(),!1},_default:function(e){return ce.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ce.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},ce.Event=function(e,t){if(!(this instanceof ce.Event))return new ce.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?E:C,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&ce.extend(this,t),this.timeStamp=e&&e.timeStamp||ce.now(),this[ce.expando]=!0},ce.Event.prototype={constructor:ce.Event,isDefaultPrevented:C,isPropagationStopped:C,isImmediatePropagationStopped:C,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=E,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=E,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=E,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},ce.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Ve.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Xe.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},ce.event.addProp),ce.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ce.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,o=e.relatedTarget,r=e.handleObj;return o&&(o===this||ce.contains(this,o))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),ce.fn.extend({on:function(e,t,n,o){return x(this,e,t,n,o)},one:function(e,t,n,o){return x(this,e,t,n,o,1)},off:function(e,t,n){var o,r;if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,ce(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=C),this.each(function(){ce.event.remove(this,e,n,t)})}});var Ye=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,$e=/<script|<style|<link/i,Je=/checked\s*(?:[^=]|=\s*.checked.)/i,Ze=/^true\/(.*)/,Qe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ce.extend({htmlPrefilter:function(e){return e.replace(Ye,"<$1></$2>")},clone:function(e,t,n){var o,r,i,s,a=e.cloneNode(!0),u=ce.contains(e.ownerDocument,e);if(!(le.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ce.isXMLDoc(e)))for(s=_(a),o=0,r=(i=_(e)).length;o<r;o++)P(i[o],s[o]);if(t)if(n)for(i=i||_(e),s=s||_(a),o=0,r=i.length;o<r;o++)T(i[o],s[o]);else T(e,a);return(s=_(a,"script")).length>0&&y(s,!u&&_(e,"script")),a},cleanData:function(e){for(var t,n,o,r=ce.event.special,i=0;void 0!==(n=e[i]);i++)if(Pe(n)){if(t=n[De.expando]){if(t.events)for(o in t.events)r[o]?ce.event.remove(n,o):ce.removeEvent(n,o,t.handle);n[De.expando]=void 0}n[ke.expando]&&(n[ke.expando]=void 0)}}}),ce.fn.extend({detach:function(e){return k(this,e,!0)},remove:function(e){return k(this,e)},text:function(e){return Te(this,function(e){return void 0===e?ce.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return D(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||O(this,e).appendChild(e)})},prepend:function(){return D(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=O(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return D(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return D(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ce.cleanData(_(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ce.clone(this,e,t)})},html:function(e){return Te(this,function(e){var t=this[0]||{},n=0,o=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!$e.test(e)&&!We[(Be.exec(e)||["",""])[1].toLowerCase()]){e=ce.htmlPrefilter(e);try{for(;n<o;n++)1===(t=this[n]||{}).nodeType&&(ce.cleanData(_(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return D(this,arguments,function(t){var n=this.parentNode;ce.inArray(this,e)<0&&(ce.cleanData(_(this)),n&&n.replaceChild(t,this))},e)}}),ce.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ce.fn[e]=function(e){for(var n,o=[],r=ce(e),i=r.length-1,s=0;s<=i;s++)n=s===i?this:this.clone(!0),ce(r[s])[t](n),ne.apply(o,n.get());return this.pushStack(o)}});var et=/^margin/,tt=new RegExp("^("+je+")(?!px)[a-z%]+$","i"),nt=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)};!function(){function e(){if(a){a.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",qe.appendChild(s);var e=n.getComputedStyle(a);t="1%"!==e.top,i="2px"===e.marginLeft,o="4px"===e.width,a.style.marginRight="50%",r="4px"===e.marginRight,qe.removeChild(s),a=null}}var t,o,r,i,s=Z.createElement("div"),a=Z.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",le.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),ce.extend(le,{pixelPosition:function(){return e(),t},boxSizingReliable:function(){return e(),o},pixelMarginRight:function(){return e(),r},reliableMarginLeft:function(){return e(),i}}))}();var ot=/^(none|table(?!-c[ea]).+)/,rt={position:"absolute",visibility:"hidden",display:"block"},it={letterSpacing:"0",fontWeight:"400"},st=["Webkit","Moz","ms"],at=Z.createElement("div").style;ce.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=N(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,i,s,a=ce.camelCase(t),u=e.style;if(t=ce.cssProps[a]||(ce.cssProps[a]=j(a)||a),s=ce.cssHooks[t]||ce.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(e,!1,o))?r:u[t];"string"==(i=typeof n)&&(r=Ie.exec(n))&&r[1]&&(n=g(e,t,r),i="number"),null!=n&&n==n&&("number"===i&&(n+=r&&r[3]||(ce.cssNumber[a]?"":"px")),le.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,o))||(u[t]=n))}},css:function(e,t,n,o){var r,i,s,a=ce.camelCase(t);return t=ce.cssProps[a]||(ce.cssProps[a]=j(a)||a),(s=ce.cssHooks[t]||ce.cssHooks[a])&&"get"in s&&(r=s.get(e,!0,n)),void 0===r&&(r=N(e,t,o)),"normal"===r&&t in it&&(r=it[t]),""===n||n?(i=parseFloat(r),!0===n||isFinite(i)?i||0:r):r}}),ce.each(["height","width"],function(e,t){ce.cssHooks[t]={get:function(e,n,o){if(n)return!ot.test(ce.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?L(e,t,o):Fe(e,rt,function(){return L(e,t,o)})},set:function(e,n,o){var r,i=o&&nt(e),s=o&&M(e,t,o,"border-box"===ce.css(e,"boxSizing",!1,i),i);return s&&(r=Ie.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=ce.css(e,t)),I(0,n,s)}}}),ce.cssHooks.marginLeft=R(le.reliableMarginLeft,function(e,t){if(t)return(parseFloat(N(e,"marginLeft"))||e.getBoundingClientRect().left-Fe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),ce.each({margin:"",padding:"",border:"Width"},function(e,t){ce.cssHooks[e+t]={expand:function(n){for(var o=0,r={},i="string"==typeof n?n.split(" "):[n];o<4;o++)r[e+Me[o]+t]=i[o]||i[o-2]||i[0];return r}},et.test(e)||(ce.cssHooks[e+t].set=I)}),ce.fn.extend({css:function(e,t){return Te(this,function(e,t,n){var o,r,i={},s=0;if(ce.isArray(t)){for(o=nt(e),r=t.length;s<r;s++)i[t[s]]=ce.css(e,t[s],!1,o);return i}return void 0!==n?ce.style(e,t,n):ce.css(e,t)},e,t,arguments.length>1)}}),ce.Tween=F,(F.prototype={constructor:F,init:function(e,t,n,o,r,i){this.elem=e,this.prop=n,this.easing=r||ce.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=o,this.unit=i||(ce.cssNumber[n]?"":"px")},cur:function(){var e=F.propHooks[this.prop];return e&&e.get?e.get(this):F.propHooks._default.get(this)},run:function(e){var t,n=F.propHooks[this.prop];return this.options.duration?this.pos=t=ce.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):F.propHooks._default.set(this),this}}).init.prototype=F.prototype,(F.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ce.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){ce.fx.step[e.prop]?ce.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[ce.cssProps[e.prop]]&&!ce.cssHooks[e.prop]?e.elem[e.prop]=e.now:ce.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=F.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ce.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ce.fx=F.prototype.init,ce.fx.step={};var ut,lt,ct=/^(?:toggle|show|hide)$/,dt=/queueHooks$/;ce.Animation=ce.extend(W,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return g(n.elem,e,Ie.exec(t),n),n}]},tweener:function(e,t){ce.isFunction(e)?(t=e,e=["*"]):e=e.match(Oe);for(var n,o=0,r=e.length;o<r;o++)n=e[o],W.tweeners[n]=W.tweeners[n]||[],W.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var o,r,i,s,a,u,l,c,d="width"in t||"height"in t,p=this,f={},h=e.style,g=e.nodeType&&Le(e),m=De.get(e,"fxshow");n.queue||(null==(s=ce._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,p.always(function(){p.always(function(){s.unqueued--,ce.queue(e,"fx").length||s.empty.fire()})}));for(o in t)if(r=t[o],ct.test(r)){if(delete t[o],i=i||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[o])continue;g=!0}f[o]=m&&m[o]||ce.style(e,o)}if((u=!ce.isEmptyObject(t))||!ce.isEmptyObject(f)){d&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=m&&m.display)&&(l=De.get(e,"display")),"none"===(c=ce.css(e,"display"))&&(l?c=l:(v([e],!0),l=e.style.display||l,c=ce.css(e,"display"),v([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===ce.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1;for(o in f)u||(m?"hidden"in m&&(g=m.hidden):m=De.access(e,"fxshow",{display:l}),i&&(m.hidden=!g),g&&v([e],!0),p.done(function(){g||v([e]),De.remove(e,"fxshow");for(o in f)ce.style(e,o,f[o])})),u=G(g?m[o]:0,o,p),o in m||(m[o]=u.start,g&&(u.end=u.start,u.start=0))}}],prefilter:function(e,t){t?W.prefilters.unshift(e):W.prefilters.push(e)}}),ce.speed=function(e,t,n){var o=e&&"object"==typeof e?ce.extend({},e):{complete:n||!n&&t||ce.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ce.isFunction(t)&&t};return ce.fx.off||Z.hidden?o.duration=0:"number"!=typeof o.duration&&(o.duration in ce.fx.speeds?o.duration=ce.fx.speeds[o.duration]:o.duration=ce.fx.speeds._default),null!=o.queue&&!0!==o.queue||(o.queue="fx"),o.old=o.complete,o.complete=function(){ce.isFunction(o.old)&&o.old.call(this),o.queue&&ce.dequeue(this,o.queue)},o},ce.fn.extend({fadeTo:function(e,t,n,o){return this.filter(Le).css("opacity",0).show().end().animate({opacity:t},e,n,o)},animate:function(e,t,n,o){var r=ce.isEmptyObject(e),i=ce.speed(t,n,o),s=function(){var t=W(this,ce.extend({},e),i);(r||De.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||!1===i.queue?this.each(s):this.queue(i.queue,s)},stop:function(e,t,n){var o=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",i=ce.timers,s=De.get(this);if(r)s[r]&&s[r].stop&&o(s[r]);else for(r in s)s[r]&&s[r].stop&&dt.test(r)&&o(s[r]);for(r=i.length;r--;)i[r].elem!==this||null!=e&&i[r].queue!==e||(i[r].anim.stop(n),t=!1,i.splice(r,1));!t&&n||ce.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=De.get(this),o=n[e+"queue"],r=n[e+"queueHooks"],i=ce.timers,s=o?o.length:0;for(n.finish=!0,ce.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<s;t++)o[t]&&o[t].finish&&o[t].finish.call(this);delete n.finish})}}),ce.each(["toggle","show","hide"],function(e,t){var n=ce.fn[t];ce.fn[t]=function(e,o,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(B(t,!0),e,o,r)}}),ce.each({slideDown:B("show"),slideUp:B("hide"),slideToggle:B("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ce.fn[e]=function(e,n,o){return this.animate(t,e,n,o)}}),ce.timers=[],ce.fx.tick=function(){var e,t=0,n=ce.timers;for(ut=ce.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||ce.fx.stop(),ut=void 0},ce.fx.timer=function(e){ce.timers.push(e),e()?ce.fx.start():ce.timers.pop()},ce.fx.interval=13,ce.fx.start=function(){lt||(lt=n.requestAnimationFrame?n.requestAnimationFrame(U):n.setInterval(ce.fx.tick,ce.fx.interval))},ce.fx.stop=function(){n.cancelAnimationFrame?n.cancelAnimationFrame(lt):n.clearInterval(lt),lt=null},ce.fx.speeds={slow:600,fast:200,_default:400},ce.fn.delay=function(e,t){return e=ce.fx?ce.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,o){var r=n.setTimeout(t,e);o.stop=function(){n.clearTimeout(r)}})},function(){var e=Z.createElement("input"),t=Z.createElement("select").appendChild(Z.createElement("option"));e.type="checkbox",le.checkOn=""!==e.value,le.optSelected=t.selected,(e=Z.createElement("input")).value="t",e.type="radio",le.radioValue="t"===e.value}();var pt,ft=ce.expr.attrHandle;ce.fn.extend({attr:function(e,t){return Te(this,ce.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ce.removeAttr(this,e)})}}),ce.extend({attr:function(e,t,n){var o,r,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?ce.prop(e,t,n):(1===i&&ce.isXMLDoc(e)||(r=ce.attrHooks[t.toLowerCase()]||(ce.expr.match.bool.test(t)?pt:void 0)),void 0!==n?null===n?void ce.removeAttr(e,t):r&&"set"in r&&void 0!==(o=r.set(e,n,t))?o:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(o=r.get(e,t))?o:null==(o=ce.find.attr(e,t))?void 0:o)},attrHooks:{type:{set:function(e,t){if(!le.radioValue&&"radio"===t&&ce.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,o=0,r=t&&t.match(Oe);if(r&&1===e.nodeType)for(;n=r[o++];)e.removeAttribute(n)}}),pt={set:function(e,t,n){return!1===t?ce.removeAttr(e,n):e.setAttribute(n,n),n}},ce.each(ce.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ft[t]||ce.find.attr;ft[t]=function(e,t,o){var r,i,s=t.toLowerCase();return o||(i=ft[s],ft[s]=r,r=null!=n(e,t,o)?s:null,ft[s]=i),r}});var ht=/^(?:input|select|textarea|button)$/i,gt=/^(?:a|area)$/i;ce.fn.extend({prop:function(e,t){return Te(this,ce.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[ce.propFix[e]||e]})}}),ce.extend({prop:function(e,t,n){var o,r,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&ce.isXMLDoc(e)||(t=ce.propFix[t]||t,r=ce.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(o=r.set(e,n,t))?o:e[t]=n:r&&"get"in r&&null!==(o=r.get(e,t))?o:e[t]},propHooks:{tabIndex:{get:function(e){var t=ce.find.attr(e,"tabindex");return t?parseInt(t,10):ht.test(e.nodeName)||gt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),le.optSelected||(ce.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ce.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ce.propFix[this.toLowerCase()]=this}),ce.fn.extend({addClass:function(e){var t,n,o,r,i,s,a,u=0;if(ce.isFunction(e))return this.each(function(t){ce(this).addClass(e.call(this,t,q(this)))});if("string"==typeof e&&e)for(t=e.match(Oe)||[];n=this[u++];)if(r=q(n),o=1===n.nodeType&&" "+z(r)+" "){for(s=0;i=t[s++];)o.indexOf(" "+i+" ")<0&&(o+=i+" ");r!==(a=z(o))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,o,r,i,s,a,u=0;if(ce.isFunction(e))return this.each(function(t){ce(this).removeClass(e.call(this,t,q(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Oe)||[];n=this[u++];)if(r=q(n),o=1===n.nodeType&&" "+z(r)+" "){for(s=0;i=t[s++];)for(;o.indexOf(" "+i+" ")>-1;)o=o.replace(" "+i+" "," ");r!==(a=z(o))&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):ce.isFunction(e)?this.each(function(n){ce(this).toggleClass(e.call(this,n,q(this),t),t)}):this.each(function(){var t,o,r,i;if("string"===n)for(o=0,r=ce(this),i=e.match(Oe)||[];t=i[o++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==e&&"boolean"!==n||((t=q(this))&&De.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":De.get(this,"__className__")||""))})},hasClass:function(e){var t,n,o=0;for(t=" "+e+" ";n=this[o++];)if(1===n.nodeType&&(" "+z(q(n))+" ").indexOf(t)>-1)return!0;return!1}});var mt=/\r/g;ce.fn.extend({val:function(e){var t,n,o,r=this[0];return arguments.length?(o=ce.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(null==(r=o?e.call(this,n,ce(this).val()):e)?r="":"number"==typeof r?r+="":ce.isArray(r)&&(r=ce.map(r,function(e){return null==e?"":e+""})),(t=ce.valHooks[this.type]||ce.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=ce.valHooks[r.type]||ce.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(mt,""):null==n?"":n:void 0}}),ce.extend({valHooks:{option:{get:function(e){var t=ce.find.attr(e,"value");return null!=t?t:z(ce.text(e))}},select:{get:function(e){var t,n,o,r=e.options,i=e.selectedIndex,s="select-one"===e.type,a=s?null:[],u=s?i+1:r.length;for(o=i<0?u:s?i:0;o<u;o++)if(((n=r[o]).selected||o===i)&&!n.disabled&&(!n.parentNode.disabled||!ce.nodeName(n.parentNode,"optgroup"))){if(t=ce(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,o,r=e.options,i=ce.makeArray(t),s=r.length;s--;)((o=r[s]).selected=ce.inArray(ce.valHooks.option.get(o),i)>-1)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),ce.each(["radio","checkbox"],function(){ce.valHooks[this]={set:function(e,t){if(ce.isArray(t))return e.checked=ce.inArray(ce(e).val(),t)>-1}},le.checkOn||(ce.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var vt=/^(?:focusinfocus|focusoutblur)$/;ce.extend(ce.event,{trigger:function(e,t,o,r){var i,s,a,u,l,c,d,p=[o||Z],f=se.call(e,"type")?e.type:e,h=se.call(e,"namespace")?e.namespace.split("."):[];if(s=a=o=o||Z,3!==o.nodeType&&8!==o.nodeType&&!vt.test(f+ce.event.triggered)&&(f.indexOf(".")>-1&&(f=(h=f.split(".")).shift(),h.sort()),l=f.indexOf(":")<0&&"on"+f,e=e[ce.expando]?e:new ce.Event(f,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=o),t=null==t?[e]:ce.makeArray(t,[e]),d=ce.event.special[f]||{},r||!d.trigger||!1!==d.trigger.apply(o,t))){if(!r&&!d.noBubble&&!ce.isWindow(o)){for(u=d.delegateType||f,vt.test(u+f)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(o.ownerDocument||Z)&&p.push(a.defaultView||a.parentWindow||n)}for(i=0;(s=p[i++])&&!e.isPropagationStopped();)e.type=i>1?u:d.bindType||f,(c=(De.get(s,"events")||{})[e.type]&&De.get(s,"handle"))&&c.apply(s,t),(c=l&&s[l])&&c.apply&&Pe(s)&&(e.result=c.apply(s,t),!1===e.result&&e.preventDefault());return e.type=f,r||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(p.pop(),t)||!Pe(o)||l&&ce.isFunction(o[f])&&!ce.isWindow(o)&&((a=o[l])&&(o[l]=null),ce.event.triggered=f,o[f](),ce.event.triggered=void 0,a&&(o[l]=a)),e.result}},simulate:function(e,t,n){var o=ce.extend(new ce.Event,n,{type:e,isSimulated:!0});ce.event.trigger(o,null,t)}}),ce.fn.extend({trigger:function(e,t){return this.each(function(){ce.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return ce.event.trigger(e,t,n,!0)}}),ce.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){ce.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ce.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),le.focusin="onfocusin"in n,le.focusin||ce.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ce.event.simulate(t,e.target,ce.event.fix(e))};ce.event.special[t]={setup:function(){var o=this.ownerDocument||this,r=De.access(o,t);r||o.addEventListener(e,n,!0),De.access(o,t,(r||0)+1)},teardown:function(){var o=this.ownerDocument||this,r=De.access(o,t)-1;r?De.access(o,t,r):(o.removeEventListener(e,n,!0),De.remove(o,t))}}});var _t=n.location,yt=ce.now(),bt=/\?/;ce.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||ce.error("Invalid XML: "+e),t};var Et=/\[\]$/,Ct=/\r?\n/g,wt=/^(?:submit|button|image|reset|file)$/i,xt=/^(?:input|select|textarea|keygen)/i;ce.param=function(e,t){var n,o=[],r=function(e,t){var n=ce.isFunction(t)?t():t;o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(ce.isArray(e)||e.jquery&&!ce.isPlainObject(e))ce.each(e,function(){r(this.name,this.value)});else for(n in e)V(n,e[n],t,r);return o.join("&")},ce.fn.extend({serialize:function(){return ce.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ce.prop(this,"elements");return e?ce.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ce(this).is(":disabled")&&xt.test(this.nodeName)&&!wt.test(e)&&(this.checked||!He.test(e))}).map(function(e,t){var n=ce(this).val();return null==n?null:ce.isArray(n)?ce.map(n,function(e){return{name:t.name,value:e.replace(Ct,"\r\n")}}):{name:t.name,value:n.replace(Ct,"\r\n")}}).get()}});var Ot=/%20/g,St=/#.*$/,At=/([?&])_=[^&]*/,Tt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Pt=/^(?:GET|HEAD)$/,Dt=/^\/\//,kt={},Nt={},Rt="*/".concat("*"),jt=Z.createElement("a");jt.href=_t.href,ce.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_t.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(_t.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ce.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Y(Y(e,ce.ajaxSettings),t):Y(ce.ajaxSettings,e)},ajaxPrefilter:X(kt),ajaxTransport:X(Nt),ajax:function(e,t){function o(e,t,o,a){var l,p,f,b,E,C=t;c||(c=!0,u&&n.clearTimeout(u),r=void 0,s=a||"",w.readyState=e>0?4:0,l=e>=200&&e<300||304===e,o&&(b=function(e,t,n){for(var o,r,i,s,a=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(r in a)if(a[r]&&a[r].test(o)){u.unshift(r);break}if(u[0]in n)i=u[0];else{for(r in n){if(!u[0]||e.converters[r+" "+u[0]]){i=r;break}s||(s=r)}i=i||s}if(i)return i!==u[0]&&u.unshift(i),n[i]}(h,w,o)),b=function(e,t,n,o){var r,i,s,a,u,l={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)l[s.toLowerCase()]=e.converters[s];for(i=c.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!u&&o&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=i,i=c.shift())if("*"===i)i=u;else if("*"!==u&&u!==i){if(!(s=l[u+" "+i]||l["* "+i]))for(r in l)if((a=r.split(" "))[1]===i&&(s=l[u+" "+a[0]]||l["* "+a[0]])){!0===s?s=l[r]:!0!==l[r]&&(i=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+u+" to "+i}}}return{state:"success",data:t}}(h,b,w,l),l?(h.ifModified&&((E=w.getResponseHeader("Last-Modified"))&&(ce.lastModified[i]=E),(E=w.getResponseHeader("etag"))&&(ce.etag[i]=E)),204===e||"HEAD"===h.type?C="nocontent":304===e?C="notmodified":(C=b.state,p=b.data,l=!(f=b.error))):(f=C,!e&&C||(C="error",e<0&&(e=0))),w.status=e,w.statusText=(t||C)+"",l?v.resolveWith(g,[p,C,w]):v.rejectWith(g,[w,C,f]),w.statusCode(y),y=void 0,d&&m.trigger(l?"ajaxSuccess":"ajaxError",[w,h,l?p:f]),_.fireWith(g,[w,C]),d&&(m.trigger("ajaxComplete",[w,h]),--ce.active||ce.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,s,a,u,l,c,d,p,f,h=ce.ajaxSetup({},t),g=h.context||h,m=h.context&&(g.nodeType||g.jquery)?ce(g):ce.event,v=ce.Deferred(),_=ce.Callbacks("once memory"),y=h.statusCode||{},b={},E={},C="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(c){if(!a)for(a={};t=Tt.exec(s);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?s:null},setRequestHeader:function(e,t){return null==c&&(e=E[e.toLowerCase()]=E[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==c&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)w.always(e[w.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||C;return r&&r.abort(t),o(0,t),this}};if(v.promise(w),h.url=((e||h.url||_t.href)+"").replace(Dt,_t.protocol+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(Oe)||[""],null==h.crossDomain){l=Z.createElement("a");try{l.href=h.url,l.href=l.href,h.crossDomain=jt.protocol+"//"+jt.host!=l.protocol+"//"+l.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=ce.param(h.data,h.traditional)),K(kt,h,t,w),c)return w;(d=ce.event&&h.global)&&0==ce.active++&&ce.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Pt.test(h.type),i=h.url.replace(St,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Ot,"+")):(f=h.url.slice(i.length),h.data&&(i+=(bt.test(i)?"&":"?")+h.data,delete h.data),!1===h.cache&&(i=i.replace(At,"$1"),f=(bt.test(i)?"&":"?")+"_="+yt+++f),h.url=i+f),h.ifModified&&(ce.lastModified[i]&&w.setRequestHeader("If-Modified-Since",ce.lastModified[i]),ce.etag[i]&&w.setRequestHeader("If-None-Match",ce.etag[i])),(h.data&&h.hasContent&&!1!==h.contentType||t.contentType)&&w.setRequestHeader("Content-Type",h.contentType),w.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Rt+"; q=0.01":""):h.accepts["*"]);for(p in h.headers)w.setRequestHeader(p,h.headers[p]);if(h.beforeSend&&(!1===h.beforeSend.call(g,w,h)||c))return w.abort();if(C="abort",_.add(h.complete),w.done(h.success),w.fail(h.error),r=K(Nt,h,t,w)){if(w.readyState=1,d&&m.trigger("ajaxSend",[w,h]),c)return w;h.async&&h.timeout>0&&(u=n.setTimeout(function(){w.abort("timeout")},h.timeout));try{c=!1,r.send(b,o)}catch(e){if(c)throw e;o(-1,e)}}else o(-1,"No Transport");return w},getJSON:function(e,t,n){return ce.get(e,t,n,"json")},getScript:function(e,t){return ce.get(e,void 0,t,"script")}}),ce.each(["get","post"],function(e,t){ce[t]=function(e,n,o,r){return ce.isFunction(n)&&(r=r||o,o=n,n=void 0),ce.ajax(ce.extend({url:e,type:t,dataType:r,data:n,success:o},ce.isPlainObject(e)&&e))}}),ce._evalUrl=function(e){return ce.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},ce.fn.extend({wrapAll:function(e){var t;return this[0]&&(ce.isFunction(e)&&(e=e.call(this[0])),t=ce(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return ce.isFunction(e)?this.each(function(t){ce(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ce(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ce.isFunction(e);return this.each(function(n){ce(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){ce(this).replaceWith(this.childNodes)}),this}}),ce.expr.pseudos.hidden=function(e){return!ce.expr.pseudos.visible(e)},ce.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},ce.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var It={0:200,1223:204},Mt=ce.ajaxSettings.xhr();le.cors=!!Mt&&"withCredentials"in Mt,le.ajax=Mt=!!Mt,ce.ajaxTransport(function(e){var t,o;if(le.cors||Mt&&!e.crossDomain)return{send:function(r,i){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(s in r)a.setRequestHeader(s,r[s]);t=function(e){return function(){t&&(t=o=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?i(0,"error"):i(a.status,a.statusText):i(It[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),o=a.onerror=t("error"),void 0!==a.onabort?a.onabort=o:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout(function(){t&&o()})},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),ce.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),ce.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ce.globalEval(e),e}}}),ce.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ce.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(o,r){t=ce("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),Z.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Lt=[],Ft=/(=)\?(?=&|$)|\?\?/;ce.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Lt.pop()||ce.expando+"_"+yt++;return this[e]=!0,e}}),ce.ajaxPrefilter("json jsonp",function(e,t,o){var r,i,s,a=!1!==e.jsonp&&(Ft.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ft.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=ce.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ft,"$1"+r):!1!==e.jsonp&&(e.url+=(bt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||ce.error(r+" was not called"),s[0]},e.dataTypes[0]="json",i=n[r],n[r]=function(){s=arguments},o.always(function(){void 0===i?ce(n).removeProp(r):n[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Lt.push(r)),s&&ce.isFunction(i)&&i(s[0]),s=i=void 0}),"script"}),le.createHTMLDocument=function(){var e=Z.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),ce.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var o,r,i;return t||(le.createHTMLDocument?((o=(t=Z.implementation.createHTMLDocument("")).createElement("base")).href=Z.location.href,t.head.appendChild(o)):t=Z),r=ye.exec(e),i=!n&&[],r?[t.createElement(r[1])]:(r=b([e],t,i),i&&i.length&&ce(i).remove(),ce.merge([],r.childNodes))},ce.fn.load=function(e,t,n){var o,r,i,s=this,a=e.indexOf(" ");return a>-1&&(o=z(e.slice(a)),e=e.slice(0,a)),ce.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),s.length>0&&ce.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){i=arguments,s.html(o?ce("<div>").append(ce.parseHTML(e)).find(o):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,i||[e.responseText,t,e])})}),this},ce.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ce.fn[t]=function(e){return this.on(t,e)}}),ce.expr.pseudos.animated=function(e){return ce.grep(ce.timers,function(t){return e===t.elem}).length},ce.offset={setOffset:function(e,t,n){var o,r,i,s,a,u,l=ce.css(e,"position"),c=ce(e),d={};"static"===l&&(e.style.position="relative"),a=c.offset(),i=ce.css(e,"top"),u=ce.css(e,"left"),("absolute"===l||"fixed"===l)&&(i+u).indexOf("auto")>-1?(s=(o=c.position()).top,r=o.left):(s=parseFloat(i)||0,r=parseFloat(u)||0),ce.isFunction(t)&&(t=t.call(e,n,ce.extend({},a))),null!=t.top&&(d.top=t.top-a.top+s),null!=t.left&&(d.left=t.left-a.left+r),"using"in t?t.using.call(e,d):c.css(d)}},ce.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ce.offset.setOffset(this,e,t)});var t,n,o,r,i=this[0];return i?i.getClientRects().length?(o=i.getBoundingClientRect()).width||o.height?(r=i.ownerDocument,n=$(r),t=r.documentElement,{top:o.top+n.pageYOffset-t.clientTop,left:o.left+n.pageXOffset-t.clientLeft}):o:{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n=this[0],o={top:0,left:0};return"fixed"===ce.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ce.nodeName(e[0],"html")||(o=e.offset()),o={top:o.top+ce.css(e[0],"borderTopWidth",!0),left:o.left+ce.css(e[0],"borderLeftWidth",!0)}),{top:t.top-o.top-ce.css(n,"marginTop",!0),left:t.left-o.left-ce.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===ce.css(e,"position");)e=e.offsetParent;return e||qe})}}),ce.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;ce.fn[e]=function(o){return Te(this,function(e,o,r){var i=$(e);if(void 0===r)return i?i[t]:e[o];i?i.scrollTo(n?i.pageXOffset:r,n?r:i.pageYOffset):e[o]=r},e,o,arguments.length)}}),ce.each(["top","left"],function(e,t){ce.cssHooks[t]=R(le.pixelPosition,function(e,n){if(n)return n=N(e,t),tt.test(n)?ce(e).position()[t]+"px":n})}),ce.each({Height:"height",Width:"width"},function(e,t){ce.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,o){ce.fn[o]=function(r,i){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===i?"margin":"border");return Te(this,function(t,n,r){var i;return ce.isWindow(t)?0===o.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?ce.css(t,n,a):ce.style(t,n,r,a)},t,s?r:void 0,s)}})}),ce.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,o){return this.on(t,e,n,o)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),ce.parseJSON=JSON.parse,void 0===(o=function(){return ce}.apply(t,[]))||(e.exports=o);var Ut=n.jQuery,Ht=n.$;return ce.noConflict=function(e){return n.$===ce&&(n.$=Ht),e&&n.jQuery===ce&&(n.jQuery=Ut),ce},r||(n.jQuery=n.$=ce),ce})},function(e,t,n){var o=n(249);e.exports=function(e,t,n){if(o(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,o){return e.call(t,n,o)};case 3:return function(n,o,r){return e.call(t,n,o,r)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var o=n(45);e.exports=function(e,t){if(!o(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!o(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var o=n(77)("keys"),r=n(61);e.exports=function(e){return o[e]||(o[e]=r(e))}},function(e,t,n){var o=n(20),r="__core-js_shared__",i=o[r]||(o[r]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=o(n(252)),i=o(n(264)),s="function"==typeof i.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};t.default="function"==typeof i.default&&"symbol"===s(r.default)?function(e){return void 0===e?"undefined":s(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":s(e)}},function(e,t){var n=Math.ceil,o=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?o:n)(e)}},function(e,t){e.exports=!0},function(e,t,n){var o=n(36),r=n(256),i=n(83),s=n(76)("IE_PROTO"),a=function(){},u=function(){var e,t=n(133)("iframe"),o=i.length;for(t.style.display="none",n(259).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;o--;)delete u.prototype[i[o]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(a.prototype=o(e),n=new a,a.prototype=null,n[s]=e):n=u(),void 0===t?n:r(n,t)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var o=n(21).f,r=n(28),i=n(13)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,i)&&o(e,i,{configurable:!0,value:t})}},function(e,t,n){t.f=n(13)},function(e,t,n){var o=n(20),r=n(9),i=n(80),s=n(85),a=n(21).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=i?{}:o.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={movement:t.noMovement={draggables:[],amount:{x:0,y:0},isBeyondStartPosition:!1},direction:null,destination:null};t.default=o},function(e,t,n){"use strict";t.__esModule=!0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(290));t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,o.default)(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDroppableDimension=t.getDraggableDimension=t.getFragment=t.noSpacing=void 0;var o=n(301),r=function(e){return e&&e.__esModule?e:{default:e}}(n(91)),i=n(63),s={x:0,y:0},a=t.noSpacing={top:0,right:0,bottom:0,left:0},u=function(e,t){var n=e.top,o=e.right,i=e.bottom,s=e.left;return(0,r.default)({top:n+t.y,left:s+t.x,bottom:i+t.y,right:o+t.x})},l=function(e,t){var n=e.top,o=e.right,i=e.bottom,s=e.left;return(0,r.default)({top:n-t.top,left:s-t.left,bottom:i+t.bottom,right:o+t.right})},c=t.getFragment=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,n=(0,r.default)({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x});return{top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.width,height:n.height,center:{x:(n.right+n.left)/2,y:(n.bottom+n.top)/2}}};t.getDraggableDimension=function(e){var t=e.id,n=e.droppableId,o=e.clientRect,r=e.margin,i=void 0===r?a:r,d=e.windowScroll,p=u(o,void 0===d?s:d);return{id:t,droppableId:n,placeholder:{margin:i,withoutMargin:{width:o.width,height:o.height}},client:{withoutMargin:c(o),withMargin:c(l(o,i))},page:{withoutMargin:c(p),withMargin:c(l(p,i))}}},t.getDroppableDimension=function(e){var t=e.id,n=e.clientRect,r=e.containerRect,d=e.direction,p=void 0===d?"vertical":d,f=e.margin,h=void 0===f?a:f,g=e.padding,m=void 0===g?a:g,v=e.windowScroll,_=void 0===v?s:v,y=e.scroll,b=void 0===y?s:y,E=e.isEnabled,C=void 0===E||E,w=l(n,h),x=u(n,_),O=!r||(0,i.isEqual)(r,n)?u(w,_):u(r,_);return{id:t,isEnabled:C,axis:"vertical"===p?o.vertical:o.horizontal,client:{withoutMargin:c(n),withMargin:c(w),withMarginAndPadding:c(l(w,m))},page:{withoutMargin:c(x),withMargin:c(l(x,h)),withMarginAndPadding:c(l(x,(0,i.add)(h,m)))},container:{scroll:{initial:b,current:b},bounds:c(O)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.top,n=e.right,o=e.bottom,r=e.left;return{top:t,right:n,bottom:o,left:r,width:n-r,height:o-t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{x:window.pageXOffset,y:window.pageYOffset}}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.lift=t.dropAnimationFinished=t.cancel=t.drop=t.completeDrop=t.prepare=t.clean=t.crossAxisMoveBackward=t.crossAxisMoveForward=t.moveForward=t.moveBackward=t.moveByWindowScroll=t.move=t.updateDroppableDimensionIsEnabled=t.updateDroppableDimensionScroll=t.publishDroppableDimension=t.publishDraggableDimension=t.completeLift=t.requestDimensions=void 0;var r=o(n(88)),i=o(n(321)),s=n(7),a={x:0,y:0},u=function(e){var t=e.initial,n=e.current,o=e.droppable,r=(0,s.subtract)(t.windowScroll,n.windowScroll),i=o?(0,s.subtract)(o.container.scroll.initial,o.container.scroll.current):a;return(0,s.add)(r,i)},l=t.requestDimensions=function(e){return{type:"REQUEST_DIMENSIONS",payload:e}},c=t.completeLift=function(e,t,n,o,r){return{type:"COMPLETE_LIFT",payload:{id:e,type:t,client:n,windowScroll:o,isScrollAllowed:r}}},d=(t.publishDraggableDimension=function(e){return{type:"PUBLISH_DRAGGABLE_DIMENSION",payload:e}},t.publishDroppableDimension=function(e){return{type:"PUBLISH_DROPPABLE_DIMENSION",payload:e}},t.updateDroppableDimensionScroll=function(e,t){return{type:"UPDATE_DROPPABLE_DIMENSION_SCROLL",payload:{id:e,offset:t}}},t.updateDroppableDimensionIsEnabled=function(e,t){return{type:"UPDATE_DROPPABLE_DIMENSION_IS_ENABLED",payload:{id:e,isEnabled:t}}},t.move=function(e,t,n){return{type:"MOVE",payload:{id:e,client:t,windowScroll:n}}},t.moveByWindowScroll=function(e,t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:{id:e,windowScroll:t}}},t.moveBackward=function(e){return{type:"MOVE_BACKWARD",payload:e}},t.moveForward=function(e){return{type:"MOVE_FORWARD",payload:e}},t.crossAxisMoveForward=function(e){return{type:"CROSS_AXIS_MOVE_FORWARD",payload:e}},t.crossAxisMoveBackward=function(e){return{type:"CROSS_AXIS_MOVE_BACKWARD",payload:e}},t.clean=function(){return{type:"CLEAN",payload:null}}),p=t.prepare=function(){return{type:"PREPARE",payload:null}},f=function(e){return{type:"DROP_ANIMATE",payload:{trigger:e.trigger,newHomeOffset:e.newHomeOffset,impact:e.impact,result:e.result}}},h=t.completeDrop=function(e){return{type:"DROP_COMPLETE",payload:e}};t.drop=function(){return function(e,t){var n=t();if("COLLECTING_DIMENSIONS"!==n.phase){if("DRAGGING"!==n.phase)return console.error("not able to drop in phase: '"+n.phase+"'"),void e(d());if(!n.drag)return console.error("not able to drop when there is invalid drag state",n),void e(d());var o=n.drag,r=o.impact,a=o.initial,l=o.current,c=n.dimension.draggable[l.id],p=n.dimension.droppable[c.droppableId],g=r.destination?n.dimension.droppable[r.destination.droppableId]:null,m={draggableId:l.id,type:l.type,source:a.source,destination:r.destination},v=(0,i.default)({movement:r.movement,draggable:c,draggables:n.dimension.draggable,destination:g}),_=(0,s.subtract)(v,c.client.withMargin.center),y=u({initial:a,current:l,droppable:g||p}),b=(0,s.add)(_,y);e((0,s.isEqual)(l.client.offset,b)?h(m):f({trigger:"DROP",newHomeOffset:b,impact:r,result:m}))}else e(d())}},t.cancel=function(){return function(e,t){var n=t();if("DRAGGING"===n.phase){if(!n.drag)return console.error("invalid drag state",n),void e(d());var o=n.drag,i=o.initial,l=o.current,c=n.dimension.droppable[i.source.droppableId],p={draggableId:l.id,type:l.type,source:i.source,destination:null};if((0,s.isEqual)(l.client.offset,a))e(h(p));else{var g=u({initial:i,current:l,droppable:c});e(f({trigger:"CANCEL",newHomeOffset:g,impact:r.default,result:p}))}}else e(d())}},t.dropAnimationFinished=function(){return function(e,t){var n=t();return"DROP_ANIMATING"!==n.phase?(console.error("cannot end drop that is no longer animating",n),void e(d())):n.drop&&n.drop.pending?void e(h(n.drop.pending.result)):(console.error("cannot end drop that has no pending state",n),void e(d()))}},t.lift=function(e,t,n,o,r){return function(i,s){var a=s();"DROP_ANIMATING"===a.phase&&(a.drop&&a.drop.pending?i(h(a.drop.pending.result)):(console.error("cannot flush drop animation if there is no pending"),i(d()))),i(p()),setTimeout(function(){"PREPARING"===s().phase&&(i(l(t)),setTimeout(function(){"COLLECTING_DIMENSIONS"===s().phase&&i(c(e,t,n,o,r))}))})}}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=0);return t},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n,r,i,s,a){var u=n+(-i*(t-r)+-s*n)*e,l=t+u*e;return Math.abs(u)<a&&Math.abs(l-r)<a?(o[0]=r,o[1]=0,o):(o[0]=l,o[1]=u,o)};var o=[0,0];e.exports=t.default},function(e,t,n){(function(t){(function(){var n,o,r;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:void 0!==t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-r)/1e6},o=t.hrtime,r=(n=function(){var e;return 1e9*(e=o())[0]+e[1]})()):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(t,n(70))},function(e,t,n){(function(t){for(var o=n(333),r="undefined"==typeof window?t:window,i=["moz","webkit"],s="AnimationFrame",a=r["request"+s],u=r["cancel"+s]||r["cancelRequest"+s],l=0;!a&&l<i.length;l++)a=r[i[l]+"Request"+s],u=r[i[l]+"Cancel"+s]||r[i[l]+"CancelRequest"+s];if(!a||!u){var c=0,d=0,p=[];a=function(e){if(0===p.length){var t=o(),n=Math.max(0,1e3/60-(t-c));c=n+t,setTimeout(function(){var e=p.slice(0);p.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(e){setTimeout(function(){throw e},0)}},Math.round(n))}return p.push({handle:++d,callback:e,cancelled:!1}),d},u=function(e){for(var t=0;t<p.length;t++)p[t].handle===e&&(p[t].cancelled=!0)}}e.exports=function(e){return a.call(r,e)},e.exports.cancel=function(){u.apply(r,arguments)},e.exports.polyfill=function(e){e||(e=r),e.requestAnimationFrame=a,e.cancelAnimationFrame=u}}).call(t,n(40))},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(0!==n[o])return!1;var r="number"==typeof t[o]?t[o]:t[o].val;if(e[o]!==r)return!1}return!0},e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(10)),i=o(n(146));t.default=function(e,t){var n=function(e){t()&&e()},o=(0,r.default)(function(t,n){var o={x:t,y:n};e.onMove(o)});return{move:(0,i.default)(function(e){n(function(){return o(e.x,e.y)})}),moveForward:(0,i.default)(function(){n(e.onMoveForward)}),moveBackward:(0,i.default)(function(){n(e.onMoveBackward)}),crossAxisMoveForward:(0,i.default)(function(){n(e.onCrossAxisMoveForward)}),crossAxisMoveBackward:(0,i.default)(function(){n(e.onCrossAxisMoveBackward)}),windowScrollMove:(0,i.default)(function(){n(e.onWindowScroll)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e?e.ownerDocument.defaultView:window}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tab=9,t.enter=13,t.escape=27,t.space=32,t.arrowLeft=37,t.arrowUp=38,t.arrowRight=39,t.arrowDown=40},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=t.interactiveTagNames=["input","button","textarea","select","option","optgroup","video","audio"];t.default=function(e,t){if(t.canDragInteractiveElements)return!0;var n=e.target,r=e.currentTarget;return!(n instanceof HTMLElement&&r instanceof HTMLElement)||!(-1!==o.indexOf(n.tagName.toLowerCase())||function e(t,n){if(null==n)return!1;var o=n.getAttribute("contenteditable");return"true"===o||""===o||n!==t&&e(t,n.parentElement)}(r,n))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.omit=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return Object.keys(e).forEach(function(o){-1===t.indexOf(o)&&(n[o]=e[o])}),n},t.arraysEqual=function(e,t){if(e===t)return!0;var n=!Array.isArray(e)||!Array.isArray(t),o=e.length!==t.length;return!n&&!o&&e.every(function(e,n){return e===t[n]})},t.isElementAnSFC=function(e){return!("string"==typeof e.type||e.type.prototype.isReactComponent)},t.hyphenate=function(e){var t={};return function(e){return t[e]||(t[e]=function(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}(e)),t[e]}}()},function(e,t,n){(function(t){var n,o=t.crypto||t.msCrypto;if(o&&o.getRandomValues){var r=new Uint8Array(16);n=function(){return o.getRandomValues(r),r}}if(!n){var i=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}e.exports=n}).call(t,n(40))},function(e,t){for(var n=[],o=0;o<256;++o)n[o]=(o+256).toString(16).substr(1);e.exports=function(e,t){var o=t||0,r=n;return r[e[o++]]+r[e[o++]]+r[e[o++]]+r[e[o++]]+"-"+r[e[o++]]+r[e[o++]]+"-"+r[e[o++]]+r[e[o++]]+"-"+r[e[o++]]+r[e[o++]]+"-"+r[e[o++]]+r[e[o++]]+r[e[o++]]+r[e[o++]]+r[e[o++]]+r[e[o++]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t,n){this.localizedKeys={},this.localized=!1,this.localizedObject=e,this.iso=t,this.language={iso:t,name:n[t]},this.languages=n}return e.prototype.getLanguage=function(){return this.language||this.iso&&(this.language={iso:this.iso,name:this.languages[this.iso]}),this.language},e.prototype.hasTranslation=function(e){return e in this.localizedKeys},e.prototype.addTranslation=function(e,t){this.localized||(this.localizedObject=Object.assign({},this.localizedObject),this.localized=!0),this.localizedObject[e]=t,this.localizedKeys[e]=!0},e.prototype.isLocalized=function(){return this.localized},e.prototype.getObject=function(){return this.localizedObject},e}();t.LocalizedObject=o;var r=function(){function e(){}return e.translate=function(e,t,n,r){var i=new o(e,t,n);if(r&&e.uuid in r){var s=r[e.uuid];Object.keys(s).forEach(function(e){return i.addTranslation(e,s[e])})}return i},e}();t.default=r,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"LocalizedObject","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/services/Localization.ts"),__REACT_HOT_LOADER__.register(r,"Localization","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/services/Localization.ts"))},function(e,t){e.exports={grid_size:"20",gridSize:"20",node_spacing:"20",nodeSpacing:"20",node_padding:"10",nodePadding:"10","background-size":"20",backgroundSize:"20",ele:"FormElement__ele___JvUnS",border:"FormElement__border___359x7",label:"FormElement__label___1jpP-",invalid:"FormElement__invalid___2XvXX",error:"FormElement__error___3eyL1","send-msg-error":"FormElement__send-msg-error___17fOT",sendMsgError:"FormElement__send-msg-error___17fOT","kase-error":"FormElement__kase-error___1oAbq",kaseError:"FormElement__kase-error___1oAbq","attrib-error":"FormElement__attrib-error___royxA",attribError:"FormElement__attrib-error___royxA",help_text:"FormElement__help_text___3HjIf",helpText:"FormElement__help_text___3HjIf"}},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),o=0;o<n.length;o++)n[o]=arguments[o];return e.apply(t,n)}}},function(e,t,n){"use strict";var o=n(8),r=n(181),i=n(183),s=n(184),a=n(185),u=n(110),l="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(186);e.exports=function(e){return new Promise(function(t,c){var d=e.data,p=e.headers;o.isFormData(d)&&delete p["Content-Type"];var f=new XMLHttpRequest,h="onreadystatechange",g=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in f||a(e.url)||(f=new window.XDomainRequest,h="onload",g=!0,f.onprogress=function(){},f.ontimeout=function(){}),e.auth){var m=e.auth.username||"",v=e.auth.password||"";p.Authorization="Basic "+l(m+":"+v)}if(f.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,f[h]=function(){if(f&&(4===f.readyState||g)&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in f?s(f.getAllResponseHeaders()):null,o={data:e.responseType&&"text"!==e.responseType?f.response:f.responseText,status:1223===f.status?204:f.status,statusText:1223===f.status?"No Content":f.statusText,headers:n,config:e,request:f};r(t,c,o),f=null}},f.onerror=function(){c(u("Network Error",e,null,f)),f=null},f.ontimeout=function(){c(u("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",f)),f=null},o.isStandardBrowserEnv()){var _=n(187),y=(e.withCredentials||a(e.url))&&e.xsrfCookieName?_.read(e.xsrfCookieName):void 0;y&&(p[e.xsrfHeaderName]=y)}if("setRequestHeader"in f&&o.forEach(p,function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete p[t]:f.setRequestHeader(t,e)}),e.withCredentials&&(f.withCredentials=!0),e.responseType)try{f.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&f.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){f&&(f.abort(),c(e),f=null)}),void 0===d&&(d=null),f.send(d)})}},function(e,t,n){"use strict";var o=n(182);e.exports=function(e,t,n,r,i){var s=new Error(e);return o(s,t,n,r,i)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";function o(e){this.message=e}o.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},o.prototype.__CANCEL__=!0,e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(12);t.mapGroupsToAssets=function(e){return e.map(function(e){return{name:e.name,id:e.uuid,type:o.AssetType.Group}})},t.mapAssetsToGroups=function(e){return e.map(function(e){return{uuid:e.id,name:e.name}})}},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(15),s=n(197),a=function(e){function t(t){var n=e.call(this,t)||this;return n.state={checked:n.props.defaultValue,errors:[]},n.onChange=n.onChange.bind(n),n}return o(t,e),t.prototype.onChange=function(e){var t=this,n=e.currentTarget.checked;this.setState({checked:n},function(){return t.props.onCheck&&t.props.onCheck()})},t.prototype.validate=function(){return!0},t.prototype.render=function(){return!0===this.props.sibling&&s.sibling,r.createElement(i.default,{__className:s.sibling,border:this.props.border,name:this.props.name,required:this.props.required,errors:this.state.errors},r.createElement("label",{className:s.label},r.createElement("input",{type:"checkbox",defaultChecked:this.state.checked,onChange:this.onChange}),r.createElement("div",{className:s.title},this.props.name),r.createElement("div",{className:s.description},this.props.description)))},t}(r.Component);t.default=a,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__extends","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/form/CheckboxElement.tsx"),__REACT_HOT_LOADER__.register(a,"CheckboxElement","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/form/CheckboxElement.tsx"))},function(e,t){e.exports={grid_size:"20",gridSize:"20",node_spacing:"20",nodeSpacing:"20",node_padding:"10",nodePadding:"10","background-size":"20",backgroundSize:"20",action:"Action__action___1_NKI",has_router:"Action__has_router___22Kz-",hasRouter:"Action__has_router___22Kz-",body:"Action__body___1qaUw",send_msg:"Action__send_msg___1cEzv",sendMsg:"Action__send_msg___1cEzv",set_contact_field:"Action__set_contact_field___3cHR0",setContactField:"Action__set_contact_field___3cHR0",set_contact_property:"Action__set_contact_property___1aBfa",setContactProperty:"Action__set_contact_property___1aBfa",add_contact_groups:"Action__add_contact_groups___QB-sl",addContactGroups:"Action__add_contact_groups___QB-sl",remove_contact_groups:"Action__remove_contact_groups___1Gsvc",removeContactGroups:"Action__remove_contact_groups___1Gsvc",set_run_result:"Action__set_run_result___2GDZk",setRunResult:"Action__set_run_result___2GDZk",send_email:"Action__send_email___W3Gzh",sendEmail:"Action__send_email___W3Gzh",missing:"Action__missing___1vGMX",call_webhook:"Action__call_webhook___XTWDu",callWebhook:"Action__call_webhook___XTWDu",not_localizable:"Action__not_localizable___2Evxz",notLocalizable:"Action__not_localizable___2Evxz",overlay:"Action__overlay___3jW1O",translate_from:"Action__translate_from___29J9F",translateFrom:"Action__translate_from___29J9F",translate_to:"Action__translate_to___1vrtn",translateTo:"Action__translate_to___1vrtn",translating:"Action__translating___2mK1y",missing_localization:"Action__missing_localization___WFnu4",missingLocalization:"Action__missing_localization___WFnu4"}},function(e,t){function n(e,t){for(var n=t.length,o=0;o<n;){if(e===t[o])return!0;o++}return!1}function o(e){return n(e.charCodeAt(0),r)}var r=[10,12,13,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,163,164,165,167,191,196,197,198,199,201,209,214,216,220,223,224,228,229,230,232,233,236,241,242,246,248,249,252,915,916,920,923,926,928,931,934,936,937,8364],i=[12,91,92,93,94,123,124,125,126,8364];e.exports.validateCharacter=o,e.exports.validateMessage=function(e){for(var t=0;t<e.length;t++)if(!o(e.charAt(t)))return!1;return!0},e.exports.validateExtendedCharacter=function(e){return n(e.charCodeAt(0),i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KEY_AT=50,t.KEY_SPACE=32,t.KEY_ENTER=13,t.KEY_UP=38,t.KEY_DOWN=40,t.KEY_TAB=9,t.KEY_P=80,t.KEY_N=78,t.KEY_ESC=27,t.KEY_BACKSPACE=8,t.MAX_GSM_SINGLE=160,t.MAX_GSM_MULTI=153,t.MAX_UNICODE_SINGLE=70,t.MAX_UNICODE_MULTI=67,t.COMPLETION_HELP="Tab to complete, enter to select",t.OPTIONS=[{name:"contact",description:"The name of the contact."},{name:"contact.name",description:"The name of the contact."},{name:"contact.language",description:"The language code for the contact."},{name:"contact.fields",description:"Custom fields on the contact."},{name:"contact.groups",description:"The groups for the contact."},{name:"contact.urns",description:"URNs on the contact."},{name:"contact.urns.tel",description:"The preferred telephone number for the contact."},{name:"contact.urns.telegram",description:"The preferred telegram id for the contact."},{name:"input",description:"The last input from the contact if any."},{name:"run",description:"Run details"},{name:"run.contact",description:"The contact in this run"},{name:"run.results",description:"Results for the run"},{name:"child",description:"Run details after running a child flow"},{name:"child.results",description:"The results for the child flow"},{name:"parent",description:"Run details if being called from a parent flow"},{name:"parent.results",description:"The results for the parent flow"},{name:"webhook",description:"The body of the webhook response"},{name:"webhook.status",description:"The status of the webhook call"},{name:"webhook.status_code",description:"The status code returned from the webhook"},{name:"webhook.url",description:"The URL which was called"},{name:"webhook.body",description:"The body of the webhook response"},{name:"webhook.json",description:"The JSON parsed body of the response, can access subelements"},{name:"webhook.request",description:"The raw request of the webhook including headers"},{name:"webhook.response",description:"The raw response of the webhook including headers"}],t.GSM={0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,"\n":10,"\f":12,"\r":13," ":32,"!":33,'"':34,"#":35,$:36,"%":37,"&":38,"'":39,"(":40,")":41,"*":42,"+":43,",":44,"-":45,".":46,"/":47,":":58,";":59,"<":60,"=":61,">":62,"?":63,"@":64,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,"[":91,"\\":92,"]":93,"^":94,_:95,a:97,b:98,c:99,d:100,e:101,f:102,g:103,h:104,i:105,j:106,k:107,l:108,m:109,n:110,o:111,p:112,q:113,r:114,s:115,t:116,u:117,v:118,w:119,x:120,y:121,z:122,"{":123,"|":124,"}":125,"~":126,"":161,"":163,"":164,"":165,"":167,"":191,"":196,"":197,"":198,"":199,"":201,"":209,"":214,"":216,"":220,"":223,"":224,"":228,"":229,"":230,"":232,"":233,"":236,"":241,"":242,"":246,"":248,"":249,"":252,"":915,"":916,"":920,"":923,"":926,"":928,"":931,"":934,"":936,"":937,"":8364}},function(e,t,n){"use strict";function o(e){return function(t){var n=t.dispatch,o=t.getState;return function(t){return function(r){return"function"==typeof r?r(n,o,e):t(r)}}}}t.__esModule=!0;var r=o();r.withExtraArgument=o,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(54),r=n(43),i=n(56);t.initialState={flowContext:o.initialState,flowEditor:r.initialState,nodeEditor:i.initialState}},function(e,t,n){"use strict";var o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(11),u=n(42),l=n(17),c=n(2),d=n(54),p=n(43),f=n(57),h=n(229),g=n(56),m=null;t.initializeFlow=function(e,t){return function(n,o){var r=f.getFlowComponents(e);return t&&t.addFlowComponents(r),n(d.updateDefinition(h.pruneDefinition(e))),n(d.updateNodes(r.renderNodeMap)),n(p.updateFetchingFlow(!1)),r}},t.fetchFlow=function(e,n){return function(o,r){return o(p.updateFetchingFlow(!0)),e.getFlowAssets().get(n).then(function(n){var r=n.content;return o(t.initializeFlow(r,e))})}},t.reflow=function(e){return void 0===e&&(e=null),function(n,o){var i=e;i||(i=o().flowContext.nodes);var s=f.getCollision(i);if(s.length){c.timeStart("reflow");var a=r(s,3),u=a[0],l=a[1],p=a[2],g=h.updatePosition(i,l.node.uuid,l.ui.position.left,u.ui.position.bottom+c.NODE_SPACING);if(p){var m=u.ui.position.bottom+c.NODE_SPACING;m+=l.ui.position.bottom-l.ui.position.top,g=h.updatePosition(g,p.node.uuid,p.ui.position.left,m)}return c.timeEnd("reflow"),g=n(t.reflow(g)),null==e&&n(d.updateNodes(g)),g}return i}},t.onUpdateLocalizations=function(e,t){return function(n,o){var r=o().flowContext.definition,i=h.updateLocalization(r,e,t);return n(d.updateDefinition(i)),i}},t.updateDimensions=function(e,t){return function(n,o){var r=o().flowContext.nodes,i=h.updateDimensions(r,e.uuid,t);return n(d.updateNodes(i)),v(n),i}},t.addNode=function(e){return function(t,n){c.timeStart("addNode");var o=n().flowContext.nodes;return e.node=h.uniquifyNode(e.node),t(d.updateNodes(h.mergeNode(o,e))),c.timeEnd("addNode"),e}},t.updateExitDestination=function(e,t,n){return function(o,r){var i=r().flowContext.nodes,s=h.updateConnection(i,e,t,n);return o(d.updateNodes(s)),s}},t.disconnectExit=function(e,n){return function(o,r){return o(t.updateExitDestination(e,n,null))}},t.updateConnection=function(e,n){return function(o,i){var s=r(e.split(":"),2),a=s[0],u=s[1];return o(t.updateExitDestination(a,u,n))}},t.ensureStartNode=function(){return function(e,n){var o=n().flowContext.nodes;if(0===Object.keys(o).length){var r={uuid:a.v4(),type:"send_msg",text:"Hi there, this is the first message in your flow."},i={uuid:a.v4(),actions:[r],exits:[{uuid:a.v4()}]};return e(t.addNode({node:i,ui:{position:{left:120,top:120}},inboundConnections:{}}))}}},t.removeNode=function(e){return function(t,n){var o=n().flowContext.nodes,r=h.removeNodeAndRemap(o,e.uuid);return t(d.updateNodes(r)),r}},t.removeAction=function(e,n){return function(o,r){var i=r().flowContext.nodes,s=i[e];if(1===s.node.actions.length)return o(t.removeNode(s.node));var a=h.removeAction(i,e,n.uuid);return o(d.updateNodes(a)),a}},t.moveActionUp=function(e,t){return function(n,o){var r=o().flowContext.nodes,i=h.moveActionUp(r,e,t.uuid);return n(d.updateNodes(i)),i}},t.spliceInRouter=function(e,t){return function(n,r){var s=r().flowContext.nodes,u=s[t.nodeUUID];e.node=h.uniquifyNode(e.node);var l,p,g=s,m=f.getActionIndex(u.node,t.actionUUID),v=m>0?i(u.node.actions.slice(0,m)):[],_=u.node.actions.slice(m+1,u.node.actions.length),y=u.ui.position,b=y.left,E=y.top;return v.length>0?(l={node:{uuid:a.v4(),actions:v,exits:[{uuid:a.v4(),destination_node_uuid:null}]},ui:{position:{left:b,top:E}},inboundConnections:o({},u.inboundConnections)},g=h.mergeNode(g,l),E+=c.NODE_SPACING,e.inboundConnections=(C={},C[l.node.exits[0].uuid]=l.node.uuid,C),e.ui.position.top+=c.NODE_SPACING):e.inboundConnections=o({},u.inboundConnections),g=h.mergeNode(g,e),_.length>0?(p={node:{uuid:a.v4(),actions:_,exits:[{uuid:a.v4(),destination_node_uuid:u.node.exits[0].destination_node_uuid}]},ui:{position:{left:b,top:E}},inboundConnections:(w={},w[e.node.exits[0].uuid]=e.node.uuid,w)},g=h.mergeNode(g,p)):g=h.updateConnection(g,e.node.uuid,e.node.exits[0].uuid,u.node.exits[0].destination_node_uuid),g=h.removeNode(g,u.node.uuid),n(d.updateNodes(g)),g;var C,w}},t.resetNodeEditingState=function(){return function(e,t){var n=t(),o=n.flowEditor.flowUI,r=o.pendingConnection,i=o.createNodePosition,s=n.nodeEditor,a=s.actionToEdit,u=s.nodeToEdit;e(p.updateGhostNode(null)),r&&e(p.updatePendingConnection(null)),i&&e(p.updateCreateNodePosition(null)),a&&e(g.updateActionToEdit(null)),u&&e(g.updateNodeToEdit(null))}},t.onUpdateAction=function(e){return function(t,n){var o=n(),r=o.flowEditor.flowUI,i=r.pendingConnection,s=r.createNodePosition,u=o.nodeEditor,l=u.userAddingAction,p=u.nodeToEdit,f=o.flowContext.nodes;if(c.timeStart("onUpdateAction"),null==p)throw new Error("Need nodeToEdit in state to update an action");var m=f;if(i&&i.nodeUUID!==p.uuid){var v={node:{uuid:a.v4(),actions:[e],exits:[{uuid:a.v4(),destination_node_uuid:null,name:null}]},ui:{position:s},inboundConnections:(_={},_[i.exitUUID]=i.nodeUUID,_)};m=h.mergeNode(f,v)}else m=l?h.addAction(f,p.uuid,e):h.updateAction(f,p.uuid,e);return c.timeEnd("onUpdateAction"),t(d.updateNodes(m)),t(g.updateUserAddingAction(!1)),m;var _}},t.onAddToNode=function(e){return function(t,n){var o=n(),r=(o.flowContext.definition,o.flowEditor.editorUI.language,{uuid:a.v4(),type:"send_msg",text:""});t(g.updateUserAddingAction(!0)),t(g.updateActionToEdit(r)),t(g.updateNodeToEdit(e)),t(d.updateLocalizations([])),t(g.updateTypeConfig(l.getTypeConfig(r.type))),t(p.updateNodeDragging(!1)),t(p.updateNodeEditorOpen(!0))}},t.onNodeEditorClose=function(e,n){return function(o,r){var i=r(),a=i.flowContext.nodes,u=i.flowEditor.flowUI.pendingConnection;if(e&&u){var l=a[u.nodeUUID];try{for(var c=s(l.node.exits),d=c.next();!d.done;d=c.next()){var p=d.value;if(p.uuid===u.exitUUID){n(l.node,p);break}}}catch(e){f={error:e}}finally{try{d&&!d.done&&(h=c.return)&&h.call(c)}finally{if(f)throw f.error}}}o(t.resetNodeEditingState());var f,h}},t.onResetDragSelection=function(){return function(e,t){var n=t().flowEditor.flowUI.dragSelection;n&&n.selected&&e(p.updateDragSelection({selected:null}))}},t.onNodeMoved=function(e,t){return function(n,o){var r=o(),i=r.flowContext.nodes,s=r.flowEditor.flowUI.dragSelection;s&&s.selected&&n(p.updateDragSelection({selected:null}));var a=h.updatePosition(i,e,t.left,t.top);return n(d.updateNodes(a)),v(n),a}},t.onConnectionDrag=function(e){return function(t,n){var o=n().flowContext.nodes,i=r(e.sourceId.split(":"),2),s=i[0],a=(i[1],o[s]),u=f.getGhostNode(a,o);t(p.updateGhostNode(u)),t(p.updatePendingConnection({nodeUUID:s,exitUUID:e.sourceId.split(":")[1]}))}},t.updateSticky=function(e,t){return function(n,o){var r=o().flowContext.definition,i=h.updateStickyNote(r,e,t);n(d.updateDefinition(i))}},t.onUpdateRouter=function(e){return function(n,o){var r=o(),i=r.flowContext.nodes,s=r.flowEditor.flowUI,a=s.pendingConnection,u=s.createNodePosition,l=r.nodeEditor,c=l.nodeToEdit,p=l.actionToEdit,f=i[c.uuid],g=i;if(u)e.ui.position=u;else{var m=f.ui.position;e.ui.position={left:m.left,top:m.top}}if(a&&(e.inboundConnections=(y={},y[a.exitUUID]=a.nodeUUID,y),e.node=h.uniquifyNode(e.node)),c&&p){var v=f.node.actions.find(function(e){return e.uuid===p.uuid});if(v)return e.ui.position.top=f.ui.position.top,n(t.spliceInRouter(e,{nodeUUID:f.node.uuid,actionUUID:v.uuid}));var _=e.node.router;e.node.exits.find(function(e){return e.uuid===_.default_exit_uuid}).destination_node_uuid=f.node.exits[0].destination_node_uuid,e.inboundConnections=(b={},b[f.node.exits[0].uuid]=f.node.uuid,b),e.node=h.uniquifyNode(e.node),e.ui.position.top=f.ui.position.bottom,g=h.mergeNode(g,e)}else g=h.mergeNode(g,e);return n(d.updateNodes(g)),g;var y,b}};var v=function(e){m&&window.clearTimeout(m),m=window.setTimeout(function(){e(t.reflow())},200)};t.onOpenNodeEditor=function(e,t,n){return function(o,r){var s=r(),a=s.flowContext,c=a.nodes,h=a.definition.localization,m=s.flowEditor.editorUI,v=m.language,_=[];if(m.translating){var y=t;if(!y&&e.actions.length>0&&"send_msg"!==(y=e.actions[e.actions.length-1]).type)return;var b=h[v.iso];_.push.apply(_,i(f.getLocalizations(e,y,v.iso,n,b)))}t?o(g.updateActionToEdit(t)):e.actions.length>0&&o(g.updateActionToEdit(e.actions[e.actions.length-1]));var E=f.determineConfigType(e,t,c);o(g.updateTypeConfig(l.getTypeConfig(E)));var C="";if(e.router&&(e.router.result_name&&(C=e.router.result_name),u.hasCases(e))){var w=e.router.operand;o(g.updateOperand(w))}o(p.updateNodeDragging(!1)),o(g.updateNodeToEdit(e)),o(d.updateLocalizations(_)),o(g.updateResultName(C)),o(g.updateShowResultName(C.length>0)),o(p.updateNodeEditorOpen(!0))}},"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__assign","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/store/thunks.ts"),__REACT_HOT_LOADER__.register(r,"__read","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/store/thunks.ts"),__REACT_HOT_LOADER__.register(i,"__spread","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/store/thunks.ts"),__REACT_HOT_LOADER__.register(s,"__values","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/store/thunks.ts"),__REACT_HOT_LOADER__.register(!0,"FORCE_FETCH","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/store/thunks.ts"),__REACT_HOT_LOADER__.register(10,"QUIET_UI","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/store/thunks.ts"),__REACT_HOT_LOADER__.register(1e3,"QUIET_SAVE","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/store/thunks.ts"),__REACT_HOT_LOADER__.register(200,"QUIET_REFLOW","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/store/thunks.ts"),__REACT_HOT_LOADER__.register(m,"debounceReflow","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/store/thunks.ts"),__REACT_HOT_LOADER__.register(v,"markReflow","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/store/thunks.ts"))},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(230),a=n(238),u=n(240),l=n(59),c=function(e){function t(t){var n=e.call(this,t)||this;return n.state={flipped:!1},n.toggleFlip=n.toggleFlip.bind(n),n}return o(t,e),t.prototype.toggleFlip=function(){this.setState({flipped:!this.state.flipped})},t.prototype.componentWillReceiveProps=function(e){this.props.show===e.show||e.show||this.setState({flipped:!1})},t.prototype.getButtons=function(){var e=[i.createElement(a.default,r({key:0},this.props.buttons.secondary,{type:a.ButtonTypes.secondary}))];this.props.buttons.primary&&e.push(i.createElement(a.default,r({key:1},this.props.buttons.primary,{type:a.ButtonTypes.primary})));var t=[];return this.props.buttons.tertiary&&t.push(i.createElement(a.default,r({key:0},this.props.buttons.tertiary,{type:a.ButtonTypes.tertiary}))),{leftButtons:t,rightButtons:e}},t.prototype.getTopStyle=function(){var e=u.container;return this.state.flipped&&(e+=" "+u.flipped),e},t.prototype.mapSides=function(){var e=this,t=i.Children.toArray(this.props.children),n=t.length>1,o=this.getButtons(),r=o.leftButtons,s=o.rightButtons;return t.map(function(t,o){var a=[u.side],c=e.props.title[o];0===o?a.push(u.front):(c=i.createElement("div",null,i.createElement("div",{className:u.background+" icn-settings"}),i.createElement("div",{style:{marginLeft:"50px"}},c)),a.push(u.back));var d;if(n){var p=void 0;e.props.node&&e.props.node.router&&(p=e.props.node.router.cases),d=0===o?p&&!p.length?null:i.createElement("div",{className:u.show_back,onClick:e.toggleFlip},i.createElement("div",{className:"icn-settings"})):i.createElement("div",{className:u.show_front,onClick:e.toggleFlip},i.createElement("div",{className:"icn-back"}))}return i.createElement("div",{key:"modal_side_"+o,className:a.join(" ")},i.createElement("div",{className:u.modal},i.createElement("div",{className:u.header+" "+e.props.__className+" "+l["modal_side_"+o]},d,c),i.createElement("div",{className:u.content},t),i.createElement("div",{className:u.footer},i.createElement("div",{className:u.left},r),i.createElement("div",{className:u.right},s))))})},t.prototype.render=function(){var e=this.props.buttons.secondary?this.props.buttons.secondary.onClick:null,t={content:{marginLeft:"auto",marginRight:"auto",marginTop:"40px",bottom:"initial",padding:"none",borderRadius:"none",outline:"none",width:this.props.width?this.props.width:"700px",border:"none"}},n=this.getTopStyle(),o=this.mapSides();return i.createElement(s,{ariaHideApp:!1,isOpen:this.props.show,onAfterOpen:this.props.onModalOpen,onRequestClose:e,style:t,shouldCloseOnOverlayClick:!1,contentLabel:"Modal"},i.createElement("div",{className:n},o))},t}(i.PureComponent);t.default=c,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__extends","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/Modal.tsx"),__REACT_HOT_LOADER__.register(r,"__assign","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/Modal.tsx"),__REACT_HOT_LOADER__.register(c,"Modal","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/Modal.tsx"))},function(e,t,n){"use strict";function o(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;var n=window.getComputedStyle(e);return t?"visible"!==n.getPropertyValue("overflow"):"none"==n.getPropertyValue("display")}function r(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&function(e,t){var n=e.nodeName.toLowerCase();return(i.test(n)&&!e.disabled||("a"===n?e.href||t:t))&&function(t){for(var n=e;n&&n!==document.body;){if(o(n))return!1;n=n.parentNode}return!0}()}(e,!n)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return[].slice.call(e.querySelectorAll("*"),0).filter(r)};var i=/input|select|textarea|button|object/;e.exports=t.default},function(e,t,n){"use strict";function o(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function r(e){return!(!e&&!s&&((0,i.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),1))}Object.defineProperty(t,"__esModule",{value:!0}),t.assertNodeList=o,t.setElement=function(e){var t=e;if("string"==typeof t){var n=document.querySelectorAll(t);o(n,t),t="length"in n?n[0]:n}return s=t||s},t.validateElement=r,t.hide=function(e){r(e)&&(e||s).setAttribute("aria-hidden","true")},t.show=function(e){r(e)&&(e||s).removeAttribute("aria-hidden")},t.documentNotReadyOrSSRTesting=function(){s=null},t.resetForTesting=function(){s=null};var i=function(e){return e&&e.__esModule?e:{default:e}}(n(235)),s=null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.get=function(){return o},t.add=function(e){return o[e]||(o[e]=0),o[e]+=1,e},t.remove=function(e){return o[e]&&(o[e]-=1),e},t.totalCount=function(){return Object.keys(o).reduce(function(e,t){return e+o[t]},0)};var o={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(237)).default,r=o.canUseDOM?window.HTMLElement:{};t.canUseDOM=o.canUseDOM,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_OPERAND="@run.input",t.GROUPS_OPERAND="@contact.groups",t.DEFAULT_BODY='{\n    "contact": @(to_json(contact.uuid)),\n    "contact_urn": @(to_json(contact.urns)),\n    "message": @(to_json(input.text)),\n    "flow": @(to_json(run.flow.uuid)),\n    "flow_name": @(to_json(run.flow.name))\n}'},function(e,t){e.exports={grid_size:"20",gridSize:"20",node_spacing:"20",nodeSpacing:"20",node_padding:"10",nodePadding:"10","background-size":"20",backgroundSize:"20",title:"NodeEditor__title___3t_QQ",instructions:"NodeEditor__instructions___3hSe0",intro:"NodeEditor__intro___171vk",node_editor:"NodeEditor__node_editor___1kcJ5",nodeEditor:"NodeEditor__node_editor___1kcJ5",type_chooser:"NodeEditor__type_chooser___2VLV_",typeChooser:"NodeEditor__type_chooser___2VLV_",type_chooser_switch:"NodeEditor__type_chooser_switch___u9aLk",typeChooserSwitch:"NodeEditor__type_chooser_switch___u9aLk",advanced:"NodeEditor__advanced___1w8Km",header:"NodeEditor__header___4Qe9n",save_link:"NodeEditor__save_link___3EkbG",saveLink:"NodeEditor__save_link___3EkbG",save_as:"NodeEditor__save_as___14mSD",saveAs:"NodeEditor__save_as___14mSD",translating_exits:"NodeEditor__translating_exits___2UyW5",translatingExits:"NodeEditor__translating_exits___2UyW5",translating_exit:"NodeEditor__translating_exit___1W--Q",translatingExit:"NodeEditor__translating_exit___1W--Q",translating_from:"NodeEditor__translating_from___17Jgb",translatingFrom:"NodeEditor__translating_from___17Jgb",translating_to:"NodeEditor__translating_to___1_gNL",translatingTo:"NodeEditor__translating_to___1_gNL"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WAIT_LABEL="If the message response...",t.EXPRESSION_LABEL="If the expression...",t.GROUP_LABEL="Select the group(s) you'd like to split by below",t.OPERAND_LOCALIZATION_DESC="Sometimes languages need special rules to route things properly. If a translation is not provided, the original rule will be used."},function(e,t){e.exports={grid_size:"20",gridSize:"20",node_spacing:"20",nodeSpacing:"20",node_padding:"10",nodePadding:"10","background-size":"20",backgroundSize:"20",instructions:"SwitchRouter__instructions___3Btrq",cases:"SwitchRouter__cases___3lPfO",save_link:"SwitchRouter__save_link___nK2uY",saveLink:"SwitchRouter__save_link___nK2uY",save_as:"SwitchRouter__save_as___3sFJd",saveAs:"SwitchRouter__save_as___3sFJd",translating_operator_title:"SwitchRouter__translating_operator_title___1x2mi",translatingOperatorTitle:"SwitchRouter__translating_operator_title___1x2mi",translating_operator_instructions:"SwitchRouter__translating_operator_instructions___2ZIE4",translatingOperatorInstructions:"SwitchRouter__translating_operator_instructions___2ZIE4",translating_operator_container:"SwitchRouter__translating_operator_container___2TLx3",translatingOperatorContainer:"SwitchRouter__translating_operator_container___2TLx3",translating_operator:"SwitchRouter__translating_operator___33P3L",translatingOperator:"SwitchRouter__translating_operator___33P3L",translating_from:"SwitchRouter__translating_from___1ypx6",translatingFrom:"SwitchRouter__translating_from___1ypx6",translating_to:"SwitchRouter__translating_to___2s49m",translatingTo:"SwitchRouter__translating_to___2s49m",title:"SwitchRouter__title___2C33u"}},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},s=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var a,u=n(0),l=n(58),c=n(4),d=n(244),p=n(1),f=n(11),h=n(17),g=n(2),m=n(345),v=n(16),_=n(42),y=n(128),b=n(129);!function(e){e.move="move",e.pointer="pointer"}(a=t.DragCursor||(t.DragCursor={}));var E;!function(e){e.args="args",e.min="min",e.max="max",e.exit="exit"}(E=t.InputToFocus||(t.InputToFocus={})),t.getListStyle=function(e,t){return t?null:{cursor:e?a.move:a.pointer}},t.getItemStyle=function(e,t){return r({userSelect:"none",outline:"none",background:t&&"#f2f9fc",borderRadius:t&&4,opacity:t&&.75},e,{top:t&&e.top-90,left:t&&20,height:t&&e.height+15})};var C=function(e){function n(t){var n=e.call(this,t)||this;return c.react(n,{include:[/^on/]}),n.state=n.getInitialState(),n}return o(n,e),n.prototype.onValid=function(e){if(this.props.translating)return this.props.saveLocalizations(e,this.state.cases);this.props.updateRouter(this.state.cases)},n.prototype.onCaseRemoved=function(e){var t=this.state.cases.findIndex(function(t){return t.kase.uuid===e.props.kase.uuid});if(t>-1){var n=l.default(this.state.cases,{$splice:[[t,1]]});this.setState({cases:n})}this.props.removeWidget(e.props.name)},n.prototype.onCaseChanged=function(e,t){var n={kase:{uuid:e.props.kase.uuid,type:e.state.operatorConfig.type,exit_uuid:e.props.kase.exit_uuid,arguments:e.state.arguments},exitName:e.state.exitName},o=function(e){switch(t){case E.args:e.focusArgs=!0;break;case E.min:e.focusMin=!0;break;case E.max:e.focusMax=!0;break;case E.exit:e.focusExit=!0}};t&&o(n);var r=this.state.cases,i=!1;for(var s in r)if(r.hasOwnProperty(s)&&r[s].kase.uuid===e.props.kase.uuid){r[s]=n,i=!0;break}i||(r[r.length]=n,Object.keys(r).forEach(function(e,n,i){n===i.length-1&&t&&o(r[n])})),this.setState({cases:r})},n.prototype.onDragEnd=function(e){if(e.destination){var t=g.reorderList(this.state.cases,e.source.index,e.destination.index);this.setState({cases:t})}},n.prototype.composeCaseProps=function(){var e=this;return this.props.nodeToEdit.router.cases.reduce(function(t,n){var o=null;if(n.exit_uuid){var r=i(e.props.nodeToEdit.exits.filter(function(e){return e.uuid===n.exit_uuid}),1)[0];r&&(o=r.name)}try{h.getOperatorConfig(n.type),t.push({kase:n,exitName:o,onChange:e.onCaseChanged,onRemove:e.onCaseRemoved})}catch(e){}return t},[])},n.prototype.getInitialState=function(){var e=[];if(this.props.nodeToEdit.router&&_.hasCases(this.props.nodeToEdit)){var t=this.composeCaseProps();e.push.apply(e,s(t))}return{cases:e}},n.prototype.getCases=function(){var e=this,n=[],o=!0,s=this.state.cases[this.state.cases.length-1];if(this.state.cases)if(1===this.state.cases.length){var a=i(this.state.cases,1)[0];n.push(u.createElement(m.default,{"data-spec":"case",key:a.kase.uuid,ref:this.props.onBindWidget,name:"case_"+a.kase.uuid,onRemove:this.onCaseRemoved,onChange:this.onCaseChanged,solo:!0,exitName:a.exitName,kase:a.kase,focusArgs:a.focusArgs,focusExit:a.focusExit,focusMin:a.focusMin,focusMax:a.focusMax}))}else 2!==this.state.cases.length||s.kase.type===h.operatorConfigList[0].type||s.kase.arguments.length||s.exitName.length?this.state.cases.forEach(function(i,s){h.getOperatorConfig(i.kase.type).operands>0&&!i.kase.arguments.length&&!i.exitName.length?(o=!1,n.push(u.createElement(m.default,{key:i.kase.uuid,"data-spec":"case",ref:e.props.onBindWidget,name:"case_"+i.kase.uuid,onRemove:e.onCaseRemoved,onChange:e.onCaseChanged,exitName:i.exitName,kase:i.kase,focusArgs:i.focusArgs,focusExit:i.focusExit,focusMin:i.focusMin,focusMax:i.focusMax}))):n.push(u.createElement(d.Draggable,{key:i.kase.uuid,draggableId:i.kase.uuid},function(n,o){return u.createElement("div",{"data-spec":"case-draggable"},u.createElement("div",r({ref:n.innerRef,style:t.getItemStyle(n.draggableStyle,o.isDragging)},n.dragHandleProps),u.createElement(m.default,{"data-spec":"case",ref:e.props.onBindWidget,name:"case_"+i.kase.uuid,onRemove:e.onCaseRemoved,onChange:e.onCaseChanged,exitName:i.exitName,kase:i.kase,focusArgs:i.focusArgs,focusExit:i.focusExit,focusMin:i.focusMin,focusMax:i.focusMax})),n.placeholder)}))}):(o=!1,this.state.cases.forEach(function(t){n.push(u.createElement(m.default,{key:t.kase.uuid,"data-spec":"case",ref:e.props.onBindWidget,name:"case_"+t.kase.uuid,onRemove:e.onCaseRemoved,onChange:e.onCaseChanged,exitName:t.exitName,kase:t.kase,focusArgs:t.focusArgs,focusExit:t.focusExit,focusMin:t.focusMin,focusMax:t.focusMax}))}));if(o){var l=f.v4();n.push(u.createElement(m.default,{"data-spec":"case",key:l,kase:{uuid:l,type:h.operatorConfigList[0].type,exit_uuid:null},ref:this.props.onBindWidget,name:"case_"+l,exitName:"",empty:!0,onRemove:this.onCaseRemoved,onChange:this.onCaseChanged}))}return n},n.prototype.getOperandsForLocalization=function(){var e=this;return this.props.nodeToEdit.router.cases.reduce(function(t,n){if(n.arguments&&n.arguments.length>0&&!/number/.test(n.type)){var o=i(e.props.localizations.filter(function(e){return e.getObject().uuid===n.uuid}),1)[0];if(o){var r="";if("arguments"in o.localizedKeys){var s=o.getObject();s.arguments&&s.arguments&&(r=i(s.arguments,1)[0])}var a=h.getOperatorConfig(n.type).verboseName,l=i(n.arguments,1)[0];t.push(u.createElement("div",{key:"translate_"+n.uuid,"data-spec":"operator-field",className:b.translating_operator_container},u.createElement("div",{"data-spec":"verbose-name",className:b.translating_operator},a),u.createElement("div",{"data-spec":"argument-to-translate",className:b.translating_from},l),u.createElement("div",{className:b.translating_to},u.createElement(v.default,{ref:e.props.onBindAdvancedWidget,"data-spec":"translation-input",name:n.uuid,placeholder:e.props.language.name+" Translation",showLabel:!1,value:r}))))}}return t},[])},n.prototype.getLeadIn=function(){var e=null;return"wait_for_response"===this.props.typeConfig.type?e=y.WAIT_LABEL:"split_by_expression"===this.props.typeConfig.type&&(e=u.createElement(u.Fragment,null,u.createElement("p",null,y.EXPRESSION_LABEL),u.createElement(v.default,{ref:this.props.onBindWidget,key:this.props.nodeToEdit.uuid,name:"Expression",showLabel:!1,value:this.props.operand,onChange:this.props.onExpressionChanged,autocomplete:!0,required:!0}))),u.createElement("div",{"data-spec":"lead-in",className:b.instructions},e)},n.prototype.getCaseContext=function(){var e=this.getCases();if(e.length>1){var n=e.slice(0,e.length-1),o=e[e.length-1];return u.createElement(u.Fragment,null,u.createElement(d.DragDropContext,{onDragEnd:this.onDragEnd},u.createElement(d.Droppable,{droppableId:"droppable"},function(e,o){var r=e.innerRef,i=e.placeholder,s=o.isDraggingOver;return u.createElement("div",{ref:r,style:t.getListStyle(s,1===n.length)},n,i)})),o)}return u.createElement(u.Fragment,null,e)},n.prototype.renderForm=function(){if(this.props.translating)return this.props.getExitTranslations();var e=this.getLeadIn(),t=this.getCaseContext(),n=this.props.getResultNameField();return u.createElement(u.Fragment,null,e,t,n)},n.prototype.renderAdvanced=function(){var e=this.getOperandsForLocalization();return u.createElement(u.Fragment,null,u.createElement("div",{"data-spec":"advanced-title",className:b.translatingOperatorTitle},"Rules"),u.createElement("div",{"data-spec":"advanced-instructions",className:b.translatingOperatorInstructions},y.OPERAND_LOCALIZATION_DESC),e)},n.prototype.render=function(){return this.props.showAdvanced&&this.props.translating?this.renderAdvanced():this.renderForm()},n}(u.Component);t.SwitchRouterForm=C;var w=function(e){var t=e.flowContext.localizations,n=e.flowEditor.editorUI,o=n.language,r=n.translating,i=e.nodeEditor;return{language:o,typeConfig:i.typeConfig,translating:r,nodeToEdit:i.nodeToEdit,localizations:t,operand:i.operand}},x=p.connect(w,null,null,{withRef:!0})(C);t.default=x,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__extends","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/routers/SwitchRouter.tsx"),__REACT_HOT_LOADER__.register(r,"__assign","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/routers/SwitchRouter.tsx"),__REACT_HOT_LOADER__.register(i,"__read","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/routers/SwitchRouter.tsx"),__REACT_HOT_LOADER__.register(s,"__spread","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/routers/SwitchRouter.tsx"),__REACT_HOT_LOADER__.register(a,"DragCursor","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/routers/SwitchRouter.tsx"),__REACT_HOT_LOADER__.register(E,"InputToFocus","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/routers/SwitchRouter.tsx"),__REACT_HOT_LOADER__.register(C,"SwitchRouterForm","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/routers/SwitchRouter.tsx"),__REACT_HOT_LOADER__.register(w,"mapStateToProps","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/routers/SwitchRouter.tsx"),__REACT_HOT_LOADER__.register(x,"ConnectedSwitchRouterForm","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/routers/SwitchRouter.tsx"))},function(e,t,n){e.exports={default:n(247),__esModule:!0}},function(e,t,n){e.exports=!n(27)&&!n(37)(function(){return 7!=Object.defineProperty(n(133)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var o=n(45),r=n(20).document,i=o(r)&&o(r.createElement);e.exports=function(e){return i?r.createElement(e):{}}},function(e,t,n){var o=n(28),r=n(47),i=n(76)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),o(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){var o=n(19),r=n(9),i=n(37);e.exports=function(e,t){var n=(r.Object||{})[e]||Object[e],s={};s[e]=t(n),o(o.S+o.F*i(function(){n(1)}),"Object",s)}},function(e,t,n){"use strict";var o=n(254)(!0);n(137)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=o(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"use strict";var o=n(80),r=n(19),i=n(138),s=n(35),a=n(28),u=n(48),l=n(255),c=n(84),d=n(134),p=n(13)("iterator"),f=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,g,m,v,_){l(n,t,g);var y,b,E,C=function(e){if(!f&&e in S)return S[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},w=t+" Iterator",x="values"==m,O=!1,S=e.prototype,A=S[p]||S["@@iterator"]||m&&S[m],T=A||C(m),P=m?x?C("entries"):T:void 0,D="Array"==t?S.entries||A:A;if(D&&(E=d(D.call(new e)))!==Object.prototype&&E.next&&(c(E,w,!0),o||a(E,p)||s(E,p,h)),x&&A&&"values"!==A.name&&(O=!0,T=function(){return A.call(this)}),o&&!_||!f&&!O&&S[p]||s(S,p,T),u[t]=T,u[w]=h,m)if(y={values:x?T:C("values"),keys:v?T:C("keys"),entries:P},_)for(b in y)b in S||i(S,b,y[b]);else r(r.P+r.F*(f||O),t,y);return y}},function(e,t,n){e.exports=n(35)},function(e,t,n){var o=n(28),r=n(38),i=n(257)(!1),s=n(76)("IE_PROTO");e.exports=function(e,t){var n,a=r(e),u=0,l=[];for(n in a)n!=s&&o(a,n)&&l.push(n);for(;t.length>u;)o(a,n=t[u++])&&(~i(l,n)||l.push(n));return l}},function(e,t,n){var o=n(82);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==o(e)?e.split(""):Object(e)}},function(e,t,n){var o=n(79),r=Math.min;e.exports=function(e){return e>0?r(o(e),9007199254740991):0}},function(e,t,n){var o=n(139),r=n(83).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return o(e,r)}},function(e,t,n){var o=n(62),r=n(46),i=n(38),s=n(74),a=n(28),u=n(132),l=Object.getOwnPropertyDescriptor;t.f=n(27)?l:function(e,t){if(e=i(e),t=s(t,!0),u)try{return l(e,t)}catch(e){}if(a(e,t))return r(!o.f.call(e,t),e[t])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(n){return n<=t&&n>=e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.draggingDraggableSelector=t.dragSelector=t.pendingDropSelector=t.phaseSelector=void 0;var o=n(52),r=t.phaseSelector=function(e){return e.phase},i=t.pendingDropSelector=function(e){return e.drop&&e.drop.pending?e.drop.pending:null},s=t.dragSelector=function(e){return e.drag};t.draggingDraggableSelector=(0,o.createSelector)([r,s,i,function(e){return e.dimension.draggable}],function(e,t,n,o){return"DRAGGING"===e?t?o[t.current.id]:(console.error("cannot get placeholder dimensions as there is an invalid drag state"),null):"DROP_ANIMATING"===e?n?n.result.destination?o[n.result.draggableId]:null:(console.error("cannot get placeholder dimensions as there is an invalid drag state"),null):null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[],n=null,o=function(){for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=r,n||(n=requestAnimationFrame(function(){n=null,e.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))}))};return o.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(322);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return function(e){return e&&e.__esModule?e:{default:e}}(o).default}})},function(e,t,n){"use strict";t.__esModule=!0,t.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.css=t.physics=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(30));t.physics=function(){var e={stiffness:1e3,damping:60,precision:.99};return{standard:(0,o.default)({},e),fast:(0,o.default)({},e,{stiffness:2*e.stiffness})}}(),t.css={outOfTheWay:"transform 0.2s cubic-bezier(0.2, 0, 0, 1)"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(101)),r=function(e){return e&&e.__esModule?e:{default:e}}(n(65)),i=[o.enter,o.tab];t.default=function(e){i.indexOf(e.keyCode)>=0&&(0,r.default)(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.getBoundingClientRect(),n=t.top,o=t.right,r=t.bottom;return{x:(t.left+o)/2,y:(n+r)/2}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(348));t.default=o.default,e.exports=t.default},function(e,t){e.exports={grid_size:"20",gridSize:"20",node_spacing:"20",nodeSpacing:"20",node_padding:"10",nodePadding:"10","background-size":"20",backgroundSize:"20",info:"Webhook__info___3_hoB",method:"Webhook__method___3Syoj",url:"Webhook__url___2NNwq",code:"Webhook__code___1mtZy",instructions:"Webhook__instructions___OUdve",headers_title:"Webhook__headers_title___1Lb0V",headersTitle:"Webhook__headers_title___1Lb0V","remove-ico":"Webhook__remove-ico___Hx0Fa",removeIco:"Webhook__remove-ico___Hx0Fa",example:"Webhook__example___3ytIE",header:"Webhook__header___PYpeX",header_name:"Webhook__header_name___3C6tj",headerName:"Webhook__header_name___3C6tj",header_value:"Webhook__header_value___3KxV9",headerValue:"Webhook__header_value___3KxV9",body_form:"Webhook__body_form___2LX-m",bodyForm:"Webhook__body_form___2LX-m","req-body":"Webhook__req-body___3qfm7",reqBody:"Webhook__req-body___3qfm7"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(367);t.default=o.default},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(11),s=n(2),a=n(369),u=function(e){function t(t){var n=e.call(this,t)||this;return n.key=i.v4(),n.getKey=n.getKey.bind(n),n.requestUpdate=n.requestUpdate.bind(n),n}return o(t,e),t.prototype.componentDidMount=function(){this.requestUpdate()},t.prototype.componentWillUnmount=function(){this.props.onUnmount(this.getKey())},t.prototype.handleClick=function(e){e.preventDefault(),e.stopPropagation()},t.prototype.getKey=function(){return this.key},t.prototype.requestUpdate=function(){var e=this.props.getCount();this.setState({count:e})},t.prototype.render=function(){if(this.state&&this.state.count>0){var e=s.addCommas(this.state.count);return r.createElement("div",{className:a.counter+" "+this.props.containerStyle,onClick:this.handleClick,"data-spec":"counter-outter"},r.createElement("div",{className:this.props.countStyle,"data-spec":"counter-inner"},e))}return null},t}(r.Component);t.default=u,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__extends","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/Counter.tsx"),__REACT_HOT_LOADER__.register(u,"Counter","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/Counter.tsx"))},function(e,t){e.exports={grid_size:"20",gridSize:"20",node_spacing:"20",nodeSpacing:"20",node_padding:"10",nodePadding:"10","background-size":"20",backgroundSize:"20","sim-container":"Simulator__sim-container___3zr2i",simContainer:"Simulator__sim-container___3zr2i",simulator:"Simulator__simulator___3Gnkh","sim-hidden":"Simulator__sim-hidden___2U1Vr",simHidden:"Simulator__sim-hidden___2U1Vr",reset:"Simulator__reset___1kWww",active:"Simulator__active___1wiU2",inactive:"Simulator__inactive___3G8X-",screen:"Simulator__screen___xLAu7",messages:"Simulator__messages___TXYtK",controls:"Simulator__controls___2E6Gk","icn-close":"Simulator__icn-close___Tfm1o",icnClose:"Simulator__icn-close___Tfm1o","icn-simulator":"Simulator__icn-simulator___34zn0",icnSimulator:"Simulator__icn-simulator___34zn0","simulator-tab":"Simulator__simulator-tab___m6R2Y",simulatorTab:"Simulator__simulator-tab___m6R2Y",tab_hidden:"Simulator__tab_hidden___1O-Qx",tabHidden:"Simulator__tab_hidden___1O-Qx","simulator-tab-icon":"Simulator__simulator-tab-icon___2cpyJ",simulatorTabIcon:"Simulator__simulator-tab-icon___2cpyJ","simulator-tab-text":"Simulator__simulator-tab-text___3B8fH",simulatorTabText:"Simulator__simulator-tab-text___3B8fH",evt:"Simulator__evt___1phuA","msg-received":"Simulator__msg-received___14APM",msgReceived:"Simulator__msg-received___14APM","send-msg":"Simulator__send-msg___16InM",sendMsg:"Simulator__send-msg___16InM",error:"Simulator__error___1vhIj",info:"Simulator__info___39wrb",webhook:"Simulator__webhook____Teym","webhook-details":"Simulator__webhook-details___3bSys",webhookDetails:"Simulator__webhook-details___3bSys",response:"Simulator__response___2K2XJ","event-viewer":"Simulator__event-viewer___1GPDu",eventViewer:"Simulator__event-viewer___1GPDu","has-detail":"Simulator__has-detail___3d85B",hasDetail:"Simulator__has-detail___3d85B",detail_webhook_called:"Simulator__detail_webhook_called___LEnOI",detailWebhookCalled:"Simulator__detail_webhook_called___LEnOI"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(158);t.default=o.default},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0}),n(159);var r=n(0),i=n(1),s=n(3),a=n(17),u=n(18),l=n(2),c=n(358),d=n(383),p=n(384),f=n(12),h=n(6),g=u.createStore(),m=function(e){var n=e.config;return n.assetService=new f.default(n),r.createElement(a.default,{config:n},r.createElement(i.Provider,{store:g},r.createElement(t.ConnectedFlowEditor,null)))};t.contextTypes={endpoints:h.fakePropType,languages:h.fakePropType,flow:h.fakePropType,assetService:h.fakePropType},t.editorContainerSpecId="editor-container",t.editorSpecId="editor";var v=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o(n,e),n.prototype.componentDidMount=function(){var e=this.context.assetService;this.props.updateLanguage(l.getBaseLanguage(this.context.languages)),this.props.fetchFlow(e,this.context.flow)},n.prototype.render=function(){return r.createElement("div",{id:t.editorContainerSpecId,className:this.props.translating?d.translating:void 0,"data-spec":t.editorContainerSpecId},r.createElement("div",{className:d.editor,"data-spec":t.editorSpecId},r.createElement(p.default,null),l.renderIf(this.props.definition&&this.props.language&&!this.props.fetchingFlow)(r.createElement(c.default,null))))},n.contextTypes=t.contextTypes,n}(r.Component);t.FlowEditor=v;var _=function(e){var t=e.flowContext,n=t.definition,o=t.dependencies,r=e.flowEditor.editorUI;return{translating:r.translating,language:r.language,fetchingFlow:r.fetchingFlow,definition:n,dependencies:o}},y=function(e){return s.bindActionCreators({updateLanguage:u.updateLanguage,fetchFlow:u.fetchFlow},e)};t.ConnectedFlowEditor=i.connect(_,y)(v),t.default=m,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__extends","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/index.tsx"),__REACT_HOT_LOADER__.register(g,"hotStore","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/index.tsx"),__REACT_HOT_LOADER__.register(m,"FlowEditorContainer","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/index.tsx"),__REACT_HOT_LOADER__.register(v,"FlowEditor","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/index.tsx"),__REACT_HOT_LOADER__.register(_,"mapStateToProps","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/index.tsx"),__REACT_HOT_LOADER__.register(y,"mapDispatchToProps","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/index.tsx"))},function(e,t){e.exports={grid_size:"20",node_spacing:"20",node_padding:"10","background-size":"20"}},function(e,t,n){"use strict";var o=n(161),r=n(162),i=n(163);e.exports=function(){function e(e,t,n,o,s,a){a!==i&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=o,n.PropTypes=n,n}},function(e,t,n){"use strict";function o(e){return function(){return e}}var r=function(){};r.thatReturns=o,r.thatReturnsFalse=o(!1),r.thatReturnsTrue=o(!0),r.thatReturnsNull=o(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";e.exports=function(e,t,n,o,r,i,s,a){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,o,r,i,s,a],c=0;(u=new Error(t.replace(/%s/g,function(){return l[c++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){e.exports=function(){"use strict";var e={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n=Object.defineProperty,o=Object.getOwnPropertyNames,r=Object.getOwnPropertySymbols,i=Object.getOwnPropertyDescriptor,s=Object.getPrototypeOf,a=s&&s(Object);return function u(l,c,d){if("string"!=typeof c){if(a){var p=s(c);p&&p!==a&&u(l,p,d)}var f=o(c);r&&(f=f.concat(r(c)));for(var h=0;h<f.length;++h){var g=f[h];if(!(e[g]||t[g]||d&&d[g])){var m=i(c,g);try{n(l,g,m)}catch(e){}}}return l}return l}}()},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(t,n(40))},function(e,t,n){"use strict";(function(e,o){var r,i=n(168);r="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:o;var s=Object(i.a)(r);t.a=s}).call(t,n(40),n(167)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";t.a=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(t,n(40))},function(e,t,n){"use strict";function o(e){return(this.advanced&e)===e}Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(171),s=n(195),a=n(196),u=n(198),l=n(199),c=n(211),d=n(212),p=n(214),f=n(215),h=n(218),g=n(219),m=n(222),v=n(224),_=n(225),y=n(242),b=n(130),E=n(347),C=n(357);!function(e){e.add_contact_urn="add_contact_urn",e.add_contact_groups="add_contact_groups",e.remove_contact_groups="remove_contact_groups",e.set_contact_channel="set_contact_channel",e.set_contact_property="set_contact_property",e.set_contact_field="set_contact_field",e.set_run_result="set_run_result",e.call_webhook="call_webhook",e.add_input_labels="add_input_labels",e.send_msg="send_msg",e.send_email="send_email",e.send_broadcast="send_broadcast",e.start_flow="start_flow",e.start_session="start_session",e.split_by_expression="split_by_expression",e.split_by_groups="split_by_groups",e.wait_for_response="wait_for_response",e.missing="missing"}(r=t.Types||(t.Types={}));var w;!function(e){e[e.EDITING=1]="EDITING",e[e.TRANSLATING=2]="TRANSLATING",e[e.ALL=3]="ALL"}(w=t.Mode||(t.Mode={})),t.allows=o,t.typeConfigList=[{type:"missing",name:"Missing",description:" ** Unsupported ** ",component:C.default,allows:o},{type:"send_msg",name:"Send Message",description:"Send them a message",form:l.default,component:u.default,advanced:w.EDITING,allows:o},{type:"add_contact_groups",name:"Add to Group",description:"Add them to a group",form:i.default,component:s.default,allows:o},{type:"remove_contact_groups",name:"Remove from Group",description:"Remove them from a group",form:a.default,component:s.default,allows:o},{type:"set_contact_field",name:"Update Contact",description:"Update the contact",form:f.default,component:p.default,aliases:["set_contact_property"],allows:o},{type:"send_email",name:"Send Email",description:"Send an email",form:g.default,component:h.default,allows:o},{type:"set_run_result",name:"Save Flow Result",description:"Save a result for this flow",form:d.default,component:c.default,allows:o},{type:"call_webhook",name:"Call Webhook",description:"Call a webook",form:E.default,component:v.default,advanced:w.EDITING,aliases:["webhook"],allows:o},{type:"start_flow",name:"Run Flow",description:"Run another flow",form:y.default,component:m.default,aliases:["subflow"],allows:o},{type:"split_by_expression",name:"Split by Expression",description:"Split by a custom expression",form:b.default,advanced:w.TRANSLATING,allows:o},{type:"split_by_groups",name:"Split by Group Membership",description:"Split by group membership",form:_.default,allows:o},{type:"wait_for_response",name:"Wait for Response",description:"Wait for them to respond",form:b.default,advanced:w.TRANSLATING,aliases:["switch"],allows:o}],t.actionConfigList=t.typeConfigList.filter(function(e){var t=e.type;return"wait_for_response"!==t&&"split_by_expression"!==t&&"split_by_groups"!==t&&"start_flow"!==t&&"call_webhook"!==t}),t.typeConfigMap=t.typeConfigList.reduce(function(e,t){return e[t.type]=t,t.aliases&&t.aliases.forEach(function(n){return e[n]=t}),e},{}),t.getTypeConfig=function(e){var n=t.typeConfigMap[e];return n||(n=t.typeConfigMap.missing),n},"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(r,"Types","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/config/typeConfigs.ts"),__REACT_HOT_LOADER__.register(w,"Mode","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/config/typeConfigs.ts"),__REACT_HOT_LOADER__.register(o,"allows","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/config/typeConfigs.ts"))},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=n(41),s=n(0),a=n(1),u=n(66),l=n(113),c=n(6);t.LABEL=" Select the group(s) to add the contact to.",t.PLACEHOLDER="Enter the name of an existing group or create a new one",t.labelSpecId="label";var d=function(e){function n(t,n){var o=e.call(this,t)||this,i=o.getGroups();return o.state={groups:i},r.react(o,{include:[/^on/]}),o}return o(n,e),n.prototype.onGroupsChanged=function(e){i(e,this.state.groups)||this.setState({groups:e})},n.prototype.onValid=function(){var e={uuid:this.props.action.uuid,type:this.props.typeConfig.type,groups:l.mapAssetsToGroups(this.state.groups)};this.props.updateAction(e)},n.prototype.getGroups=function(){return null===this.props.action.groups?[]:this.props.action.groups.length&&"remove_contact_groups"!==this.props.action.type?l.mapGroupsToAssets(this.props.action.groups):[]},n.prototype.render=function(){return s.createElement(s.Fragment,null,s.createElement("p",{"data-spec":t.labelSpecId},t.LABEL),s.createElement(u.default,{ref:this.props.onBindWidget,name:"Groups",placeholder:t.PLACEHOLDER,assets:this.context.assetService.getGroupAssets(),groups:this.state.groups,add:!0,required:!0,onChange:this.onGroupsChanged}))},n.contextTypes={endpoints:c.fakePropType,assetService:c.fakePropType},n}(s.PureComponent);t.AddGroupsForm=d;var p=function(e){return{typeConfig:e.nodeEditor.typeConfig}},f=a.connect(p,null,null,{withRef:!0})(d);t.default=f,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__extends","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/actions/ChangeGroups/AddGroupsForm.tsx"),__REACT_HOT_LOADER__.register(d,"AddGroupsForm","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/actions/ChangeGroups/AddGroupsForm.tsx"),__REACT_HOT_LOADER__.register(p,"mapStateToProps","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/actions/ChangeGroups/AddGroupsForm.tsx"),__REACT_HOT_LOADER__.register(f,"ConnectedAddGroupForm","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/actions/ChangeGroups/AddGroupsForm.tsx"))},function(e,t,n){var o=n(104),r=n(105),i=o(),s=[1|i[0],i[1],i[2],i[3],i[4],i[5]],a=16383&(i[6]<<8|i[7]),u=0,l=0;e.exports=function(e,t,n){var o=t&&n||0,i=t||[],c=void 0!==(e=e||{}).clockseq?e.clockseq:a,d=void 0!==e.msecs?e.msecs:(new Date).getTime(),p=void 0!==e.nsecs?e.nsecs:l+1,f=d-u+(p-l)/1e4;if(f<0&&void 0===e.clockseq&&(c=c+1&16383),(f<0||d>u)&&void 0===e.nsecs&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=d,l=p,a=c;var h=(1e4*(268435455&(d+=122192928e5))+p)%4294967296;i[o++]=h>>>24&255,i[o++]=h>>>16&255,i[o++]=h>>>8&255,i[o++]=255&h;var g=d/4294967296*1e4&268435455;i[o++]=g>>>8&255,i[o++]=255&g,i[o++]=g>>>24&15|16,i[o++]=g>>>16&255,i[o++]=c>>>8|128,i[o++]=255&c;for(var m=e.node||s,v=0;v<6;++v)i[o+v]=m[v];return t||r(i)}},function(e,t,n){var o=n(104),r=n(105);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||o)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[i+a]=s[a];return t||r(s)}},function(e,t){e.exports={grid_size:"20",node_spacing:"20",node_padding:"10","background-size":"20"}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(0),a=o(s),u=o(n(5)),l={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},c=["injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],d=function(e,t){t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,t.style.fontWeight=e.fontWeight,t.style.fontStyle=e.fontStyle,t.style.letterSpacing=e.letterSpacing,t.style.textTransform=e.textTransform},p="undefined"!=typeof window&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent),f=function(){return p?"_"+Math.random().toString(36).substr(2,12):void 0},h=function(e){function t(e){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.inputRef=function(e){n.input=e,"function"==typeof n.props.inputRef&&n.props.inputRef(e)},n.placeHolderSizerRef=function(e){n.placeHolderSizer=e},n.sizerRef=function(e){n.sizer=e},n.state={inputWidth:e.minWidth,inputId:e.id||f()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentWillReceiveProps",value:function(e){var t=e.id;t!==this.props.id&&this.setState({inputId:t||f()})}},{key:"componentDidUpdate",value:function(e,t){t.inputWidth!==this.state.inputWidth&&"function"==typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(this.mounted&&window.getComputedStyle){var e=this.input&&window.getComputedStyle(this.input);e&&(d(e,this.sizer),this.placeHolderSizer&&d(e,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(this.mounted&&this.sizer&&void 0!==this.sizer.scrollWidth){var e=void 0;e=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2,"number"===this.props.type&&(e+=16),e<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var e=this.props.injectStyles;return p&&e?a.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var e=[this.props.defaultValue,this.props.value,""].reduce(function(e,t){return null!==e&&void 0!==e?e:t}),t=r({},this.props.style);t.display||(t.display="inline-block");var n=r({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),o=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(this.props,[]);return function(e){c.forEach(function(t){return delete e[t]})}(o),o.className=this.props.inputClassName,o.id=this.state.inputId,o.style=n,a.default.createElement("div",{className:this.props.className,style:t},this.renderStyles(),a.default.createElement("input",r({},o,{ref:this.inputRef})),a.default.createElement("div",{ref:this.sizerRef,style:l},e),this.props.placeholder?a.default.createElement("div",{ref:this.placeHolderSizerRef,style:l},this.props.placeholder):null)}}]),t}();h.propTypes={className:u.default.string,defaultValue:u.default.any,id:u.default.string,injectStyles:u.default.bool,inputClassName:u.default.string,inputRef:u.default.func,inputStyle:u.default.object,minWidth:u.default.oneOfType([u.default.number,u.default.string]),onAutosize:u.default.func,onChange:u.default.func,placeholder:u.default.string,placeholderIsMinWidth:u.default.bool,style:u.default.object,value:u.default.any},h.defaultProps={minWidth:1,injectStyles:!0},t.default=h},function(e,t,n){var o;!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var i=typeof o;if("string"===i||"number"===i)e.push(o);else if(Array.isArray(o))e.push(n.apply(null,o));else if("object"===i)for(var s in o)r.call(o,s)&&o[s]&&e.push(s)}}return e.join(" ")}var r={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=n:void 0===(o=function(){return n}.apply(t,[]))||(e.exports=o)}()},function(e,t,n){"use strict";function o(e){var t=new s(e),n=i(s.prototype.request,t);return r.extend(n,s.prototype,t),r.extend(n,t),n}var r=n(8),i=n(108),s=n(179),a=n(69),u=o(a);u.Axios=s,u.create=function(e){return o(r.merge(a,e))},u.Cancel=n(112),u.CancelToken=n(193),u.isCancel=n(111),u.all=function(e){return Promise.all(e)},u.spread=n(194),e.exports=u,e.exports.default=u},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){"use strict";function o(e){this.defaults=e,this.interceptors={request:new s,response:new s}}var r=n(69),i=n(8),s=n(188),a=n(189);o.prototype.request=function(e){"string"==typeof e&&(e=i.merge({url:arguments[0]},arguments[1])),(e=i.merge(r,this.defaults,{method:"get"},e)).method=e.method.toLowerCase();var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},i.forEach(["delete","get","head","options"],function(e){o.prototype[e]=function(t,n){return this.request(i.merge(n||{},{method:e,url:t}))}}),i.forEach(["post","put","patch"],function(e){o.prototype[e]=function(t,n,o){return this.request(i.merge(o||{},{method:e,url:t,data:n}))}}),e.exports=o},function(e,t,n){"use strict";var o=n(8);e.exports=function(e,t){o.forEach(e,function(n,o){o!==t&&o.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[o])})}},function(e,t,n){"use strict";var o=n(110);e.exports=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(o("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,o,r){return e.config=t,n&&(e.code=n),e.request=o,e.response=r,e}},function(e,t,n){"use strict";function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var r=n(8);e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var s=[];r.forEach(t,function(e,t){null!==e&&void 0!==e&&(r.isArray(e)&&(t+="[]"),r.isArray(e)||(e=[e]),r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(o(t)+"="+o(e))}))}),i=s.join("&")}return i&&(e+=(-1===e.indexOf("?")?"?":"&")+i),e}},function(e,t,n){"use strict";var o=n(8),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,s={};return e?(o.forEach(e.split("\n"),function(e){if(i=e.indexOf(":"),t=o.trim(e.substr(0,i)).toLowerCase(),n=o.trim(e.substr(i+1)),t){if(s[t]&&r.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}}),s):s}},function(e,t,n){"use strict";var o=n(8);e.exports=o.isStandardBrowserEnv()?function(){function e(e){var t=e;return n&&(r.setAttribute("href",t),t=r.href),r.setAttribute("href",t),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}var t,n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");return t=e(window.location.href),function(n){var r=o.isString(n)?e(n):n;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0}},function(e,t,n){"use strict";function o(){this.message="String contains an invalid character"}(o.prototype=new Error).code=5,o.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,n,r=String(e),i="",s=0,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.charAt(0|s)||(a="=",s%1);i+=a.charAt(63&t>>8-s%1*8)){if((n=r.charCodeAt(s+=.75))>255)throw new o;t=t<<8|n}return i}},function(e,t,n){"use strict";var o=n(8);e.exports=o.isStandardBrowserEnv()?{write:function(e,t,n,r,i,s){var a=[];a.push(e+"="+encodeURIComponent(t)),o.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),o.isString(r)&&a.push("path="+r),o.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";function o(){this.handlers=[]}var r=n(8);o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=o},function(e,t,n){"use strict";function o(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var r=n(8),i=n(190),s=n(111),a=n(69),u=n(191),l=n(192);e.exports=function(e){return o(e),e.baseURL&&!u(e.url)&&(e.url=l(e.baseURL,e.url)),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return o(e),t.data=i(t.data,t.headers,e.transformResponse),t},function(t){return s(t)||(o(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var o=n(8);e.exports=function(e,t,n){return o.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}var r=n(112);o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o(function(t){e=t}),cancel:e}},e.exports=o},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";var o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},r=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);t.removeAllSpecId="remove_from_all",t.contentSpecId="content",t.removeAllText="Remove from all groups",t.ellipsesText="...",t.getRemoveAllMarkup=function(e,n,o){return void 0===e&&(e=t.removeAllSpecId),void 0===n&&(n=t.removeAllSpecId),void 0===o&&(o=t.removeAllText),i.createElement("div",{key:e,"data-spec":n},o)},t.getGroupMarkup=function(e,t){return i.createElement("div",{key:t},e)},t.getGroupElements=function(e){return void 0===e&&(e=[]),e.reduce(function(e,n,o){var r=n.name;return o<=2&&e.push(t.getGroupMarkup(r,o)),3===o&&e.push(t.getGroupMarkup(t.ellipsesText,o)),e},[])},t.getContentMarkup=function(e){var n=e.type,o=e.groups,i=[];return"remove_contact_groups"!==n||o.length?i.push.apply(i,r(t.getGroupElements(o))):i.push(t.getRemoveAllMarkup()),i},t.getChangeGroupsMarkup=function(e,n){return void 0===n&&(n=t.contentSpecId),i.createElement("div",{"data-spec":n},t.getContentMarkup(e))};var s=function(e){return t.getChangeGroupsMarkup(e)};t.default=s,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__read","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/actions/ChangeGroups/ChangeGroups.tsx"),__REACT_HOT_LOADER__.register(r,"__spread","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/actions/ChangeGroups/ChangeGroups.tsx"),__REACT_HOT_LOADER__.register(s,"ChangeGroupComp","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/actions/ChangeGroups/ChangeGroups.tsx"))},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=n(0),s=n(41),a=n(1),u=n(114),l=n(66),c=n(6),d=n(113);t.LABEL="Select the group(s) to remove the contact from.",t.NOT_FOUND="Enter the name of an existing group",t.PLACEHOLDER="Enter the name an existing group",t.REMOVE_FROM_ALL="Remove from All",t.REMOVE_FROM_ALL_DESC="Remove the active contact from all groups they're a member of.",t.labelSpecId="label",t.fieldContainerSpecId="field-container";var p=function(e){function n(t,n){var o=e.call(this,t)||this,i=o.getGroups(),s=o.props.action.groups&&!o.props.action.groups.length;return o.state={groups:i,removeFromAll:s},r.react(o,{include:[/^on/]}),o}return o(n,e),n.prototype.onGroupsChanged=function(e){s(e,this.state.groups)||this.setState({groups:e})},n.prototype.onCheck=function(){this.setState({removeFromAll:!this.state.removeFromAll})},n.prototype.onValid=function(){var e={uuid:this.props.action.uuid,type:this.props.typeConfig.type,groups:[]};this.state.removeFromAll||(e.groups=d.mapAssetsToGroups(this.state.groups)),this.props.updateAction(e)},n.prototype.getGroups=function(){return this.props.action.groups&&this.props.action.groups.length&&"add_contact_groups"!==this.props.action.type?d.mapGroupsToAssets(this.props.action.groups):[]},n.prototype.getFields=function(){var e=null,n=null,o=null,r=!this.state.removeFromAll;return r?(e=i.createElement("p",{"data-spec":t.labelSpecId},t.LABEL),n=i.createElement(l.default,{ref:this.props.onBindWidget,name:"Groups",placeholder:t.PLACEHOLDER,searchPromptText:t.NOT_FOUND,assets:this.context.assetService.getGroupAssets(),groups:this.state.groups,add:!1,required:!0,onChange:this.onGroupsChanged})):this.props.removeWidget("Groups"),o=i.createElement(u.default,{ref:this.props.onBindWidget,name:t.REMOVE_FROM_ALL,defaultValue:this.state.removeFromAll,description:t.REMOVE_FROM_ALL_DESC,sibling:r,onCheck:this.onCheck}),i.createElement(i.Fragment,null,e,n,o)},n.prototype.render=function(){var e=this.getFields();return i.createElement(i.Fragment,null,e)},n.contextTypes={endpoints:c.fakePropType,assetService:c.fakePropType},n}(i.Component);t.RemoveGroupsForm=p;var f=function(e){return{typeConfig:e.nodeEditor.typeConfig}},h=a.connect(f,null,null,{withRef:!0})(p);t.default=h,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__extends","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/actions/ChangeGroups/RemoveGroupsForm.tsx"),__REACT_HOT_LOADER__.register(p,"RemoveGroupsForm","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/actions/ChangeGroups/RemoveGroupsForm.tsx"),__REACT_HOT_LOADER__.register(f,"mapStateToProps","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/actions/ChangeGroups/RemoveGroupsForm.tsx"),__REACT_HOT_LOADER__.register(h,"ConnectedRemoveGroupForm","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/actions/ChangeGroups/RemoveGroupsForm.tsx"))},function(e,t){e.exports={label:"CheckboxElement__label___3osPB",title:"CheckboxElement__title___2YpO4",description:"CheckboxElement__description___28e7q",sibling:"CheckboxElement__sibling___T38le"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);t.PLACEHOLDER="Send a message to the contact";var r=function(e){var n=e.text;return n?o.createElement("div",null,n):o.createElement("div",{className:"placeholder"},t.PLACEHOLDER)};t.default=r,"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(r,"SendMsgComp","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/actions/SendMsg/SendMsg.tsx")},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(115),a=n(114),u=n(16),l=function(e){function t(t){var n=e.call(this,t)||this;return n.onValid=n.onValid.bind(n),n}return o(t,e),t.prototype.onValid=function(e){var t=e.Message.wrappedInstance.state.value,n=e["All Destinations"];if(this.props.translating)t.trim()?this.props.updateLocalizations(this.props.language.iso,[{uuid:this.props.action.uuid,translations:{text:[t]}}]):this.props.updateLocalizations(this.props.language.iso,[{uuid:this.props.action.uuid,translations:null}]);else{var o={uuid:this.props.action.uuid,type:this.props.typeConfig.type,text:t};n.state.checked&&(o.all_urns=!0),this.props.updateAction(o)}},t.prototype.renderForm=function(){var e="",t="",n=null;if(this.props.translating){var o=this.props.action.text;n=r.createElement("div",{"data-spec":"translation-container"},r.createElement("div",{"data-spec":"text-to-translate",className:s.translate_from},o)),t=this.props.language.name+" Translation",this.props.localizations[0].isLocalized()&&(e=this.props.localizations[0].getObject().text)}else e=this.props.action.text;return r.createElement("div",null,n,r.createElement(u.default,{ref:this.props.onBindWidget,name:"Message",showLabel:!1,count:u.Count.SMS,value:e,placeholder:t,autocomplete:!0,focus:!0,required:!this.props.translating,textarea:!0}))},t.prototype.renderAdvanced=function(){return r.createElement(a.default,{ref:this.props.onBindAdvancedWidget,name:"All Destinations",defaultValue:this.props.action.all_urns,description:"Send a message to all destinations known for this contact."})},t.prototype.render=function(){return this.props.showAdvanced?this.renderAdvanced():this.renderForm()},t}(r.Component);t.SendMsgForm=l;var c=function(e){var t=e.flowContext,n=t.definition,o=t.localizations,r=e.flowEditor.editorUI;return{language:r.language,translating:r.translating,typeConfig:e.nodeEditor.typeConfig,definition:n,localizations:o}},d=i.connect(c,null,null,{withRef:!0})(l);t.default=d,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__extends","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/actions/SendMsg/SendMsgForm.tsx"),__REACT_HOT_LOADER__.register(l,"SendMsgForm","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/actions/SendMsg/SendMsgForm.tsx"),__REACT_HOT_LOADER__.register(c,"mapStateToProps","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/actions/SendMsg/SendMsgForm.tsx"),__REACT_HOT_LOADER__.register(d,"ConnectedSendMsgForm","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/actions/SendMsg/SendMsgForm.tsx"))},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i,s=n(4),a=n(34),u=n(201),l=n(0),c=n(1),d=n(202),p=n(15),f=n(107),h=n(203),g=n(117),m=n(71),v=n(210);(i=t.Count||(t.Count={})).SMS="SMS";var _={caretOffset:0,caretCoordinates:{left:0,top:0},errors:[],completionVisible:!1,selectedOptionIndex:0,matches:[],query:""},y=a.bind(r({},v,f)),b=function(e){function t(t){var n=e.call(this,t)||this;return n.state=r({value:n.props.value,options:m.getOptionsList(n.props.autocomplete,n.props.resultNames||[])},_,n.props.count&&n.props.count===i.SMS?m.getMsgStats(n.props.value):{}),s.react(n,{include:[/^on/,/Ref$/,"setSelection","validate"]}),n}return o(t,e),t.prototype.selectedElRef=function(e){return this.selectedEl=e},t.prototype.textElRef=function(e){return this.textEl=e},t.prototype.componentWillReceiveProps=function(e){e.value!==this.props.value&&this.setState({value:e.value})},t.prototype.componentDidMount=function(){return this.props.focus&&this.focusInput()},t.prototype.componentDidUpdate=function(e){return this.selectedEl&&this.selectedEl.scrollIntoView(!1)},t.prototype.onKeyDown=function(e){var t=this;if(this.props.autocomplete)switch(e.keyCode){case g.KEY_P:if(!e.ctrlKey)break;case g.KEY_UP:this.state.completionVisible&&(this.setSelection(this.state.selectedOptionIndex-1),e.preventDefault());break;case g.KEY_N:if(!e.ctrlKey)break;case g.KEY_DOWN:this.state.completionVisible&&(this.setSelection(this.state.selectedOptionIndex+1),e.preventDefault());break;case g.KEY_AT:this.setState({completionVisible:!0,caretCoordinates:d.default(this.textEl,this.textEl.selectionEnd)});break;case g.KEY_ESC:this.state.completionVisible&&(this.setState({completionVisible:!1}),e.preventDefault(),e.stopPropagation());break;case g.KEY_TAB:case g.KEY_ENTER:if(this.state.completionVisible&&this.state.matches.length>0){var n=this.state.matches[this.state.selectedOptionIndex],o=this.state.value.substr(0,this.state.caretOffset-this.state.query.length),r=(o+=n.name).length;o+=this.state.value.substr(this.state.caretOffset);var i="",s=!1,a=[];e.keyCode===g.KEY_TAB&&(i=n.name,s=(a=m.filterOptions(this.state.options,i)).length>0),this.setState({query:i,value:o,matches:a,caretOffset:r,completionVisible:s,selectedOptionIndex:0},function(){u.default(t.textEl,r)}),e.preventDefault(),e.stopPropagation()}break;case g.KEY_BACKSPACE:for(var l=e.currentTarget.selectionStart-1,c=l-1;c>=0;c--){var p=this.state.value[c];if(" "===p)break;if("@"===p)return i=this.state.value.substr(c+1,l-c-1),a=m.filterOptions(this.state.options,i),s=a.length>0,this.setState({query:i,matches:a,caretOffset:l,completionVisible:s,selectedOptionIndex:0,caretCoordinates:d.default(this.textEl,c)})}this.state.completionVisible&&this.setState({query:"",matches:[],caretOffset:l,completionVisible:!1,selectedOptionIndex:0});break;case g.KEY_SPACE:this.setState({completionVisible:!1})}},t.prototype.onBlur=function(e){var t=this;this.setState({query:"",matches:[],caretOffset:0,selectedOptionIndex:0,completionVisible:!1},function(){return t.props.onBlur&&t.props.onBlur(e)})},t.prototype.onChange=function(e){var t=e.currentTarget,n=t.value,o=t.selectionStart,r={value:n};if(this.props.autocomplete){if(this.state.completionVisible){var s=n.substring(0,o),a=s.lastIndexOf("@");a>-1&&(s=s.substring(a+1)),r.query=s,r.matches=m.filterOptions(this.state.options,s)}else if(this.props.count===i.SMS){var u=m.getMsgStats(n,!0);r.parts=u.parts,r.characterCount=u.characterCount,r.unicodeChars=u.unicodeChars}r.caretOffset=o,r.selectedOptionIndex=0}this.setState(r),this.props.onChange&&this.props.onChange(e)},t.prototype.setSelection=function(e){var t=e;e>=this.state.matches.length&&(t=this.state.matches.length-1),e<0&&(t=0),t!==this.state.selectedOptionIndex&&this.setState({selectedOptionIndex:t})},t.prototype.validate=function(){var e=[];return this.props.required&&(this.state.value||e.push(this.props.name+" is required")),this.setState({errors:e}),0===e.length&&this.props.url&&(m.isValidURL(this.state.value)||e.push("Enter a valid URL")),0===e.length},t.prototype.focusInput=function(){var e=this.textEl.value.length;this.textEl.focus(),this.textEl.selectionStart=e},t.prototype.getOption=function(e,t){var n=e.name,o=e.description,r=l.createElement("div",{"data-spec":"option-name"},n);return t?l.createElement(l.Fragment,null,r,l.createElement("div",{"data-spec":"option-desc",className:v.option_description},o)):r},t.prototype.getOptions=function(){var e=this;return this.state.matches.map(function(t,n){var o=[v.option];return n===e.state.selectedOptionIndex?(o.push(v.selected),0===n&&o.push(v.first_option),l.createElement("li",{ref:e.selectedElRef,className:o.join(" "),key:t.name},e.getOption(t,!0))):l.createElement("li",{className:o.join(" "),key:t.name},e.getOption(t,!1))})},t.prototype.render=function(){var e=y((u={},u[v.textinput]=!0,u[f.invalid]=this.state.errors.length>0||!0===this.props.showInvalid,u)),t=y((c={},c[v.completion_container]=!0,c[v.hidden]=!this.state.completionVisible||0===this.state.matches.length,c)),n=this.getOptions(),o=this.props.count&&this.props.count===i.SMS?l.createElement(h.default,{count:this.state.characterCount,parts:this.state.parts.length,unicodeChars:this.state.unicodeChars}):null,r=this.state.errors.length>0&&"Message"===this.props.name&&"send_msg"===this.props.typeConfig.type,s=this.props.textarea?"textarea":"input",a=this.props.textarea?void 0:"text";return l.createElement(p.default,{__className:this.props.__className,name:this.props.name,helpText:this.props.helpText,showLabel:this.props.showLabel,errors:this.state.errors,sendMsgError:r},l.createElement("div",{className:v.wrapper},l.createElement(s,{"data-spec":"input",ref:this.textElRef,type:a,className:e,value:this.state.value,onChange:this.onChange,onBlur:this.onBlur,onKeyDown:this.onKeyDown,placeholder:this.props.placeholder}),l.createElement("div",{className:t,style:this.state.caretCoordinates,"data-spec":"completion-options"},l.createElement("ul",{className:v.option_list,"data-spec":"completion-list"},n),l.createElement("div",{className:v.help,"data-spec":"completion-help"},g.COMPLETION_HELP))),o);var u,c},t}(l.Component);t.TextInputElement=b;var E=function(e){var t=e.flowContext.resultNames;return{typeConfig:e.nodeEditor.typeConfig,resultNames:t}},C=c.connect(E,null,null,{withRef:!0})(b);t.default=C,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__extends","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/form/TextInputElement/TextInputElement.tsx"),__REACT_HOT_LOADER__.register(r,"__assign","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/form/TextInputElement/TextInputElement.tsx"),__REACT_HOT_LOADER__.register(i,"Count","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/form/TextInputElement/TextInputElement.tsx"),__REACT_HOT_LOADER__.register(_,"initialState","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/form/TextInputElement/TextInputElement.tsx"),__REACT_HOT_LOADER__.register(y,"cx","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/form/TextInputElement/TextInputElement.tsx"),__REACT_HOT_LOADER__.register(b,"TextInputElement","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/form/TextInputElement/TextInputElement.tsx"),__REACT_HOT_LOADER__.register(E,"mapStateToProps","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/form/TextInputElement/TextInputElement.tsx"),__REACT_HOT_LOADER__.register(C,"ConnectedTextInputElement","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/form/TextInputElement/TextInputElement.tsx"))},function(e,t,n){e.exports=function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=0,n=0;if(!e)return{start:t,end:n};if("number"==typeof e.selectionStart&&"number"==typeof e.selectionEnd)return{start:e.selectionStart,end:e.selectionEnd};if(!document)return{start:t,end:n};var o=document.selection.createRange();if(!o&&o.parentElement()!==e)return{start:t,end:n};var r=e.value.length,i=e.value.replace(/\r\n/g,"\n"),s=e.createTextRange();s.moveToBookmark(o.getBookmark());var a=e.createTextRange();return a.collapse(!1),s.compareEndPoints("StartToEnd",a)>-1?t=n=r:(t=-s.moveStart("character",-r),t+=i.slice(0,t).split("\n").length-1,s.compareEndPoints("EndToEnd",a)>-1?n=r:(n=-s.moveEnd("character",-r),n+=i.slice(0,n).split("\n").length-1)),{start:t,end:n}},t.setCaretPosition=function(e,t){if(e)if(e.createTextRange){var n=e.createTextRange();n.move("character",t),n.select()}else e.selectionStart?(e.focus(),e.setSelectionRange(t,t)):e.focus()}}])},function(e,t){!function(){function t(e,t,i){if(!o)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var s=i&&i.debug||!1;if(s){var a=document.querySelector("#input-textarea-caret-position-mirror-div");a&&a.parentNode.removeChild(a)}var u=document.createElement("div");u.id="input-textarea-caret-position-mirror-div",document.body.appendChild(u);var l=u.style,c=window.getComputedStyle?getComputedStyle(e):e.currentStyle;l.whiteSpace="pre-wrap","INPUT"!==e.nodeName&&(l.wordWrap="break-word"),l.position="absolute",s||(l.visibility="hidden"),n.forEach(function(e){l[e]=c[e]}),r?e.scrollHeight>parseInt(c.height)&&(l.overflowY="scroll"):l.overflow="hidden",u.textContent=e.value.substring(0,t),"INPUT"===e.nodeName&&(u.textContent=u.textContent.replace(/\s/g,""));var d=document.createElement("span");d.textContent=e.value.substring(t)||".",u.appendChild(d);var p={top:d.offsetTop+parseInt(c.borderTopWidth),left:d.offsetLeft+parseInt(c.borderLeftWidth)};return s?d.style.backgroundColor="#aaa":document.body.removeChild(u),p}var n=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],o="undefined"!=typeof window,r=o&&null!=window.mozInnerScreenX;void 0!==e&&void 0!==e.exports?e.exports=t:o&&(window.getCaretCoordinates=t)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(34),i=n(204),s=n(71),a=n(208),u=r.bind(i),l=function(e){var t=e.count,n=e.parts,r=e.unicodeChars,l=Object.keys(r).length>0,c=u((d={},d[i.tooltipText]=!0,d[i.unicode]=l,d));return o.createElement("div",{className:i.count},o.createElement("div",{className:i.tooltip},t,o.createElement("span",{className:i.divider},"/"),n,o.createElement("span",{className:c},"This message will be about ",o.createElement("b",null,t)," ",s.pluralize(t,"character")," long. We estimate it will take ",o.createElement("b",null,n)," ",s.pluralize(n,"segment")," to send over SMS.",l&&o.createElement(a.default,{unicodeChars:r}))));var d};t.default=l,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(u,"cx","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/form/TextInputElement/CharCount.tsx"),__REACT_HOT_LOADER__.register(l,"CharCount","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/form/TextInputElement/CharCount.tsx"))},function(e,t){e.exports={grid_size:"20",gridSize:"20",node_spacing:"20",nodeSpacing:"20",node_padding:"10",nodePadding:"10","background-size":"20",backgroundSize:"20",count:"CharCount__count___1m05J",tooltip:"CharCount__tooltip___3mo_k",divider:"CharCount__divider___1lgfi","tooltip-text":"CharCount__tooltip-text___IZOom",tooltipText:"CharCount__tooltip-text___IZOom",unicode:"CharCount__unicode___2gYg-"}},function(e,t,n){var o=n(116),r=n(206),i=n(207),s=e.exports.UNICODE="Unicode",a=e.exports.GSM="GSM";e.exports.split=function(e,t){var n=t&&t.characterset;t={summary:t&&t.summary};var u,l,c,d,p=void 0===n&&o.validateMessage(e)||n===a;p?(u=r.split(e,t),l=160,c=153,d=1):(u=i.split(e,t),l=140,c=134,d=2);var f=function(e,t,n,o){return((1===e.length?t:n)-e[e.length-1].bytes)/o}(u.parts,l,c,d);return{characterSet:p?a:s,parts:u.parts,bytes:u.totalBytes,length:u.totalLength,remainingInPart:f}}},function(e,t,n){function o(e){return e>=55296&&e<=56319}var r=n(116);e.exports.split=function(e,t){function n(){var e={content:t.summary?void 0:c,length:s,bytes:a};i.push(e),l+=s,s=0,u+=a,a=0,c=""}if(t=t||{summary:!1},""===e)return{parts:[{content:t.summary?void 0:"",length:0,bytes:0}],totalLength:0,totalBytes:0};for(var i=[],s=0,a=0,u=0,l=0,c="",d=0,p=e.length;d<p;d++){var f=e.charAt(d);r.validateCharacter(f)?r.validateExtendedCharacter(f)&&(152===a&&n(),a++):(o(f.charCodeAt(0))&&d++,f=" "),a++,s++,t.summary||(c+=f),153===a&&n()}return a>0&&n(),i[1]&&u<=160?{parts:[{content:t.summary?void 0:i[0].content+i[1].content,length:l,bytes:u}],totalLength:l,totalBytes:u}:{parts:i,totalLength:l,totalBytes:u}}},function(e,t){function n(e){return e>=55296&&e<=56319}e.exports.split=function(e,t){function o(n){var o={content:t.summary?void 0:n?e.substring(l,n+1):e.substring(l),length:i,bytes:s};r.push(o),l=n+1,u+=i,i=0,a+=s,s=0}if(t=t||{summary:!1},""===e)return{parts:[{content:t.summary?void 0:"",length:0,bytes:0}],totalLength:0,totalBytes:0};for(var r=[],i=0,s=0,a=0,u=0,l=0,c=0,d=e.length;c<d;c++)n(e.charCodeAt(c))&&(132===s&&o(c-1),s+=2,c++),i++,134===(s+=2)&&o(c);return s>0&&o(),r[1]&&a<=140?{parts:[{content:t.summary?void 0:e,length:u,bytes:a}],totalLength:u,totalBytes:a}:{parts:r,totalLength:u,totalBytes:a}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(2),i=n(71),s=n(209);t.utfWarning=function(e){return" Note that your message may require more segments to send because it contains the following "+i.pluralize(e,"character")+":"},t.unicodeListContainerSpecId="unicode-list-container",t.unicodeListSpecId="unicode-list";var a=function(e){var n=e.unicodeChars,i=Object.keys(n);return r.renderIf(i.length>0)(o.createElement("div",{"data-spec":t.unicodeListContainerSpecId},t.utfWarning(i.length),o.createElement("div",{className:s.unicodeList,"data-spec":t.unicodeListSpecId},i.map(function(e,t){return o.createElement("span",{key:e,className:s.unicodeChar},e)}))))};t.default=a,"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(a,"UnicodeList","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/form/TextInputElement/UnicodeList.tsx")},function(e,t){e.exports={"unicode-char":"UnicodeList__unicode-char___1nJtV",unicodeChar:"UnicodeList__unicode-char___1nJtV","unicode-list":"UnicodeList__unicode-list___2tD6S",unicodeList:"UnicodeList__unicode-list___2tD6S"}},function(e,t){e.exports={grid_size:"20",gridSize:"20",node_spacing:"20",nodeSpacing:"20",node_padding:"10",nodePadding:"10","background-size":"20",backgroundSize:"20",option_list:"TextInputElement__option_list___3rlG_",optionList:"TextInputElement__option_list___3rlG_",option_description:"TextInputElement__option_description___2QWPT",optionDescription:"TextInputElement__option_description___2QWPT",option:"TextInputElement__option___1D_xq",selected:"TextInputElement__selected___3Uj73",first_option:"TextInputElement__first_option___2UNHE",firstOption:"TextInputElement__first_option___2UNHE",completion_container:"TextInputElement__completion_container___27kk8",completionContainer:"TextInputElement__completion_container___27kk8",wrapper:"TextInputElement__wrapper___1X0xA",help:"TextInputElement__help___DEZBz",hidden:"TextInputElement__hidden___2_pcX",textinput:"TextInputElement__textinput___rAAq6"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);t.getResultNameMarkup=function(e){return o.createElement("span",{className:"emph"},e)},t.getSavePlaceholder=function(e,t){return o.createElement("div",null,"Save ",e," as ",t)},t.getClearPlaceholder=function(e){return o.createElement("div",null,"Clear value for ",e)};var r=function(e){var n=e.value,o=e.name;return n?t.getSavePlaceholder(n,t.getResultNameMarkup(o)):t.getClearPlaceholder(t.getResultNameMarkup(o))};t.default=r,"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(r,"SetRunResult","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/actions/SetRunResult/SetRunResult.tsx")},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(16),a=n(213),u=function(e){function t(t){var n=e.call(this,t)||this;return n.onValid=n.onValid.bind(n),n}return o(t,e),t.prototype.onValid=function(e){var t=e.Name.wrappedInstance.state.value,n=e.Value.wrappedInstance.state.value,o=e.Category.wrappedInstance.state.value,r={uuid:this.props.action.uuid,type:this.props.typeConfig.type,name:t,value:n,category:o};this.props.updateAction(r)},t.prototype.render=function(){return r.createElement("div",{className:a.form},r.createElement(s.default,{__className:a.name,ref:this.props.onBindWidget,name:"Name",showLabel:!0,value:this.props.action.name,required:!0,helpText:"The name of the result, used to reference later, for example: @run.results.my_result_name"}),r.createElement(s.default,{__className:a.value,ref:this.props.onBindWidget,name:"Value",showLabel:!0,value:this.props.action.value,autocomplete:!0,helpText:"The value to save for this result or empty to clears it. You can use expressions, for example: @(title(input))"}),r.createElement(s.default,{__className:a.category,ref:this.props.onBindWidget,name:"Category",placeholder:"Optional",showLabel:!0,value:this.props.action.category,autocomplete:!0,helpText:"An optional category for your result. For age, the value might be 17, but the category might be 'Young Adult'"}))},t}(r.PureComponent);t.SetRunResultForm=u;var l=function(e){return{typeConfig:e.nodeEditor.typeConfig}},c=i.connect(l,null,null,{withRef:!0})(u);t.default=c,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__extends","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/actions/SetRunResult/SetRunResultForm.tsx"),__REACT_HOT_LOADER__.register(u,"SetRunResultForm","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/actions/SetRunResult/SetRunResultForm.tsx"),__REACT_HOT_LOADER__.register(l,"mapStateToProps","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/actions/SetRunResult/SetRunResultForm.tsx"),__REACT_HOT_LOADER__.register(c,"ConnectedSetRunResultForm","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/actions/SetRunResult/SetRunResultForm.tsx"))},function(e,t){e.exports={form:"SetRunResult__form___YUVBb",name:"SetRunResult__name___2OYAH",value:"SetRunResult__value___zUqm8",category:"SetRunResult__category___8XWQ6"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(2);t.getFieldNameMarkup=function(e){return e.property?r.emphasize(r.titleCase(e.property)):r.emphasize(e.field.name)};var i=function(e){var n=t.getFieldNameMarkup(e);return e.value.length?o.createElement("div",null,"Update ",n," to ",r.emphasize(e.value)):o.createElement("div",null,"Clear value for ",n)};t.default=i,"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(i,"SetContactAttribComp","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/actions/SetContactAttrib/SetContactAttrib.tsx")},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(216),s=n(16),a=n(217),u=n(6),l=n(12);t.ATTRIB_HELP_TEXT="Select an existing attribute to update or type any name to create a new one",t.TEXT_INPUT_HELP_TEXT="The value to store can be any text you like. You can also reference other values that have been collected up to this point by typing @run.results or @webhook.json.";var c=function(e){function n(t,n){var o=e.call(this,t)||this;return o.onValid=o.onValid.bind(o),o}return o(n,e),n.prototype.onValid=function(e){var t=e.Attribute.wrappedInstance.state.attribute,n=e.Value.wrappedInstance.state.value;t.type===l.AssetType.Field?(this.context.assetService.getFieldAssets().add(t),this.props.updateAction(a.newFieldAction(this.props.action.uuid,n,t.name))):this.props.updateAction(a.newPropertyAction(this.props.action.uuid,n,t.name))},n.prototype.getInitial=function(){return"set_contact_field"===this.props.action.type?a.fieldToAsset(this.props.action):a.propertyToAsset(this.props.action)},n.prototype.render=function(){var e=this.getInitial();return r.createElement(r.Fragment,null,r.createElement(i.default,{ref:this.props.onBindWidget,name:"Attribute",showLabel:!0,assets:this.context.assetService.getFieldAssets(),helpText:t.ATTRIB_HELP_TEXT,initial:e,add:!0,required:!0}),r.createElement(s.default,{ref:this.props.onBindWidget,name:"Value",showLabel:!0,value:this.props.action.value,helpText:t.TEXT_INPUT_HELP_TEXT,autocomplete:!0}))},n.contextTypes={endpoints:u.fakePropType,assetService:u.fakePropType},n}(r.Component);t.default=c,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__extends","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/actions/SetContactAttrib/SetContactAttribForm.tsx"),__REACT_HOT_LOADER__.register(c,"SetContactAttribForm","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/actions/SetContactAttrib/SetContactAttribForm.tsx"))},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(41),s=n(0),a=n(1),u=n(14),l=n(2),c=n(67),d=n(15),p=n(12);t.PLACEHOLDER="Enter the name of an existing attribute or create a new one",t.NOT_FOUND="Invalid attribute name",t.CREATE_PROMPT="New attribute: ",t.attribExists=function(e,t){return!!t.find(function(t){return t.name.toLowerCase().trim()===e.toLowerCase().trim()})},t.isValidNewOption=function(e){var t=e.label;return l.isValidLabel(t)},t.isOptionUnique=function(e){var n=e.option,o=e.options;return e.labelKey,e.valueKey,!l.propertyExists(n.name)&&!t.attribExists(n.name,o)},t.createNewOption=function(e){var t=e.label;return{id:l.snakify(t),name:t,type:p.AssetType.Field,isNew:!0}};var f=function(e){function n(t){var n=e.call(this,t)||this;return n.state={attribute:n.props.initial,errors:[]},n.onChange=n.onChange.bind(n),n}return o(n,e),n.prototype.onChange=function(e){i(this.state.attribute,e)||this.setState({attribute:e})},n.prototype.getErrors=function(){var e=[];return this.props.required&&!this.state.attribute.name&&e.push(this.props.name+" is required."),e},n.prototype.updateErrorState=function(e){i(this.state.errors,e)||this.setState({errors:e})},n.prototype.validate=function(){var e=this.getErrors();return this.updateErrorState(e),0===e.length},n.prototype.render=function(){var e={};return this.props.add&&(e.isValidNewOption=t.isValidNewOption,e.isOptionUnique=t.isOptionUnique,e.createNewOption=t.createNewOption,e.createPrompt=t.CREATE_PROMPT),s.createElement(d.default,{showLabel:this.props.showLabel,name:this.props.name,helpText:this.props.helpText,errors:this.state.errors,attribError:this.state.errors.length>0},s.createElement(c.default,r({__className:l.getSelectClass(this.state.errors.length),onChange:this.onChange,name:this.props.name,resultType:u.ResultType.field,multi:!1,assets:this.props.assets,initial:[this.state.attribute],closeOnSelect:!0,searchPromptText:this.props.searchPromptText,placeholder:this.props.placeholder},e)))},n.defaultProps={placeholder:t.PLACEHOLDER,searchPromptText:t.NOT_FOUND},n}(s.Component);t.AttribElement=f,t.default=a.connect(null,null,null,{withRef:!0})(f),"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__extends","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/form/AttribElement.tsx"),__REACT_HOT_LOADER__.register(r,"__assign","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/form/AttribElement.tsx"),__REACT_HOT_LOADER__.register(f,"AttribElement","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/form/AttribElement.tsx"))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=n(12);t.newFieldAction=function(e,t,n){return{type:"set_contact_field",field:{key:o.snakify(n),name:o.titleCase(n)},uuid:e,value:t}},t.newPropertyAction=function(e,t,n){return{type:"set_contact_property",property:o.snakify(n),uuid:e,value:t}},t.fieldToAsset=function(e){var t=e.field;return{id:t.key,name:t.name,type:r.AssetType.Field}},t.propertyToAsset=function(e){var t=e.property;return{id:t,name:o.titleCase(t),type:r.AssetType.Property}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=function(e){var t=e.subject;return o.createElement("div",null,t)};t.default=r,"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(r,"SendEmailComp","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/actions/SendEmail/SendEmail.tsx")},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(220),a=n(16),u=n(221),l=function(e){function t(t){var n=e.call(this,t)||this;return n.onValid=n.onValid.bind(n),n}return o(t,e),t.prototype.onValid=function(e){var t=e.Recipient.state.emails,n=e.Subject.wrappedInstance.state.value,o=e.Message.wrappedInstance.state.value,r=t.map(function(e){return e.value}),i={uuid:this.props.action.uuid,type:this.props.typeConfig.type,body:o,subject:n,addresses:r};this.props.updateAction(i)},t.prototype.render=function(){return r.createElement("div",{className:u.ele},r.createElement(s.default,{ref:this.props.onBindWidget,name:"Recipient",placeholder:"To",emails:this.props.action.addresses,required:!0}),r.createElement(a.default,{__className:u.subject,ref:this.props.onBindWidget,name:"Subject",placeholder:"Subject",value:this.props.action.subject,autocomplete:!0,required:!0}),r.createElement(a.default,{__className:u.message,ref:this.props.onBindWidget,name:"Message",showLabel:!1,value:this.props.action.body,autocomplete:!0,required:!0,textarea:!0}))},t}(r.Component);t.SendEmailForm=l;var c=function(e){return{typeConfig:e.nodeEditor.typeConfig}},d=i.connect(c,null,null,{withRef:!0})(l);t.default=d,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__extends","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/actions/SendEmail/SendEmailForm.tsx"),__REACT_HOT_LOADER__.register(l,"SendEmailForm","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/actions/SendEmail/SendEmailForm.tsx"),__REACT_HOT_LOADER__.register(c,"mapStateToProps","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/actions/SendEmail/SendEmailForm.tsx"),__REACT_HOT_LOADER__.register(d,"ConnectedSendEmailForm","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/actions/SendEmail/SendEmailForm.tsx"))},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(33),s=n(15),a=n(2);t.transformEmails=function(e){return e.map(function(e){return{label:e,value:e}})};var u=function(e){function n(n){var o=e.call(this,n)||this;o.emailPattern=/\S+@\S+\.\S+/;var r=t.transformEmails(o.props.emails||[]);return o.state={emails:r,errors:[]},o.onChangeEmails=o.onChangeEmails.bind(o),o.isValidEmail=o.isValidEmail.bind(o),o.validEmailPrompt=o.validEmailPrompt.bind(o),o}return o(n,e),n.prototype.validate=function(){var e=[];return this.props.required&&0===this.state.emails.length&&e.push(this.props.name+" is required"),this.setState({errors:e}),0===e.length},n.prototype.onChangeEmails=function(e){this.setState({emails:e})},n.prototype.validEmailPrompt=function(e){return"Send email to "+e},n.prototype.isValidEmail=function(e){var t=e.label;return this.emailPattern.test(t)},n.prototype.arrowRenderer=function(){return r.createElement("div",null)},n.prototype.render=function(){var e=a.getSelectClass(this.state.errors.length);return r.createElement(s.default,{name:this.props.name,required:this.props.required,errors:this.state.errors},r.createElement(i.Creatable,{className:e,name:this.props.name,placeholder:this.props.placeholder,value:this.state.emails,onChange:this.onChangeEmails,multi:!0,searchable:!0,clearable:!1,noResultsText:"Enter an email address",isValidNewOption:this.isValidEmail,promptTextCreator:this.validEmailPrompt,arrowRenderer:this.arrowRenderer,options:[]}))},n}(r.Component);t.default=u,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__extends","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/form/EmailElement.tsx"),__REACT_HOT_LOADER__.register(u,"EmailElement","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/form/EmailElement.tsx"))},function(e,t){e.exports={ele:"SendEmail__ele___3kXJs",subject:"SendEmail__subject___1A6CK",message:"SendEmail__message___3h_DK"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(223);t.getStartFlowMarkup=function(e){return o.createElement("div",{className:r.startFlow},e)};var i=function(e){var n=e.flow.name;return t.getStartFlowMarkup(n)};t.default=i,"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(i,"StartFlowComp","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/actions/StartFlow/StartFlow.tsx")},function(e,t){e.exports={"start-flow":"StartFlow__start-flow___2RG3a",startFlow:"StartFlow__start-flow___2RG3a"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=function(e){var t=e.url;return o.createElement("div",null,t)};t.default=r,"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(r,"CallWebhookComp","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/actions/CallWebhook/CallWebhook.tsx")},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),a=n(1),u=n(66),l=n(42),c=n(128),d=n(129),p=n(6),f=n(12),h=n(60);t.extractGroups=function(e){var t=e.exits;return e.router.cases.map(function(e){var n="";try{for(var o=i(t),r=o.next();!r.done;r=o.next()){var s=r.value,a=s.name;if(s.uuid===e.exit_uuid){n+=a;break}}}catch(e){u={error:e}}finally{try{r&&!r.done&&(l=o.return)&&l.call(o)}finally{if(u)throw u.error}}return{name:n,id:e.arguments[0],type:f.AssetType.Group};var u,l})},t.hasGroupsRouter=function(e){var t=null;return e.router&&(t=e.router.cases.find(function(e){return e.type===h.Operators.has_group})),l.hasSwitchRouter(e)&&t};var g=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o(n,e),n.prototype.onValid=function(e){if(this.props.translating)return this.props.saveLocalizations(e);this.props.updateRouter()},n.prototype.render=function(){if(this.props.translating)return this.props.getExitTranslations();var e={};t.hasGroupsRouter(this.props.nodeToEdit)&&(e.groups=t.extractGroups(this.props.nodeToEdit));var n=this.props.getResultNameField();return s.createElement(s.Fragment,null,s.createElement("div",{className:d.instructions},s.createElement("p",null,c.GROUP_LABEL),s.createElement(u.default,r({ref:this.props.onBindWidget,name:"Groups",assets:this.context.assetService.getGroupAssets(),add:!1,required:!0},e))),n)},n.contextTypes={endpoints:p.fakePropType,assetService:p.fakePropType},n}(s.Component);t.GroupsRouter=g;var m=function(e){return{translating:e.flowEditor.editorUI.translating,nodeToEdit:e.nodeEditor.nodeToEdit}},v=a.connect(m,null,null,{withRef:!0})(g);t.default=v,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__extends","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/routers/GroupsRouter.tsx"),__REACT_HOT_LOADER__.register(r,"__assign","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/routers/GroupsRouter.tsx"),__REACT_HOT_LOADER__.register(i,"__values","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/routers/GroupsRouter.tsx"),__REACT_HOT_LOADER__.register(g,"GroupsRouter","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/routers/GroupsRouter.tsx"),__REACT_HOT_LOADER__.register(m,"mapStateToProps","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/routers/GroupsRouter.tsx"),__REACT_HOT_LOADER__.register(v,"ConnectedGroupsRouterForm","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/routers/GroupsRouter.tsx"))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),r=n(227),i=n(118),s=n(119),a=n(228);t.default=function(e){void 0===e&&(e=s.initialState);return o.createStore(a.default,e,r.composeWithDevTools(o.applyMiddleware(i.default)))}},function(e,t,n){"use strict";var o=n(3).compose;t.__esModule=!0,t.composeWithDevTools="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?o:o.apply(null,arguments)},t.devToolsEnhancer="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:function(){return function(e){return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),r=n(54),i=n(43),s=n(56);t.default=o.combineReducers({flowContext:r.default,flowEditor:i.default,nodeEditor:s.default})},function(e,t,n){"use strict";var o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(58),i=n(11),s=n(2),a=n(57),u=n(2);t.uniquifyNode=function(e){return r(e,s.merge({uuid:i.v4()}))},t.updateConnection=function(e,t,n,o){var i=e,u=a.getNode(e,t);if(o&&a.getNode(e,o),t===o)throw new Error("Cannot connect "+t+" to itself");var l=a.getExitIndex(u.node,n),c=u.node.exits[l].destination_node_uuid;return i=r(i,(d={},d[t]={node:{exits:(p={},p[l]={destination_node_uuid:s.set(o)},p)}},d)),o&&(i=r(i,(f={},f[o]={inboundConnections:s.merge((h={},h[n]=t,h))},f))),null!=c&&(i=r(i,(g={},g[c]={inboundConnections:s.unset([[n]])},g))),i;var d,p,f,h,g},t.removeConnection=function(e,n,o){return t.updateConnection(e,n,o,null)},t.mergeNode=function(e,n){var i=e;i[n.node.uuid]&&(i=t.removeNodeAndRemap(e,n.node.uuid)),i=r(e,s.merge((h={},h[n.node.uuid]=n,h)));try{for(var u=o(Object.keys(n.inboundConnections)),l=u.next();!l.done;l=u.next()){var c=l.value,d=n.inboundConnections[c],p=a.getNode(e,d),f=a.getExitIndex(p.node,c);i=r(i,(v={},v[d]={node:{exits:(_={},_[f]=s.merge({destination_node_uuid:n.node.uuid}),_)}},v))}}catch(e){g={error:e}}finally{try{l&&!l.done&&(m=u.return)&&m.call(u)}finally{if(g)throw g.error}}return i;var h,g,m,v,_},t.addAction=function(e,t,n){return a.getNode(e,t),r(e,(o={},o[t]={node:{actions:u.push([n])}},o));var o},t.updateAction=function(e,t,n){var o=a.getNode(e,t),i=a.getActionIndex(o.node,n.uuid);return r(e,(u={},u[t]={node:{actions:(l={},l[i]=s.set(n),l)}},u));var u,l},t.removeAction=function(e,t,n){var o=a.getNode(e,t),i=a.getActionIndex(o.node,n);return r(e,(u={},u[t]={node:{actions:s.splice([[i,1]])}},u));var u},t.moveActionUp=function(e,t,n){var o=a.getNode(e,t),i=o.node.actions,u=a.getActionIndex(o.node,n);if(0===u)throw new Error("Cannot move an action at the top upwards");var l=i[u],c=i[u-1];return r(e,(d={},d[t]={node:{actions:s.splice([[u-1,2,l,c]])}},d));var d},t.removeNode=function(e,t){return r(e,s.unset([t]))},t.removeNodeAndRemap=function(e,t){var n=a.getNode(e,t),i=e;try{for(var u=o(n.node.exits),l=u.next();!l.done;l=u.next()){var c=l.value;c.destination_node_uuid&&(i=r(i,(b={},b[c.destination_node_uuid]={inboundConnections:s.unset([c.uuid])},b)))}}catch(e){_={error:e}}finally{try{l&&!l.done&&(y=u.return)&&y.call(u)}finally{if(_)throw _.error}}var d=null;1===n.node.exits.length&&(d=n.node.exits[0].destination_node_uuid);try{for(var p=o(Object.keys(n.inboundConnections)),f=p.next();!f.done;f=p.next()){var h=f.value,g=n.inboundConnections[h],m=a.getNode(e,g),v=a.getExitIndex(m.node,h);i=r(i,(w={},w[g]={node:{exits:(x={},x[v]={destination_node_uuid:s.set(d)},x)}},w)),d&&(a.getNode(e,d),i=r(i,(O={},O[d]={inboundConnections:s.merge((S={},S[h]=g,S))},O)))}}catch(e){E={error:e}}finally{try{f&&!f.done&&(C=p.return)&&C.call(p)}finally{if(E)throw E.error}}return r(i,s.unset([t]));var _,y,b,E,C,w,x,O,S},t.updatePosition=function(e,t,n,o){var i=a.getNode(e,t).ui.position,u=i.right-i.left,l=i.bottom-i.top,c=s.snapToGrid(n,o);return r(e,(d={},d[t]={ui:{position:s.set({left:c.left,top:c.top,right:c.left+u,bottom:c.top+l})}},d));var d},t.updateDimensions=function(e,t,n){var o=a.getNode(e,t);return r(e,(i={},i[t]={ui:{position:s.merge({bottom:o.ui.position.top+n.height,right:o.ui.position.left+n.width})}},i));var i},t.updateStickyNote=function(e,t,n){return e._ui.stickies||(e._ui.stickies={}),r(e,n?{_ui:{stickies:s.merge((o={},o[t]=n,o))}}:{_ui:{stickies:s.unset([t])}});var o},t.pruneDefinition=function(e){return r(e,s.merge({nodes:[],_ui:s.merge({nodes:[]})}))},t.updateLocalization=function(e,t,n){var o=e;return o.localization[t]||(o=r(o,{localization:(i={},i[t]=s.set({}),i)})),n.forEach(function(e){var n=e.translations,i=e.uuid;o=r(o,n?{localization:(a={},a[t]=(u={},u[i]=s.set(n),u),a)}:{localization:(l={},l[t]=s.unset([i]),l)});var a,u,l}),o;var i},"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(o,"__values","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/store/mutators.ts")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(231));t.default=o.default,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e){return e()}Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),l=o(u),c=o(n(53)),d=o(n(5)),p=o(n(232)),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(123)),h=n(125),g=o(h),m=t.portalClassName="ReactModalPortal",v=t.bodyOpenClassName="ReactModal__Body--open",_=void 0!==c.default.createPortal,y=_?c.default.createPortal:c.default.unstable_renderSubtreeIntoContainer,b=function(e){function t(){var e,n,o,a;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);for(var u=arguments.length,d=Array(u),f=0;f<u;f++)d[f]=arguments[f];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(d))),o.removePortal=function(){!_&&c.default.unmountComponentAtNode(o.node),i(o.props.parentSelector).removeChild(o.node)},o.portalRef=function(e){o.portal=e},o.renderPortal=function(e){var n=y(o,l.default.createElement(p.default,s({defaultStyles:t.defaultStyles},e)),o.node);o.portalRef(n)},a=n,r(o,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),a(t,[{key:"componentDidMount",value:function(){h.canUseDOM&&(_||(this.node=document.createElement("div")),this.node.className=this.props.portalClassName,i(this.props.parentSelector).appendChild(this.node),!_&&this.renderPortal(this.props))}},{key:"componentWillReceiveProps",value:function(e){if(h.canUseDOM){var t=e.isOpen;if(this.props.isOpen||t){var n=i(this.props.parentSelector),o=i(e.parentSelector);o!==n&&(n.removeChild(this.node),o.appendChild(this.node)),!_&&this.renderPortal(e)}}}},{key:"componentWillUpdate",value:function(e){h.canUseDOM&&e.portalClassName!==this.props.portalClassName&&(this.node.className=e.portalClassName)}},{key:"componentWillUnmount",value:function(){if(h.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return h.canUseDOM&&_?(!this.node&&_&&(this.node=document.createElement("div")),y(l.default.createElement(p.default,s({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){f.setElement(e)}}]),t}();b.propTypes={isOpen:d.default.bool.isRequired,style:d.default.shape({content:d.default.object,overlay:d.default.object}),portalClassName:d.default.string,bodyOpenClassName:d.default.string,className:d.default.oneOfType([d.default.string,d.default.shape({base:d.default.string.isRequired,afterOpen:d.default.string.isRequired,beforeClose:d.default.string.isRequired})]),overlayClassName:d.default.oneOfType([d.default.string,d.default.shape({base:d.default.string.isRequired,afterOpen:d.default.string.isRequired,beforeClose:d.default.string.isRequired})]),appElement:d.default.instanceOf(g.default),onAfterOpen:d.default.func,onRequestClose:d.default.func,closeTimeoutMS:d.default.number,ariaHideApp:d.default.bool,shouldFocusAfterRender:d.default.bool,shouldCloseOnOverlayClick:d.default.bool,shouldReturnFocusAfterClose:d.default.bool,parentSelector:d.default.func,aria:d.default.object,role:d.default.string,contentLabel:d.default.string,shouldCloseOnEsc:d.default.bool},b.defaultProps={isOpen:!1,portalClassName:m,bodyOpenClassName:v,ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,parentSelector:function(){return document.body}},b.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},t.default=b},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),l=r(u),c=r(n(5)),d=o(n(233)),p=r(n(234)),f=o(n(123)),h=o(n(124)),g=o(n(236)),m=r(n(125)),v={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},_=9,y=27,b=function(e){function t(e){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setFocusAfterRender=function(e){n.focusAfterRender=n.props.shouldFocusAfterRender&&e},n.setOverlayRef=function(e){n.overlay=e},n.setContentRef=function(e){n.content=e},n.afterClose=function(){var e=n.props,t=e.appElement,o=e.ariaHideApp;g.remove(n.props.bodyOpenClassName),o&&h.totalCount()<1&&f.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(d.returnFocus(),d.teardownScopedFocus()):d.popWithoutFocus())},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(d.setupScopedFocus(n.node),d.markForFocusLater()),n.setState({isOpen:!0},function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen()}))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus()},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())})},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){e.keyCode===_&&(0,p.default)(n.content,e),n.props.shouldCloseOnEsc&&e.keyCode===y&&(e.preventDefault(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null,n.moveFromContentToOverlay=null},n.handleOverlayOnMouseUp=function(){null===n.moveFromContentToOverlay&&(n.shouldClose=!1)},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){n.props.shouldCloseOnOverlayClick||e.target!=n.overlay||e.preventDefault(),n.moveFromContentToOverlay=!1},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1,n.moveFromContentToOverlay=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var o="object"===(void 0===t?"undefined":s(t))?t:{base:v[e],afterOpen:v[e]+"--after-open",beforeClose:v[e]+"--before-close"},r=o.base;return n.state.afterOpen&&(r=r+" "+o.afterOpen),n.state.beforeClose&&(r=r+" "+o.beforeClose),"string"==typeof t&&t?r+" "+t:r},n.ariaAttributes=function(e){return Object.keys(e).reduce(function(t,n){return t["aria-"+n]=e[n],t},{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),a(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&(this.setFocusAfterRender(!0),this.open())}},{key:"componentWillReceiveProps",value:function(e){!this.props.isOpen&&e.isOpen?(this.setFocusAfterRender(!0),this.open()):this.props.isOpen&&!e.isOpen&&this.close()}},{key:"componentDidUpdate",value:function(){this.focusAfterRender&&(this.focusContent(),this.setFocusAfterRender(!1))}},{key:"componentWillUnmount",value:function(){this.afterClose(),clearTimeout(this.closeTimer)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,o=e.bodyOpenClassName;g.add(o),n&&f.hide(t)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.overlayClassName,o=e.defaultStyles,r=t?{}:o.content,s=n?{}:o.overlay;return this.shouldBeClosed()?null:l.default.createElement("div",{ref:this.setOverlayRef,className:this.buildClassName("overlay",n),style:i({},s,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown,onMouseUp:this.handleOverlayOnMouseUp,"aria-modal":"true"},l.default.createElement("div",i({ref:this.setContentRef,style:i({},r,this.props.style.content),className:this.buildClassName("content",t),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.ariaAttributes(this.props.aria||{})),this.props.children))}}]),t}();b.defaultProps={style:{overlay:{},content:{}}},b.propTypes={isOpen:c.default.bool.isRequired,defaultStyles:c.default.shape({content:c.default.object,overlay:c.default.object}),style:c.default.shape({content:c.default.object,overlay:c.default.object}),className:c.default.oneOfType([c.default.string,c.default.object]),overlayClassName:c.default.oneOfType([c.default.string,c.default.object]),bodyOpenClassName:c.default.string,ariaHideApp:c.default.bool,appElement:c.default.instanceOf(m.default),onAfterOpen:c.default.func,onRequestClose:c.default.func,closeTimeoutMS:c.default.number,shouldFocusAfterRender:c.default.bool,shouldCloseOnOverlayClick:c.default.bool,shouldReturnFocusAfterClose:c.default.bool,role:c.default.string,contentLabel:c.default.string,aria:c.default.object,children:c.default.node,shouldCloseOnEsc:c.default.bool},t.default=b,e.exports=t.default},function(e,t,n){"use strict";function o(){u=!0}function r(){if(u){if(u=!1,!a)return;setTimeout(function(){a.contains(document.activeElement)||((0,i.default)(a)[0]||a).focus()},0)}}Object.defineProperty(t,"__esModule",{value:!0}),t.handleBlur=o,t.handleFocus=r,t.markForFocusLater=function(){s.push(document.activeElement)},t.returnFocus=function(){var e=null;try{return void(e=s.pop()).focus()}catch(t){console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){s.length>0&&s.pop()},t.setupScopedFocus=function(e){a=e,window.addEventListener?(window.addEventListener("blur",o,!1),document.addEventListener("focus",r,!0)):(window.attachEvent("onBlur",o),document.attachEvent("onFocus",r))},t.teardownScopedFocus=function(){a=null,window.addEventListener?(window.removeEventListener("blur",o),document.removeEventListener("focus",r)):(window.detachEvent("onBlur",o),document.detachEvent("onFocus",r))};var i=function(e){return e&&e.__esModule?e:{default:e}}(n(122)),s=[],a=null,u=!1},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,o.default)(e);if(n.length){var r=t.shiftKey,i=n[0],s=n[n.length-1];if(e!==document.activeElement){var a;if(s!==document.activeElement||r||(a=i),i===document.activeElement&&r&&(a=s),a)return t.preventDefault(),void a.focus();var u=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null!=u&&"Chrome"!=u[1]&&null==/\biPod\b|\biPad\b/g.exec(navigator.userAgent)){var l=n.indexOf(document.activeElement);l>-1&&(l+=r?-1:1),t.preventDefault(),n[l].focus()}}}else t.preventDefault()};var o=function(e){return e&&e.__esModule?e:{default:e}}(n(122));e.exports=t.default},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.add=function(e){e.split(" ").map(o.add).forEach(function(e){return document.body.classList.add(e)})},t.remove=function(e){var t=o.get();e.split(" ").map(o.remove).filter(function(e){return 0===t[e]}).forEach(function(e){return document.body.classList.remove(e)})};var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(124))},function(e,t,n){var o;!function(){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen};void 0===(o=function(){return i}.call(t,n,t,e))||(e.exports=o)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(0),i=n(239);!function(e){e.primary="primary",e.secondary="secondary",e.tertiary="tertiary"}(o=t.ButtonTypes||(t.ButtonTypes={}));var s=function(e){var t=e.name,n=e.onClick,o=e.type;return r.createElement("div",{onClick:n,className:[i.btn,i[o]].join(" ")},t)};t.default=s,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"ButtonTypes","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/Button.tsx"),__REACT_HOT_LOADER__.register(s,"Button","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/Button.tsx"))},function(e,t){e.exports={grid_size:"20",gridSize:"20",node_spacing:"20",nodeSpacing:"20",node_padding:"10",nodePadding:"10","background-size":"20",backgroundSize:"20",btn:"Button__btn___2jLXO",primary:"Button__primary___2VzF4",secondary:"Button__secondary___CWd1W"}},function(e,t){e.exports={grid_size:"20",gridSize:"20",node_spacing:"20",nodeSpacing:"20",node_padding:"10",nodePadding:"10","background-size":"20",backgroundSize:"20",modal:"Modal__modal___Pmn2G",title:"Modal__title___Ryq7J",errors:"Modal__errors___eEYgI",header:"Modal__header___iJ-oV",content:"Modal__content___2J90Q",footer:"Modal__footer___1yIOi",left:"Modal__left___2YbZG",right:"Modal__right___3RdiO",show_back:"Modal__show_back___1-Fg5",showBack:"Modal__show_back___1-Fg5",show_front:"Modal__show_front___2hXCe",showFront:"Modal__show_front___2hXCe",background:"Modal__background___3M2H5",container:"Modal__container___34GK0",side:"Modal__side___3PC9b",front:"Modal__front___2jpCz",back:"Modal__back___20TAd",flipped:"Modal__flipped___2R47Y"}},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(33),s=n(17),a=n(127),u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={config:n.props.initialType},n.onChangeType=n.onChangeType.bind(n),n}return o(t,e),t.prototype.onChangeType=function(e){var t=this;this.setState({config:e},function(){return t.props.onChange(e)})},t.prototype.render=function(){return r.createElement("div",{className:this.props.__className},r.createElement("div",{className:a.intro},"When a contact arrives at this point in your flow..."),r.createElement("div",null,r.createElement(i.default,{value:this.state.config,onChange:this.onChangeType,valueKey:"type",searchable:!1,clearable:!1,labelKey:"description",options:s.typeConfigList.filter(function(e){return"missing"!==e.type})})))},t}(r.PureComponent);t.default=u,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__extends","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/NodeEditor/TypeList.tsx"),__REACT_HOT_LOADER__.register(u,"TypeList","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/NodeEditor/TypeList.tsx"))},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(243),a=n(6),u=function(e){function t(t,n){var o=e.call(this,t)||this;return o.onValid=o.onValid.bind(o),o}return o(t,e),t.prototype.onValid=function(e){if(this.props.translating)return this.props.saveLocalizations(e);this.props.updateRouter()},t.prototype.render=function(){return this.props.translating?this.props.getExitTranslations():r.createElement("div",null,r.createElement("p",null,"Select a flow to run"),r.createElement(s.default,{ref:this.props.onBindWidget,name:"Flow",assets:this.context.assetService.getFlowAssets(),flow:this.props.action.flow,required:!0}))},t.contextTypes={endpoints:a.fakePropType,assetService:a.fakePropType},t}(r.PureComponent);t.SubflowRouter=u;var l=function(e){return{translating:e.flowEditor.editorUI.translating}},c=i.connect(l,null,null,{withRef:!0})(u);t.default=c,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__extends","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/routers/SubflowRouter.tsx"),__REACT_HOT_LOADER__.register(u,"SubflowRouter","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/routers/SubflowRouter.tsx"),__REACT_HOT_LOADER__.register(l,"mapStateToProps","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/routers/SubflowRouter.tsx"),__REACT_HOT_LOADER__.register(c,"ConnectedSubflowRouterForm","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/routers/SubflowRouter.tsx"))},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(2),s=n(67),a=n(15),u=n(14),l=n(12);t.notFound="Enter the name of an existing flow";var c=function(e){function n(t){var n=e.call(this,t)||this,o=n.props.flow.uuid&&n.props.flow.name?{name:n.props.flow.name,id:n.props.flow.uuid,type:l.AssetType.Flow}:null;return n.state={flow:o,errors:[]},n.onChange=n.onChange.bind(n),n}return o(n,e),n.prototype.onChange=function(e){this.setState({flow:e})},n.prototype.validate=function(){var e=[];return this.props.required&&(this.state.flow||e.push(this.props.name+" is required")),this.setState({errors:e}),0===e.length},n.prototype.render=function(){var e=i.getSelectClass(this.state.errors.length);return r.createElement(a.default,{name:this.props.name,errors:this.state.errors},r.createElement(s.default,{__className:e,onChange:this.onChange,name:this.props.name,assets:this.props.assets,resultType:u.ResultType.flow,multi:!1,initial:[this.state.flow],searchPromptText:t.notFound}))},n}(r.Component);t.default=c,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__extends","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/form/FlowElement.tsx"),__REACT_HOT_LOADER__.register(c,"FlowElement","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/form/FlowElement.tsx"))},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(245);Object.defineProperty(t,"DragDropContext",{enumerable:!0,get:function(){return o(r).default}});var i=n(314);Object.defineProperty(t,"Droppable",{enumerable:!0,get:function(){return o(i).default}});var s=n(323);Object.defineProperty(t,"Draggable",{enumerable:!0,get:function(){return o(s).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(246);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return function(e){return e&&e.__esModule?e:{default:e}}(o).default}})},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(44)),i=o(n(22)),s=o(n(23)),a=o(n(24)),u=o(n(25)),l=o(n(26)),c=o(n(0)),d=o(n(5)),p=o(n(281)),f=o(n(313)),h=n(32),g=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,a.default)(t,[{key:"getChildContext",value:function(){return(0,r.default)({},h.storeKey,this.store)}},{key:"componentWillMount",value:function(){var e=this;this.store=(0,p.default)();var t=this.store.getState();this.unsubscribe=this.store.subscribe(function(){var n=e.store.getState(),o={onDragStart:e.props.onDragStart,onDragEnd:e.props.onDragEnd};(0,f.default)(o,n,t),t=n})}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){return this.props.children}}]),t}(c.default.Component);g.childContextTypes=(0,r.default)({},h.storeKey,d.default.shape({dispatch:d.default.func.isRequired,subscribe:d.default.func.isRequired,getState:d.default.func.isRequired}).isRequired),t.default=g},function(e,t,n){n(248);var o=n(9).Object;e.exports=function(e,t,n){return o.defineProperty(e,t,n)}},function(e,t,n){var o=n(19);o(o.S+o.F*!n(27),"Object",{defineProperty:n(21).f})},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){n(251),e.exports=n(9).Object.getPrototypeOf},function(e,t,n){var o=n(47),r=n(134);n(135)("getPrototypeOf",function(){return function(e){return r(o(e))}})},function(e,t,n){e.exports={default:n(253),__esModule:!0}},function(e,t,n){n(136),n(260),e.exports=n(85).f("iterator")},function(e,t,n){var o=n(79),r=n(75);e.exports=function(e){return function(t,n){var i,s,a=String(r(t)),u=o(n),l=a.length;return u<0||u>=l?e?"":void 0:(i=a.charCodeAt(u))<55296||i>56319||u+1===l||(s=a.charCodeAt(u+1))<56320||s>57343?e?a.charAt(u):i:e?a.slice(u,u+2):s-56320+(i-55296<<10)+65536}}},function(e,t,n){"use strict";var o=n(81),r=n(46),i=n(84),s={};n(35)(s,n(13)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=o(s,{next:r(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var o=n(21),r=n(36),i=n(49);e.exports=n(27)?Object.defineProperties:function(e,t){r(e);for(var n,s=i(t),a=s.length,u=0;a>u;)o.f(e,n=s[u++],t[n]);return e}},function(e,t,n){var o=n(38),r=n(141),i=n(258);e.exports=function(e){return function(t,n,s){var a,u=o(t),l=r(u.length),c=i(s,l);if(e&&n!=n){for(;l>c;)if((a=u[c++])!=a)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){var o=n(79),r=Math.max,i=Math.min;e.exports=function(e,t){return(e=o(e))<0?r(e+t,0):i(e,t)}},function(e,t,n){var o=n(20).document;e.exports=o&&o.documentElement},function(e,t,n){n(261);for(var o=n(20),r=n(35),i=n(48),s=n(13)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<a.length;u++){var l=a[u],c=o[l],d=c&&c.prototype;d&&!d[s]&&r(d,s,l),i[l]=i.Array}},function(e,t,n){"use strict";var o=n(262),r=n(263),i=n(48),s=n(38);e.exports=n(137)(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports={default:n(265),__esModule:!0}},function(e,t,n){n(266),n(271),n(272),n(273),e.exports=n(9).Symbol},function(e,t,n){"use strict";var o=n(20),r=n(28),i=n(27),s=n(19),a=n(138),u=n(267).KEY,l=n(37),c=n(77),d=n(84),p=n(61),f=n(13),h=n(85),g=n(86),m=n(268),v=n(269),_=n(36),y=n(38),b=n(74),E=n(46),C=n(81),w=n(270),x=n(143),O=n(21),S=n(49),A=x.f,T=O.f,P=w.f,D=o.Symbol,k=o.JSON,N=k&&k.stringify,R="prototype",j=f("_hidden"),I=f("toPrimitive"),M={}.propertyIsEnumerable,L=c("symbol-registry"),F=c("symbols"),U=c("op-symbols"),H=Object[R],B="function"==typeof D,G=o.QObject,W=!G||!G[R]||!G[R].findChild,z=i&&l(function(){return 7!=C(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a})?function(e,t,n){var o=A(H,t);o&&delete H[t],T(e,t,n),o&&e!==H&&T(H,t,o)}:T,q=function(e){var t=F[e]=C(D[R]);return t._k=e,t},V=B&&"symbol"==typeof D.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof D},X=function(e,t,n){return e===H&&X(U,t,n),_(e),t=b(t,!0),_(n),r(F,t)?(n.enumerable?(r(e,j)&&e[j][t]&&(e[j][t]=!1),n=C(n,{enumerable:E(0,!1)})):(r(e,j)||T(e,j,E(1,{})),e[j][t]=!0),z(e,t,n)):T(e,t,n)},K=function(e,t){_(e);for(var n,o=m(t=y(t)),r=0,i=o.length;i>r;)X(e,n=o[r++],t[n]);return e},Y=function(e){var t=M.call(this,e=b(e,!0));return!(this===H&&r(F,e)&&!r(U,e))&&(!(t||!r(this,e)||!r(F,e)||r(this,j)&&this[j][e])||t)},$=function(e,t){if(e=y(e),t=b(t,!0),e!==H||!r(F,t)||r(U,t)){var n=A(e,t);return!n||!r(F,t)||r(e,j)&&e[j][t]||(n.enumerable=!0),n}},J=function(e){for(var t,n=P(y(e)),o=[],i=0;n.length>i;)r(F,t=n[i++])||t==j||t==u||o.push(t);return o},Z=function(e){for(var t,n=e===H,o=P(n?U:y(e)),i=[],s=0;o.length>s;)!r(F,t=o[s++])||n&&!r(H,t)||i.push(F[t]);return i};B||(a((D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(n){this===H&&t.call(U,n),r(this,j)&&r(this[j],e)&&(this[j][e]=!1),z(this,e,E(1,n))};return i&&W&&z(H,e,{configurable:!0,set:t}),q(e)})[R],"toString",function(){return this._k}),x.f=$,O.f=X,n(142).f=w.f=J,n(62).f=Y,n(87).f=Z,i&&!n(80)&&a(H,"propertyIsEnumerable",Y,!0),h.f=function(e){return q(f(e))}),s(s.G+s.W+s.F*!B,{Symbol:D});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Q.length>ee;)f(Q[ee++]);for(var te=S(f.store),ne=0;te.length>ne;)g(te[ne++]);s(s.S+s.F*!B,"Symbol",{for:function(e){return r(L,e+="")?L[e]:L[e]=D(e)},keyFor:function(e){if(!V(e))throw TypeError(e+" is not a symbol!");for(var t in L)if(L[t]===e)return t},useSetter:function(){W=!0},useSimple:function(){W=!1}}),s(s.S+s.F*!B,"Object",{create:function(e,t){return void 0===t?C(e):K(C(e),t)},defineProperty:X,defineProperties:K,getOwnPropertyDescriptor:$,getOwnPropertyNames:J,getOwnPropertySymbols:Z}),k&&s(s.S+s.F*(!B||l(function(){var e=D();return"[null]"!=N([e])||"{}"!=N({a:e})||"{}"!=N(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!V(e)){for(var t,n,o=[e],r=1;arguments.length>r;)o.push(arguments[r++]);return"function"==typeof(t=o[1])&&(n=t),!n&&v(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!V(t))return t}),o[1]=t,N.apply(k,o)}}}),D[R][I]||n(35)(D[R],I,D[R].valueOf),d(D,"Symbol"),d(Math,"Math",!0),d(o.JSON,"JSON",!0)},function(e,t,n){var o=n(61)("meta"),r=n(45),i=n(28),s=n(21).f,a=0,u=Object.isExtensible||function(){return!0},l=!n(37)(function(){return u(Object.preventExtensions({}))}),c=function(e){s(e,o,{value:{i:"O"+ ++a,w:{}}})},d=e.exports={KEY:o,NEED:!1,fastKey:function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,o)){if(!u(e))return"F";if(!t)return"E";c(e)}return e[o].i},getWeak:function(e,t){if(!i(e,o)){if(!u(e))return!0;if(!t)return!1;c(e)}return e[o].w},onFreeze:function(e){return l&&d.NEED&&u(e)&&!i(e,o)&&c(e),e}}},function(e,t,n){var o=n(49),r=n(87),i=n(62);e.exports=function(e){var t=o(e),n=r.f;if(n)for(var s,a=n(e),u=i.f,l=0;a.length>l;)u.call(e,s=a[l++])&&t.push(s);return t}},function(e,t,n){var o=n(82);e.exports=Array.isArray||function(e){return"Array"==o(e)}},function(e,t,n){var o=n(38),r=n(142).f,i={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==i.call(e)?function(e){try{return r(e)}catch(e){return s.slice()}}(e):r(o(e))}},function(e,t){},function(e,t,n){n(86)("asyncIterator")},function(e,t,n){n(86)("observable")},function(e,t,n){e.exports={default:n(275),__esModule:!0}},function(e,t,n){n(276),e.exports=n(9).Object.setPrototypeOf},function(e,t,n){var o=n(19);o(o.S,"Object",{setPrototypeOf:n(277).set})},function(e,t,n){var o=n(45),r=n(36),i=function(e,t){if(r(e),!o(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,o){try{(o=n(73)(Function.call,n(143).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:o(e,n),e}}({},!1):void 0),check:i}},function(e,t,n){e.exports={default:n(279),__esModule:!0}},function(e,t,n){n(280);var o=n(9).Object;e.exports=function(e,t){return o.create(e,t)}},function(e,t,n){var o=n(19);o(o.S,"Object",{create:n(81)})},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(78)),i=n(3),s=o(n(118)),a=o(n(282)),u="object"===("undefined"==typeof window?"undefined":(0,r.default)(window))&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:i.compose;t.default=function(){return(0,i.createStore)(a.default,u((0,i.applyMiddleware)(s.default)))}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(29)),i=o(n(44)),s=o(n(30)),a=o(n(10)),u=o(n(289)),l=n(7),c=o(n(299)),d=o(n(304)),p=o(n(307)),f={request:null,draggable:{},droppable:{}},h={x:0,y:0},g=(0,a.default)(function(){return{phase:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"IDLE",drag:null,drop:null,dimension:f}}),m=function(e){var t=e.state,n=e.clientSelection,o=e.shouldAnimate,r=void 0!==o&&o,i=e.windowScroll,a=e.impact;if("DRAGGING"!==t.phase)return console.error("cannot move while not dragging"),g();if(null==t.drag)return console.error("cannot move if there is no drag information"),g();var u=t.drag.current,d=t.drag.initial,p=i||u.windowScroll,f=function(){var e=(0,l.subtract)(n,d.client.selection);return{offset:e,selection:n,center:(0,l.add)(e,d.client.center)}}(),h={selection:(0,l.add)(f.selection,p),offset:(0,l.add)(f.offset,p),center:(0,l.add)(f.center,p)},m={id:u.id,type:u.type,isScrollAllowed:u.isScrollAllowed,client:f,page:h,shouldAnimate:r,windowScroll:p},v=t.drag&&t.drag.impact.destination?t.drag.impact.destination.droppableId:null,_=a||(0,c.default)({pageCenter:h.center,draggable:t.dimension.draggable[m.id],draggables:t.dimension.draggable,droppables:t.dimension.droppable,previousDroppableOverId:v}),y={initial:d,impact:_,current:m,previous:{droppableOverId:v}};return(0,s.default)({},t,{drag:y})};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g("IDLE"),t=arguments[1];if("CLEAN"===t.type)return g();if("PREPARE"===t.type)return g("PREPARING");if("REQUEST_DIMENSIONS"===t.type)return"PREPARING"!==e.phase?(console.error("trying to start a lift while not preparing for a lift"),g()):{phase:"COLLECTING_DIMENSIONS",drag:null,drop:null,dimension:{request:t.payload,draggable:{},droppable:{}}};if("PUBLISH_DRAGGABLE_DIMENSION"===t.type){var n=t.payload;return"COLLECTING_DIMENSIONS"!==e.phase?(console.warn("dimension rejected as no longer requesting dimensions",n),e):e.dimension.draggable[n.id]?(console.error("dimension already exists for "+n.id),e):(0,s.default)({},e,{dimension:{request:e.dimension.request,droppable:e.dimension.droppable,draggable:(0,s.default)({},e.dimension.draggable,(0,i.default)({},n.id,n))}})}if("PUBLISH_DROPPABLE_DIMENSION"===t.type){var o=t.payload;return"COLLECTING_DIMENSIONS"!==e.phase?(console.warn("dimension rejected as no longer requesting dimensions",o),e):e.dimension.droppable[o.id]?(console.error("dimension already exists for "+o.id),e):(0,s.default)({},e,{dimension:{request:e.dimension.request,draggable:e.dimension.draggable,droppable:(0,s.default)({},e.dimension.droppable,(0,i.default)({},o.id,o))}})}if("COMPLETE_LIFT"===t.type){if("COLLECTING_DIMENSIONS"!==e.phase)return console.error("trying complete lift without collecting dimensions"),e;var a=t.payload,c=a.id,v=a.type,_=a.client,y=a.windowScroll,b=a.isScrollAllowed,E=e.dimension.draggable,C=e.dimension.draggable[c],w=e.dimension.droppable[C.droppableId],x={selection:(0,l.add)(_.selection,y),center:(0,l.add)(_.center,y)},O=(0,u.default)({draggable:C,droppable:w,draggables:E});if(!O||!O.destination)return console.error("invalid lift state"),g();var S={source:O.destination,client:_,page:x,windowScroll:y},A={id:c,type:v,client:{selection:_.selection,center:_.center,offset:h},page:{selection:x.selection,center:x.center,offset:h},windowScroll:y,isScrollAllowed:b,shouldAnimate:!1};return(0,s.default)({},e,{phase:"DRAGGING",drag:{initial:S,current:A,impact:O}})}if("UPDATE_DROPPABLE_DIMENSION_SCROLL"===t.type){if("DRAGGING"!==e.phase)return console.error("cannot update a droppable dimensions scroll when not dragging"),g();if(null==e.drag)return console.error("invalid store state"),g();if(!e.drag.current.isScrollAllowed)return g();var T=t.payload,P=T.id,D=T.offset,k=e.dimension.droppable[P];if(!k)return console.error("cannot update a droppable that is not inside of the state",P),g();var N=(0,s.default)({},k,{container:(0,s.default)({},k.container,{scroll:(0,s.default)({},k.container.scroll,{current:D})})}),R=(0,s.default)({},e,{dimension:{request:e.dimension.request,draggable:e.dimension.draggable,droppable:(0,s.default)({},e.dimension.droppable,(0,i.default)({},P,N))}});return m({state:R,clientSelection:e.drag.current.client.selection})}if("UPDATE_DROPPABLE_DIMENSION_IS_ENABLED"===t.type){if(!(0,r.default)(e.dimension.droppable).length)return e;var j=t.payload,I=j.id,M=j.isEnabled,L=e.dimension.droppable[I];if(!L)return console.error("cannot update enabled flag on droppable that does not have a dimension"),g();if(L.isEnabled===M)return console.warn("trying to set droppable isEnabled to "+String(M)+" but it is already "+String(M)),e;var F=(0,s.default)({},L,{isEnabled:M});return(0,s.default)({},e,{dimension:(0,s.default)({},e.dimension,{droppable:(0,s.default)({},e.dimension.droppable,(0,i.default)({},I,F))})})}if("MOVE"===t.type){var U=t.payload,H=U.client,B=U.windowScroll;return m({state:e,clientSelection:H,windowScroll:B})}if("MOVE_BY_WINDOW_SCROLL"===t.type){var G=t.payload.windowScroll;return e.drag?m({state:e,clientSelection:e.drag.current.client.selection,windowScroll:G}):(console.error("cannot move with window scrolling if no current drag"),g())}if("MOVE_FORWARD"===t.type||"MOVE_BACKWARD"===t.type){if("DRAGGING"!==e.phase)return console.error("cannot move while not dragging",t),g();if(!e.drag)return console.error("cannot move if there is no drag information"),g();var W=e.drag,z="MOVE_FORWARD"===t.type;if(!W.impact.destination)return console.error("cannot move if there is no previous destination"),g();var q=e.dimension.droppable[W.impact.destination.droppableId],V=(0,d.default)({isMovingForward:z,draggableId:W.current.id,impact:W.impact,droppable:q,draggables:e.dimension.draggable});if(!V)return e;var X=V.impact,K=V.pageCenter,Y=(0,l.subtract)(K,W.current.windowScroll);return m({state:e,impact:X,clientSelection:Y,shouldAnimate:!0})}if("CROSS_AXIS_MOVE_FORWARD"===t.type||"CROSS_AXIS_MOVE_BACKWARD"===t.type){if("DRAGGING"!==e.phase)return console.error("cannot move cross axis when not dragging"),g();if(!e.drag)return console.error("cannot move cross axis if there is no drag information"),g();if(!e.drag.impact.destination)return console.error("cannot move cross axis if not in a droppable"),g();var $=e.drag.current,J=$.id,Z=$.page.center,Q=e.drag.impact.destination.droppableId,ee=e.drag.initial.source,te=(0,p.default)({isMovingForward:"CROSS_AXIS_MOVE_FORWARD"===t.type,pageCenter:Z,draggableId:J,droppableId:Q,home:ee,draggables:e.dimension.draggable,droppables:e.dimension.droppable});if(!te)return e;var ne=te.pageCenter,oe=(0,l.subtract)(ne,$.windowScroll);return m({state:e,clientSelection:oe,impact:te.impact,shouldAnimate:!0})}if("DROP_ANIMATE"===t.type){var re=t.payload,ie=re.trigger,se=re.newHomeOffset,ae=re.impact,ue=re.result;return"DRAGGING"!==e.phase?(console.error("cannot animate drop while not dragging",t),e):e.drag?{phase:"DROP_ANIMATING",drag:null,drop:{pending:{trigger:ie,newHomeOffset:se,result:ue,impact:ae},result:null},dimension:e.dimension}:(console.error("cannot animate drop - invalid drag state"),g())}return"DROP_COMPLETE"===t.type?{phase:"DROP_COMPLETE",drag:null,drop:{pending:null,result:t.payload},dimension:f}:e}},function(e,t,n){n(284),e.exports=n(9).Object.keys},function(e,t,n){var o=n(47),r=n(49);n(135)("keys",function(){return function(e){return r(o(e))}})},function(e,t,n){e.exports={default:n(286),__esModule:!0}},function(e,t,n){n(287),e.exports=n(9).Object.assign},function(e,t,n){var o=n(19);o(o.S+o.F,"Object",{assign:n(288)})},function(e,t,n){"use strict";var o=n(49),r=n(87),i=n(62),s=n(47),a=n(140),u=Object.assign;e.exports=!u||n(37)(function(){var e={},t={},n=Symbol(),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=o})?function(e,t){for(var n=s(e),u=arguments.length,l=1,c=r.f,d=i.f;u>l;)for(var p,f=a(arguments[l++]),h=c?o(f).concat(c(f)):o(f),g=h.length,m=0;g>m;)d.call(f,p=h[m++])&&(n[p]=f[p]);return n}:u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(31)),r=n(88);t.default=function(e){var t=e.draggable,n=e.droppable,i=e.draggables,s=(0,o.default)(n,i).indexOf(t);if(-1===s)return console.error("lifting a draggable that is not inside a droppable"),null;var a={index:s,droppableId:n.id};return{movement:r.noMovement,direction:n.axis.direction,destination:a}}},function(e,t,n){e.exports={default:n(291),__esModule:!0}},function(e,t,n){n(136),n(292),e.exports=n(9).Array.from},function(e,t,n){"use strict";var o=n(73),r=n(19),i=n(47),s=n(293),a=n(294),u=n(141),l=n(295),c=n(296);r(r.S+r.F*!n(298)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,r,d,p=i(e),f="function"==typeof this?this:Array,h=arguments.length,g=h>1?arguments[1]:void 0,m=void 0!==g,v=0,_=c(p);if(m&&(g=o(g,h>2?arguments[2]:void 0,2)),void 0==_||f==Array&&a(_))for(n=new f(t=u(p.length));t>v;v++)l(n,v,m?g(p[v],v):p[v]);else for(d=_.call(p),n=new f;!(r=d.next()).done;v++)l(n,v,m?s(d,g,[r.value,v],!0):r.value);return n.length=v,n}})},function(e,t,n){var o=n(36);e.exports=function(e,t,n,r){try{return r?t(o(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&o(i.call(e)),t}}},function(e,t,n){var o=n(48),r=n(13)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||i[r]===e)}},function(e,t,n){"use strict";var o=n(21),r=n(46);e.exports=function(e,t,n){t in e?o.f(e,t,r(0,n)):e[t]=n}},function(e,t,n){var o=n(297),r=n(13)("iterator"),i=n(48);e.exports=n(9).getIteratorMethod=function(e){if(void 0!=e)return e[r]||e["@@iterator"]||i[o(e)]}},function(e,t,n){var o=n(82),r=n(13)("toStringTag"),i="Arguments"==o(function(){return arguments}());e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),r))?n:i?o(t):"Object"==(s=o(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){var o=n(13)("iterator"),r=!1;try{var i=[7][o]();i.return=function(){r=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var i=[7],s=i[o]();s.next=function(){return{done:n=!0}},i[o]=function(){return s},e(i)}catch(e){}return n}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(300)),i=o(n(31)),s=o(n(88)),a=o(n(302)),u=o(n(303));t.default=function(e){var t=e.pageCenter,n=e.draggable,o=e.draggables,l=e.droppables,c=e.previousDroppableOverId,d=(0,r.default)({target:t,draggable:n,draggables:o,droppables:l,previousDroppableOverId:c});if(!d)return s.default;var p=l[d];if(!p.isEnabled)return s.default;var f=l[n.droppableId],h=f.id===d,g=(0,i.default)(p,o);return h?(0,a.default)({pageCenter:t,draggable:n,home:f,insideHome:g}):(0,u.default)({pageCenter:t,draggable:n,destination:p,insideDestination:g})}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(29)),i=o(n(30)),s=o(n(10)),a=n(90),u=o(n(91)),l=o(n(31)),c=n(50),d=n(7),p=n(63),f={x:0,y:0},h=(0,s.default)(function(e,t){var n=t.id,o=t.axis,r=t.isEnabled,s=t.client,l=t.container,c=t.page,d=function(e){return function(t){return(0,a.getFragment)((0,u.default)((0,p.addPosition)(t,e)))}}(e),f={withoutMargin:d(s.withoutMargin),withMargin:d(s.withMargin),withMarginAndPadding:d(s.withMarginAndPadding)},h={withoutMargin:d(c.withoutMargin),withMargin:d(c.withMargin),withMarginAndPadding:d(c.withMarginAndPadding)},g=t.page.withMargin[t.axis.size]<=t.container.bounds[t.axis.size]?d(l.bounds):(0,i.default)({},l.bounds);return{id:n,axis:o,isEnabled:r,client:f,page:h,container:{scroll:l.scroll,bounds:g}}}),g=(0,s.default)(function(e,t,n){var o=(0,l.default)(n,t);if(!o.length)return f;var r=n.page.withMargin[n.axis.end]-o[o.length-1].page.withMargin[n.axis.end],i=Math.max(e.page.withMargin[n.axis.size]-r,0);return(0,d.patch)(n.axis.line,i)});t.default=function(e){var t=e.target,n=e.draggable,o=e.draggables,i=e.droppables,s=e.previousDroppableOverId,a=(0,r.default)(i).map(function(e){return i[e]}).find(function(e){var r=function(e){var t=e.draggable,n=e.draggables,o=e.droppable,r=e.previousDroppableOverId,i=t.droppableId===o.id,s=r&&r===o.id;if(i||!s)return o;var a=g(t,n,o);return h(a,o)}({draggable:n,draggables:o,droppable:e,previousDroppableOverId:s});return(0,c.isPointWithinDroppable)(r)(t)});return a?a.id:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.vertical={direction:"vertical",line:"y",crossLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},t.horizontal={direction:"horizontal",line:"x",crossLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(7);t.default=function(e){var t=e.pageCenter,n=e.draggable,r=e.home,i=e.insideHome,s=r.axis,a=(0,o.subtract)(r.container.scroll.current,r.container.scroll.initial),u=(0,o.add)(t,a),l=n.page.withoutMargin.center,c=u[s.line]-l[s.line]>0,d=i.filter(function(e){if(e===n)return!1;var t=e.page.withoutMargin;return c?!(t.center[s.line]<l[s.line])&&u[s.line]>t[s.start]:!(l[s.line]<t.center[s.line])&&u[s.line]<t[s.end]}).map(function(e){return e.id}),p=c?d.reverse():d,f=function(){var e=i.indexOf(n);return d.length?c?e+d.length:e-d.length:e}();return{movement:{amount:(0,o.patch)(s.line,n.client.withMargin[s.size]),draggables:p,isBeyondStartPosition:c},direction:s.direction,destination:{droppableId:r.id,index:f}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(7);t.default=function(e){var t=e.pageCenter,n=e.draggable,r=e.destination,i=e.insideDestination,s=r.axis,a=(0,o.subtract)(r.container.scroll.current,r.container.scroll.initial),u=(0,o.add)(t,a),l=i.filter(function(e){return e.page.withoutMargin[s.end]>u[s.line]}).map(function(e){return e.id}),c=i.length-l.length;return{movement:{amount:(0,o.patch)(s.line,n.page.withMargin[s.size]),draggables:l,isBeyondStartPosition:!1},direction:s.direction,destination:{droppableId:r.id,index:c}}}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(305)),i=o(n(306));t.default=function(e){var t=e.draggableId,n=e.draggables,o=e.droppable,s=n[t].droppableId===o.id;return o.isEnabled?s?(0,r.default)(e):(0,i.default)(e):null}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(89)),i=o(n(10)),s=o(n(31)),a=n(50),u=n(7),l=o(n(51)),c=(0,i.default)(function(e,t){return e.indexOf(t)});t.default=function(e){var t=e.isMovingForward,n=e.draggableId,o=e.impact,i=e.droppable,d=e.draggables;if(!o.destination)return console.error("cannot move to next index when there is not previous destination"),null;var p=o.destination,f=d[n],h=i.axis,g=(0,s.default)(i,d),m=c(g,f),v=p.index,_=t?v+1:v-1;if(-1===m)return console.error("could not find draggable inside current droppable"),null;if(_>g.length-1)return null;if(_<0)return null;var y=g[_],b=t&&_<=m||!t&&_>=m,E=b?t?"start":"end":t?"end":"start",C=(0,l.default)({source:f.page.withoutMargin,sourceEdge:E,destination:y.page.withoutMargin,destinationEdge:E,destinationAxis:i.axis});return(0,a.isPointWithinDroppable)(i)(C)?{pageCenter:C,impact:{movement:{draggables:b?o.movement.draggables.slice(1,o.movement.draggables.length):[y.id].concat((0,r.default)(o.movement.draggables)),amount:(0,u.patch)(h.line,f.page.withMargin[h.size]),isBeyondStartPosition:_>m},destination:{droppableId:i.id,index:_},direction:i.axis.direction}}:null}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(89)),i=o(n(31)),s=n(50),a=n(7),u=o(n(51));t.default=function(e){var t=e.isMovingForward,n=e.draggableId,o=e.impact,l=e.droppable,c=e.draggables;if(!o.destination)return console.error("cannot move to next index when there is not previous destination"),null;var d=o.destination,p=c[n],f=l.axis,h=(0,i.default)(l,c),g=d.index,m=t?g+1:g-1,v=h.length-1;if(m>h.length)return null;if(m<0)return null;var _=h[Math.min(m,v)],y=m>v,b=y?"end":"start",E=(0,u.default)({source:p.page.withoutMargin,sourceEdge:"start",destination:_.page.withMargin,destinationEdge:b,destinationAxis:l.axis});if(!y&&!(0,s.isPointWithinDroppable)(l)(E))return null;return{pageCenter:E,impact:{movement:{draggables:t?o.movement.draggables.slice(1,o.movement.draggables.length):[_.id].concat((0,r.default)(o.movement.draggables)),amount:(0,a.patch)(f.line,p.page.withMargin[f.size]),isBeyondStartPosition:!1},destination:{droppableId:l.id,index:m},direction:l.axis.direction}}}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(308)),i=o(n(309)),s=o(n(310)),a=o(n(31));t.default=function(e){var t=e.isMovingForward,n=e.pageCenter,o=e.draggableId,u=e.droppableId,l=e.home,c=e.draggables,d=e.droppables,p=c[o],f=d[u],h=(0,r.default)({isMovingForward:t,pageCenter:n,source:f,droppables:d});if(!h)return null;var g=(0,a.default)(h,c),m=(0,i.default)({axis:h.axis,pageCenter:n,destination:h,insideDestination:g});return g.length&&!m?null:(0,s.default)({pageCenter:n,destination:h,draggable:p,target:m,insideDestination:g,home:l})}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(29)),i=n(7),s=o(n(144)),a=n(63),u=n(50);t.default=function(e){var t=e.isMovingForward,n=e.pageCenter,o=e.source,l=e.droppables,c=o.axis,d=(0,u.getVisibleBounds)(o),p=(0,r.default)(l).map(function(e){return l[e]}).filter(function(e){return e!==o}).filter(function(e){return e.isEnabled}).map(function(e){return{bounds:(0,u.getVisibleBounds)(e),droppable:e}}).filter(function(e){var n=e.bounds;return t?d[c.crossAxisEnd]<=n[c.crossAxisStart]:n[c.crossAxisEnd]<=d[c.crossAxisStart]}).filter(function(e){var t=e.bounds,n=(0,s.default)(d[c.start],d[c.end]),o=(0,s.default)(t[c.start],t[c.end]);return n(t[c.start])||n(t[c.end])||o(d[c.start])||o(d[c.end])}).filter(function(e){var t=e.droppable;return t.page.withoutMargin[c.crossAxisStart]>=t.container.bounds[c.crossAxisStart]&&t.page.withoutMargin[c.crossAxisEnd]<=t.container.bounds[c.crossAxisEnd]}).sort(function(e,n){var o=e.bounds,r=n.bounds,i=o[c.crossAxisStart],s=r[c.crossAxisStart];return t?i-s:s-i}).filter(function(e,t,n){return e.bounds[c.crossAxisStart]===n[0].bounds[c.crossAxisStart]});if(!p.length)return null;if(1===p.length)return p[0].droppable;var f=p.filter(function(e){var t=e.bounds;return(0,s.default)(t[c.start],t[c.end])(n[c.line])});return 1===f.length?f[0].droppable:f.length>1?f.sort(function(e,t){var n=e.bounds,o=t.bounds;return n[c.start]-o[c.start]})[0].droppable:p.sort(function(e,t){var o=e.bounds,r=t.bounds,s=(0,i.closest)(n,(0,a.getCorners)(o)),u=(0,i.closest)(n,(0,a.getCorners)(r));return s!==u?s-u:o[c.start]-r[c.start]})[0].droppable}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),r=n(50);t.default=function(e){var t=e.axis,n=e.pageCenter,i=e.destination,s=e.insideDestination;if(!s.length)return null;var a=(0,r.isDraggableWithin)(i.container.bounds),u=s.filter(a).sort(function(e,r){var i=(0,o.distance)(n,e.page.withMargin.center),s=(0,o.distance)(n,r.page.withMargin.center);return i<s?-1:s<i?1:e.page.withMargin[t.start]-r.page.withMargin[t.start]});return u.length?u[0]:null}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(311)),i=o(n(312)),s=n(7);t.default=function(e){var t=e.pageCenter,n=e.destination,o=e.draggable,a=e.target,u=e.home,l=e.insideDestination,c=(0,s.patch)(n.axis.line,o.client.withMargin[n.axis.size]);return n.id===o.droppableId?(0,r.default)({amount:c,originalIndex:u.index,target:a,insideDroppable:l,draggable:o,droppable:n}):(0,i.default)({amount:c,pageCenter:t,target:a,insideDroppable:l,draggable:o,droppable:n})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(51));t.default=function(e){var t=e.amount,n=e.originalIndex,r=e.target,i=e.insideDroppable,s=e.draggable,a=e.droppable;if(!r)return console.error("there will always be a target in the original list"),null;var u=a.axis,l=i.indexOf(r);if(-1===l)return console.error("unable to find target in destination droppable"),null;if(l===n)return{pageCenter:s.page.withoutMargin.center,impact:{movement:{draggables:[],amount:t,isBeyondStartPosition:!1},direction:a.axis.direction,destination:{droppableId:a.id,index:n}}};var c=l>n,d=c?"end":"start";return{pageCenter:(0,o.default)({source:s.page.withoutMargin,sourceEdge:d,destination:c?r.page.withoutMargin:r.page.withMargin,destinationEdge:d,destinationAxis:u}),impact:{movement:{draggables:function(){if(!c)return i.slice(l,n);var e=n+1,t=l+1;return i.slice(e,t).reverse()}().map(function(e){return e.id}),amount:t,isBeyondStartPosition:c},direction:u.direction,destination:{droppableId:a.id,index:l}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(51));t.default=function(e){var t=e.amount,n=e.pageCenter,r=e.target,i=e.insideDroppable,s=e.draggable,a=e.droppable,u=a.axis,l=Boolean(r&&n[a.axis.line]<r.page.withMargin.center[a.axis.line]);if(!r)return{pageCenter:(0,o.default)({source:s.page.withoutMargin,sourceEdge:"start",destination:a.page.withMarginAndPadding,destinationEdge:"start",destinationAxis:u}),impact:{movement:{draggables:[],amount:t,isBeyondStartPosition:!1},direction:u.direction,destination:{droppableId:a.id,index:0}}};var c=i.indexOf(r),d=l?c:c+1;return-1===c?(console.error("could not find target inside destination"),null):{pageCenter:(0,o.default)({source:s.page.withoutMargin,sourceEdge:"start",destination:r.page.withMargin,destinationEdge:l?"start":"end",destinationAxis:u}),impact:{movement:{draggables:i.slice(d,i.length).map(function(e){return e.id}),amount:t,isBeyondStartPosition:!1},direction:u.direction,destination:{droppableId:a.id,index:d}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var o=e.onDragStart,r=e.onDragEnd,i=t.phase,s=n.phase;if(i!==s)if("DRAGGING"!==i||"DRAGGING"===s){if("DROP_COMPLETE"===i&&"DROP_COMPLETE"!==s){if(!t.drop||!t.drop.result)return void console.error("cannot fire onDragEnd hook without drag state",{current:t,previous:n});var a=t.drop.result,u=a.source,l=a.destination,c=a.draggableId,d=a.type;if(!l)return void r(t.drop.result);if(u.droppableId!==l.droppableId||u.index!==l.index)return void r(t.drop.result);r({draggableId:c,type:d,source:u,destination:null})}if("IDLE"===i&&"DRAGGING"===s){if(!n.drag)return void console.error("cannot fire onDragEnd for cancel because cannot find previous drag");r({draggableId:n.drag.current.id,type:n.drag.current.type,source:n.drag.initial.source,destination:null})}if("IDLE"===i&&"DROP_ANIMATING"===s){if(!n.drop||!n.drop.pending)return void console.error("cannot fire onDragEnd for cancel because cannot find previous pending drop");r({draggableId:n.drop.pending.result.draggableId,type:n.drop.pending.result.type,source:n.drop.pending.result.source,destination:null})}}else{if(!o)return;if(!t.drag)return void console.error("cannot fire onDragStart hook without drag state",{current:t,previous:n});o({draggableId:t.drag.current.id,type:t.drag.current.type,source:t.drag.initial.source})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(315);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return function(e){return e&&e.__esModule?e:{default:e}}(o).default}})},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.makeSelector=void 0;var r=n(1),i=n(52),s=o(n(10)),a=n(32),u=n(145),l=o(n(316)),c=t.makeSelector=function(){var e=(0,s.default)(function(e,t){return!!t&&t.droppableId===e}),t=(0,s.default)(function(e,t,n,o){return n?n.droppableId!==e?null:t.droppableId===n.droppableId?null:o?o.placeholder:null:null}),n=(0,s.default)(function(e,t){return{isDraggingOver:e,placeholder:t}});return(0,i.createSelector)([u.phaseSelector,u.dragSelector,u.draggingDraggableSelector,u.pendingDropSelector,function(e,t){return t.droppableId},function(e,t){return t.isDropDisabled||!1}],function(o,r,i,s,a,u){if(u)return n(!1,null);if("DRAGGING"===o){if(!r)return console.error("cannot determine dragging over as there is not drag"),n(!1,null);var l=e(a,r.impact.destination),c=t(a,r.initial.source,r.impact.destination,i);return n(l,c)}if("DROP_ANIMATING"===o){if(!s)return console.error("cannot determine dragging over as there is no pending result"),n(!1,null);var d=e(a,s.impact.destination),p=t(a,s.result.source,s.result.destination,i);return n(d,p)}return n(!1,null)})};t.default=(0,r.connect)(function(){var e=c();return function(t,n){return e(t,n)}},null,null,{storeKey:a.storeKey})(l.default)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(44)),i=o(n(22)),s=o(n(23)),a=o(n(24)),u=o(n(25)),l=o(n(26)),c=n(0),d=o(c),p=o(n(5)),f=o(n(317)),h=o(n(147)),g=n(32),m=function(e){function t(){var e,n,o,r;(0,s.default)(this,t);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=o=(0,u.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(l))),o.state={ref:null},o.setRef=function(e){null!==e&&e!==o.state.ref&&o.setState({ref:e})},r=n,(0,u.default)(o,r)}return(0,l.default)(t,e),(0,a.default)(t,[{key:"getChildContext",value:function(){return(0,r.default)({},g.droppableIdKey,this.props.droppableId)}},{key:"getPlaceholder",value:function(){return this.props.placeholder?d.default.createElement(h.default,{placeholder:this.props.placeholder}):null}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.direction,o=e.droppableId,r=e.ignoreContainerClipping,i=e.isDraggingOver,s=e.isDropDisabled,a=e.type,u={innerRef:this.setRef,placeholder:this.getPlaceholder()},l={isDraggingOver:i};return d.default.createElement(f.default,{droppableId:o,direction:n,ignoreContainerClipping:r,isDropDisabled:s,type:a,targetRef:this.state.ref},t(u,l))}}]),t}(c.Component);m.defaultProps={type:"DEFAULT",isDropDisabled:!1,direction:"vertical",ignoreContainerClipping:!1},m.childContextTypes=(0,r.default)({},g.droppableIdKey,p.default.string.isRequired),t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(318);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return function(e){return e&&e.__esModule?e:{default:e}}(o).default}})},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.makeSelector=void 0;var r=n(1),i=n(52),s=o(n(10)),a=n(32),u=o(n(319)),l=n(93),c=function(e){return e.dimension.request},d=function(e,t){return t.type},p=t.makeSelector=function(){var e=(0,s.default)(function(e){return{shouldPublish:e}});return(0,i.createSelector)([d,c],function(t,n){return e(t===n)})},f={publish:l.publishDroppableDimension,updateScroll:l.updateDroppableDimensionScroll,updateIsEnabled:l.updateDroppableDimensionIsEnabled};t.default=(0,r.connect)(function(){var e=p();return function(t,n){return e(t,n)}},f,null,{storeKey:a.storeKey})(u.default)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(22)),i=o(n(23)),s=o(n(24)),a=o(n(25)),u=o(n(26)),l=n(0),c=o(n(39)),d=o(n(146)),p=o(n(10)),f=o(n(92)),h=o(n(91)),g=n(90),m=o(n(320)),v={x:0,y:0},_=function(e){function t(){var e,n,o,s;(0,i.default)(this,t);for(var u=arguments.length,l=Array(u),m=0;m<u;m++)l[m]=arguments[m];return n=o=(0,a.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(l))),o.isWatchingScroll=!1,o.closestScrollable=null,o.getScrollOffset=function(){return o.closestScrollable?{x:o.closestScrollable.scrollLeft,y:o.closestScrollable.scrollTop}:v},o.getDimension=function(){var e=o.props,t=e.droppableId,n=e.direction,r=e.ignoreContainerClipping,i=e.isDropDisabled,s=e.targetRef;if(!s)throw new Error("DimensionPublisher cannot calculate a dimension when not attached to the DOM");var a=o.getScrollOffset(),u=window.getComputedStyle(s),l={top:parseInt(u.marginTop,10),right:parseInt(u.marginRight,10),bottom:parseInt(u.marginBottom,10),left:parseInt(u.marginLeft,10)},c={top:parseInt(u.paddingTop,10),right:parseInt(u.paddingRight,10),bottom:parseInt(u.paddingBottom,10),left:parseInt(u.paddingLeft,10)},d=s.getBoundingClientRect(),p=r||!o.closestScrollable||o.closestScrollable===s?d:(0,h.default)(o.closestScrollable.getBoundingClientRect());return(0,g.getDroppableDimension)({id:t,direction:n,clientRect:d,containerRect:p,margin:l,padding:c,windowScroll:(0,f.default)(),scroll:a,isEnabled:!i})},o.memoizedUpdateScroll=(0,p.default)(function(e,t){var n={x:e,y:t};o.props.updateScroll(o.props.droppableId,n)}),o.scheduleScrollUpdate=(0,d.default)(function(e){o.isWatchingScroll&&o.memoizedUpdateScroll(e.x,e.y)}),o.onClosestScroll=function(){o.scheduleScrollUpdate(o.getScrollOffset())},o.watchScroll=function(){(0,c.default)(o.props.targetRef,"cannot watch scroll if not in the dom"),null!=o.closestScrollable&&(o.isWatchingScroll||(o.isWatchingScroll=!0,o.closestScrollable.addEventListener("scroll",o.onClosestScroll,{passive:!0})))},o.unwatchScroll=function(){o.isWatchingScroll&&(o.isWatchingScroll=!1,o.closestScrollable?o.closestScrollable.removeEventListener("scroll",o.onClosestScroll):console.error("cannot unbind event listener if element is null"))},s=n,(0,a.default)(o,s)}return(0,u.default)(t,e),(0,s.default)(t,[{key:"componentWillUnmount",value:function(){this.isWatchingScroll&&this.unwatchScroll()}},{key:"componentWillReceiveProps",value:function(e){var t=!this.props.shouldPublish&&e.shouldPublish,n=this.props.shouldPublish&&e.shouldPublish;if(!this.props.shouldPublish||e.shouldPublish)return n?(e.targetRef!==this.props.targetRef&&this.isWatchingScroll&&(console.warn("changing targetRef while watching scroll!"),this.unwatchScroll()),void(e.isDropDisabled!==this.props.isDropDisabled&&this.props.updateIsEnabled(this.props.droppableId,!e.isDropDisabled))):void(t&&(this.closestScrollable=(0,m.default)(this.props.targetRef),this.props.publish(this.getDimension()),this.watchScroll()));this.unwatchScroll()}},{key:"render",value:function(){return this.props.children}}]),t}(l.Component);t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(t){return null==t?null:function(e){var t=window.getComputedStyle(e);return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some(function(e){return"auto"===e||"scroll"===e})}(t.overflow,t.overflowY,t.overflowX)}(t)?t:e(t.parentElement)}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(51)),i=o(n(31));t.default=function(e){var t=e.movement,n=e.draggable,o=e.draggables,s=e.destination,a=n.client.withMargin.center;if(null==s)return a;var u=t.draggables,l=t.isBeyondStartPosition,c=s.axis,d=s.id===n.droppableId;if(d&&!u.length)return a;var p=(0,i.default)(s,o),f=d?o[u[0]].client.withMargin:u.length?o[u[0]].client.withMargin:p.length?p[p.length-1].client.withMargin:s.client.withMarginAndPadding,h=d?l?{sourceEdge:"end",destinationEdge:"end"}:{sourceEdge:"start",destinationEdge:"start"}:!u.length&&p.length?{sourceEdge:"start",destinationEdge:"end"}:{sourceEdge:"start",destinationEdge:"start"},g=h.sourceEdge,m=h.destinationEdge,v=n.client.withMargin;return(0,r.default)({source:v,sourceEdge:g,destination:f,destinationEdge:m,destinationAxis:c})}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(22)),i=o(n(23)),s=o(n(24)),a=o(n(25)),u=o(n(26)),l=n(0),c=o(l),d=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props.placeholder,t=e.margin,n=t.top,o=t.left,r=t.bottom,i=t.right,s=e.withoutMargin,a={width:s.width,height:s.height,marginTop:n,marginLeft:o,marginBottom:r,marginRight:i,pointerEvents:"none",boxSizing:"border-box"};return c.default.createElement("div",{style:a})}}]),t}(l.PureComponent);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(324);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return function(e){return e&&e.__esModule?e:{default:e}}(o).default}})},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.makeSelector=void 0;var r=o(n(30)),i=o(n(10)),s=n(1),a=n(52),u=n(145),l=o(n(325)),c=n(32),d=n(7),p=n(93),f={x:0,y:0},h={isDropAnimating:!1,isDragging:!1,canLift:!0,canAnimate:!1,offset:f,dimension:null,direction:null},g=(0,r.default)({},h,{canLift:!1}),m=t.makeSelector=function(){var e=(0,i.default)(function(e,t){return{x:e,y:t}}),t=(0,i.default)(function(e,t){return{isDropAnimating:!1,isDragging:!1,canAnimate:!0,canLift:t,offset:e,dimension:null,direction:null}}),n=(0,i.default)(function(n,o,r){if(-1===o.draggables.indexOf(n))return t(f,r);var i=o.isBeyondStartPosition?(0,d.negate)(o.amount):o.amount;return t(e(i.x,i.y),r)});return(0,a.createSelector)([function(e,t){return t.draggableId},function(e,t){return t.type||"DEFAULT"},u.phaseSelector,u.dragSelector,u.pendingDropSelector,function(e,t){if(!e.dimension)return null;return e.dimension.draggable[t.draggableId]||null}],function(e,t,o,r,i,s){if("DRAGGING"===o){if(!r)return console.error("invalid dragging state"),h;var a=r.current,u=r.impact;if(a.type!==t)return h;if(a.id!==e)return n(e,u.movement,!1);var l=a.client.offset;return{isDragging:!0,canLift:!1,isDropAnimating:!1,canAnimate:a.shouldAnimate,offset:l,dimension:s,direction:u.direction}}if("DROP_ANIMATING"===o){if(!i)return console.error("cannot animate drop without a pending drop"),h;if(t!==i.result.type)return h;if(i.result.draggableId!==e){var c="DROP"===i.trigger;return n(e,i.impact.movement,c)}return{isDragging:!1,isDropAnimating:!0,canAnimate:!0,offset:i.newHomeOffset,canLift:!1,dimension:s,direction:null}}return"PREPARING"===o||"COLLECTING_DIMENSIONS"===o?g:h})},v={lift:p.lift,move:p.move,moveForward:p.moveForward,moveBackward:p.moveBackward,crossAxisMoveForward:p.crossAxisMoveForward,crossAxisMoveBackward:p.crossAxisMoveBackward,moveByWindowScroll:p.moveByWindowScroll,drop:p.drop,dropAnimationFinished:p.dropAnimationFinished,cancel:p.cancel};t.default=(0,s.connect)(function(){var e=m();return function(t,n){return e(t,n)}},v,null,{storeKey:c.storeKey})(l.default)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.zIndexOptions=void 0;var r=o(n(44)),i=o(n(22)),s=o(n(23)),a=o(n(24)),u=o(n(25)),l=o(n(26)),c=n(0),d=o(c),p=o(n(5)),f=o(n(10)),h=o(n(39)),g=o(n(326)),m=o(n(329)),v=o(n(339)),_=n(149),y=o(n(92)),b=o(n(151)),E=o(n(147)),C=n(32),w=t.zIndexOptions={dragging:5e3,dropAnimating:4500},x=function(e){function t(e,n){(0,s.default)(this,t);var o=(0,u.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e,n));o.state={ref:null},o.onMoveEnd=function(){o.props.isDropAnimating&&o.props.dropAnimationFinished()},o.onLift=function(e){o.throwIfCannotDrag();var t=e.client,n=e.isScrollAllowed,r=o.props,i=r.lift,s=r.draggableId,a=r.type,u=o.state.ref;if(!u)throw new Error("cannot lift at this time");i(s,a,{selection:t,center:(0,b.default)(u)},(0,y.default)(),n)},o.onMove=function(e){o.throwIfCannotDrag();var t=o.props,n=t.draggableId,r=t.dimension,i=t.move;r&&i(n,e,(0,y.default)())},o.onMoveForward=function(){o.throwIfCannotDrag(),o.props.moveForward(o.props.draggableId)},o.onMoveBackward=function(){o.throwIfCannotDrag(),o.props.moveBackward(o.props.draggableId)},o.onCrossAxisMoveForward=function(){o.throwIfCannotDrag(),o.props.crossAxisMoveForward(o.props.draggableId)},o.onCrossAxisMoveBackward=function(){o.throwIfCannotDrag(),o.props.crossAxisMoveBackward(o.props.draggableId)},o.onWindowScroll=function(){o.throwIfCannotDrag();var e=(0,y.default)();o.props.moveByWindowScroll(o.props.draggableId,e)},o.onDrop=function(){o.throwIfCannotDrag(),o.props.drop()},o.onCancel=function(){o.props.cancel()},o.setRef=function(e){null!==e&&e!==o.state.ref&&o.setState({ref:e})},o.getDraggableRef=function(){return o.state.ref},o.getDraggingStyle=(0,f.default)(function(e,t,n){var o=e.client.withoutMargin,r=o.width,i=o.height,s=o.top,a=o.left;return{position:"fixed",boxSizing:"border-box",pointerEvents:"none",zIndex:t?w.dropAnimating:w.dragging,width:r,height:i,top:s,left:a,margin:0,transform:n.transform?""+n.transform:null,WebkitTouchCallout:"none",WebkitTapHighlightColor:"rgba(0,0,0,0)",touchAction:"manipulation"}}),o.getNotDraggingStyle=(0,f.default)(function(e,t,n){return{transition:e?_.css.outOfTheWay:null,transform:t.transform,pointerEvents:n?"auto":"none",WebkitTouchCallout:"none",WebkitTapHighlightColor:"rgba(0,0,0,0)",touchAction:"manipulation"}}),o.getProvided=(0,f.default)(function(e,t,n,r,i,s,a){var u=e||t,l=u?((0,h.default)(i,"draggable dimension required for dragging"),o.getDraggingStyle(i,t,a)):o.getNotDraggingStyle(r,a,n);return{innerRef:o.setRef,placeholder:u?o.getPlaceholder():null,dragHandleProps:s,draggableStyle:l}}),o.getSnapshot=(0,f.default)(function(e,t){return{isDragging:e||t}}),o.getSpeed=(0,f.default)(function(e,t,n){return n?t?"STANDARD":e?"FAST":"INSTANT":"INSTANT"});var r={onLift:o.onLift,onMove:o.onMove,onDrop:o.onDrop,onCancel:o.onCancel,onMoveBackward:o.onMoveBackward,onMoveForward:o.onMoveForward,onCrossAxisMoveForward:o.onCrossAxisMoveForward,onCrossAxisMoveBackward:o.onCrossAxisMoveBackward,onWindowScroll:o.onWindowScroll};return o.callbacks=r,o}return(0,l.default)(t,e),(0,a.default)(t,[{key:"throwIfCannotDrag",value:function(){(0,h.default)(this.state.ref,"Draggable: cannot drag as no DOM node has been provided"),(0,h.default)(!this.props.isDragDisabled,"Draggable: cannot drag as dragging is not enabled")}},{key:"getPlaceholder",value:function(){var e=this.props.dimension;return(0,h.default)(e,"cannot get a drag placeholder when not dragging"),d.default.createElement(E.default,{placeholder:e.placeholder})}},{key:"render",value:function(){var e=this,t=this.props,n=t.draggableId,o=t.type,r=t.offset,i=t.isDragging,s=t.isDropAnimating,a=t.canLift,u=t.canAnimate,l=t.isDragDisabled,c=t.dimension,p=t.children,f=t.direction,h=t.disableInteractiveElementBlocking,_=this.getSpeed(i,s,u);return d.default.createElement(g.default,{draggableId:n,droppableId:this.context[C.droppableIdKey],type:o,targetRef:this.state.ref},d.default.createElement(m.default,{speed:_,destination:r,onMoveEnd:this.onMoveEnd},function(t){return d.default.createElement(v.default,{isDragging:i,direction:f,isEnabled:!l,canLift:a,callbacks:e.callbacks,getDraggableRef:e.getDraggableRef,canDragInteractiveElements:h},function(n){return p(e.getProvided(i,s,a,u,c,n,t),e.getSnapshot(i,s))})}))}}]),t}(c.Component);x.defaultProps={isDragDisabled:!1,type:"DEFAULT",disableInteractiveElementBlocking:!1},x.contextTypes=(0,r.default)({},C.droppableIdKey,p.default.string.isRequired),t.default=x},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(327);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return function(e){return e&&e.__esModule?e:{default:e}}(o).default}})},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.makeSelector=void 0;var r=n(1),i=o(n(10)),s=n(52),a=n(32),u=n(93),l=o(n(328)),c=function(e){return e.dimension.request},d=function(e,t){return t.type},p=t.makeSelector=function(){var e=(0,i.default)(function(e){return{shouldPublish:e}});return(0,s.createSelector)([d,c],function(t,n){return e(t===n)})},f={publish:u.publishDraggableDimension};t.default=(0,r.connect)(function(){var e=p();return function(t,n){return e(t,n)}},f,null,{storeKey:a.storeKey})(l.default)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(22)),i=o(n(23)),s=o(n(24)),a=o(n(25)),u=o(n(26)),l=n(0),c=o(n(39)),d=o(n(92)),p=n(90),f=function(e){function t(){var e,n,o,s;(0,i.default)(this,t);for(var u=arguments.length,l=Array(u),f=0;f<u;f++)l[f]=arguments[f];return n=o=(0,a.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(l))),o.getDimension=function(){var e=o.props,t=e.draggableId,n=e.droppableId,r=e.targetRef;(0,c.default)(r,"DraggableDimensionPublisher cannot calculate a dimension when not attached to the DOM");var i=window.getComputedStyle(r),s={top:parseInt(i.marginTop,10),right:parseInt(i.marginRight,10),bottom:parseInt(i.marginBottom,10),left:parseInt(i.marginLeft,10)},a=r.getBoundingClientRect();return(0,p.getDraggableDimension)({id:t,droppableId:n,clientRect:a,margin:s,windowScroll:(0,d.default)()})},s=n,(0,a.default)(o,s)}return(0,u.default)(t,e),(0,s.default)(t,[{key:"componentWillReceiveProps",value:function(e){!this.props.shouldPublish&&e.shouldPublish&&this.props.publish(this.getDimension())}},{key:"render",value:function(){return this.props.children}}]),t}(l.Component);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(330);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return function(e){return e&&e.__esModule?e:{default:e}}(o).default}})},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(22)),i=o(n(23)),s=o(n(24)),a=o(n(25)),u=o(n(26)),l=n(0),c=o(l),d=n(331),p=n(149),f={x:0,y:0},h={transform:null},g=function(e){return e.x===f.x&&e.y===f.y},m=function(e){function t(){var e,n,o,s;(0,i.default)(this,t);for(var u=arguments.length,l=Array(u),c=0;c<u;c++)l[c]=arguments[c];return n=o=(0,a.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(l))),o.onRest=function(){var e=o.props.onMoveEnd;e&&setTimeout(function(){return e()})},o.getFinal=function(){var e=o.props.destination,t=o.props.speed;if("INSTANT"===t)return e;var n="FAST"===t?p.physics.fast:p.physics.standard;return{x:(0,d.spring)(e.x,n),y:(0,d.spring)(e.y,n)}},s=n,(0,a.default)(o,s)}return(0,u.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this,t=this.getFinal(),n=g(t);return c.default.createElement(d.Motion,{defaultStyle:f,style:t,onRest:this.onRest},function(t){return e.props.children(function(e,t,n){if(e)return h;var o={x:t,y:n};return g(o)?h:{transform:"translate("+o.x+"px, "+o.y+"px)"}}(n,t.x,t.y))})}}]),t}(l.Component);m.defaultProps={destination:f},t.default=m},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e.default:e}t.__esModule=!0;var r=n(332);t.Motion=o(r);var i=n(334);t.StaggeredMotion=o(i);var s=n(335);t.TransitionMotion=o(s);var a=n(337);t.spring=o(a);var u=n(148);t.presets=o(u);var l=n(64);t.stripStyle=o(l);var c=n(338);t.reorderKeys=o(c)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=o(n(94)),a=o(n(64)),u=o(n(95)),l=o(n(96)),c=o(n(97)),d=o(n(98)),p=o(n(0)),f=o(n(5)),h=1e3/60,g=function(e){function t(n){var o=this;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.call(this,n),this.wasAnimating=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyle=null,this.clearUnreadPropStyle=function(e){var t=!1,n=o.state,i=n.currentStyle,s=n.currentVelocity,a=n.lastIdealStyle,u=n.lastIdealVelocity;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var c=e[l];"number"==typeof c&&(t||(t=!0,i=r({},i),s=r({},s),a=r({},a),u=r({},u)),i[l]=c,s[l]=0,a[l]=c,u[l]=0)}t&&o.setState({currentStyle:i,currentVelocity:s,lastIdealStyle:a,lastIdealVelocity:u})},this.startAnimationIfNecessary=function(){o.animationID=c.default(function(e){var t=o.props.style;if(d.default(o.state.currentStyle,t,o.state.currentVelocity))return o.wasAnimating&&o.props.onRest&&o.props.onRest(),o.animationID=null,o.wasAnimating=!1,void(o.accumulatedTime=0);o.wasAnimating=!0;var n=e||l.default(),r=n-o.prevTime;if(o.prevTime=n,o.accumulatedTime=o.accumulatedTime+r,o.accumulatedTime>10*h&&(o.accumulatedTime=0),0===o.accumulatedTime)return o.animationID=null,void o.startAnimationIfNecessary();var i=(o.accumulatedTime-Math.floor(o.accumulatedTime/h)*h)/h,s=Math.floor(o.accumulatedTime/h),a={},c={},p={},f={};for(var g in t)if(Object.prototype.hasOwnProperty.call(t,g)){var m=t[g];if("number"==typeof m)p[g]=m,f[g]=0,a[g]=m,c[g]=0;else{for(var v=o.state.lastIdealStyle[g],_=o.state.lastIdealVelocity[g],y=0;y<s;y++){var b=u.default(h/1e3,v,_,m.val,m.stiffness,m.damping,m.precision);v=b[0],_=b[1]}var E=u.default(h/1e3,v,_,m.val,m.stiffness,m.damping,m.precision),C=E[0],w=E[1];p[g]=v+(C-v)*i,f[g]=_+(w-_)*i,a[g]=v,c[g]=_}}o.animationID=null,o.accumulatedTime-=s*h,o.setState({currentStyle:p,currentVelocity:f,lastIdealStyle:a,lastIdealVelocity:c}),o.unreadPropStyle=null,o.startAnimationIfNecessary()})},this.state=this.defaultState()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"propTypes",value:{defaultStyle:f.default.objectOf(f.default.number),style:f.default.objectOf(f.default.oneOfType([f.default.number,f.default.object])).isRequired,children:f.default.func.isRequired,onRest:f.default.func},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyle,n=e.style,o=t||a.default(n),r=s.default(o);return{currentStyle:o,currentVelocity:r,lastIdealStyle:o,lastIdealVelocity:r}},t.prototype.componentDidMount=function(){this.prevTime=l.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=e.style,null==this.animationID&&(this.prevTime=l.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(c.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyle);return e&&p.default.Children.only(e)},t}(p.default.Component);t.default=g,e.exports=t.default},function(e,t,n){(function(t){(function(){var n,o,r,i,s,a;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:void 0!==t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-s)/1e6},o=t.hrtime,i=(n=function(){var e;return 1e9*(e=o())[0]+e[1]})(),a=1e9*t.uptime(),s=i-a):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(t,n(70))},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=o(n(94)),a=o(n(64)),u=o(n(95)),l=o(n(96)),c=o(n(97)),d=o(n(98)),p=o(n(0)),f=o(n(5)),h=1e3/60,g=function(e){function t(n){var o=this;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.call(this,n),this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=o.state,n=t.currentStyles,i=t.currentVelocities,s=t.lastIdealStyles,a=t.lastIdealVelocities,u=!1,l=0;l<e.length;l++){var c=e[l],d=!1;for(var p in c)if(Object.prototype.hasOwnProperty.call(c,p)){var f=c[p];"number"==typeof f&&(d||(d=!0,u=!0,n[l]=r({},n[l]),i[l]=r({},i[l]),s[l]=r({},s[l]),a[l]=r({},a[l])),n[l][p]=f,i[l][p]=0,s[l][p]=f,a[l][p]=0)}}u&&o.setState({currentStyles:n,currentVelocities:i,lastIdealStyles:s,lastIdealVelocities:a})},this.startAnimationIfNecessary=function(){o.animationID=c.default(function(e){var t=o.props.styles(o.state.lastIdealStyles);if(function(e,t,n){for(var o=0;o<e.length;o++)if(!d.default(e[o],t[o],n[o]))return!1;return!0}(o.state.currentStyles,t,o.state.currentVelocities))return o.animationID=null,void(o.accumulatedTime=0);var n=e||l.default(),r=n-o.prevTime;if(o.prevTime=n,o.accumulatedTime=o.accumulatedTime+r,o.accumulatedTime>10*h&&(o.accumulatedTime=0),0===o.accumulatedTime)return o.animationID=null,void o.startAnimationIfNecessary();for(var i=(o.accumulatedTime-Math.floor(o.accumulatedTime/h)*h)/h,s=Math.floor(o.accumulatedTime/h),a=[],c=[],p=[],f=[],g=0;g<t.length;g++){var m=t[g],v={},_={},y={},b={};for(var E in m)if(Object.prototype.hasOwnProperty.call(m,E)){var C=m[E];if("number"==typeof C)v[E]=C,_[E]=0,y[E]=C,b[E]=0;else{for(var w=o.state.lastIdealStyles[g][E],x=o.state.lastIdealVelocities[g][E],O=0;O<s;O++){var S=u.default(h/1e3,w,x,C.val,C.stiffness,C.damping,C.precision);w=S[0],x=S[1]}var A=u.default(h/1e3,w,x,C.val,C.stiffness,C.damping,C.precision),T=A[0],P=A[1];v[E]=w+(T-w)*i,_[E]=x+(P-x)*i,y[E]=w,b[E]=x}}p[g]=v,f[g]=_,a[g]=y,c[g]=b}o.animationID=null,o.accumulatedTime-=s*h,o.setState({currentStyles:p,currentVelocities:f,lastIdealStyles:a,lastIdealVelocities:c}),o.unreadPropStyles=null,o.startAnimationIfNecessary()})},this.state=this.defaultState()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"propTypes",value:{defaultStyles:f.default.arrayOf(f.default.objectOf(f.default.number)),styles:f.default.func.isRequired,children:f.default.func.isRequired},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,n=e.styles,o=t||n().map(a.default),r=o.map(function(e){return s.default(e)});return{currentStyles:o,currentVelocities:r,lastIdealStyles:o,lastIdealVelocities:r}},t.prototype.componentDidMount=function(){this.prevTime=l.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=e.styles(this.state.lastIdealStyles),null==this.animationID&&(this.prevTime=l.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(c.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyles);return e&&p.default.Children.only(e)},t}(p.default.Component);t.default=g,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){var o=t;return null==o?e.map(function(e,t){return{key:e.key,data:e.data,style:n[t]}}):e.map(function(e,t){for(var r=0;r<o.length;r++)if(o[r].key===e.key)return{key:o[r].key,data:o[r].data,style:n[t]};return{key:e.key,data:e.data,style:n[t]}})}function i(e,t,n,o,r,i,s,a,l){for(var c=d.default(o,r,function(e,o){var r=t(o);return null==r?(n({key:o.key,data:o.data}),null):h.default(i[e],r,s[e])?(n({key:o.key,data:o.data}),null):{key:o.key,data:o.data,style:r}}),p=[],f=[],g=[],m=[],v=0;v<c.length;v++){for(var _=c[v],y=null,b=0;b<o.length;b++)if(o[b].key===_.key){y=b;break}if(null==y){var E=e(_);p[v]=E,g[v]=E;var C=u.default(_.style);f[v]=C,m[v]=C}else p[v]=i[y],g[v]=a[y],f[v]=s[y],m[v]=l[y]}return[c,p,f,g,m]}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=o(n(94)),l=o(n(64)),c=o(n(95)),d=o(n(336)),p=o(n(96)),f=o(n(97)),h=o(n(98)),g=o(n(0)),m=o(n(5)),v=1e3/60,_=function(e){function t(n){var o=this;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.call(this,n),this.unmounting=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=i(o.props.willEnter,o.props.willLeave,o.props.didLeave,o.state.mergedPropsStyles,e,o.state.currentStyles,o.state.currentVelocities,o.state.lastIdealStyles,o.state.lastIdealVelocities),n=t[0],r=t[1],a=t[2],u=t[3],l=t[4],c=0;c<e.length;c++){var d=e[c].style,p=!1;for(var f in d)if(Object.prototype.hasOwnProperty.call(d,f)){var h=d[f];"number"==typeof h&&(p||(p=!0,r[c]=s({},r[c]),a[c]=s({},a[c]),u[c]=s({},u[c]),l[c]=s({},l[c]),n[c]={key:n[c].key,data:n[c].data,style:s({},n[c].style)}),r[c][f]=h,a[c][f]=0,u[c][f]=h,l[c][f]=0,n[c].style[f]=h)}}o.setState({currentStyles:r,currentVelocities:a,mergedPropsStyles:n,lastIdealStyles:u,lastIdealVelocities:l})},this.startAnimationIfNecessary=function(){o.unmounting||(o.animationID=f.default(function(e){if(!o.unmounting){var t=o.props.styles,n="function"==typeof t?t(r(o.state.mergedPropsStyles,o.unreadPropStyles,o.state.lastIdealStyles)):t;if(function(e,t,n,o){if(o.length!==t.length)return!1;for(var r=0;r<o.length;r++)if(o[r].key!==t[r].key)return!1;for(r=0;r<o.length;r++)if(!h.default(e[r],t[r].style,n[r]))return!1;return!0}(o.state.currentStyles,n,o.state.currentVelocities,o.state.mergedPropsStyles))return o.animationID=null,void(o.accumulatedTime=0);var s=e||p.default(),a=s-o.prevTime;if(o.prevTime=s,o.accumulatedTime=o.accumulatedTime+a,o.accumulatedTime>10*v&&(o.accumulatedTime=0),0===o.accumulatedTime)return o.animationID=null,void o.startAnimationIfNecessary();for(var u=(o.accumulatedTime-Math.floor(o.accumulatedTime/v)*v)/v,l=Math.floor(o.accumulatedTime/v),d=i(o.props.willEnter,o.props.willLeave,o.props.didLeave,o.state.mergedPropsStyles,n,o.state.currentStyles,o.state.currentVelocities,o.state.lastIdealStyles,o.state.lastIdealVelocities),f=d[0],g=d[1],m=d[2],_=d[3],y=d[4],b=0;b<f.length;b++){var E=f[b].style,C={},w={},x={},O={};for(var S in E)if(Object.prototype.hasOwnProperty.call(E,S)){var A=E[S];if("number"==typeof A)C[S]=A,w[S]=0,x[S]=A,O[S]=0;else{for(var T=_[b][S],P=y[b][S],D=0;D<l;D++){var k=c.default(v/1e3,T,P,A.val,A.stiffness,A.damping,A.precision);T=k[0],P=k[1]}var N=c.default(v/1e3,T,P,A.val,A.stiffness,A.damping,A.precision),R=N[0],j=N[1];C[S]=T+(R-T)*u,w[S]=P+(j-P)*u,x[S]=T,O[S]=P}}_[b]=x,y[b]=O,g[b]=C,m[b]=w}o.animationID=null,o.accumulatedTime-=l*v,o.setState({currentStyles:g,currentVelocities:m,lastIdealStyles:_,lastIdealVelocities:y,mergedPropsStyles:f}),o.unreadPropStyles=null,o.startAnimationIfNecessary()}}))},this.state=this.defaultState()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,null,[{key:"propTypes",value:{defaultStyles:m.default.arrayOf(m.default.shape({key:m.default.string.isRequired,data:m.default.any,style:m.default.objectOf(m.default.number).isRequired})),styles:m.default.oneOfType([m.default.func,m.default.arrayOf(m.default.shape({key:m.default.string.isRequired,data:m.default.any,style:m.default.objectOf(m.default.oneOfType([m.default.number,m.default.object])).isRequired}))]).isRequired,children:m.default.func.isRequired,willEnter:m.default.func,willLeave:m.default.func,didLeave:m.default.func},enumerable:!0},{key:"defaultProps",value:{willEnter:function(e){return l.default(e.style)},willLeave:function(){return null},didLeave:function(){}},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,n=e.styles,o=e.willEnter,r=e.willLeave,s=e.didLeave,a="function"==typeof n?n(t):n,c=void 0;c=null==t?a:t.map(function(e){for(var t=0;t<a.length;t++)if(a[t].key===e.key)return a[t];return e});var d=null==t?a.map(function(e){return l.default(e.style)}):t.map(function(e){return l.default(e.style)}),p=null==t?a.map(function(e){return u.default(e.style)}):t.map(function(e){return u.default(e.style)}),f=i(o,r,s,c,a,d,p,d,p),h=f[0];return{currentStyles:f[1],currentVelocities:f[2],lastIdealStyles:f[3],lastIdealVelocities:f[4],mergedPropsStyles:h}},t.prototype.componentDidMount=function(){this.prevTime=p.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);var t=e.styles;this.unreadPropStyles="function"==typeof t?t(r(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):t,null==this.animationID&&(this.prevTime=p.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){this.unmounting=!0,null!=this.animationID&&(f.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=r(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),t=this.props.children(e);return t&&g.default.Children.only(t)},t}(g.default.Component);t.default=_,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){for(var o={},r=0;r<e.length;r++)o[e[r].key]=r;var i={};for(r=0;r<t.length;r++)i[t[r].key]=r;var s=[];for(r=0;r<t.length;r++)s[r]=t[r];for(r=0;r<e.length;r++)if(!Object.prototype.hasOwnProperty.call(i,e[r].key)){var a=n(r,e[r]);null!=a&&s.push(a)}return s.sort(function(e,n){var r=i[e.key],s=i[n.key],a=o[e.key],u=o[n.key];if(null!=r&&null!=s)return i[e.key]-i[n.key];if(null!=a&&null!=u)return o[e.key]-o[n.key];if(null!=r){for(var l=0;l<t.length;l++){var c=t[l].key;if(Object.prototype.hasOwnProperty.call(o,c)){if(r<i[c]&&u>o[c])return-1;if(r>i[c]&&u<o[c])return 1}}return 1}for(l=0;l<t.length;l++)if(c=t[l].key,Object.prototype.hasOwnProperty.call(o,c)){if(s<i[c]&&a>o[c])return 1;if(s>i[c]&&a<o[c])return-1}return-1})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.default=function(e,t){return o({},i,t,{val:e})};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(148)),i=o({},r.default.noWobble,{precision:.01});e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(340);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return function(e){return e&&e.__esModule?e:{default:e}}(o).default}})},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(22)),i=o(n(23)),s=o(n(24)),a=o(n(25)),u=o(n(26)),l=n(0),c=o(n(10)),d=o(n(341)),p=o(n(343)),f=o(n(344)),h=function(){return!1},g=function(e){function t(){var e,n,o,s;(0,i.default)(this,t);for(var u=arguments.length,l=Array(u),g=0;g<u;g++)l[g]=arguments[g];return n=o=(0,a.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(l))),o.mouseSensor=(0,d.default)(o.props.callbacks,o.props.getDraggableRef),o.keyboardSensor=(0,p.default)(o.props.callbacks,o.props.getDraggableRef),o.touchSensor=(0,f.default)(o.props.callbacks,o.props.getDraggableRef),o.sensors=[o.mouseSensor,o.keyboardSensor,o.touchSensor],o.onKeyDown=function(e){o.mouseSensor.isCapturing()||o.keyboardSensor.onKeyDown(e,o.props)},o.onMouseDown=function(e){o.keyboardSensor.isCapturing()||o.mouseSensor.isCapturing()||o.mouseSensor.onMouseDown(e,o.props)},o.onTouchStart=function(e){o.mouseSensor.isCapturing()||o.keyboardSensor.isCapturing()?console.error("mouse or keyboard already listening when attempting to touch drag"):o.touchSensor.onTouchStart(e,o.props)},o.onTouchMove=function(e){o.touchSensor.onTouchMove(e)},o.onClick=function(e){o.mouseSensor.onClick(e),o.touchSensor.onClick(e)},o.isAnySensorDragging=function(){return o.sensors.some(function(e){return e.isDragging()})},o.isAnySensorCapturing=function(){return o.sensors.some(function(e){return e.isCapturing()})},o.getProvided=(0,c.default)(function(e,t){return e?{onMouseDown:o.onMouseDown,onKeyDown:o.onKeyDown,onTouchStart:o.onTouchStart,onTouchMove:o.onTouchMove,onClick:o.onClick,tabIndex:0,"aria-grabbed":t,draggable:!1,onDragStart:h,onDrop:h}:null}),s=n,(0,a.default)(o,s)}return(0,u.default)(t,e),(0,s.default)(t,[{key:"componentWillUnmount",value:function(){var e=this;this.sensors.forEach(function(t){var n=t.isCapturing(),o=t.isDragging();n&&t.kill(),o&&e.props.callbacks.onCancel()})}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.isAnySensorCapturing()&&(this.props.isDragging&&!e.isDragging?this.sensors.forEach(function(e){e.isCapturing()&&e.kill()}):e.isEnabled||this.sensors.forEach(function(e){if(e.isCapturing()){var n=e.isDragging();e.kill(),n&&t.props.callbacks.onCancel()}}))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.isEnabled;return t(this.getProvided(n,this.isAnySensorDragging()))}}]),t}(l.Component);t.default=g},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(29)),i=o(n(30)),s=o(n(65)),a=o(n(99)),u=o(n(342)),l=o(n(100)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(101)),d=o(n(150)),p=o(n(102)),f=function(){};t.default=function(e,t){var n={isDragging:!1,pending:null,preventClick:!1},o=function(e){var t=(0,i.default)({},n,e);n=t},h=function(){return n.isDragging},g=function(){return Boolean(n.pending||n.isDragging)},m=(0,a.default)(e,h),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;w(),o({isDragging:!1,pending:null}),e()},_=function(){o({preventClick:!1}),v()},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;n.pending?_():v(e)},b=function(){y(e.onCancel)},E={mousemove:function(t){var r=t.button,i=t.clientX,s=t.clientY;if(0===r){var a={x:i,y:s};n.isDragging?m.move(a):n.pending?(0,u.default)(n.pending,a)&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;o({pending:null,isDragging:!0,preventClick:!0}),e()}(function(){return e.onLift({client:a,isScrollAllowed:!0})}):console.error("invalid state")}},mouseup:function(){n.pending?_():v(e.onDrop)},mousedown:function(){v(e.onCancel)},keydown:function(e){if(e.keyCode===c.escape)return(0,s.default)(e),void b();(0,d.default)(e)},resize:b,scroll:function(){n.pending?_():m.windowScrollMove()},webkitmouseforcechanged:function(e){if(null!=e.webkitForce&&null!=MouseEvent.WEBKIT_FORCE_AT_FORCE_MOUSE_DOWN){var t=MouseEvent.WEBKIT_FORCE_AT_FORCE_MOUSE_DOWN;e.webkitForce>=t&&b()}else console.error("handling a mouse force changed event when it is not supported")}},C=(0,r.default)(E),w=function(){var e=(0,l.default)(t());C.forEach(function(t){return e.removeEventListener(t,E[t])})};return{onMouseDown:function(e,n){if(n.canLift){if(g())return console.error("should not be able to perform a mouse down while a drag or pending drag is occurring"),void b();if((0,p.default)(e,n)){var r=e.button,i=e.clientX,a=e.clientY;0===r&&((0,s.default)(e),o({pending:{x:i,y:a},isDragging:!1}),function(){var e=(0,l.default)(t());C.forEach(function(t){"scroll"!==t?e.addEventListener(t,E[t]):e.addEventListener(t,E.scroll,{passive:!0})})}())}}},onClick:function(e){n.preventClick&&(o({preventClick:!1}),(0,s.default)(e))},kill:y,isCapturing:g,isDragging:h}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=t.sloppyClickThreshold=5;t.default=function(e,t){return Math.abs(t.x-e.x)>=o||Math.abs(t.y-e.y)>=o}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(29)),i=o(n(65)),s=o(n(99)),a=o(n(150)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(101)),l=o(n(100)),c=o(n(151)),d=o(n(102)),p=function(){};t.default=function(e,t){var n={isDragging:!1},o=function(e){n=e},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;y(),o({isDragging:!1}),e()},h=function(){f(e.onCancel)},g=function(){return n.isDragging},m=(0,s.default)(e,g),v={mousedown:h,resize:h,scroll:h},_=(0,r.default)(v),y=function(){var e=(0,l.default)(t());_.forEach(function(t){e.removeEventListener(t,v[t])})};return{onKeyDown:function(n,r){var s=r.canLift,y=r.direction;if(g()){if(!y)return console.error("cannot handle keyboard event if direction is not provided"),(0,i.default)(n),void h();if(n.keyCode===u.escape)return(0,i.default)(n),void h();if(n.keyCode===u.space)return(0,i.default)(n),void f(e.onDrop);var b=function(e){"vertical"!==y?e.horizontal():e.vertical()};if(n.keyCode===u.arrowDown)return(0,i.default)(n),void b({vertical:m.moveForward,horizontal:m.crossAxisMoveForward});if(n.keyCode===u.arrowUp)return(0,i.default)(n),void b({vertical:m.moveBackward,horizontal:m.crossAxisMoveBackward});if(n.keyCode===u.arrowRight)return(0,i.default)(n),void b({vertical:m.crossAxisMoveForward,horizontal:m.moveForward});n.keyCode===u.arrowLeft&&((0,i.default)(n),b({vertical:m.crossAxisMoveBackward,horizontal:m.moveBackward})),(0,a.default)(n)}else{if(!s)return;if(n.keyCode!==u.space)return;if(!(0,d.default)(n,r))return;(0,i.default)(n);var E=t();if(!E)return void console.error("cannot start a keyboard drag without a draggable ref");var C=(0,c.default)(E);!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;o({isDragging:!0}),function(){var e=(0,l.default)(t());_.forEach(function(t){e.addEventListener(t,v[t])})}(),e()}(function(){return e.onLift({client:C,isScrollAllowed:!1})})}},kill:function(){return f()},isDragging:g,isCapturing:g}}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.forcePressThreshold=t.timeForLongPress=void 0;var r=o(n(29)),i=o(n(30)),s=o(n(65)),a=o(n(99)),u=o(n(100)),l=o(n(102)),c=t.timeForLongPress=150,d=t.forcePressThreshold=.15,p=function(){},f={isDragging:!1,pending:null,hasMoved:!1,preventClick:!1,longPressTimerId:null};t.default=function(e,t){var n=f,o=function(e){n=(0,i.default)({},n,e)},h=function(){return n.isDragging},g=function(){return Boolean(n.pending||n.isDragging||n.longPressTimerId)},m=(0,a.default)(e,h),v=function(){var t=n.pending;if(!t)return console.error("cannot start a touch drag without a pending position"),void b();o({isDragging:!0,hasMoved:!1,pending:null,longPressTimerId:null}),e.onLift({client:t,isScrollAllowed:!1})},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;x(),o((0,i.default)({},f,{preventClick:!0})),e()},y=function(){clearTimeout(n.longPressTimerId),x(),o(f)},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;n.pending?y():_(e)},E=function(){b(e.onCancel)},C={touchmove:function(e){if(n.pending)y();else{n.hasMoved||o({hasMoved:!0}),(0,s.default)(e);var t=e.touches[0],r={x:t.clientX,y:t.clientY};m.move(r)}},touchend:function(t){n.pending?y():(_(e.onDrop),(0,s.default)(t))},touchcancel:E,touchstart:function(){h()&&(console.error("touch start fired while already dragging"),E())},orientationchange:E,resize:E,scroll:E,contextmenu:s.default,keydown:E,touchforcechange:function(e){n.hasMoved||e.touches[0].force>=d&&E()}},w=(0,r.default)(C),x=function(){var e=(0,u.default)(t());w.forEach(function(t){return e.removeEventListener(t,C[t])})};return{onTouchStart:function(e,n){if(n.canLift)return g()?(console.error("should not be able to perform a touch start while a drag or pending drag is occurring"),void E()):void((0,l.default)(e,n)&&(e.stopPropagation(),function(n){var r=e.touches[0],i={x:r.clientX,y:r.clientY},s=setTimeout(v,c);o({longPressTimerId:s,pending:i,isDragging:!1,hasMoved:!1}),function(){var e=(0,u.default)(t());w.forEach(function(t){var n=C[t];"touchmove"!==t?e.addEventListener(t,n):e.addEventListener(t,n,{passive:!1})})}()}()))},onTouchMove:function(){n.pending&&y()},onClick:function(e){n.preventClick&&((0,s.default)(e),o(f))},kill:b,isCapturing:g,isDragging:h}}},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(4),a=n(33),u=n(17),l=n(2),c=n(130),d=n(346),p=n(15),f=n(16),h=n(60);t.prefix=function(e){var t="";return e.indexOf("_lt")>-1?t=e.indexOf("date")>-1?"Before ":e.indexOf("lte")>-1?"<= ":"< ":e.indexOf("_gt")>-1&&(t=e.indexOf("date")>-1?"After ":e.indexOf("gte")>-1?">= ":">"),t},t.getMinMax=function(e){void 0===e&&(e=[]);var n="",o="";return e.length&&(t.strContainsNum(e[0])&&(n=e[0]),e[1]&&t.strContainsNum(e[1])&&(o=e[1])),{min:n,max:o}},t.isFloat=function(e){return/^[+-]?\d?(\.\d*)?$/.test(e.trim())},t.isInt=function(e){return/^[\+\-]?\d+$/.test(e.trim())},t.strContainsNum=function(e){var n=e.trim();return!!t.isFloat(n)||!!t.isInt(n)},t.parseNum=function(e){var n=e.trim();return t.isFloat(n)?parseFloat(e):t.isInt(n)?parseInt(n,10):void 0},t.composeExitName=function(e,n,o){if(e===h.Operators.has_number_between){if(o&&!/-/.test(o))return o;var i=t.getMinMax(n),s=i.min,a=i.max;return(s||n[0]||"")+" - "+(a||n[1]||"")}var u=t.prefix(e);if(n.length){var c=r(n,1)[0],d=c.match(/\w+/g);if(d&&d.length>0){var p=r(d,1)[0];return u+l.titleCase(p)}return u+l.titleCase(c)}return u},t.getExitName=function(e,n,o){void 0===o&&(o=[]);var r=e;return o.length>=0&&!n.categoryName?r=t.composeExitName(n.type,o,r):!r&&n.categoryName&&(r=n.categoryName),r};var g=function(e){function n(t){var n=e.call(this,t)||this,o=u.getOperatorConfig(n.props.kase.type);return n.state={errors:[],operatorConfig:o,arguments:n.props.kase.arguments||[],exitName:n.props.exitName||"",exitNameEdited:!1},s.react(n,{include:[/Ref$/,/^on/,"validate"]}),n}return o(n,e),n.prototype.categoryRef=function(e){return this.category=e},n.prototype.shouldComponentUpdate=function(e,t){return!l.jsonEqual(e,this.props)||!l.jsonEqual(t,this.state)},n.prototype.onChangeOperator=function(e){var n=this;if(!l.jsonEqual(e,this.state.operatorConfig)){var o={operatorConfig:e,exitName:this.state.exitNameEdited?this.state.exitName:t.getExitName(this.state.exitName,e,this.state.arguments)};e.type===h.Operators.has_number_between&&(o.arguments=["",""]),this.setState(o,function(){return n.category.wrappedInstance.setState({value:o.exitName},function(){return n.props.onChange(n)})})}},n.prototype.onChangeArgument=function(e,n){var o,r=this,i=e.target.value,s={};n?(n===c.InputToFocus.min?(o=c.InputToFocus.min,s.arguments=this.state.arguments.length?[i,this.state.arguments[1]||""]:[i]):n===c.InputToFocus.max&&(o=c.InputToFocus.max,s.arguments=this.state.arguments.length?[this.state.arguments[0],i]:[i]),s.exitName=this.state.exitNameEdited?this.state.exitName:t.getExitName(this.state.exitName,this.state.operatorConfig,s.arguments),this.setState(s,function(){return r.handleChange(o)})):(o=c.InputToFocus.args,s.arguments=[i],s.exitName=this.state.exitNameEdited?this.state.exitName:t.getExitName(this.state.exitName,this.state.operatorConfig,s.arguments),this.setState(s,function(){r.category.wrappedInstance.setState({value:s.exitName},function(){return r.handleChange(o)})}))},n.prototype.onChangeExitName=function(e){var t=this,n=e.target.value;this.setState({exitName:n,exitNameEdited:!0},function(){return t.handleChange(c.InputToFocus.exit)})},n.prototype.onRemove=function(){this.props.onRemove(this)},n.prototype.onChangeMin=function(e){this.onChangeArgument(e,c.InputToFocus.min)},n.prototype.onChangeMax=function(e){this.onChangeArgument(e,c.InputToFocus.max)},n.prototype.handleChange=function(e){this.state.arguments.length&&(this.state.arguments[0]||this.state.arguments[1])||this.state.exitName?this.props.onChange(this,e):this.onRemove()},n.prototype.validate=function(){var e=[],n='A category name is required when using "'+this.state.operatorConfig.verboseName+'."';if(/between$/.test(this.state.operatorConfig.type))if(this.state.arguments.length&&2===this.state.arguments.length&&this.state.arguments[0].trim()&&this.state.arguments[1].trim()){if(t.strContainsNum(this.state.arguments[0])||e.push("Minimum value must be a number."),t.strContainsNum(this.state.arguments[1])||e.push("Maximum value must be a number."),t.strContainsNum(this.state.arguments[0])&&t.strContainsNum(this.state.arguments[1])){var o=t.parseNum(this.state.arguments[0]),r=t.parseNum(this.state.arguments[1]);o>r?e.push("Minimum value cannot be more than maximum value."):o===r&&e.push("Minimum value cannot equal maximum value.")}}else e.push('When using "'+this.state.operatorConfig.verboseName+'\n                    ", both arguments are required.');else/number/.test(this.state.operatorConfig.type)?t.strContainsNum(this.state.arguments[0])||0===this.state.operatorConfig.operands||e.push("Argument must contain a number."):(this.state.arguments.length&&this.state.arguments[0].length||this.props.empty||e.push('When using "'+this.state.operatorConfig.verboseName+'\n                    ", an argument is required.'),this.state.arguments.length&&0!==this.state.arguments[0].trim().indexOf("@")&&(this.state.operatorConfig.type.indexOf("number")>-1&&this.state.arguments[0]&&t.strContainsNum(this.state.arguments[0])&&e.push("Enter a number when using numeric rules."),this.state.operatorConfig.type.indexOf("date")>-1&&this.state.arguments[0]&&isNaN(Date.parse(this.state.arguments[0]))&&e.push("Enter a date when using date rules (e.g. 1/1/2017).")));return this.state.operatorConfig.operands<1?0===this.state.exitName.trim().length&&e.push(n):this.state.arguments.length&&(this.category&&this.category.wrappedInstance.state.value||e.push(n)),0===this.state.errors.length&&0===e.length||(this.setState({errors:e}),0===e.length)},n.prototype.getArgs=function(){if(this.state.operatorConfig.operands>0){if(this.state.operatorConfig.operands>1){var e=t.getMinMax(this.props.kase.arguments),n=e.min,o=e.max;return i.createElement(i.Fragment,null,i.createElement(f.default,{name:"arguments",onChange:this.onChangeMin,value:n,focus:this.props.focusMin,showInvalid:l.hasErrorType(this.state.errors,[/Minimum value must/,/argument/,/rules/,/equal/,/more/])}),i.createElement("span",{className:d.divider},"and"),i.createElement(f.default,{name:"arguments",onChange:this.onChangeMax,value:o,focus:this.props.focusMax,showInvalid:l.hasErrorType(this.state.errors,[/Maximum value must/,/argument/,/rules/])}))}return i.createElement(f.default,{"data-spec":"args-input",name:"arguments",onChange:this.onChangeArgument,value:this.state.arguments.length?this.state.arguments[0]:"",focus:this.props.focusArgs,autocomplete:!0,showInvalid:l.hasErrorType(this.state.errors,[/argument/,/rules/,/number/])})}return null},n.prototype.getDndIco=function(){return this.props.empty||this.props.solo?i.createElement("div",{className:d.empty}):i.createElement("div",{className:d.dndIcon},i.createElement("span",null,""))},n.prototype.getRemoveIco=function(){return this.props.empty?null:i.createElement("span",{className:"icn-remove "+d.removeIcon,onClick:this.onRemove})},n.prototype.render=function(){return i.createElement(p.default,{"data-spec":"case-form",name:this.props.name,errors:this.state.errors,__className:d.group,kaseError:this.state.errors.length>0},i.createElement("div",{className:d.kase+" select-medium"},this.getDndIco(),i.createElement("div",{className:d.choice},i.createElement(a.default,{"data-spec":"operator-list",name:"operator",clearable:!1,options:u.operatorConfigList,value:this.state.operatorConfig.type,valueKey:"type",labelKey:"verboseName",optionClassName:"operator",searchable:!1,onChange:this.onChangeOperator})),i.createElement("div",{className:this.state.operatorConfig.type===h.Operators.has_number_between?d.multiOperand:d.singleOperand},this.getArgs()),i.createElement("div",{className:d.categorizeAs},"categorize as"),i.createElement("div",{className:d.category},i.createElement(f.default,{ref:this.categoryRef,"data-spec":"exit-input",name:"exitName",onChange:this.onChangeExitName,value:this.state.exitName,focus:this.props.focusExit,showInvalid:l.hasErrorType(this.state.errors,[/category/])})),this.getRemoveIco()))},n}(i.Component);t.default=g,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__extends","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/form/CaseElement.tsx"),__REACT_HOT_LOADER__.register(r,"__read","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/form/CaseElement.tsx"),__REACT_HOT_LOADER__.register(g,"CaseElement","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/form/CaseElement.tsx"))},function(e,t){e.exports={grid_size:"20",gridSize:"20",node_spacing:"20",nodeSpacing:"20",node_padding:"10",nodePadding:"10","background-size":"20",backgroundSize:"20",group:"CaseElement__group___3hLy_",divider:"CaseElement__divider___3BGsS",kase:"CaseElement__kase___5adzN","form-group":"CaseElement__form-group___1kLDi",formGroup:"CaseElement__form-group___1kLDi",choice:"CaseElement__choice___2vMd5","single-operand":"CaseElement__single-operand___3qh-z",singleOperand:"CaseElement__single-operand___3qh-z","multi-operand":"CaseElement__multi-operand___8MxV4",multiOperand:"CaseElement__multi-operand___8MxV4","categorize-as":"CaseElement__categorize-as___3Gh4V",categorizeAs:"CaseElement__categorize-as___3Gh4V",category:"CaseElement__category___2nA5Q","remove-icon":"CaseElement__remove-icon___E-Yxu",removeIcon:"CaseElement__remove-icon___E-Yxu","dnd-icon":"CaseElement__dnd-icon___3xZZC",dndIcon:"CaseElement__dnd-icon___3xZZC",empty:"CaseElement__empty___1Rjv4"}},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},s=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(4),l=n(58),c=n(0),d=n(152),p=n(1),f=n(11),h=n(14),g=n(2),m=n(354),v=n(355),_=n(16),y=n(356),b=n(153);t.initialState={headers:[{name:"",value:"",uuid:f.v4()}],method:h.Methods.GET},t.mapHeaders=function(e){return Object.keys(e).map(function(t){return{name:t,value:e[t],uuid:f.v4()}})},t.getInitialState=function(e){var n=t.initialState;if("call_webhook"===e.type&&(n=r({},n,{method:e.method}),e.headers&&Object.keys(e.headers).length)){var o=t.mapHeaders(e.headers);n=r({},n,{headers:s(o,n.headers)})}return n};var E="Use this step to trigger actions in external services or fetch data to use in this Flow. Enter a URL to call below.",C=function(e){function n(n){var o=e.call(this,n)||this;return o.methodOptions=[{value:h.Methods.GET,label:h.Methods.GET},{value:h.Methods.POST,label:h.Methods.POST},{value:h.Methods.PUT,label:h.Methods.PUT}],o.state=t.getInitialState(o.props.action),u.react(o,{include:[/^on/]}),o}return o(n,e),n.prototype.onValid=function(e){if(this.props.translating)return this.props.saveLocalizations(e);this.props.updateRouter()},n.prototype.onUpdateForm=function(e){if(this.props.showAdvanced){var t=e.MethodMap.state.value;t===h.Methods.GET&&this.props.removeWidget("Body"),this.setState({method:t})}},n.prototype.onHeaderRemoved=function(e){var t=this,n=this.addEmptyHeader(l.default(this.state.headers,{$splice:[[e.props.index,1]]}));this.setState({headers:n},function(){return t.props.removeWidget(e.props.name)})},n.prototype.onHeaderChanged=function(e){var t=e.state,n=t.name,o=t.value,r=e.props.header.uuid;if(n||o){var i=this.addEmptyHeader(l.default(this.state.headers,(s={},s[e.props.index]=g.set({name:n,value:o,uuid:r}),s)));this.setState({headers:i})}else this.onHeaderRemoved(e);var s},n.prototype.onMethodChanged=function(e){var t=this;this.setState({method:e.value},function(){return t.props.triggerFormUpdate()})},n.prototype.addEmptyHeader=function(e){var t=e,n=!1;try{for(var o=a(t),r=o.next();!r.done;r=o.next()){var i=r.value;if(0===i.name.trim().length&&0===i.value.trim().length){n=!0;break}}}catch(e){s={error:e}}finally{try{r&&!r.done&&(u=o.return)&&u.call(o)}finally{if(s)throw s.error}}return n||t.push({name:"",value:"",uuid:f.v4()}),t;var s,u},n.prototype.getFormAttrs=function(){var e=h.Methods.GET,t="";return"call_webhook"===this.props.action.type&&(e=(n=this.props.action).method,t=n.url),{method:e,url:t};var n},n.prototype.getSummary=function(){var e="configure the headers",t=this.state.method===h.Methods.GET?e:e+" and body";return c.createElement(c.Fragment,null,"If you need to, you can also"," ",c.createElement("a",{href:"#",onClick:this.props.onToggleAdvanced},t)," ","of your request.")},n.prototype.getReqBody=function(){var e=y.DEFAULT_BODY,t=this.props.action;return t.body&&(e=t.body),e},n.prototype.renderForm=function(){if(this.props.translating)return this.props.getExitTranslations();var e=this.getFormAttrs(),t=e.method,n=e.url,o=this.getSummary();return c.createElement(c.Fragment,null,c.createElement("p",null,E),c.createElement("div",{className:b.method},c.createElement(v.default,{ref:this.props.onBindWidget,name:"MethodMap",defaultValue:t,onChange:this.onMethodChanged,options:this.methodOptions})),c.createElement("div",{className:b.url},c.createElement(_.default,{ref:this.props.onBindWidget,name:"URL",placeholder:"Enter a URL",value:n,autocomplete:!0,required:!0,url:!0})),c.createElement("div",{className:b.instructions},c.createElement("p",null,o," If your server responds with JSON, each property will be added to the Flow."),c.createElement("pre",{className:b.code},'{ "product": "Solar Charging Kit", "stock level": 32 }'),c.createElement("p",null,"In this example"," ",c.createElement("span",{className:b.example},"@webhook.json.product")," and"," ",c.createElement("span",{className:b.example},'@webhook.json["stock level"]')," would be available in all future steps.")))},n.prototype.renderAdvanced=function(){var e=this;if(this.props.translating)return null;var t=this.state.headers.map(function(t,n,o){var r=n===e.state.headers.length-1;return c.createElement("div",{key:t.uuid},c.createElement(m.default,{ref:e.props.onBindAdvancedWidget,name:"header_"+t.uuid,header:t,onRemove:e.onHeaderRemoved,onChange:e.onHeaderChanged,index:n,empty:r}))}),n=this.getReqBody(),o="Modify the body of the "+this.state.method+" request that will be sent to your webhook.",r=this.state.method+" Body",i="Modify the body of your "+this.state.method+" request.",s=this.state.method===h.Methods.POST||this.state.method===h.Methods.PUT?c.createElement("div",{className:b.bodyForm},c.createElement("h4",null,r),c.createElement("p",null,i),c.createElement(_.default,{__className:b.reqBody,ref:this.props.onBindAdvancedWidget,name:"Body",showLabel:!1,value:n,helpText:o,autocomplete:!0,textarea:!0,required:!0})):null;return c.createElement(c.Fragment,null,c.createElement("h4",{className:b.headers_title},"Headers"),c.createElement("p",{className:b.info},"Add any additional headers below that you would like to send along with your request."),c.createElement(d,{easing:"ease-out",enterAnimation:"accordionVertical",leaveAnimation:"accordionVertical",duration:300},t),s)},n.prototype.render=function(){return this.props.showAdvanced?this.renderAdvanced():this.renderForm()},n}(c.Component);t.WebhookRouter=C;var w=function(e){return{translating:e.flowEditor.editorUI.translating}},x=p.connect(w,null,null,{withRef:!0})(C);t.default=x,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__extends","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/routers/WebhookRouter.tsx"),__REACT_HOT_LOADER__.register(r,"__assign","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/routers/WebhookRouter.tsx"),__REACT_HOT_LOADER__.register(i,"__read","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/routers/WebhookRouter.tsx"),__REACT_HOT_LOADER__.register(s,"__spread","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/routers/WebhookRouter.tsx"),__REACT_HOT_LOADER__.register(a,"__values","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/routers/WebhookRouter.tsx"),__REACT_HOT_LOADER__.register(E,"WEBHOOK_DESC","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/routers/WebhookRouter.tsx"),__REACT_HOT_LOADER__.register(C,"WebhookRouter","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/routers/WebhookRouter.tsx"),__REACT_HOT_LOADER__.register(w,"mapStateToProps","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/routers/WebhookRouter.tsx"),__REACT_HOT_LOADER__.register(x,"ConnectedWebhookRouterForm","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/routers/WebhookRouter.tsx"))},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e){return e.key||""}function s(e){return c.Children.toArray(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&a.return&&a.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(0),d=o(n(53));n(349);var p=o(n(350)),f=n(353),h=n(103),g=(0,f.whichTransitionEvent)(),m=!g,v=function(e){function t(){var e,n,o,l;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);for(var c=arguments.length,p=Array(c),h=0;h<c;h++)p[h]=arguments[h];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(p))),o.state={children:s(o.props?o.props.children:[]).map(function(e){return u({},e,{element:e,appearing:!0})})},o.childrenData={},o.parentData={domNode:null,boundingBox:null},o.heightPlaceholderData={domNode:null},o.remainingAnimations=0,o.childrenToAnimate=[],o.findDOMContainer=function(){var e=d.default.findDOMNode(o),t=e&&e.parentNode;t&&t instanceof HTMLElement&&(o.parentData.domNode=t)},o.runAnimation=function(){o.state.children.filter(o.doesChildNeedToBeAnimated).forEach(function(e,t){o.remainingAnimations+=1,o.childrenToAnimate.push(i(e)),o.animateChild(e,t)}),"function"==typeof o.props.onStartAll&&o.callChildrenHook(o.props.onStartAll)},o.doesChildNeedToBeAnimated=function(e){if(!i(e))return!1;var t=o.getChildData(i(e)),n=t.domNode,r=t.boundingBox,s=o.parentData.boundingBox;if(!n)return!1;var u=o.props,l=u.appearAnimation,c=u.enterAnimation,d=u.leaveAnimation,p=u.getPosition,h=e.appearing&&l,g=e.entering&&c,m=e.leaving&&d;if(h||g||m)return!0;var v=(0,f.getPositionDelta)({childDomNode:n,childBoundingBox:r,parentBoundingBox:s,getPosition:p}),_=a(v,2),y=_[0],b=_[1];return 0!==y||0!==b},l=n,r(o,l)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.Component),l(t,[{key:"componentDidMount",value:function(){null===this.props.typeName&&this.findDOMContainer(),this.props.appearAnimation&&!this.isAnimationDisabled(this.props)&&(this.prepForAnimation(),this.runAnimation())}},{key:"componentWillReceiveProps",value:function(e){this.updateBoundingBoxCaches();var t=s(e.children);this.setState({children:this.isAnimationDisabled(e)?t.map(function(e){return u({},e,{element:e})}):this.calculateNextSetOfChildren(t)})}},{key:"componentDidUpdate",value:function(e){null===this.props.typeName&&this.findDOMContainer();var t=s(this.props.children).map(function(e){return e.key}),n=s(e.children).map(function(e){return e.key});!(0,h.arraysEqual)(t,n)&&!this.isAnimationDisabled(this.props)&&(this.prepForAnimation(),this.runAnimation())}},{key:"calculateNextSetOfChildren",value:function(e){var t=this,n=e.map(function(e){var n=t.findChildByKey(e.key),o=!n||n.leaving;return u({},e,{element:e,entering:o})}),o=0;return this.state.children.forEach(function(r,s){if(!e.find(function(e){return e.key===i(r)})&&t.props.leaveAnimation){var a=u({},r,{leaving:!0}),l=s+o;n.splice(l,0,a),o+=1}}),n}},{key:"prepForAnimation",value:function(){var e=this,t=this.props,n=t.leaveAnimation,o=t.maintainContainerHeight,r=t.getPosition;n&&(this.state.children.filter(function(e){return e.leaving}).forEach(function(t){var n=e.getChildData(i(t));n.boundingBox&&(0,f.removeNodeFromDOMFlow)(n,e.props.verticalAlignment)}),o&&this.heightPlaceholderData.domNode&&(0,f.updateHeightPlaceholder)({domNode:this.heightPlaceholderData.domNode,parentData:this.parentData,getPosition:r})),this.state.children.forEach(function(t){var n=e.getChildData(i(t)).domNode;n&&(t.entering||t.leaving||(0,f.applyStylesToDOMNode)({domNode:n,styles:{transition:""}}))})}},{key:"animateChild",value:function(e,t){var n=this,o=this.getChildData(i(e)).domNode;o&&((0,f.applyStylesToDOMNode)({domNode:o,styles:this.computeInitialStyles(e)}),this.props.onStart&&this.props.onStart(e,o),requestAnimationFrame(function(){requestAnimationFrame(function(){var r={transition:(0,f.createTransitionString)(t,n.props),transform:"",opacity:""};e.appearing&&n.props.appearAnimation?r=u({},r,n.props.appearAnimation.to):e.entering&&n.props.enterAnimation?r=u({},r,n.props.enterAnimation.to):e.leaving&&n.props.leaveAnimation&&(r=u({},r,n.props.leaveAnimation.to)),(0,f.applyStylesToDOMNode)({domNode:o,styles:r})})}),this.bindTransitionEndHandler(e))}},{key:"bindTransitionEndHandler",value:function(e){var t=this,n=this.getChildData(i(e)).domNode;n&&n.addEventListener(g,function o(r){r.target===n&&(n.style.transition="",t.triggerFinishHooks(e,n),n.removeEventListener(g,o),e.leaving&&t.removeChildData(i(e)))})}},{key:"triggerFinishHooks",value:function(e,t){var n=this;if(this.props.onFinish&&this.props.onFinish(e,t),this.remainingAnimations-=1,0===this.remainingAnimations){var o=this.state.children.filter(function(e){return!e.leaving}).map(function(e){return u({},e,{element:e.element,appearing:!1,entering:!1})});this.setState({children:o},function(){"function"==typeof n.props.onFinishAll&&n.callChildrenHook(n.props.onFinishAll),n.childrenToAnimate=[]}),this.heightPlaceholderData.domNode&&(this.heightPlaceholderData.domNode.style.height="0")}}},{key:"callChildrenHook",value:function(e){var t=this,n=[],o=[];this.childrenToAnimate.forEach(function(e){var r=t.findChildByKey(e);r&&(n.push(r),t.hasChildData(e)&&o.push(t.getChildData(e).domNode))}),e(n,o)}},{key:"updateBoundingBoxCaches",value:function(){var e=this,t=this.parentData.domNode;t&&(this.parentData.boundingBox=this.props.getPosition(t),this.state.children.forEach(function(n){var o=i(n);if(o&&e.hasChildData(o)){var r=e.getChildData(o);r.domNode&&n&&e.setChildData(o,{boundingBox:(0,f.getRelativeBoundingBox)({childDomNode:r.domNode,parentDomNode:t,getPosition:e.props.getPosition})})}}))}},{key:"computeInitialStyles",value:function(e){if(e.appearing)return this.props.appearAnimation?this.props.appearAnimation.from:{};if(e.entering)return this.props.enterAnimation?u({position:"",top:"",left:"",right:"",bottom:""},this.props.enterAnimation.from):{};if(e.leaving)return this.props.leaveAnimation?this.props.leaveAnimation.from:{};var t=this.getChildData(i(e)),n=t.domNode,o=t.boundingBox,r=this.parentData.boundingBox;if(!n)return{};var s=(0,f.getPositionDelta)({childDomNode:n,childBoundingBox:o,parentBoundingBox:r,getPosition:this.props.getPosition}),l=a(s,2);return{transform:"translate("+l[0]+"px, "+l[1]+"px)"}}},{key:"isAnimationDisabled",value:function(e){return m||e.disableAllAnimations||0===e.duration&&0===e.delay&&0===e.staggerDurationBy&&0===e.staggerDelayBy}},{key:"findChildByKey",value:function(e){return this.state.children.find(function(t){return i(t)===e})}},{key:"hasChildData",value:function(e){return Object.prototype.hasOwnProperty.call(this.childrenData,e)}},{key:"getChildData",value:function(e){return this.hasChildData(e)?this.childrenData[e]:{}}},{key:"setChildData",value:function(e,t){this.childrenData[e]=u({},this.getChildData(e),t)}},{key:"removeChildData",value:function(e){delete this.childrenData[e],this.setState(function(t){return u({},t,{children:t.children.filter(function(t){return t.element.key!==e})})})}},{key:"createHeightPlaceholder",value:function(){var e=this,t=this.props.typeName,n="ul"===t||"ol"===t?"li":"div";return(0,c.createElement)(n,{key:"height-placeholder",ref:function(t){e.heightPlaceholderData.domNode=t},style:{visibility:"hidden",height:0}})}},{key:"childrenWithRefs",value:function(){var e=this;return this.state.children.map(function(t){return(0,c.cloneElement)(t.element,{ref:function(n){if(n){var o=(0,f.getNativeNode)(n);e.setChildData(i(t),{domNode:o})}}})})}},{key:"render",value:function(){var e=this,t=this.props,n=t.typeName,o=t.delegated,r=t.leaveAnimation,i=t.maintainContainerHeight,s=this.childrenWithRefs();if(r&&i&&s.push(this.createHeightPlaceholder()),!n)return s;var a=u({},o,{children:s,ref:function(t){e.parentData.domNode=t}});return(0,c.createElement)(n,a)}}]),t}();t.default=(0,p.default)(v),e.exports=t.default},function(e,t,n){"use strict";Array.prototype.find||(Array.prototype.find=function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t=Object(this),n=t.length>>>0,o=arguments[1],r=void 0,i=0;i<n;i++)if(r=t[i],e.call(o,r,i,t))return r}),Array.prototype.every||(Array.prototype.every=function(e,t){var n,o;if(null==this)throw new TypeError("this is null or not defined");var r=Object(this),i=r.length>>>0;if("function"!=typeof e)throw new TypeError;for(arguments.length>1&&(n=t),o=0;o<i;){var s;if(o in r&&(s=r[o],!e.call(n,s,o,r)))return!1;o++}return!0}),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)})},function(e,t,n){"use strict";function o(){try{return!0}catch(e){return!1}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(a),l=n(351),c=n(352),d=n(103);t.default=function(e){var t,n;return n=t=function(t){function n(){return function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.Component),s(n,[{key:"checkChildren",value:function(e){o()||a.Children.forEach(e,function(e){null!=e&&"boolean"!=typeof e&&("object"===(void 0===e?"undefined":i(e))?(0,d.isElementAnSFC)(e)&&null!=e.key&&(0,l.statelessFunctionalComponentSupplied)():(0,l.primitiveNodeSupplied)())})}},{key:"convertProps",value:function(e){var t={children:e.children,easing:e.easing,onStart:e.onStart,onFinish:e.onFinish,onStartAll:e.onStartAll,onFinishAll:e.onFinishAll,typeName:e.typeName,disableAllAnimations:e.disableAllAnimations,getPosition:e.getPosition,maintainContainerHeight:e.maintainContainerHeight,verticalAlignment:e.verticalAlignment,duration:this.convertTimingProp("duration"),delay:this.convertTimingProp("delay"),staggerDurationBy:this.convertTimingProp("staggerDurationBy"),staggerDelayBy:this.convertTimingProp("staggerDelayBy"),appearAnimation:this.convertAnimationProp(e.appearAnimation,c.appearPresets),enterAnimation:this.convertAnimationProp(e.enterAnimation,c.enterPresets),leaveAnimation:this.convertAnimationProp(e.leaveAnimation,c.leavePresets),delegated:{}};this.checkChildren(t.children),void 0!==e.disableAnimations&&(t.disableAllAnimations=e.disableAnimations,o()||(0,l.deprecatedDisableAnimations)());var n=Object.keys(t),i=(0,d.omit)(this.props,n);return i.style=r({position:"relative"},i.style),t.delegated=i,t}},{key:"convertTimingProp",value:function(e){var t=this.props[e],r="number"==typeof t?t:parseInt(t,10);if(isNaN(r)){var i=n.defaultProps[e];return o()||(0,l.invalidTypeForTimingProp)({prop:e,value:t,defaultValue:i}),i}return r}},{key:"convertAnimationProp",value:function(e,t){switch(void 0===e?"undefined":i(e)){case"boolean":return t[e?c.defaultPreset:c.disablePreset];case"string":var n=Object.keys(t);return-1===n.indexOf(e)?(o()||(0,l.invalidEnterLeavePreset)({value:e,acceptableValues:n.filter(function(e){return-1===e.indexOf("accordian")}).join(", "),defaultValue:c.defaultPreset}),t[c.defaultPreset]):t[e];default:return e}}},{key:"render",value:function(){return u.default.createElement(e,this.convertProps(this.props))}}]),n}(),t.defaultProps={easing:"ease-in-out",duration:350,delay:0,staggerDurationBy:0,staggerDelayBy:0,typeName:"div",enterAnimation:c.defaultPreset,leaveAnimation:c.defaultPreset,disableAllAnimations:!1,getPosition:function(e){return e.getBoundingClientRect()},maintainContainerHeight:!1,verticalAlignment:"top"},n},e.exports=t.default},function(e,t,n){"use strict";function o(e){var t=!1;return function(){t||(console.warn(e),t=!0)}}Object.defineProperty(t,"__esModule",{value:!0}),t.statelessFunctionalComponentSupplied=o("\n>> Error, via react-flip-move <<\n\nYou provided a stateless functional component as a child to <FlipMove>. Unfortunately, SFCs aren't supported, because Flip Move needs access to the backing instances via refs, and SFCs don't have a public instance that holds that info.\n\nPlease wrap your components in a native element (eg. <div>), or a non-functional component.\n"),t.primitiveNodeSupplied=o("\n>> Error, via react-flip-move <<\n\nYou provided a primitive (text or number) node as a child to <FlipMove>. Flip Move needs containers with unique keys to move children around.\n\nPlease wrap your value in a native element (eg. <span>), or a component.\n"),t.invalidTypeForTimingProp=function(e){return console.error("\n>> Error, via react-flip-move <<\n\nThe prop you provided for '"+e.prop+"' is invalid. It needs to be a positive integer, or a string that can be resolved to a number. The value you provided is '"+e.value+"'.\n\nAs a result,  the default value for this parameter will be used, which is '"+e.defaultValue+"'.\n")},t.deprecatedDisableAnimations=o("\n>> Warning, via react-flip-move <<\n\nThe 'disableAnimations' prop you provided is deprecated. Please switch to use 'disableAllAnimations'.\n\nThis will become a silent error in future versions of react-flip-move.\n"),t.invalidEnterLeavePreset=function(e){return console.error("\n>> Error, via react-flip-move <<\n\nThe enter/leave preset you provided is invalid. We don't currently have a '"+e.value+" preset.'\n\nAcceptable values are "+e.acceptableValues+". The default value of '"+e.defaultValue+"' will be used.\n")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=t.enterPresets={elevator:{from:{transform:"scale(0)",opacity:"0"},to:{transform:"",opacity:""}},fade:{from:{opacity:"0"},to:{opacity:""}},accordionVertical:{from:{transform:"scaleY(0)",transformOrigin:"center top"},to:{transform:"",transformOrigin:"center top"}},accordionHorizontal:{from:{transform:"scaleX(0)",transformOrigin:"left center"},to:{transform:"",transformOrigin:"left center"}},none:null},r=t.leavePresets={elevator:{from:{transform:"scale(1)",opacity:"1"},to:{transform:"scale(0)",opacity:"0"}},fade:{from:{opacity:"1"},to:{opacity:"0"}},accordionVertical:{from:{transform:"scaleY(1)",transformOrigin:"center top"},to:{transform:"scaleY(0)",transformOrigin:"center top"}},accordionHorizontal:{from:{transform:"scaleX(1)",transformOrigin:"left center"},to:{transform:"scaleX(0)",transformOrigin:"left center"}},none:null};t.appearPresets=o,o.accordianVertical=o.accordionVertical,o.accordianHorizontal=o.accordionHorizontal,r.accordianVertical=r.accordionVertical,r.accordianHorizontal=r.accordionHorizontal,t.defaultPreset="elevator",t.disablePreset="none"},function(e,t,n){"use strict";function o(e){var t=e.domNode,n=e.styles;Object.keys(n).forEach(function(e){t.style.setProperty((0,s.hyphenate)(e),n[e])})}Object.defineProperty(t,"__esModule",{value:!0}),t.createTransitionString=t.getNativeNode=t.updateHeightPlaceholder=t.removeNodeFromDOMFlow=t.getPositionDelta=t.getRelativeBoundingBox=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.applyStylesToDOMNode=o,t.whichTransitionEvent=function(){var e={transition:"transitionend","-o-transition":"oTransitionEnd","-moz-transition":"transitionend","-webkit-transition":"webkitTransitionEnd"};if("undefined"==typeof document)return"";var t=document.createElement("fakeelement"),n=Object.keys(e).find(function(e){return void 0!==t.style.getPropertyValue(e)});return n?e[n]:""};var i=n(53),s=n(103);t.getRelativeBoundingBox=function(e){var t=e.childDomNode,n=e.parentDomNode,o=e.getPosition,r=o(n),i=o(t),s=i.top,a=i.left,u=i.right,l=i.bottom,c=i.width,d=i.height;return{top:s-r.top,left:a-r.left,right:r.right-u,bottom:r.bottom-l,width:c,height:d}},t.getPositionDelta=function(e){var t=e.childDomNode,n=e.childBoundingBox,o=e.parentBoundingBox,r=e.getPosition,i={top:0,left:0,right:0,bottom:0,height:0,width:0},s=n||i,a=o||i,u=r(t),l=u.top-a.top,c=u.left-a.left;return[s.left-c,s.top-l]},t.removeNodeFromDOMFlow=function(e,t){var n=e.domNode,i=e.boundingBox;if(n&&i){var s=window.getComputedStyle(n),a=["margin-top","margin-left","margin-right"].reduce(function(e,t){var n=s.getPropertyValue(t);return r({},e,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,Number(n.replace("px",""))))},{});o({domNode:n,styles:{position:"absolute",top:("bottom"===t?i.top-i.height:i.top)-a["margin-top"]+"px",left:i.left-a["margin-left"]+"px",right:i.right-a["margin-right"]+"px"}})}},t.updateHeightPlaceholder=function(e){var t=e.domNode,n=e.parentData,r=e.getPosition,i=n.domNode,s=n.boundingBox;if(i&&s){o({domNode:t,styles:{height:"0"}});var a=s.height-r(i).height;o({domNode:t,styles:{height:a>0?a+"px":"0"}})}},t.getNativeNode=function(e){if("undefined"==typeof HTMLElement)return null;if(e instanceof HTMLElement)return e;var t=(0,i.findDOMNode)(e);return t&&t.nodeType===Node.TEXT_NODE?null:t},t.createTransitionString=function(e,t){var n=t.delay,o=t.duration,r=t.staggerDurationBy,i=t.staggerDelayBy,s=t.easing;return n+=e*i,o+=e*r,["transform","opacity"].map(function(e){return e+" "+o+"ms "+s+" "+n+"ms"}).join(", ")}},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=n(0),s=n(2),a=n(16),u=n(153),l=n(15);t.headerContainerSpecId="header-container",t.nameContainerSpecId="name-container",t.valueConatainerSpecId="value-container",t.removeIcoSpecId="remove-icon",t.HEADER_NAME_ERROR="HTTP headers must have a name",t.NAME_PLACEHOLDER="Header Name",t.VALUE_PLACEHOLDER="Value";var c=function(e){function n(t){var n=e.call(this,t)||this,o=n.props.header.name||"",i=n.props.header.value||"";return n.state={name:o,value:i,errors:[]},r.react(n,{include:[/^on/]}),n}return o(n,e),n.prototype.onChangeName=function(e){var t=this,n=e.currentTarget.value;this.setState({name:n},function(){return t.props.onChange(t)})},n.prototype.onChangeValue=function(e){var t=this,n=e.currentTarget.value;this.setState({value:n},function(){return t.props.onChange(t)})},n.prototype.onRemove=function(){this.props.onRemove(this)},n.prototype.validate=function(){var e=[];return this.state.value.trim().length>0&&0===this.state.name.trim().length&&e.push(t.HEADER_NAME_ERROR),this.setState({errors:e}),0===e.length},n.prototype.getRemoveIco=function(){return s.renderIf(0!==this.props.index&&!this.props.empty)(i.createElement("div",{className:u.removeIco,onClick:this.onRemove,"data-spec":t.removeIcoSpecId},i.createElement("span",{className:"icn-remove"})))},n.prototype.render=function(){var e=s.hasErrorType(this.state.errors,[/headers/]),n=this.getRemoveIco();return i.createElement(l.default,{name:this.props.name,errors:this.state.errors},i.createElement("div",{className:u.header,"data-spec":t.headerContainerSpecId},i.createElement("div",{className:u.header_name,"data-spec":t.nameContainerSpecId},i.createElement(a.default,{placeholder:t.NAME_PLACEHOLDER,name:"name",onChange:this.onChangeName,value:this.state.name,showInvalid:e})),i.createElement("div",{className:u.header_value,"data-spec":t.valueConatainerSpecId},i.createElement(a.default,{placeholder:t.VALUE_PLACEHOLDER,name:"value",onChange:this.onChangeValue,value:this.state.value,autocomplete:!0})),n))},n}(i.Component);t.default=c,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__extends","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/form/HeaderElement.tsx"),__REACT_HOT_LOADER__.register(c,"HeaderElement","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/form/HeaderElement.tsx"))},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(33),s=n(15),a=function(e){function t(t){var n=e.call(this,t)||this;return n.state={value:n.props.defaultValue,errors:[]},n.onChange=n.onChange.bind(n),n}return o(t,e),t.prototype.onChange=function(e){var t=this;this.setState({value:e.value},function(){t.props.onChange&&t.props.onChange(e)})},t.prototype.validate=function(){var e=[];return this.props.required&&(this.state.value&&0!==this.state.value.length||e.push(this.props.name+" is required")),this.setState({errors:e}),0===e.length},t.prototype.render=function(){return r.createElement(s.default,{name:this.props.name,required:this.props.required,errors:this.state.errors},r.createElement(i.default,{name:this.props.name,value:this.state.value,onChange:this.onChange,searchable:!1,clearable:!1,options:this.props.options}))},t}(r.Component);t.default=a,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__extends","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/form/SelectElement.tsx"),__REACT_HOT_LOADER__.register(a,"SelectElement","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/form/SelectElement.tsx"))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(42);t.mapExits=o.mapExits,t.isSwitchForm=o.isSwitchForm,t.getAction=o.getAction;var r=n(126);t.DEFAULT_OPERAND=r.DEFAULT_OPERAND,t.DEFAULT_BODY=r.DEFAULT_BODY,t.default=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);t.PLACEHOLDER="Send a message to the contact";var r=function(e){var t=e.type;return o.createElement("div",{className:"placeholder"},"No implementation yet for ",t)};t.default=r,"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(r,"MissingComp","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/actions/Missing/Missing.tsx")},function(e,t,n){"use strict";(function(e){var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),s=n(0),a=n(1),u=n(3),l=n(359),c=n(11),d=n(360),p=n(361),f=n(18),h=n(57),g=n(2),m=n(363),v=n(364),_=n(42),y=n(373),b=n(375),E=n(6);t.REPAINT_TIMEOUT=500,t.GHOST_POSITION_INITIAL={left:-1e3,top:-1e3},t.nodeSpecId="node",t.nodesContainerSpecId="node-container",t.ghostNodeSpecId="ghost-node",t.dragSelectSpecId="drag-select",t.getGhostUI=function(e){return void 0===e&&(e={}),r({position:t.GHOST_POSITION_INITIAL},e.router?{type:"wait_for_response"}:{})},t.isDraggingBack=function(e){return e.suspendedElementId===e.targetId&&null!==e.source},t.getDragStyle=function(e){var t=Math.min(e.startX,e.currentX),n=Math.min(e.startY,e.currentY);return{left:t,top:n,width:Math.max(e.startX,e.currentX)-t,height:Math.max(e.startY,e.currentY)-n}};var C=function(n){function a(e,t){var o=n.call(this,e,t)||this;return o.containerOffset={left:0,top:0},o.nodeContainerUUID=c.v4(),o.Activity=new d.default(o.props.definition.uuid,l.getActivity),o.Plumber=new p.default,i.react(o,{include:[/Ref$/,/^on/,/^is/]}),g.timeStart("RenderAndPlumb"),o}return o(a,n),a.prototype.onRef=function(e){return this.ele=e},a.prototype.ghostRef=function(e){return this.ghost=e},a.prototype.componentDidMount=function(){var e=this;this.Plumber.bind("connection",function(t){return e.props.updateConnection(t.sourceId,t.targetId)}),this.Plumber.bind("beforeDrag",function(t){return e.beforeConnectionDrag(t)}),this.Plumber.bind("connectionDrag",function(t){e.props.onConnectionDrag(t)}),this.Plumber.bind("connectionDragStop",function(t){return e.onConnectorDrop(t)}),this.Plumber.bind("beforeStartDetach",function(t){return!e.props.translating}),this.Plumber.bind("beforeDetach",function(e){return!0}),this.Plumber.bind("beforeDrop",function(t){return e.onBeforeConnectorDrop(t)}),this.props.ensureStartNode();var n={left:0,top:0};this.ele&&(n=this.ele.getBoundingClientRect()),this.containerOffset={left:n.left,top:n.top+window.scrollY},g.timeEnd("RenderAndPlumb"),window.setTimeout(function(){return e.Plumber.repaint()},t.REPAINT_TIMEOUT)},a.prototype.componentWillUnmount=function(){this.Plumber.reset()},a.prototype.onBeforeConnectorDrop=function(e){return this.props.resetNodeEditingState(),e.sourceId.split(":")[0]!==e.targetId||(console.error(e.targetId+" cannot point to itself"),!1)},a.prototype.onConnectorDrop=function(n){var o=this.props,r=o.ghostNode,i=o.pendingConnection;if(g.isRealValue(r)&&!t.isDraggingBack(n)){var s=i;this.Plumber.recalculate(r.uuid),this.Plumber.connect(s.nodeUUID+":"+s.exitUUID,r.uuid);var a=g.snapToGrid(this.ghost.wrappedInstance.ele.offsetLeft,this.ghost.wrappedInstance.ele.offsetTop),u=a.left,l=a.top;this.props.updateCreateNodePosition({left:u,top:l}),this.props.onOpenNodeEditor(this.props.ghostNode,null,this.context.languages)}return e(document).off("mousemove"),!0},a.prototype.beforeConnectionDrag=function(e){return!this.props.translating},a.prototype.getNodes=function(){var e=this;return Object.keys(this.props.nodes).map(function(n){var o=e.props.nodes[n];return s.createElement(v.default,{key:n,"data-spec":t.nodeSpecId,node:o.node,ui:o.ui,Activity:e.Activity,plumberRepaintForDuration:e.Plumber.repaintForDuration,plumberDraggable:e.Plumber.draggable,plumberMakeTarget:e.Plumber.makeTarget,plumberRemove:e.Plumber.remove,plumberRecalculate:e.Plumber.recalculate,plumberMakeSource:e.Plumber.makeSource,plumberConnectExit:e.Plumber.connectExit,plumberSetDragSelection:e.Plumber.setDragSelection,plumberClearDragSelection:e.Plumber.clearDragSelection,plumberRemoveFromDragSelection:e.Plumber.removeFromDragSelection})})},a.prototype.getStickies=function(){var e=this,t=this.props.definition._ui.stickies||{};return Object.keys(t).map(function(n){return s.createElement(b.default,{key:n,uuid:n,sticky:t[n],plumberClearDragSelection:e.Plumber.clearDragSelection,plumberDraggable:e.Plumber.draggable,plumberRemove:e.Plumber.remove})})},a.prototype.getDragNode=function(){return g.isRealValue(this.props.ghostNode)?s.createElement(v.default,{ref:this.ghostRef,key:this.props.ghostNode.uuid,"data-spec":t.ghostNodeSpecId,ghost:!0,node:this.props.ghostNode,ui:t.getGhostUI(this.props.ghostNode),Activity:this.Activity,plumberRepaintForDuration:this.Plumber.repaintForDuration,plumberDraggable:this.Plumber.draggable,plumberMakeTarget:this.Plumber.makeTarget,plumberRemove:this.Plumber.remove,plumberRecalculate:this.Plumber.recalculate,plumberMakeSource:this.Plumber.makeSource,plumberConnectExit:this.Plumber.connectExit,plumberClearDragSelection:this.Plumber.clearDragSelection,plumberSetDragSelection:this.Plumber.setDragSelection,plumberRemoveFromDragSelection:this.Plumber.removeFromDragSelection}):null},a.prototype.getSimulator=function(){return g.renderIf(this.context.endpoints&&this.context.endpoints.simulateStart)(s.createElement(y.default,{Activity:this.Activity,plumberDraggable:this.Plumber.draggable}))},a.prototype.getNodeEditor=function(){return g.renderIf(this.props.nodeEditorOpen)(s.createElement(_.default,{plumberConnectExit:this.Plumber.connectExit,plumberRepaintForDuration:this.Plumber.repaintForDuration}))},a.prototype.isClickOnCanvas=function(e){return e.target.id===this.nodeContainerUUID},a.prototype.onDoubleClick=function(e){if(this.isClickOnCanvas(e)){var t=g.snapToGrid(e.clientX-this.containerOffset.left-100+g.NODE_PADDING,e.clientY-this.containerOffset.top-2*g.NODE_PADDING),n=t.left,o=t.top;this.props.updateSticky(c.v4(),{position:{left:n,top:o},title:"New Note",body:"..."})}},a.prototype.onMouseDown=function(e){this.isClickOnCanvas(e)&&this.props.updateDragSelection({startX:e.pageX-this.containerOffset.left,startY:e.pageY-this.containerOffset.top,currentX:e.pageX-this.containerOffset.left,currentY:e.pageY-this.containerOffset.top,selected:null})},a.prototype.onMouseMove=function(e){if(this.props.dragSelection&&this.props.dragSelection.startX){var t=this.props.dragSelection,n=Math.min(t.startX,t.currentX),o=Math.min(t.startY,t.currentY),r=Math.max(t.startX,t.currentX),i=Math.max(t.startY,t.currentY);this.props.updateDragSelection({startX:t.startX,startY:t.startY,currentX:e.pageX-this.containerOffset.left,currentY:e.pageY-this.containerOffset.top,selected:h.getCollisions(this.props.nodes,{left:n,top:o,right:r,bottom:i})})}},a.prototype.onMouseUp=function(e){this.props.dragSelection&&(this.props.updateDragSelection({startX:null,startY:null,currentX:null,currentY:null,selected:this.props.dragSelection.selected}),this.props.dragSelection.selected&&this.Plumber.setDragSelection(this.props.dragSelection.selected))},a.prototype.getDragSelectionBox=function(){return this.props.dragSelection&&this.props.dragSelection.startX?s.createElement("div",{"data-spec":t.dragSelectSpecId,className:m.dragSelection,style:r({},t.getDragStyle(this.props.dragSelection))}):null},a.prototype.render=function(){return s.createElement(s.Fragment,null,this.getSimulator(),this.getDragNode(),this.getNodeEditor(),s.createElement("div",{ref:this.onRef,id:this.nodeContainerUUID,className:m.nodeList,"data-spec":t.nodesContainerSpecId,onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp,onDoubleClick:this.onDoubleClick},this.getStickies(),this.getDragSelectionBox(),this.getNodes()))},a.contextTypes={languages:E.fakePropType,endpoints:E.fakePropType},a}(s.Component);t.Flow=C;var w=function(e){var t=e.flowContext,n=t.definition,o=t.dependencies,r=t.nodes,i=e.flowEditor,s=i.editorUI,a=s.translating,u=s.nodeEditorOpen,l=i.flowUI;return{translating:a,definition:n,nodes:r,dependencies:o,ghostNode:l.ghostNode,pendingConnection:l.pendingConnection,nodeEditorOpen:u,dragSelection:l.dragSelection}},x=function(e){return u.bindActionCreators({ensureStartNode:f.ensureStartNode,resetNodeEditingState:f.resetNodeEditingState,onConnectionDrag:f.onConnectionDrag,onOpenNodeEditor:f.onOpenNodeEditor,updateCreateNodePosition:f.updateCreateNodePosition,updateConnection:f.updateConnection,updateDragSelection:f.updateDragSelection,updateSticky:f.updateSticky},e)};t.default=a.connect(w,x)(C),"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__extends","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/Flow.tsx"),__REACT_HOT_LOADER__.register(r,"__assign","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/Flow.tsx"),__REACT_HOT_LOADER__.register(C,"Flow","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/Flow.tsx"),__REACT_HOT_LOADER__.register(w,"mapStateToProps","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/Flow.tsx"),__REACT_HOT_LOADER__.register(x,"mapDispatchToProps","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/Flow.tsx"))}).call(t,n(72))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(68);o.default.defaults.headers.post["Content-Type"]="application/javascript",o.default.defaults.responseType="json",t.getActivity=function(e,t,n){return void 0===n&&(n={}),new Promise(function(r,i){return o.default.get(e+"?flow="+t,{headers:n}).then(function(e){return r(e.data)}).catch(function(e){return i(e)})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){this.listeners={},this.flowUUID=e,this.getActivityExternal=t,this.clearSimulation=this.clearSimulation.bind(this),this.setSimulation=this.setSimulation.bind(this),this.fetchActivity=this.fetchActivity.bind(this),this.notifyListeners=this.notifyListeners.bind(this),this.deregister=this.deregister.bind(this),this.registerListener=this.registerListener.bind(this),this.getActivity=this.getActivity.bind(this),this.getActiveCount=this.getActiveCount.bind(this),this.getPathCount=this.getPathCount.bind(this),this.fetchActivity()}return e.prototype.clearSimulation=function(){this.simulation=null,this.notifyListeners(),this.fetchActivity()},e.prototype.setSimulation=function(e){this.simulation=e,this.timer&&(window.clearTimeout(this.timer),this.timer=null),this.notifyListeners()},e.prototype.fetchActivity=function(e){void 0===e&&(e=0)},e.prototype.notifyListeners=function(){for(var e in this.listeners)this.listeners[e].requestUpdate()},e.prototype.deregister=function(e){delete this.listeners[e]},e.prototype.registerListener=function(e){e&&(this.listeners[e.getKey()]=e)},e.prototype.getActivity=function(){return this.simulation?this.simulation:this.activity},e.prototype.getActiveCount=function(e){var t=this.getActivity();if(t){var n=t.nodes[e];if(void 0!==n)return n}return 0},e.prototype.getPathCount=function(e){var t=this.getActivity();if(t&&e.destination_node_uuid){var n=t.segments[e.uuid+":"+e.destination_node_uuid];if(void 0!==n)return n}return 0},e}();t.default=o,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(10,"REFRESH_SECONDS","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/services/ActivityManager.ts"),__REACT_HOT_LOADER__.register(o,"ActivityManager","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/services/ActivityManager.ts"))},function(e,t,n){"use strict";var o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var r=n(362).jsPlumb.importDefaults;t.REPAINT_DURATION=600,t.TARGET_DEFAULTS={anchor:["Continuous",{shape:"Rectangle",faces:["left","top","right"]}],endpoint:["Dot",{radius:13,cssClass:"plumb-endpoint",hoverClass:"plumb-endpoint-hover"}],dropOptions:{tolerance:"touch",hoverClass:"plumb-drop-hover",isTarget:!1},dragAllowedWhenFull:!1,deleteEndpointsOnEmpty:!0,isTarget:!1},t.SOURCE_DEFAULTS={anchor:"BottomCenter",maxConnections:1,dragAllowedWhenFull:!1,deleteEndpointsOnEmpty:!0,isSource:!0};var i=function(){function e(){var e=this;this.pendingConnections={},this.animateInterval=null,this.jsPlumb=r({DragOptions:{cursor:"pointer",zIndex:1e3},DropOptions:{tolerance:"touch",hoverClass:"plumb-hover"},Endpoint:"Blank",EndpointStyle:{strokeStyle:"transparent"},PaintStyle:{strokeWidth:1,outlineWidth:1,outlineStroke:"#fff"},ConnectorHoverStyle:{stroke:"#27ae60"},ConnectorHoverClass:"plumb-connector-hover",ConnectionsDetachable:!0,Connector:["Flowchart",{stub:12,midpoint:.55,alwaysRespectStubs:!0,gap:[0,0],cornerRadius:5}],ConnectionOverlays:[["PlainArrow",{location:.9999,width:8,length:8,foldback:1,cssClass:"jtk-arrow"}]],Container:"editor-container"}),this.debug=this.debug.bind(this),this.draggable=this.draggable.bind(this),this.setSourceEnabled=this.setSourceEnabled.bind(this),this.makeSource=this.makeSource.bind(this),this.makeTarget=this.makeTarget.bind(this),this.connectExit=this.connectExit.bind(this),this.setDragSelection=this.setDragSelection.bind(this),this.clearDragSelection=this.clearDragSelection.bind(this),this.removeFromDragSelection=this.removeFromDragSelection.bind(this),this.cancelDurationRepaint=this.cancelDurationRepaint.bind(this),this.remove=this.remove.bind(this),this.repaintForDuration=this.repaintForDuration.bind(this),this.repaintFor=this.repaintFor.bind(this),this.handlePendingConnections=this.handlePendingConnections.bind(this),this.checkForPendingConnections=this.checkForPendingConnections.bind(this),this.connect=this.connect.bind(this),this.bind=this.bind.bind(this),this.repaint=this.repaint.bind(this),this.recalculate=this.recalculate.bind(this),this.reset=this.reset.bind(this),window.onresize=function(){return e.jsPlumb.repaintEverything()}}return e.prototype.debug=function(){return this.jsPlumb},e.prototype.draggable=function(e,t,n,r,i){void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null),void 0===i&&(i=null);var s={};t&&(s.start=t),n&&(s.drag=n),r&&(s.stop=r),i&&(s.canDrag=function(){return i()}),this.jsPlumb.draggable(e,o({containment:!1,consumeFilteredEvents:!1,consumeStartEvent:!1},s))},e.prototype.setSourceEnabled=function(e,t){this.jsPlumb.setSourceEnabled(e,t)},e.prototype.makeSource=function(e){this.jsPlumb.makeSource(e,t.SOURCE_DEFAULTS)},e.prototype.makeTarget=function(e){this.jsPlumb.makeTarget(e,t.TARGET_DEFAULTS)},e.prototype.connectExit=function(e,t,n){void 0===n&&(n=null),this.connect(e.uuid+":"+t.uuid,t.destination_node_uuid,n)},e.prototype.removeFromDragSelection=function(e){this.jsPlumb.removeFromDragSelection(e)},e.prototype.setDragSelection=function(e){var t=this;this.cancelDurationRepaint(),this.jsPlumb.clearDragSelection(),Object.keys(e).forEach(function(e){return t.jsPlumb.addToDragSelection(e)})},e.prototype.clearDragSelection=function(){this.jsPlumb.clearDragSelection()},e.prototype.cancelDurationRepaint=function(){this.animateInterval&&(window.clearInterval(this.animateInterval),this.animateInterval=null)},e.prototype.repaintForDuration=function(e){var n=this;void 0===e&&(e=t.REPAINT_DURATION),this.cancelDurationRepaint();var o=e/10,r=0;this.animateInterval=window.setInterval(function(){n.jsPlumb.repaintEverything(),r++>o&&window.clearInterval(n.animateInterval)},10)},e.prototype.repaintFor=function(e){var t=this;window.setInterval(function(){t.jsPlumb.repaintEverything()},1)},e.prototype.handlePendingConnections=function(){var e=this,t={};this.jsPlumb.batch(function(){var n=Object.keys(e.pendingConnections).length;n>1&&console.log("batching "+n+" connections");for(var o in e.pendingConnections)if(e.pendingConnections.hasOwnProperty(o)){var r=e.pendingConnections[o],i=r.source,s=r.target,a=r.className;null!=i&&(e.jsPlumb.select({source:i}).delete({fireEvent:!1}),null!=s&&(a?e.jsPlumb.connect({source:i,target:s,fireEvent:!1,cssClass:a,detachable:!1}):e.jsPlumb.connect({source:i,target:s,fireEvent:!1,cssClass:a}))),null!=s&&(t[s]=!0),delete e.pendingConnections[o]}});for(var n in t)t.hasOwnProperty("target")&&this.recalculate(n)},e.prototype.checkForPendingConnections=function(){var e=this;this.pendingConnectionTimeout&&window.clearTimeout(this.pendingConnectionTimeout),this.pendingConnectionTimeout=window.setTimeout(function(){e.handlePendingConnections()},0)},e.prototype.connect=function(e,t,n){void 0===n&&(n=null),this.pendingConnections[e+":"+t+":"+n]={source:e,target:t,className:n},this.checkForPendingConnections()},e.prototype.bind=function(e,t){return this.jsPlumb.bind(e,t)},e.prototype.repaint=function(e){console.log("repaint"),e?(this.jsPlumb.recalculateOffsets(e),this.jsPlumb.repaint(e)):(this.jsPlumb.recalculateOffsets(),this.jsPlumb.repaintEverything())},e.prototype.remove=function(e){this.jsPlumb.isSource(e)?(this.jsPlumb.unmakeSource(e),this.jsPlumb.remove(e)):this.jsPlumb.isTarget(e)&&this.jsPlumb.deleteConnectionsForElement(e)},e.prototype.recalculate=function(e){var t=this;window.setTimeout(function(){t.jsPlumb.revalidate(e),e?t.jsPlumb.recalculateOffsets(e):t.jsPlumb.recalculateOffsets(),t.jsPlumb.repaint(e)},0)},e.prototype.reset=function(){this.jsPlumb.reset()},e}();t.default=i,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__assign","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/services/Plumber.ts"),__REACT_HOT_LOADER__.register(r,"importDefaults","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/services/Plumber.ts"),__REACT_HOT_LOADER__.register(i,"Plumber","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/services/Plumber.ts"))},function(e,t,n){(function(){void 0===Math.sgn&&(Math.sgn=function(e){return 0==e?0:e>0?1:-1});var e=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},n=function(e,t){return e.x*t.x+e.y*t.y},o=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},r=function(e,t){return{x:e.x*t,y:e.y*t}},i=Math.pow(2,-65),s=function(t,n){for(var r=[],i=a(t,n),s=n.length-1,l=u(i,2*s-1,r,0),c=e(t,n[0]),d=o(c),f=0,h=0;h<l;h++){c=e(t,p(n,s,r[h],null,null));var g=o(c);g<d&&(d=g,f=r[h])}return c=e(t,n[s]),(g=o(c))<d&&(d=g,f=1),{location:f,distance:d}},a=function(t,o){for(var i=o.length-1,s=2*i-1,a=[],u=[],l=[],c=[],d=[[1,.6,.3,.1],[.4,.6,.6,.4],[.1,.3,.6,1]],p=0;p<=i;p++)a[p]=e(o[p],t);for(p=0;p<=i-1;p++)u[p]=e(o[p+1],o[p]),u[p]=r(u[p],3);for(var f=0;f<=i-1;f++)for(var h=0;h<=i;h++)l[f]||(l[f]=[]),l[f][h]=n(u[f],a[h]);for(p=0;p<=s;p++)c[p]||(c[p]=[]),c[p].y=0,c[p].x=parseFloat(p)/s;for(var g=i,m=i-1,v=0;v<=g+m;v++){var _=Math.max(0,v-m),y=Math.min(v,g);for(p=_;p<=y;p++)j=v-p,c[p+j].y+=l[j][p]*d[j][p]}return c},u=function(e,t,n,o){var r,i,s=[],a=[],f=[],h=[];switch(l(e,t)){case 0:return 0;case 1:if(o>=64)return n[0]=(e[0].x+e[t].x)/2,1;if(c(e,t))return n[0]=d(e,t),1}p(e,t,.5,s,a),r=u(s,t,f,o+1),i=u(a,t,h,o+1);for(var g=0;g<r;g++)n[g]=f[g];for(g=0;g<i;g++)n[g+r]=h[g];return r+i},l=function(e,t){var n,o,r=0;n=o=Math.sgn(e[0].y);for(var i=1;i<=t;i++)(n=Math.sgn(e[i].y))!=o&&r++,o=n;return r},c=function(e,t){var n,o,r,s,a,u,l,c,d,p,f;s=e[0].y-e[t].y,a=e[t].x-e[0].x,u=e[0].x*e[t].y-e[t].x*e[0].y;for(var h=max_distance_below=0,g=1;g<t;g++){var m=s*e[g].x+a*e[g].y+u;m>h?h=m:m<max_distance_below&&(max_distance_below=m)}return d=s,p=a,f=u-h,l=0*p-1*d,c=1/l,n=(1*f-0*p)*c,d=s,p=a,f=u-max_distance_below,l=0*p-1*d,c=1/l,o=(1*f-0*p)*c,r=Math.min(n,o),Math.max(n,o)-r<i?1:0},d=function(e,t){var n=e[t].x-e[0].x,o=e[t].y-e[0].y,r=e[0].x-0;return 0+(n*(e[0].y-0)-o*r)*(1/(0*n-1*o))*1},p=function(e,t,n,o,r){for(var i=[[]],s=0;s<=t;s++)i[0][s]=e[s];for(var a=1;a<=t;a++)for(s=0;s<=t-a;s++)i[a]||(i[a]=[]),i[a][s]||(i[a][s]={}),i[a][s].x=(1-n)*i[a-1][s].x+n*i[a-1][s+1].x,i[a][s].y=(1-n)*i[a-1][s].y+n*i[a-1][s+1].y;if(null!=o)for(s=0;s<=t;s++)o[s]=i[s][0];if(null!=r)for(s=0;s<=t;s++)r[s]=i[t-s][s];return i[t][0]},f={},h=function(e,t){for(var n=function(e){var t=f[e];if(!t){var n=function(e){return function(t){return e}},o=function(){return function(e){return e}},r=function(){return function(e){return 1-e}},i=function(e){return function(t){for(var n=1,o=0;o<e.length;o++)n*=e[o](t);return n}};(t=[]).push(new function(){return function(t){return Math.pow(t,e)}});for(var s=1;s<e;s++){for(var a=[new n(e)],u=0;u<e-s;u++)a.push(new o);for(u=0;u<s;u++)a.push(new r);t.push(new i(a))}t.push(new function(){return function(t){return Math.pow(1-t,e)}}),f[e]=t}return t}(e.length-1),o=0,r=0,i=0;i<e.length;i++)o+=e[i].x*n[i](t),r+=e[i].y*n[i](t);return{x:o,y:r}},g=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},m=function(e){return e[0].x==e[1].x&&e[0].y==e[1].y},v=function(e,t,n){if(m(e))return{point:e[0],location:t};for(var o=h(e,t),r=0,i=t,s=n>0?1:-1,a=null;r<Math.abs(n);)a=h(e,i+=.005*s),r+=g(a,o),o=a;return{point:a,location:i}},_=function(e,t){var n=h(e,t),o=h(e.slice(0,e.length-1),t),r=o.y-n.y,i=o.x-n.x;return 0==r?1/0:Math.atan(r/i)},y=this.jsBezier={distanceFromCurve:s,gradientAtPoint:_,gradientAtPointAlongCurveFrom:function(e,t,n){var o=v(e,t,n);return o.location>1&&(o.location=1),o.location<0&&(o.location=0),_(e,o.location)},nearestPointOnCurve:function(e,t){var n=s(e,t);return{point:p(t,t.length-1,n.location,null,null),location:n.location}},pointOnCurve:h,pointAlongCurveFrom:function(e,t,n){return v(e,t,n).point},perpendicularToCurveAt:function(e,t,n,o){var r=v(e,t,o=null==o?0:o),i=_(e,r.location),s=Math.atan(-1/i),a=n/2*Math.sin(s),u=n/2*Math.cos(s);return[{x:r.point.x+u,y:r.point.y+a},{x:r.point.x-u,y:r.point.y-a}]},locationAlongCurveFrom:function(e,t,n){return v(e,t,n).location},getLength:function(e){if(m(e))return 0;for(var t=h(e,0),n=0,o=0,r=null;o<1;)r=h(e,o+=.005),n+=g(r,t),t=r;return n},version:"0.9.0"};t.jsBezier=y}).call("undefined"!=typeof window?window:this),function(){"use strict";var e=this.Biltong={version:"0.4.0"};t.Biltong=e;var n=function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=function(e,t,o){return e=n(e)?e:[e.x,e.y],t=n(t)?t:[t.x,t.y],o(e,t)},r=e.gradient=function(e,t){return o(e,t,function(e,t){return t[0]==e[0]?t[1]>e[1]?1/0:-1/0:t[1]==e[1]?t[0]>e[0]?0:-0:(t[1]-e[1])/(t[0]-e[0])})},i=(e.normal=function(e,t){return-1/r(e,t)},e.lineLength=function(e,t){return o(e,t,function(e,t){return Math.sqrt(Math.pow(t[1]-e[1],2)+Math.pow(t[0]-e[0],2))})},e.quadrant=function(e,t){return o(e,t,function(e,t){return t[0]>e[0]?t[1]>e[1]?2:1:t[0]==e[0]?t[1]>e[1]?2:1:t[1]>e[1]?3:4})}),s=(e.theta=function(e,t){return o(e,t,function(e,t){var n=r(e,t),o=Math.atan(n),s=i(e,t);return 4!=s&&3!=s||(o+=Math.PI),o<0&&(o+=2*Math.PI),o})},e.intersects=function(e,t){var n=e.x,o=e.x+e.w,r=e.y,i=e.y+e.h,s=t.x,a=t.x+t.w,u=t.y,l=t.y+t.h;return n<=s&&s<=o&&r<=u&&u<=i||n<=a&&a<=o&&r<=u&&u<=i||n<=s&&s<=o&&r<=l&&l<=i||n<=a&&s<=o&&r<=l&&l<=i||s<=n&&n<=a&&u<=r&&r<=l||s<=o&&o<=a&&u<=r&&r<=l||s<=n&&n<=a&&u<=i&&i<=l||s<=o&&n<=a&&u<=i&&i<=l},e.encloses=function(e,t,n){var o=e.x,r=e.x+e.w,i=e.y,s=e.y+e.h,a=t.x,u=t.x+t.w,l=t.y,c=t.y+t.h,d=function(e,t,o,r){return n?e<=t&&o>=r:e<t&&o>r};return d(o,a,r,u)&&d(i,l,s,c)},[null,[1,-1],[1,1],[-1,1],[-1,-1]]),a=[null,[-1,-1],[-1,1],[1,1],[1,-1]];e.pointOnLine=function(e,t,n){var o=r(e,t),u=i(e,t),l=n>0?s[u]:a[u],c=Math.atan(o),d=Math.abs(n*Math.sin(c))*l[1],p=Math.abs(n*Math.cos(c))*l[0];return{x:e.x+p,y:e.y+d}},e.perpendicularLineTo=function(e,t,n){var o=r(e,t),i=Math.atan(-1/o),s=n/2*Math.sin(i),a=n/2*Math.cos(i);return[{x:t.x+a,y:t.y+s},{x:t.x-a,y:t.y-s}]}}.call("undefined"!=typeof window?window:this),function(){"use strict";var e=navigator.userAgent.toLowerCase().indexOf("android")>-1,n=function(e,t,n){for(var o=(n=n||e.parentNode).querySelectorAll(t),r=0;r<o.length;r++)if(o[r]===e)return!0;return!1},o=function(e){return"string"==typeof e||e.constructor===String?document.getElementById(e):e},r=function(e){return e.srcElement||e.target},i=function(e,t,n,o){if(o){if(void 0!==e.path&&e.path.indexOf)return{path:e.path,end:e.path.indexOf(n)};var r={path:[],end:-1},i=function(e){r.path.push(e),e===n?r.end=r.path.length-1:null!=e.parentNode&&i(e.parentNode)};return i(t),r}return{path:[t],end:1}},s=function(e,t){for(var n=0,o=e.length;n<o&&e[n]!=t;n++);n<e.length&&e.splice(n,1)},a=1,u=function(e,t,n){var o=a++;return e.__ta=e.__ta||{},e.__ta[t]=e.__ta[t]||{},e.__ta[t][o]=n,n.__tauid=o,o},l=function(e,t,o,s){if(null==e)return o;var a=e.split(","),u=function(s){u.__tauid=o.__tauid;var l=r(s),c=l,d=i(s,l,t,null!=e);if(-1!=d.end)for(var p=0;p<d.end;p++){c=d.path[p];for(var f=0;f<a.length;f++)n(c,a[f],t)&&o.apply(c,arguments)}};return c(o,s,u),u},c=function(e,t,n){e.__taExtra=e.__taExtra||[],e.__taExtra.push([t,n])},d=function(e,t,n,o){if(h&&m[t]){var r=l(o,e,n,m[t]);w(e,m[t],r,n)}"focus"===t&&null==e.getAttribute("tabindex")&&e.setAttribute("tabindex","1"),w(e,t,l(o,e,n,t),n)},p={tap:{touches:1,taps:1},dbltap:{touches:1,taps:2},contextmenu:{touches:2,taps:1}},f=function(e,t,n,o){for(var r in n.__tamee[e])n.__tamee[e].hasOwnProperty(r)&&n.__tamee[e][r].apply(o,[t])},h="ontouchstart"in document.documentElement,g="onmousedown"in document.documentElement,m={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},v=function(){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1))}return e}(),_=v>-1&&v<9,y=function(e,t){if(null==e)return[0,0];var n=C(e),o=E(n,0);return[o[t+"X"],o[t+"Y"]]},b=function(e){return null==e?[0,0]:_?[e.clientX+document.documentElement.scrollLeft,e.clientY+document.documentElement.scrollTop]:y(e,"page")},E=function(e,t){return e.item?e.item(t):e[t]},C=function(e){return e.touches&&e.touches.length>0?e.touches:e.changedTouches&&e.changedTouches.length>0?e.changedTouches:e.targetTouches&&e.targetTouches.length>0?e.targetTouches:[e]},w=function(e,t,n,o){if(u(e,t,n),o.__tauid=n.__tauid,e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent){var r=t+n.__tauid;e["e"+r]=n,e[r]=function(){e["e"+r]&&e["e"+r](window.event)},e.attachEvent("on"+t,e[r])}},x=function(e,t,n){null!=n&&O(e,function(){var r=o(this);if(function(e,t,n){if(e.__ta&&e.__ta[t]&&delete e.__ta[t][n.__tauid],n.__taExtra){for(var o=0;o<n.__taExtra.length;o++)x(e,n.__taExtra[o][0],n.__taExtra[o][1]);n.__taExtra.length=0}n.__taUnstore&&n.__taUnstore()}(r,t,n),null!=n.__tauid)if(r.removeEventListener)r.removeEventListener(t,n,!1),h&&m[t]&&r.removeEventListener(m[t],n,!1);else if(this.detachEvent){var i=t+n.__tauid;r[i]&&r.detachEvent("on"+t,r[i]),r[i]=null,r["e"+i]=null}n.__taTouchProxy&&x(e,n.__taTouchProxy[1],n.__taTouchProxy[0])})},O=function(e,t){if(null!=e){e="undefined"!=typeof Window&&"unknown"!=typeof e.top&&e==e.top?[e]:"string"!=typeof e&&null==e.tagName&&null!=e.length?e:"string"==typeof e?document.querySelectorAll(e):[e];for(var n=0;n<e.length;n++)t.apply(e[n])}};this.Mottle=function(t){var a=(t=t||{}).clickThreshold||250,c=t.dblClickThreshold||450,v=new function(){var e=[];return function(t,o,i,s){if(!t.__tamee){t.__tamee={over:!1,mouseenter:[],mouseexit:[]};var a=function(o){var i=r(o);(null==s&&i==t&&!t.__tamee.over||n(i,s,t)&&(null==i.__tamee||!i.__tamee.over))&&(f("mouseenter",o,t,i),i.__tamee=i.__tamee||{},i.__tamee.over=!0,e.push(i))},c=function(o){for(var i=r(o),s=0;s<e.length;s++)i!=e[s]||n(o.relatedTarget||o.toElement,"*",i)||(i.__tamee.over=!1,e.splice(s,1),f("mouseexit",o,t,i))};w(t,"mouseover",l(s,t,a,"mouseover"),a),w(t,"mouseout",l(s,t,c,"mouseout"),c)}i.__taUnstore=function(){delete t.__tamee[o][i.__tauid]},u(t,o,i),t.__tamee[o][i.__tauid]=i}},_=new function(e,t){return function(o,a,u,l){if("contextmenu"==a&&g)d(o,a,u,l);else{if(null==o.__taTapHandler){var c=o.__taTapHandler={tap:[],dbltap:[],contextmenu:[],down:!1,taps:0,downSelectors:[]},f=function(s){for(var a=r(s),u=i(s,a,o,null!=l),d=!1,p=0;p<u.end;p++){if(d)return;a=u.path[p];for(var f=0;f<c.downSelectors.length;f++)if(null==c.downSelectors[f]||n(a,c.downSelectors[f],o)){c.down=!0,setTimeout(m,e),setTimeout(v,t),d=!0;break}}},h=function(e){if(c.down){var t,s,a=r(e);c.taps++;var u=function(e){return C(e).length}(e);for(var l in p)if(p.hasOwnProperty(l)){var d=p[l];if(d.touches===u&&(1===d.taps||d.taps===c.taps))for(var f=0;f<c[l].length;f++){s=i(e,a,o,null!=c[l][f][1]);for(var h=0;h<s.end;h++)if(t=s.path[h],null==c[l][f][1]||n(t,c[l][f][1],o)){c[l][f][0].apply(t,[e]);break}}}}},m=function(){c.down=!1},v=function(){c.taps=0};d(o,"mousedown",f),d(o,"mouseup",h)}o.__taTapHandler.downSelectors.push(l),o.__taTapHandler[a].push([u,l]),u.__taUnstore=function(){s(o.__taTapHandler[a],u)}}}}(a,c),E=t.smartClicks;this.remove=function(e){return O(e,function(){var e=o(this);if(e.__ta)for(var t in e.__ta)if(e.__ta.hasOwnProperty(t))for(var n in e.__ta[t])e.__ta[t].hasOwnProperty(n)&&x(e,t,e.__ta[t][n]);e.parentNode&&e.parentNode.removeChild(e)}),this},this.on=function(e,t,n,i){var a=arguments[0],u=4==arguments.length?arguments[2]:null;return function(e,t,n,i){null!=n&&O(e,function(){var e=o(this);E&&"click"===t?function(e,t,n,o){if(null==e.__taSmartClicks){var i=function(t){e.__tad=b(t)},a=function(t){e.__tau=b(t)},u=function(t){if(e.__tad&&e.__tau&&e.__tad[0]===e.__tau[0]&&e.__tad[1]===e.__tau[1])for(var n=0;n<e.__taSmartClicks.length;n++)e.__taSmartClicks[n].apply(r(t),[t])};d(e,"mousedown",i,o),d(e,"mouseup",a,o),d(e,"click",u,o),e.__taSmartClicks=[]}e.__taSmartClicks.push(n),n.__taUnstore=function(){s(e.__taSmartClicks,n)}}(e,0,n,i):"tap"===t||"dbltap"===t||"contextmenu"===t?_(e,t,n,i):"mouseenter"===t||"mouseexit"==t?v(e,t,n,i):d(e,t,n,i)})}(a,arguments[1],arguments[arguments.length-1],u),this},this.off=function(e,t,n){return x(e,t,n),this},this.trigger=function(t,n,r,i){var s=g&&("undefined"==typeof MouseEvent||null==r||r.constructor===MouseEvent),a=h&&!g&&m[n]?m[n]:n,u=!(h&&!g&&m[n]),l=b(r),c=y(r,"screen"),d=y(r,"client");return O(t,function(){var t,p=o(this);r=r||{screenX:c[0],screenY:c[1],clientX:d[0],clientY:d[1]};var f=function(e){i&&(e.payload=i)},g={TouchEvent:function(e){var t=document.createTouch(window,p,0,l[0],l[1],c[0],c[1],d[0],d[1],0,0,0,0),n=document.createTouchList(t),o=document.createTouchList(t),r=document.createTouchList(t);e.initTouchEvent(a,!0,!0,window,null,c[0],c[1],d[0],d[1],!1,!1,!1,!1,n,o,r,1,0)},MouseEvents:function(t){if(t.initMouseEvent(a,!0,!0,window,0,c[0],c[1],d[0],d[1],!1,!1,!1,!1,1,p),e){var n=document.createTouch(window,p,0,l[0],l[1],c[0],c[1],d[0],d[1],0,0,0,0);t.touches=t.targetTouches=t.changedTouches=document.createTouchList(n)}}};if(document.createEvent){var v=u||s||!h||!m[n]||e?"MouseEvents":"TouchEvent";t=document.createEvent(v),g[v](t),f(t),p.dispatchEvent(t)}else document.createEventObject&&((t=document.createEventObject()).eventType=t.eventName=a,t.screenX=c[0],t.screenY=c[1],t.clientX=d[0],t.clientY=d[1],f(t),p.fireEvent("on"+a,t))}),this}},this.Mottle.consume=function(e,t){e.stopPropagation?e.stopPropagation():e.returnValue=!1,!t&&e.preventDefault&&e.preventDefault()},this.Mottle.pageLocation=b,this.Mottle.setForceTouchEvents=function(e){h=e},this.Mottle.setForceMouseEvents=function(e){g=e},this.Mottle.version="0.8.0",t.Mottle=this.Mottle}.call("undefined"==typeof window?this:window),function(){"use strict";var e=function(e,t,n){return-1===e.indexOf(t)&&(n?e.unshift(t):e.push(t),!0)},n=function(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)},o=function(e){return null!=e&&("string"==typeof e||e.constructor===String)},r=function(e,t,n){for(var o=(n=n||e.parentNode).querySelectorAll(t),r=0;r<o.length;r++)if(o[r]===e)return!0;return!1},i=function(){var e=-1;if("Microsoft Internet Explorer"===navigator.appName){var t=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1))}return e}(),s=i>-1&&i<9,a=9===i,u=function(e){if(s)return[e.clientX+document.documentElement.scrollLeft,e.clientY+document.documentElement.scrollTop];var t=c(e),n=l(t,0);return a?[n.pageX||n.clientX,n.pageY||n.clientY]:[n.pageX,n.pageY]},l=function(e,t){return e.item?e.item(t):e[t]},c=function(e){return e.touches&&e.touches.length>0?e.touches:e.changedTouches&&e.changedTouches.length>0?e.changedTouches:e.targetTouches&&e.targetTouches.length>0?e.targetTouches:[e]},d={draggable:"katavorio-draggable",droppable:"katavorio-droppable",drag:"katavorio-drag",selected:"katavorio-drag-selected",active:"katavorio-drag-active",hover:"katavorio-drag-hover",noSelect:"katavorio-drag-no-select",ghostProxy:"katavorio-ghost-proxy",clonedDrag:"katavorio-clone-drag"},p=["stop","start","drag","drop","over","out","beforeStart"],f=function(){},h=function(e,t,n){for(var o=0;o<e.length;o++)e[o]!=n&&t(e[o])},g=function(e,t,n,o){h(e,function(e){e.setActive(t),t&&e.updatePosition(),n&&e.setHover(o,t)})},m=function(e,t){if(null!=e){e=o(e)||null!=e.tagName||null==e.length?[e]:e;for(var n=0;n<e.length;n++)t.apply(e[n],[e[n]])}},v=function(e){e.stopPropagation?(e.stopPropagation(),e.preventDefault()):e.returnValue=!1},_=function(e,t,n,o){this.params=t||{},this.el=e,this.params.addClass(this.el,this._class),this.uuid=w();var r=!0;return this.setEnabled=function(e){r=e},this.isEnabled=function(){return r},this.toggleEnabled=function(){r=!r},this.setScope=function(e){this.scopes=e?e.split(/\s+/):[o]},this.addScope=function(e){var t={};m(this.scopes,function(e){t[e]=!0}),m(e?e.split(/\s+/):[],function(e){t[e]=!0}),this.scopes=[];for(var n in t)this.scopes.push(n)},this.removeScope=function(e){var t={};m(this.scopes,function(e){t[e]=!0}),m(e?e.split(/\s+/):[],function(e){delete t[e]}),this.scopes=[];for(var n in t)this.scopes.push(n)},this.toggleScope=function(e){var t={};m(this.scopes,function(e){t[e]=!0}),m(e?e.split(/\s+/):[],function(e){t[e]?delete t[e]:t[e]=!0}),this.scopes=[];for(var n in t)this.scopes.push(n)},this.setScope(t.scope),this.k=t.katavorio,t.katavorio},y=function(){return!0},b=function(){return!1},E=function(e,t,n,i){this._class=n.draggable;var s=_.apply(this,arguments);this.rightButtonCanDrag=this.params.rightButtonCanDrag;var a=[0,0],l=null,c=null,p=[0,0],f=!1,h=!1!==this.params.consumeStartEvent,m=this.el,E=this.params.clone,C=(this.params.scroll,!1!==t.multipleDrop),O=!1,S=!0===t.ghostProxy?y:t.ghostProxy&&"function"==typeof t.ghostProxy?t.ghostProxy:b,A=t.snapThreshold,T=function(e,t,n,o,r){var i=t*Math.floor(e[0]/t),s=i+t,a=Math.abs(e[0]-i)<=o?i:Math.abs(s-e[0])<=o?s:e[0],u=n*Math.floor(e[1]/n),l=u+n;return[a,Math.abs(e[1]-u)<=r?u:Math.abs(l-e[1])<=r?l:e[1]]};this.posses=[],this.posseRoles={},this.toGrid=function(e){if(null==this.params.grid)return e;var t=this.params.grid?this.params.grid[0]/2:A||5,n=this.params.grid?this.params.grid[1]/2:A||5;return T(e,this.params.grid[0],this.params.grid[1],t,n)},this.snap=function(e,t){if(null!=m){e=e||(this.params.grid?this.params.grid[0]:10),t=t||(this.params.grid?this.params.grid[1]:10);var n=this.params.getPosition(m),o=this.params.grid?this.params.grid[0]/2:A,r=this.params.grid?this.params.grid[1]/2:A;this.params.setPosition(m,T(n,e,t,o,r))}},this.setUseGhostProxy=function(e){S=e?y:b};var P,D=function(e){return!1===t.allowNegative?[Math.max(0,e[0]),Math.max(0,e[1])]:e},k=function(e){P="function"==typeof e?e:e?function(e){return D([Math.max(0,Math.min(I.w-this.size[0],e[0])),Math.max(0,Math.min(I.h-this.size[1],e[1]))])}.bind(this):function(e){return D(e)}}.bind(this);k("function"==typeof this.params.constrain?this.params.constrain:this.params.constrain||this.params.containment),this.setConstrain=function(e){k(e)};var N;this.setRevert=function(e){N=e};var R={},j=this.setFilter=function(t,n){if(t){var i=function(e){return"function"==typeof e?(e._katavorioId=w(),e._katavorioId):e}(t);R[i]=[function(n){var i,s=n.srcElement||n.target;return o(t)?i=r(s,t,e):"function"==typeof t&&(i=t(n,e)),i},!1!==n]}};this.addFilter=j,this.removeFilter=function(e){var t="function"==typeof e?e._katavorioId:e;delete R[t]},this.clearAllFilters=function(){R={}},this.canDrag=this.params.canDrag||function(){return!0};var I,M=[],L=[];this.downListener=function(e){if((this.rightButtonCanDrag||3!==e.which&&2!==e.button)&&this.isEnabled()&&this.canDrag())if(function(e){for(var t in R){var n=R[t],o=n[0](e);if(n[1]&&(o=!o),!o)return!1}return!0}(e)&&function(e,t,n){var o=e.srcElement||e.target;return!r(o,n.getInputFilterSelector(),t)}(e,this.el,this.k)){if(E){(m=this.el.cloneNode(!0)).setAttribute("id",null),m.style.position="absolute";var t=function(e){var t=e.getBoundingClientRect(),n=document.body,o=document.documentElement,r=window.pageYOffset||o.scrollTop||n.scrollTop,i=window.pageXOffset||o.scrollLeft||n.scrollLeft,s=o.clientTop||n.clientTop||0,a=o.clientLeft||n.clientLeft||0,u=t.top+r-s,l=t.left+i-a;return{top:Math.round(u),left:Math.round(l)}}(this.el);m.style.left=t.left+"px",m.style.top=t.top+"px",this.params.addClass(m,d.clonedDrag),document.body.appendChild(m)}else m=this.el;h&&v(e),a=u(e),this.params.bind(document,"mousemove",this.moveListener),this.params.bind(document,"mouseup",this.upListener),s.markSelection(this),s.markPosses(this),this.params.addClass(document.body,n.noSelect),U("beforeStart",{el:this.el,pos:l,e:e,drag:this})}else this.params.consumeFilteredEvents&&v(e)}.bind(this),this.moveListener=function(e){if(a){if(!f)if(!1!==U("start",{el:this.el,pos:l,e:e,drag:this})){if(!a)return;this.mark(!0),f=!0}else this.abort();if(a){L.length=0;var t=u(e),n=t[0]-a[0],o=t[1]-a[1],r=this.params.ignoreZoom?1:s.getZoom();n/=r,o/=r,this.moveBy(n,o,e),s.updateSelection(n,o,this),s.updatePosses(n,o,this)}}}.bind(this),this.upListener=function(e){a&&(a=null,this.params.unbind(document,"mousemove",this.moveListener),this.params.unbind(document,"mouseup",this.upListener),this.params.removeClass(document.body,n.noSelect),this.unmark(e),s.unmarkSelection(this,e),s.unmarkPosses(this,e),this.stop(e),s.notifySelectionDragStop(this,e),s.notifyPosseDragStop(this,e),f=!1,E&&(m&&m.parentNode&&m.parentNode.removeChild(m),m=null),L.length=0,N&&!0===N(this.el,this.params.getPosition(this.el))&&(this.params.setPosition(this.el,l),U("revert",this.el)))}.bind(this),this.getFilters=function(){return R},this.abort=function(){null!=a&&this.upListener()},this.getDragElement=function(){return m||this.el};var F={start:[],drag:[],stop:[],over:[],out:[],beforeStart:[],revert:[]};t.events.start&&F.start.push(t.events.start),t.events.beforeStart&&F.beforeStart.push(t.events.beforeStart),t.events.stop&&F.stop.push(t.events.stop),t.events.drag&&F.drag.push(t.events.drag),t.events.revert&&F.revert.push(t.events.revert),this.on=function(e,t){F[e]&&F[e].push(t)},this.off=function(e,t){if(F[e]){for(var n=[],o=0;o<F[e].length;o++)F[e][o]!==t&&n.push(F[e][o]);F[e]=n}};var U=function(e,t){var n=null;if(F[e])for(var o=0;o<F[e].length;o++)try{var r=F[e][o](t);null!=r&&(n=r)}catch(e){}return n};this.notifyStart=function(e){U("start",{el:this.el,pos:this.params.getPosition(m),e:e,drag:this})},this.stop=function(e,t){if(t||f){var n=[],o=s.getSelection(),r=this.params.getPosition(m);if(o.length>1)for(var i=0;i<o.length;i++){var a=this.params.getPosition(o[i].el);n.push([o[i].el,{left:a[0],top:a[1]},o[i]])}else n.push([m,{left:r[0],top:r[1]},this]);U("stop",{el:m,pos:H||r,finalPos:r,e:e,drag:this,selection:n})}},this.mark=function(e){l=this.params.getPosition(m),c=this.params.getPosition(m,!0),p=[c[0]-l[0],c[1]-l[1]],this.size=this.params.getSize(m),M=s.getMatchingDroppables(this),g(M,!0,!1,this),this.params.addClass(m,this.params.dragClass||n.drag);var t;t=this.params.getConstrainingRectangle?this.params.getConstrainingRectangle(m):this.params.getSize(m.parentNode),I={w:t[0],h:t[1]},e&&s.notifySelectionDragStart(this)};var H;this.unmark=function(e,o){if(g(M,!1,!0,this),O&&S(this.el)?(H=[m.offsetLeft,m.offsetTop],this.el.parentNode.removeChild(m),m=this.el):H=null,this.params.removeClass(m,this.params.dragClass||n.drag),M.length=0,O=!1,!o){L.length>0&&H&&t.setPosition(this.el,H),L.sort(x);for(var r=0;r<L.length&&!0!==L[r].drop(this,e);r++);}},this.moveBy=function(e,n,o){L.length=0;var r=this.toGrid([l[0]+e,l[1]+n]),i=P(r,m);if(S(this.el))if(r[0]!==i[0]||r[1]!==i[1]){if(!O){var s=function(e){return e.cloneNode(!0)}(this.el);t.addClass(s,d.ghostProxy),this.el.parentNode.appendChild(s),m=s,O=!0}i=r}else O&&(this.el.parentNode.removeChild(m),m=this.el,O=!1);var a={x:i[0],y:i[1],w:this.size[0],h:this.size[1]},u={x:a.x+p[0],y:a.y+p[1],w:a.w,h:a.h},c=null;this.params.setPosition(m,i);for(var f=0;f<M.length;f++){var h={x:M[f].pagePosition[0],y:M[f].pagePosition[1],w:M[f].size[0],h:M[f].size[1]};this.params.intersects(u,h)&&(C||null==c||c===M[f].el)&&M[f].canDrop(this)?(c||(c=M[f].el),L.push(M[f]),M[f].setHover(this,!0,o)):M[f].isHover()&&M[f].setHover(this,!1,o)}U("drag",{el:this.el,pos:i,e:o,drag:this})},this.destroy=function(){this.params.unbind(this.el,"mousedown",this.downListener),this.params.unbind(document,"mousemove",this.moveListener),this.params.unbind(document,"mouseup",this.upListener),this.downListener=null,this.upListener=null,this.moveListener=null},this.params.bind(this.el,"mousedown",this.downListener),this.params.handle?j(this.params.handle,!1):j(this.params.filter,this.params.filterExclude)},C=function(e,t,n,o){this._class=n.droppable,this.params=t||{},this.rank=t.rank||0,this._activeClass=this.params.activeClass||n.active,this._hoverClass=this.params.hoverClass||n.hover,_.apply(this,arguments);var r=!1;this.allowLoopback=!1!==this.params.allowLoopback,this.setActive=function(e){this.params[e?"addClass":"removeClass"](this.el,this._activeClass)},this.updatePosition=function(){this.position=this.params.getPosition(this.el),this.pagePosition=this.params.getPosition(this.el,!0),this.size=this.params.getSize(this.el)},this.canDrop=this.params.canDrop||function(e){return!0},this.isHover=function(){return r},this.setHover=function(e,t,n){(t||null==this.el._katavorioDragHover||this.el._katavorioDragHover===e.el._katavorio)&&(this.params[t?"addClass":"removeClass"](this.el,this._hoverClass),this.el._katavorioDragHover=t?e.el._katavorio:null,r!==t&&this.params.events[t?"over":"out"]({el:this.el,e:n,drag:e,drop:this}),r=t)},this.drop=function(e,t){return this.params.events.drop({drag:e,e:t,drop:this})},this.destroy=function(){this._class=null,this._activeClass=null,this._hoverClass=null,r=null}},w=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},x=function(e,t){return e.rank<t.rank?1:e.rank>t.rank?-1:0},O=function(e){return null==e?null:null==(e="string"==typeof e||e.constructor===String?document.getElementById(e):e)?null:(e._katavorio=e._katavorio||w(),e)};this.Katavorio=function(t){var r=[],i={};this._dragsByScope={},this._dropsByScope={};var s=1,a=function(e,t){m(e,function(e){for(var n=0;n<e.scopes.length;n++)t[e.scopes[n]]=t[e.scopes[n]]||[],t[e.scopes[n]].push(e)})},u=function(e,n){var o=0;return m(e,function(e){for(var r=0;r<e.scopes.length;r++)if(n[e.scopes[r]]){var i=t.indexOf(n[e.scopes[r]],e);-1!==i&&(n[e.scopes[r]].splice(i,1),o++)}}),o>0},l=(this.getMatchingDroppables=function(e){for(var t=[],n={},o=0;o<e.scopes.length;o++){var r=this._dropsByScope[e.scopes[o]];if(r)for(var i=0;i<r.length;i++)!r[i].canDrop(e)||n[r[i].uuid]||!r[i].allowLoopback&&r[i].el===e.el||(n[r[i].uuid]=!0,t.push(r[i]))}return t.sort(x),t},function(e){e=e||{};var n,o={events:{}};for(n in t)o[n]=t[n];for(n in e)o[n]=e[n];for(n=0;n<p.length;n++)o.events[p[n]]=e[p[n]]||f;return o.katavorio=this,o}.bind(this)),c=function(e,t){for(var n=0;n<p.length;n++)t[p[n]]&&e.on(p[n],t[p[n]])}.bind(this),g={},v=t.css||{},_=t.scope||"katavorio-drag-scope";for(var y in d)g[y]=d[y];for(var y in v)g[y]=v[y];var b=t.inputFilterSelector||"input,textarea,select,button,option";this.getInputFilterSelector=function(){return b},this.setInputFilterSelector=function(e){return b=e,this},this.draggable=function(e,n){var o=[];return m(e,function(e){if(null!=(e=O(e)))if(null==e._katavorioDrag){var r=l(n);e._katavorioDrag=new E(e,r,g,_),a(e._katavorioDrag,this._dragsByScope),o.push(e._katavorioDrag),t.addClass(e,g.draggable)}else c(e._katavorioDrag,n)}.bind(this)),o},this.droppable=function(e,n){var o=[];return m(e,function(e){if(null!=(e=O(e))){var r=new C(e,l(n),g,_);e._katavorioDrop=e._katavorioDrop||[],e._katavorioDrop.push(r),a(r,this._dropsByScope),o.push(r),t.addClass(e,g.droppable)}}.bind(this)),o},this.select=function(e){return m(e,function(){var e=O(this);e&&e._katavorioDrag&&(i[e._katavorio]||(r.push(e._katavorioDrag),i[e._katavorio]=[e,r.length-1],t.addClass(e,g.selected)))}),this},this.deselect=function(e){return m(e,function(){var e=O(this);if(e&&e._katavorio&&i[e._katavorio]){for(var n=[],o=0;o<r.length;o++)r[o].el!==e&&n.push(r[o]);r=n,delete i[e._katavorio],t.removeClass(e,g.selected)}}),this},this.deselectAll=function(){for(var e in i){var n=i[e];t.removeClass(n[0],g.selected)}r.length=0,i={}},this.markSelection=function(e){h(r,function(e){e.mark()},e)},this.markPosses=function(e){e.posses&&m(e.posses,function(t){e.posseRoles[t]&&T[t]&&h(T[t].members,function(e){e.mark()},e)})},this.unmarkSelection=function(e,t){h(r,function(e){e.unmark(t)},e)},this.unmarkPosses=function(e,t){e.posses&&m(e.posses,function(n){e.posseRoles[n]&&T[n]&&h(T[n].members,function(e){e.unmark(t,!0)},e)})},this.getSelection=function(){return r.slice(0)},this.updateSelection=function(e,t,n){h(r,function(n){n.moveBy(e,t)},n)};var w=function(e,t){t.posses&&m(t.posses,function(n){t.posseRoles[n]&&T[n]&&h(T[n].members,function(t){e(t)},t)})};this.updatePosses=function(e,t,n){w(function(n){n.moveBy(e,t)},n)},this.notifyPosseDragStop=function(e,t){w(function(e){e.stop(t,!0)},e)},this.notifySelectionDragStop=function(e,t){h(r,function(e){e.stop(t,!0)},e)},this.notifySelectionDragStart=function(e,t){h(r,function(e){e.notifyStart(t)},e)},this.setZoom=function(e){s=e},this.getZoom=function(){return s};var S=function(e,t,n,o){m(e,function(e){u(e,n),e[o](t),a(e,n)})};m(["set","add","remove","toggle"],function(e){this[e+"Scope"]=function(t,n){S(t._katavorioDrag,n,this._dragsByScope,e+"Scope"),S(t._katavorioDrop,n,this._dropsByScope,e+"Scope")}.bind(this),this[e+"DragScope"]=function(t,n){S(t.constructor===E?t:t._katavorioDrag,n,this._dragsByScope,e+"Scope")}.bind(this),this[e+"DropScope"]=function(t,n){S(t.constructor===C?t:t._katavorioDrop,n,this._dropsByScope,e+"Scope")}.bind(this)}.bind(this)),this.snapToGrid=function(e,t){for(var n in this._dragsByScope)h(this._dragsByScope[n],function(n){n.snap(e,t)})},this.getDragsForScope=function(e){return this._dragsByScope[e]},this.getDropsForScope=function(e){return this._dropsByScope[e]};var A=function(e,t,n){if((e=O(e))[t]){var o=r.indexOf(e[t]);o>=0&&r.splice(o,1),u(e[t],n)&&m(e[t],function(e){e.destroy()}),delete e[t]}};this.elementRemoved=function(e){this.destroyDraggable(e),this.destroyDroppable(e)},this.destroyDraggable=function(e){A(e,"_katavorioDrag",this._dragsByScope)},this.destroyDroppable=function(e){A(e,"_katavorioDrop",this._dropsByScope)},this.reset=function(){this._dragsByScope={},this._dropsByScope={},r=[],i={},T={}};var T={},P=function(t,n,r){var i=o(n)?n:n.id,s=!!o(n)||!1!==n.active,a=T[i]||function(){var e={name:i,members:[]};return T[i]=e,e}();return m(t,function(t){if(t._katavorioDrag){if(r&&null!=t._katavorioDrag.posseRoles[a.name])return;e(a.members,t._katavorioDrag),e(t._katavorioDrag.posses,a.name),t._katavorioDrag.posseRoles[a.name]=s}}),a};this.addToPosse=function(e,t){for(var n=[],o=1;o<arguments.length;o++)n.push(P(e,arguments[o]));return 1===n.length?n[0]:n},this.setPosse=function(e,t){for(var n=[],o=1;o<arguments.length;o++)n.push(P(e,arguments[o],!0).name);return m(e,function(e){if(e._katavorioDrag){var t=function(e,t){for(var n=[],o=0;o<e.length;o++)-1===t.indexOf(e[o])&&n.push(e[o]);return n}(e._katavorioDrag.posses,n),o=[];Array.prototype.push.apply(o,e._katavorioDrag.posses);for(var r=0;r<t.length;r++)this.removeFromPosse(e,t[r])}}.bind(this)),1===n.length?n[0]:n},this.removeFromPosse=function(e,t){if(arguments.length<2)throw new TypeError("No posse id provided for remove operation");for(var o=1;o<arguments.length;o++)t=arguments[o],m(e,function(e){if(e._katavorioDrag&&e._katavorioDrag.posses){var o=e._katavorioDrag;m(t,function(e){n(T[e].members,o),n(o.posses,e),delete o.posseRoles[e]})}})},this.removeFromAllPosses=function(e){m(e,function(e){if(e._katavorioDrag&&e._katavorioDrag.posses){var t=e._katavorioDrag;m(t.posses,function(e){n(T[e].members,t)}),t.posses.length=0,t.posseRoles={}}})},this.setPosseState=function(e,t,n){var o=T[t];o&&m(e,function(e){e._katavorioDrag&&e._katavorioDrag.posses&&(e._katavorioDrag.posseRoles[o.name]=n)})}},this.Katavorio.version="0.23.0",t.Katavorio=this.Katavorio}.call("undefined"!=typeof window?window:this),function(){var e=function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=function(e){return"string"==typeof e},o=function(e){return"boolean"==typeof e},r=function(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)},i=function(e){return"[object Date]"===Object.prototype.toString.call(e)},s=function(e){return"[object Function]"===Object.prototype.toString.call(e)},a=this;a.jsPlumbUtil={isArray:e,isString:n,isBoolean:o,isNull:function(e){return null==e},isObject:r,isDate:i,isFunction:s,isEmpty:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},isNumber:function(e){return"[object Number]"===Object.prototype.toString.call(e)},clone:function(t){if(n(t))return""+t;if(o(t))return!!t;if(i(t))return new Date(t.getTime());if(s(t))return t;if(e(t)){for(var a=[],u=0;u<t.length;u++)a.push(this.clone(t[u]));return a}if(r(t)){var l={};for(var c in t)l[c]=this.clone(t[c]);return l}return t},merge:function(t,i,s){var a,u,l={};for(s=s||[],u=0;u<s.length;u++)l[s[u]]=!0;var c=this.clone(t);for(u in i)if(null==c[u])c[u]=i[u];else if(n(i[u])||o(i[u]))l[u]?((a=[]).push.apply(a,e(c[u])?c[u]:[c[u]]),a.push.apply(a,e(i[u])?i[u]:[i[u]]),c[u]=a):c[u]=i[u];else if(e(i[u]))a=[],e(c[u])&&a.push.apply(a,c[u]),a.push.apply(a,i[u]),c[u]=a;else if(r(i[u])){r(c[u])||(c[u]={});for(var d in i[u])c[u][d]=i[u][d]}return c},replace:function(e,t,n){if(null!=e){var o=e;return t.replace(/([^\.])+/g,function(e,t,r,i){var s=e.match(/([^\[0-9]+){1}(\[)([0-9+])/),a=function(){return o[s[1]]||(o[s[1]]=[],o[s[1]])};if(r+e.length>=i.length)s?a()[s[3]]=n:o[e]=n;else if(s){var u=a();o=u[s[3]]||(u[s[3]]={},u[s[3]])}else o=o[e]||(o[e]={},o[e])}),e}},functionChain:function(e,t,n){for(var o=0;o<n.length;o++){var r=n[o][0][n[o][1]].apply(n[o][0],n[o][2]);if(r===t)return r}return e},populate:function(t,o,i){var a=function(t){if(null!=t){if(n(t))return function(e){var t=e.match(/(\${.*?})/g);if(null!=t)for(var n=0;n<t.length;n++){var r=o[t[n].substring(2,t[n].length-1)]||"";null!=r&&(e=e.replace(t[n],r))}return e}(t);if(!s(t)||null!=i&&0!==(t.name||"").indexOf(i)){if(e(t)){for(var u=[],l=0;l<t.length;l++)u.push(a(t[l]));return u}if(r(t)){var c={};for(var d in t)c[d]=a(t[d]);return c}return t}return t(o)}};return a(t)},findWithFunction:function(e,t){if(e)for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1},removeWithFunction:function(e,t){var n=a.jsPlumbUtil.findWithFunction(e,t);return n>-1&&e.splice(n,1),-1!==n},remove:function(e,t){var n=e.indexOf(t);return n>-1&&e.splice(n,1),-1!==n},addWithFunction:function(e,t,n){-1===a.jsPlumbUtil.findWithFunction(e,n)&&e.push(t)},addToList:function(e,t,n,o){var r=e[t];return null==r&&(r=[],e[t]=r),r[o?"unshift":"push"](n),r},suggest:function(e,t,n){return-1===e.indexOf(t)&&(n?e.unshift(t):e.push(t),!0)},extend:function(t,n,o){var r;for(n=e(n)?n:[n],r=0;r<n.length;r++)for(var i in n[r].prototype)n[r].prototype.hasOwnProperty(i)&&(t.prototype[i]=n[r].prototype[i]);var s=function(e,t){return function(){for(r=0;r<n.length;r++)n[r].prototype[e]&&n[r].prototype[e].apply(this,arguments);return t.apply(this,arguments)}},a=function(e){for(var n in e)t.prototype[n]=s(n,e[n])};if(arguments.length>2)for(r=2;r<arguments.length;r++)a(arguments[r]);return t},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},logEnabled:!0,log:function(){if(a.jsPlumbUtil.logEnabled&&"undefined"!=typeof console)try{var e=arguments[arguments.length-1];console.log(e)}catch(e){}},wrap:function(e,t,n){return function(){var o=null;try{null!=t&&(o=t.apply(this,arguments))}catch(e){a.jsPlumbUtil.log("jsPlumb function failed : "+e)}if(null!=e&&(null==n||o!==n))try{o=e.apply(this,arguments)}catch(e){a.jsPlumbUtil.log("wrapped function failed : "+e)}return o}}},a.jsPlumbUtil.EventGenerator=function(){var e={},t=!1,n=!1,o={ready:!0},r=[];this.bind=function(t,n,o){var r=function(t){a.jsPlumbUtil.addToList(e,t,n,o),n.__jsPlumb=n.__jsPlumb||{},n.__jsPlumb[a.jsPlumbUtil.uuid()]=t};if("string"==typeof t)r(t);else if(null!=t.length)for(var i=0;i<t.length;i++)r(t[i]);return this},this.fire=function(s,u,l){if(n)r.unshift(arguments);else{if(n=!0,!t&&e[s]){var c=e[s].length,d=0,p=!1,f=null;if(!this.shouldFireEvent||this.shouldFireEvent(s,u,l))for(;!p&&d<c&&!1!==f;){if(o[s])e[s][d].apply(this,[u,l]);else try{f=e[s][d].apply(this,[u,l])}catch(e){a.jsPlumbUtil.log("jsPlumb: fire failed for event "+s+" : "+e)}d++,null!=e&&null!=e[s]||(p=!0)}}n=!1,i()}return this};var i=function(){var e=r.pop();e&&this.fire.apply(this,e)}.bind(this);this.unbind=function(t,n){if(0===arguments.length)e={};else if(1===arguments.length){if("string"==typeof t)delete e[t];else if(t.__jsPlumb){var o;for(var r in t.__jsPlumb)o=t.__jsPlumb[r],a.jsPlumbUtil.remove(e[o]||[],t)}}else 2===arguments.length&&a.jsPlumbUtil.remove(e[t]||[],n);return this},this.getListener=function(t){return e[t]},this.setSuspendEvents=function(e){t=e},this.isSuspendEvents=function(){return t},this.silently=function(e){this.setSuspendEvents(!0);try{e()}catch(e){a.jsPlumbUtil.log("Cannot execute silent function "+e)}this.setSuspendEvents(!1)},this.cleanupListeners=function(){for(var t in e)e[t]=null}},a.jsPlumbUtil.EventGenerator.prototype={cleanup:function(){this.cleanupListeners()}},t.jsPlumbUtil=a.jsPlumbUtil}.call("undefined"!=typeof window?window:this),function(){"use strict";this.jsPlumbUtil.matchesSelector=function(e,t,n){for(var o=(n=n||e.parentNode).querySelectorAll(t),r=0;r<o.length;r++)if(o[r]===e)return!0;return!1},this.jsPlumbUtil.consume=function(e,t){e.stopPropagation?e.stopPropagation():e.returnValue=!1,!t&&e.preventDefault&&e.preventDefault()},this.jsPlumbUtil.sizeElement=function(e,t,n,o,r){e&&(e.style.height=r+"px",e.height=r,e.style.width=o+"px",e.width=o,e.style.left=t+"px",e.style.top=n+"px")}}.call("undefined"!=typeof window?window:this),function(){"use strict";var e=this,n=e.jsPlumbUtil,o=function(){return""+(new Date).getTime()},r=function(e){if(e._jsPlumb.paintStyle&&e._jsPlumb.hoverPaintStyle){var t={};h.extend(t,e._jsPlumb.paintStyle),h.extend(t,e._jsPlumb.hoverPaintStyle),delete e._jsPlumb.hoverPaintStyle,t.gradient&&e._jsPlumb.paintStyle.fill&&delete t.gradient,e._jsPlumb.hoverPaintStyle=t}},i=["tap","dbltap","click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","contextmenu"],s=function(e){return null==e?null:e.split(" ")},a=function(e,t,n){for(var o in t)e[o]=n},u=function(e,t){t=n.isArray(t)||null!=t.length&&!n.isString(t)?t:[t];for(var o=0;o<t.length;o++)try{e.apply(t[o],[t[o]])}catch(e){n.log(".each iteration failed : "+e)}},l=function(e,t,o){if(e.getDefaultType){var r=e.getTypeDescriptor(),i={},s=e.getDefaultType(),u=n.merge({},s);a(i,s,"__default");for(var l=0,c=e._jsPlumb.types.length;l<c;l++){var d=e._jsPlumb.types[l];if("__default"!==d){var p=e._jsPlumb.instance.getType(d,r);null!=p&&(u=n.merge(u,p,["cssClass"]),a(i,p,d))}}t&&(u=n.populate(u,t,"_")),e.applyType(u,o,i),o||e.repaint()}},c=e.jsPlumbUIComponent=function(e){n.EventGenerator.apply(this,arguments);var t=arguments,o=this.idPrefix+(new Date).getTime();this._jsPlumb={instance:e._jsPlumb,parameters:e.parameters||{},paintStyle:null,hoverPaintStyle:null,paintStyleInUse:null,hover:!1,beforeDetach:e.beforeDetach,beforeDrop:e.beforeDrop,overlayPlacements:[],hoverClass:e.hoverClass||e._jsPlumb.Defaults.HoverClass,types:[],typeCache:{}},this.cacheTypeItem=function(e,t,n){this._jsPlumb.typeCache[n]=this._jsPlumb.typeCache[n]||{},this._jsPlumb.typeCache[n][e]=t},this.getCachedTypeItem=function(e,t){return this._jsPlumb.typeCache[t]?this._jsPlumb.typeCache[t][e]:null},this.getId=function(){return o};var r=e.overlays||[],i={};if(this.defaultOverlayKeys){for(var s=0;s<this.defaultOverlayKeys.length;s++)Array.prototype.push.apply(r,this._jsPlumb.instance.Defaults[this.defaultOverlayKeys[s]]||[]);for(s=0;s<r.length;s++){var a=h.convertToFullOverlaySpec(r[s]);i[a[1].id]=a}}var u={overlays:i,parameters:e.parameters||{},scope:e.scope||this._jsPlumb.instance.getDefaultScope()};if(this.getDefaultType=function(){return u},this.appendToDefaultType=function(e){for(var t in e)u[t]=e[t]},e.events)for(var l in e.events)this.bind(l,e.events[l]);this.clone=function(){var e=Object.create(this.constructor.prototype);return this.constructor.apply(e,t),e}.bind(this),this.isDetachAllowed=function(e){var t=!0;if(this._jsPlumb.beforeDetach)try{t=this._jsPlumb.beforeDetach(e)}catch(e){n.log("jsPlumb: beforeDetach callback failed",e)}return t},this.isDropAllowed=function(e,t,o,r,i,s,a){var u=this._jsPlumb.instance.checkCondition("beforeDrop",{sourceId:e,targetId:t,scope:o,connection:r,dropEndpoint:i,source:s,target:a});if(this._jsPlumb.beforeDrop)try{u=this._jsPlumb.beforeDrop({sourceId:e,targetId:t,scope:o,connection:r,dropEndpoint:i,source:s,target:a})}catch(e){n.log("jsPlumb: beforeDrop callback failed",e)}return u};var c=[];this.setListenerComponent=function(e){for(var t=0;t<c.length;t++)c[t][3]=e}},d=function(e,t){var n=e._jsPlumb.types[t],o=e._jsPlumb.instance.getType(n,e.getTypeDescriptor());null!=o&&o.cssClass&&e.canvas&&e._jsPlumb.instance.removeClass(e.canvas,o.cssClass)};n.extend(e.jsPlumbUIComponent,n.EventGenerator,{getParameter:function(e){return this._jsPlumb.parameters[e]},setParameter:function(e,t){this._jsPlumb.parameters[e]=t},getParameters:function(){return this._jsPlumb.parameters},setParameters:function(e){this._jsPlumb.parameters=e},getClass:function(){return h.getClass(this.canvas)},hasClass:function(e){return h.hasClass(this.canvas,e)},addClass:function(e){h.addClass(this.canvas,e)},removeClass:function(e){h.removeClass(this.canvas,e)},updateClasses:function(e,t){h.updateClasses(this.canvas,e,t)},setType:function(e,t,n){this.clearTypes(),this._jsPlumb.types=s(e)||[],l(this,t,n)},getType:function(){return this._jsPlumb.types},reapplyTypes:function(e,t){l(this,e,t)},hasType:function(e){return-1!==this._jsPlumb.types.indexOf(e)},addType:function(e,t,n){var o=s(e),r=!1;if(null!=o){for(var i=0,a=o.length;i<a;i++)this.hasType(o[i])||(this._jsPlumb.types.push(o[i]),r=!0);r&&l(this,t,n)}},removeType:function(e,t,n){var o=s(e),r=!1,i=function(e){var t=this._jsPlumb.types.indexOf(e);return-1!==t&&(d(this,t),this._jsPlumb.types.splice(t,1),!0)}.bind(this);if(null!=o){for(var a=0,u=o.length;a<u;a++)r=i(o[a])||r;r&&l(this,t,n)}},clearTypes:function(e,t){for(var n=this._jsPlumb.types.length,o=0;o<n;o++)d(this,0),this._jsPlumb.types.splice(0,1);l(this,e,t)},toggleType:function(e,t,n){var o=s(e);if(null!=o){for(var r=0,i=o.length;r<i;r++){var a=this._jsPlumb.types.indexOf(o[r]);-1!==a?(d(this,a),this._jsPlumb.types.splice(a,1)):this._jsPlumb.types.push(o[r])}l(this,t,n)}},applyType:function(e,t){if(this.setPaintStyle(e.paintStyle,t),this.setHoverPaintStyle(e.hoverPaintStyle,t),e.parameters)for(var n in e.parameters)this.setParameter(n,e.parameters[n]);this._jsPlumb.paintStyleInUse=this.getPaintStyle()},setPaintStyle:function(e,t){this._jsPlumb.paintStyle=e,this._jsPlumb.paintStyleInUse=this._jsPlumb.paintStyle,r(this),t||this.repaint()},getPaintStyle:function(){return this._jsPlumb.paintStyle},setHoverPaintStyle:function(e,t){this._jsPlumb.hoverPaintStyle=e,r(this),t||this.repaint()},getHoverPaintStyle:function(){return this._jsPlumb.hoverPaintStyle},destroy:function(e){(e||null==this.typeId)&&(this.cleanupListeners(),this.clone=null,this._jsPlumb=null)},isHover:function(){return this._jsPlumb.hover},setHover:function(e,t,n){if(this._jsPlumb&&!this._jsPlumb.instance.currentlyDragging&&!this._jsPlumb.instance.isHoverSuspended()){this._jsPlumb.hover=e;var r=e?"addClass":"removeClass";null!=this.canvas&&(null!=this._jsPlumb.instance.hoverClass&&this._jsPlumb.instance[r](this.canvas,this._jsPlumb.instance.hoverClass),null!=this._jsPlumb.hoverClass&&this._jsPlumb.instance[r](this.canvas,this._jsPlumb.hoverClass)),null!=this._jsPlumb.hoverPaintStyle&&(this._jsPlumb.paintStyleInUse=e?this._jsPlumb.hoverPaintStyle:this._jsPlumb.paintStyle,this._jsPlumb.instance.isSuspendDrawing()||(n=n||o(),this.repaint({timestamp:n,recalc:!1}))),this.getAttachedElements&&!t&&function(e,t,n,o){var r=e.getAttachedElements();if(r)for(var i=0,s=r.length;i<s;i++)o&&o===r[i]||r[i].setHover(t,!0,n)}(this,e,o(),this)}}});var p=0,f=e.jsPlumbInstance=function(t){this.version="2.6.7",t&&h.extend(this.Defaults,t),this.logEnabled=this.Defaults.LogEnabled,this._connectionTypes={},this._endpointTypes={},n.EventGenerator.apply(this);var r=this,s=function(){var e=p+1;return p++,e}(),a=r.bind,l={},d=1,f=function(e){if(null==e)return null;if(3===e.nodeType||8===e.nodeType)return{el:e,text:!0};var t=r.getElement(e);return{el:t,id:n.isString(e)&&null==t?e:W(t)}};this.getInstanceIndex=function(){return s},this.setZoom=function(e,t){return d=e,r.fire("zoom",d),t&&r.repaintEverything(),!0},this.getZoom=function(){return d};for(var g in this.Defaults)l[g]=this.Defaults[g];var m,v=[];this.unbindContainer=function(){if(null!=m&&v.length>0)for(var e=0;e<v.length;e++)r.off(m,v[e][0],v[e][1])},this.setContainer=function(e){this.unbindContainer(),e=this.getElement(e),this.select().each(function(t){t.moveParent(e)}),this.selectEndpoints().each(function(t){t.moveParent(e)});var t=m;m=e,v.length=0;for(var n={endpointclick:"endpointClick",endpointdblclick:"endpointDblClick"},o=function(e,t,o){var i=t.srcElement||t.target,s=(i&&i.parentNode?i.parentNode._jsPlumb:null)||(i?i._jsPlumb:null)||(i&&i.parentNode&&i.parentNode.parentNode?i.parentNode.parentNode._jsPlumb:null);if(s){s.fire(e,s,t);var a=o?n[o+e]||e:e;r.fire(a,s.component||s,t)}},s=function(e,t,n){v.push([e,n]),r.on(m,e,t,n)},a=function(e){s(e,".jtk-connector",function(t){o(e,t)}),s(e,".jtk-endpoint",function(t){o(e,t,"endpoint")}),s(e,".jtk-overlay",function(t){o(e,t)})},u=0;u<i.length;u++)a(i[u]);for(var l in w){var c=w[l].el;c.parentNode===t&&(t.removeChild(c),m.appendChild(c))}},this.getContainer=function(){return m},this.bind=function(e,t){"ready"===e&&y?t():a.apply(r,[e,t])},r.importDefaults=function(e){for(var t in e)r.Defaults[t]=e[t];return e.Container&&r.setContainer(e.Container),r},r.restoreDefaults=function(){return r.Defaults=h.extend({},l),r};var _=null,y=!1,b=[],E={},C={},w={},x={},O={},S={},A=!1,T=[],P=!1,D=null,k=this.Defaults.Scope,N=1,R=function(){return""+N++},j=function(e,t){m?m.appendChild(e):t?this.getElement(t).appendChild(e):this.appendToRoot(e)}.bind(this),I=function(e,t,n,i){if(!P){var s,a=W(e),u=r.getDragManager();u&&(s=u.getElementsForDraggable(a)),null==n&&(n=o());var l=ie({elId:a,offset:t,recalc:!1,timestamp:n});if(s&&l&&l.o)for(var c in s)ie({elId:s[c].id,offset:{left:l.o.left+s[c].offset.left,top:l.o.top+s[c].offset.top},recalc:!1,timestamp:n});if(r.anchorManager.redraw(a,t,n,null,i),s)for(var d in s)r.anchorManager.redraw(s[d].id,t,n,s[d].offset,i,!0)}},M=function(e){return C[e]},L=function(e,t){var o=h.extend({},e);if(t&&h.extend(o,t),o.source&&(o.source.endpoint?o.sourceEndpoint=o.source:o.source=r.getElement(o.source)),o.target&&(o.target.endpoint?o.targetEndpoint=o.target:o.target=r.getElement(o.target)),e.uuids&&(o.sourceEndpoint=M(e.uuids[0]),o.targetEndpoint=M(e.uuids[1])),o.sourceEndpoint&&o.sourceEndpoint.isFull())n.log(r,"could not add connection; source endpoint is full");else if(o.targetEndpoint&&o.targetEndpoint.isFull())n.log(r,"could not add connection; target endpoint is full");else{if(!o.type&&o.sourceEndpoint&&(o.type=o.sourceEndpoint.connectionType),o.sourceEndpoint&&o.sourceEndpoint.connectorOverlays){o.overlays=o.overlays||[];for(var i=0,s=o.sourceEndpoint.connectorOverlays.length;i<s;i++)o.overlays.push(o.sourceEndpoint.connectorOverlays[i])}o.sourceEndpoint&&o.sourceEndpoint.scope&&(o.scope=o.sourceEndpoint.scope),!o["pointer-events"]&&o.sourceEndpoint&&o.sourceEndpoint.connectorPointerEvents&&(o["pointer-events"]=o.sourceEndpoint.connectorPointerEvents);var a=function(e,t,n,i){if(o[e]&&!o[e].endpoint&&!o[e+"Endpoint"]&&!o.newConnection){var s=n[W(o[e])];if(s=s?s[i]:null){if(!s.enabled)return!1;var a=null!=s.endpoint&&s.endpoint._jsPlumb?s.endpoint:function(e,t,n){return r.addEndpoint(e,function(e,t){var n=h.extend({},e);for(var o in t)t[o]&&(n[o]=t[o]);return n}(t,{anchor:o.anchors?o.anchors[n]:o.anchor,endpoint:o.endpoints?o.endpoints[n]:o.endpoint,paintStyle:o.endpointStyles?o.endpointStyles[n]:o.endpointStyle,hoverPaintStyle:o.endpointHoverStyles?o.endpointHoverStyles[n]:o.endpointHoverStyle}))}(o[e],s.def,t);if(a.isFull())return!1;o[e+"Endpoint"]=a,!o.scope&&s.def.scope&&(o.scope=s.def.scope),s.uniqueEndpoint?s.endpoint?a.finalEndpoint=s.endpoint:(s.endpoint=a,a.setDeleteOnEmpty(!1)):a.setDeleteOnEmpty(!0),0===t&&s.def.connectorOverlays&&(o.overlays=o.overlays||[],Array.prototype.push.apply(o.overlays,s.def.connectorOverlays))}}};if(!1!==a("source",0,this.sourceEndpointDefinitions,o.type||"default")&&!1!==a("target",1,this.targetEndpointDefinitions,o.type||"default"))return o.sourceEndpoint&&o.targetEndpoint&&(function(e,t){for(var n=e.scope.split(/\s/),o=t.scope.split(/\s/),r=0;r<n.length;r++)for(var i=0;i<o.length;i++)if(o[i]===n[r])return!0;return!1}(o.sourceEndpoint,o.targetEndpoint)||(o=null)),o}}.bind(r),F=function(e){var t=r.Defaults.ConnectionType||r.getDefaultConnectionType();e._jsPlumb=r,e.newConnection=F,e.newEndpoint=H,e.endpointsByUUID=C,e.endpointsByElement=E,e.finaliseConnection=U,e.id="con_"+R();var n=new t(e);return n.isDetachable()&&(n.endpoints[0].initDraggable("_jsPlumbSource"),n.endpoints[1].initDraggable("_jsPlumbTarget")),n},U=r.finaliseConnection=function(e,t,n,o){if(t=t||{},e.suspendedEndpoint||b.push(e),e.pending=null,e.endpoints[0].isTemporarySource=!1,!1!==o&&r.anchorManager.newConnection(e),I(e.source),!t.doNotFireConnectionEvent&&!1!==t.fireEvent){var i={connection:e,source:e.source,target:e.target,sourceId:e.sourceId,targetId:e.targetId,sourceEndpoint:e.endpoints[0],targetEndpoint:e.endpoints[1]};r.fire("connection",i,n)}},H=function(e,t){var n=r.Defaults.EndpointType||h.Endpoint,o=h.extend({},e);o._jsPlumb=r,o.newConnection=F,o.newEndpoint=H,o.endpointsByUUID=C,o.endpointsByElement=E,o.fireDetachEvent=V,o.elementId=t||W(o.source);var i=new n(o);return i.id="ep_"+R(),re(o.elementId,o.source),h.headless||r.getDragManager().endpointAdded(o.source,t),i},B=function(e,t,n){var o=E[e];if(o&&o.length)for(var r=0,i=o.length;r<i;r++){for(var s=0,a=o[r].connections.length;s<a;s++)if(t(o[r].connections[s]))return;n&&n(o[r])}},G=function(e,t,n){t="block"===t;var o=null;n&&(o=function(e){e.setVisible(t,!0,!0)});var r=f(e);B(r.id,function(e){if(t&&n){var o=e.sourceId===r.id?1:0;e.endpoints[o].isVisible()&&e.setVisible(!0)}else e.setVisible(t)},o)},W=function(e,t,o){if(n.isString(e))return e;if(null==e)return null;var i=r.getAttribute(e,"id");return i&&"undefined"!==i||(2===arguments.length&&void 0!==arguments[1]?i=t:(1===arguments.length||3===arguments.length&&!arguments[2])&&(i="jsPlumb_"+s+"_"+R()),o||r.setAttribute(e,"id",i)),i};this.setConnectionBeingDragged=function(e){A=e},this.isConnectionBeingDragged=function(){return A},this.getManagedElements=function(){return w},this.connectorClass="jtk-connector",this.connectorOutlineClass="jtk-connector-outline",this.editableConnectorClass="jtk-connector-editable",this.connectedClass="jtk-connected",this.hoverClass="jtk-hover",this.endpointClass="jtk-endpoint",this.endpointConnectedClass="jtk-endpoint-connected",this.endpointFullClass="jtk-endpoint-full",this.endpointDropAllowedClass="jtk-endpoint-drop-allowed",this.endpointDropForbiddenClass="jtk-endpoint-drop-forbidden",this.overlayClass="jtk-overlay",this.draggingClass="jtk-dragging",this.elementDraggingClass="jtk-element-dragging",this.sourceElementDraggingClass="jtk-source-element-dragging",this.targetElementDraggingClass="jtk-target-element-dragging",this.endpointAnchorClassPrefix="jtk-endpoint-anchor",this.hoverSourceClass="jtk-source-hover",this.hoverTargetClass="jtk-target-hover",this.dragSelectClass="jtk-drag-select",this.Anchors={},this.Connectors={svg:{}},this.Endpoints={svg:{}},this.Overlays={svg:{}},this.ConnectorRenderers={},this.SVG="svg",this.addEndpoint=function(e,t,o){o=o||{};var i=h.extend({},o);h.extend(i,t),i.endpoint=i.endpoint||r.Defaults.Endpoint,i.paintStyle=i.paintStyle||r.Defaults.EndpointStyle;for(var s=[],a=n.isArray(e)||null!=e.length&&!n.isString(e)?e:[e],u=0,l=a.length;u<l;u++){i.source=r.getElement(a[u]),oe(i.source);var c=W(i.source),d=H(i,c),p=re(c,i.source).info.o;n.addToList(E,c,d),P||d.paint({anchorLoc:d.anchor.compute({xy:[p.left,p.top],wh:T[c],element:d,timestamp:D}),timestamp:D}),s.push(d)}return 1===s.length?s[0]:s},this.addEndpoints=function(e,t,o){for(var i=[],s=0,a=t.length;s<a;s++){var u=r.addEndpoint(e,t[s],o);n.isArray(u)?Array.prototype.push.apply(i,u):i.push(u)}return i},this.animate=function(e,t,o){if(!this.animationSupported)return!1;o=o||{};var i=r.getElement(e),s=W(i),a=h.animEvents.step,u=h.animEvents.complete;o[a]=n.wrap(o[a],function(){r.revalidate(s)}),o[u]=n.wrap(o[u],function(){r.revalidate(s)}),r.doAnimate(i,t,o)},this.checkCondition=function(e,t){var o=r.getListener(e),i=!0;if(o&&o.length>0){var s=Array.prototype.slice.call(arguments,1);try{for(var a=0,u=o.length;a<u;a++)i=i&&o[a].apply(o[a],s)}catch(t){n.log(r,"cannot check condition ["+e+"]"+t)}}return i},this.connect=function(e,t){var o,r=L(e,t);if(r){if(null==r.source&&null==r.sourceEndpoint)return void n.log("Cannot establish connection - source does not exist");if(null==r.target&&null==r.targetEndpoint)return void n.log("Cannot establish connection - target does not exist");oe(r.source),o=F(r),U(o,r)}return o};var z=[{el:"source",elId:"sourceId",epDefs:"sourceEndpointDefinitions"},{el:"target",elId:"targetId",epDefs:"targetEndpointDefinitions"}],q=function(e,t,n,o){var r,i,s,a=z[n],u=e[a.elId],l=(e[a.el],e.endpoints[n]),c={index:n,originalSourceId:0===n?u:e.sourceId,newSourceId:e.sourceId,originalTargetId:1===n?u:e.targetId,newTargetId:e.targetId,connection:e};if(t.constructor===h.Endpoint)(r=t).addConnection(e),t=r.element;else if(i=W(t),s=this[a.epDefs][i],i===e[a.elId])r=null;else if(s)for(var d in s){if(!s[d].enabled)return;r=null!=s[d].endpoint&&s[d].endpoint._jsPlumb?s[d].endpoint:this.addEndpoint(t,s[d].def),s[d].uniqueEndpoint&&(s[d].endpoint=r),r.addConnection(e)}else r=e.makeEndpoint(0===n,t,i);return null!=r&&(l.detachFromConnection(e),e.endpoints[n]=r,e[a.el]=r.element,e[a.elId]=r.elementId,c[0===n?"newSourceId":"newTargetId"]=r.elementId,X(c),o||e.repaint()),c.element=t,c}.bind(this);this.setSource=function(e,t,n){var o=q(e,t,0,n);this.anchorManager.sourceChanged(o.originalSourceId,o.newSourceId,e,o.el)},this.setTarget=function(e,t,n){var o=q(e,t,1,n);this.anchorManager.updateOtherEndpoint(o.originalSourceId,o.originalTargetId,o.newTargetId,e)},this.deleteEndpoint=function(e,t,n){var o="string"==typeof e?C[e]:e;return o&&r.deleteObject({endpoint:o,dontUpdateHover:t,deleteAttachedObjects:n}),r},this.deleteEveryEndpoint=function(){var e=r.setSuspendDrawing(!0);for(var t in E){var n=E[t];if(n&&n.length)for(var o=0,i=n.length;o<i;o++)r.deleteEndpoint(n[o],!0)}E={},w={},C={},x={},O={},r.anchorManager.reset();var s=r.getDragManager();return s&&s.reset(),e||r.setSuspendDrawing(!1),r};var V=function(e,t,n){var o=r.Defaults.ConnectionType||r.getDefaultConnectionType(),i=e.constructor===o?{connection:e,source:e.source,target:e.target,sourceId:e.sourceId,targetId:e.targetId,sourceEndpoint:e.endpoints[0],targetEndpoint:e.endpoints[1]}:e;t&&r.fire("connectionDetached",i,n),r.fire("internal.connectionDetached",i,n),r.anchorManager.connectionDetached(i)},X=r.fireMoveEvent=function(e,t){r.fire("connectionMoved",e,t)};this.unregisterEndpoint=function(e){e._jsPlumb.uuid&&(C[e._jsPlumb.uuid]=null),r.anchorManager.deleteEndpoint(e);for(var t in E){var n=E[t];if(n){for(var o=[],i=0,s=n.length;i<s;i++)n[i]!==e&&o.push(n[i]);E[t]=o}E[t].length<1&&delete E[t]}};var K="isDetachAllowed";this.deleteConnection=function(e,t){return!(null==e||!(t=t||{}).force&&!n.functionChain(!0,!1,[[e.endpoints[0],K,[e]],[e.endpoints[1],K,[e]],[e,K,[e]],[r,"checkCondition",["beforeDetach",e]]])||(e.setHover(!1),V(e,!e.pending&&!1!==t.fireEvent,t.originalEvent),e.endpoints[0].detachFromConnection(e),e.endpoints[1].detachFromConnection(e),n.removeWithFunction(b,function(t){return e.id===t.id}),e.cleanup(),e.destroy(),0))},this.deleteEveryConnection=function(e){e=e||{};var t=b.length,n=0;return r.batch(function(){for(var o=0;o<t;o++)n+=r.deleteConnection(b[0],e)?1:0}),n},this.deleteConnectionsForElement=function(e,t){t=t||{},e=r.getElement(e);var n=W(e),o=E[n];if(o&&o.length)for(var i=0,s=o.length;i<s;i++)o[i].deleteEveryConnection(t);return r},this.deleteObject=function(e){var t={endpoints:{},connections:{},endpointCount:0,connectionCount:0},o=!1!==e.deleteAttachedObjects,i=function(n){null!=n&&null==t.connections[n.id]&&(e.dontUpdateHover||null==n._jsPlumb||n.setHover(!1),t.connections[n.id]=n,t.connectionCount++)};e.connection?i(e.connection):function(n){if(null!=n&&null==t.endpoints[n.id]&&(e.dontUpdateHover||null==n._jsPlumb||n.setHover(!1),t.endpoints[n.id]=n,t.endpointCount++,o))for(var r=0;r<n.connections.length;r++){var s=n.connections[r];i(s)}}(e.endpoint);for(var s in t.connections){var a=t.connections[s];if(a._jsPlumb){n.removeWithFunction(b,function(e){return a.id===e.id}),V(a,!1!==e.fireEvent&&!a.pending,e.originalEvent);var u=null==e.deleteAttachedObjects?null:!e.deleteAttachedObjects;a.endpoints[0].detachFromConnection(a,null,u),a.endpoints[1].detachFromConnection(a,null,u),a.cleanup(!0),a.destroy(!0)}}for(var l in t.endpoints){var c=t.endpoints[l];c._jsPlumb&&(r.unregisterEndpoint(c),c.cleanup(!0),c.destroy(!0))}return t},this.draggable=function(e,t){var o;return u(function(e){(o=f(e)).el&&function(e,t,o,i,s){if(!h.headless&&h.isDragSupported(e,r)){var a=o||r.Defaults.DragOptions;if(a=h.extend({},a),h.isAlreadyDraggable(e,r))o.force&&r.initDraggable(e,a);else{var u=h.dragEvents.drag,l=h.dragEvents.stop,c=h.dragEvents.start,d=!1;re(i,e),a[c]=n.wrap(a[c],function(){if(r.setHoverSuspended(!0),r.select({source:e}).addClass(r.elementDraggingClass+" "+r.sourceElementDraggingClass,!0),r.select({target:e}).addClass(r.elementDraggingClass+" "+r.targetElementDraggingClass,!0),r.setConnectionBeingDragged(!0),a.canDrag)return o.canDrag()},!1),a[u]=n.wrap(a[u],function(){var t=r.getUIPosition(arguments,r.getZoom());null!=t&&(I(e,t,null,!0),d&&r.addClass(e,"jtk-dragged"),d=!0)}),a[l]=n.wrap(a[l],function(){for(var e,t=arguments[0].selection,n=function(t){null!=t[1]&&(e=r.getUIPosition([{el:t[2].el,pos:[t[1].left,t[1].top]}]),I(t[2].el,e)),r.removeClass(t[0],"jtk-dragged"),r.select({source:t[2].el}).removeClass(r.elementDraggingClass+" "+r.sourceElementDraggingClass,!0),r.select({target:t[2].el}).removeClass(r.elementDraggingClass+" "+r.targetElementDraggingClass,!0),r.getDragManager().dragEnded(t[2].el)},o=0;o<t.length;o++)n(t[o]);d=!1,r.setHoverSuspended(!1),r.setConnectionBeingDragged(!1)});var p=W(e);S[p]=!0;var f=S[p];a.disabled=null!=f&&!f,r.initDraggable(e,a),r.getDragManager().register(e),r.fire("elementDraggable",{el:e,options:a})}}}(o.el,0,t,o.id)},e),r},this.droppable=function(e,t){var n;return t=t||{},t.allowLoopback=!1,u(function(e){(n=f(e)).el&&r.initDroppable(n.el,t)},e),r};var Y=function(e,t,n){return function(){return function(e,t,n,o){for(var r=0,i=e.length;r<i;r++)e[r][t].apply(e[r],n);return o(e)}(e,t,arguments,n)}},$=function(e,t){return function(){return function(e,t,n){for(var o=[],r=0,i=e.length;r<i;r++)o.push([e[r][t].apply(e[r],n),e[r]]);return o}(e,t,arguments)}},J=function(e,t){var n=[];if(e)if("string"==typeof e){if("*"===e)return e;n.push(e)}else if(t)n=e;else if(e.length)for(var o=0,r=e.length;o<r;o++)n.push(f(e[o]).id);else n.push(f(e).id);return n},Z=function(e,t,n){return"*"===e||(e.length>0?-1!==e.indexOf(t):!n)};this.getConnections=function(e,t){e?e.constructor===String&&(e={scope:e}):e={};for(var n=e.scope||r.getDefaultScope(),o=J(n,!0),i=J(e.source),s=J(e.target),a=!t&&o.length>1?{}:[],u=function(e,n){if(!t&&o.length>1){var r=a[e];null==r&&(r=a[e]=[]),r.push(n)}else a.push(n)},l=0,c=b.length;l<c;l++){var d=b[l],p=d.proxies&&d.proxies[0]?d.proxies[0].originalEp.elementId:d.sourceId,f=d.proxies&&d.proxies[1]?d.proxies[1].originalEp.elementId:d.targetId;Z(o,d.scope)&&Z(i,p)&&Z(s,f)&&u(d.scope,d)}return a};var Q=function(e,t){var n,o,r={length:e.length,each:function(e,t){return function(n){for(var o=0,r=e.length;o<r;o++)n(e[o]);return t(e)}}(e,t),get:function(e){return function(t){return e[t]}}(e)},i=["setHover","removeAllOverlays","setLabel","addClass","addOverlay","removeOverlay","removeOverlays","showOverlay","hideOverlay","showOverlays","hideOverlays","setPaintStyle","setHoverPaintStyle","setSuspendEvents","setParameter","setParameters","setVisible","repaint","addType","toggleType","removeType","removeClass","setType","bind","unbind"],s=["getLabel","getOverlay","isHover","getParameter","getParameters","getPaintStyle","getHoverPaintStyle","isVisible","hasType","getType","isSuspendEvents"];for(n=0,o=i.length;n<o;n++)r[i[n]]=Y(e,i[n],t);for(n=0,o=s.length;n<o;n++)r[s[n]]=$(e,s[n]);return r},ee=function(e){var t=Q(e,ee);return h.extend(t,{setDetachable:Y(e,"setDetachable",ee),setReattach:Y(e,"setReattach",ee),setConnector:Y(e,"setConnector",ee),delete:function(){for(var t=0,n=e.length;t<n;t++)r.deleteConnection(e[t])},isDetachable:$(e,"isDetachable"),isReattach:$(e,"isReattach")})},te=function(e){var t=Q(e,te);return h.extend(t,{setEnabled:Y(e,"setEnabled",te),setAnchor:Y(e,"setAnchor",te),isEnabled:$(e,"isEnabled"),deleteEveryConnection:function(){for(var t=0,n=e.length;t<n;t++)e[t].deleteEveryConnection()},delete:function(){for(var t=0,n=e.length;t<n;t++)r.deleteEndpoint(e[t])}})};this.select=function(e){return e=e||{},e.scope=e.scope||"*",ee(e.connections||r.getConnections(e,!0))},this.selectEndpoints=function(e){(e=e||{}).scope=e.scope||"*";var t=!e.element&&!e.source&&!e.target,n=t?"*":J(e.element),o=t?"*":J(e.source),r=t?"*":J(e.target),i=J(e.scope,!0),s=[];for(var a in E){var u=Z(n,a,!0),l=Z(o,a,!0),c="*"!==o,d=Z(r,a,!0),p="*"!==r;if(u||l||d)e:for(var f=0,h=E[a].length;f<h;f++){var g=E[a][f];if(Z(i,g.scope,!0)){var m=c&&o.length>0&&!g.isSource,v=p&&r.length>0&&!g.isTarget;if(m||v)continue e;s.push(g)}}}return te(s)},this.getAllConnections=function(){return b},this.getDefaultScope=function(){return k},this.getEndpoint=M,this.getEndpoints=function(e){return E[f(e).id]||[]},this.getDefaultEndpointType=function(){return h.Endpoint},this.getDefaultConnectionType=function(){return h.Connection},this.getId=W,this.appendElement=j;var ne=!1;this.isHoverSuspended=function(){return ne},this.setHoverSuspended=function(e){ne=e},this.hide=function(e,t){return G(e,"none",t),r},this.idstamp=R;var oe=function(e){if(!m&&e){var t=r.getElement(e);t.offsetParent&&r.setContainer(t.offsetParent)}},re=r.manage=function(e,t,n){return w[e]||(w[e]={el:t,endpoints:[],connections:[]},w[e].info=ie({elId:e,timestamp:D}),n||r.fire("manageElement",{id:e,info:w[e].info,el:t})),w[e]},ie=this.updateOffset=function(e){var t,n=e.timestamp,o=e.recalc,i=e.offset,s=e.elId;return P&&!n&&(n=D),!o&&n&&n===O[s]?{o:e.offset||x[s],s:T[s]}:(o||!i&&null==x[s]?null!=(t=w[s]?w[s].el:null)&&(T[s]=r.getSize(t),x[s]=r.getOffset(t),O[s]=n):(x[s]=i||x[s],null==T[s]&&null!=(t=w[s].el)&&(T[s]=r.getSize(t)),O[s]=n),x[s]&&!x[s].right&&(x[s].right=x[s].left+T[s][0],x[s].bottom=x[s].top+T[s][1],x[s].width=T[s][0],x[s].height=T[s][1],x[s].centerx=x[s].left+x[s].width/2,x[s].centery=x[s].top+x[s].height/2),{o:x[s],s:T[s]})};this.init=function(){y||(r.Defaults.Container&&r.setContainer(r.Defaults.Container),r.anchorManager=new e.jsPlumb.AnchorManager({jsPlumbInstance:r}),y=!0,r.fire("ready",r))}.bind(this),this.log=_,this.jsPlumbUIComponent=c,this.makeAnchor=function(){var t,o=function(t,n){if(e.jsPlumb.Anchors[t])return new e.jsPlumb.Anchors[t](n);if(!r.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown anchor type '"+t+"'"}};if(0===arguments.length)return null;var i=arguments[0],s=arguments[1],a=(arguments[2],null);if(i.compute&&i.getOrientation)return i;if("string"==typeof i)a=o(arguments[0],{elementId:s,jsPlumbInstance:r});else if(n.isArray(i))if(n.isArray(i[0])||n.isString(i[0]))2===i.length&&n.isObject(i[1])?n.isString(i[0])?(t=e.jsPlumb.extend({elementId:s,jsPlumbInstance:r},i[1]),a=o(i[0],t)):(t=e.jsPlumb.extend({elementId:s,jsPlumbInstance:r,anchors:i[0]},i[1]),a=new e.jsPlumb.DynamicAnchor(t)):a=new h.DynamicAnchor({anchors:i,selector:null,elementId:s,jsPlumbInstance:r});else{var u={x:i[0],y:i[1],orientation:i.length>=4?[i[2],i[3]]:[0,0],offsets:i.length>=6?[i[4],i[5]]:[0,0],elementId:s,jsPlumbInstance:r,cssClass:7===i.length?i[6]:null};(a=new e.jsPlumb.Anchor(u)).clone=function(){return new e.jsPlumb.Anchor(u)}}return a.id||(a.id="anchor_"+R()),a},this.makeAnchors=function(t,o,i){for(var s=[],a=0,u=t.length;a<u;a++)"string"==typeof t[a]?s.push(e.jsPlumb.Anchors[t[a]]({elementId:o,jsPlumbInstance:i})):n.isArray(t[a])&&s.push(r.makeAnchor(t[a],o,i));return s},this.makeDynamicAnchor=function(t,n){return new e.jsPlumb.DynamicAnchor({anchors:t,selector:n,elementId:null,jsPlumbInstance:r})},this.targetEndpointDefinitions={},this.sourceEndpointDefinitions={};var se=function(t,o,i,s,a){var u=new c(o),l=o._jsPlumb.EndpointDropHandler({jsPlumb:r,enabled:function(){return t.def.enabled},isFull:function(){var e=r.select({target:t.id}).length;return t.def.maxConnections>0&&e>=t.def.maxConnections},element:t.el,elementId:t.id,isSource:s,isTarget:a,addClass:function(e){r.addClass(t.el,e)},removeClass:function(e){r.removeClass(t.el,e)},onDrop:function(e){e.endpoints[0].anchor.locked=!1},isDropAllowed:function(){return u.isDropAllowed.apply(u,arguments)},isRedrop:function(e){return null!=e.suspendedElement&&null!=e.suspendedEndpoint&&e.suspendedEndpoint.element===t.el},getEndpoint:function(n){var i=t.def.endpoint;if(null==i||null==i._jsPlumb){var s=r.deriveEndpointAndAnchorSpec(n.getType().join(" "),!0),a=s.endpoints?e.jsPlumb.extend(o,{endpoint:t.def.def.endpoint||s.endpoints[1]}):o;s.anchors&&(a=e.jsPlumb.extend(a,{anchor:t.def.def.anchor||s.anchors[1]})),(i=r.addEndpoint(t.el,a))._mtNew=!0}if(o.uniqueEndpoint&&(t.def.endpoint=i),i.setDeleteOnEmpty(!0),n.isDetachable()&&i.initDraggable(),null!=i.anchor.positionFinder){var u=r.getUIPosition(arguments,r.getZoom()),l=r.getOffset(t.el),c=r.getSize(t.el),d=null==u?[0,0]:i.anchor.positionFinder(u,l,c,i.anchor.constructorParams);i.anchor.x=d[0],i.anchor.y=d[1]}return i},maybeCleanup:function(e){e._mtNew&&0===e.connections.length?r.deleteObject({endpoint:e}):delete e._mtNew}}),d=e.jsPlumb.dragEvents.drop;return i.scope=i.scope||o.scope||r.Defaults.Scope,i[d]=n.wrap(i[d],l,!0),a&&(i[e.jsPlumb.dragEvents.over]=function(){return!0}),!1===o.allowLoopback&&(i.canDrop=function(e){return e.getDragElement()._jsPlumbRelatedElement!==t.el}),r.initDroppable(t.el,i,"internal"),l};this.makeTarget=function(t,n,o){var i=e.jsPlumb.extend({_jsPlumb:this},o);e.jsPlumb.extend(i,n);for(var s=i.maxConnections||-1,a=function(t){var n=f(t),o=n.id,a=e.jsPlumb.extend({},i.dropOptions||{}),u=i.connectionType||"default";this.targetEndpointDefinitions[o]=this.targetEndpointDefinitions[o]||{},oe(o),n.el._isJsPlumbGroup&&null==a.rank&&(a.rank=-1);var l={def:e.jsPlumb.extend({},i),uniqueEndpoint:i.uniqueEndpoint,maxConnections:s,enabled:!0};i.createEndpoint&&(l.uniqueEndpoint=!0,l.endpoint=r.addEndpoint(t,l.def),l.endpoint.setDeleteOnEmpty(!1)),n.def=l,this.targetEndpointDefinitions[o][u]=l,se(n,i,a,!0===i.isSource,!0),n.el._katavorioDrop[n.el._katavorioDrop.length-1].targetDef=l}.bind(this),u=t.length&&t.constructor!==String?t:[t],l=0,c=u.length;l<c;l++)a(u[l]);return this},this.unmakeTarget=function(e,t){var n=f(e);return r.destroyDroppable(n.el,"internal"),t||delete this.targetEndpointDefinitions[n.id],this},this.makeSource=function(t,o,i){var s=e.jsPlumb.extend({_jsPlumb:this},i);e.jsPlumb.extend(s,o);var a=s.connectionType||"default",u=r.deriveEndpointAndAnchorSpec(a);s.endpoint=s.endpoint||u.endpoints[0],s.anchor=s.anchor||u.anchors[0];for(var l=s.maxConnections||-1,c=s.onMaxConnections,p=function(o){var i=o.id,u=this.getElement(o.el);this.sourceEndpointDefinitions[i]=this.sourceEndpointDefinitions[i]||{},oe(i);var p={def:e.jsPlumb.extend({},s),uniqueEndpoint:s.uniqueEndpoint,maxConnections:l,enabled:!0};s.createEndpoint&&(p.uniqueEndpoint=!0,p.endpoint=r.addEndpoint(t,p.def),p.endpoint.setDeleteOnEmpty(!1)),this.sourceEndpointDefinitions[i][a]=p,o.def=p;var f=e.jsPlumb.dragEvents.stop,h=e.jsPlumb.dragEvents.drag,g=e.jsPlumb.extend({},s.dragOptions||{}),m=g.drag,v=g.stop,_=null,y=!1;g.scope=g.scope||s.scope,g[h]=n.wrap(g[h],function(){m&&m.apply(this,arguments),y=!1}),g[f]=n.wrap(g[f],function(){if(v&&v.apply(this,arguments),this.currentlyDragging=!1,null!=_._jsPlumb){var e=s.anchor||this.Defaults.Anchor,t=_.anchor,n=_.connections[0],o=this.makeAnchor(e,i,this),a=_.element;if(null!=o.positionFinder){var u=r.getOffset(a),l=this.getSize(a),c={left:u.left+t.x*l[0],top:u.top+t.y*l[1]},d=o.positionFinder(c,u,l,o.constructorParams);o.x=d[0],o.y=d[1]}_.setAnchor(o,!0),_.repaint(),this.repaint(_.elementId),null!=n&&this.repaint(n.targetId)}}.bind(this));var b=function(t){if(3!==t.which&&2!==t.button){var p=this.sourceEndpointDefinitions[i][a];if(p.enabled){if(i=this.getId(this.getElement(o.el)),s.filter&&!1===(n.isString(s.filter)?function(e,t,n,o,r){for(var i=e.target||e.srcElement,s=!1,a=o.getSelector(t,n),u=0;u<a.length;u++)if(a[u]===i){s=!0;break}return r?!s:s}(t,o.el,s.filter,this,s.filterExclude):s.filter(t,o.el)))return;var f=this.select({source:i}).length;if(p.maxConnections>=0&&f>=p.maxConnections)return c&&c({element:o.el,maxConnections:l},t),!1;var h=e.jsPlumb.getPositionOnElement(t,u,d),m={};e.jsPlumb.extend(m,s),m.isTemporarySource=!0,m.anchor=[h[0],h[1],0,0],m.dragOptions=g,p.def.scope&&(m.scope=p.def.scope),_=this.addEndpoint(i,m),y=!0,_.setDeleteOnEmpty(!0),p.uniqueEndpoint&&(p.endpoint?_.finalEndpoint=p.endpoint:(p.endpoint=_,_.setDeleteOnEmpty(!1)));var v=function(){r.off(_.canvas,"mouseup",v),r.off(o.el,"mouseup",v),y&&(y=!1,r.deleteEndpoint(_))};r.on(_.canvas,"mouseup",v),r.on(o.el,"mouseup",v);var b={};if(p.def.extract)for(var E in p.def.extract){var C=(t.srcElement||t.target).getAttribute(E);C&&(b[p.def.extract[E]]=C)}r.trigger(_.canvas,"mousedown",t,b),n.consume(t)}}}.bind(this);this.on(o.el,"mousedown",b),p.trigger=b,s.filter&&(n.isString(s.filter)||n.isFunction(s.filter))&&r.setDragFilter(o.el,s.filter);var E=e.jsPlumb.extend({},s.dropOptions||{});se(o,s,E,!0,!0===s.isTarget)}.bind(this),h=t.length&&t.constructor!==String?t:[t],g=0,m=h.length;g<m;g++)p(f(h[g]));return this},this.unmakeSource=function(e,t,n){var o=f(e);r.destroyDroppable(o.el,"internal");var i=this.sourceEndpointDefinitions[o.id];if(i)for(var s in i)if(null==t||t===s){var a=i[s].trigger;a&&r.off(o.el,"mousedown",a),n||delete this.sourceEndpointDefinitions[o.id][s]}return this},this.unmakeEverySource=function(){for(var e in this.sourceEndpointDefinitions)r.unmakeSource(e,null,!0);return this.sourceEndpointDefinitions={},this};var ae=function(e,t,o){t=n.isArray(t)?t:[t];var r=W(e);o=o||"default";for(var i=0;i<t.length;i++){var s=this[t[i]][r];if(s&&s[o])return s[o].def.scope||this.Defaults.Scope}}.bind(this),ue=function(e,t,o,r){o=n.isArray(o)?o:[o];var i=W(e);r=r||"default";for(var s=0;s<o.length;s++){var a=this[o[s]][i];a&&a[r]&&(a[r].def.scope=t)}}.bind(this);this.getScope=function(e,t){return ae(e,["sourceEndpointDefinitions","targetEndpointDefinitions"])},this.getSourceScope=function(e){return ae(e,"sourceEndpointDefinitions")},this.getTargetScope=function(e){return ae(e,"targetEndpointDefinitions")},this.setScope=function(e,t,n){this.setSourceScope(e,t,n),this.setTargetScope(e,t,n)},this.setSourceScope=function(e,t,n){ue(e,t,"sourceEndpointDefinitions",n),this.setDragScope(e,t)},this.setTargetScope=function(e,t,n){ue(e,t,"targetEndpointDefinitions",n),this.setDropScope(e,t)},this.unmakeEveryTarget=function(){for(var e in this.targetEndpointDefinitions)r.unmakeTarget(e,!0);return this.targetEndpointDefinitions={},this};var le=function(e,t,o,i,s){var a,u,l,c="source"===e?this.sourceEndpointDefinitions:this.targetEndpointDefinitions;if(s=s||"default",t.length&&!n.isString(t)){a=[];for(var d=0,p=t.length;d<p;d++)c[(u=f(t[d])).id]&&c[u.id][s]&&(a[d]=c[u.id][s].enabled,l=i?!a[d]:o,c[u.id][s].enabled=l,r[l?"removeClass":"addClass"](u.el,"jtk-"+e+"-disabled"))}else{var h=(u=f(t)).id;c[h]&&c[h][s]&&(a=c[h][s].enabled,l=i?!a:o,c[h][s].enabled=l,r[l?"removeClass":"addClass"](u.el,"jtk-"+e+"-disabled"))}return a}.bind(this),ce=function(e,t){return n.isString(e)||!e.length?t.apply(this,[e]):e.length?t.apply(this,[e[0]]):void 0}.bind(this);this.toggleSourceEnabled=function(e,t){return le("source",e,null,!0,t),this.isSourceEnabled(e,t)},this.setSourceEnabled=function(e,t,n){return le("source",e,t,null,n)},this.isSource=function(e,t){return t=t||"default",ce(e,function(e){var n=this.sourceEndpointDefinitions[f(e).id];return null!=n&&null!=n[t]}.bind(this))},this.isSourceEnabled=function(e,t){return t=t||"default",ce(e,function(e){var n=this.sourceEndpointDefinitions[f(e).id];return n&&n[t]&&!0===n[t].enabled}.bind(this))},this.toggleTargetEnabled=function(e,t){return le("target",e,null,!0,t),this.isTargetEnabled(e,t)},this.isTarget=function(e,t){return t=t||"default",ce(e,function(e){var n=this.targetEndpointDefinitions[f(e).id];return null!=n&&null!=n[t]}.bind(this))},this.isTargetEnabled=function(e,t){return t=t||"default",ce(e,function(e){var n=this.targetEndpointDefinitions[f(e).id];return n&&n[t]&&!0===n[t].enabled}.bind(this))},this.setTargetEnabled=function(e,t,n){return le("target",e,t,null,n)},this.ready=function(e){r.bind("ready",e)};var de=function(e,t){if("object"==typeof e&&e.length)for(var n=0,o=e.length;n<o;n++)t(e[n]);else t(e);return r};this.repaint=function(e,t,n){return de(e,function(e){I(e,t,n)})},this.revalidate=function(e,t,n){return de(e,function(e){var o=n?e:r.getId(e);r.updateOffset({elId:o,recalc:!0,timestamp:t});var i=r.getDragManager();i&&i.updateOffsets(o),r.repaint(e)})},this.repaintEverything=function(){var e,t=o();for(e in E)r.updateOffset({elId:e,recalc:!0,timestamp:t});for(e in E)I(e,null,t);return this},this.removeAllEndpoints=function(e,t,n){n=n||[];var o=function(e){var i,s,a=f(e),u=E[a.id];if(u)for(n.push(a),i=0,s=u.length;i<s;i++)r.deleteEndpoint(u[i],!1);if(delete E[a.id],t&&a.el&&3!==a.el.nodeType&&8!==a.el.nodeType)for(i=0,s=a.el.childNodes.length;i<s;i++)o(a.el.childNodes[i])};return o(e),this};var pe=function(e,t){r.removeAllEndpoints(e.id,!0,t);for(var n=r.getDragManager(),o=function(e){n&&n.elementRemoved(e.id),r.anchorManager.clearFor(e.id),r.anchorManager.removeFloatingConnection(e.id),r.isSource(e.el)&&r.unmakeSource(e.el),r.isTarget(e.el)&&r.unmakeTarget(e.el),r.destroyDraggable(e.el),r.destroyDroppable(e.el),delete r.floatingConnections[e.id],delete w[e.id],delete x[e.id],e.el&&(r.removeElement(e.el),e.el._jsPlumb=null)},i=1;i<t.length;i++)o(t[i]);o(e)};this.remove=function(e,t){var n=f(e),o=[];return n.text?n.el.parentNode.removeChild(n.el):n.id&&r.batch(function(){pe(n,o)},!1===t),r},this.empty=function(e,t){var n=[],o=function(e,t){var r=f(e);if(r.text)r.el.parentNode.removeChild(r.el);else if(r.el){for(;r.el.childNodes.length>0;)o(r.el.childNodes[0]);t||pe(r,n)}};return r.batch(function(){o(e,!0)},!1===t),r},this.reset=function(e){r.silently(function(){ne=!1,r.removeAllGroups(),r.removeGroupManager(),r.deleteEveryEndpoint(),e||r.unbind(),this.targetEndpointDefinitions={},this.sourceEndpointDefinitions={},b.length=0,this.doReset&&this.doReset()}.bind(this))};var fe=function(e){e.canvas&&e.canvas.parentNode&&e.canvas.parentNode.removeChild(e.canvas),e.cleanup(),e.destroy()};this.clear=function(){r.select().each(fe),r.selectEndpoints().each(fe),E={},C={}},this.setDefaultScope=function(e){return k=e,r},this.setDraggable=function(e,t){return h.each(e,function(e){r.isDragSupported(e)&&(S[r.getAttribute(e,"id")]=t,r.setElementDraggable(e,t))})},this.deriveEndpointAndAnchorSpec=function(e,t){for(var n=((t?"":"default ")+e).split(/[\s]/),o=null,i=null,s=null,a=null,u=0;u<n.length;u++){var l=r.getType(n[u],"connection");l&&(l.endpoints&&(o=l.endpoints),l.endpoint&&(i=l.endpoint),l.anchors&&(a=l.anchors),l.anchor&&(s=l.anchor))}return{endpoints:o||[i,i],anchors:a||[s,s]}},this.setId=function(e,t,o){var r;n.isString(e)?r=e:(e=this.getElement(e),r=this.getId(e));var i=this.getConnections({source:r,scope:"*"},!0),s=this.getConnections({target:r,scope:"*"},!0);t=""+t,o?e=this.getElement(t):(e=this.getElement(r),this.setAttribute(e,"id",t)),E[t]=E[r]||[];for(var a=0,u=E[t].length;a<u;a++)E[t][a].setElementId(t),E[t][a].setReferenceElement(e);delete E[r],this.sourceEndpointDefinitions[t]=this.sourceEndpointDefinitions[r],delete this.sourceEndpointDefinitions[r],this.targetEndpointDefinitions[t]=this.targetEndpointDefinitions[r],delete this.targetEndpointDefinitions[r],this.anchorManager.changeId(r,t);var l=this.getDragManager();l&&l.changeId(r,t),w[t]=w[r],delete w[r];var c=function(n,o,r){for(var i=0,s=n.length;i<s;i++)n[i].endpoints[o].setElementId(t),n[i].endpoints[o].setReferenceElement(e),n[i][r+"Id"]=t,n[i][r]=e};c(i,0,"source"),c(s,1,"target"),this.repaint(t)},this.setDebugLog=function(e){_=e},this.setSuspendDrawing=function(e,t){var n=P;return P=e,D=e?(new Date).getTime():null,t&&this.repaintEverything(),n},this.isSuspendDrawing=function(){return P},this.getSuspendedAt=function(){return D},this.batch=function(e,t){var o=this.isSuspendDrawing();o||this.setSuspendDrawing(!0);try{e()}catch(e){n.log("Function run while suspended failed",e)}o||this.setSuspendDrawing(!1,!t)},this.doWhileSuspended=this.batch,this.getCachedData=function(e){var t=x[e];return t?{o:t,s:T[e]}:ie({elId:e})},this.timestamp=o,this.show=function(e,t){return G(e,"block",t),r},this.toggleVisible=function(e,t){var n=null;t&&(n=function(e){var t=e.isVisible();e.setVisible(!t)}),B(e,function(e){var t=e.isVisible();e.setVisible(!t)},n)},this.toggleDraggable=function(e){var t;return h.each(e,function(e){var n=r.getAttribute(e,"id");return t=null!=S[n]&&S[n],t=!t,S[n]=t,r.setDraggable(e,t),t}.bind(this)),t},this.addListener=this.bind;var he=[];this.registerFloatingConnection=function(e,t,o){he[e.id]=t,n.addToList(E,e.id,o)},this.getFloatingConnectionFor=function(e){return he[e]}};n.extend(e.jsPlumbInstance,n.EventGenerator,{setAttribute:function(e,t,n){this.setAttribute(e,t,n)},getAttribute:function(t,n){return this.getAttribute(e.jsPlumb.getElement(t),n)},convertToFullOverlaySpec:function(e){return n.isString(e)&&(e=[e,{}]),e[1].id=e[1].id||n.uuid(),e},registerConnectionType:function(t,n){if(this._connectionTypes[t]=e.jsPlumb.extend({},n),n.overlays){for(var o={},r=0;r<n.overlays.length;r++){var i=this.convertToFullOverlaySpec(n.overlays[r]);o[i[1].id]=i}this._connectionTypes[t].overlays=o}},registerConnectionTypes:function(e){for(var t in e)this.registerConnectionType(t,e[t])},registerEndpointType:function(t,n){if(this._endpointTypes[t]=e.jsPlumb.extend({},n),n.overlays){for(var o={},r=0;r<n.overlays.length;r++){var i=this.convertToFullOverlaySpec(n.overlays[r]);o[i[1].id]=i}this._endpointTypes[t].overlays=o}},registerEndpointTypes:function(e){for(var t in e)this.registerEndpointType(t,e[t])},getType:function(e,t){return"connection"===t?this._connectionTypes[e]:this._endpointTypes[e]},setIdChanged:function(e,t){this.setId(e,t,!0)},setParent:function(e,t){var n=this.getElement(e),o=this.getId(n),r=this.getElement(t),i=this.getId(r),s=this.getDragManager();n.parentNode.removeChild(n),r.appendChild(n),s&&s.setParent(n,o,r,i)},extend:function(e,t,n){var o;if(n)for(o=0;o<n.length;o++)e[n[o]]=t[n[o]];else for(o in t)e[o]=t[o];return e},floatingConnections:{},getFloatingAnchorIndex:function(e){return e.endpoints[0].isFloating()?0:e.endpoints[1].isFloating()?1:-1}}),f.prototype.Defaults={Anchor:"Bottom",Anchors:[null,null],ConnectionsDetachable:!0,ConnectionOverlays:[],Connector:"Bezier",Container:null,DoNotThrowErrors:!1,DragOptions:{},DropOptions:{},Endpoint:"Dot",EndpointOverlays:[],Endpoints:[null,null],EndpointStyle:{fill:"#456"},EndpointStyles:[null,null],EndpointHoverStyle:null,EndpointHoverStyles:[null,null],HoverPaintStyle:null,LabelStyle:{color:"black"},LogEnabled:!1,Overlays:[],MaxConnections:1,PaintStyle:{"stroke-width":4,stroke:"#456"},ReattachConnections:!1,RenderMode:"svg",Scope:"jsPlumb_DefaultScope"};var h=new f;e.jsPlumb=h,h.getInstance=function(e,t){var n=new f(e);if(t)for(var o in t)n[o]=t[o];return n.init(),n},h.each=function(e,t){if(null!=e)if("string"==typeof e)t(h.getElement(e));else if(null!=e.length)for(var n=0;n<e.length;n++)t(h.getElement(e[n]));else t(e)},t.jsPlumb=h}.call("undefined"!=typeof window?window:this),function(){var e=this.jsPlumbUtil,t=function(e,t){if(null==t)return[0,0];var n=s(t),o=i(n,0);return[o[e+"X"],o[e+"Y"]]},n=t.bind(this,"page"),o=t.bind(this,"screen"),r=t.bind(this,"client"),i=function(e,t){return e.item?e.item(t):e[t]},s=function(e){return e.touches&&e.touches.length>0?e.touches:e.changedTouches&&e.changedTouches.length>0?e.changedTouches:e.targetTouches&&e.targetTouches.length>0?e.targetTouches:[e]},a=function(e,t,n){t=null==t?null:t.replace(/^\s\s*/,"").replace(/\s\s*$/,""),void 0!==e.className.baseVal?e.className.baseVal=t:e.className=t;try{for(var o=e.classList;o.length>0;)o.remove(o.item(0));for(var r=0;r<n.length;r++)n[r]&&o.add(n[r])}catch(e){console.log("JSPLUMB: cannot set class list",e)}},u=function(e){return void 0===e.className.baseVal?e.className:e.className.baseVal},l=function(t,n,o){n=null==n?[]:e.isArray(n)?n:n.split(/\s+/),o=null==o?[]:e.isArray(o)?o:o.split(/\s+/);var r=u(t).split(/\s+/),i=function(e,t){for(var n=0;n<t.length;n++)if(e)-1===r.indexOf(t[n])&&r.push(t[n]);else{var o=r.indexOf(t[n]);-1!==o&&r.splice(o,1)}};i(!0,n),i(!1,o),a(t,r.join(" "),r)};this.jsPlumb.extend(this.jsPlumbInstance.prototype,{headless:!1,pageLocation:n,screenLocation:o,clientLocation:r,getDragManager:function(){return null==this.dragManager&&(this.dragManager=new function(e){var t={},n=[],o={},r={},i={};this.register=function(s){var a=e.getId(s),u=e.getOffset(s);t[a]||(t[a]=s,n.push(s),o[a]={});var l=function(t){if(t)for(var n=0;n<t.childNodes.length;n++)if(3!==t.childNodes[n].nodeType&&8!==t.childNodes[n].nodeType){var s=jsPlumb.getElement(t.childNodes[n]),c=e.getId(t.childNodes[n],null,!0);if(c&&r[c]&&r[c]>0){var d=e.getOffset(s);o[a][c]={id:c,offset:{left:d.left-u.left,top:d.top-u.top}},i[c]=a}l(t.childNodes[n])}};l(s)},this.updateOffsets=function(t,n){if(null!=t){n=n||{};var r=jsPlumb.getElement(t),s=e.getId(r),a=o[s],u=e.getOffset(r);if(a)for(var l in a)if(a.hasOwnProperty(l)){var c=jsPlumb.getElement(l),d=n[l]||e.getOffset(c);if(null==c.offsetParent&&null!=o[s][l])continue;o[s][l]={id:l,offset:{left:d.left-u.left,top:d.top-u.top}},i[l]=s}}},this.endpointAdded=function(n,s){s=s||e.getId(n);var a=document.body,u=n.parentNode;for(r[s]=r[s]?r[s]+1:1;null!=u&&u!==a;){var l=e.getId(u,null,!0);if(l&&t[l]){var c=e.getOffset(u);if(null==o[l][s]){var d=e.getOffset(n);o[l][s]={id:s,offset:{left:d.left-c.left,top:d.top-c.top}},i[s]=l}break}u=u.parentNode}},this.endpointDeleted=function(e){if(r[e.elementId]&&(r[e.elementId]--,r[e.elementId]<=0))for(var t in o)o.hasOwnProperty(t)&&o[t]&&(delete o[t][e.elementId],delete i[e.elementId])},this.changeId=function(e,t){o[t]=o[e],o[e]={},i[t]=i[e],i[e]=null},this.getElementsForDraggable=function(e){return o[e]},this.elementRemoved=function(e){var t=i[e];t&&(delete o[t][e],delete i[e])},this.reset=function(){t={},n=[],o={},r={}},this.dragEnded=function(t){if(null!=t.offsetParent){var n=e.getId(t),o=i[n];o&&this.updateOffsets(o)}},this.setParent=function(t,n,r,s,a){var u=i[n];o[s]||(o[s]={});var l=e.getOffset(r),c=a||e.getOffset(t);u&&o[u]&&delete o[u][n],o[s][n]={id:n,offset:{left:c.left-l.left,top:c.top-l.top}},i[n]=s},this.clearParent=function(e,t){var n=i[t];n&&(delete o[n][t],delete i[t])},this.revalidateParent=function(t,n,o){var r=i[n];if(r){var s={};s[n]=o,this.updateOffsets(r,s),e.revalidate(r)}},this.getDragAncestor=function(t){var n=jsPlumb.getElement(t),o=e.getId(n),r=i[o];return r?jsPlumb.getElement(r):null}}(this)),this.dragManager},recalculateOffsets:function(e){this.getDragManager().updateOffsets(e)},createElement:function(e,t,n,o){return this.createElementNS(null,e,t,n,o)},createElementNS:function(e,t,n,o,r){var i,s=null==e?document.createElement(t):document.createElementNS(e,t);n=n||{};for(i in n)s.style[i]=n[i];o&&(s.className=o),r=r||{};for(i in r)s.setAttribute(i,""+r[i]);return s},getAttribute:function(e,t){return null!=e.getAttribute?e.getAttribute(t):null},setAttribute:function(e,t,n){null!=e.setAttribute&&e.setAttribute(t,n)},setAttributes:function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setAttribute(n,t[n])},appendToRoot:function(e){document.body.appendChild(e)},getRenderModes:function(){return["svg"]},getClass:u,addClass:function(e,t){jsPlumb.each(e,function(e){l(e,t)})},hasClass:function(e,t){return(e=jsPlumb.getElement(e)).classList?e.classList.contains(t):-1!==u(e).indexOf(t)},removeClass:function(e,t){jsPlumb.each(e,function(e){l(e,null,t)})},updateClasses:function(e,t,n){jsPlumb.each(e,function(e){l(e,t,n)})},setClass:function(e,t){null!=t&&jsPlumb.each(e,function(e){a(e,t,t.split(/\s+/))})},setPosition:function(e,t){e.style.left=t.left+"px",e.style.top=t.top+"px"},getPosition:function(e){var t=function(t){var n=e.style[t];return n?n.substring(0,n.length-2):0};return{left:t("left"),top:t("top")}},getStyle:function(e,t){return void 0!==window.getComputedStyle?getComputedStyle(e,null).getPropertyValue(t):e.currentStyle[t]},getSelector:function(e,t){return 1===arguments.length?null!=e.nodeType?e:document.querySelectorAll(e):e.querySelectorAll(t)},getOffset:function(e,t,n){e=jsPlumb.getElement(e),n=n||this.getContainer();for(var o={left:e.offsetLeft,top:e.offsetTop},r=t||null!=n&&e!==n&&e.offsetParent!==n?e.offsetParent:null,i=function(e){null!=e&&e!==document.body&&(e.scrollTop>0||e.scrollLeft>0)&&(o.left-=e.scrollLeft,o.top-=e.scrollTop)}.bind(this);null!=r;)o.left+=r.offsetLeft,o.top+=r.offsetTop,i(r),r=t?r.offsetParent:r.offsetParent===n?null:r.offsetParent;if(null!=n&&!t&&(n.scrollTop>0||n.scrollLeft>0)){var s=null!=e.offsetParent?this.getStyle(e.offsetParent,"position"):"static",a=this.getStyle(e,"position");"absolute"!==a&&"fixed"!==a&&"absolute"!==s&&"fixed"!==s&&(o.left-=n.scrollLeft,o.top-=n.scrollTop)}return o},getPositionOnElement:function(e,t,n){var o=void 0!==t.getBoundingClientRect?t.getBoundingClientRect():{left:0,top:0,width:0,height:0},r=document.body,i=document.documentElement,s=window.pageYOffset||i.scrollTop||r.scrollTop,a=window.pageXOffset||i.scrollLeft||r.scrollLeft,u=i.clientTop||r.clientTop||0,l=i.clientLeft||r.clientLeft||0,c=o.top+s-u+0*n,d=o.left+a-l+0*n,p=jsPlumb.pageLocation(e),f=o.width||t.offsetWidth*n,h=o.height||t.offsetHeight*n;return[(p[0]-d)/f,(p[1]-c)/h]},getAbsolutePosition:function(e){var t=function(t){var n=e.style[t];if(n)return parseFloat(n.substring(0,n.length-2))};return[t("left"),t("top")]},setAbsolutePosition:function(e,t,n,o){n?this.animate(e,{left:"+="+(t[0]-n[0]),top:"+="+(t[1]-n[1])},o):(e.style.left=t[0]+"px",e.style.top=t[1]+"px")},getSize:function(e){return[e.offsetWidth,e.offsetHeight]},getWidth:function(e){return e.offsetWidth},getHeight:function(e){return e.offsetHeight},getRenderMode:function(){return"svg"}})}.call("undefined"!=typeof window?window:this),function(){"use strict";var e=this,t=e.jsPlumb,n=e.jsPlumbUtil;t.OverlayCapableJsPlumbUIComponent=function(t){e.jsPlumbUIComponent.apply(this,arguments),this._jsPlumb.overlays={},this._jsPlumb.overlayPositions={},t.label&&(this.getDefaultType().overlays.__label=["Label",{label:t.label,location:t.labelLocation||this.defaultLabelLocation||.5,labelStyle:t.labelStyle||this._jsPlumb.instance.Defaults.LabelStyle,id:"__label"}]),this.setListenerComponent=function(e){if(this._jsPlumb)for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t].setListenerComponent(e)}},t.OverlayCapableJsPlumbUIComponent.applyType=function(e,t){if(t.overlays){var n,o={};for(n in t.overlays){var r=e._jsPlumb.overlays[t.overlays[n][1].id];if(r)r.updateFrom(t.overlays[n][1]),o[t.overlays[n][1].id]=!0;else{var i=e.getCachedTypeItem("overlay",t.overlays[n][1].id);null!=i?(i.reattach(e._jsPlumb.instance,e),i.setVisible(!0),i.updateFrom(t.overlays[n][1]),e._jsPlumb.overlays[i.id]=i):i=e.addOverlay(t.overlays[n],!0),o[i.id]=!0}}for(n in e._jsPlumb.overlays)null==o[e._jsPlumb.overlays[n].id]&&e.removeOverlay(e._jsPlumb.overlays[n].id,!0)}},n.extend(t.OverlayCapableJsPlumbUIComponent,e.jsPlumbUIComponent,{setHover:function(e,t){if(this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged())for(var n in this._jsPlumb.overlays)this._jsPlumb.overlays[n][e?"addClass":"removeClass"](this._jsPlumb.instance.hoverClass)},addOverlay:function(e,o){var r=function(e,o){var r=null;if(n.isArray(o)){var i=o[0],s=t.extend({component:e,_jsPlumb:e._jsPlumb.instance},o[1]);3===o.length&&t.extend(s,o[2]),r=new(t.Overlays[e._jsPlumb.instance.getRenderMode()][i])(s)}else r=o.constructor===String?new(t.Overlays[e._jsPlumb.instance.getRenderMode()][o])({component:e,_jsPlumb:e._jsPlumb.instance}):o;return r.id=r.id||n.uuid(),e.cacheTypeItem("overlay",r,r.id),e._jsPlumb.overlays[r.id]=r,r}(this,e);return o||this.repaint(),r},getOverlay:function(e){return this._jsPlumb.overlays[e]},getOverlays:function(){return this._jsPlumb.overlays},hideOverlay:function(e){var t=this.getOverlay(e);t&&t.hide()},hideOverlays:function(){for(var e in this._jsPlumb.overlays)this._jsPlumb.overlays[e].hide()},showOverlay:function(e){var t=this.getOverlay(e);t&&t.show()},showOverlays:function(){for(var e in this._jsPlumb.overlays)this._jsPlumb.overlays[e].show()},removeAllOverlays:function(e){for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t].cleanup&&this._jsPlumb.overlays[t].cleanup();this._jsPlumb.overlays={},this._jsPlumb.overlayPositions=null,e||this.repaint()},removeOverlay:function(e,t){var n=this._jsPlumb.overlays[e];n&&(n.setVisible(!1),!t&&n.cleanup&&n.cleanup(),delete this._jsPlumb.overlays[e],this._jsPlumb.overlayPositions&&delete this._jsPlumb.overlayPositions[e])},removeOverlays:function(){for(var e=0,t=arguments.length;e<t;e++)this.removeOverlay(arguments[e])},moveParent:function(e){if(this.bgCanvas&&(this.bgCanvas.parentNode.removeChild(this.bgCanvas),e.appendChild(this.bgCanvas)),this.canvas&&this.canvas.parentNode){this.canvas.parentNode.removeChild(this.canvas),e.appendChild(this.canvas);for(var t in this._jsPlumb.overlays)if(this._jsPlumb.overlays[t].isAppendedAtTopLevel){var n=this._jsPlumb.overlays[t].getElement();n.parentNode.removeChild(n),e.appendChild(n)}}},getLabel:function(){var e=this.getOverlay("__label");return null!=e?e.getLabel():null},getLabelOverlay:function(){return this.getOverlay("__label")},setLabel:function(e){var n=this.getOverlay("__label");n?e.constructor===String||e.constructor===Function?n.setLabel(e):(e.label&&n.setLabel(e.label),e.location&&n.setLocation(e.location)):(n=function(e,n){var o={cssClass:n.cssClass,labelStyle:e.labelStyle,id:"__label",component:e,_jsPlumb:e._jsPlumb.instance},r=t.extend(o,n);return new(t.Overlays[e._jsPlumb.instance.getRenderMode()].Label)(r)}(this,e.constructor===String||e.constructor===Function?{label:e}:e),this._jsPlumb.overlays.__label=n),this._jsPlumb.instance.isSuspendDrawing()||this.repaint()},cleanup:function(e){for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t].cleanup(e),this._jsPlumb.overlays[t].destroy(e);e&&(this._jsPlumb.overlays={},this._jsPlumb.overlayPositions=null)},setVisible:function(e){this[e?"showOverlays":"hideOverlays"]()},setAbsoluteOverlayPosition:function(e,t){this._jsPlumb.overlayPositions[e.id]=t},getAbsoluteOverlayPosition:function(e){return this._jsPlumb.overlayPositions?this._jsPlumb.overlayPositions[e.id]:null},_clazzManip:function(e,t,n){if(!n)for(var o in this._jsPlumb.overlays)this._jsPlumb.overlays[o][e+"Class"](t)},addClass:function(e,t){this._clazzManip("add",e,t)},removeClass:function(e,t){this._clazzManip("remove",e,t)}})}.call("undefined"!=typeof window?window:this),function(){"use strict";var e=this.jsPlumb,t=this.jsPlumbUtil,n=["connectorStyle","connectorHoverStyle","connectorOverlays","connector","connectionType","connectorClass","connectorHoverClass"];e.Endpoint=function(o){var r=o._jsPlumb,i=o.newConnection,s=o.newEndpoint;this.idPrefix="_jsplumb_e_",this.defaultLabelLocation=[.5,.5],this.defaultOverlayKeys=["Overlays","EndpointOverlays"],e.OverlayCapableJsPlumbUIComponent.apply(this,arguments),this.appendToDefaultType({connectionType:o.connectionType,maxConnections:null==o.maxConnections?this._jsPlumb.instance.Defaults.MaxConnections:o.maxConnections,paintStyle:o.endpointStyle||o.paintStyle||o.style||this._jsPlumb.instance.Defaults.EndpointStyle||e.Defaults.EndpointStyle,hoverPaintStyle:o.endpointHoverStyle||o.hoverPaintStyle||this._jsPlumb.instance.Defaults.EndpointHoverStyle||e.Defaults.EndpointHoverStyle,connectorStyle:o.connectorStyle,connectorHoverStyle:o.connectorHoverStyle,connectorClass:o.connectorClass,connectorHoverClass:o.connectorHoverClass,connectorOverlays:o.connectorOverlays,connector:o.connector,connectorTooltip:o.connectorTooltip}),this._jsPlumb.enabled=!(!1===o.enabled),this._jsPlumb.visible=!0,this.element=e.getElement(o.source),this._jsPlumb.uuid=o.uuid,this._jsPlumb.floatingEndpoint=null,this._jsPlumb.uuid&&(o.endpointsByUUID[this._jsPlumb.uuid]=this),this.elementId=o.elementId,this.dragProxy=o.dragProxy,this._jsPlumb.connectionCost=o.connectionCost,this._jsPlumb.connectionsDirected=o.connectionsDirected,this._jsPlumb.currentAnchorClass="",this._jsPlumb.events={};var a=!0===o.deleteOnEmpty;this.setDeleteOnEmpty=function(e){a=e};var u=function(){var t=r.endpointAnchorClassPrefix+"-"+this._jsPlumb.currentAnchorClass;this._jsPlumb.currentAnchorClass=this.anchor.getCssClass();var n=r.endpointAnchorClassPrefix+(this._jsPlumb.currentAnchorClass?"-"+this._jsPlumb.currentAnchorClass:"");this.removeClass(t),this.addClass(n),e.updateClasses(this.element,n,t)}.bind(this);this.prepareAnchor=function(e){var t=this._jsPlumb.instance.makeAnchor(e,this.elementId,r);return t.bind("anchorChanged",function(e){this.fire("anchorChanged",{endpoint:this,anchor:e}),u()}.bind(this)),t},this.setPreparedAnchor=function(e,t){return this._jsPlumb.instance.continuousAnchorFactory.clear(this.elementId),this.anchor=e,u(),t||this._jsPlumb.instance.repaint(this.elementId),this},this.setAnchor=function(e,t){var n=this.prepareAnchor(e);return this.setPreparedAnchor(n,t),this};var l=function(e){if(this.connections.length>0)for(var t=0;t<this.connections.length;t++)this.connections[t].setHover(e,!1);else this.setHover(e)}.bind(this);this.bind("mouseover",function(){l(!0)}),this.bind("mouseout",function(){l(!1)}),o._transient||this._jsPlumb.instance.anchorManager.add(this,this.elementId),this.prepareEndpoint=function(n,i){var s,a=function(t,n){var o=r.getRenderMode();if(e.Endpoints[o][t])return new e.Endpoints[o][t](n);if(!r.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown endpoint type '"+t+"'"}},u={_jsPlumb:this._jsPlumb.instance,cssClass:o.cssClass,container:o.container,tooltip:o.tooltip,connectorTooltip:o.connectorTooltip,endpoint:this};return t.isString(n)?s=a(n,u):t.isArray(n)?(u=t.merge(n[1],u),s=a(n[0],u)):s=n.clone(),s.clone=function(){return t.isString(n)?a(n,u):t.isArray(n)?(u=t.merge(n[1],u),a(n[0],u)):void 0}.bind(this),s.typeId=i,s},this.setEndpoint=function(e,t){var n=this.prepareEndpoint(e);this.setPreparedEndpoint(n,!0)},this.setPreparedEndpoint=function(e,t){null!=this.endpoint&&(this.endpoint.cleanup(),this.endpoint.destroy()),this.endpoint=e,this.type=this.endpoint.type,this.canvas=this.endpoint.canvas},e.extend(this,o,n),this.isSource=o.isSource||!1,this.isTemporarySource=o.isTemporarySource||!1,this.isTarget=o.isTarget||!1,this.connections=o.connections||[],this.connectorPointerEvents=o["connector-pointer-events"],this.scope=o.scope||r.getDefaultScope(),this.timestamp=null,this.reattachConnections=o.reattach||r.Defaults.ReattachConnections,this.connectionsDetachable=r.Defaults.ConnectionsDetachable,!1!==o.connectionsDetachable&&!1!==o.detachable||(this.connectionsDetachable=!1),this.dragAllowedWhenFull=!1!==o.dragAllowedWhenFull,o.onMaxConnections&&this.bind("maxConnections",o.onMaxConnections),this.addConnection=function(e){this.connections.push(e),this[(this.connections.length>0?"add":"remove")+"Class"](r.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](r.endpointFullClass)},this.detachFromConnection=function(e,t,n){(t=null==t?this.connections.indexOf(e):t)>=0&&(this.connections.splice(t,1),this[(this.connections.length>0?"add":"remove")+"Class"](r.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](r.endpointFullClass)),!n&&a&&0===this.connections.length&&r.deleteObject({endpoint:this,fireEvent:!1,deleteAttachedObjects:!0!==n})},this.deleteEveryConnection=function(e){for(var t=this.connections.length,n=0;n<t;n++)r.deleteConnection(this.connections[0],e)},this.detachFrom=function(e,t,n){for(var o=[],i=0;i<this.connections.length;i++)this.connections[i].endpoints[1]!==e&&this.connections[i].endpoints[0]!==e||o.push(this.connections[i]);for(var s=0,a=o.length;s<a;s++)r.deleteConnection(o[0]);return this},this.getElement=function(){return this.element},this.setElement=function(n){var i=this._jsPlumb.instance.getId(n),s=this.elementId;return t.removeWithFunction(o.endpointsByElement[this.elementId],function(e){return e.id===this.id}.bind(this)),this.element=e.getElement(n),this.elementId=r.getId(this.element),r.anchorManager.rehomeEndpoint(this,s,this.element),r.dragManager.endpointAdded(this.element),t.addToList(o.endpointsByElement,i,this),this},this.makeInPlaceCopy=function(){var e=this.anchor.getCurrentLocation({element:this}),t=this.anchor.getOrientation(this),n=this.anchor.getCssClass(),r={bind:function(){},compute:function(){return[e[0],e[1]]},getCurrentLocation:function(){return[e[0],e[1]]},getOrientation:function(){return t},getCssClass:function(){return n}};return s({dropOptions:o.dropOptions,anchor:r,source:this.element,paintStyle:this.getPaintStyle(),endpoint:o.hideOnDrag?"Blank":this.endpoint,_transient:!0,scope:this.scope,reference:this})},this.connectorSelector=function(){return this.connections[0]},this.setStyle=this.setPaintStyle,this.paint=function(e){var t=(e=e||{}).timestamp,n=!(!1===e.recalc);if(!t||this.timestamp!==t){var o=r.updateOffset({elId:this.elementId,timestamp:t}),i=e.offset?e.offset.o:o.o;if(null!=i){var s=e.anchorPoint,a=e.connectorPaintStyle;if(null==s){var u=e.dimensions||o.s,l={xy:[i.left,i.top],wh:u,element:this,timestamp:t};if(n&&this.anchor.isDynamic&&this.connections.length>0){var c=function(e,t){var n=0;if(null!=t)for(var o=0;o<e.connections.length;o++)if(e.connections[o].sourceId===t||e.connections[o].targetId===t){n=o;break}return e.connections[n]}(this,e.elementWithPrecedence),d=c.endpoints[0]===this?1:0,p=0===d?c.sourceId:c.targetId,f=r.getCachedData(p),h=f.o,g=f.s;l.index=0===d?1:0,l.connection=c,l.txy=[h.left,h.top],l.twh=g,l.tElement=c.endpoints[d]}else this.connections.length>0&&(l.connection=this.connections[0]);s=this.anchor.compute(l)}this.endpoint.compute(s,this.anchor.getOrientation(this),this._jsPlumb.paintStyleInUse,a||this.paintStyleInUse),this.endpoint.paint(this._jsPlumb.paintStyleInUse,this.anchor),this.timestamp=t;for(var m in this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(m)){var v=this._jsPlumb.overlays[m];v.isVisible()&&(this._jsPlumb.overlayPlacements[m]=v.draw(this.endpoint,this._jsPlumb.paintStyleInUse),v.paint(this._jsPlumb.overlayPlacements[m]))}}}},this.getTypeDescriptor=function(){return"endpoint"},this.isVisible=function(){return this._jsPlumb.visible},this.repaint=this.paint;var c=!1;this.initDraggable=function(){if(!c&&e.isDragSupported(this.element)){var n,a={id:null,element:null},u=null,l=!1,d=null,p=function(e,t,n){var o=!1;return{drag:function(){if(o)return o=!1,!0;if(t.element){var r=n.getUIPosition(arguments,n.getZoom());null!=r&&n.setPosition(t.element,r),n.repaint(t.element,r),e.paint({anchorPoint:e.anchor.getCurrentLocation({element:e})})}},stopDrag:function(){o=!0}}}(this,a,r),f=o.dragOptions||{},h={},g=e.dragEvents.start,m=e.dragEvents.stop,v=e.dragEvents.drag,_=e.dragEvents.beforeStart,y=function(e){n=e.e.payload||{}},b=function(t){u=this.connectorSelector();var c=!0;this.isEnabled()||(c=!1),null!=u||this.isSource||this.isTemporarySource||(c=!1),!this.isSource||!this.isFull()||null!=u&&this.dragAllowedWhenFull||(c=!1),null==u||u.isDetachable(this)||(c=!1);var f=r.checkCondition(null==u?"beforeDrag":"beforeStartDetach",{endpoint:this,source:this.element,sourceId:this.elementId,connection:u});if(!1===f?c=!1:"object"==typeof f?e.extend(f,n||{}):f=n||{},!1===c)return r.stopDrag&&r.stopDrag(this.canvas),p.stopDrag(),!1;for(var h=0;h<this.connections.length;h++)this.connections[h].setHover(!1);this.addClass("endpointDrag"),r.setConnectionBeingDragged(!0),u&&!this.isFull()&&this.isSource&&(u=null),r.updateOffset({elId:this.elementId});var g=this._jsPlumb.instance.getOffset(this.canvas),m=this.canvas,v=this._jsPlumb.instance.getSize(this.canvas);!function(e,t,n,o){var r=t.createElement("div",{position:"absolute"});t.appendElement(r);var i=t.getId(r);t.setPosition(r,n),r.style.width=o[0]+"px",r.style.height=o[1]+"px",t.manage(i,r,!0),e.id=i,e.element=r}(a,r,g,v),r.setAttributes(this.canvas,{dragId:a.id,elId:this.elementId});var _=this.dragProxy||this.endpoint;if(null==this.dragProxy&&null!=this.connectionType){var y=this._jsPlumb.instance.deriveEndpointAndAnchorSpec(this.connectionType);y.endpoints[1]&&(_=y.endpoints[1])}var b=this._jsPlumb.instance.makeAnchor("Center");b.isFloating=!0,this._jsPlumb.floatingEndpoint=function(t,n,o,r,i,s,a,u){return a({paintStyle:t,endpoint:o,anchor:new e.FloatingAnchor({reference:n,referenceCanvas:r,jsPlumbInstance:s}),source:i,scope:u})}(this.getPaintStyle(),b,_,this.canvas,a.element,r,s,this.scope);var E=this._jsPlumb.floatingEndpoint.anchor;if(null==u)this.setHover(!1,!1),(u=i({sourceEndpoint:this,targetEndpoint:this._jsPlumb.floatingEndpoint,source:this.element,target:a.element,anchors:[this.anchor,this._jsPlumb.floatingEndpoint.anchor],paintStyle:o.connectorStyle,hoverPaintStyle:o.connectorHoverStyle,connector:o.connector,overlays:o.connectorOverlays,type:this.connectionType,cssClass:this.connectorClass,hoverClass:this.connectorHoverClass,scope:o.scope,data:f})).pending=!0,u.addClass(r.draggingClass),this._jsPlumb.floatingEndpoint.addClass(r.draggingClass),this._jsPlumb.floatingEndpoint.anchor=E,r.fire("connectionDrag",u),r.anchorManager.newConnection(u);else{l=!0,u.setHover(!1);var C=u.endpoints[0].id===this.id?0:1;this.detachFromConnection(u,null,!0);var w=r.getDragScope(m);r.setAttribute(this.canvas,"originalScope",w),r.fire("connectionDrag",u),0===C?(d=[u.source,u.sourceId,m,w],r.anchorManager.sourceChanged(u.endpoints[C].elementId,a.id,u,a.element)):(d=[u.target,u.targetId,m,w],u.target=a.element,u.targetId=a.id,r.anchorManager.updateOtherEndpoint(u.sourceId,u.endpoints[C].elementId,u.targetId,u)),u.suspendedEndpoint=u.endpoints[C],u.suspendedElement=u.endpoints[C].getElement(),u.suspendedElementId=u.endpoints[C].elementId,u.suspendedElementType=0===C?"source":"target",u.suspendedEndpoint.setHover(!1),this._jsPlumb.floatingEndpoint.referenceEndpoint=u.suspendedEndpoint,u.endpoints[C]=this._jsPlumb.floatingEndpoint,u.addClass(r.draggingClass),this._jsPlumb.floatingEndpoint.addClass(r.draggingClass)}r.registerFloatingConnection(a,u,this._jsPlumb.floatingEndpoint),r.currentlyDragging=!0}.bind(this),E=function(){if(r.setConnectionBeingDragged(!1),u&&null!=u.endpoints){var e=r.getDropEvent(arguments),t=r.getFloatingAnchorIndex(u);if(u.endpoints[0===t?1:0].anchor.locked=!1,u.removeClass(r.draggingClass),this._jsPlumb&&(u.deleteConnectionNow||u.endpoints[t]===this._jsPlumb.floatingEndpoint)&&l&&u.suspendedEndpoint){0===t?(u.floatingElement=u.source,u.floatingId=u.sourceId,u.floatingEndpoint=u.endpoints[0],u.floatingIndex=0,u.source=d[0],u.sourceId=d[1]):(u.floatingElement=u.target,u.floatingId=u.targetId,u.floatingEndpoint=u.endpoints[1],u.floatingIndex=1,u.target=d[0],u.targetId=d[1]);var n=this._jsPlumb.floatingEndpoint;r.setDragScope(d[2],d[3]),u.endpoints[t]=u.suspendedEndpoint,u.isReattach()||u._forceReattach||u._forceDetach||!r.deleteConnection(u,{originalEvent:e})?(u.setHover(!1),u._forceDetach=null,u._forceReattach=null,this._jsPlumb.floatingEndpoint.detachFromConnection(u),u.suspendedEndpoint.addConnection(u),1===t?r.anchorManager.updateOtherEndpoint(u.sourceId,u.floatingId,u.targetId,u):r.anchorManager.sourceChanged(u.floatingId,u.sourceId,u,u.source),r.repaint(d[1])):r.deleteObject({endpoint:n})}this.deleteAfterDragStop?r.deleteObject({endpoint:this}):this._jsPlumb&&this.paint({recalc:!1}),r.fire("connectionDragStop",u,e),u.pending&&r.fire("connectionAborted",u,e),r.currentlyDragging=!1,u.suspendedElement=null,u.suspendedEndpoint=null,u=null}a&&a.element&&r.remove(a.element,!1,!1),this._jsPlumb&&(this.canvas.style.visibility="visible",this.anchor.locked=!1,this._jsPlumb.floatingEndpoint=null)}.bind(this);(f=e.extend(h,f)).scope=this.scope||f.scope,f[_]=t.wrap(f[_],y,!1),f[g]=t.wrap(f[g],b,!1),f[v]=t.wrap(f[v],p.drag),f[m]=t.wrap(f[m],E),f.multipleDrop=!1,f.canDrag=function(){return this.isSource||this.isTemporarySource||this.connections.length>0}.bind(this),r.initDraggable(this.canvas,f,"internal"),this.canvas._jsPlumbRelatedElement=this.element,c=!0}};var d=o.endpoint||this._jsPlumb.instance.Defaults.Endpoint||e.Defaults.Endpoint;this.setEndpoint(d,!0);var p=o.anchor?o.anchor:o.anchors?o.anchors:r.Defaults.Anchor||"Top";this.setAnchor(p,!0);var f=["default",o.type||""].join(" ");this.addType(f,o.data,!0),this.canvas=this.endpoint.canvas,this.canvas._jsPlumb=this,this.initDraggable();var h=function(n,i,s,a){if(e.isDropSupported(this.element)){var u=o.dropOptions||r.Defaults.DropOptions||e.Defaults.DropOptions;(u=e.extend({},u)).scope=u.scope||this.scope;var l=e.dragEvents.drop,c=e.dragEvents.over,d=e.dragEvents.out,p=this,f=r.EndpointDropHandler({getEndpoint:function(){return p},jsPlumb:r,enabled:function(){return null==s||s.isEnabled()},isFull:function(){return s.isFull()},element:this.element,elementId:this.elementId,isSource:this.isSource,isTarget:this.isTarget,addClass:function(e){p.addClass(e)},removeClass:function(e){p.removeClass(e)},isDropAllowed:function(){return p.isDropAllowed.apply(p,arguments)},reference:a,isRedrop:function(e,t){return e.suspendedEndpoint&&t.reference&&e.suspendedEndpoint.id===t.reference.id}});u[l]=t.wrap(u[l],f,!0),u[c]=t.wrap(u[c],function(){var t=e.getDragObject(arguments),n=r.getAttribute(e.getElement(t),"dragId"),o=r.getFloatingConnectionFor(n);if(null!=o){var i=r.getFloatingAnchorIndex(o);if(this.isTarget&&0!==i||o.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id===o.suspendedEndpoint.id){var s=r.checkCondition("checkDropAllowed",{sourceEndpoint:o.endpoints[i],targetEndpoint:this,connection:o});this[(s?"add":"remove")+"Class"](r.endpointDropAllowedClass),this[(s?"remove":"add")+"Class"](r.endpointDropForbiddenClass),o.endpoints[i].anchor.over(this.anchor,this)}}}.bind(this)),u[d]=t.wrap(u[d],function(){var t=e.getDragObject(arguments),n=null==t?null:r.getAttribute(e.getElement(t),"dragId"),o=n?r.getFloatingConnectionFor(n):null;if(null!=o){var i=r.getFloatingAnchorIndex(o);(this.isTarget&&0!==i||o.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id===o.suspendedEndpoint.id)&&(this.removeClass(r.endpointDropAllowedClass),this.removeClass(r.endpointDropForbiddenClass),o.endpoints[i].anchor.out())}}.bind(this)),r.initDroppable(n,u,"internal",i)}}.bind(this);return this.anchor.isFloating||h(this.canvas,!(o._transient||this.anchor.isFloating),this,o.reference),this},t.extend(e.Endpoint,e.OverlayCapableJsPlumbUIComponent,{setVisible:function(e,t,n){if(this._jsPlumb.visible=e,this.canvas&&(this.canvas.style.display=e?"block":"none"),this[e?"showOverlays":"hideOverlays"](),!t)for(var o=0;o<this.connections.length;o++)if(this.connections[o].setVisible(e),!n){var r=this===this.connections[o].endpoints[0]?1:0;1===this.connections[o].endpoints[r].connections.length&&this.connections[o].endpoints[r].setVisible(e,!0,!0)}},getAttachedElements:function(){return this.connections},applyType:function(t,o){this.setPaintStyle(t.endpointStyle||t.paintStyle,o),this.setHoverPaintStyle(t.endpointHoverStyle||t.hoverPaintStyle,o),null!=t.maxConnections&&(this._jsPlumb.maxConnections=t.maxConnections),t.scope&&(this.scope=t.scope),e.extend(this,t,n),null!=t.cssClass&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,t.cssClass),e.OverlayCapableJsPlumbUIComponent.applyType(this,t)},isEnabled:function(){return this._jsPlumb.enabled},setEnabled:function(e){this._jsPlumb.enabled=e},cleanup:function(){var t=this._jsPlumb.instance.endpointAnchorClassPrefix+(this._jsPlumb.currentAnchorClass?"-"+this._jsPlumb.currentAnchorClass:"");e.removeClass(this.element,t),this.anchor=null,this.endpoint.cleanup(!0),this.endpoint.destroy(),this.endpoint=null,this._jsPlumb.instance.destroyDraggable(this.canvas,"internal"),this._jsPlumb.instance.destroyDroppable(this.canvas,"internal")},setHover:function(e){this.endpoint&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&this.endpoint.setHover(e)},isFull:function(){return 0===this._jsPlumb.maxConnections||!(this.isFloating()||this._jsPlumb.maxConnections<0||this.connections.length<this._jsPlumb.maxConnections)},isFloating:function(){return null!=this.anchor&&this.anchor.isFloating},isConnectedTo:function(e){var t=!1;if(e)for(var n=0;n<this.connections.length;n++)if(this.connections[n].endpoints[1]===e||this.connections[n].endpoints[0]===e){t=!0;break}return t},getConnectionCost:function(){return this._jsPlumb.connectionCost},setConnectionCost:function(e){this._jsPlumb.connectionCost=e},areConnectionsDirected:function(){return this._jsPlumb.connectionsDirected},setConnectionsDirected:function(e){this._jsPlumb.connectionsDirected=e},setElementId:function(e){this.elementId=e,this.anchor.elementId=e},setReferenceElement:function(t){this.element=e.getElement(t)},setDragAllowedWhenFull:function(e){this.dragAllowedWhenFull=e},equals:function(e){return this.anchor.equals(e.anchor)},getUuid:function(){return this._jsPlumb.uuid},computeAnchor:function(e){return this.anchor.compute(e)}}),this.jsPlumbInstance.prototype.EndpointDropHandler=function(e){return function(n){var o=e.jsPlumb;e.removeClass(o.endpointDropAllowedClass),e.removeClass(o.endpointDropForbiddenClass);var r=o.getDropEvent(arguments),i=o.getDragObject(arguments),s=o.getAttribute(i,"dragId"),a=(o.getAttribute(i,"elId"),o.getAttribute(i,"originalScope")),u=o.getFloatingConnectionFor(s);if(null!=u){var l=null!=u.suspendedEndpoint;if(!l||null!=u.suspendedEndpoint._jsPlumb){var c=e.getEndpoint(u);if(null!=c){if(e.isRedrop(u,e))return u._forceReattach=!0,u.setHover(!1),void(e.maybeCleanup&&e.maybeCleanup(c));var d=o.getFloatingAnchorIndex(u);if(0===d&&!e.isSource||1===d&&!e.isTarget)e.maybeCleanup&&e.maybeCleanup(c);else{e.onDrop&&e.onDrop(u),a&&o.setDragScope(i,a);var p=e.isFull(n);if(p&&c.fire("maxConnections",{endpoint:this,connection:u,maxConnections:c._jsPlumb.maxConnections},r),!p&&e.enabled()){var f=!0;0===d?(u.floatingElement=u.source,u.floatingId=u.sourceId,u.floatingEndpoint=u.endpoints[0],u.floatingIndex=0,u.source=e.element,u.sourceId=e.elementId):(u.floatingElement=u.target,u.floatingId=u.targetId,u.floatingEndpoint=u.endpoints[1],u.floatingIndex=1,u.target=e.element,u.targetId=e.elementId),l&&u.suspendedEndpoint.id!==c.id&&(u.isDetachAllowed(u)&&u.endpoints[d].isDetachAllowed(u)&&u.suspendedEndpoint.isDetachAllowed(u)&&o.checkCondition("beforeDetach",u)||(f=!1));var h=function(n){u.endpoints[d].detachFromConnection(u),u.suspendedEndpoint&&u.suspendedEndpoint.detachFromConnection(u),u.endpoints[d]=c,c.addConnection(u);var i=c.getParameters();for(var s in i)u.setParameter(s,i[s]);if(l){var a=u.suspendedEndpoint.elementId;o.fireMoveEvent({index:d,originalSourceId:0===d?a:u.sourceId,newSourceId:0===d?c.elementId:u.sourceId,originalTargetId:1===d?a:u.targetId,newTargetId:1===d?c.elementId:u.targetId,originalSourceEndpoint:0===d?u.suspendedEndpoint:u.endpoints[0],newSourceEndpoint:0===d?c:u.endpoints[0],originalTargetEndpoint:1===d?u.suspendedEndpoint:u.endpoints[1],newTargetEndpoint:1===d?c:u.endpoints[1],connection:u},r)}else i.draggable&&o.initDraggable(this.element,e.dragOptions,"internal",o);1===d?o.anchorManager.updateOtherEndpoint(u.sourceId,u.floatingId,u.targetId,u):o.anchorManager.sourceChanged(u.floatingId,u.sourceId,u,u.source),u.endpoints[0].finalEndpoint&&(u.endpoints[0].detachFromConnection(u),u.endpoints[0]=u.endpoints[0].finalEndpoint,u.endpoints[0].addConnection(u)),t.isObject(n)&&u.mergeData(n),o.finaliseConnection(u,null,r,!1),u.setHover(!1)}.bind(this);if(f=f&&e.isDropAllowed(u.sourceId,u.targetId,u.scope,u,c))return h(f),!0;u.suspendedEndpoint&&(u.endpoints[d]=u.suspendedEndpoint,u.setHover(!1),u._forceDetach=!0,0===d?(u.source=u.suspendedEndpoint.element,u.sourceId=u.suspendedEndpoint.elementId):(u.target=u.suspendedEndpoint.element,u.targetId=u.suspendedEndpoint.elementId),u.suspendedEndpoint.addConnection(u),1===d?o.anchorManager.updateOtherEndpoint(u.sourceId,u.floatingId,u.targetId,u):o.anchorManager.sourceChanged(u.floatingId,u.sourceId,u,u.source),o.repaint(u.sourceId),u._forceDetach=!1)}e.maybeCleanup&&e.maybeCleanup(c),o.currentlyDragging=!1}}}}}}}.call("undefined"!=typeof window?window:this),function(){"use strict";var e=this,t=e.jsPlumb,n=e.jsPlumbUtil,o=function(e,n,o,r,i){if(!e.Defaults.DoNotThrowErrors&&null==t.Connectors[n][o])throw{msg:"jsPlumb: unknown connector type '"+o+"'"};return new t.Connectors[n][o](r,i)},r=function(e,t,n){return e?n.makeAnchor(e,t,n):null},i=function(e,t,o,r){null!=t&&(t._jsPlumbConnections=t._jsPlumbConnections||{},r?delete t._jsPlumbConnections[e.id]:t._jsPlumbConnections[e.id]=!0,n.isEmpty(t._jsPlumbConnections)?o.removeClass(t,o.connectedClass):o.addClass(t,o.connectedClass))};t.Connection=function(e){var o=e.newEndpoint;this.id=e.id,this.connector=null,this.idPrefix="_jsplumb_c_",this.defaultLabelLocation=.5,this.defaultOverlayKeys=["Overlays","ConnectionOverlays"],this.previousConnection=e.previousConnection,this.source=t.getElement(e.source),this.target=t.getElement(e.target),e.sourceEndpoint&&(this.source=e.sourceEndpoint.getElement()),e.targetEndpoint&&(this.target=e.targetEndpoint.getElement()),t.OverlayCapableJsPlumbUIComponent.apply(this,arguments),this.sourceId=this._jsPlumb.instance.getId(this.source),this.targetId=this._jsPlumb.instance.getId(this.target),this.scope=e.scope,this.endpoints=[],this.endpointStyles=[];var r=this._jsPlumb.instance;r.manage(this.sourceId,this.source),r.manage(this.targetId,this.target),this._jsPlumb.visible=!0,this._jsPlumb.editable=!0===e.editable,this._jsPlumb.params={cssClass:e.cssClass,container:e.container,"pointer-events":e["pointer-events"],editorParams:e.editorParams,overlays:e.overlays},this._jsPlumb.lastPaintedAt=null,this.bind("mouseover",function(){this.setHover(!0)}.bind(this)),this.bind("mouseout",function(){this.setHover(!1)}.bind(this)),this.editableRequested=!1!==e.editable,this.setEditable=function(e){return!!this.connector&&this.connector.setEditable(e)},this.isEditable=function(){return!!this.connector&&this.connector.isEditable()},this.isEditing=function(){return!!this.connector&&this.connector.isEditing()},this.makeEndpoint=function(t,n,i,s){return i=i||this._jsPlumb.instance.getId(n),this.prepareEndpoint(r,o,this,s,t?0:1,e,n,i)},e.type&&(e.endpoints=e.endpoints||this._jsPlumb.instance.deriveEndpointAndAnchorSpec(e.type).endpoints);var i=this.makeEndpoint(!0,this.source,this.sourceId,e.sourceEndpoint),s=this.makeEndpoint(!1,this.target,this.targetId,e.targetEndpoint);i&&n.addToList(e.endpointsByElement,this.sourceId,i),s&&n.addToList(e.endpointsByElement,this.targetId,s),this.scope||(this.scope=this.endpoints[0].scope),null!=e.deleteEndpointsOnEmpty&&(this.endpoints[0].setDeleteOnEmpty(e.deleteEndpointsOnEmpty),this.endpoints[1].setDeleteOnEmpty(e.deleteEndpointsOnEmpty));var a=r.Defaults.ConnectionsDetachable;!1===e.detachable&&(a=!1),!1===this.endpoints[0].connectionsDetachable&&(a=!1),!1===this.endpoints[1].connectionsDetachable&&(a=!1);var u=e.reattach||this.endpoints[0].reattachConnections||this.endpoints[1].reattachConnections||r.Defaults.ReattachConnections;this.appendToDefaultType({detachable:a,reattach:u,paintStyle:this.endpoints[0].connectorStyle||this.endpoints[1].connectorStyle||e.paintStyle||r.Defaults.PaintStyle||t.Defaults.PaintStyle,hoverPaintStyle:this.endpoints[0].connectorHoverStyle||this.endpoints[1].connectorHoverStyle||e.hoverPaintStyle||r.Defaults.HoverPaintStyle||t.Defaults.HoverPaintStyle});var l=r.getSuspendedAt();if(!r.isSuspendDrawing()){var c=r.getCachedData(this.sourceId),d=c.o,p=c.s,f=r.getCachedData(this.targetId),h=f.o,g=f.s,m=l||r.timestamp(),v=this.endpoints[0].anchor.compute({xy:[d.left,d.top],wh:p,element:this.endpoints[0],elementId:this.endpoints[0].elementId,txy:[h.left,h.top],twh:g,tElement:this.endpoints[1],timestamp:m});this.endpoints[0].paint({anchorLoc:v,timestamp:m}),v=this.endpoints[1].anchor.compute({xy:[h.left,h.top],wh:g,element:this.endpoints[1],elementId:this.endpoints[1].elementId,txy:[d.left,d.top],twh:p,tElement:this.endpoints[0],timestamp:m}),this.endpoints[1].paint({anchorLoc:v,timestamp:m})}this.getTypeDescriptor=function(){return"connection"},this.getAttachedElements=function(){return this.endpoints},this.isDetachable=function(){return!0===this._jsPlumb.detachable},this.setDetachable=function(e){this._jsPlumb.detachable=!0===e},this.isReattach=function(){return!0===this._jsPlumb.reattach||!0===this.endpoints[0].reattachConnections||!0===this.endpoints[1].reattachConnections},this.setReattach=function(e){this._jsPlumb.reattach=!0===e},this._jsPlumb.cost=e.cost||this.endpoints[0].getConnectionCost(),this._jsPlumb.directed=e.directed,null==e.directed&&(this._jsPlumb.directed=this.endpoints[0].areConnectionsDirected());var _=t.extend({},this.endpoints[1].getParameters());t.extend(_,this.endpoints[0].getParameters()),t.extend(_,this.getParameters()),this.setParameters(_),this.setConnector(this.endpoints[0].connector||this.endpoints[1].connector||e.connector||r.Defaults.Connector||t.Defaults.Connector,!0),e.geometry&&this.connector.setGeometry(e.geometry);var y=null!=e.data&&n.isObject(e.data)?e.data:{};this.getData=function(){return y},this.setData=function(e){y=e||{}},this.mergeData=function(e){y=t.extend(y,e)};var b=["default",this.endpoints[0].connectionType,this.endpoints[1].connectionType,e.type].join(" ");/[^\s]/.test(b)&&this.addType(b,e.data,!0),this.updateConnectedClass()},n.extend(t.Connection,t.OverlayCapableJsPlumbUIComponent,{applyType:function(e,n,o){var r=null;null!=e.connector&&(null==(r=this.getCachedTypeItem("connector",o.connector))&&(r=this.prepareConnector(e.connector,o.connector),this.cacheTypeItem("connector",r,o.connector)),this.setPreparedConnector(r)),null!=e.detachable&&this.setDetachable(e.detachable),null!=e.reattach&&this.setReattach(e.reattach),e.scope&&(this.scope=e.scope),null!=e.cssClass&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,e.cssClass);var i=null;e.anchor?null==(i=this.getCachedTypeItem("anchors",o.anchor))&&(i=[this._jsPlumb.instance.makeAnchor(e.anchor),this._jsPlumb.instance.makeAnchor(e.anchor)],this.cacheTypeItem("anchors",i,o.anchor)):e.anchors&&null==(i=this.getCachedTypeItem("anchors",o.anchors))&&(i=[this._jsPlumb.instance.makeAnchor(e.anchors[0]),this._jsPlumb.instance.makeAnchor(e.anchors[1])],this.cacheTypeItem("anchors",i,o.anchors)),null!=i&&(this.endpoints[0].anchor=i[0],this.endpoints[1].anchor=i[1],this.endpoints[1].anchor.isDynamic&&this._jsPlumb.instance.repaint(this.endpoints[1].elementId)),t.OverlayCapableJsPlumbUIComponent.applyType(this,e)},addClass:function(e,t){t&&(this.endpoints[0].addClass(e),this.endpoints[1].addClass(e),this.suspendedEndpoint&&this.suspendedEndpoint.addClass(e)),this.connector&&this.connector.addClass(e)},removeClass:function(e,t){t&&(this.endpoints[0].removeClass(e),this.endpoints[1].removeClass(e),this.suspendedEndpoint&&this.suspendedEndpoint.removeClass(e)),this.connector&&this.connector.removeClass(e)},isVisible:function(){return this._jsPlumb.visible},setVisible:function(e){this._jsPlumb.visible=e,this.connector&&this.connector.setVisible(e),this.repaint()},cleanup:function(){this.updateConnectedClass(!0),this.endpoints=null,this.source=null,this.target=null,null!=this.connector&&(this.connector.cleanup(!0),this.connector.destroy(!0)),this.connector=null},updateConnectedClass:function(e){this._jsPlumb&&(i(this,this.source,this._jsPlumb.instance,e),i(this,this.target,this._jsPlumb.instance,e))},setHover:function(t){this.connector&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&(this.connector.setHover(t),e.jsPlumb[t?"addClass":"removeClass"](this.source,this._jsPlumb.instance.hoverSourceClass),e.jsPlumb[t?"addClass":"removeClass"](this.target,this._jsPlumb.instance.hoverTargetClass))},getUuids:function(){return[this.endpoints[0].getUuid(),this.endpoints[1].getUuid()]},getCost:function(){return this._jsPlumb?this._jsPlumb.cost:-1/0},setCost:function(e){this._jsPlumb.cost=e},isDirected:function(){return this._jsPlumb.directed},getConnector:function(){return this.connector},getGeometry:function(){return this.connector?this.connector.getGeometry():null},setGeometry:function(e){this.connector&&this.connector.setGeometry(e)},prepareConnector:function(e,t){var r,i={_jsPlumb:this._jsPlumb.instance,cssClass:(this._jsPlumb.params.cssClass||"")+(this.isEditable()?this._jsPlumb.instance.editableConnectorClass:""),container:this._jsPlumb.params.container,"pointer-events":this._jsPlumb.params["pointer-events"],editable:this.editableRequested},s=this._jsPlumb.instance.getRenderMode();return n.isString(e)?r=o(this._jsPlumb.instance,s,e,i,this):n.isArray(e)&&(r=1===e.length?o(this._jsPlumb.instance,s,e[0],i,this):o(this._jsPlumb.instance,s,e[0],n.merge(e[1],i),this)),null!=t&&(r.typeId=t),r},setPreparedConnector:function(e,t,n,o){if(this.connector!==e){var r,i="";if(null!=this.connector&&(i=(r=this.connector).getClass(),this.connector.cleanup(),this.connector.destroy()),this.connector=e,o&&this.cacheTypeItem("connector",e,o),this.canvas=this.connector.canvas,this.bgCanvas=this.connector.bgCanvas,this.addClass(i),this.canvas&&(this.canvas._jsPlumb=this),this.bgCanvas&&(this.bgCanvas._jsPlumb=this),null!=r)for(var s=this.getOverlays(),a=0;a<s.length;a++)s[a].transfer&&s[a].transfer(this.connector);n||this.setListenerComponent(this.connector),t||this.repaint()}},setConnector:function(e,t,n,o){var r=this.prepareConnector(e,o);this.setPreparedConnector(r,t,n,o)},paint:function(e){if(!this._jsPlumb.instance.isSuspendDrawing()&&this._jsPlumb.visible){var t=(e=e||{}).timestamp,n=this.targetId,o=this.sourceId;if(null==t||t!==this._jsPlumb.lastPaintedAt){var r=this._jsPlumb.instance.updateOffset({elId:o}).o,i=this._jsPlumb.instance.updateOffset({elId:n}).o,s=this.endpoints[0],a=this.endpoints[1],u=s.anchor.getCurrentLocation({xy:[r.left,r.top],wh:[r.width,r.height],element:s,timestamp:t}),l=a.anchor.getCurrentLocation({xy:[i.left,i.top],wh:[i.width,i.height],element:a,timestamp:t});this.connector.resetBounds(),this.connector.compute({sourcePos:u,targetPos:l,sourceEndpoint:this.endpoints[0],targetEndpoint:this.endpoints[1],"stroke-width":this._jsPlumb.paintStyleInUse.strokeWidth,sourceInfo:r,targetInfo:i});var c={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};for(var d in this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(d)){var p=this._jsPlumb.overlays[d];p.isVisible()&&(this._jsPlumb.overlayPlacements[d]=p.draw(this.connector,this._jsPlumb.paintStyleInUse,this.getAbsoluteOverlayPosition(p)),c.minX=Math.min(c.minX,this._jsPlumb.overlayPlacements[d].minX),c.maxX=Math.max(c.maxX,this._jsPlumb.overlayPlacements[d].maxX),c.minY=Math.min(c.minY,this._jsPlumb.overlayPlacements[d].minY),c.maxY=Math.max(c.maxY,this._jsPlumb.overlayPlacements[d].maxY))}var f=parseFloat(this._jsPlumb.paintStyleInUse.strokeWidth||1)/2,h=parseFloat(this._jsPlumb.paintStyleInUse.strokeWidth||0),g={xmin:Math.min(this.connector.bounds.minX-(f+h),c.minX),ymin:Math.min(this.connector.bounds.minY-(f+h),c.minY),xmax:Math.max(this.connector.bounds.maxX+(f+h),c.maxX),ymax:Math.max(this.connector.bounds.maxY+(f+h),c.maxY)};this.connector.paint(this._jsPlumb.paintStyleInUse,null,g);for(var m in this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(m)){var v=this._jsPlumb.overlays[m];v.isVisible()&&v.paint(this._jsPlumb.overlayPlacements[m],g)}}this._jsPlumb.lastPaintedAt=t}},repaint:function(e){e=e||{},this.paint({elId:this.sourceId,recalc:!(!1===e.recalc),timestamp:e.timestamp})},prepareEndpoint:function(e,n,o,i,s,a,u,l){var c;if(i)o.endpoints[s]=i,i.addConnection(o);else{a.endpoints||(a.endpoints=[null,null]);var d=a.endpoints[s]||a.endpoint||e.Defaults.Endpoints[s]||t.Defaults.Endpoints[s]||e.Defaults.Endpoint||t.Defaults.Endpoint;a.endpointStyles||(a.endpointStyles=[null,null]),a.endpointHoverStyles||(a.endpointHoverStyles=[null,null]);var p=a.endpointStyles[s]||a.endpointStyle||e.Defaults.EndpointStyles[s]||t.Defaults.EndpointStyles[s]||e.Defaults.EndpointStyle||t.Defaults.EndpointStyle;null==p.fill&&null!=a.paintStyle&&(p.fill=a.paintStyle.stroke),null==p.outlineStroke&&null!=a.paintStyle&&(p.outlineStroke=a.paintStyle.outlineStroke),null==p.outlineWidth&&null!=a.paintStyle&&(p.outlineWidth=a.paintStyle.outlineWidth);var f=a.endpointHoverStyles[s]||a.endpointHoverStyle||e.Defaults.EndpointHoverStyles[s]||t.Defaults.EndpointHoverStyles[s]||e.Defaults.EndpointHoverStyle||t.Defaults.EndpointHoverStyle;null!=a.hoverPaintStyle&&(null==f&&(f={}),null==f.fill&&(f.fill=a.hoverPaintStyle.stroke));var h=a.anchors?a.anchors[s]:a.anchor?a.anchor:r(e.Defaults.Anchors[s],l,e)||r(t.Defaults.Anchors[s],l,e)||r(e.Defaults.Anchor,l,e)||r(t.Defaults.Anchor,l,e);c=n({paintStyle:p,hoverPaintStyle:f,endpoint:d,connections:[o],uuid:a.uuids?a.uuids[s]:null,anchor:h,source:u,scope:a.scope,reattach:a.reattach||e.Defaults.ReattachConnections,detachable:a.detachable||e.Defaults.ConnectionsDetachable}),null==i&&c.setDeleteOnEmpty(!0),o.endpoints[s]=c,!1===a.drawEndpoints&&c.setVisible(!1,!0,!0)}return c}})}.call("undefined"!=typeof window?window:this),function(){"use strict";var e=this.jsPlumbUtil,t=this.jsPlumb;t.AnchorManager=function(n){var o={},r={},i={},s={},a=["left","top","right","bottom"],u={},l=this,c={},d=n.jsPlumbInstance,p={},f=function(e,t,n,o,r,i){if(e===t)return{orientation:"identity",a:["top","top"]};var s=Math.atan2(o.centery-n.centery,o.centerx-n.centerx),u=Math.atan2(n.centery-o.centery,n.centerx-o.centerx),l=[],c={};!function(e,t){for(var n=0;n<e.length;n++)c[e[n]]={left:[t[n].left,t[n].centery],right:[t[n].right,t[n].centery],top:[t[n].centerx,t[n].top],bottom:[t[n].centerx,t[n].bottom]}}(["source","target"],[n,o]);for(var d=0;d<a.length;d++)for(var p=0;p<a.length;p++)l.push({source:a[d],target:a[p],dist:Biltong.lineLength(c.source[a[d]],c.target[a[p]])});l.sort(function(e,t){return e.dist<t.dist?-1:e.dist>t.dist?1:0});for(var f=l[0].source,h=l[0].target,g=0;g<l.length&&(f=!r.isContinuous||r.isEdgeSupported(l[g].source)?l[g].source:null,h=!i.isContinuous||i.isEdgeSupported(l[g].target)?l[g].target:null,null==f||null==h);g++);return r.isContinuous&&r.setCurrentFace(f),i.isContinuous&&i.setCurrentFace(h),{a:[f,h],theta:s,theta2:u}},h=function(e){return function(t,n){return!1==(e?t[0][0]<n[0][0]:t[0][0]>n[0][0])?-1:1}},g={top:function(e,t){return e[0]>t[0]?1:-1},right:h(!0),bottom:h(!0),left:function(e,t){return(e[0][0]<0?-Math.PI-e[0][0]:Math.PI-e[0][0])>(t[0][0]<0?-Math.PI-t[0][0]:Math.PI-t[0][0])?1:-1}},m=function(e,t){var n=d.getCachedData(e),o=n.s,i=n.o,a=function(t,n,o,i,a,u,l){if(i.length>0)for(var c=function(e,t,n,o,r,i,s){for(var a=[],u=t[r?0:1]/(o.length+1),l=0;l<o.length;l++){var c=(l+1)*u,d=i*t[r?1:0];s&&(c=t[r?0:1]-c);var p=r?c:d,f=n[0]+p,h=p/t[0],g=r?d:c,m=n[1]+g,v=g/t[1];a.push([f,m,h,v,o[l][1],o[l][2]])}return a}(0,n,o,function(e,t){return i.sort(t)}(0,g[t]),a,u,"right"===t||"top"===t),d=function(e,t){r[e.id]=[t[0],t[1],t[2],t[3]],s[e.id]=l},p=0;p<c.length;p++){var f=c[p][4],h=f.endpoints[0].elementId===e,m=f.endpoints[1].elementId===e;h&&d(f.endpoints[0],c[p]),m&&d(f.endpoints[1],c[p])}};a("bottom",o,[i.left,i.top],t.bottom,!0,1,[0,1]),a("top",o,[i.left,i.top],t.top,!0,0,[0,-1]),a("left",o,[i.left,i.top],t.left,!1,0,[-1,0]),a("right",o,[i.left,i.top],t.right,!1,1,[1,0])};this.reset=function(){o={},u={},c={}},this.addFloatingConnection=function(e,t){p[e]=t},this.removeFloatingConnection=function(e){delete p[e]},this.newConnection=function(n){var o=n.sourceId,r=n.targetId,i=n.endpoints,s=!0,a=function(a,l,c,d,p){o===r&&c.isContinuous&&(n._jsPlumb.instance.removeElement(i[1].canvas),s=!1),e.addToList(u,d,[p,l,c.constructor===t.DynamicAnchor])};a(0,i[0],i[0].anchor,r,n),s&&a(0,i[1],i[1].anchor,o,n)};var v=function(t){!function(t,n){if(t){var o=function(e){return e[4]===n};e.removeWithFunction(t.top,o),e.removeWithFunction(t.left,o),e.removeWithFunction(t.bottom,o),e.removeWithFunction(t.right,o)}}(c[t.elementId],t.id)};this.connectionDetached=function(t,n){var o=t.connection||t,r=t.sourceId,i=t.targetId,s=o.endpoints,a=function(t,n,o,r,i){e.removeWithFunction(u[r],function(e){return e[0].id===i.id})};a(0,s[1],s[1].anchor,r,o),a(0,s[0],s[0].anchor,i,o),o.floatingId&&(a(o.floatingIndex,o.floatingEndpoint,o.floatingEndpoint.anchor,o.floatingId,o),v(o.floatingEndpoint)),v(o.endpoints[0]),v(o.endpoints[1]),n||(l.redraw(o.sourceId),o.targetId!==o.sourceId&&l.redraw(o.targetId))},this.add=function(t,n){e.addToList(o,n,t)},this.changeId=function(e,t){u[t]=u[e],o[t]=o[e],delete u[e],delete o[e]},this.getConnectionsFor=function(e){return u[e]||[]},this.getEndpointsFor=function(e){return o[e]||[]},this.deleteEndpoint=function(t){e.removeWithFunction(o[t.elementId],function(e){return e.id===t.id}),v(t)},this.clearFor=function(e){delete o[e],o[e]=[]};var _=function(t,o,r,i,s,a,u,l,c,d,p,f){var h,g,m=-1,v=i.endpoints[u],_=v.id,y=[1,0][u],b=[[o,r],i,s,a,_],E=t[c],C=v._continuousAnchorEdge?t[v._continuousAnchorEdge]:null;if(C){var w=e.findWithFunction(C,function(e){return e[4]===_});if(-1!==w)for(C.splice(w,1),h=0;h<C.length;h++)g=C[h][1],e.addWithFunction(p,g,function(e){return e.id===g.id}),e.addWithFunction(f,C[h][1].endpoints[u],function(e){return e.id===g.endpoints[u].id}),e.addWithFunction(f,C[h][1].endpoints[y],function(e){return e.id===g.endpoints[y].id})}for(h=0;h<E.length;h++)g=E[h][1],1===n.idx&&E[h][3]===a&&-1===m&&(m=h),e.addWithFunction(p,g,function(e){return e.id===g.id}),e.addWithFunction(f,E[h][1].endpoints[u],function(e){return e.id===g.endpoints[u].id}),e.addWithFunction(f,E[h][1].endpoints[y],function(e){return e.id===g.endpoints[y].id});var x=l?-1!==m?m:0:E.length;E.splice(x,0,b),v._continuousAnchorEdge=c};this.updateOtherEndpoint=function(n,o,r,i){var s=e.findWithFunction(u[n],function(e){return e[0].id===i.id}),a=e.findWithFunction(u[o],function(e){return e[0].id===i.id});-1!==s&&(u[n][s][0]=i,u[n][s][1]=i.endpoints[1],u[n][s][2]=i.endpoints[1].anchor.constructor===t.DynamicAnchor),a>-1&&(u[o].splice(a,1),e.addToList(u,r,[i,i.endpoints[0],i.endpoints[0].anchor.constructor===t.DynamicAnchor])),i.updateConnectedClass()},this.sourceChanged=function(n,o,r,i){if(n!==o){r.sourceId=o,r.source=i,e.removeWithFunction(u[n],function(e){return e[0].id===r.id});var s=e.findWithFunction(u[r.targetId],function(e){return e[0].id===r.id});s>-1&&(u[r.targetId][s][0]=r,u[r.targetId][s][1]=r.endpoints[0],u[r.targetId][s][2]=r.endpoints[0].anchor.constructor===t.DynamicAnchor),e.addToList(u,o,[r,r.endpoints[1],r.endpoints[1].anchor.constructor===t.DynamicAnchor]),r.endpoints[1].anchor.isContinuous&&(r.source===r.target?r._jsPlumb.instance.removeElement(r.endpoints[1].canvas):null==r.endpoints[1].canvas.parentNode&&r._jsPlumb.instance.appendElement(r.endpoints[1].canvas)),r.updateConnectedClass()}},this.rehomeEndpoint=function(e,t,n){var r=o[t]||[],i=d.getId(n);if(i!==t){var s=r.indexOf(e);if(s>-1){var a=r.splice(s,1)[0];l.add(a,i)}}for(var u=0;u<e.connections.length;u++)e.connections[u].sourceId===t?l.sourceChanged(t,e.elementId,e.connections[u],e.element):e.connections[u].targetId===t&&(e.connections[u].targetId=e.elementId,e.connections[u].target=e.element,l.updateOtherEndpoint(e.connections[u].sourceId,t,e.elementId,e.connections[u]))},this.redraw=function(n,r,i,s,a,l){if(!d.isSuspendDrawing()){var h=o[n]||[],g=u[n]||[],v=[],y=[],b=[];i=i||d.timestamp(),s=s||{left:0,top:0},r&&(r={left:r.left+s.left,top:r.top+s.top});for(var E=d.updateOffset({elId:n,offset:r,recalc:!1,timestamp:i}),C={},w=0;w<g.length;w++){var x=g[w][0],O=x.sourceId,S=x.targetId,A=x.endpoints[0].anchor.isContinuous,T=x.endpoints[1].anchor.isContinuous;if(A||T){var P=O+"_"+S,D=C[P],k=x.sourceId===n?1:0;A&&!c[O]&&(c[O]={top:[],right:[],bottom:[],left:[]}),T&&!c[S]&&(c[S]={top:[],right:[],bottom:[],left:[]}),n!==S&&d.updateOffset({elId:S,timestamp:i}),n!==O&&d.updateOffset({elId:O,timestamp:i});var N=d.getCachedData(S),R=d.getCachedData(O);S===O&&(A||T)?(_(c[O],-Math.PI/2,0,x,!1,S,0,!1,"top",0,v,y),_(c[S],-Math.PI/2,0,x,!1,O,1,!1,"top",0,v,y)):(D||(D=f(O,S,R.o,N.o,x.endpoints[0].anchor,x.endpoints[1].anchor),C[P]=D),A&&_(c[O],D.theta,0,x,!1,S,0,!1,D.a[0],0,v,y),T&&_(c[S],D.theta2,-1,x,!0,O,1,!0,D.a[1],0,v,y)),A&&e.addWithFunction(b,O,function(e){return e===O}),T&&e.addWithFunction(b,S,function(e){return e===S}),e.addWithFunction(v,x,function(e){return e.id===x.id}),(A&&0===k||T&&1===k)&&e.addWithFunction(y,x.endpoints[k],function(e){return e.id===x.endpoints[k].id})}}for(w=0;w<h.length;w++)0===h[w].connections.length&&h[w].anchor.isContinuous&&(c[n]||(c[n]={top:[],right:[],bottom:[],left:[]}),_(c[n],-Math.PI/2,0,{endpoints:[h[w],h[w]],paint:function(){}},!1,n,0,!1,h[w].anchor.getDefaultFace(),0,v,y),e.addWithFunction(b,n,function(e){return e===n}));for(w=0;w<b.length;w++)m(b[w],c[b[w]]);for(w=0;w<h.length;w++)h[w].paint({timestamp:i,offset:E,dimensions:E.s,recalc:!0!==l});for(w=0;w<y.length;w++){var j=d.getCachedData(y[w].elementId);y[w].paint({timestamp:i,offset:j,dimensions:j.s})}for(w=0;w<g.length;w++){var I=g[w][1];if(I.anchor.constructor===t.DynamicAnchor){I.paint({elementWithPrecedence:n,timestamp:i}),e.addWithFunction(v,g[w][0],function(e){return e.id===g[w][0].id});for(var M=0;M<I.connections.length;M++)I.connections[M]!==g[w][0]&&e.addWithFunction(v,I.connections[M],function(e){return e.id===I.connections[M].id})}else e.addWithFunction(v,g[w][0],function(e){return e.id===g[w][0].id})}var L=p[n];for(L&&L.paint({timestamp:i,recalc:!1,elId:n}),w=0;w<v.length;w++)v[w].paint({elId:n,timestamp:i,recalc:!1,clearEdits:a})}},d.continuousAnchorFactory={get:function(t){return new function(t){e.EventGenerator.apply(this),this.type="Continuous",this.isDynamic=!0,this.isContinuous=!0;for(var n=t.faces||["top","right","bottom","left"],o=!(!1===t.clockwise),a={},u={top:"bottom",right:"left",left:"right",bottom:"top"},l={top:"right",right:"bottom",left:"top",bottom:"left"},c={top:"left",right:"top",left:"bottom",bottom:"right"},d=o?l:c,p=o?c:l,f=t.cssClass||"",h=null,g=null,m=["left","right"],v=["top","bottom"],_=null,y=0;y<n.length;y++)a[n[y]]=!0;this.getDefaultFace=function(){return 0===n.length?"top":n[0]},this.verifyEdge=function(e){return a[e]?e:a[u[e]]?u[e]:a[d[e]]?d[e]:a[p[e]]?p[e]:e},this.isEdgeSupported=function(e){return null==_?null==g?!0===a[e]:g===e:-1!==_.indexOf(e)},this.setCurrentFace=function(e){h=e},this.getCurrentFace=function(){return h},this.lockCurrentFace=function(){g=h},this.unlockCurrentFace=function(){g=null},this.lockCurrentAxis=function(){null!=h&&(_="left"===h||"right"===h?m:v)},this.unlockCurrentAxis=function(){_=null},this.compute=function(e){return i[e.element.id]||r[e.element.id]||[0,0]},this.getCurrentLocation=function(e){return i[e.element.id]||r[e.element.id]||[0,0]},this.getOrientation=function(e){return s[e.id]||[0,0]},this.clearUserDefinedLocation=function(){delete i[t.elementId]},this.setUserDefinedLocation=function(e){i[t.elementId]=e},this.getCssClass=function(){return f}}(t)},clear:function(e){delete i[e],delete r[e]}}},t.Anchor=function(t){this.x=t.x||0,this.y=t.y||0,this.elementId=t.elementId,this.cssClass=t.cssClass||"",this.userDefinedLocation=null,this.orientation=t.orientation||[0,0],this.lastReturnValue=null,this.offsets=t.offsets||[0,0],this.timestamp=null,e.EventGenerator.apply(this),this.compute=function(e){var t=e.xy,n=e.wh,o=e.timestamp;return e.clearUserDefinedLocation&&(this.userDefinedLocation=null),o&&o===this.timestamp?this.lastReturnValue:(null!=this.userDefinedLocation?this.lastReturnValue=this.userDefinedLocation:this.lastReturnValue=[t[0]+this.x*n[0]+this.offsets[0],t[1]+this.y*n[1]+this.offsets[1]],this.timestamp=o,this.lastReturnValue)},this.getCurrentLocation=function(e){return e=e||{},null==this.lastReturnValue||null!=e.timestamp&&this.timestamp!==e.timestamp?this.compute(e):this.lastReturnValue}},e.extend(t.Anchor,e.EventGenerator,{equals:function(e){if(!e)return!1;var t=e.getOrientation(),n=this.getOrientation();return this.x===e.x&&this.y===e.y&&this.offsets[0]===e.offsets[0]&&this.offsets[1]===e.offsets[1]&&n[0]===t[0]&&n[1]===t[1]},getUserDefinedLocation:function(){return this.userDefinedLocation},setUserDefinedLocation:function(e){this.userDefinedLocation=e},clearUserDefinedLocation:function(){this.userDefinedLocation=null},getOrientation:function(){return this.orientation},getCssClass:function(){return this.cssClass}}),t.FloatingAnchor=function(e){t.Anchor.apply(this,arguments);var n=e.reference,o=e.referenceCanvas,r=t.getSize(o),i=null,s=null;this.orientation=null,this.x=0,this.y=0,this.isFloating=!0,this.compute=function(e){var t=e.xy,n=[t[0]+r[0]/2,t[1]+r[1]/2];return s=n,n},this.getOrientation=function(e){if(i)return i;var t=n.getOrientation(e);return[0*Math.abs(t[0])*-1,0*Math.abs(t[1])*-1]},this.over=function(e,t){i=e.getOrientation(t)},this.out=function(){i=null},this.getCurrentLocation=function(e){return null==s?this.compute(e):s}},e.extend(t.FloatingAnchor,t.Anchor);var n=function(e,n,o){return e.constructor===t.Anchor?e:n.makeAnchor(e,o,n)};t.DynamicAnchor=function(e){t.Anchor.apply(this,arguments),this.isDynamic=!0,this.anchors=[],this.elementId=e.elementId,this.jsPlumbInstance=e.jsPlumbInstance;for(var o=0;o<e.anchors.length;o++)this.anchors[o]=n(e.anchors[o],this.jsPlumbInstance,this.elementId);this.getAnchors=function(){return this.anchors},this.locked=!1;var r=this.anchors.length>0?this.anchors[0]:null,i=r,s=this,a=function(e,t,n,o,r){var i=o[0]+e.x*r[0],s=o[1]+e.y*r[1],a=o[0]+r[0]/2,u=o[1]+r[1]/2;return Math.sqrt(Math.pow(t-i,2)+Math.pow(n-s,2))+Math.sqrt(Math.pow(a-i,2)+Math.pow(u-s,2))},u=e.selector||function(e,t,n,o,r){for(var i=n[0]+o[0]/2,s=n[1]+o[1]/2,u=-1,l=1/0,c=0;c<r.length;c++){var d=a(r[c],i,s,e,t);d<l&&(u=c+0,l=d)}return r[u]};this.compute=function(e){var t=e.xy,n=e.wh,o=e.txy,a=e.twh;this.timestamp=e.timestamp;var l=s.getUserDefinedLocation();return null!=l?l:this.locked||null==o||null==a?r.compute(e):(e.timestamp=null,r=u(t,n,o,a,this.anchors),this.x=r.x,this.y=r.y,r!==i&&this.fire("anchorChanged",r),i=r,r.compute(e))},this.getCurrentLocation=function(e){return this.getUserDefinedLocation()||(null!=r?r.getCurrentLocation(e):null)},this.getOrientation=function(e){return null!=r?r.getOrientation(e):[0,0]},this.over=function(e,t){null!=r&&r.over(e,t)},this.out=function(){null!=r&&r.out()},this.getCssClass=function(){return r&&r.getCssClass()||""}},e.extend(t.DynamicAnchor,t.Anchor);var o=function(e,n,o,r,i,s){t.Anchors[i]=function(t){var a=t.jsPlumbInstance.makeAnchor([e,n,o,r,0,0],t.elementId,t.jsPlumbInstance);return a.type=i,s&&s(a,t),a}};o(.5,0,0,-1,"TopCenter"),o(.5,1,0,1,"BottomCenter"),o(0,.5,-1,0,"LeftMiddle"),o(1,.5,1,0,"RightMiddle"),o(.5,0,0,-1,"Top"),o(.5,1,0,1,"Bottom"),o(0,.5,-1,0,"Left"),o(1,.5,1,0,"Right"),o(.5,.5,0,0,"Center"),o(1,0,0,-1,"TopRight"),o(1,1,0,1,"BottomRight"),o(0,0,0,-1,"TopLeft"),o(0,1,0,1,"BottomLeft"),t.Defaults.DynamicAnchors=function(e){return e.jsPlumbInstance.makeAnchors(["TopCenter","RightMiddle","BottomCenter","LeftMiddle"],e.elementId,e.jsPlumbInstance)},t.Anchors.AutoDefault=function(e){var n=e.jsPlumbInstance.makeDynamicAnchor(t.Defaults.DynamicAnchors(e));return n.type="AutoDefault",n};var r=function(e,n){t.Anchors[e]=function(t){var o=t.jsPlumbInstance.makeAnchor(["Continuous",{faces:n}],t.elementId,t.jsPlumbInstance);return o.type=e,o}};t.Anchors.Continuous=function(e){return e.jsPlumbInstance.continuousAnchorFactory.get(e)},r("ContinuousLeft",["left"]),r("ContinuousTop",["top"]),r("ContinuousBottom",["bottom"]),r("ContinuousRight",["right"]),o(0,0,0,0,"Assign",function(e,t){var n=t.position||"Fixed";e.positionFinder=n.constructor===String?t.jsPlumbInstance.AnchorPositionFinders[n]:n,e.constructorParams=t}),this.jsPlumbInstance.prototype.AnchorPositionFinders={Fixed:function(e,t,n){return[(e.left-t.left)/n[0],(e.top-t.top)/n[1]]},Grid:function(e,t,n,o){var r=e.left-t.left,i=e.top-t.top,s=n[0]/o.grid[0],a=n[1]/o.grid[1],u=Math.floor(r/s),l=Math.floor(i/a);return[(u*s+s/2)/n[0],(l*a+a/2)/n[1]]}},t.Anchors.Perimeter=function(e){var t=(e=e||{}).anchorCount||60,n=e.shape;if(!n)throw new Error("no shape supplied to Perimeter Anchor type");var o=function(){for(var e=2*Math.PI/t,n=0,o=[],r=0;r<t;r++){var i=.5+.5*Math.sin(n),s=.5+.5*Math.cos(n);o.push([i,s,0,0]),n+=e}return o},r=function(e){for(var n=t/e.length,o=[],r=function(e,r,i,s,a){for(var u=(i-e)/(n=t*a),l=(s-r)/n,c=0;c<n;c++)o.push([e+u*c,r+l*c,0,0])},i=0;i<e.length;i++)r.apply(null,e[i]);return o},i=function(e){for(var t=[],n=0;n<e.length;n++)t.push([e[n][0],e[n][1],e[n][2],e[n][3],1/e.length]);return r(t)},s=function(){return i([[0,0,1,0],[1,0,1,1],[1,1,0,1],[0,1,0,0]])},a={Circle:o,Ellipse:o,Diamond:function(){return i([[.5,0,1,.5],[1,.5,.5,1],[.5,1,0,.5],[0,.5,.5,0]])},Rectangle:s,Square:s,Triangle:function(){return i([[.5,0,1,1],[1,1,0,1],[0,1,.5,0]])},Path:function(e){for(var t=e.points,n=[],o=0,i=0;i<t.length-1;i++){var s=Math.sqrt(Math.pow(t[i][2]-t[i][0])+Math.pow(t[i][3]-t[i][1]));o+=s,n.push([t[i][0],t[i][1],t[i+1][0],t[i+1][1],s])}for(var a=0;a<n.length;a++)n[a][4]=n[a][4]/o;return r(n)}};if(!a[n])throw new Error("Shape ["+n+"] is unknown by Perimeter Anchor type");var u=a[n](e);e.rotation&&(u=function(t,n){for(var o=[],r=e.rotation/180*Math.PI,i=0;i<t.length;i++){var s=t[i][0]-.5,a=t[i][1]-.5;o.push([s*Math.cos(r)-a*Math.sin(r)+.5,s*Math.sin(r)+a*Math.cos(r)+.5,t[i][2],t[i][3]])}return o}(u));var l=e.jsPlumbInstance.makeDynamicAnchor(u);return l.type="Perimeter",l}}.call("undefined"!=typeof window?window:this),function(){"use strict";var e=this,t=e.jsPlumb,n=e.jsPlumbUtil,o=e.Biltong;t.Segments={AbstractSegment:function(e){this.params=e,this.findClosestPointOnPath=function(e,t){return{d:1/0,x:null,y:null,l:null}},this.getBounds=function(){return{minX:Math.min(e.x1,e.x2),minY:Math.min(e.y1,e.y2),maxX:Math.max(e.x1,e.x2),maxY:Math.max(e.y1,e.y2)}}},Straight:function(e){var n,r,i,s,a,u,l;t.Segments.AbstractSegment.apply(this,arguments),this.type="Straight",this.getLength=function(){return n},this.getGradient=function(){return r},this.getCoordinates=function(){return{x1:s,y1:u,x2:a,y2:l}},this.setCoordinates=function(e){s=e.x1,u=e.y1,a=e.x2,l=e.y2,n=Math.sqrt(Math.pow(a-s,2)+Math.pow(l-u,2)),r=o.gradient({x:s,y:u},{x:a,y:l}),i=-1/r},this.setCoordinates({x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}),this.getBounds=function(){return{minX:Math.min(s,a),minY:Math.min(u,l),maxX:Math.max(s,a),maxY:Math.max(u,l)}},this.pointOnPath=function(e,t){if(0!==e||t){if(1!==e||t){var r=t?e>0?e:n+e:e*n;return o.pointOnLine({x:s,y:u},{x:a,y:l},r)}return{x:a,y:l}}return{x:s,y:u}},this.gradientAtPoint=function(e){return r},this.pointAlongPathFrom=function(e,t,n){var r=this.pointOnPath(e,n),i=t<=0?{x:s,y:u}:{x:a,y:l};return t<=0&&Math.abs(t)>1&&(t*=-1),o.pointOnLine(r,i,t)};var c=function(e,t,n){return n>=Math.min(e,t)&&n<=Math.max(e,t)},d=function(e,t,n){return Math.abs(n-e)<Math.abs(n-t)?e:t};this.findClosestPointOnPath=function(e,t){var p={d:1/0,x:null,y:null,l:null,x1:s,x2:a,y1:u,y2:l};if(0===r)p.y=u,p.x=c(s,a,e)?e:d(s,a,e);else if(r===1/0||r===-1/0)p.x=s,p.y=c(u,l,t)?t:d(u,l,t);else{var f=u-r*s,h=(t-i*e-f)/(r-i),g=r*h+f;p.x=c(s,a,h)?h:d(s,a,h),p.y=c(u,l,g)?g:d(u,l,g)}var m=o.lineLength([p.x,p.y],[s,u]);return p.d=o.lineLength([e,t],[p.x,p.y]),p.l=m/n,p}},Arc:function(e){t.Segments.AbstractSegment.apply(this,arguments);var n=function(t,n){return o.theta([e.cx,e.cy],[t,n])},r=2*Math.PI;this.radius=e.r,this.anticlockwise=e.ac,this.type="Arc",e.startAngle&&e.endAngle?(this.startAngle=e.startAngle,this.endAngle=e.endAngle,this.x1=e.cx+this.radius*Math.cos(e.startAngle),this.y1=e.cy+this.radius*Math.sin(e.startAngle),this.x2=e.cx+this.radius*Math.cos(e.endAngle),this.y2=e.cy+this.radius*Math.sin(e.endAngle)):(this.startAngle=n(e.x1,e.y1),this.endAngle=n(e.x2,e.y2),this.x1=e.x1,this.y1=e.y1,this.x2=e.x2,this.y2=e.y2),this.endAngle<0&&(this.endAngle+=r),this.startAngle<0&&(this.startAngle+=r);var i=this.endAngle<this.startAngle?this.endAngle+r:this.endAngle;this.sweep=Math.abs(i-this.startAngle),this.anticlockwise&&(this.sweep=r-this.sweep);var s=2*Math.PI*this.radius,a=this.sweep/r,u=s*a;this.getLength=function(){return u},this.getBounds=function(){return{minX:e.cx-e.r,maxX:e.cx+e.r,minY:e.cy-e.r,maxY:e.cy+e.r}};var l=function(e){var t=Math.floor(e),n=Math.ceil(e);return e-t<1e-10?t:n-e<1e-10?n:e};this.pointOnPath=function(t,n){if(0===t)return{x:this.x1,y:this.y1,theta:this.startAngle};if(1===t)return{x:this.x2,y:this.y2,theta:this.endAngle};n&&(t/=u);var o=function(e,t){if(e.anticlockwise){var n=e.startAngle<e.endAngle?e.startAngle+r:e.startAngle;return n-Math.abs(n-e.endAngle)*t}var o=e.endAngle<e.startAngle?e.endAngle+r:e.endAngle,i=Math.abs(o-e.startAngle);return e.startAngle+i*t}(this,t),i=e.cx+e.r*Math.cos(o),s=e.cy+e.r*Math.sin(o);return{x:l(i),y:l(s),theta:o}},this.gradientAtPoint=function(t,n){var r=this.pointOnPath(t,n),i=o.normal([e.cx,e.cy],[r.x,r.y]);return this.anticlockwise||i!==1/0&&i!==-1/0||(i*=-1),i},this.pointAlongPathFrom=function(t,n,o){var r=this.pointOnPath(t,o),i=n/s*2*Math.PI,a=this.anticlockwise?-1:1,u=r.theta+a*i;return{x:e.cx+this.radius*Math.cos(u),y:e.cy+this.radius*Math.sin(u)}}},Bezier:function(n){this.curve=[{x:n.x1,y:n.y1},{x:n.cp1x,y:n.cp1y},{x:n.cp2x,y:n.cp2y},{x:n.x2,y:n.y2}],t.Segments.AbstractSegment.apply(this,arguments),this.bounds={minX:Math.min(n.x1,n.x2,n.cp1x,n.cp2x),minY:Math.min(n.y1,n.y2,n.cp1y,n.cp2y),maxX:Math.max(n.x1,n.x2,n.cp1x,n.cp2x),maxY:Math.max(n.y1,n.y2,n.cp1y,n.cp2y)},this.type="Bezier";var o=function(t,n,o){return o&&(n=e.jsBezier.locationAlongCurveFrom(t,n>0?0:1,n)),n};this.pointOnPath=function(t,n){return t=o(this.curve,t,n),e.jsBezier.pointOnCurve(this.curve,t)},this.gradientAtPoint=function(t,n){return t=o(this.curve,t,n),e.jsBezier.gradientAtPoint(this.curve,t)},this.pointAlongPathFrom=function(t,n,r){return t=o(this.curve,t,r),e.jsBezier.pointAlongCurveFrom(this.curve,t,n)},this.getLength=function(){return e.jsBezier.getLength(this.curve)},this.getBounds=function(){return this.bounds}}},t.SegmentRenderer={getPath:function(e){return{Straight:function(){var t=e.getCoordinates();return"M "+t.x1+" "+t.y1+" L "+t.x2+" "+t.y2},Bezier:function(){var t=e.params;return"M "+t.x1+" "+t.y1+" C "+t.cp1x+" "+t.cp1y+" "+t.cp2x+" "+t.cp2y+" "+t.x2+" "+t.y2},Arc:function(){var t=e.params,n=e.sweep>Math.PI?1:0,o=e.anticlockwise?0:1;return"M"+e.x1+" "+e.y1+" A "+e.radius+" "+t.r+" 0 "+n+","+o+" "+e.x2+" "+e.y2}}[e.type]()}};var r=function(){this.resetBounds=function(){this.bounds={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}},this.resetBounds()};t.Connectors.AbstractConnector=function(e){r.apply(this,arguments);var i=[],s=0,a=[],u=[],l=e.stub||0,c=n.isArray(l)?l[0]:l,d=n.isArray(l)?l[1]:l,p=e.gap||0,f=n.isArray(p)?p[0]:p,h=n.isArray(p)?p[1]:p,g=null,m=!1,v=null,_=null,y=!1!==e.editable&&null!=t.ConnectorEditors&&null!=t.ConnectorEditors[this.type],b=this.setGeometry=function(e,t){m=!t,_=e},E=this.getGeometry=function(){return _};this.getPathData=function(){for(var e="",n=0;n<i.length;n++)e+=t.SegmentRenderer.getPath(i[n]),e+=" ";return e},this.hasBeenEdited=function(){return m},this.isEditing=function(){return null!=this.editor&&this.editor.isActive()},this.setEditable=function(e){return y=!(!e||null==t.ConnectorEditors||null==t.ConnectorEditors[this.type]||null!=this.overrideSetEditable&&!this.overrideSetEditable())&&e},this.isEditable=function(){return y},this.findSegmentForPoint=function(e,t){for(var n={d:1/0,s:null,x:null,y:null,l:null},o=0;o<i.length;o++){var r=i[o].findClosestPointOnPath(e,t);r.d<n.d&&(n.d=r.d,n.l=r.l,n.x=r.x,n.y=r.y,n.s=i[o],n.x1=r.x1,n.x2=r.x2,n.y1=r.y1,n.y2=r.y2,n.index=o)}return n};var C=function(e,t){t&&(e=e>0?e/s:(s+e)/s);for(var n=a.length-1,o=1,r=0;r<a.length;r++)if(a[r][1]>=e){n=r,o=1===e?1:0===e?0:(e-a[r][0])/u[r];break}return{segment:i[n],proportion:o,index:n}};this.setSegments=function(e){g=[],s=0;for(var t=0;t<e.length;t++)g.push(e[t]),s+=e[t].getLength()},this.getLength=function(){return s};var w=function(e){this.strokeWidth=e.strokeWidth;var t=o.quadrant(e.sourcePos,e.targetPos),n=e.targetPos[0]<e.sourcePos[0],r=e.targetPos[1]<e.sourcePos[1],i=e.strokeWidth||1,s=e.sourceEndpoint.anchor.getOrientation(e.sourceEndpoint),a=e.targetEndpoint.anchor.getOrientation(e.targetEndpoint),u=n?e.targetPos[0]:e.sourcePos[0],l=r?e.targetPos[1]:e.sourcePos[1],p=Math.abs(e.targetPos[0]-e.sourcePos[0]),g=Math.abs(e.targetPos[1]-e.sourcePos[1]);if(0===s[0]&&0===s[1]||0===a[0]&&0===a[1]){var m=p>g?0:1,v=[1,0][m];a=[],(s=[])[m]=e.sourcePos[m]>e.targetPos[m]?-1:1,a[m]=e.sourcePos[m]>e.targetPos[m]?1:-1,s[v]=0,a[v]=0}var _=n?p+f*s[0]:f*s[0],y=r?g+f*s[1]:f*s[1],b=n?h*a[0]:p+h*a[0],E=r?h*a[1]:g+h*a[1],C=s[0]*a[0]+s[1]*a[1],w={sx:_,sy:y,tx:b,ty:E,lw:i,xSpan:Math.abs(b-_),ySpan:Math.abs(E-y),mx:(_+b)/2,my:(y+E)/2,so:s,to:a,x:u,y:l,w:p,h:g,segment:t,startStubX:_+s[0]*c,startStubY:y+s[1]*c,endStubX:b+a[0]*d,endStubY:E+a[1]*d,isXGreaterThanStubTimes2:Math.abs(_-b)>c+d,isYGreaterThanStubTimes2:Math.abs(y-E)>c+d,opposite:-1===C,perpendicular:0===C,orthogonal:1===C,sourceAxis:0===s[0]?"y":"x",points:[u,l,p,g,_,y,b,E],stubs:[c,d]};return w.anchorOrientation=w.opposite?"opposite":w.orthogonal?"orthogonal":"perpendicular",w};return this.getSegments=function(){return i},this.updateBounds=function(e){var t=e.getBounds();this.bounds.minX=Math.min(this.bounds.minX,t.minX),this.bounds.maxX=Math.max(this.bounds.maxX,t.maxX),this.bounds.minY=Math.min(this.bounds.minY,t.minY),this.bounds.maxY=Math.max(this.bounds.maxY,t.maxY)},this.pointOnPath=function(e,t){var n=C(e,t);return n.segment&&n.segment.pointOnPath(n.proportion,!1)||[0,0]},this.gradientAtPoint=function(e,t){var n=C(e,t);return n.segment&&n.segment.gradientAtPoint(n.proportion,!1)||0},this.pointAlongPathFrom=function(e,t,n){var o=C(e,n);return o.segment&&o.segment.pointAlongPathFrom(o.proportion,t,!1)||[0,0]},this.compute=function(e){v=w.call(this,e),s=i.length=a.length=u.length=0,this._compute(v,e),this.x=v.points[0],this.y=v.points[1],this.w=v.points[2],this.h=v.points[3],this.segment=v.segment,function(){for(var e=0,t=0;t<i.length;t++){var n=i[t].getLength();u[t]=n/s,a[t]=[e,e+=n/s]}}()},{addSegment:function(e,n,o){if(o.x1!==o.x2||o.y1!==o.y2){var r=new t.Segments[n](o);i.push(r),s+=r.getLength(),e.updateBounds(r)}},prepareCompute:w,sourceStub:c,targetStub:d,maxStub:Math.max(c,d),sourceGap:f,targetGap:h,maxGap:Math.max(f,h),setGeometry:b,getGeometry:E}},n.extend(t.Connectors.AbstractConnector,r),t.Endpoints.AbstractEndpoint=function(e){return r.apply(this,arguments),{compute:this.compute=function(e,t,n,o){var r=this._compute.apply(this,arguments);return this.x=r[0],this.y=r[1],this.w=r[2],this.h=r[3],this.bounds.minX=this.x,this.bounds.minY=this.y,this.bounds.maxX=this.x+this.w,this.bounds.maxY=this.y+this.h,r},cssClass:e.cssClass}},n.extend(t.Endpoints.AbstractEndpoint,r),t.Endpoints.Dot=function(e){this.type="Dot",t.Endpoints.AbstractEndpoint.apply(this,arguments),e=e||{},this.radius=e.radius||10,this.defaultOffset=.5*this.radius,this.defaultInnerRadius=this.radius/3,this._compute=function(e,t,n,o){this.radius=n.radius||this.radius;var r=e[0]-this.radius,i=e[1]-this.radius,s=2*this.radius,a=2*this.radius;if(n.stroke){var u=n.strokeWidth||1;r-=u,i-=u,s+=2*u,a+=2*u}return[r,i,s,a,this.radius]}},n.extend(t.Endpoints.Dot,t.Endpoints.AbstractEndpoint),t.Endpoints.Rectangle=function(e){this.type="Rectangle",t.Endpoints.AbstractEndpoint.apply(this,arguments),e=e||{},this.width=e.width||20,this.height=e.height||20,this._compute=function(e,t,n,o){var r=n.width||this.width,i=n.height||this.height;return[e[0]-r/2,e[1]-i/2,r,i]}},n.extend(t.Endpoints.Rectangle,t.Endpoints.AbstractEndpoint);var i=function(e){t.jsPlumbUIComponent.apply(this,arguments),this._jsPlumb.displayElements=[]};n.extend(i,t.jsPlumbUIComponent,{getDisplayElements:function(){return this._jsPlumb.displayElements},appendDisplayElement:function(e){this._jsPlumb.displayElements.push(e)}}),t.Endpoints.Image=function(o){this.type="Image",i.apply(this,arguments),t.Endpoints.AbstractEndpoint.apply(this,arguments);var r=o.onload,s=o.src||o.url,a=o.cssClass?" "+o.cssClass:"";this._jsPlumb.img=new Image,this._jsPlumb.ready=!1,this._jsPlumb.initialized=!1,this._jsPlumb.deleted=!1,this._jsPlumb.widthToUse=o.width,this._jsPlumb.heightToUse=o.height,this._jsPlumb.endpoint=o.endpoint,this._jsPlumb.img.onload=function(){null!=this._jsPlumb&&(this._jsPlumb.ready=!0,this._jsPlumb.widthToUse=this._jsPlumb.widthToUse||this._jsPlumb.img.width,this._jsPlumb.heightToUse=this._jsPlumb.heightToUse||this._jsPlumb.img.height,r&&r(this))}.bind(this),this._jsPlumb.endpoint.setImage=function(e,t){var n=e.constructor===String?e:e.src;r=t,this._jsPlumb.img.src=n,null!=this.canvas&&this.canvas.setAttribute("src",this._jsPlumb.img.src)}.bind(this),this._jsPlumb.endpoint.setImage(s,r),this._compute=function(e,t,n,o){return this.anchorPoint=e,this._jsPlumb.ready?[e[0]-this._jsPlumb.widthToUse/2,e[1]-this._jsPlumb.heightToUse/2,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse]:[0,0,0,0]},this.canvas=t.createElement("img",{position:"absolute",margin:0,padding:0,outline:0},this._jsPlumb.instance.endpointClass+a),this._jsPlumb.widthToUse&&this.canvas.setAttribute("width",this._jsPlumb.widthToUse),this._jsPlumb.heightToUse&&this.canvas.setAttribute("height",this._jsPlumb.heightToUse),this._jsPlumb.instance.appendElement(this.canvas),this.actuallyPaint=function(e,t,o){if(!this._jsPlumb.deleted){this._jsPlumb.initialized||(this.canvas.setAttribute("src",this._jsPlumb.img.src),this.appendDisplayElement(this.canvas),this._jsPlumb.initialized=!0);var r=this.anchorPoint[0]-this._jsPlumb.widthToUse/2,i=this.anchorPoint[1]-this._jsPlumb.heightToUse/2;n.sizeElement(this.canvas,r,i,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse)}},this.paint=function(t,n){null!=this._jsPlumb&&(this._jsPlumb.ready?this.actuallyPaint(t,n):e.setTimeout(function(){this.paint(t,n)}.bind(this),200))}},n.extend(t.Endpoints.Image,[i,t.Endpoints.AbstractEndpoint],{cleanup:function(e){e&&(this._jsPlumb.deleted=!0,this.canvas&&this.canvas.parentNode.removeChild(this.canvas),this.canvas=null)}}),t.Endpoints.Blank=function(e){t.Endpoints.AbstractEndpoint.apply(this,arguments),this.type="Blank",i.apply(this,arguments),this._compute=function(e,t,n,o){return[e[0],e[1],10,0]};var o=e.cssClass?" "+e.cssClass:"";this.canvas=t.createElement("div",{display:"block",width:"1px",height:"1px",background:"transparent",position:"absolute"},this._jsPlumb.instance.endpointClass+o),this._jsPlumb.instance.appendElement(this.canvas),this.paint=function(e,t){n.sizeElement(this.canvas,this.x,this.y,this.w,this.h)}},n.extend(t.Endpoints.Blank,[t.Endpoints.AbstractEndpoint,i],{cleanup:function(){this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}}),t.Endpoints.Triangle=function(e){this.type="Triangle",t.Endpoints.AbstractEndpoint.apply(this,arguments);var n=this;(e=e||{}).width=e.width||55,e.height=e.height||55,this.width=e.width,this.height=e.height,this._compute=function(e,t,o,r){var i=o.width||n.width,s=o.height||n.height;return[e[0]-i/2,e[1]-s/2,i,s]}};var s=t.Overlays.AbstractOverlay=function(e){this.visible=!0,this.isAppendedAtTopLevel=!0,this.component=e.component,this.loc=null==e.location?.5:e.location,this.endpointLoc=null==e.endpointLocation?[.5,.5]:e.endpointLocation,this.visible=!1!==e.visible};s.prototype={cleanup:function(e){e&&(this.component=null,this.canvas=null,this.endpointLoc=null)},reattach:function(e,t){},setVisible:function(e){this.visible=e,this.component.repaint()},isVisible:function(){return this.visible},hide:function(){this.setVisible(!1)},show:function(){this.setVisible(!0)},incrementLocation:function(e){this.loc+=e,this.component.repaint()},setLocation:function(e){this.loc=e,this.component.repaint()},getLocation:function(){return this.loc},updateFrom:function(){}},t.Overlays.Arrow=function(e){this.type="Arrow",s.apply(this,arguments),this.isAppendedAtTopLevel=!1,e=e||{};var r=this;this.length=e.length||20,this.width=e.width||20,this.id=e.id;var i=(e.direction||1)<0?-1:1,a=e.paintStyle||{"stroke-width":1},u=e.foldback||.623;this.computeMaxSize=function(){return 1.5*r.width},this.elementCreated=function(n,o){if(this.path=n,e.events)for(var r in e.events)t.on(n,r,e.events[r])},this.draw=function(e,t){var r,s,l,c;if(e.pointAlongPathFrom){if(n.isString(this.loc)||this.loc>1||this.loc<0){var d=parseInt(this.loc,10),p=this.loc<0?1:0;r=e.pointAlongPathFrom(p,d,!1),s=e.pointAlongPathFrom(p,d-i*this.length/2,!1),l=o.pointOnLine(r,s,this.length)}else if(1===this.loc){if(r=e.pointOnPath(this.loc),s=e.pointAlongPathFrom(this.loc,-this.length),l=o.pointOnLine(r,s,this.length),-1===i){var f=l;l=r,r=f}}else if(0===this.loc){if(l=e.pointOnPath(this.loc),s=e.pointAlongPathFrom(this.loc,this.length),r=o.pointOnLine(l,s,this.length),-1===i){var h=l;l=r,r=h}}else r=e.pointAlongPathFrom(this.loc,i*this.length/2),s=e.pointOnPath(this.loc),l=o.pointOnLine(r,s,this.length);var g={hxy:r,tail:c=o.perpendicularLineTo(r,l,this.width),cxy:o.pointOnLine(r,l,u*this.length)},m=a.stroke||t.stroke,v=a.fill||t.stroke;return{component:e,d:g,"stroke-width":a.strokeWidth||t.strokeWidth,stroke:m,fill:v,minX:Math.min(r.x,c[0].x,c[1].x),maxX:Math.max(r.x,c[0].x,c[1].x),minY:Math.min(r.y,c[0].y,c[1].y),maxY:Math.max(r.y,c[0].y,c[1].y)}}return{component:e,minX:0,maxX:0,minY:0,maxY:0}}},n.extend(t.Overlays.Arrow,s,{updateFrom:function(e){this.length=e.length||this.length,this.width=e.width||this.width,this.direction=null!=e.direction?e.direction:this.direction,this.foldback=e.foldback||this.foldback}}),t.Overlays.PlainArrow=function(e){e=e||{};var n=t.extend(e,{foldback:1});t.Overlays.Arrow.call(this,n),this.type="PlainArrow"},n.extend(t.Overlays.PlainArrow,t.Overlays.Arrow),t.Overlays.Diamond=function(e){var n=(e=e||{}).length||40,o=t.extend(e,{length:n/2,foldback:2});t.Overlays.Arrow.call(this,o),this.type="Diamond"},n.extend(t.Overlays.Diamond,t.Overlays.Arrow);var a=function(e,t){return(null==e._jsPlumb.cachedDimensions||t)&&(e._jsPlumb.cachedDimensions=e.getDimensions()),e._jsPlumb.cachedDimensions},u=function(e){t.jsPlumbUIComponent.apply(this,arguments),s.apply(this,arguments);var o=this.fire;this.fire=function(){o.apply(this,arguments),this.component&&this.component.fire.apply(this.component,arguments)},this.detached=!1,this.id=e.id,this._jsPlumb.div=null,this._jsPlumb.initialised=!1,this._jsPlumb.component=e.component,this._jsPlumb.cachedDimensions=null,this._jsPlumb.create=e.create,this._jsPlumb.initiallyInvisible=!1===e.visible,this.getElement=function(){if(null==this._jsPlumb.div){var n=this._jsPlumb.div=t.getElement(this._jsPlumb.create(this._jsPlumb.component));n.style.position="absolute",n.className=this._jsPlumb.instance.overlayClass+" "+(this.cssClass?this.cssClass:e.cssClass?e.cssClass:""),this._jsPlumb.instance.appendElement(n),this._jsPlumb.instance.getId(n),this.canvas=n;var o="translate(-50%, -50%)";n.style.webkitTransform=o,n.style.mozTransform=o,n.style.msTransform=o,n.style.oTransform=o,n.style.transform=o,n._jsPlumb=this,!1===e.visible&&(n.style.display="none")}return this._jsPlumb.div},this.draw=function(e,t,o){var r=a(this);if(null!=r&&2===r.length){var i={x:0,y:0};if(o)i={x:o[0],y:o[1]};else if(e.pointOnPath){var s=this.loc,u=!1;(n.isString(this.loc)||this.loc<0||this.loc>1)&&(s=parseInt(this.loc,10),u=!0),i=e.pointOnPath(s,u)}else{var l=this.loc.constructor===Array?this.loc:this.endpointLoc;i={x:l[0]*e.w,y:l[1]*e.h}}var c=i.x-r[0]/2,d=i.y-r[1]/2;return{component:e,d:{minx:c,miny:d,td:r,cxy:i},minX:c,maxX:c+r[0],minY:d,maxY:d+r[1]}}return{minX:0,maxX:0,minY:0,maxY:0}}};n.extend(u,[t.jsPlumbUIComponent,s],{getDimensions:function(){return[1,1]},setVisible:function(e){this._jsPlumb.div&&(this._jsPlumb.div.style.display=e?"block":"none",e&&this._jsPlumb.initiallyInvisible&&(a(this,!0),this.component.repaint(),this._jsPlumb.initiallyInvisible=!1))},clearCachedDimensions:function(){this._jsPlumb.cachedDimensions=null},cleanup:function(e){e?null!=this._jsPlumb.div&&(this._jsPlumb.div._jsPlumb=null,this._jsPlumb.instance.removeElement(this._jsPlumb.div)):(this._jsPlumb&&this._jsPlumb.div&&this._jsPlumb.div.parentNode&&this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div),this.detached=!0)},reattach:function(e,t){null!=this._jsPlumb.div&&e.getContainer().appendChild(this._jsPlumb.div),this.detached=!1},computeMaxSize:function(){var e=a(this);return Math.max(e[0],e[1])},paint:function(e,t){this._jsPlumb.initialised||(this.getElement(),e.component.appendDisplayElement(this._jsPlumb.div),this._jsPlumb.initialised=!0,this.detached&&this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div)),this._jsPlumb.div.style.left=e.component.x+e.d.minx+"px",this._jsPlumb.div.style.top=e.component.y+e.d.miny+"px"}}),t.Overlays.Custom=function(e){this.type="Custom",u.apply(this,arguments)},n.extend(t.Overlays.Custom,u),t.Overlays.GuideLines=function(){var e=this;e.length=50,e.strokeWidth=5,this.type="GuideLines",s.apply(this,arguments),t.jsPlumbUIComponent.apply(this,arguments),this.draw=function(t,n){var r=t.pointAlongPathFrom(e.loc,e.length/2),i=t.pointOnPath(e.loc),s=o.pointOnLine(r,i,e.length),a=o.perpendicularLineTo(r,s,40),u=o.perpendicularLineTo(s,r,20);return{connector:t,head:r,tail:s,headLine:u,tailLine:a,minX:Math.min(r.x,s.x,u[0].x,u[1].x),minY:Math.min(r.y,s.y,u[0].y,u[1].y),maxX:Math.max(r.x,s.x,u[0].x,u[1].x),maxY:Math.max(r.y,s.y,u[0].y,u[1].y)}}},t.Overlays.Label=function(e){this.labelStyle=e.labelStyle,this.cssClass=null!=this.labelStyle?this.labelStyle.cssClass:null;var n=t.extend({create:function(){return t.createElement("div")}},e);if(t.Overlays.Custom.call(this,n),this.type="Label",this.label=e.label||"",this.labelText=null,this.labelStyle){var o=this.getElement();if(this.labelStyle.font=this.labelStyle.font||"12px sans-serif",o.style.font=this.labelStyle.font,o.style.color=this.labelStyle.color||"black",this.labelStyle.fill&&(o.style.background=this.labelStyle.fill),this.labelStyle.borderWidth>0){var r=this.labelStyle.borderStyle?this.labelStyle.borderStyle:"black";o.style.border=this.labelStyle.borderWidth+"px solid "+r}this.labelStyle.padding&&(o.style.padding=this.labelStyle.padding)}},n.extend(t.Overlays.Label,t.Overlays.Custom,{cleanup:function(e){e&&(this.div=null,this.label=null,this.labelText=null,this.cssClass=null,this.labelStyle=null)},getLabel:function(){return this.label},setLabel:function(e){this.label=e,this.labelText=null,this.clearCachedDimensions(),this.update(),this.component.repaint()},getDimensions:function(){return this.update(),u.prototype.getDimensions.apply(this,arguments)},update:function(){if("function"==typeof this.label){var e=this.label(this);this.getElement().innerHTML=e.replace(/\r\n/g,"<br/>")}else null==this.labelText&&(this.labelText=this.label,this.getElement().innerHTML=this.labelText.replace(/\r\n/g,"<br/>"))},updateFrom:function(e){null!=e.label&&this.setLabel(e.label)}})}.call("undefined"!=typeof window?window:this),function(){"use strict";var e=this;e.jsPlumb.extend(e.jsPlumbInstance.prototype,{getEventManager:function(){return function(t){var n=t._mottle;return n||(n=t._mottle=new e.Mottle),n}(this)},on:function(e,t,n){return this.getEventManager().on.apply(this,arguments),this},off:function(e,t,n){return this.getEventManager().off.apply(this,arguments),this}})}.call("undefined"!=typeof window?window:this),function(){"use strict";var e=this,t=e.jsPlumbUtil,n=e.jsPlumbInstance,o="jtk-group-collapsed",r="jtk-group-expanded",i="stop",s="revert",a="_groupManager",u="_jsPlumbGroup",l="show",c="hide";n.prototype.addGroup=function(n){if(this._groups=this._groups||{},null!=this._groups[n.id])throw new TypeError("cannot create Group ["+n.id+"]; a Group with that ID exists");if(null!=n.el[u])throw new TypeError("cannot create Group ["+n.id+"]; the given element is already a Group");var o=new function(n,o){function r(e,t){var o=e.offsetParent,r=n.getSize(o),i=n.getSize(e),s=t[0],a=s+i[0],u=t[1],l=u+i[1];return a>0&&s<r[0]&&l>0&&u<r[1]}function a(e){var t=n.getId(e),o=n.getOffset(e);e.parentNode.removeChild(e),n.getContainer().appendChild(e),n.setPosition(e,o),delete e._jsPlumbGroup,d(e),n.dragManager.clearParent(e,t)}function l(e){if(!r(e.el,e.pos)){var t=e.el._jsPlumbGroup;b?n.remove(e.el):a(e.el),t.remove(e.el)}}function c(e){var t=n.getId(e);n.revalidate(e),n.dragManager.revalidateParent(e,t)}function d(e){e._katavorioDrag&&((b||y)&&e._katavorioDrag.off(i,l),b||y||!_||(e._katavorioDrag.off(s,c),e._katavorioDrag.setRevert(null)))}function p(e){e._katavorioDrag&&((b||y)&&e._katavorioDrag.on(i,l),v&&e._katavorioDrag.setConstrain(!0),m&&e._katavorioDrag.setUseGhostProxy(!0),b||y||!_||(e._katavorioDrag.on(s,c),e._katavorioDrag.setRevert(function(e,t){return!r(e,t)})))}var f=this,h=o.el;this.getEl=function(){return h},this.id=o.id||t.uuid(),h._isJsPlumbGroup=!0;var g=this.getDragArea=function(){var e=n.getSelector(h,"[jtk-group-content]");return e&&e.length>0?e[0]:h},m=!0===o.ghost,v=m||!0===o.constrain,_=!1!==o.revert,y=!0===o.orphan,b=!0===o.prune,E=!0===o.dropOverride,C=!1!==o.proxied,w=[];if(this.connections={source:[],target:[],internal:[]},this.getAnchor=function(e,t){return o.anchor||"Continuous"},this.getEndpoint=function(e,t){return o.endpoint||["Dot",{radius:10}]},this.collapsed=!1,!1!==o.draggable){var x={stop:function(e){n.fire("groupDragStop",jsPlumb.extend(e,{group:f}))},scope:"_jsPlumbGroupDrag"};o.dragOptions&&e.jsPlumb.extend(x,o.dragOptions),n.draggable(o.el,x)}!1!==o.droppable&&n.droppable(o.el,{drop:function(e){var t=e.drag.el;if(!t._isJsPlumbGroup){var o=t._jsPlumbGroup;if(o!==f){if(null!=o&&o.overrideDrop(t,f))return;n.getGroupManager().addToGroup(f,t,!1)}}}});var O=function(e,t){for(var n=null==e.nodeType?e:[e],o=0;o<n.length;o++)t(n[o])};this.overrideDrop=function(e,t){return E&&(_||b||y)},this.add=function(e,t){var o=g();O(e,function(e){if(null!=e._jsPlumbGroup){if(e._jsPlumbGroup===f)return;e._jsPlumbGroup.remove(e,!0,t,!1)}e._jsPlumbGroup=f,w.push(e),n.isAlreadyDraggable(e)&&p(e),e.parentNode!==o&&o.appendChild(e),t||n.fire("group:addMember",{group:f,el:e})}),n.getGroupManager().updateConnectionsForGroup(f)},this.remove=function(e,o,r,i){O(e,function(e){if(delete e._jsPlumbGroup,t.removeWithFunction(w,function(t){return t===e}),o)try{f.getDragArea().removeChild(e)}catch(e){jsPlumbUtil.log("Could not remove element from Group "+e)}d(e),r||n.fire("group:removeMember",{group:f,el:e})}),i||n.getGroupManager().updateConnectionsForGroup(f)},this.removeAll=function(e,t){for(var o=0,r=w.length;o<r;o++)f.remove(w[0],e,t,!0);w.length=0,n.getGroupManager().updateConnectionsForGroup(f)},this.orphanAll=function(){for(var e=0;e<w.length;e++)a(w[e]);w.length=0},this.getMembers=function(){return w},h[u]=this,n.bind("elementDraggable",function(e){e.el._jsPlumbGroup===this&&p(e.el)}.bind(this)),this.shouldProxy=function(){return C},n.getGroupManager().addGroup(this)}(this,n);return this._groups[o.id]=o,n.collapsed&&this.collapseGroup(o),o},n.prototype.addToGroup=function(e,t,n){var o=function(t){var o=this.getId(t);this.manage(o,t),this.getGroupManager().addToGroup(e,t,n)}.bind(this);if(Array.isArray(t))for(var r=0;r<t.length;r++)o(t[r]);else o(t)},n.prototype.removeFromGroup=function(e,t,n){this.getGroupManager().removeFromGroup(e,t,n)},n.prototype.removeGroup=function(e,t,n,o){this.getGroupManager().removeGroup(e,t,n,o)},n.prototype.removeAllGroups=function(e,t,n){this.getGroupManager().removeAllGroups(e,t,n)},n.prototype.getGroup=function(e){return this.getGroupManager().getGroup(e)},n.prototype.getGroups=function(){return this.getGroupManager().getGroups()},n.prototype.expandGroup=function(e){this.getGroupManager().expandGroup(e)},n.prototype.collapseGroup=function(e){this.getGroupManager().collapseGroup(e)},n.prototype.repaintGroup=function(e){this.getGroupManager().repaintGroup(e)},n.prototype.toggleGroup=function(e){null!=(e=this.getGroupManager().getGroup(e))&&this.getGroupManager()[e.collapsed?"expandGroup":"collapseGroup"](e)},n.prototype.getGroupManager=function(){var e=this[a];return null==e&&(e=this[a]=new function(e){function n(t,n){for(var o=t.getMembers(),r=0;r<o.length;r++)e[n?l:c](o[r],!0)}function i(t){var n=t.getMembers(),o=e.getConnections({source:n,scope:"*"},!0),r=e.getConnections({target:n,scope:"*"},!0),i={};t.connections.source.length=0,t.connections.target.length=0;var s=function(e){for(var n=0;n<e.length;n++)i[e[n].id]||(i[e[n].id]=!0,e[n].source._jsPlumbGroup===t?(e[n].target._jsPlumbGroup!==t&&t.connections.source.push(e[n]),a[e[n].id]=t):e[n].target._jsPlumbGroup===t&&(t.connections.target.push(e[n]),d[e[n].id]=t))};s(o),s(r)}var s={},a={},d={},p=this;e.bind("connection",function(e){null!=e.source[u]&&null!=e.target[u]&&e.source[u]===e.target[u]?(a[e.connection.id]=e.source[u],d[e.connection.id]=e.source[u]):(null!=e.source[u]&&(t.suggest(e.source[u].connections.source,e.connection),a[e.connection.id]=e.source[u]),null!=e.target[u]&&(t.suggest(e.target[u].connections.target,e.connection),d[e.connection.id]=e.target[u]))}),e.bind("internal.connectionDetached",function(e){!function(e){delete e.proxies;var n,o=a[e.id];null!=o&&(n=function(t){return t.id===e.id},t.removeWithFunction(o.connections.source,n),t.removeWithFunction(o.connections.target,n),delete a[e.id]),null!=(o=d[e.id])&&(n=function(t){return t.id===e.id},t.removeWithFunction(o.connections.source,n),t.removeWithFunction(o.connections.target,n),delete d[e.id])}(e.connection)}),e.bind("connectionMoved",function(e){var t=(0===e.index?a:d)[e.connection.id];if(t){var n=t.connections[0===e.index?"source":"target"],o=n.indexOf(e.connection);-1!==o&&n.splice(o,1)}}),this.addGroup=function(t){e.addClass(t.getEl(),r),s[t.id]=t,t.manager=this,i(t),e.fire("group:add",{group:t})},this.addToGroup=function(t,n,o){if(t=this.getGroup(t)){var r=t.getEl();if(n._isJsPlumbGroup)return;var i=n._jsPlumbGroup;if(i!==t){var s=e.getOffset(n,!0),a=t.collapsed?e.getOffset(r,!0):e.getOffset(t.getDragArea(),!0);null!=i&&(i.remove(n,o),p.updateConnectionsForGroup(i)),t.add(n,o);var u=function(e,n){var o=0===n?1:0;e.each(function(e){e.setVisible(!1),e.endpoints[o].element._jsPlumbGroup===t?(e.endpoints[o].setVisible(!1),p.expandConnection(e,o,t)):(e.endpoints[n].setVisible(!1),p.collapseConnection(e,n,t))})};t.collapsed&&(u(e.select({source:n}),0),u(e.select({target:n}),1));var l=e.getId(n);e.dragManager.setParent(n,l,r,e.getId(r),s);var c={left:s.left-a.left,top:s.top-a.top};e.setPosition(n,c),e.dragManager.revalidateParent(n,l,s),p.updateConnectionsForGroup(t),e.revalidate(l),setTimeout(function(){e.fire("group:addMember",{group:t,el:n})},0)}}},this.removeFromGroup=function(e,t,n){(e=this.getGroup(e))&&e.remove(t,null,n)},this.getGroup=function(e){var n=e;if(t.isString(e)&&null==(n=s[e]))throw new TypeError("No such group ["+e+"]");return n},this.getGroups=function(){var e=[];for(var t in s)e.push(s[t]);return e},this.removeGroup=function(t,n,o,r){t=this.getGroup(t),this.expandGroup(t,!0),t[n?"removeAll":"orphanAll"](o,r),e.remove(t.getEl()),delete s[t.id],delete e._groups[t.id],e.fire("group:remove",{group:t})},this.removeAllGroups=function(e,t,n){for(var o in s)this.removeGroup(s[o],e,t,n)};var f=this.collapseConnection=function(t,n,o){var r,i=o.getEl(),s=e.getId(i),a=t.endpoints[n].elementId,l=t.endpoints[0===n?1:0].element;l[u]&&!l[u].shouldProxy()&&l[u].collapsed||(t.proxies=t.proxies||[],(r=t.proxies[n]?t.proxies[n].ep:e.addEndpoint(i,{endpoint:o.getEndpoint(t,n),anchor:o.getAnchor(t,n),parameters:{isProxyEndpoint:!0}})).setDeleteOnEmpty(!0),t.proxies[n]={ep:r,originalEp:t.endpoints[n]},0===n?e.anchorManager.sourceChanged(a,s,t,i):(e.anchorManager.updateOtherEndpoint(t.endpoints[0].elementId,a,s,t),t.target=i,t.targetId=s),t.proxies[n].originalEp.detachFromConnection(t,null,!0),r.connections=[t],t.endpoints[n]=r,t.setVisible(!0))};this.collapseGroup=function(t){if(null!=(t=this.getGroup(t))&&!t.collapsed){var i=t.getEl();if(n(t,!1),t.shouldProxy()){var s=function(e,n){for(var o=0;o<e.length;o++){var r=e[o];f(r,n,t)}};s(t.connections.source,0),s(t.connections.target,1)}t.collapsed=!0,e.removeClass(i,r),e.addClass(i,o),e.revalidate(i),e.fire("group:collapse",{group:t})}};var h=this.expandConnection=function(t,n,o){if(null!=t.proxies&&null!=t.proxies[n]){var r=e.getId(o.getEl()),i=t.proxies[n].originalEp.element,s=t.proxies[n].originalEp.elementId;t.endpoints[n]=t.proxies[n].originalEp,0===n?e.anchorManager.sourceChanged(r,s,t,i):(e.anchorManager.updateOtherEndpoint(t.endpoints[0].elementId,r,s,t),t.target=i,t.targetId=s),t.proxies[n].ep.detachFromConnection(t,null),t.proxies[n].originalEp.addConnection(t),delete t.proxies[n]}};this.expandGroup=function(t,i){if(null!=(t=this.getGroup(t))&&t.collapsed){var s=t.getEl();if(n(t,!0),t.shouldProxy()){var a=function(e,n){for(var o=0;o<e.length;o++){var r=e[o];h(r,n,t)}};a(t.connections.source,0),a(t.connections.target,1)}t.collapsed=!1,e.addClass(s,r),e.removeClass(s,o),e.revalidate(s),this.repaintGroup(t),i||e.fire("group:expand",{group:t})}},this.repaintGroup=function(t){for(var n=(t=this.getGroup(t)).getMembers(),o=0;o<n.length;o++)e.revalidate(n[o])},this.updateConnectionsForGroup=i,this.refreshAllGroups=function(){for(var t in s)i(s[t]),e.dragManager.updateOffsets(e.getId(s[t].getEl()))}}(this)),e},n.prototype.removeGroupManager=function(){delete this[a]},n.prototype.getGroupFor=function(e){if(e=this.getElement(e))return e[u]}}.call("undefined"!=typeof window?window:this),function(){"use strict";var e=this.jsPlumb,t=this.jsPlumbUtil;e.Connectors.Flowchart=function(t){this.type="Flowchart",(t=t||{}).stub=null==t.stub?30:t.stub;var n,o=e.Connectors.AbstractConnector.apply(this,arguments),r=null==t.midpoint?.5:t.midpoint,i=!0===t.alwaysRespectStubs,s=null,a=null,u=null!=t.cornerRadius?t.cornerRadius:0,l=(t.loopbackRadius,function(e){return e<0?-1:0===e?0:1}),c=function(e){return[l(e[2]-e[0]),l(e[3]-e[1])]},d=function(e,t,n,o){if(s!==t||a!==n){var r=null==s?o.sx:s,i=null==a?o.sy:a,u=r===t?"v":"h";s=t,a=n,e.push([r,i,t,n,u])}},p=function(e){return Math.sqrt(Math.pow(e[0]-e[2],2)+Math.pow(e[1]-e[3],2))},f=function(e){var t=[];return t.push.apply(t,e),t};this._compute=function(e,t){n=[],s=null,a=null;var l=this.getGeometry(),h=[e.x,e.y],g=[e.x+e.w,e.y+e.h];if((this.hasBeenEdited()||this.isEditing())&&null!=l&&null!=l.segments&&l.segments.length>0)n=l.segments,o.setGeometry({segments:n,sourcePos:h,targetPos:g});else{var m=function(){return[e.startStubX,e.startStubY,e.endStubX,e.endStubY]},v={perpendicular:m,orthogonal:m,opposite:function(t){var n=e,o="x"===t?0:1;return!i&&{x:function(){return 1===n.so[o]&&(n.startStubX>n.endStubX&&n.tx>n.startStubX||n.sx>n.endStubX&&n.tx>n.sx)||-1===n.so[o]&&(n.startStubX<n.endStubX&&n.tx<n.startStubX||n.sx<n.endStubX&&n.tx<n.sx)},y:function(){return 1===n.so[o]&&(n.startStubY>n.endStubY&&n.ty>n.startStubY||n.sy>n.endStubY&&n.ty>n.sy)||-1===n.so[o]&&(n.startStubY<n.endStubY&&n.ty<n.startStubY||n.sy<n.endStubY&&n.ty<n.sy)}}[t]()?{x:[(e.sx+e.tx)/2,e.startStubY,(e.sx+e.tx)/2,e.endStubY],y:[e.startStubX,(e.sy+e.ty)/2,e.endStubX,(e.sy+e.ty)/2]}[t]:[e.startStubX,e.startStubY,e.endStubX,e.endStubY]}}[e.anchorOrientation](e.sourceAxis),_="x"===e.sourceAxis?0:1,y="x"===e.sourceAxis?1:0,b=v[_],E=v[y],C=v[_+2],w=v[y+2];d(n,v[0],v[1],e);var x=e.startStubX+(e.endStubX-e.startStubX)*r,O=e.startStubY+(e.endStubY-e.startStubY)*r,S={x:[0,1],y:[1,0]},A={perpendicular:function(t){var n=e,o={x:[[n.startStubX,n.endStubX],null,[n.endStubX,n.startStubX]],y:[[n.startStubY,n.endStubY],null,[n.endStubY,n.startStubY]]},r={x:[[x,n.startStubY],[x,n.endStubY]],y:[[n.startStubX,O],[n.endStubX,O]]},i={x:[[n.endStubX,n.startStubY]],y:[[n.startStubX,n.endStubY]]},s={x:[[n.startStubX,n.endStubY],[n.endStubX,n.endStubY]],y:[[n.endStubX,n.startStubY],[n.endStubX,n.endStubY]]},a={x:[[n.startStubX,O],[n.endStubX,O],[n.endStubX,n.endStubY]],y:[[x,n.startStubY],[x,n.endStubY],[n.endStubX,n.endStubY]]},u={x:[n.startStubY,n.endStubY],y:[n.startStubX,n.endStubX]},l=S[t][0],c=S[t][1],d=n.so[l]+1,p=n.to[c]+1,f=-1===n.to[c]&&u[t][1]<u[t][0]||1===n.to[c]&&u[t][1]>u[t][0],h=o[t][d][0],g=o[t][d][1],m={x:[[[1,2,3,4],null,[2,1,4,3]],null,[[4,3,2,1],null,[3,4,1,2]]],y:[[[3,2,1,4],null,[2,3,4,1]],null,[[4,1,2,3],null,[1,4,3,2]]]}[t][d][p];return n.segment===m[3]||n.segment===m[2]&&f?r[t]:n.segment===m[2]&&g<h?i[t]:n.segment===m[2]&&g>=h||n.segment===m[1]&&!f?a[t]:n.segment===m[0]||n.segment===m[1]&&f?s[t]:void 0},orthogonal:function(t,n,o,r,i){var s=e,a={x:-1===s.so[0]?Math.min(n,r):Math.max(n,r),y:-1===s.so[1]?Math.min(n,r):Math.max(n,r)}[t];return{x:[[a,o],[a,i],[r,i]],y:[[o,a],[i,a],[i,r]]}[t]},opposite:function(n,r,i,s){var a=e,u={x:"y",y:"x"}[n],l={x:"height",y:"width"}[n],c=a["is"+n.toUpperCase()+"GreaterThanStubTimes2"];if(t.sourceEndpoint.elementId===t.targetEndpoint.elementId){var d=i+(1-t.sourceEndpoint.anchor[u])*t.sourceInfo[l]+o.maxStub;return{x:[[r,d],[s,d]],y:[[d,r],[d,s]]}[n]}return!c||1===a.so[_]&&r>s||-1===a.so[_]&&r<s?{x:[[r,O],[s,O]],y:[[x,r],[x,s]]}[n]:1===a.so[_]&&r<s||-1===a.so[_]&&r>s?{x:[[x,a.sy],[x,a.ty]],y:[[a.sx,O],[a.tx,O]]}[n]:void 0}}[e.anchorOrientation](e.sourceAxis,b,E,C,w);if(A)for(var T=0;T<A.length;T++)d(n,A[T][0],A[T][1],e);d(n,v[2],v[3],e),d(n,e.tx,e.ty,e),o.setGeometry({segments:n,sourcePos:h,targetPos:g},!0)}!function(e,t,n){for(var r,i,s,a=null,l=0;l<t.length-1;l++){if(a=a||f(t[l]),r=f(t[l+1]),i=c(a),s=c(r),u>0&&a[4]!==r[4]){var d=Math.min(u,p(a),p(r));a[2]-=i[0]*d,a[3]-=i[1]*d,r[0]+=s[0]*d,r[1]+=s[1]*d;var h=i[1]===s[0]&&1===s[0]||i[1]===s[0]&&0===s[0]&&i[0]!==s[1]||i[1]===s[0]&&-1===s[0],g=(r[1]>a[3]?1:-1)==(r[0]>a[2]?1:-1),m=g&&h||!g&&!h?r[0]:a[2],v=g&&h||!g&&!h?a[3]:r[1];o.addSegment(e,"Straight",{x1:a[0],y1:a[1],x2:a[2],y2:a[3]}),o.addSegment(e,"Arc",{r:d,x1:a[2],y1:a[3],x2:r[0],y2:r[1],cx:m,cy:v,ac:h})}else{var _=a[2]===a[0]?0:a[2]>a[0]?n.lw/2:-n.lw/2,y=a[3]===a[1]?0:a[3]>a[1]?n.lw/2:-n.lw/2;o.addSegment(e,"Straight",{x1:a[0]-_,y1:a[1]-y,x2:a[2]+_,y2:a[3]+y})}a=r}null!=r&&o.addSegment(e,"Straight",{x1:r[0],y1:r[1],x2:r[2],y2:r[3]})}(this,n,e)}},t.extend(e.Connectors.Flowchart,e.Connectors.AbstractConnector)}.call("undefined"!=typeof window?window:this),function(){"use strict";var e=this.jsPlumb,t=this.jsPlumbUtil;e.Connectors.AbstractBezierConnector=function(t){var n,o=!1!==(t=t||{}).showLoopback,r=(t.curviness,t.margin||5),i=(t.proximityLimit,t.orientation&&"clockwise"===t.orientation),s=t.loopbackRadius||25,a=!1;return this.overrideSetEditable=function(){return!a},this._compute=function(e,t){var u=t.sourcePos,l=t.targetPos,c=Math.abs(u[0]-l[0]),d=Math.abs(u[1]-l[1]);if(o&&t.sourceEndpoint.elementId===t.targetEndpoint.elementId){a=!0;var p=t.sourcePos[0],f=t.sourcePos[1]-r,h=p,g=f-s,m=h-s,v=g-s;c=2*s,d=2*s,e.points[0]=m,e.points[1]=v,e.points[2]=c,e.points[3]=d,n.addSegment(this,"Arc",{loopback:!0,x1:p-m+4,y1:f-v,startAngle:0,endAngle:2*Math.PI,r:s,ac:!i,x2:p-m-4,y2:f-v,cx:h-m,cy:g-v})}else a=!1,this._computeBezier(e,t,u,l,c,d)},n=e.Connectors.AbstractConnector.apply(this,arguments)},t.extend(e.Connectors.AbstractBezierConnector,e.Connectors.AbstractConnector);var n=function(t){t=t||{},this.type="Bezier";var n=e.Connectors.AbstractBezierConnector.apply(this,arguments),o=t.curviness||150;this.getCurviness=function(){return o},this._findControlPoint=function(e,t,n,r,i,s,a){var u=[];return s[0]!==a[0]||s[1]===a[1]?(0===a[0]?u.push(n[0]<t[0]?e[0]+10:e[0]-10):u.push(e[0]+o*a[0]),0===a[1]?u.push(n[1]<t[1]?e[1]+10:e[1]-10):u.push(e[1]+o*s[1])):(0===s[0]?u.push(t[0]<n[0]?e[0]+10:e[0]-10):u.push(e[0]-o*s[0]),0===s[1]?u.push(t[1]<n[1]?e[1]+10:e[1]-10):u.push(e[1]+o*a[1])),u},this._computeBezier=function(e,t,o,r,i,s){var a,u,l=this.getGeometry(),c=o[0]<r[0]?i:0,d=o[1]<r[1]?s:0,p=o[0]<r[0]?0:i,f=o[1]<r[1]?0:s;(this.hasBeenEdited()||this.isEditing())&&null!=l&&null!=l.controlPoints&&null!=l.controlPoints[0]&&null!=l.controlPoints[1]?(a=l.controlPoints[0],u=l.controlPoints[1]):(a=this._findControlPoint([c,d],o,r,t.sourceEndpoint,t.targetEndpoint,e.so,e.to),u=this._findControlPoint([p,f],r,o,t.targetEndpoint,t.sourceEndpoint,e.to,e.so)),n.setGeometry({controlPoints:[a,u],sourcePos:o,targetPos:r},!0),n.addSegment(this,"Bezier",{x1:c,y1:d,x2:p,y2:f,cp1x:a[0],cp1y:a[1],cp2x:u[0],cp2y:u[1]})}};e.Connectors.Bezier=n,t.extend(n,e.Connectors.AbstractBezierConnector)}.call("undefined"!=typeof window?window:this),function(){"use strict";var e=this.jsPlumb,t=this.jsPlumbUtil,n=function(t){t=t||{},this.type="StateMachine";var n,o=e.Connectors.AbstractBezierConnector.apply(this,arguments),r=t.curviness||10,i=t.margin||5,s=t.proximityLimit||80;t.orientation&&t.orientation,this._computeBezier=function(e,t,a,u,l,c){var d=t.sourcePos[0]<t.targetPos[0]?0:l,p=t.sourcePos[1]<t.targetPos[1]?0:c,f=t.sourcePos[0]<t.targetPos[0]?l:0,h=t.sourcePos[1]<t.targetPos[1]?c:0;0===t.sourcePos[2]&&(d-=i),1===t.sourcePos[2]&&(d+=i),0===t.sourcePos[3]&&(p-=i),1===t.sourcePos[3]&&(p+=i),0===t.targetPos[2]&&(f-=i),1===t.targetPos[2]&&(f+=i),0===t.targetPos[3]&&(h-=i),1===t.targetPos[3]&&(h+=i);var g,m,v,_,y=(d+f)/2,b=(p+h)/2,E=d<=f&&h<=p?1:d<=f&&p<=h?2:f<=d&&h>=p?3:4,C=Math.sqrt(Math.pow(f-d,2)+Math.pow(h-p,2)),w=o.getGeometry();(this.hasBeenEdited()||this.isEditing())&&null!=w?(g=w.controlPoints[0][0],v=w.controlPoints[0][1],m=w.controlPoints[1][0],_=w.controlPoints[1][1]):(g=(n=function(e,t,n,o,r,i,a,u,l){return C<=s?[e,t]:1===n?o[3]<=0&&r[3]>=1?[e+(o[2]<.5?-1*i:i),t]:o[2]>=1&&r[2]<=0?[e,t+(o[3]<.5?-1*a:a)]:[e+-1*i,t+-1*a]:2===n?o[3]>=1&&r[3]<=0?[e+(o[2]<.5?-1*i:i),t]:o[2]>=1&&r[2]<=0?[e,t+(o[3]<.5?-1*a:a)]:[e+i,t+-1*a]:3===n?o[3]>=1&&r[3]<=0?[e+(o[2]<.5?-1*i:i),t]:o[2]<=0&&r[2]>=1?[e,t+(o[3]<.5?-1*a:a)]:[e+-1*i,t+-1*a]:4===n?o[3]<=0&&r[3]>=1?[e+(o[2]<.5?-1*i:i),t]:o[2]<=0&&r[2]>=1?[e,t+(o[3]<.5?-1*a:a)]:[e+i,t+-1*a]:void 0}(y,b,E,t.sourcePos,t.targetPos,r,r))[0],m=n[0],v=n[1],_=n[1],o.setGeometry({controlPoints:[n,n],sourcePos:a,targetPos:u,quadrant:E,curviness:r},!0)),o.addSegment(this,"Bezier",{x1:f,y1:h,x2:d,y2:p,cp1x:g,cp1y:v,cp2x:m,cp2y:_})}};e.Connectors.StateMachine=n,t.extend(n,e.Connectors.AbstractBezierConnector)}.call("undefined"!=typeof window?window:this),function(){"use strict";var e=this.jsPlumb,t=this.jsPlumbUtil,n=function(t){this.type="Straight";var n=e.Connectors.AbstractConnector.apply(this,arguments);this._compute=function(e,t){n.addSegment(this,"Straight",{x1:e.sx,y1:e.sy,x2:e.startStubX,y2:e.startStubY}),n.addSegment(this,"Straight",{x1:e.startStubX,y1:e.startStubY,x2:e.endStubX,y2:e.endStubY}),n.addSegment(this,"Straight",{x1:e.endStubX,y1:e.endStubY,x2:e.tx,y2:e.ty})}};e.Connectors.Straight=n,t.extend(n,e.Connectors.AbstractConnector)}.call("undefined"!=typeof window?window:this),function(){"use strict";var e=this.jsPlumb,t=this.jsPlumbUtil,n={"stroke-linejoin":"stroke-linejoin","stroke-dashoffset":"stroke-dashoffset","stroke-linecap":"stroke-linecap"},o="stroke-dasharray",r="http://www.w3.org/2000/svg",i=function(e,t){for(var n in t)e.setAttribute(n,""+t[n])},s=function(t,n){return n=n||{},n.version="1.1",n.xmlns=r,e.createElementNS(r,t,null,null,n)},a=function(e){return"position:absolute;left:"+e[0]+"px;top:"+e[1]+"px"},u=function(e){for(var t=e.querySelectorAll(" defs,linearGradient,radialGradient"),n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n])},l=function(e,t,r,i,a){if(t.setAttribute("fill",r.fill?r.fill:"none"),t.setAttribute("stroke",r.stroke?r.stroke:"none"),r.gradient?function(e,t,n,o,r){var i="jsplumb_gradient_"+r._jsPlumb.instance.idstamp();u(e);var a;a=n.gradient.offset?s("radialGradient",{id:i}):s("linearGradient",{id:i,gradientUnits:"userSpaceOnUse"});var l=s("defs");e.appendChild(l),l.appendChild(a);for(var c=0;c<n.gradient.stops.length;c++){var d=1===r.segment||2===r.segment?c:n.gradient.stops.length-1-c,p=n.gradient.stops[d][1],f=s("stop",{offset:Math.floor(100*n.gradient.stops[c][0])+"%","stop-color":p});a.appendChild(f)}var h=n.stroke?"stroke":"fill";t.setAttribute(h,"url(#"+i+")")}(e,t,r,0,a):(u(e),t.setAttribute("style","")),r.strokeWidth&&t.setAttribute("stroke-width",r.strokeWidth),r.dashstyle&&r.strokeWidth&&!r[o]){var l=-1===r.dashstyle.indexOf(",")?" ":",",c="";r.dashstyle.split(l).forEach(function(e){c+=Math.floor(e*r.strokeWidth)+l}),t.setAttribute(o,c)}else r[o]&&t.setAttribute(o,r[o]);for(var d in n)r[d]&&t.setAttribute(n[d],r[d])},c=function(e,t,n){e.childNodes.length>n?e.insertBefore(t,e.childNodes[n]):e.appendChild(t)};t.svg={node:s,attr:i,pos:a};var d=function(n){var o=n.pointerEventsSpec||"all",r={};e.jsPlumbUIComponent.apply(this,n.originalArgs),this.canvas=null,this.path=null,this.svg=null,this.bgCanvas=null;var u=n.cssClass+" "+(n.originalArgs[0].cssClass||""),l={style:"",width:0,height:0,"pointer-events":o,position:"absolute"};this.svg=s("svg",l),n.useDivWrapper?(this.canvas=e.createElement("div",{position:"absolute"}),t.sizeElement(this.canvas,0,0,1,1),this.canvas.className=u):(i(this.svg,{class:u}),this.canvas=this.svg),n._jsPlumb.appendElement(this.canvas,n.originalArgs[0].parent),n.useDivWrapper&&this.canvas.appendChild(this.svg);var c=[this.canvas];return this.getDisplayElements=function(){return c},this.appendDisplayElement=function(e){c.push(e)},this.paint=function(e,o,s){if(null!=e){var u,l=[this.x,this.y],c=[this.w,this.h];null!=s&&(s.xmin<0&&(l[0]+=s.xmin),s.ymin<0&&(l[1]+=s.ymin),c[0]=s.xmax+(s.xmin<0?-s.xmin:0),c[1]=s.ymax+(s.ymin<0?-s.ymin:0)),n.useDivWrapper?(t.sizeElement(this.canvas,l[0],l[1],c[0],c[1]),l[0]=0,l[1]=0,u=a([0,0])):u=a([l[0],l[1]]),r.paint.apply(this,arguments),i(this.svg,{style:u,width:c[0]||0,height:c[1]||0})}},{renderer:r}};t.extend(d,e.jsPlumbUIComponent,{cleanup:function(e){e||null==this.typeId?(this.canvas&&(this.canvas._jsPlumb=null),this.svg&&(this.svg._jsPlumb=null),this.bgCanvas&&(this.bgCanvas._jsPlumb=null),this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.svg=null,this.canvas=null,this.path=null,this.group=null):(this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode&&this.bgCanvas.parentNode.removeChild(this.bgCanvas))},reattach:function(e){var t=e.getContainer();this.canvas&&null==this.canvas.parentNode&&t.appendChild(this.canvas),this.bgCanvas&&null==this.bgCanvas.parentNode&&t.appendChild(this.bgCanvas)},setVisible:function(e){this.canvas&&(this.canvas.style.display=e?"block":"none")}}),e.ConnectorRenderers.svg=function(t){var n=this,o=d.apply(this,[{cssClass:t._jsPlumb.connectorClass+(this.isEditable()?" "+t._jsPlumb.editableConnectorClass:""),originalArgs:arguments,pointerEventsSpec:"none",_jsPlumb:t._jsPlumb}]),r=this.setEditable;this.setEditable=function(t){var n=r.apply(this,[t]);e[n?"addClass":"removeClass"](this.canvas,this._jsPlumb.instance.editableConnectorClass)},o.renderer.paint=function(o,r,a){var u=n.getSegments(),d=[0,0];if(a.xmin<0&&(d[0]=-a.xmin),a.ymin<0&&(d[1]=-a.ymin),u.length>0){var p={d:n.getPathData(),transform:"translate("+d[0]+","+d[1]+")","pointer-events":t["pointer-events"]||"visibleStroke"},f=null;if(n.x,n.y,n.w,n.h,o.outlineStroke){var h=o.outlineWidth||1,g=o.strokeWidth+2*h;delete(f=e.extend({},o)).gradient,f.stroke=o.outlineStroke,f.strokeWidth=g,null==n.bgPath?(n.bgPath=s("path",p),e.addClass(n.bgPath,e.connectorOutlineClass),c(n.svg,n.bgPath,0)):i(n.bgPath,p),l(n.svg,n.bgPath,f,0,n)}null==n.path?(n.path=s("path",p),c(n.svg,n.path,o.outlineStroke?1:0)):i(n.path,p),l(n.svg,n.path,o,0,n)}}},t.extend(e.ConnectorRenderers.svg,d);var p=e.SvgEndpoint=function(t){d.apply(this,[{cssClass:t._jsPlumb.endpointClass,originalArgs:arguments,pointerEventsSpec:"all",useDivWrapper:!0,_jsPlumb:t._jsPlumb}]).renderer.paint=function(t){var n=e.extend({},t);n.outlineStroke&&(n.stroke=n.outlineStroke),null==this.node?(this.node=this.makeNode(n),this.svg.appendChild(this.node)):null!=this.updateNode&&this.updateNode(this.node),l(this.svg,this.node,n,(this.x,this.y,this.w,this.h),this),a(this.node,(this.x,this.y))}.bind(this)};t.extend(p,d),e.Endpoints.svg.Dot=function(){e.Endpoints.Dot.apply(this,arguments),p.apply(this,arguments),this.makeNode=function(e){return s("circle",{cx:this.w/2,cy:this.h/2,r:this.radius})},this.updateNode=function(e){i(e,{cx:this.w/2,cy:this.h/2,r:this.radius})}},t.extend(e.Endpoints.svg.Dot,[e.Endpoints.Dot,p]),e.Endpoints.svg.Rectangle=function(){e.Endpoints.Rectangle.apply(this,arguments),p.apply(this,arguments),this.makeNode=function(e){return s("rect",{width:this.w,height:this.h})},this.updateNode=function(e){i(e,{width:this.w,height:this.h})}},t.extend(e.Endpoints.svg.Rectangle,[e.Endpoints.Rectangle,p]),e.Connectors.svg.Flowchart=function(){e.Connectors.Flowchart.apply(this,arguments),e.ConnectorRenderers.svg.apply(this,arguments)},t.extend(e.Connectors.svg.Flowchart,[e.Connectors.Flowchart,e.ConnectorRenderers.svg]),e.Connectors.svg.Bezier=function(){e.Connectors.Bezier.apply(this,arguments),e.ConnectorRenderers.svg.apply(this,arguments)},t.extend(e.Connectors.svg.Bezier,[e.Connectors.Bezier,e.ConnectorRenderers.svg]),e.Connectors.svg.Straight=function(){e.Connectors.Straight.apply(this,arguments),e.ConnectorRenderers.svg.apply(this,arguments)},t.extend(e.Connectors.svg.Straight,[e.Connectors.Straight,e.ConnectorRenderers.svg]),e.Connectors.svg.StateMachine=function(){e.Connectors.StateMachine.apply(this,arguments),e.ConnectorRenderers.svg.apply(this,arguments)},t.extend(e.Connectors.svg.StateMachine,[e.Connectors.StateMachine,e.ConnectorRenderers.svg]),e.Endpoints.svg.Image=e.Endpoints.Image,e.Endpoints.svg.Blank=e.Endpoints.Blank,e.Overlays.svg.Label=e.Overlays.Label,e.Overlays.svg.Custom=e.Overlays.Custom;var f=function(t,n){t.apply(this,n),e.jsPlumbUIComponent.apply(this,n),this.isAppendedAtTopLevel=!1,this.path=null,this.paint=function(e,t){if(e.component.svg&&t){null==this.path&&(this.path=s("path",{"pointer-events":"all"}),e.component.svg.appendChild(this.path),this.elementCreated&&this.elementCreated(this.path,e.component),this.canvas=e.component.svg);var r=n&&1===n.length?n[0].cssClass||"":"",a=[0,0];t.xmin<0&&(a[0]=-t.xmin),t.ymin<0&&(a[1]=-t.ymin),i(this.path,{d:o(e.d),class:r,stroke:e.stroke?e.stroke:null,fill:e.fill?e.fill:null,transform:"translate("+a[0]+","+a[1]+")"})}};var o=function(e){return isNaN(e.cxy.x)||isNaN(e.cxy.y)?"":"M"+e.hxy.x+","+e.hxy.y+" L"+e.tail[0].x+","+e.tail[0].y+" L"+e.cxy.x+","+e.cxy.y+" L"+e.tail[1].x+","+e.tail[1].y+" L"+e.hxy.x+","+e.hxy.y};this.transfer=function(e){e.canvas&&this.path&&this.path.parentNode&&(this.path.parentNode.removeChild(this.path),e.canvas.appendChild(this.path))}};t.extend(f,[e.jsPlumbUIComponent,e.Overlays.AbstractOverlay],{cleanup:function(e){null!=this.path&&(e?this._jsPlumb.instance.removeElement(this.path):this.path.parentNode&&this.path.parentNode.removeChild(this.path))},reattach:function(e,t){this.path&&t.canvas&&t.canvas.appendChild(this.path)},setVisible:function(e){null!=this.path&&(this.path.style.display=e?"block":"none")}}),e.Overlays.svg.Arrow=function(){f.apply(this,[e.Overlays.Arrow,arguments])},t.extend(e.Overlays.svg.Arrow,[e.Overlays.Arrow,f]),e.Overlays.svg.PlainArrow=function(){f.apply(this,[e.Overlays.PlainArrow,arguments])},t.extend(e.Overlays.svg.PlainArrow,[e.Overlays.PlainArrow,f]),e.Overlays.svg.Diamond=function(){f.apply(this,[e.Overlays.Diamond,arguments])},t.extend(e.Overlays.svg.Diamond,[e.Overlays.Diamond,f]),e.Overlays.svg.GuideLines=function(){var t,n,o=null,r=this;e.Overlays.GuideLines.apply(this,arguments),this.paint=function(e,u){null==o&&(o=s("path"),e.connector.svg.appendChild(o),r.attachListeners(o,e.connector),r.attachListeners(o,r),t=s("path"),e.connector.svg.appendChild(t),r.attachListeners(t,e.connector),r.attachListeners(t,r),n=s("path"),e.connector.svg.appendChild(n),r.attachListeners(n,e.connector),r.attachListeners(n,r));var l=[0,0];u.xmin<0&&(l[0]=-u.xmin),u.ymin<0&&(l[1]=-u.ymin),i(o,{d:a(e.head,e.tail),stroke:"red",fill:null,transform:"translate("+l[0]+","+l[1]+")"}),i(t,{d:a(e.tailLine[0],e.tailLine[1]),stroke:"blue",fill:null,transform:"translate("+l[0]+","+l[1]+")"}),i(n,{d:a(e.headLine[0],e.headLine[1]),stroke:"green",fill:null,transform:"translate("+l[0]+","+l[1]+")"})};var a=function(e,t){return"M "+e.x+","+e.y+" L"+t.x+","+t.y}},t.extend(e.Overlays.svg.GuideLines,e.Overlays.GuideLines)}.call("undefined"!=typeof window?window:this),function(){"use strict";var e=this.jsPlumb,t=this.jsPlumbUtil,n=this.Katavorio,o=this.Biltong,r=function(t,r){var i="_katavorio_"+(r=r||"main"),s=t[i],a=t.getEventManager();return s||((s=new n({bind:a.on,unbind:a.off,getSize:e.getSize,getConstrainingRectangle:function(e){return[e.parentNode.scrollWidth,e.parentNode.scrollHeight]},getPosition:function(e,n){var o=t.getOffset(e,n,e._katavorioDrag?e.offsetParent:null);return[o.left,o.top]},setPosition:function(e,t){e.style.left=t[0]+"px",e.style.top=t[1]+"px"},addClass:e.addClass,removeClass:e.removeClass,intersects:o.intersects,indexOf:function(e,t){return e.indexOf(t)},scope:t.getDefaultScope(),css:{noSelect:t.dragSelectClass,droppable:"jtk-droppable",draggable:"jtk-draggable",drag:"jtk-drag",selected:"jtk-drag-selected",active:"jtk-drag-active",hover:"jtk-drag-hover",ghostProxy:"jtk-ghost-proxy"}})).setZoom(t.getZoom()),t[i]=s,t.bind("zoom",s.setZoom)),s};e.extend(this.jsPlumbInstance.prototype,{animationSupported:!0,getElement:function(e){return null==e?null:"string"==typeof(e="string"==typeof e?e:null!=e.length&&null==e.enctype?e[0]:e)?document.getElementById(e):e},removeElement:function(e){r(this).elementRemoved(e),this.getEventManager().remove(e)},doAnimate:function(n,o,r){r=r||{};var i=this.getOffset(n),s=function(e,n){var o=function(o){if(null!=n[o]){if(t.isString(n[o])){var r=n[o].match(/-=/)?-1:1,i=n[o].substring(2);return e[o]+r*i}return n[o]}return e[o]};return[o("left"),o("top")]}(i,o),a=s[0]-i.left,u=s[1]-i.top,l=r.duration||250,c=l/15,d=15/l*a,p=15/l*u,f=0,h=setInterval(function(){e.setPosition(n,{left:i.left+d*(f+1),top:i.top+p*(f+1)}),null!=r.step&&r.step(f,Math.ceil(c)),++f>=c&&(window.clearInterval(h),null!=r.complete&&r.complete())},15)},destroyDraggable:function(e,t){r(this,t).destroyDraggable(e)},destroyDroppable:function(e,t){r(this,t).destroyDroppable(e)},initDraggable:function(e,t,n){r(this,n).draggable(e,t)},initDroppable:function(e,t,n){r(this,n).droppable(e,t)},isAlreadyDraggable:function(e){return null!=e._katavorioDrag},isDragSupported:function(e,t){return!0},isDropSupported:function(e,t){return!0},isElementDraggable:function(t){return(t=e.getElement(t))._katavorioDrag&&t._katavorioDrag.isEnabled()},getDragObject:function(e){return e[0].drag.getDragElement()},getDragScope:function(e){return e._katavorioDrag&&e._katavorioDrag.scopes.join(" ")||""},getDropEvent:function(e){return e[0].e},getUIPosition:function(e,t){var n=e[0].el;if(null==n.offsetParent)return null;var o=e[0].finalPos||e[0].pos,r={left:o[0],top:o[1]};if(n._katavorioDrag&&n.offsetParent!==this.getContainer()){var i=this.getOffset(n.offsetParent);r.left+=i.left,r.top+=i.top}return r},setDragFilter:function(e,t,n){e._katavorioDrag&&e._katavorioDrag.setFilter(t,n)},setElementDraggable:function(t,n){(t=e.getElement(t))._katavorioDrag&&t._katavorioDrag.setEnabled(n)},setDragScope:function(e,t){e._katavorioDrag&&e._katavorioDrag.k.setDragScope(e,t)},setDropScope:function(e,t){e._katavorioDrop&&e._katavorioDrop.length>0&&e._katavorioDrop[0].k.setDropScope(e,t)},addToPosse:function(t,n){var o=Array.prototype.slice.call(arguments,1),i=r(this);e.each(t,function(t){(t=[e.getElement(t)]).push.apply(t,o),i.addToPosse.apply(i,t)})},setPosse:function(t,n){var o=Array.prototype.slice.call(arguments,1),i=r(this);e.each(t,function(t){(t=[e.getElement(t)]).push.apply(t,o),i.setPosse.apply(i,t)})},removeFromPosse:function(t,n){var o=Array.prototype.slice.call(arguments,1),i=r(this);e.each(t,function(t){(t=[e.getElement(t)]).push.apply(t,o),i.removeFromPosse.apply(i,t)})},removeFromAllPosses:function(t){var n=r(this);e.each(t,function(t){n.removeFromAllPosses(e.getElement(t))})},setPosseState:function(t,n,o){var i=r(this);e.each(t,function(t){i.setPosseState(e.getElement(t),n,o)})},dragEvents:{start:"start",stop:"stop",drag:"drag",step:"step",over:"over",out:"out",drop:"drop",complete:"complete",beforeStart:"beforeStart"},animEvents:{step:"step",complete:"complete"},stopDrag:function(e){e._katavorioDrag&&e._katavorioDrag.abort()},addToDragSelection:function(e){r(this).select(e)},removeFromDragSelection:function(e){r(this).deselect(e)},clearDragSelection:function(){r(this).deselectAll()},trigger:function(e,t,n,o){this.getEventManager().trigger(e,t,n,o)},doReset:function(){for(var e in this)0===e.indexOf("_katavorio_")&&this[e].reset()}}),function(e){var t=function(){/complete|loaded|interactive/.test(document.readyState)&&void 0!==document.body&&null!=document.body?e():setTimeout(t,9)};t()}(e.init)}.call("undefined"!=typeof window?window:this)},function(e,t){e.exports={grid_size:"20",gridSize:"20",node_spacing:"20",nodeSpacing:"20",node_padding:"10",nodePadding:"10","background-size":"20",backgroundSize:"20",loading:"Flow__loading___1YXIw",loaded:"Flow__loaded___3NhaI",nodeList:"Flow__nodeList___d9ayS",dragSelection:"Flow__dragSelection___xhrLm"}},function(e,t,n){"use strict";(function(e){var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),s=n(34),a=n(41),u=n(0),l=n(152),c=n(1),d=n(3),p=n(17),f=n(18),h=n(2),g=n(365),m=n(155),v=n(370),_=n(372),y=n(59),b=n(154),E=n(43),C=n(6),w=s.bind(r({},y,_)),x=function(t){function n(e,n){var o=t.call(this,e,n)||this;return o.state={thisNodeDragging:!1},i.react(o,{include:[/Ref$/,/^on/,/^get/]}),o.events=h.createClickHandler(o.onClick),o}return o(n,t),n.prototype.eleRef=function(e){return this.ele=e},n.prototype.shouldComponentUpdate=function(e,t){return t.thisNodeDragging!==this.state.thisNodeDragging||!a(e,this.props)},n.prototype.componentDidUpdate=function(e,t){if(this.props.ghost)this.props.plumberRecalculate(this.props.node.uuid);else{this.props.plumberRepaintForDuration();try{this.props.plumberRecalculate(this.props.node.uuid)}catch(e){console.log(e)}this.props.ui.position&&this.props.ui.position.right===this.props.ui.position.left+this.ele.clientWidth&&this.props.ui.position.bottom===this.props.ui.position.top+this.ele.clientHeight||this.props.translating||this.updateDimensions()}},n.prototype.componentDidMount=function(){var t=this;this.props.plumberDraggable(this.props.node.uuid,function(e){t.onDragStart(e),t.props.updateNodeDragging(!0)},function(e){return t.onDrag(e)},function(e){return t.onDragStop(e)},function(){return!t.props.translating}),this.props.plumberMakeTarget(this.props.node.uuid),this.props.ghost?e(document).bind("mousemove",function(n){var o=e(t.ele),r=n.pageX-o.width()/2,i=n.pageY,s=e(t.ele);s.offset({left:r,top:i}),e(".plumb-drop-hover").length>0?s.hide():s.show()}):this.updateDimensions()},n.prototype.componentWillUnmount=function(){this.props.plumberRemove(this.props.node.uuid)},n.prototype.onMouseOver=function(){this.props.updateDragGroup(!0)},n.prototype.onMouseOut=function(){this.props.updateDragGroup(!1)},n.prototype.onAddToNode=function(){this.props.onAddToNode(this.props.node)},n.prototype.onDragStart=function(e){return this.props.dragSelection&&this.props.dragSelection.selected&&!this.isSelected()&&(this.props.updateDragSelection(null),this.props.plumberClearDragSelection()),this.setState({thisNodeDragging:!0}),!1},n.prototype.onDrag=function(e){},n.prototype.onDragStop=function(e){this.props.updateNodeDragging(!1),e.e.preventDefault(),e.e.stopPropagation(),e.e.stopImmediatePropagation(),window.event&&(window.event.cancelBubble=!0),this.setState({thisNodeDragging:!1});var t=h.snapToGrid(e.finalPos[0],e.finalPos[1]),n=t.left,o=t.top;this.ele.style.left=n+"px",this.ele.style.top=o+"px",this.props.onNodeMoved(this.props.node.uuid,{left:n,top:o}),this.props.plumberRemoveFromDragSelection(this.props.node.uuid)},n.prototype.updateDimensions=function(){this.ele&&this.ele.clientWidth&&this.ele.clientHeight&&this.props.updateDimensions(this.props.node,{width:this.ele.clientWidth,height:this.ele.clientHeight})},n.prototype.onClick=function(e){this.props.nodeDragging||this.props.onOpenNodeEditor(this.props.node,null,this.context.languages)},n.prototype.onRemoval=function(e){e&&(e.preventDefault(),e.stopPropagation()),this.props.removeNode(this.props.node)},n.prototype.onUnmount=function(e){this.props.Activity.deregister(e)},n.prototype.getCount=function(){return this.props.Activity.getActiveCount(this.props.node.uuid)},n.prototype.getExits=function(){var e=this;return this.props.node.exits?this.props.node.exits.map(function(t){return u.createElement(v.default,{key:t.uuid,node:e.props.node,exit:t,Activity:e.props.Activity,plumberMakeSource:e.props.plumberMakeSource,plumberRemove:e.props.plumberRemove,plumberConnectExit:e.props.plumberConnectExit})}):[]},n.prototype.isSelected=function(){return this.props.dragSelection&&this.props.dragSelection.selected&&this.props.dragSelection.selected[this.props.node.uuid]},n.prototype.render=function(){var e=this,t=[],n=null;if(this.props.node.actions){var o={ref:function(t){return e.firstAction=t}};this.props.node.actions.forEach(function(n,i){var s=p.getTypeConfig(n.type);if(s.hasOwnProperty("component")&&s.component){var a=s.component;t.push(u.createElement(g.default,r({},o,{key:n.uuid,node:e.props.node,thisNodeDragging:e.state.thisNodeDragging,action:n,first:0===i,render:function(e){return u.createElement(a,r({},e))}})))}o={}}),n=u.createElement(l,{enterAnimation:"fade",leaveAnimation:"fade",className:_.actions,duration:300,easing:"ease-out"},t)}var i=null,s=null;if(this.props.node.actions&&this.props.node.actions.length&&null==this.props.ui.type)this.props.translating||(s=u.createElement("a",{className:_.add,onClick:this.onAddToNode},u.createElement("span",{className:"icn-add"})));else{var a=this.props.node.router.type;this.props.ui.type&&(a=this.props.ui.type);var c=p.getTypeConfig(a),d=c.name;if("switch"===this.props.node.router.type){var f=this.props.node.router;f.result_name&&("split_by_expression"===this.props.ui.type?d="Split by "+h.titleCase(f.result_name):"wait_for_response"===this.props.ui.type&&(d="Wait for "+h.titleCase(f.result_name)))}this.props.node.actions&&this.props.node.actions.length||(i=u.createElement("div",{style:{position:"relative"}},u.createElement("div",r({},this.events),u.createElement(b.default,{__className:y[c.type],showRemoval:!this.props.translating,onRemoval:this.onRemoval,title:d}))))}var v=this.getExits(),E=w((O={"plumb-drag":!0},O[_.dragging]=this.state.thisNodeDragging,O[_.ghost]=this.props.ghost,O[_.translating]=this.props.translating,O[_.nondragged]=this.props.nodeDragging&&!this.state.thisNodeDragging,O[_.selected]=this.isSelected(),O)),C=1!==this.props.node.exits.length||this.props.node.exits[0].name?"":_.unnamed_exit,x={left:this.props.ui.position.left,top:this.props.ui.position.top};return u.createElement("div",{style:x,id:this.props.node.uuid,className:_.node_container+" "+E,ref:this.eleRef},u.createElement("div",{className:_.node},u.createElement(m.default,{ref:this.props.Activity.registerListener,getCount:this.getCount,onUnmount:this.onUnmount,containerStyle:_.active,countStyle:""}),u.createElement("div",{className:_.cropped},i,n),u.createElement("div",{className:_.exit_table+" "+C},u.createElement("div",r({className:_.exits},this.events),v),s)));var O},n.contextTypes={languages:C.fakePropType},n}(u.Component);t.NodeComp=x;var O=function(e){var t=e.flowContext.definition,n=e.flowEditor,o=n.editorUI,r=o.language,i=o.translating,s=n.flowUI;return{language:r,translating:i,definition:t,nodeDragging:s.nodeDragging,dragSelection:s.dragSelection}},S=function(e){return d.bindActionCreators({updateDragSelection:E.updateDragSelection,updateNodeDragging:f.updateNodeDragging,onAddToNode:f.onAddToNode,onNodeMoved:f.onNodeMoved,onOpenNodeEditor:f.onOpenNodeEditor,removeNode:f.removeNode,updateDimensions:f.updateDimensions,updateDragGroup:f.updateDragGroup},e)};t.default=c.connect(O,S,null,{withRef:!0})(x),"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__extends","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/Node.tsx"),__REACT_HOT_LOADER__.register(r,"__assign","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/Node.tsx"),__REACT_HOT_LOADER__.register(w,"cx","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/Node.tsx"),__REACT_HOT_LOADER__.register(x,"NodeComp","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/Node.tsx"),__REACT_HOT_LOADER__.register(O,"mapStateToProps","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/Node.tsx"),__REACT_HOT_LOADER__.register(S,"mapDispatchToProps","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/Node.tsx"))}).call(t,n(72))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(366);t.default=o.default},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(4),a=n(34),u=n(0),l=n(1),c=n(3),d=n(17),p=n(18),f=n(2),h=n(59),g=n(154),m=n(115),v=n(6);t.actionContainerSpecId="action-container",t.actionOverlaySpecId="action-overlay",t.actionInteractiveDivSpecId="interactive-div",t.actionBodySpecId="action-body";var _=a.bind(r({},h,m)),y=function(e){function n(t,n){var o=e.call(this,t)||this;return s.react(o,{include:[/^on/]}),o}return o(n,e),n.prototype.onClick=function(e){this.props.thisNodeDragging||(e.preventDefault(),e.stopPropagation(),this.props.onOpenNodeEditor(this.props.node,this.props.action,this.context.languages))},n.prototype.onRemoval=function(e){e.stopPropagation(),this.props.removeAction(this.props.node.uuid,this.props.action)},n.prototype.onMoveUp=function(e){e.stopPropagation(),this.props.moveActionUp(this.props.node.uuid,this.props.action)},n.prototype.getAction=function(){var e=f.getLocalization(this.props.action,this.props.localization,this.props.language.iso,this.context.languages);return e&&this.props.translating?e.getObject():this.props.action},n.prototype.getClasses=function(){var e=[],t=!1;if(this.props.translating&&("send_msg"===this.props.action.type&&e.push("text"),0!==e.length)){var n=f.getLocalization(this.props.action,this.props.localization,this.props.language.iso,this.context.languages);if(n.isLocalized())try{for(var o=i(e),r=o.next();!r.done;r=o.next())if(!(r.value in n.localizedKeys)){t=!0;break}}catch(e){s={error:e}}finally{try{r&&!r.done&&(a=o.return)&&a.call(o)}finally{if(s)throw s.error}}else t=!0}return _((u={},u[m.action]=!0,u[m.has_router]=this.props.node.hasOwnProperty("router")&&null!==this.props.node.router,u[m.translating]=this.props.translating,u[m.not_localizable]=this.props.translating&&0===e.length,u[m.missing_localization]=t,u));var s,a,u},n.prototype.render=function(){var e=d.getTypeConfig(this.props.action.type).name,n=this.getClasses(),o=this.getAction(),i=h[this.props.action.type]||h.missing,s=m[this.props.action.type]||m.missing,a=!this.props.translating,l=!this.props.first&&!this.props.translating;return u.createElement("div",{id:"action-"+this.props.action.uuid,className:n,"data-spec":t.actionContainerSpecId},u.createElement("div",{className:m.overlay,"data-spec":t.actionOverlaySpecId}),u.createElement("div",r({},f.createClickHandler(this.onClick),{"data-spec":t.actionInteractiveDivSpecId}),u.createElement(g.default,{__className:i,title:e,onRemoval:this.onRemoval,showRemoval:a,showMove:l,onMoveUp:this.onMoveUp}),u.createElement("div",{className:m.body+" "+s,"data-spec":t.actionBodySpecId},this.props.render(o))))},n.contextTypes={languages:v.fakePropType},n}(u.Component);t.ActionWrapper=y;var b=function(e){var t=e.flowContext.definition.localization,n=e.flowEditor.editorUI;return{language:n.language,translating:n.translating,localization:t}},E=function(e){return c.bindActionCreators({onOpenNodeEditor:p.onOpenNodeEditor,removeAction:p.removeAction,moveActionUp:p.moveActionUp},e)},C=l.connect(b,E)(y);t.default=C,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__extends","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/actions/Action/Action.tsx"),__REACT_HOT_LOADER__.register(r,"__assign","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/actions/Action/Action.tsx"),__REACT_HOT_LOADER__.register(i,"__values","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/actions/Action/Action.tsx"),__REACT_HOT_LOADER__.register(_,"cx","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/actions/Action/Action.tsx"),__REACT_HOT_LOADER__.register(y,"ActionWrapper","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/actions/Action/Action.tsx"),__REACT_HOT_LOADER__.register(b,"mapStateToProps","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/actions/Action/Action.tsx"),__REACT_HOT_LOADER__.register(E,"mapDispatchToProps","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/actions/Action/Action.tsx"),__REACT_HOT_LOADER__.register(C,"ConnectedActionWrapper","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/actions/Action/Action.tsx"))},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(368),a=n(2);t.confirmationTime=2e3,t.titlebarContainerSpecId="titlebar-container",t.titlebarSpecId="titlebar",t.moveIconSpecId="move-icon",t.moveSpecId="move",t.removeIconSpecId="remove-icon",t.confirmationSpecId="confirmation",t.confirmRemovalSpecId="confirm-removal";var u=function(e){function n(t){var n=e.call(this,t)||this;return n.state={confirmingRemoval:!1},n.onConfirmRemoval=n.onConfirmRemoval.bind(n),n}return o(n,e),n.prototype.componentWillUnmount=function(){this.confirmationTimeout&&window.clearTimeout(this.confirmationTimeout)},n.prototype.onConfirmRemoval=function(e){var n=this;e&&(e.preventDefault(),e.stopPropagation()),this.setState({confirmingRemoval:!0}),this.confirmationTimeout=window.setTimeout(function(){return n.setState({confirmingRemoval:!1})},t.confirmationTime)},n.prototype.getMoveArrow=function(){return this.props.showMove?i.createElement("div",r({className:s.up_button},a.createClickHandler(this.props.onMoveUp),{"data-spec":t.moveIconSpecId}),i.createElement("span",{className:"icn-arrow-up"})):i.createElement("div",{className:s.up_button,"data-spec":t.moveSpecId})},n.prototype.getRemove=function(){var e=null;return this.props.showRemoval&&(e=i.createElement("div",r({className:s.remove_button},a.createClickHandler(this.onConfirmRemoval),{"data-spec":t.removeIconSpecId}),i.createElement("span",{className:"icn-remove"}))),e},n.prototype.getConfirmationEl=function(){var e;return this.state.confirmingRemoval&&(e=i.createElement("div",{className:s.remove_confirm,"data-spec":t.confirmationSpecId},i.createElement("div",r({className:s.remove_button},a.createClickHandler(this.props.onRemoval),{"data-spec":t.confirmRemovalSpecId}),i.createElement("span",{className:"icn-remove"})),"Remove?")),e},n.prototype.render=function(){var e=this.getConfirmationEl(),n=this.getMoveArrow(),o=this.getRemove();return i.createElement("div",{className:s.titlebar,"data-spec":t.titlebarContainerSpecId},i.createElement("div",{className:this.props.__className+" "+s.normal,"data-spec":t.titlebarSpecId},n,o,this.props.title),e)},n}(i.Component);t.default=u,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__extends","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/TitleBar/TitleBar.tsx"),__REACT_HOT_LOADER__.register(r,"__assign","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/TitleBar/TitleBar.tsx"),__REACT_HOT_LOADER__.register(u,"TitleBar","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/TitleBar/TitleBar.tsx"))},function(e,t){e.exports={grid_size:"20",gridSize:"20",node_spacing:"20",nodeSpacing:"20",node_padding:"10",nodePadding:"10","background-size":"20",backgroundSize:"20",titlebar:"TitleBar__titlebar___T1KGO",normal:"TitleBar__normal___ucDVb",remove_confirm:"TitleBar__remove_confirm___IWrvr",removeConfirm:"TitleBar__remove_confirm___IWrvr",remove_button:"TitleBar__remove_button___1Rowi",removeButton:"TitleBar__remove_button___1Rowi",up_button:"TitleBar__up_button___dPOQ5",upButton:"TitleBar__up_button___dPOQ5"}},function(e,t){e.exports={grid_size:"20",gridSize:"20",node_spacing:"20",nodeSpacing:"20",node_padding:"10",nodePadding:"10","background-size":"20",backgroundSize:"20",counter:"Counter__counter___ZaOkm"}},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),s=n(34),a=n(0),u=n(1),l=n(3),c=n(18),d=n(2),p=n(155),f=n(371),h=n(6),g=s.bind(f),m=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.state={confirmDelete:!1},i.react(o,{include:[/^on/,"getCount"]}),o}return o(t,e),t.prototype.getSourceId=function(){return this.props.node.uuid+":"+this.props.exit.uuid},t.prototype.componentDidMount=function(){this.props.plumberMakeSource(this.getSourceId()),this.props.exit.destination_node_uuid&&this.connect()},t.prototype.componentDidUpdate=function(e){this.connect(),e.exit.destination_node_uuid&&!this.props.exit.destination_node_uuid&&this.state.confirmDelete&&this.setState({confirmDelete:!1})},t.prototype.componentWillUnmount=function(){this.props.exit.destination_node_uuid&&this.props.plumberRemove(this.getSourceId())},t.prototype.onClick=function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.props.exit.destination_node_uuid&&!this.props.translating&&this.setState({confirmDelete:!0},function(){t.timeout=window.setTimeout(function(){t.setState({confirmDelete:!1})},2e3)})},t.prototype.onDisconnect=function(e){e.stopPropagation(),e.preventDefault(),this.timeout&&window.clearTimeout(this.timeout),this.props.disconnectExit(this.props.node.uuid,this.props.exit.uuid)},t.prototype.onUnmount=function(e){this.props.Activity.deregister(e)},t.prototype.connect=function(){var e=[];this.props.translating?e.push("translating"):this.state.confirmDelete&&e.push("confirm-delete"),this.props.plumberConnectExit(this.props.node,this.props.exit,e.join(" "))},t.prototype.getCount=function(){return this.props.Activity.getPathCount(this.props.exit)},t.prototype.getActivity=function(){if(this.props.exit.destination_node_uuid){var e="count:"+this.props.exit.uuid+":"+this.props.exit.destination_node_uuid;return a.createElement(p.default,{key:e,ref:this.props.Activity.registerListener,getCount:this.getCount,onUnmount:this.onUnmount,containerStyle:f.activity,countStyle:f.count})}return null},t.prototype.render=function(){var e=d.getLocalization(this.props.exit,this.props.localization,this.props.language.iso,this.context.languages),t=this.props.translating?e.getObject():this.props.exit,n=t.name?f.name:"",o=this.props.exit.destination_node_uuid?" jtk-connected":"",i=g(f.endpoint,o),s=this.state.confirmDelete&&this.props.exit.hasOwnProperty("destination_node_uuid"),u=s?a.createElement("span",r({},d.createClickHandler(this.onDisconnect),{className:"icn-remove"})):null,l=g((p={},p[f.exit]=!0,p["plumb-exit"]=!0,p[f.translating]=this.props.translating,p[f.unnamed_exit]=null==t.name,p[f.missing_localization]=t.name&&this.props.translating&&!("name"in e.localizedKeys),p[f.confirmDelete]=s,p)),c=this.getActivity();return a.createElement("div",{className:l},a.createElement("div",{className:n},t.name),a.createElement("div",r({},d.createClickHandler(this.onClick),{id:this.props.node.uuid+":"+this.props.exit.uuid,className:i}),u),c);var p},t.contextTypes={languages:h.fakePropType},t}(a.PureComponent);t.ExitComp=m;var v=function(e){var t=e.flowContext.definition.localization,n=e.flowEditor.editorUI;return{translating:n.translating,language:n.language,localization:t}},_=function(e){return l.bindActionCreators({disconnectExit:c.disconnectExit},e)},y=u.connect(v,_)(m);t.default=y,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__extends","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/Exit.tsx"),__REACT_HOT_LOADER__.register(r,"__assign","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/Exit.tsx"),__REACT_HOT_LOADER__.register(g,"cx","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/Exit.tsx"),__REACT_HOT_LOADER__.register(m,"ExitComp","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/Exit.tsx"),__REACT_HOT_LOADER__.register(v,"mapStateToProps","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/Exit.tsx"),__REACT_HOT_LOADER__.register(_,"mapDispatchToProps","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/Exit.tsx"),__REACT_HOT_LOADER__.register(y,"ConnectedExit","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/Exit.tsx"))},function(e,t){e.exports={grid_size:"20",gridSize:"20",node_spacing:"20",nodeSpacing:"20",node_padding:"10",nodePadding:"10","background-size":"20",backgroundSize:"20",exit:"Exit__exit___1vouS",translating:"Exit__translating___2-j5_",unnamed_exit:"Exit__unnamed_exit___2Vkwj",unnamedExit:"Exit__unnamed_exit___2Vkwj",endpoint:"Exit__endpoint___2_Iv1",missing_localization:"Exit__missing_localization___1LZu8",missingLocalization:"Exit__missing_localization___1LZu8",name:"Exit__name___37GQL",activity:"Exit__activity___10gSa",count:"Exit__count___25a_R","confirm-delete":"Exit__confirm-delete___1uXgq",confirmDelete:"Exit__confirm-delete___1uXgq"}},function(e,t){e.exports={grid_size:"20",gridSize:"20",node_spacing:"20",nodeSpacing:"20",node_padding:"10",nodePadding:"10","background-size":"20",backgroundSize:"20",node_container:"Node__node_container___2Wzrs",nodeContainer:"Node__node_container___2Wzrs",dragging:"Node__dragging___1yhuw",node:"Node__node___3l1ym",add:"Node__add___y8ntx",ghost:"Node__ghost___1akB0",nondragged:"Node__nondragged___3euCQ",translating:"Node__translating___3o5dL",actions:"Node__actions___3YNIB",unnamed_exit:"Node__unnamed_exit___301AB",unnamedExit:"Node__unnamed_exit___301AB",exit_table:"Node__exit_table___1oBoz",exitTable:"Node__exit_table___1oBoz",exits:"Node__exits___2NEsj",exit:"Node__exit___2gyKb",selected:"Node__selected___wxWB6",cropped:"Node__cropped___2Wcav",drag_group:"Node__drag_group___24xn5",dragGroup:"Node__drag_group___24xn5",active:"Node__active___NfMVs"}},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(4),a=n(68),u=n(58),l=n(0),c=n(1),d=n(3),p=n(11),f=n(6),h=n(12),g=n(57),m=n(374),v=n(156),_=function(e){function t(t,n){var o=e.call(this,t)||this;return o.debug=[],o.flows=[],o.state={active:!1,visible:!1,events:[],contact:{uuid:p.v4(),urns:["tel:+12065551212"],fields:{},groups:[]},channel:p.v4()},o.bottomRef=o.bottomRef.bind(o),o.inputBoxRef=o.inputBoxRef.bind(o),o.currentFlow=o.props.definition.uuid,s.react(o,{include:[/^on/,/^get/]}),o}return o(t,e),t.prototype.getAssetService=function(){return this.context.assetService},t.prototype.bottomRef=function(e){return this.bottom=e},t.prototype.inputBoxRef=function(e){this.inputBox=e},t.prototype.updateActivity=function(){if(this.state.session){var e,t=null,n={},o={};try{for(var r=i(this.state.session.runs),s=r.next();!s.done;s=r.next()){var a=s.value,u=null;try{for(var l=i(a.path),c=l.next();!c.done;c=l.next()){var d=c.value;if(t){var p=t+":"+d.node_uuid,f=n[p];f||(f=0),n[p]=++f}t=d.exit_uuid,u=d}}catch(e){_={error:e}}finally{try{c&&!c.done&&(y=l.return)&&y.call(l)}finally{if(_)throw _.error}}if("A"===a.status&&u){var h=o[u.node_uuid];h||(h=0),o[u.node_uuid]=++h,e=a.flow_uuid}}}catch(e){m={error:e}}finally{try{s&&!s.done&&(v=r.return)&&v.call(r)}finally{if(m)throw m.error}}var g={segments:n,nodes:o};this.props.Activity.setSimulation(g),e&&e!==this.currentFlow&&(this.flows.find(function(t){return t.uuid===e}),this.currentFlow=e)}var m,v,_,y},t.prototype.updateRunContext=function(e,t){var n=this,o=u.default(this.state.events,{$push:t.events}),r=!1;try{for(var s=i(t.session.runs),a=s.next();!a.done;a=s.next())if("waiting"===a.value.status){r=!0;break}}catch(e){l={error:e}}finally{try{a&&!a.done&&(c=s.return)&&c.call(s)}finally{if(l)throw l.error}}r||o.push({type:"info",text:"Exited flow"}),this.setState({session:t.session,events:o,active:r},function(){n.updateActivity(),n.inputBox.focus()});var l,c},t.prototype.getCurrentDefinition=function(){var e=[];return g.getOrderedNodes(this.props.nodes).map(function(t){e.push(t.node)}),r({},this.props.definition,{nodes:e})},t.prototype.startFlow=function(){var e=this;this.setState({events:[]},function(){e.getAssetService().getFlowAssets().update(e.props.definition.uuid,e.getCurrentDefinition()).then(function(){var t=r({contact:e.state.contact,trigger:{type:"manual",environment:{date_format:"DD-MM-YYYY",time_format:"hh:mm",timezone:"America/New_York",languages:[]},contact:{uuid:p.v4(),urns:["tel:+12065551212"],fields:{},groups:[]},flow:{uuid:e.props.definition.uuid,name:e.props.definition.uuid},params:{},triggered_on:(new Date).toISOString()}},e.getAssetService().getSimulationAssets());a.default.post(""+h.getBaseURL()+e.context.endpoints.simulateStart,JSON.stringify(t,null,2)).then(function(n){e.updateRunContext(t,n.data)})})})},t.prototype.resume=function(e){var t=this;if("\\debug"!==e)if("\\recalc"!==e){var n={type:"msg_received",msg:{text:e,uuid:p.v4(),urn:this.state.session.contact.urns[0]},channel_uuid:this.state.channel,contact_uuid:this.state.session.contact.uuid,created_on:new Date},o=u.default(this.state.events,{$push:[n]});this.setState({events:o});var i=r({session:this.state.session,contact:this.state.session.contact,events:[n]},this.getAssetService().getSimulationAssets());a.default.post(""+h.getBaseURL()+this.context.endpoints.simulateResume,JSON.stringify(i,null,2)).then(function(e){t.updateRunContext(i,e.data)}).catch(function(e){o=u.default(t.state.events,{$push:[{type:"error",text:e.response.data.error}]}),t.setState({events:o})})}else console.log("recal..");else console.log(JSON.stringify(this.debug,null,2))},t.prototype.onReset=function(e){this.startFlow()},t.prototype.componentDidMount=function(){this.props.plumberDraggable("simulator")},t.prototype.componentDidUpdate=function(e){this.bottom&&this.bottom.scrollIntoView(!1)},t.prototype.onKeyUp=function(e){if("Enter"===e.key){var t=e.target,n=t.value;t.value="",this.resume(n)}},t.prototype.onToggle=function(e){var t=this,n=!this.state.visible;this.setState({visible:n},function(){t.state.visible?(t.updateActivity(),0===t.state.events.length&&t.startFlow(),t.inputBox.focus()):window.setTimeout(function(){t.props.Activity.clearSimulation()},500)})},t.prototype.render=function(){var e=[];try{for(var t=i(this.state.events),n=t.next();!n.done;n=t.next()){var o=n.value;e.push(l.createElement(m.default,r({},o,{key:String(o.created_on)})))}}catch(e){u={error:e}}finally{try{n&&!n.done&&(c=t.return)&&c.call(t)}finally{if(u)throw u.error}}var s=this.state.visible?"":v.simHidden,a=this.state.visible?v.tabHidden:"";return l.createElement("div",{className:v.simContainer},l.createElement("div",null,l.createElement("div",{id:"simulator",className:v.simulator+" "+s,key:"sim"},l.createElement("a",{className:v.reset+" "+(this.state.active?v.active:v.inactive),onClick:this.onReset}),l.createElement("div",{className:v.icnSimulator+" icn-simulator"}),l.createElement("div",{className:v.icnClose+" icn-remove",onClick:this.onToggle}),l.createElement("div",{className:v.screen},l.createElement("div",{className:v.messages},e,l.createElement("div",{id:"bottom",style:{float:"left",clear:"both"},ref:this.bottomRef})),l.createElement("div",{className:v.controls},l.createElement("input",{ref:this.inputBoxRef,type:"text",onKeyUp:this.onKeyUp,disabled:!this.state.active,placeholder:this.state.active?"Enter message":"Press home to start again"}))))),l.createElement("div",{className:v.simulatorTab+" "+a,onClick:this.onToggle},l.createElement("div",{className:v.simulatorTabIcon+" icn-simulator"}),l.createElement("div",{className:v.simulatorTabText},"Run in",l.createElement("br",null),"Simulator")));var u,c},t.contextTypes={endpoints:f.fakePropType,assetService:f.fakePropType},t}(l.Component);t.Simulator=_;var y=function(e){var t=e.flowContext;return{definition:t.definition,nodes:t.nodes}},b=function(e){return d.bindActionCreators({},e)};t.default=c.connect(y,b)(_),"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__extends","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/Simulator/Simulator.tsx"),__REACT_HOT_LOADER__.register(r,"__assign","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/Simulator/Simulator.tsx"),__REACT_HOT_LOADER__.register(i,"__values","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/Simulator/Simulator.tsx"),__REACT_HOT_LOADER__.register("A","ACTIVE","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/Simulator/Simulator.tsx"),__REACT_HOT_LOADER__.register(_,"Simulator","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/Simulator/Simulator.tsx"),__REACT_HOT_LOADER__.register(y,"mapStateToProps","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/Simulator/Simulator.tsx"),__REACT_HOT_LOADER__.register(b,"mapDispatchToProps","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/Simulator/Simulator.tsx"))},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(121),s=n(156),a=function(e){function t(t){var n=e.call(this,t)||this;return n.state={detailsVisible:!1},n.showDetails=n.showDetails.bind(n),n}return o(t,e),t.prototype.showDetails=function(){this.setState({detailsVisible:!0})},t.prototype.render=function(){var e=this,t=[],n=null,o=null,a="",u="",l="";switch(this.props.type){case"msg_received":n=r.createElement("span",null,this.props.msg.text),t.push(s.msgReceived);break;case"msg_created":var c=this.props.msg.text.split("\n").map(function(e,t){return r.createElement("span",{key:t},e,r.createElement("br",null))});n=r.createElement("span",null," ",c," "),t.push(s.sendMsg);break;case"error":n=r.createElement("span",null," Error: ",this.props.text," "),t.push(s.error);break;case"msg_wait":n=r.createElement("span",null,"Waiting for reply"),t.push(s.info);break;case"add_contact_groups":case"remove_contact_groups":u="add_contact_groups"===this.props.type?"Added to ":"Removed from ",l=" ",this.props.groups.forEach(function(e){u+=l+'"'+e.name+'"',l=", "}),n=r.createElement("span",null,u),t.push(s.info);break;case"set_contact_field":n=r.createElement("span",null,'Set contact field "',this.props.field,'" to "',this.props.value,'"'),t.push(s.info);break;case"set_run_result":n=r.createElement("span",null,'Set flow result "',this.props.name,'" to "',this.props.value,'"'),t.push(s.info);break;case"set_contact_property":n=r.createElement("span",null,"Updated contact ",this.props.field,' to "',this.props.value,'"'),t.push(s.info);break;case"send_email":n=r.createElement("span",null,'Sent email to "',this.props.email,'" with subject "',this.props.subject,'" and body "',this.props.body,'"'),t.push(s.info);break;case"webhook_called":n=r.createElement("span",null,"Called webhook ",this.props.url),t.push(s.info,s.webhook),a="Webhook Details",o=r.createElement("div",{className:s.webhookDetails},r.createElement("div",{className:""},this.props.request),r.createElement("div",{className:s.response},this.props.response));break;case"info":n=r.createElement("span",null,this.props.text),t.push(s.info)}return t.push(s.evt),o?(t.push(s.hasDetail),r.createElement("div",null,r.createElement("div",{className:t.join(" "),onClick:this.showDetails},n),r.createElement(i.default,{__className:s["detail_"+this.props.type],title:[r.createElement("div",null,a)],show:this.state.detailsVisible,buttons:{primary:{name:"Ok",onClick:function(){e.setState({detailsVisible:!1})}}}},r.createElement("div",{className:s.eventViewer},o)))):r.createElement("div",null,r.createElement("div",{className:t.join(" ")},n))},t}(r.Component);t.default=a,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__extends","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/Simulator/LogEvent.tsx"),__REACT_HOT_LOADER__.register(a,"LogEvent","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/Simulator/LogEvent.tsx"))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(376);t.default=o.default},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(4),a=n(377),u=n(18),l=n(3),c=n(1),d=n(2),p=n(120),f=n(382);t.STICKY_SPEC_ID="sticky-container";var h={yellow:f.yellow,blue:f.blue,green:f.green,purple:f.purple,gray:f.gray},g=function(e){function n(t){var n=e.call(this,t)||this;return n.dragging=!1,s.react(n,{include:[/^on/,/^get/]}),n.state={title:n.props.sticky.title,body:n.props.sticky.body,color:n.props.sticky.color,showConfirmation:!1},n}return o(n,e),n.prototype.onRef=function(e){return this.ele=e},n.prototype.componentDidMount=function(){var e=this;this.props.plumberDraggable(this.props.uuid,function(t){return e.onDragStart(t)},function(t){return e.onDrag(t)},function(t){return e.onDragStop(t)},function(){return!0})},n.prototype.componentWillUnmount=function(){this.props.plumberRemove(this.props.uuid),this.showConfirmation&&window.clearTimeout(this.showConfirmation),this.debounceTextChanges&&window.clearTimeout(this.debounceTextChanges)},n.prototype.onDragStart=function(e){this.props.plumberClearDragSelection(),this.props.onResetDragSelection()},n.prototype.onDrag=function(e){},n.prototype.onDragStop=function(e){var t=d.snapToGrid(e.finalPos[0],e.finalPos[1]),n=t.left,o=t.top;this.ele.style.left=n+"px",this.ele.style.top=o+"px",this.props.sticky.position={left:n,top:o},this.props.updateSticky(this.props.uuid,this.props.sticky)},n.prototype.onUpdateText=function(){var e=this;this.debounceTextChanges&&window.clearTimeout(this.debounceTextChanges),this.debounceTextChanges=window.setTimeout(function(){var t=r({},e.props.sticky);t.title=e.state.title,t.body=e.state.body,e.props.updateSticky(e.props.uuid,t),e.debounceTextChanges=null},d.QUIET_NOTE)},n.prototype.onChangeTitle=function(e){this.setState({title:e.currentTarget.value}),this.onUpdateText()},n.prototype.onChangeBody=function(e){this.setState({body:e.currentTarget.value}),this.onUpdateText()},n.prototype.onClickRemove=function(e){var t=this;this.state.showConfirmation?this.props.updateSticky(this.props.uuid,null):(this.setState({showConfirmation:!0}),this.showConfirmation=window.setTimeout(function(){t.setState({showConfirmation:!1})},d.CONFIRMATION_TIME))},n.prototype.onChangeColor=function(e){this.props.sticky.color=e,this.props.updateSticky(this.props.uuid,this.props.sticky),this.setState({color:e})},n.prototype.getColorChooser=function(){var e=this;return i.createElement("div",{className:f.colorChooserContainer},i.createElement("div",{className:f.colorChooser},Object.keys(h).map(function(t){return i.createElement("div",{key:e.props.uuid+t,onClick:function(){e.onChangeColor(t)},className:f.colorOption+" "+h[t]})})))},n.prototype.render=function(){var e=this.props.sticky,n=[f.titleWrapper];this.state.showConfirmation&&n.push(f.removal);var o=[f.stickyContainer];this.props.sticky.color||(this.props.sticky.color="yellow"),o.push(h[this.props.sticky.color]);var r=this.getColorChooser();return i.createElement("div",{key:this.props.uuid,className:o.join(" "),"data-spec":t.STICKY_SPEC_ID,ref:this.onRef,id:this.props.uuid,style:{left:e.position.left,top:e.position.top}},i.createElement("div",{className:f.sticky},i.createElement("div",{className:n.join(" ")},i.createElement("div",{className:f.removeButton,onClick:this.onClickRemove},i.createElement("span",{className:"icn-remove"})),i.createElement("div",{className:f.confirmation},"Remove?"),i.createElement(a.default,{className:f.title,value:this.state.title,onChange:this.onChangeTitle})),i.createElement("div",{className:f.bodyWrapper},i.createElement(a.default,{className:f.body,value:this.state.body,onChange:this.onChangeBody}),r)))},n}(i.Component);t.Sticky=g;var m=function(e){return{definition:e.flowContext.definition}},v=function(e){return l.bindActionCreators({updateSticky:u.updateSticky,onResetDragSelection:p.onResetDragSelection},e)};t.default=c.connect(m,v,null,{withRef:!1})(g),"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__extends","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/Sticky/Sticky.tsx"),__REACT_HOT_LOADER__.register(r,"__assign","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/Sticky/Sticky.tsx"),__REACT_HOT_LOADER__.register(h,"COLOR_OPTIONS","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/Sticky/Sticky.tsx"),__REACT_HOT_LOADER__.register(g,"Sticky","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/Sticky/Sticky.tsx"),__REACT_HOT_LOADER__.register(m,"mapStateToProps","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/Sticky/Sticky.tsx"),__REACT_HOT_LOADER__.register(v,"mapDispatchToProps","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/Sticky/Sticky.tsx"))},function(e,t,n){"use strict";t.__esModule=!0;var o=n(378);t.default=o.default},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=this&&this.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&(n[o[r]]=e[o[r]])}return n};t.__esModule=!0;var s=n(0),a=n(5),u=n(379),l=n(380),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={lineHeight:null},t.dispatchEvent=function(e){var n=document.createEvent("Event");n.initEvent(e,!0,!1),t.textarea.dispatchEvent(n)},t.updateLineHeight=function(){t.setState({lineHeight:l(t.textarea)})},t.onChange=function(e){var n=t.props.onChange;t.currentValue=e.currentTarget.value,n&&n(e)},t.saveDOMNodeRef=function(e){var n=t.props.innerRef;n&&n(e),t.textarea=e},t.getLocals=function(){var e=t,n=e.props,o=(n.onResize,n.maxRows),s=(n.onChange,n.style),a=(n.innerRef,i(n,["onResize","maxRows","onChange","style","innerRef"])),u=e.state.lineHeight,l=e.saveDOMNodeRef,c=o&&u?u*o:null;return r({},a,{saveDOMNodeRef:l,style:c?r({},s,{maxHeight:c}):s,onChange:t.onChange})},t}return o(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.onResize;"number"==typeof t.maxRows&&this.updateLineHeight(),setTimeout(function(){return u(e.textarea)}),n&&this.textarea.addEventListener("autosize:resized",n)},t.prototype.componentWillUnmount=function(){var e=this.props.onResize;e&&this.textarea.removeEventListener("autosize:resized",e),this.dispatchEvent("autosize:destroy")},t.prototype.render=function(){var e=this.getLocals(),t=e.children,n=e.saveDOMNodeRef,o=i(e,["children","saveDOMNodeRef"]);return s.createElement("textarea",r({},o,{ref:n}),t)},t.prototype.componentDidUpdate=function(e){this.props.value===this.currentValue&&this.props.rows===e.rows||this.dispatchEvent("autosize:update")},t.defaultProps={rows:1},t.propTypes={rows:a.number,maxRows:a.number,onResize:a.func,innerRef:a.func},t}(s.Component);t.default=c},function(e,t,n){var o,r,i;r=[e,t],void 0===(i="function"==typeof(o=function(e,t){"use strict";function n(e){var t=r.get(e);t&&t.destroy()}function o(e){var t=r.get(e);t&&t.update()}var r="function"==typeof Map?new Map:function(){var e=[],t=[];return{has:function(t){return e.indexOf(t)>-1},get:function(n){return t[e.indexOf(n)]},set:function(n,o){-1===e.indexOf(n)&&(e.push(n),t.push(o))},delete:function(n){var o=e.indexOf(n);o>-1&&(e.splice(o,1),t.splice(o,1))}}}(),i=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){i=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}var s=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((s=function(e){return e}).destroy=function(e){return e},s.update=function(e){return e}):((s=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return function(e){function t(t){var n=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=n,e.style.overflowY=t}function n(){if(0!==e.scrollHeight){var t=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),n=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+s+"px",a=e.clientWidth,t.forEach(function(e){e.node.scrollTop=e.scrollTop}),n&&(document.documentElement.scrollTop=n)}}function o(){n();var o=Math.round(parseFloat(e.style.height)),r=window.getComputedStyle(e,null),s="content-box"===r.boxSizing?Math.round(parseFloat(r.height)):e.offsetHeight;if(s!==o?"hidden"===r.overflowY&&(t("scroll"),n(),s="content-box"===r.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==r.overflowY&&(t("hidden"),n(),s="content-box"===r.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),u!==s){u=s;var a=i("autosize:resized");try{e.dispatchEvent(a)}catch(e){}}}if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!r.has(e)){var s=null,a=null,u=null,l=function(){e.clientWidth!==a&&o()},c=function(t){window.removeEventListener("resize",l,!1),e.removeEventListener("input",o,!1),e.removeEventListener("keyup",o,!1),e.removeEventListener("autosize:destroy",c,!1),e.removeEventListener("autosize:update",o,!1),Object.keys(t).forEach(function(n){e.style[n]=t[n]}),r.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",c,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",o,!1),window.addEventListener("resize",l,!1),e.addEventListener("input",o,!1),e.addEventListener("autosize:update",o,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",r.set(e,{destroy:c,update:o}),function(){var t=window.getComputedStyle(e,null);"vertical"===t.resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),s="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(s)&&(s=0),o()}()}}(e)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],n),e},s.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],o),e}),t.default=s,e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o=n(381);e.exports=function(e){var t=o(e,"line-height"),n=parseFloat(t,10);if(t===n+""){var r=e.style.lineHeight;e.style.lineHeight=t+"em",t=o(e,"line-height"),n=parseFloat(t,10),r?e.style.lineHeight=r:delete e.style.lineHeight}if(-1!==t.indexOf("pt")?(n*=4,n/=3):-1!==t.indexOf("mm")?(n*=96,n/=25.4):-1!==t.indexOf("cm")?(n*=96,n/=2.54):-1!==t.indexOf("in")?n*=96:-1!==t.indexOf("pc")&&(n*=16),n=Math.round(n),"normal"===t){var i=e.nodeName,s=document.createElement(i);s.innerHTML="&nbsp;","TEXTAREA"===i.toUpperCase()&&s.setAttribute("rows","1");var a=o(e,"font-size");s.style.fontSize=a,s.style.padding="0px",s.style.border="0px";var u=document.body;u.appendChild(s),n=s.offsetHeight,u.removeChild(s)}return n}},function(e,t){e.exports=function(e,t,n){return((n=window.getComputedStyle)?n(e):e.currentStyle)[t.replace(/-(\w)/gi,function(e,t){return t.toUpperCase()})]}},function(e,t){e.exports={grid_size:"20",gridSize:"20",node_spacing:"20",nodeSpacing:"20",node_padding:"10",nodePadding:"10","background-size":"20",backgroundSize:"20",yellow:"Sticky__yellow___ySfIj","color-option":"Sticky__color-option___1qg0J",colorOption:"Sticky__color-option___1qg0J",sticky:"Sticky__sticky___QhVU0",blue:"Sticky__blue___34QGe",purple:"Sticky__purple___4Wva1",gray:"Sticky__gray___37VlU",green:"Sticky__green___3pQus","color-chooser-container":"Sticky__color-chooser-container___2-TXU",colorChooserContainer:"Sticky__color-chooser-container___2-TXU","color-chooser":"Sticky__color-chooser___38j_d",colorChooser:"Sticky__color-chooser___38j_d",stickyContainer:"Sticky__stickyContainer___3ZQap",removal:"Sticky__removal___2tjgN","title-wrapper":"Sticky__title-wrapper___2VJOl",titleWrapper:"Sticky__title-wrapper___2VJOl","remove-button":"Sticky__remove-button___2PPRu",removeButton:"Sticky__remove-button___2PPRu",title:"Sticky__title___30XTp",confirmation:"Sticky__confirmation___B7KzE","body-wrapper":"Sticky__body-wrapper___3F1d7",bodyWrapper:"Sticky__body-wrapper___3F1d7",body:"Sticky__body___3AFmZ"}},function(e,t){e.exports={grid_size:"20",gridSize:"20",node_spacing:"20",nodeSpacing:"20",node_padding:"10",nodePadding:"10","background-size":"20",backgroundSize:"20",editor:"index__editor___SfOi5",translating:"index__translating___1sr-_"}},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(33),a=n(3),u=n(18),l=n(2),c=n(385),d=n(6);t.mapOptions=function(e){return Object.keys(e).map(function(t){return{name:e[t],iso:t}})},t.containerClass=c.languageSelector+" select-small",t.languageSelectorContainerSpecId="language-selector-container";var p=function(e){function n(t,n){var o=e.call(this,t,n)||this;return o.onChange=o.onChange.bind(o),o}return o(n,e),n.prototype.onChange=function(e){var t=l.getBaseLanguage(this.context.languages),n=!l.jsonEqual(t,e);this.props.updateLanguage(e),this.props.updateTranslating(n)},n.prototype.render=function(){if(this.props.language){var e=t.mapOptions(this.context.languages);return e.length?r.createElement("div",{className:t.containerClass,"data-spec":t.languageSelectorContainerSpecId},r.createElement(s.default,{value:this.props.language.iso,onChange:this.onChange,valueKey:"iso",labelKey:"name",searchable:!1,clearable:!1,options:e})):null}return null},n.contextTypes={languages:d.fakePropType},n}(r.Component);t.LanguageSelector=p;var f=function(e){return{language:e.flowEditor.editorUI.language}},h=function(e){return a.bindActionCreators({updateLanguage:u.updateLanguage,updateTranslating:u.updateTranslating},e)};t.default=i.connect(f,h)(p),"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"__extends","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/LanguageSelector.tsx"),__REACT_HOT_LOADER__.register(p,"LanguageSelector","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/LanguageSelector.tsx"),__REACT_HOT_LOADER__.register(f,"mapStateToProps","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/LanguageSelector.tsx"),__REACT_HOT_LOADER__.register(h,"mapDispatchToProps","/Users/ycleptkellan/Code/Nyaruka/floweditor/src/component/LanguageSelector.tsx"))},function(e,t){e.exports={grid_size:"20",gridSize:"20",node_spacing:"20",nodeSpacing:"20",node_padding:"10",nodePadding:"10","background-size":"20",backgroundSize:"20",language_selector:"LanguageSelector__language_selector___3am7B",languageSelector:"LanguageSelector__language_selector___3am7B"}}]).default});