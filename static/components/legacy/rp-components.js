!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["rp-components"]=t():e["rp-components"]=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=29)}([function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(5),i=n(11),a=Object.prototype.toString;function s(e){return"[object Array]"===a.call(e)}function u(e){return null!==e&&"object"===r(e)}function l(e){return"[object Function]"===a.call(e)}function c(e,t){if(null!=e)if("object"!==r(e)&&(e=[e]),s(e))for(var n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===a.call(e)},isBuffer:i,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:u,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===a.call(e)},isFile:function(e){return"[object File]"===a.call(e)},isBlob:function(e){return"[object Blob]"===a.call(e)},isFunction:l,isStream:function(e){return u(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function e(){var t={};function n(n,o){"object"===r(t[o])&&"object"===r(n)?t[o]=e(t[o],n):t[o]=n}for(var o=0,i=arguments.length;o<i;o++)c(arguments[o],n);return t},extend:function(e,t,n){return c(t,function(t,r){e[r]=n&&"function"==typeof t?o(t,n):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){e.exports=n(10)},function(e,t,n){"use strict";var r=n(0),o=n(13),i={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,u={adapter:("undefined"!=typeof XMLHttpRequest?s=n(6):"undefined"!=typeof process&&(s=n(6)),s),transformRequest:[function(e,t){return o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],function(e){u.headers[e]={}}),r.forEach(["post","put","patch"],function(e){u.headers[e]=r.merge(i)}),e.exports=u},function(e,t,n){var r,o,i;o=[e,t],void 0===(i="function"==typeof(r=function(e,t){"use strict";var n,r,o="function"==typeof Map?new Map:(n=[],r=[],{has:function(e){return n.indexOf(e)>-1},get:function(e){return r[n.indexOf(e)]},set:function(e,t){-1===n.indexOf(e)&&(n.push(e),r.push(t))},delete:function(e){var t=n.indexOf(e);t>-1&&(n.splice(t,1),r.splice(t,1))}}),i=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){i=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function a(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!o.has(e)){var t=null,n=null,r=null,a=function(){e.clientWidth!==n&&p()},s=function(t){window.removeEventListener("resize",a,!1),e.removeEventListener("input",p,!1),e.removeEventListener("keyup",p,!1),e.removeEventListener("autosize:destroy",s,!1),e.removeEventListener("autosize:update",p,!1),Object.keys(t).forEach(function(n){e.style[n]=t[n]}),o.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",s,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",p,!1),window.addEventListener("resize",a,!1),e.addEventListener("input",p,!1),e.addEventListener("autosize:update",p,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",o.set(e,{destroy:s,update:p}),"vertical"===(u=window.getComputedStyle(e,null)).resize?e.style.resize="none":"both"===u.resize&&(e.style.resize="horizontal"),t="content-box"===u.boxSizing?-(parseFloat(u.paddingTop)+parseFloat(u.paddingBottom)):parseFloat(u.borderTopWidth)+parseFloat(u.borderBottomWidth),isNaN(t)&&(t=0),p()}var u;function l(t){var n=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=n,e.style.overflowY=t}function c(){if(0!==e.scrollHeight){var r=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),o=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+t+"px",n=e.clientWidth,r.forEach(function(e){e.node.scrollTop=e.scrollTop}),o&&(document.documentElement.scrollTop=o)}}function p(){c();var t=Math.round(parseFloat(e.style.height)),n=window.getComputedStyle(e,null),o="content-box"===n.boxSizing?Math.round(parseFloat(n.height)):e.offsetHeight;if(o<t?"hidden"===n.overflowY&&(l("scroll"),c(),o="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==n.overflowY&&(l("hidden"),c(),o="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),r!==o){r=o;var a=i("autosize:resized");try{e.dispatchEvent(a)}catch(e){}}}}function s(e){var t=o.get(e);t&&t.destroy()}function u(e){var t=o.get(e);t&&t.update()}var l=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((l=function(e){return e}).destroy=function(e){return e},l.update=function(e){return e}):((l=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return a(e)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],s),e},l.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],u),e}),t.default=l,e.exports=t.default})?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){!function(){var t=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],n="undefined"!=typeof window,r=n&&null!=window.mozInnerScreenX;function o(e,o,i){if(!n)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var a=i&&i.debug||!1;if(a){var s=document.querySelector("#input-textarea-caret-position-mirror-div");s&&s.parentNode.removeChild(s)}var u=document.createElement("div");u.id="input-textarea-caret-position-mirror-div",document.body.appendChild(u);var l=u.style,c=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,p="INPUT"===e.nodeName;l.whiteSpace="pre-wrap",p||(l.wordWrap="break-word"),l.position="absolute",a||(l.visibility="hidden"),t.forEach(function(e){p&&"lineHeight"===e?l.lineHeight=c.height:l[e]=c[e]}),r?e.scrollHeight>parseInt(c.height)&&(l.overflowY="scroll"):l.overflow="hidden",u.textContent=e.value.substring(0,o),p&&(u.textContent=u.textContent.replace(/\s/g," "));var f=document.createElement("span");f.textContent=e.value.substring(o)||".",u.appendChild(f);var h={top:f.offsetTop+parseInt(c.borderTopWidth),left:f.offsetLeft+parseInt(c.borderLeftWidth),height:parseInt(c.lineHeight)};return a?f.style.backgroundColor="#aaa":document.body.removeChild(u),h}void 0!==e.exports?e.exports=o:n&&(window.getCaretCoordinates=o)}()},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(0),o=n(14),i=n(16),a=n(17),s=n(18),u=n(7),l="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(19);e.exports=function(e){return new Promise(function(t,c){var p=e.data,f=e.headers;r.isFormData(p)&&delete f["Content-Type"];var h=new XMLHttpRequest,d="onreadystatechange",y=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in h||s(e.url)||(h=new window.XDomainRequest,d="onload",y=!0,h.onprogress=function(){},h.ontimeout=function(){}),e.auth){var v=e.auth.username||"",g=e.auth.password||"";f.Authorization="Basic "+l(v+":"+g)}if(h.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,h[d]=function(){if(h&&(4===h.readyState||y)&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in h?a(h.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?h.response:h.responseText,status:1223===h.status?204:h.status,statusText:1223===h.status?"No Content":h.statusText,headers:n,config:e,request:h};o(t,c,r),h=null}},h.onerror=function(){c(u("Network Error",e,null,h)),h=null},h.ontimeout=function(){c(u("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",h)),h=null},r.isStandardBrowserEnv()){var m=n(20),b=(e.withCredentials||s(e.url))&&e.xsrfCookieName?m.read(e.xsrfCookieName):void 0;b&&(f[e.xsrfHeaderName]=b)}if("setRequestHeader"in h&&r.forEach(f,function(e,t){void 0===p&&"content-type"===t.toLowerCase()?delete f[t]:h.setRequestHeader(t,e)}),e.withCredentials&&(h.withCredentials=!0),e.responseType)try{h.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){h&&(h.abort(),c(e),h=null)}),void 0===p&&(p=null),h.send(p)})}},function(e,t,n){"use strict";var r=n(15);e.exports=function(e,t,n,o,i){var a=new Error(e);return r(a,t,n,o,i)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";var r=n(0),o=n(5),i=n(12),a=n(2);function s(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var u=s(a);u.Axios=i,u.create=function(e){return s(r.merge(a,e))},u.Cancel=n(9),u.CancelToken=n(26),u.isCancel=n(8),u.all=function(e){return Promise.all(e)},u.spread=n(27),e.exports=u,e.exports.default=u},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){"use strict";var r=n(2),o=n(0),i=n(21),a=n(22);function s(e){this.defaults=e,this.interceptors={request:new i,response:new i}}s.prototype.request=function(e){"string"==typeof e&&(e=o.merge({url:arguments[0]},arguments[1])),(e=o.merge(r,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},o.forEach(["delete","get","head","options"],function(e){s.prototype[e]=function(t,n){return this.request(o.merge(n||{},{method:e,url:t}))}}),o.forEach(["post","put","patch"],function(e){s.prototype[e]=function(t,n,r){return this.request(o.merge(r||{},{method:e,url:t,data:n}))}}),e.exports=s},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){"use strict";var r=n(7);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e}},function(e,t,n){"use strict";var r=n(0);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))}))}),i=a.join("&")}return i&&(e+=(-1===e.indexOf("?")?"?":"&")+i),e}},function(e,t,n){"use strict";var r=n(0),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,a={};return e?(r.forEach(e.split("\n"),function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}}),a):a}},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function o(){this.message="String contains an invalid character"}o.prototype=new Error,o.prototype.code=5,o.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,n,i=String(e),a="",s=0,u=r;i.charAt(0|s)||(u="=",s%1);a+=u.charAt(63&t>>8-s%1*8)){if((n=i.charCodeAt(s+=.75))>255)throw new o;t=t<<8|n}return a}},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(0);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=o},function(e,t,n){"use strict";var r=n(0),o=n(23),i=n(8),a=n(2),s=n(24),u=n(25);function l(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return l(e),e.baseURL&&!s(e.url)&&(e.url=u(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return l(e),t.data=o(t.data,t.headers,e.transformResponse),t},function(t){return i(t)||(l(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(9);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o(function(t){e=t}),cancel:e}},e.exports=o},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){var r;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(i){"use strict";var a={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}|~{3,})([^`~\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:w,table:w,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/};function s(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||E.defaults,this.rules=a.normal,this.options.pedantic?this.rules=a.pedantic:this.options.gfm&&(this.rules=a.gfm)}a._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,a._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,a.def=v(a.def).replace("label",a._label).replace("title",a._title).getRegex(),a.bullet=/(?:[*+-]|\d{1,9}\.)/,a.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,a.item=v(a.item,"gm").replace(/bull/g,a.bullet).getRegex(),a.list=v(a.list).replace(/bull/g,a.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+a.def.source+")").getRegex(),a._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",a._comment=/<!--(?!-?>)[\s\S]*?-->/,a.html=v(a.html,"i").replace("comment",a._comment).replace("tag",a._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),a.paragraph=v(a._paragraph).replace("hr",a.hr).replace("heading"," {0,3}#{1,6} +").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}|~{3,})[^`\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",a._tag).getRegex(),a.blockquote=v(a.blockquote).replace("paragraph",a.paragraph).getRegex(),a.normal=x({},a),a.gfm=x({},a.normal,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),a.pedantic=x({},a.normal,{html:v("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",a._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:w,paragraph:v(a.normal._paragraph).replace("hr",a.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",a.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()}),s.rules=a,s.lex=function(e,t){return new s(t).lex(e)},s.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},s.prototype.token=function(e,t){var n,r,o,i,s,u,l,c,p,f,h,y,v,g,m,b;for(e=e.replace(/^ +$/gm,"");e;)if((o=this.rules.newline.exec(e))&&(e=e.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(e)){var w=this.tokens[this.tokens.length-1];e=e.substring(o[0].length),w&&"paragraph"===w.type?w.text+="\n"+o[0].trimRight():(o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",codeBlockStyle:"indented",text:this.options.pedantic?o:_(o,"\n")}))}else if(o=this.rules.fences.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"code",lang:o[2]?o[2].trim():o[2],text:o[3]||""});else if(o=this.rules.heading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if((o=this.rules.nptable.exec(e))&&(u={type:"table",header:k(o[1].replace(/^ *| *\| *$/g,"")),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3]?o[3].replace(/\n$/,"").split("\n"):[]}).header.length===u.align.length){for(e=e.substring(o[0].length),h=0;h<u.align.length;h++)/^ *-+: *$/.test(u.align[h])?u.align[h]="right":/^ *:-+: *$/.test(u.align[h])?u.align[h]="center":/^ *:-+ *$/.test(u.align[h])?u.align[h]="left":u.align[h]=null;for(h=0;h<u.cells.length;h++)u.cells[h]=k(u.cells[h],u.header.length);this.tokens.push(u)}else if(o=this.rules.hr.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,t),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(e)){for(e=e.substring(o[0].length),l={type:"list_start",ordered:g=(i=o[2]).length>1,start:g?+i:"",loose:!1},this.tokens.push(l),c=[],n=!1,v=(o=o[0].match(this.rules.item)).length,h=0;h<v;h++)f=(u=o[h]).length,~(u=u.replace(/^ *([*+-]|\d+\.) */,"")).indexOf("\n ")&&(f-=u.length,u=this.options.pedantic?u.replace(/^ {1,4}/gm,""):u.replace(new RegExp("^ {1,"+f+"}","gm"),"")),h!==v-1&&(s=a.bullet.exec(o[h+1])[0],(i.length>1?1===s.length:s.length>1||this.options.smartLists&&s!==i)&&(e=o.slice(h+1).join("\n")+e,h=v-1)),r=n||/\n\n(?!\s*$)/.test(u),h!==v-1&&(n="\n"===u.charAt(u.length-1),r||(r=n)),r&&(l.loose=!0),b=void 0,(m=/^\[[ xX]\] /.test(u))&&(b=" "!==u[1],u=u.replace(/^\[[ xX]\] +/,"")),p={type:"list_item_start",task:m,checked:b,loose:r},c.push(p),this.tokens.push(p),this.token(u,!1),this.tokens.push({type:"list_item_end"});if(l.loose)for(v=c.length,h=0;h<v;h++)c[h].loose=!0;this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(e))e=e.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):d(o[0]):o[0]});else if(t&&(o=this.rules.def.exec(e)))e=e.substring(o[0].length),o[3]&&(o[3]=o[3].substring(1,o[3].length-1)),y=o[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[y]||(this.tokens.links[y]={href:o[2],title:o[3]});else if((o=this.rules.table.exec(e))&&(u={type:"table",header:k(o[1].replace(/^ *| *\| *$/g,"")),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3]?o[3].replace(/\n$/,"").split("\n"):[]}).header.length===u.align.length){for(e=e.substring(o[0].length),h=0;h<u.align.length;h++)/^ *-+: *$/.test(u.align[h])?u.align[h]="right":/^ *:-+: *$/.test(u.align[h])?u.align[h]="center":/^ *:-+ *$/.test(u.align[h])?u.align[h]="left":u.align[h]=null;for(h=0;h<u.cells.length;h++)u.cells[h]=k(u.cells[h].replace(/^ *\| *| *\| *$/g,""),u.header.length);this.tokens.push(u)}else if(o=this.rules.lheading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2].charAt(0)?1:2,text:o[1]});else if(t&&(o=this.rules.paragraph.exec(e)))e=e.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var u={escape:/^\\([!"#$%&'()*+,\-.\/:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:w,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*<\[])\*(?!\*)|^_([^\s<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s<"][\s\S]*?[^\s\*])\*(?!\*|[^\spunctuation])|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:w,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/};function l(e,t){if(this.options=t||E.defaults,this.links=e,this.rules=u.normal,this.renderer=this.options.renderer||new c,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=u.pedantic:this.options.gfm&&(this.options.breaks?this.rules=u.breaks:this.rules=u.gfm)}function c(e){this.options=e||E.defaults}function p(){}function f(e){this.tokens=[],this.token=null,this.options=e||E.defaults,this.options.renderer=this.options.renderer||new c,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new h}function h(){this.seen={}}function d(e,t){if(t){if(d.escapeTest.test(e))return e.replace(d.escapeReplace,function(e){return d.replacements[e]})}else if(d.escapeTestNoEncode.test(e))return e.replace(d.escapeReplaceNoEncode,function(e){return d.replacements[e]});return e}function y(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function v(e,t){return e=e.source||e,t=t||"",{replace:function(t,n){return n=(n=n.source||n).replace(/(^|[^\[])\^/g,"$1"),e=e.replace(t,n),this},getRegex:function(){return new RegExp(e,t)}}}function g(e,t,n){if(e){try{var r=decodeURIComponent(y(n)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}t&&!b.test(n)&&(n=function(e,t){m[" "+e]||(/^[^:]+:\/*[^\/]*$/.test(e)?m[" "+e]=e+"/":m[" "+e]=_(e,"/",!0));return e=m[" "+e],"//"===t.slice(0,2)?e.replace(/:[\s\S]*/,":")+t:"/"===t.charAt(0)?e.replace(/(:\/*[^\/]*)[\s\S]*/,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}u._punctuation="!\"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~",u.em=v(u.em).replace(/punctuation/g,u._punctuation).getRegex(),u._escapes=/\\([!"#$%&'()*+,\-.\/:;<=>?@\[\]\\^_`{|}~])/g,u._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,u._email=/[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,u.autolink=v(u.autolink).replace("scheme",u._scheme).replace("email",u._email).getRegex(),u._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,u.tag=v(u.tag).replace("comment",a._comment).replace("attribute",u._attribute).getRegex(),u._label=/(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,u._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,u._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,u.link=v(u.link).replace("label",u._label).replace("href",u._href).replace("title",u._title).getRegex(),u.reflink=v(u.reflink).replace("label",u._label).getRegex(),u.normal=x({},u),u.pedantic=x({},u.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:v(/^!?\[(label)\]\((.*?)\)/).replace("label",u._label).getRegex(),reflink:v(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",u._label).getRegex()}),u.gfm=x({},u.normal,{escape:v(u.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),u.gfm.url=v(u.gfm.url,"i").replace("email",u.gfm._extended_email).getRegex(),u.breaks=x({},u.gfm,{br:v(u.br).replace("{2,}","*").getRegex(),text:v(u.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),l.rules=u,l.output=function(e,t,n){return new l(t,n).output(e)},l.prototype.output=function(e){for(var t,n,r,o,i,a,s="";e;)if(i=this.rules.escape.exec(e))e=e.substring(i[0].length),s+=d(i[1]);else if(i=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(i[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(i[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(i[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(i[0])&&(this.inRawBlock=!1),e=e.substring(i[0].length),s+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):d(i[0]):i[0];else if(i=this.rules.link.exec(e)){var u=S(i[2],"()");if(u>-1){var c=4+i[1].length+u;i[2]=i[2].substring(0,u),i[0]=i[0].substring(0,c).trim(),i[3]=""}e=e.substring(i[0].length),this.inLink=!0,r=i[2],this.options.pedantic?(t=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r))?(r=t[1],o=t[3]):o="":o=i[3]?i[3].slice(1,-1):"",r=r.trim().replace(/^<([\s\S]*)>$/,"$1"),s+=this.outputLink(i,{href:l.escapes(r),title:l.escapes(o)}),this.inLink=!1}else if((i=this.rules.reflink.exec(e))||(i=this.rules.nolink.exec(e))){if(e=e.substring(i[0].length),t=(i[2]||i[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){s+=i[0].charAt(0),e=i[0].substring(1)+e;continue}this.inLink=!0,s+=this.outputLink(i,t),this.inLink=!1}else if(i=this.rules.strong.exec(e))e=e.substring(i[0].length),s+=this.renderer.strong(this.output(i[4]||i[3]||i[2]||i[1]));else if(i=this.rules.em.exec(e))e=e.substring(i[0].length),s+=this.renderer.em(this.output(i[6]||i[5]||i[4]||i[3]||i[2]||i[1]));else if(i=this.rules.code.exec(e))e=e.substring(i[0].length),s+=this.renderer.codespan(d(i[2].trim(),!0));else if(i=this.rules.br.exec(e))e=e.substring(i[0].length),s+=this.renderer.br();else if(i=this.rules.del.exec(e))e=e.substring(i[0].length),s+=this.renderer.del(this.output(i[1]));else if(i=this.rules.autolink.exec(e))e=e.substring(i[0].length),r="@"===i[2]?"mailto:"+(n=d(this.mangle(i[1]))):n=d(i[1]),s+=this.renderer.link(r,null,n);else if(this.inLink||!(i=this.rules.url.exec(e))){if(i=this.rules.text.exec(e))e=e.substring(i[0].length),this.inRawBlock?s+=this.renderer.text(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):d(i[0]):i[0]):s+=this.renderer.text(d(this.smartypants(i[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else{if("@"===i[2])r="mailto:"+(n=d(i[0]));else{do{a=i[0],i[0]=this.rules._backpedal.exec(i[0])[0]}while(a!==i[0]);n=d(i[0]),r="www."===i[1]?"http://"+n:n}e=e.substring(i[0].length),s+=this.renderer.link(r,null,n)}return s},l.escapes=function(e){return e?e.replace(l.rules._escapes,"$1"):e},l.prototype.outputLink=function(e,t){var n=t.href,r=t.title?d(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,d(e[1]))},l.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},l.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",r=e.length,o=0;o<r;o++)t=e.charCodeAt(o),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},c.prototype.code=function(e,t,n){var r=(t||"").match(/\S*/)[0];if(this.options.highlight){var o=this.options.highlight(e,r);null!=o&&o!==e&&(n=!0,e=o)}return r?'<pre><code class="'+this.options.langPrefix+d(r,!0)+'">'+(n?e:d(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:d(e,!0))+"</code></pre>"},c.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},c.prototype.html=function(e){return e},c.prototype.heading=function(e,t,n,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},c.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},c.prototype.list=function(e,t,n){var r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"},c.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},c.prototype.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},c.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},c.prototype.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},c.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},c.prototype.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},c.prototype.strong=function(e){return"<strong>"+e+"</strong>"},c.prototype.em=function(e){return"<em>"+e+"</em>"},c.prototype.codespan=function(e){return"<code>"+e+"</code>"},c.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},c.prototype.del=function(e){return"<del>"+e+"</del>"},c.prototype.link=function(e,t,n){if(null===(e=g(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<a href="'+d(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>"},c.prototype.image=function(e,t,n){if(null===(e=g(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},c.prototype.text=function(e){return e},p.prototype.strong=p.prototype.em=p.prototype.codespan=p.prototype.del=p.prototype.text=function(e){return e},p.prototype.link=p.prototype.image=function(e,t,n){return""+n},p.prototype.br=function(){return""},f.parse=function(e,t){return new f(t).parse(e)},f.prototype.parse=function(e){this.inline=new l(e.links,this.options),this.inlineText=new l(e.links,x({},this.options,{renderer:new p})),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},f.prototype.next=function(){return this.token=this.tokens.pop(),this.token},f.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},f.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},f.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,y(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,r,o="",i="";for(n="",e=0;e<this.token.header.length;e++)n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(o+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",r=0;r<t.length;r++)n+=this.renderer.tablecell(this.inline.output(t[r]),{header:!1,align:this.token.align[r]});i+=this.renderer.tablerow(n)}return this.renderer.table(o,i);case"blockquote_start":for(i="";"blockquote_end"!==this.next().type;)i+=this.tok();return this.renderer.blockquote(i);case"list_start":i="";for(var a=this.token.ordered,s=this.token.start;"list_end"!==this.next().type;)i+=this.tok();return this.renderer.list(i,a,s);case"list_item_start":i="";var u=this.token.loose,l=this.token.checked,c=this.token.task;for(this.token.task&&(i+=this.renderer.checkbox(l));"list_item_end"!==this.next().type;)i+=u||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(i,c,l);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:var p='Token with "'+this.token.type+'" type was not found.';if(!this.options.silent)throw new Error(p);console.log(p)}},h.prototype.slug=function(e){var t=e.toLowerCase().trim().replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,.\/:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(t)){var n=t;do{this.seen[n]++,t=n+"-"+this.seen[n]}while(this.seen.hasOwnProperty(t))}return this.seen[t]=0,t},d.escapeTest=/[&<>"']/,d.escapeReplace=/[&<>"']/g,d.replacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},d.escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/,d.escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g;var m={},b=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function w(){}function x(e){for(var t,n,r=1;r<arguments.length;r++)for(n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function k(e,t){var n=e.replace(/\|/g,function(e,t,n){for(var r=!1,o=t;--o>=0&&"\\"===n[o];)r=!r;return r?"|":" |"}).split(/ \|/),r=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function _(e,t,n){if(0===e.length)return"";for(var r=0;r<e.length;){var o=e.charAt(e.length-r-1);if(o!==t||n){if(o===t||!n)break;r++}else r++}return e.substr(0,e.length-r)}function S(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=0,r=0;r<e.length;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&--n<0)return r;return-1}function O(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function E(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(n||"function"==typeof t){n||(n=t,t=null),O(t=x({},E.defaults,t||{}));var r,o,i=t.highlight,a=0;try{r=s.lex(e,t)}catch(e){return n(e)}o=r.length;var u=function(e){if(e)return t.highlight=i,n(e);var o;try{o=f.parse(r,t)}catch(t){e=t}return t.highlight=i,e?n(e):n(null,o)};if(!i||i.length<3)return u();if(delete t.highlight,!o)return u();for(;a<r.length;a++)!function(e){"code"!==e.type?--o||u():i(e.text,e.lang,function(t,n){return t?u(t):null==n||n===e.text?--o||u():(e.text=n,e.escaped=!0,void(--o||u()))})}(r[a])}else try{return t&&(t=x({},E.defaults,t)),O(t),f.parse(s.lex(e,t),t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(t||E.defaults).silent)return"<p>An error occurred:</p><pre>"+d(e.message+"",!0)+"</pre>";throw e}}w.exec=w,E.options=E.setOptions=function(e){return x(E.defaults,e),E},E.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new c,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,xhtml:!1}},E.defaults=E.getDefaults(),E.Parser=f,E.parser=f.parse,E.Renderer=c,E.TextRenderer=p,E.Lexer=s,E.lexer=s.lex,E.InlineLexer=l,E.inlineLexer=l.output,E.Slugger=h,E.parse=E,"object"===o(t)?e.exports=E:void 0===(r=function(){return E}.call(t,n,t,e))||(e.exports=r)}(this||("undefined"!=typeof window?window:global))},function(e,t,n){"use strict";n.r(t);var r=new WeakMap,o=function(e){return function(){var t=e.apply(void 0,arguments);return r.set(t,!0),t}},i=function(e){return"function"==typeof e&&r.has(e)},a=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,s=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t!==n;){var r=t.nextSibling;e.removeChild(t),t=r}},u={},l={};var c="{{lit-".concat(String(Math.random()).slice(2),"}}"),p="\x3c!--".concat(c,"--\x3e"),f=new RegExp("".concat(c,"|").concat(p)),h=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parts=[],this.element=n;for(var r=[],o=[],i=document.createTreeWalker(n.content,133,null,!1),a=0,s=-1,u=0,l=t.strings,p=t.values.length;u<p;){var h=i.nextNode();if(null!==h){if(s++,1===h.nodeType){if(h.hasAttributes()){for(var y=h.attributes,m=y.length,b=0,w=0;w<m;w++)d(y[w].name,"$lit$")&&b++;for(;b-- >0;){var x=l[u],k=g.exec(x)[2],_=k.toLowerCase()+"$lit$",S=h.getAttribute(_);h.removeAttribute(_);var O=S.split(f);this.parts.push({type:"attribute",index:s,name:k,strings:O}),u+=O.length-1}}"TEMPLATE"===h.tagName&&(o.push(h),i.currentNode=h.content)}else if(3===h.nodeType){var E=h.data;if(E.indexOf(c)>=0){for(var P=h.parentNode,C=E.split(f),j=C.length-1,R=0;R<j;R++){var A=void 0,T=C[R];if(""===T)A=v();else{var z=g.exec(T);null!==z&&d(z[2],"$lit$")&&(T=T.slice(0,z.index)+z[1]+z[2].slice(0,-"$lit$".length)+z[3]),A=document.createTextNode(T)}P.insertBefore(A,h),this.parts.push({type:"node",index:++s})}""===C[j]?(P.insertBefore(v(),h),r.push(h)):h.data=C[j],u+=j}}else if(8===h.nodeType)if(h.data===c){var N=h.parentNode;null!==h.previousSibling&&s!==a||(s++,N.insertBefore(v(),h)),a=s,this.parts.push({type:"node",index:s}),null===h.nextSibling?h.data="":(r.push(h),s--),u++}else for(var q=-1;-1!==(q=h.data.indexOf(c,q+1));)this.parts.push({type:"node",index:-1}),u++}else i.currentNode=o.pop()}for(var D=0,L=r;D<L.length;D++){var B=L[D];B.parentNode.removeChild(B)}},d=function(e,t){var n=e.length-t.length;return n>=0&&e.slice(n)===t},y=function(e){return-1!==e.index},v=function(){return document.createComment("")},g=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=\/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;function m(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var w=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.__parts=[],this.template=t,this.processor=n,this.options=r}var t,n,r;return t=e,(n=[{key:"update",value:function(e){var t=0,n=!0,r=!1,o=void 0;try{for(var i,a=this.__parts[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;void 0!==s&&s.setValue(e[t]),t++}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}var u=!0,l=!1,c=void 0;try{for(var p,f=this.__parts[Symbol.iterator]();!(u=(p=f.next()).done);u=!0){var h=p.value;void 0!==h&&h.commit()}}catch(e){l=!0,c=e}finally{try{u||null==f.return||f.return()}finally{if(l)throw c}}}},{key:"_clone",value:function(){for(var e,t=a?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),n=[],r=this.template.parts,o=document.createTreeWalker(t,133,null,!1),i=0,s=0,u=o.nextNode();i<r.length;)if(e=r[i],y(e)){for(;s<e.index;)s++,"TEMPLATE"===u.nodeName&&(n.push(u),o.currentNode=u.content),null===(u=o.nextNode())&&(o.currentNode=n.pop(),u=o.nextNode());if("node"===e.type){var l=this.processor.handleTextExpression(this.options);l.insertAfterNode(u.previousSibling),this.__parts.push(l)}else{var c;(c=this.__parts).push.apply(c,m(this.processor.handleAttributeExpressions(u,e.name,e.strings,this.options)))}i++}else this.__parts.push(void 0),i++;return a&&(document.adoptNode(t),customElements.upgrade(t)),t}}])&&b(t.prototype,n),r&&b(t,r),e}();function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),e}var S=function(){function e(t,n,r,o){x(this,e),this.strings=t,this.values=n,this.type=r,this.processor=o}return _(e,[{key:"getHTML",value:function(){for(var e=this.strings.length-1,t="",n=!1,r=0;r<e;r++){var o=this.strings[r],i=o.lastIndexOf("\x3c!--");n=(i>-1||n)&&-1===o.indexOf("--\x3e",i+1);var a=g.exec(o);t+=null===a?o+(n?c:p):o.substr(0,a.index)+a[1]+a[2]+"$lit$"+a[3]+c}return t+=this.strings[e]}},{key:"getTemplateElement",value:function(){var e=document.createElement("template");return e.innerHTML=this.getHTML(),e}}]),e}();function O(e,t){return!t||"object"!==z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e,t,n){return(E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=P(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t,n){return t&&A(e.prototype,t),n&&A(e,n),e}function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var N=function(e){return null===e||!("object"===z(e)||"function"==typeof e)},q=function(e){return Array.isArray(e)||!(!e||!e[Symbol.iterator])},D=function(){function e(t,n,r){R(this,e),this.dirty=!0,this.element=t,this.name=n,this.strings=r,this.parts=[];for(var o=0;o<r.length-1;o++)this.parts[o]=this._createPart()}return T(e,[{key:"_createPart",value:function(){return new L(this)}},{key:"_getValue",value:function(){for(var e=this.strings,t=e.length-1,n="",r=0;r<t;r++){n+=e[r];var o=this.parts[r];if(void 0!==o){var i=o.value;if(N(i)||!q(i))n+="string"==typeof i?i:String(i);else{var a=!0,s=!1,u=void 0;try{for(var l,c=i[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var p=l.value;n+="string"==typeof p?p:String(p)}}catch(e){s=!0,u=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw u}}}}}return n+=e[t]}},{key:"commit",value:function(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}]),e}(),L=function(){function e(t){R(this,e),this.value=void 0,this.committer=t}return T(e,[{key:"setValue",value:function(e){e===u||N(e)&&e===this.value||(this.value=e,i(e)||(this.committer.dirty=!0))}},{key:"commit",value:function(){for(;i(this.value);){var e=this.value;this.value=u,e(this)}this.value!==u&&this.committer.commit()}}]),e}(),B=function(){function e(t){R(this,e),this.value=void 0,this.__pendingValue=void 0,this.options=t}return T(e,[{key:"appendInto",value:function(e){this.startNode=e.appendChild(v()),this.endNode=e.appendChild(v())}},{key:"insertAfterNode",value:function(e){this.startNode=e,this.endNode=e.nextSibling}},{key:"appendIntoPart",value:function(e){e.__insert(this.startNode=v()),e.__insert(this.endNode=v())}},{key:"insertAfterPart",value:function(e){e.__insert(this.startNode=v()),this.endNode=e.endNode,e.endNode=this.startNode}},{key:"setValue",value:function(e){this.__pendingValue=e}},{key:"commit",value:function(){for(;i(this.__pendingValue);){var e=this.__pendingValue;this.__pendingValue=u,e(this)}var t=this.__pendingValue;t!==u&&(N(t)?t!==this.value&&this.__commitText(t):t instanceof S?this.__commitTemplateResult(t):t instanceof Node?this.__commitNode(t):q(t)?this.__commitIterable(t):t===l?(this.value=l,this.clear()):this.__commitText(t))}},{key:"__insert",value:function(e){this.endNode.parentNode.insertBefore(e,this.endNode)}},{key:"__commitNode",value:function(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}},{key:"__commitText",value:function(e){var t=this.startNode.nextSibling;e=null==e?"":e,t===this.endNode.previousSibling&&3===t.nodeType?t.data=e:this.__commitNode(document.createTextNode("string"==typeof e?e:String(e))),this.value=e}},{key:"__commitTemplateResult",value:function(e){var t=this.options.templateFactory(e);if(this.value instanceof w&&this.value.template===t)this.value.update(e.values);else{var n=new w(t,e.processor,this.options),r=n._clone();n.update(e.values),this.__commitNode(r),this.value=n}}},{key:"__commitIterable",value:function(t){Array.isArray(this.value)||(this.value=[],this.clear());var n,r=this.value,o=0,i=!0,a=!1,s=void 0;try{for(var u,l=t[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var c=u.value;void 0===(n=r[o])&&(n=new e(this.options),r.push(n),0===o?n.appendIntoPart(this):n.insertAfterPart(r[o-1])),n.setValue(c),n.commit(),o++}}catch(e){a=!0,s=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw s}}o<r.length&&(r.length=o,this.clear(n&&n.endNode))}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.startNode;s(this.startNode.parentNode,e.nextSibling,this.endNode)}}]),e}(),$=function(){function e(t,n,r){if(R(this,e),this.value=void 0,this.__pendingValue=void 0,2!==r.length||""!==r[0]||""!==r[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=n,this.strings=r}return T(e,[{key:"setValue",value:function(e){this.__pendingValue=e}},{key:"commit",value:function(){for(;i(this.__pendingValue);){var e=this.__pendingValue;this.__pendingValue=u,e(this)}if(this.__pendingValue!==u){var t=!!this.__pendingValue;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=t),this.__pendingValue=u}}}]),e}(),I=function(e){function t(e,n,r){var o;return R(this,t),(o=O(this,P(t).call(this,e,n,r))).single=2===r.length&&""===r[0]&&""===r[1],o}return C(t,D),T(t,[{key:"_createPart",value:function(){return new F(this)}},{key:"_getValue",value:function(){return this.single?this.parts[0].value:E(P(t.prototype),"_getValue",this).call(this)}},{key:"commit",value:function(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}]),t}(),F=function(e){function t(){return R(this,t),O(this,P(t).apply(this,arguments))}return C(t,L),t}(),U=!1;try{var M={get capture(){return U=!0,!1}};window.addEventListener("test",M,M),window.removeEventListener("test",M,M)}catch(e){}var V=function(){function e(t,n,r){var o=this;R(this,e),this.value=void 0,this.__pendingValue=void 0,this.element=t,this.eventName=n,this.eventContext=r,this.__boundHandleEvent=function(e){return o.handleEvent(e)}}return T(e,[{key:"setValue",value:function(e){this.__pendingValue=e}},{key:"commit",value:function(){for(;i(this.__pendingValue);){var e=this.__pendingValue;this.__pendingValue=u,e(this)}if(this.__pendingValue!==u){var t=this.__pendingValue,n=this.value,r=null==t||null!=n&&(t.capture!==n.capture||t.once!==n.once||t.passive!==n.passive),o=null!=t&&(null==n||r);r&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),o&&(this.__options=H(t),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=t,this.__pendingValue=u}}},{key:"handleEvent",value:function(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}]),e}(),H=function(e){return e&&(U?{capture:e.capture,passive:e.passive,once:e.once}:e.capture)};function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Z=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"handleAttributeExpressions",value:function(e,t,n,r){var o=t[0];return"."===o?new I(e,t.slice(1),n).parts:"@"===o?[new V(e,t.slice(1),r.eventContext)]:"?"===o?[new $(e,t.slice(1),n)]:new D(e,t,n).parts}},{key:"handleTextExpression",value:function(e){return new B(e)}}])&&W(t.prototype,n),r&&W(t,r),e}());function X(e){var t=K.get(e.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},K.set(e.type,t));var n=t.stringsArray.get(e.strings);if(void 0!==n)return n;var r=e.strings.join(c);return void 0===(n=t.keyString.get(r))&&(n=new h(e,e.getTemplateElement()),t.keyString.set(r,n)),t.stringsArray.set(e.strings,n),n}var K=new Map,J=new WeakMap;(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.0.0");var Q=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new S(e,n,"html",Z)},Y=133;function G(e,t){for(var n=e.element.content,r=e.parts,o=document.createTreeWalker(n,Y,null,!1),i=te(r),a=r[i],s=-1,u=0,l=[],c=null;o.nextNode();){s++;var p=o.currentNode;for(p.previousSibling===c&&(c=null),t.has(p)&&(l.push(p),null===c&&(c=p)),null!==c&&u++;void 0!==a&&a.index===s;)a.index=null!==c?-1:a.index-u,a=r[i=te(r,i)]}l.forEach(function(e){return e.parentNode.removeChild(e)})}var ee=function(e){for(var t=11===e.nodeType?0:1,n=document.createTreeWalker(e,Y,null,!1);n.nextNode();)t++;return t},te=function(e){for(var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1)+1;t<e.length;t++){var n=e[t];if(y(n))return t}return-1};var ne=function(e,t){return"".concat(e,"--").concat(t)},re=!0;void 0===window.ShadyCSS?re=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),re=!1);var oe=function(e){return function(t){var n=ne(t.type,e),r=K.get(n);void 0===r&&(r={stringsArray:new WeakMap,keyString:new Map},K.set(n,r));var o=r.stringsArray.get(t.strings);if(void 0!==o)return o;var i=t.strings.join(c);if(void 0===(o=r.keyString.get(i))){var a=t.getTemplateElement();re&&window.ShadyCSS.prepareTemplateDom(a,e),o=new h(t,a),r.keyString.set(i,o)}return r.stringsArray.set(t.strings,o),o}},ie=["html","svg"],ae=new Set,se=function(e,t,n){ae.add(n);var r=e.querySelectorAll("style"),o=r.length;if(0!==o){for(var i=document.createElement("style"),a=0;a<o;a++){var s=r[a];s.parentNode.removeChild(s),i.textContent+=s.textContent}!function(e){ie.forEach(function(t){var n=K.get(ne(t,e));void 0!==n&&n.keyString.forEach(function(e){var t=e.element.content,n=new Set;Array.from(t.querySelectorAll("style")).forEach(function(e){n.add(e)}),G(e,n)})})}(n);var u=t.element.content;!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e.element.content,o=e.parts;if(null!=n)for(var i=document.createTreeWalker(r,Y,null,!1),a=te(o),s=0,u=-1;i.nextNode();)for(u++,i.currentNode===n&&(s=ee(t),n.parentNode.insertBefore(t,n));-1!==a&&o[a].index===u;){if(s>0){for(;-1!==a;)o[a].index+=s,a=te(o,a);return}a=te(o,a)}else r.appendChild(t)}(t,i,u.firstChild),window.ShadyCSS.prepareTemplateStyles(t.element,n);var l=u.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==l)e.insertBefore(l.cloneNode(!0),e.firstChild);else{u.insertBefore(i,u.firstChild);var c=new Set;c.add(i),G(t,c)}}else window.ShadyCSS.prepareTemplateStyles(t.element,n)};function ue(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function he(e){var t="function"==typeof Map?new Map:void 0;return(he=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return de(e,arguments,ve(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ye(r,e)})(e)}function de(e,t,n){return(de=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&ye(o,n.prototype),o}).apply(null,arguments)}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}window.JSCompiler_renameProperty=function(e,t){return e};var ge={toAttribute:function(e,t){switch(t){case Boolean:return e?"":null;case Object:case Array:return null==e?e:JSON.stringify(e)}return e},fromAttribute:function(e,t){switch(t){case Boolean:return null!==e;case Number:return null===e?null:Number(e);case Object:case Array:return JSON.parse(e)}return e}},me=function(e,t){return t!==e&&(t==t||e==e)},be={attribute:!0,type:String,converter:ge,reflect:!1,hasChanged:me},we=Promise.resolve(!0),xe=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=fe(this,ve(t).call(this)))._updateState=0,e._instanceProperties=void 0,e._updatePromise=we,e._hasConnectedResolver=void 0,e._changedProperties=new Map,e._reflectingProperties=void 0,e.initialize(),e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}(t,he(HTMLElement)),n=t,r=[{key:"initialize",value:function(){this._saveInstanceProperties(),this._requestUpdate()}},{key:"_saveInstanceProperties",value:function(){var e=this;this.constructor._classProperties.forEach(function(t,n){if(e.hasOwnProperty(n)){var r=e[n];delete e[n],e._instanceProperties||(e._instanceProperties=new Map),e._instanceProperties.set(n,r)}})}},{key:"_applyInstanceProperties",value:function(){var e=this;this._instanceProperties.forEach(function(t,n){return e[n]=t}),this._instanceProperties=void 0}},{key:"connectedCallback",value:function(){this._updateState=32|this._updateState,this._hasConnectedResolver&&(this._hasConnectedResolver(),this._hasConnectedResolver=void 0)}},{key:"disconnectedCallback",value:function(){}},{key:"attributeChangedCallback",value:function(e,t,n){t!==n&&this._attributeToProperty(e,n)}},{key:"_propertyToAttribute",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:be,r=this.constructor,o=r._attributeNameForProperty(e,n);if(void 0!==o){var i=r._propertyValueToAttribute(t,n);if(void 0===i)return;this._updateState=8|this._updateState,null==i?this.removeAttribute(o):this.setAttribute(o,i),this._updateState=-9&this._updateState}}},{key:"_attributeToProperty",value:function(e,t){if(!(8&this._updateState)){var n=this.constructor,r=n._attributeToPropertyMap.get(e);if(void 0!==r){var o=n._classProperties.get(r)||be;this._updateState=16|this._updateState,this[r]=n._propertyValueFromAttribute(t,o),this._updateState=-17&this._updateState}}}},{key:"_requestUpdate",value:function(e,t){var n=!0;if(void 0!==e){var r=this.constructor,o=r._classProperties.get(e)||be;r._valueHasChanged(this[e],t,o.hasChanged)?(this._changedProperties.has(e)||this._changedProperties.set(e,t),!0!==o.reflect||16&this._updateState||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(e,o))):n=!1}!this._hasRequestedUpdate&&n&&this._enqueueUpdate()}},{key:"requestUpdate",value:function(e,t){return this._requestUpdate(e,t),this.updateComplete}},{key:"_enqueueUpdate",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,n,r,o,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._updateState=4|this._updateState,r=this._updatePromise,this._updatePromise=new Promise(function(e,r){t=e,n=r}),e.prev=3,e.next=6,r;case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(3);case 10:if(this._hasConnected){e.next=13;break}return e.next=13,new Promise(function(e){return i._hasConnectedResolver=e});case 13:if(e.prev=13,null==(o=this.performUpdate())){e.next=18;break}return e.next=18,o;case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(13),n(e.t1);case 23:t(!this._hasRequestedUpdate);case 24:case"end":return e.stop()}},e,this,[[3,8],[13,20]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){ce(i,r,o,a,s,"next",e)}function s(e){ce(i,r,o,a,s,"throw",e)}a(void 0)})});return function(){return t.apply(this,arguments)}}()},{key:"performUpdate",value:function(){this._instanceProperties&&this._applyInstanceProperties();var e=!1,t=this._changedProperties;try{(e=this.shouldUpdate(t))&&this.update(t)}catch(t){throw e=!1,t}finally{this._markUpdated()}e&&(1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(t)),this.updated(t))}},{key:"_markUpdated",value:function(){this._changedProperties=new Map,this._updateState=-5&this._updateState}},{key:"shouldUpdate",value:function(e){return!0}},{key:"update",value:function(e){var t=this;void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach(function(e,n){return t._propertyToAttribute(n,t[n],e)}),this._reflectingProperties=void 0)}},{key:"updated",value:function(e){}},{key:"firstUpdated",value:function(e){}},{key:"_hasConnected",get:function(){return 32&this._updateState}},{key:"_hasRequestedUpdate",get:function(){return 4&this._updateState}},{key:"hasUpdated",get:function(){return 1&this._updateState}},{key:"updateComplete",get:function(){return this._updatePromise}}],o=[{key:"_ensureClassProperties",value:function(){var e=this;if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;var t=Object.getPrototypeOf(this)._classProperties;void 0!==t&&t.forEach(function(t,n){return e._classProperties.set(n,t)})}}},{key:"createProperty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:be;if(this._ensureClassProperties(),this._classProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){var n="symbol"===le(e)?Symbol():"__".concat(e);Object.defineProperty(this.prototype,e,{get:function(){return this[n]},set:function(t){var r=this[e];this[n]=t,this._requestUpdate(e,r)},configurable:!0,enumerable:!0})}}},{key:"finalize",value:function(){if(!this.hasOwnProperty(JSCompiler_renameProperty("finalized",this))||!this.finalized){var e=Object.getPrototypeOf(this);if("function"==typeof e.finalize&&e.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){var t=this.properties,n=[].concat(ue(Object.getOwnPropertyNames(t)),ue("function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t):[])),r=!0,o=!1,i=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;this.createProperty(u,t[u])}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}}}}},{key:"_attributeNameForProperty",value:function(e,t){var n=t.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof e?e.toLowerCase():void 0}},{key:"_valueHasChanged",value:function(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:me)(e,t)}},{key:"_propertyValueFromAttribute",value:function(e,t){var n=t.type,r=t.converter||ge,o="function"==typeof r?r:r.fromAttribute;return o?o(e,n):e}},{key:"_propertyValueToAttribute",value:function(e,t){if(void 0!==t.reflect){var n=t.type,r=t.converter;return(r&&r.toAttribute||ge.toAttribute)(e,n)}}},{key:"observedAttributes",get:function(){var e=this;this.finalize();var t=[];return this._classProperties.forEach(function(n,r){var o=e._attributeNameForProperty(r,n);void 0!==o&&(e._attributeToPropertyMap.set(o,r),t.push(o))}),t}}],r&&pe(n.prototype,r),o&&pe(n,o),t}();xe.finalized=!0;var ke=function(e){return function(t){return"function"==typeof t?function(e,t){return window.customElements.define(e,t),t}(e,t):function(e,t){return{kind:t.kind,elements:t.elements,finisher:function(t){window.customElements.define(e,t)}}}(e,t)}},_e=function(e,t){return"method"!==t.kind||!t.descriptor||"value"in t.descriptor?{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer:function(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher:function(n){n.createProperty(t.key,e)}}:Object.assign({},t,{finisher:function(n){n.createProperty(t.key,e)}})},Se=function(e,t,n){t.constructor.createProperty(n,e)};function Oe(e){return function(t,n){return void 0!==n?Se(e,t,n):_e(e,t)}}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Pe="adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Ce=Symbol(),je=function(){function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n!==Ce)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t}var t,n,r;return t=e,(n=[{key:"toString",value:function(){return this.cssText}},{key:"styleSheet",get:function(){return void 0===this._styleSheet&&(Pe?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}}])&&Ee(t.prototype,n),r&&Ee(t,r),e}(),Re=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=n.reduce(function(t,n,r){return t+function(e){if(e instanceof je)return e.cssText;throw new Error("Value passed to 'css' function must be a 'css' function result: ".concat(e,". Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security."))}(n)+e[r+1]},e[0]);return new je(o,Ce)};function Ae(e){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ze(e,t){return!t||"object"!==Ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ne(e,t,n){return(Ne="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=qe(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function qe(e){return(qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function De(e,t){return(De=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(window.litElementVersions||(window.litElementVersions=[])).push("2.0.1");var Le=function(e){return e.flat?e.flat(1/0):function e(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=0,o=t.length;r<o;r++){var i=t[r];Array.isArray(i)?e(i,n):n.push(i)}return n}(e)},Be=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ze(this,qe(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&De(e,t)}(t,xe),n=t,o=[{key:"finalize",value:function(){Ne(qe(t),"finalize",this).call(this),this._styles=this.hasOwnProperty(JSCompiler_renameProperty("styles",this))?this._getUniqueStyles():this._styles||[]}},{key:"_getUniqueStyles",value:function(){var e=this.styles,t=[];Array.isArray(e)?Le(e).reduceRight(function(e,t){return e.add(t),e},new Set).forEach(function(e){return t.unshift(e)}):e&&t.push(e);return t}}],(r=[{key:"initialize",value:function(){Ne(qe(t.prototype),"initialize",this).call(this),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}},{key:"createRenderRoot",value:function(){return this.attachShadow({mode:"open"})}},{key:"adoptStyles",value:function(){var e=this.constructor._styles;0!==e.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?Pe?this.renderRoot.adoptedStyleSheets=e.map(function(e){return e.styleSheet}):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(e.map(function(e){return e.cssText}),this.localName))}},{key:"connectedCallback",value:function(){Ne(qe(t.prototype),"connectedCallback",this).call(this),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}},{key:"update",value:function(e){var n=this;Ne(qe(t.prototype),"update",this).call(this,e);var r=this.render();r instanceof S&&this.constructor.render(r,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(function(e){var t=document.createElement("style");t.textContent=e.cssText,n.renderRoot.appendChild(t)}))}},{key:"render",value:function(){}}])&&Te(n.prototype,r),o&&Te(n,o),t}();Be.finalized=!0,Be.render=function(e,t,n){var r=n.scopeName,o=J.has(t),i=re&&11===t.nodeType&&!!t.host&&e instanceof S,a=i&&!ae.has(r),u=a?document.createDocumentFragment():t;if(function(e,t,n){var r=J.get(t);void 0===r&&(s(t,t.firstChild),J.set(t,r=new B(Object.assign({templateFactory:X},n))),r.appendInto(t)),r.setValue(e),r.commit()}(e,u,Object.assign({templateFactory:oe(r)},n)),a){var l=J.get(u);J.delete(u),l.value instanceof w&&se(u,l.value.template,r),s(t,t.firstChild),t.appendChild(u),J.set(t,l)}!o&&i&&window.ShadyCSS.styleElement(t.host)};var $e=n(1),Ie=n.n($e);function Fe(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}var Ue=function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=document.cookie.split(";")[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,s=a.indexOf("="),u=a.substr(0,s),l=a.substr(s+1);if(u=u.trim(),l=l.trim(),u===e)return l}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return null},Me=function(e){var t=[];Object.keys(e).forEach(function(n){e[n]&&t.push(n)});var n=t.join(" ");return n.trim().length>0&&(n=" "+n),n},Ve=function(e){return new Promise(function(t,n){We(e).then(function(e){t({assets:e.data.results,next:e.data.next})}).catch(function(e){return n(e)})})},He=function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",new Promise(function(e,t){return e([])}));case 2:n=[],r=t;case 4:if(!r){e.next=12;break}return e.next=7,Ve(r);case 7:o=e.sent,n=n.concat(o.assets),r=o.next,e.next=4;break;case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Fe(i,r,o,a,s,"next",e)}function s(e){Fe(i,r,o,a,s,"throw",e)}a(void 0)})});return function(e){return t.apply(this,arguments)}}(),We=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Ue("csrftoken"),r={headers:n?{"X-CSRFToken":n}:{}};return t&&(r.cancelToken=t),Ie.a.get(e,r)},Ze=n(3),Xe=n.n(Ze);function Ke(){var e=it([":host{line-height:normal}rp-textinput{height:150px}#left-column{display:inline-block;margin-left:10px;width:300px;z-index:100}.search{margin-bottom:10px}.feature{padding:4px 14px;font-size:16px}.level-0{margin-left:0}.level-1{margin-left:5px;font-size:95%}.level-2{margin-left:10px;font-size:90%}.level-3{margin-left:15px;font-size:85%}.feature-name{display:inline-block}.clickable{text-decoration:none;cursor:pointer;color:var(--color-link-primary)}.clickable.secondary{color:var(--color-link-secondary)}.clickable:hover{text-decoration:underline;color:var(--color-link-primary-hover)}.feature:hover .showonhover{visibility:visible}.showonhover{visibility:hidden}.aliases{color:#bbb;font-size:80%;display:inline;margin-left:5px}rp-label{margin-right:3px;margin-bottom:3px;vertical-align:top}.selected{display:flex;flex-direction:column;padding:15px}.selected .name{font-size:18px;padding:5px}.selected .help{padding:5px 2px;font-size:11px;color:var(--color-secondary-light)}#right-column{vertical-align:top;margin-left:20px;display:inline-block}leaflet-map{height:250px;width:450px;border:0 solid #999;border-radius:5px}.edit{display:inline-block;margin-right:0}"]);return Ke=function(){return e},e}function Je(){var e=it(['<div id="left-column"><div class="search"><rp-select placeholder="Search" endpoint="',"boundaries/",'/?q=" .renderOptionDetail="','" @rp-selection="','"></rp-select></div><div class="feature-tree">','</div></div><div id="right-column"><leaflet-map endpoint="','" .feature="','" .osmId="','" .hovered="','" .onFeatureClicked="','"></leaflet-map></div><rp-dialog id="alias-dialog" title="Aliases for ','" primaryButtonName="Save" @rp-button-clicked="','"><div class="selected"><rp-textinput name="aliases" id="','" .value="','" textarea></rp-textinput><div class="help">Enter other aliases for ',", one per line</div></div></rp-dialog>"]);return Je=function(){return e},e}function Qe(){var e=it([""]);return Qe=function(){return e},e}function Ye(){var e=it(["",'<div class="path">','</div><div class="aliases">',"</div>"]);return Ye=function(){return e},e}function Ge(){var e=it(['<rp-label class="alias" dark>',"</rp-label>"]);return Ge=function(){return e},e}function et(){var e=it(["<style>rp-label{margin-top:3px;margin-right:3px}</style>"]);return et=function(){return e},e}function tt(){var e=it([""," ",""]);return tt=function(){return e},e}function nt(){var e=it(['<div class="edit clickable showonhover" @click="','"><rp-icon name="register" size="12"></rp-icon></div>']);return nt=function(){return e},e}function rt(){var e=it(['<rp-label class="alias" @click="','" light clickable>',"</rp-label>"]);return rt=function(){return e},e}function ot(){var e=it(['<div class="feature"><div @mouseover="','" @mouseout="','" class="level-','"><div class="feature-name ','" @click="','">','</div><div class="aliases">'," ","</div></div></div>"]);return ot=function(){return e},e}function it(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function at(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function st(e,t){return!t||"object"!==ct(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ut(e){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lt(e,t){return(lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ct(e){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var pt=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":ct(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ft=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=st(this,ut(t).call(this))).path=[],e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lt(e,t)}(t,Be),n=t,o=[{key:"styles",get:function(){return Re(Ke())}}],(r=[{key:"updated",value:function(e){if(e.has("osmId")){var t=[],n=!0,r=!1,o=void 0;try{for(var i,a=this.path[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;if(t.push(s),s.osm_id===this.osmId)return this.path=[].concat(t),void this.hideAliasDialog()}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}this.fetchFeature()}}},{key:"fetchFeature",value:function(){var e=this;We(this.getEndpoint()+"boundaries/"+this.osmId+"/").then(function(t){e.path=t.data,e.hideAliasDialog()})}},{key:"fireTextareaAutosize",value:function(){var e=this;window.setTimeout(function(){Xe()(e.shadowRoot.querySelector("textarea")),Xe.a.update(e.shadowRoot.querySelector("textarea"))},0)}},{key:"handleMapClicked",value:function(e){this.hovered=null,e&&e.osm_id===this.osmId||(this.osmId=e.osm_id)}},{key:"handlePlaceClicked",value:function(e){this.osmId=e.osm_id}},{key:"handleSearchSelection",value:function(e){var t=e.detail.selected;this.showAliasDialog(t)}},{key:"renderFeature",value:function(e,t){var n=this,r=this.path[this.path.length-1],o=(e.has_children||0===e.level)&&e!==r,i=Q(ot(),function(){e.level>0&&(n.hovered=e)},function(){n.hovered=null},e.level,o?"clickable":"",function(){o&&n.handlePlaceClicked(e)},e.name,e.aliases.split("\n").map(function(t){return t.trim().length>0?Q(rt(),function(){n.showAliasDialog(e)},t):null}),e.level>0?Q(nt(),function(t){n.showAliasDialog(e),t.preventDefault(),t.stopPropagation()}):""),a=(e.children||[]).map(function(e){return t.length>0&&t[0].osm_id===e.osm_id?n.renderFeature(t[0],t.slice(1)):0===t.length||0===t[0].children.length?n.renderFeature(e,t):null});return Q(tt(),i,a)}},{key:"showAliasDialog",value:function(e){this.editFeature=e;var t=this.shadowRoot.getElementById("alias-dialog");t&&(this.fireTextareaAutosize(),t.setAttribute("open",""))}},{key:"hideAliasDialog",value:function(){var e=this.shadowRoot.getElementById("alias-dialog");e&&e.removeAttribute("open"),this.requestUpdate()}},{key:"getEndpoint",value:function(){return this.endpoint+(this.endpoint.endsWith("/")?"":"/")}},{key:"handleDialogClick",value:function(e){var t=this,n=e.detail.button;if("Save"===n.name){n.setProgress(!0);var r=this.shadowRoot.getElementById(this.editFeature.osm_id).inputElement.value,o={osm_id:this.editFeature.osm_id,aliases:r};(function(e,t){var n=Ue("csrftoken"),r=n?{"X-CSRFToken":n}:{};return Ie.a.post(e,t,{headers:r})})(this.getEndpoint()+"boundaries/"+this.editFeature.osm_id+"/",o).then(function(e){t.fetchFeature()})}"Cancel"===n.name&&this.hideAliasDialog()}},{key:"renderOptionDetail",value:function(e,t){var n=Q(et()),r=e.aliases.split("\n").map(function(e){return e.trim().length>0?Q(Ge(),e):null});return Q(Ye(),n,e.path.replace(/>/gi,"‣"),r)}},{key:"render",value:function(){if(0===this.path.length)return Q(Qe());var e=this.path[this.path.length-1],t=0===e.children.length?this.path[this.path.length-2]:e,n=this.editFeature?this.editFeature.osm_id:null,r=this.editFeature?this.editFeature.name:null,o=this.editFeature?this.editFeature.aliases:null;return Q(Je(),this.getEndpoint(),this.path[0].osm_id,this.renderOptionDetail,this.handleSearchSelection.bind(this),this.renderFeature(this.path[0],this.path.slice(1)),this.getEndpoint(),t,t.osm_id,this.hovered,this.handleMapClicked.bind(this),r,this.handleDialogClick.bind(this),n,o,r)}}])&&at(n.prototype,r),o&&at(n,o),t}();pt([Oe({type:Array,attribute:!1})],ft.prototype,"path",void 0),pt([Oe()],ft.prototype,"endpoint",void 0),pt([Oe()],ft.prototype,"osmId",void 0),pt([Oe({type:Object})],ft.prototype,"hovered",void 0),pt([Oe({type:Object})],ft.prototype,"editFeature",void 0);ft=pt([ke("alias-editor")],ft);function ht(){var e=yt([".button{background:#00f;color:#fff;cursor:pointer;display:inline-block;border-radius:var(--curvature);outline:0}.button:focus{outline:0;margin:0}.button:focus .mask{background:rgb(0,0,0,.1);box-shadow:0 0 0 2px var(--color-button-primary)}.button.secondary:focus .mask{border:1px solid var(--color-button-secondary);background:0 0;box-shadow:0 0 0 2px var(--color-button-secondary)}.mask{padding:5px 10px;border-radius:var(--curvature);border:1px solid transparent}.primary{background:var(--color-button-primary);color:var(--color-button-primary-text)}.secondary{background:0 0;color:var(--color-button-secondary)}.secondary:hover .mask{border:1px solid var(--color-button-secondary)}.button.progress{background:#ddd}.button.progress:focus .mask{box-shadow:0 0 0 2px var(--color-button-secondary)}.mask:hover{background:rgb(0,0,0,.1)}.secondary .mask:hover{background:0 0}"]);return ht=function(){return e},e}function dt(){var e=yt(['<div class="button ','" tabindex="0" @keyup="','"><div class="mask">',"</div></div>"]);return dt=function(){return e},e}function yt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gt(e,t){return!t||"object"!==wt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mt(e){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bt(e,t){return(bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wt(e){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var xt=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":wt(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},kt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),gt(this,mt(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bt(e,t)}(t,Be),n=t,o=[{key:"styles",get:function(){return Re(ht())}}],(r=[{key:"setProgress",value:function(e){this.isProgress=e}},{key:"handleKeyUp",value:function(e){"Enter"===e.key&&this.click()}},{key:"render",value:function(){return Q(dt(),Me({progress:this.isProgress,primary:this.primary,secondary:this.secondary}),this.handleKeyUp,this.isProgress&&this.inProgessName||this.name)}}])&&vt(n.prototype,r),o&&vt(n,o),t}();xt([Oe({type:Boolean})],kt.prototype,"primary",void 0),xt([Oe({type:Boolean})],kt.prototype,"secondary",void 0),xt([Oe()],kt.prototype,"name",void 0),xt([Oe()],kt.prototype,"inProgessName",void 0),xt([Oe({type:Boolean})],kt.prototype,"isProgress",void 0);kt=xt([ke("rp-button")],kt);function _t(e){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function St(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ot(e,t){return!t||"object"!==_t(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Et(e,t,n){return(Et="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Pt(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Pt(e){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ct(e,t){return(Ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var jt,Rt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ot(this,Pt(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ct(e,t)}(t,Be),n=t,(r=[{key:"getEventHandlers",value:function(){return[]}},{key:"connectedCallback",value:function(){Et(Pt(t.prototype),"connectedCallback",this).call(this);var e=!0,n=!1,r=void 0;try{for(var o,i=this.getEventHandlers()[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value;document.addEventListener(a.event,a.method.bind(this))}}catch(e){n=!0,r=e}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}}},{key:"disconnectedCallback",value:function(){var e=!0,n=!1,r=void 0;try{for(var o,i=this.getEventHandlers()[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value;document.removeEventListener(a.event,a.method)}}catch(e){n=!0,r=e}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}Et(Pt(t.prototype),"disconnectedCallback",this).call(this)}},{key:"fireEvent",value:function(e){this.dispatchEvent(new Event(e,{bubbles:!0,composed:!0}))}},{key:"fireCustomEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new CustomEvent(e,{detail:t,bubbles:!0,composed:!0});this.dispatchEvent(n)}}])&&St(n.prototype,r),o&&St(n,o),t}();!function(e){e.Canceled="rp-canceled",e.CursorChanged="rp-cursor-changed",e.Selection="rp-selection",e.ButtonClicked="rp-button-clicked"}(jt||(jt={}));var At=new WeakMap,Tt=o(function(e){return function(t){if(!(t instanceof L)||t instanceof F||"style"!==t.committer.name||t.committer.parts.length>1)throw new Error("The `styleMap` directive must be used in the style attribute and must be the only part in the attribute.");var n=t.committer,r=n.element.style;At.has(t)||(r.cssText=n.strings.join(" "));var o=At.get(t);for(var i in o)i in e||(-1===i.indexOf("-")?r[i]=null:r.removeProperty(i));for(var a in e)-1===a.indexOf("-")?r[a]=e[a]:r.setProperty(a,e[a]);At.set(t,e)}});function zt(){var e=Dt([".mask{width:100%;background:rgba(0,0,0,.5);opacity:0;visibility:hidden;position:fixed;top:0;left:0;transition:all ease-in 250ms}.dialog{width:500px;margin:0 auto;top:-200px;position:relative;transition:top ease-in-out .2s;border-radius:var(--curvature);box-shadow:0 0 0 4px rgba(0,0,0,.04);overflow:hidden}.body{background:#fff}.mask.open{opacity:1;visibility:visible}.mask.open > .dialog{top:100px}.title{padding:10px 20px;font-size:18px;color:var(--color-text-light);background:var(--color-primary-dark)}.footer{background:var(--color-primary-light);padding:10px;display:flex;flex-flow:row-reverse}rp-button{margin-left:5px}"]);return zt=function(){return e},e}function Nt(){var e=Dt(["<slot></slot>"]);return Nt=function(){return e},e}function qt(){var e=Dt(['<div class="mask ','" style="','"><div @keyup="','" class="dialog"><div class="header"><div class="title">','</div></div><div class="body" @keypress="','">','</div><div class="footer"><rp-button @click="','" name="','" inProgessName="','" primary>}</rp-button><rp-button @click="','" name="','" secondary></rp-button></div></div></div>']);return qt=function(){return e},e}function Dt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bt(e,t){return!t||"object"!==Ft(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $t(e){return($t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function It(e,t){return(It=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ft(e){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ut=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Ft(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Mt=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Bt(this,$t(t).call(this))).primaryButtonName="Ok",e.cancelButtonName="Cancel",e.inProgressName="Saving",e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&It(e,t)}(t,Rt),n=t,o=[{key:"styles",get:function(){return Re(zt())}}],(r=[{key:"updated",value:function(e){if(e.has("open")&&this.open){this.shadowRoot.querySelectorAll("rp-button").forEach(function(e){return e.setProgress(!1)});var t=this.querySelectorAll("textarea,input");t.length>0&&window.setTimeout(function(){t[0].focus()},100)}}},{key:"handleClick",value:function(e){var t=e.currentTarget;t.isProgress||this.fireCustomEvent(jt.ButtonClicked,{button:t})}},{key:"getDocumentHeight",value:function(){var e=document.body,t=document.documentElement;return Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)}},{key:"handleKeyUp",value:function(e){var t=this;"Escape"===e.key&&this.shadowRoot.querySelectorAll("rp-button").forEach(function(e){e.name===t.cancelButtonName&&e.click()})}},{key:"render",value:function(){var e=this.getDocumentHeight(),t={height:"".concat(e+100,"px")};return Q(qt(),this.open?"open":"",Tt(t),this.handleKeyUp,this.title,this.handleKeyUp,this.body?this.body:Q(Nt()),this.handleClick,this.primaryButtonName,this.inProgressName,this.handleClick,this.cancelButtonName)}}])&&Lt(n.prototype,r),o&&Lt(n,o),t}();Ut([Oe({type:Boolean})],Mt.prototype,"open",void 0),Ut([Oe()],Mt.prototype,"title",void 0),Ut([Oe()],Mt.prototype,"body",void 0),Ut([Oe()],Mt.prototype,"primaryButtonName",void 0),Ut([Oe({type:String})],Mt.prototype,"cancelButtonName",void 0),Ut([Oe()],Mt.prototype,"inProgressName",void 0),Ut([Oe({attribute:!1})],Mt.prototype,"onButtonClicked",void 0);Mt=Ut([ke("rp-dialog")],Mt);function Vt(){var e=Xt([".input-container{border-radius:var(--curvature);overflow:hidden;cursor:text;background:var(--color-widget-bg);border:1px solid var(--color-widget-border);box-shadow:none;transition:all ease-in-out .2s;display:flex;flex-direction:row;align-items:stretch}.input-container:focus-within{border-color:var(--color-widget-border);background:var(--color-widget-bg-focused);box-shadow:var(--color-widget-shadow-focused) 0 0 3px 0}.input-container:hover{background:var(--color-widget-bg-focused)}textarea{height:85%}.textinput{padding:8px;border:0 solid red;flex:1;margin:0;background:0 0;color:var(--color-text);font-size:13px;cursor:text;resize:none;box-shadow:var(--color-widget-shadow-focused) 0 1px 1px 0 inset}.textinput:focus{outline:0;box-shadow:none;cursor:text}.textinput::placeholder{color:rgba(0,0,0,.15)}"]);return Vt=function(){return e},e}function Ht(){var e=Xt(['<input class="textinput" name="','" type="text" placeholder="','" .value="','">']);return Ht=function(){return e},e}function Wt(){var e=Xt(['<textarea class="textinput" name="','" placeholder="','" .value="','">\n        </textarea>']);return Wt=function(){return e},e}function Zt(){var e=Xt(['<div class="input-container" style="','" @click="','">',"</div>"]);return Zt=function(){return e},e}function Xt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jt(e,t){return!t||"object"!==en(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qt(e,t,n){return(Qt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Yt(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Yt(e){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gt(e,t){return(Gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function en(e){return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var tn=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":en(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},nn=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Jt(this,Yt(t).apply(this,arguments))).placeholder="",e.value="",e.name="",e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gt(e,t)}(t,Rt),n=t,o=[{key:"styles",get:function(){return Re(Vt())}}],(r=[{key:"firstUpdated",value:function(e){Qt(Yt(t.prototype),"firstUpdated",this).call(this,e),this.inputElement=this.shadowRoot.querySelector(".textinput")}},{key:"render",value:function(){var e=this,t={height:"".concat(this.textarea?"100%":"auto")};return Q(Zt(),Tt(t),function(){e.shadowRoot.querySelector(".textinput").focus()},this.textarea?Q(Wt(),this.name,this.placeholder,this.value):Q(Ht(),this.name,this.placeholder,this.value))}}])&&Kt(n.prototype,r),o&&Kt(n,o),t}();tn([Oe({type:Boolean})],nn.prototype,"textarea",void 0),tn([Oe({type:String})],nn.prototype,"placeholder",void 0),tn([Oe({type:String})],nn.prototype,"value",void 0),tn([Oe({type:String})],nn.prototype,"name",void 0),tn([Oe({type:Object})],nn.prototype,"inputElement",void 0);nn=tn([ke("rp-textinput")],nn);function rn(){var e=an([":host{display:inline-block}.mask{padding:3px 6px;border-radius:var(--curvature)}.label.clickable .mask:hover{background:rgb(0,0,0,.05)}.label{border-radius:2px;font-size:80%;font-weight:400;border-radius:var(--curvature);background:tomato;color:#fff;text-shadow:0 .04em .04em rgba(0,0,0,.35)}.primary{background:var(--color-label-primary);color:var(--color-label-primary-text)}.secondary{background:var(--color-label-secondary);color:var(--color-label-secondary-text);text-shadow:none}.light{background:var(--color-overlay-light);color:var(--color-overlay-light-text);text-shadow:none}.dark{background:var(--color-overlay-dark);color:var(--color-overlay-dark-text);text-shadow:none}.clickable{cursor:pointer}"]);return rn=function(){return e},e}function on(){var e=an(['<div class="label ','" style="','"><div class="mask"><slot></slot></div></div>']);return on=function(){return e},e}function an(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function un(e,t){return!t||"object"!==pn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ln(e){return(ln=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cn(e,t){return(cn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pn(e){return(pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var fn=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":pn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},hn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),un(this,ln(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cn(e,t)}(t,Be),n=t,o=[{key:"styles",get:function(){return Re(rn())}}],(r=[{key:"render",value:function(){var e=this.backgroundColor&&this.textColor?{background:"".concat(this.backgroundColor),color:"".concat(this.textColor)}:{};return Q(on(),Me({clickable:this.clickable,primary:this.primary,secondary:this.secondary,light:this.light,dark:this.dark}),Tt(e))}}])&&sn(n.prototype,r),o&&sn(n,o),t}();fn([Oe({type:Boolean})],hn.prototype,"clickable",void 0),fn([Oe({type:Boolean})],hn.prototype,"primary",void 0),fn([Oe({type:Boolean})],hn.prototype,"secondary",void 0),fn([Oe({type:Boolean})],hn.prototype,"light",void 0),fn([Oe({type:Boolean})],hn.prototype,"dark",void 0),fn([Oe()],hn.prototype,"backgroundColor",void 0),fn([Oe()],hn.prototype,"textColor",void 0);hn=fn([ke("rp-label")],hn);function dn(){var e=xn([".options-container{visibility:hidden;position:fixed;border-radius:var(--curvature);border:0 solid var(--color-borders);box-shadow:0 0 2px 0 #ccc;background:#fff;z-index:1}.options{border-radius:var(--curvature);background:#fff;overflow-y:scroll;max-height:225px;border:none}.show{visibility:visible}.option{font-size:14px;padding:7px 14px;border-radius:var(--curvature);margin:3px;cursor:pointer;color:var(--color-text)}.option.focused{background:var(--color-selection);color:var(--color-text-light)}.option .detail{font-size:85%;color:rgba(255,255,255,.9)}code{background:rgba(0,0,0,.15);padding:1px 5px;border-radius:var(--curvature)}"]);return dn=function(){return e},e}function yn(){var e=xn(['<div @mouseover="','" @click="','" class="option ','">',"</div>"]);return yn=function(){return e},e}function vn(){var e=xn(['<div class="options-container ','" style="','"><div class="options" style="','">',"</div><slot></slot></div>"]);return vn=function(){return e},e}function gn(){var e=xn(["",""]);return gn=function(){return e},e}function mn(){var e=xn(["",""]);return mn=function(){return e},e}function bn(){var e=xn(['<div class="name">',"</div>"]);return bn=function(){return e},e}function wn(){var e=xn(['<div class="name">','</div><div class="detail">',"</div>"]);return wn=function(){return e},e}function xn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _n(e,t){return!t||"object"!==Pn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Sn(e,t,n){return(Sn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=On(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function On(e){return(On=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function En(e,t){return(En=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pn(e){return(Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Cn=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Pn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},jn=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=_n(this,On(t).apply(this,arguments))).cursorIndex=0,e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&En(e,t)}(t,Rt),n=t,o=[{key:"styles",get:function(){return Re(dn())}}],(r=[{key:"updated",value:function(e){if(Sn(On(t.prototype),"updated",this).call(this,e),e.has("cursorIndex")){var n=this.shadowRoot.querySelector(".focused");if(n){var r=this.shadowRoot.querySelector(".options"),o=r.getBoundingClientRect().height,i=n.getBoundingClientRect().height;if(n.offsetTop+i>r.scrollTop+o-5){var a=n.offsetTop-o+i+5;r.scrollTop=a}else if(n.offsetTop<r.scrollTop){var s=n.offsetTop-5;r.scrollTop=s}}}e.has("options")&&(this.calculatePosition(),this.cursorIndex=0)}},{key:"renderOptionDefault",value:function(e,t){var n=this.renderOptionName||this.renderOptionNameDefault,r=this.renderOptionDetail||this.renderOptionDetailDefault;return t?Q(wn(),n(e,t),r(e,t)):Q(bn(),n(e,t))}},{key:"renderOptionNameDefault",value:function(e,t){return Q(mn(),e.name)}},{key:"renderOptionDetailDefault",value:function(e,t){return Q(gn(),e.detail)}},{key:"handleSelection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.options[this.cursorIndex];this.fireCustomEvent(jt.Selection,{selected:t,tabbed:e})}},{key:"moveCursor",value:function(e){var t=Math.max(Math.min(this.cursorIndex+e,this.options.length-1),0);this.setCursor(t)}},{key:"setCursor",value:function(e){e!==this.cursorIndex&&(this.cursorIndex=e,this.fireCustomEvent(jt.CursorChanged,{index:e}))}},{key:"handleKeyDown",value:function(e){this.visible&&(e.ctrlKey&&"n"===e.key||"ArrowDown"===e.key?(this.moveCursor(1),e.preventDefault()):e.ctrlKey&&"p"===e.key||"ArrowUp"===e.key?(this.moveCursor(-1),e.preventDefault()):"Enter"!==e.key&&"Tab"!==e.key||(this.handleSelection("Tab"===e.key),e.preventDefault()),"Escape"===e.key&&this.fireCustomEvent(jt.Canceled))}},{key:"calculatePosition",value:function(){var e=this.shadowRoot.querySelector(".options-container").getBoundingClientRect();if(this.anchorTo){var t=this.anchorTo.getBoundingClientRect(),n=t.top-e.height;n>0&&t.bottom+e.height>window.innerHeight?this.top=n:this.top=t.bottom,this.left=t.left,this.width=t.width}}},{key:"getEventHandlers",value:function(){return[{event:"keydown",method:this.handleKeyDown},{event:"scroll",method:this.calculatePosition}]}},{key:"render",value:function(){var e=this,t=(this.renderOption||this.renderOptionDefault).bind(this),n={top:"".concat(this.top,"px"),left:"".concat(this.left,"px"),width:"".concat(this.width,"px")},r={width:"".concat(this.width,"px")};return Q(vn(),this.visible?"show":"",Tt(n),Tt(r),this.options.map(function(n,r){return Q(yn(),function(t){Math.abs(t.movementX)+Math.abs(t.movementY)>0&&e.setCursor(r)},function(){e.handleSelection()},r==e.cursorIndex?"focused":"",t(n,r==e.cursorIndex))}))}}])&&kn(n.prototype,r),o&&kn(n,o),t}();Cn([Oe({type:Number})],jn.prototype,"top",void 0),Cn([Oe({type:Number})],jn.prototype,"left",void 0),Cn([Oe({type:Number})],jn.prototype,"width",void 0),Cn([Oe({type:Object})],jn.prototype,"anchorTo",void 0),Cn([Oe({type:Boolean})],jn.prototype,"visible",void 0),Cn([Oe({type:Number})],jn.prototype,"cursorIndex",void 0),Cn([Oe({type:Array})],jn.prototype,"options",void 0),Cn([Oe({attribute:!1})],jn.prototype,"renderOption",void 0),Cn([Oe({attribute:!1})],jn.prototype,"renderOptionName",void 0),Cn([Oe({attribute:!1})],jn.prototype,"renderOptionDetail",void 0);jn=Cn([ke("rp-options")],jn);function Rn(){var e=Tn([":host{display:flex;flex-direction:column}"]);return Rn=function(){return e},e}function An(){var e=Tn(['<rp-textinput @keyup="','" @blur="','" @focus="','" .value="','" placeholder="','"></rp-textinput><rp-options cursorIndex="','" @rp-selection="','" .renderOptionDetail="','" .renderOptionName="','" .renderOption="','" .anchorTo="','" .options="','" ?visible="','"></rp-options>']);return An=function(){return e},e}function Tn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function zn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qn(e,t){return!t||"object"!==$n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Dn(e,t,n){return(Dn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ln(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Ln(e){return(Ln=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bn(e,t){return(Bn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $n(e){return($n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var In=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":$n(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Fn=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=qn(this,Ln(t).call(this))).selected=[],e.placeholder="",e.input="",e.options=[],e.quietMillis=200,e.renderOptionDetail=function(){},e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bn(e,t)}(t,Rt),n=t,o=[{key:"styles",get:function(){return Re(Rn())}}],(r=[{key:"updated",value:function(e){var n=this;if(Dn(Ln(t.prototype),"updated",this).call(this,e),e.has("selected")&&(this.input="",this.shadowRoot.querySelector("input").blur()),e.has("input")&&!e.has("selected")){if(!this.input)return void(this.options=[]);this.lastQuery&&window.clearTimeout(this.lastQuery),this.lastQuery=window.setTimeout(function(){n.fetchOptions(n.input)},this.quietMillis)}e.has("cursorIndex")&&this.options.length>0&&this.query&&!this.complete&&this.cursorIndex>this.options.length-20&&this.fetchOptions(this.query,this.page+1)}},{key:"handleOptionSelection",value:function(e){var t=e.detail.selected;this.selected=[t],this.options=[],this.input=t.name}},{key:"fetchOptions",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!this.fetching){this.cancelToken&&this.cancelToken.cancel();var r=Ie.a.CancelToken;this.cancelToken=r.source(),this.fetching=!0,We(this.endpoint+encodeURIComponent(e)+"&page="+n,this.cancelToken.token).then(function(r){if(0===n)t.options=r.data.filter(function(e){return e.level>0}),t.cursorIndex=0,t.query=e,t.complete=0===t.options.length;else{var o=r.data.filter(function(e){return e.level>0});o.length>0&&(t.options=[].concat(zn(t.options),zn(o))),t.complete=0===o.length}t.fetching=!1,t.page=n}).catch(function(e){})}}},{key:"handleBlur",value:function(){var e=this;window.setTimeout(function(){e.options=[]},100)}},{key:"handleFocus",value:function(){}},{key:"handleKeyUp",value:function(e){var t=e.currentTarget;this.input=t.inputElement.value.trim()}},{key:"handleCancel",value:function(){this.options=[]}},{key:"handleCursorChanged",value:function(e){this.cursorIndex=e.detail.index}},{key:"getEventHandlers",value:function(){return[{event:jt.Canceled,method:this.handleCancel},{event:jt.CursorChanged,method:this.handleCursorChanged}]}},{key:"firstUpdated",value:function(e){this.anchorElement=this.shadowRoot.querySelector("rp-textinput")}},{key:"render",value:function(){return Q(An(),this.handleKeyUp,this.handleBlur,this.handleFocus,this.input,this.placeholder,this.cursorIndex,this.handleOptionSelection,this.renderOptionDetail,this.renderOptionName,this.renderOption,this.anchorElement,this.options,this.input.length>0&&this.options.length>0)}}])&&Nn(n.prototype,r),o&&Nn(n,o),t}();In([Oe({type:Array})],Fn.prototype,"selected",void 0),In([Oe()],Fn.prototype,"placeholder",void 0),In([Oe()],Fn.prototype,"endpoint",void 0),In([Oe({type:String})],Fn.prototype,"input",void 0),In([Oe({type:Array})],Fn.prototype,"options",void 0),In([Oe({type:Number})],Fn.prototype,"quietMillis",void 0),In([Oe({type:Boolean})],Fn.prototype,"fetching",void 0),In([Oe({attribute:!1})],Fn.prototype,"cursorIndex",void 0),In([Oe({attribute:!1})],Fn.prototype,"anchorElement",void 0),In([Oe({attribute:!1})],Fn.prototype,"renderOption",void 0),In([Oe({attribute:!1})],Fn.prototype,"renderOptionName",void 0),In([Oe({attribute:!1})],Fn.prototype,"renderOptionDetail",void 0);Fn=In([ke("rp-select")],Fn);function Un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Mn=function(e,t,n){var r=e.substring(1);if("("===r[0])return!0;var o=r.split(".")[0].toLowerCase();if(!n)return t.indexOf(o)>=0;var i,a=!0,s=!1,u=void 0;try{for(var l,c=t[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var p=l.value;if(i=o,0===p.indexOf(i,0))return!0}}catch(e){s=!0,u=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw u}}return!1},Vn=function(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||"_"===e},Hn=function(e){var t=0,n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){'"'===i.value&&t++}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return t%2!=0},Wn=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.expressionPrefix=t,this.allowedTopLevels=n}var t,n,r;return t=e,(n=[{key:"expressionContext",value:function(e){var t=this.findExpressions(e);if(0===t.length)return null;var n=t[t.length-1];return n.end<e.length||n.closed?null:n.text.substring(1)}},{key:"autoCompleteContext",value:function(e){if(Hn(e))return null;for(var t=[],n="",r=!1,o=!1,i="",a=e.length-1;a>=0;a--){var s=e[a];if(" "===s&&(r=!0),","===s&&(r=!0,"("!==t[t.length-1]&&t.push("(")),")"!==s||o||(r=!0,t.push("("),t.push("(")),'"'===s&&(o=!o),r&&("("!==s||o||("("===t[t.length-1]&&t.pop(),0===t.length&&(r=!1))),"("===s&&""===n&&(i="#"),!(r||o||"("===s&&""===n)){if(!Vn(s)&&"."!==s)break;n=s+n}}return n.match(/[A-Za-z][\w]*(\.[\w]+)*/)?i+n:null}},{key:"functionContext",value:function(e){for(var t=Hn(e)?4:6,n="",r="("===e[-1]?0:1,o=e.length-1;o>=0;o--){var i=e[o];if("@"===i)return"";if(6===t)0!==r||!Vn(i)&&"."!==i?'"'===i?t=4:"("===i?r--:")"===i&&r++:(t=2,n=i+n);else if(2===t){if(!Vn(i)&&"."!==i)return n;n=i+n}else 4===t&&'"'===i&&(t=6)}return""}},{key:"getContactFields",value:function(e){var t={},n=/((parent|child\.)*contact\.)*fields\.([a-z0-9_]+)/g,r=this.findExpressions(e),o=!0,i=!1,a=void 0;try{for(var s,u=r[Symbol.iterator]();!(o=(s=u.next()).done);o=!0)for(var l=s.value,c=void 0;c=n.exec(l.text);)t[c[3]]=!0}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}return Object.keys(t)}},{key:"findExpressions",value:function(e){for(var t=[],n=0,r=null,o=0,i=0;i<e.length;i++){var a=e[i],s=i<e.length-1?e[i+1]:0,u=i<e.length-2?e[i+2]:0;if(0===n?a!==this.expressionPrefix||!Vn(s)&&"("!==s?a===this.expressionPrefix&&s===this.expressionPrefix&&(n=5):(n=1,r={start:i,end:null,text:a,closed:!1}):1===n?(Vn(a)?n=2:"("===a&&(n=3,o+=1),r.text+=a):2===n?r.text+=a:3===n?("("===a?o+=1:")"===a?o-=1:'"'===a&&(n=4),r.text+=a,0===o&&(r.end=i+1)):4===n?('"'===a&&(n=3),r.text+=a):5===n&&(n=0),2===n&&(!Vn(s)&&"."!==s||"."===s&&!Vn(u))&&(r.end=i+1),null!=r&&(null!=r.end||0===s)){var l=0===s;Mn(r.text,this.allowedTopLevels,l)&&(r.closed="("===r.text[1]&&0===o,r.end=i+1,t.push(r)),r=null,n=0}}return t}}])&&Un(t.prototype,n),r&&Un(t,r),e}(),Zn=function(e,t){return t?e.filter(function(e){return!!e.signature&&0===e.signature.indexOf(t)}):e},Xn=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(t||"").split("."),o=e.root_no_session,i="",a="";r.length>0;){if(a=r.shift())if("break"===function(){var t=o.find(function(e){return e.key===a});if(!t)return o=o.filter(function(e){return e.key.startsWith(a.toLowerCase())}),"break";var r=e.types.find(function(e){return e.name===t.type});if(r&&r.properties)o=r.properties,i+=a+".";else{if(!r||!r.property_template)return o=o.filter(function(e){return e.key.startsWith(a.toLowerCase())}),"break";i+=a+".";var s=r.property_template;o=n[r.name]?n[r.name].map(function(e){return{key:s.key.replace("{key}",e),help:s.help.replace("{key}",e),type:s.type}}):[]}}())break}return o.map(function(e){return{name:"__default__"===e.key?i.substr(0,i.length-1):i+e.key,summary:e.help}})},Kn=n(4),Jn=n.n(Kn),Qn=new WeakMap,Yn=o(function(e){return function(t){if(!(t instanceof B))throw new Error("unsafeHTML can only be used in text bindings");var n=Qn.get(t);if(void 0===n||!N(e)||e!==n.value||t.value!==n.fragment){var r=document.createElement("template");r.innerHTML=e;var o=document.importNode(r.content,!0);t.setValue(o),Qn.set(t,{value:e,fragment:o})}}});function Gn(){var e=ar([":host{display:block}.comp-container{position:relative;height:100%}#anchor{position:absolute;visibility:hidden;width:250px;height:20px}.fn-marker{font-weight:700;font-size:42px}.option-slot{background:#fff}.current-fn{padding:10px;margin:5px;background:var(--color-primary-light);color:rgba(0,0,0,.5);border-radius:var(--curvature);font-size:90%}.footer{padding:5px 10px;background:var(--color-primary-light);color:rgba(0,0,0,.5);font-size:80%}code{background:rgba(0,0,0,.1);padding:1px 5px;border-radius:var(--curvature)}"]);return Gn=function(){return e},e}function er(){var e=ar(['<div class="current-fn">',"</div>"]);return er=function(){return e},e}function tr(){var e=ar(['<div class="comp-container"><div id="anchor" style="','"></div><rp-textinput name="','" placeholder="','" @keyup="','" @click="','" @input="','" .value="','" ?textarea="','"></rp-textinput><rp-options @rp-selection="','" @rp-canceled="','" .anchorTo="','" .options="','" .renderOption="','" ?visible="','">','<div class="footer">Tab to complete, enter to select</div></rp-options></div>']);return tr=function(){return e},e}function nr(){var e=ar(['<div style="font-size: 85%">',"</div>"]);return nr=function(){return e},e}function rr(){var e=ar(['<div><div style="','">',"</div>","</div>"]);return rr=function(){return e},e}function or(){var e=ar(['<div style="display:inline-block; font-weight: 300; font-size: 85%">','</div><div class="detail">',"</div>"]);return or=function(){return e},e}function ir(){var e=ar(['<div style="','"><div style="display:inline-block;">ƒ</div><div style="display:inline-block">',"</div>","</div>"]);return ir=function(){return e},e}function ar(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function sr(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ur(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lr(e,t){return!t||"object"!==hr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cr(e,t,n){return(cr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=pr(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function pr(e){return(pr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fr(e,t){return(fr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hr(e){return(hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var dr,yr=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":hr(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},vr=n(28),gr=o(function(e){return function(t){t.setValue(Yn(vr(e)))}}),mr=dr=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=lr(this,pr(t).apply(this,arguments))).anchorPosition={left:0,top:0},e.placeholder="",e.options=[],e.name="",e.value="",e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fr(e,t)}(t,Rt),n=t,o=[{key:"styles",get:function(){return Re(Gn())}}],(r=[{key:"firstUpdated",value:function(e){var t=this;this.textInputElement=this.shadowRoot.querySelector("rp-textinput"),this.anchorElement=this.shadowRoot.querySelector("#anchor"),this.completionsEndpoint&&We(this.completionsEndpoint).then(function(e){t.schema=e.data}),this.functionsEndpoint&&We(this.functionsEndpoint).then(function(e){t.functions=e.data}),this.fieldsEndpoint&&He(this.fieldsEndpoint).then(function(e){t.keyedAssets={fields:e.map(function(e){return e.key})}}),this.hiddenElement=document.createElement("input"),this.hiddenElement.setAttribute("type","hidden"),this.hiddenElement.setAttribute("name",this.getAttribute("name")),this.hiddenElement.setAttribute("value",this.getAttribute("value")||""),this.appendChild(this.hiddenElement)}},{key:"handleKeyUp",value:function(e){if(this.options.length>0){if("ArrowUp"===e.key||"ArrowDown"===e.key)return;if(e.ctrlKey&&("n"===e.key||"p"===e.key))return;if("Enter"===e.key||"Escape"===e.key||"Tab"===e.key||e.key.startsWith("Control"))return;this.executeQuery(e.currentTarget)}}},{key:"handleClick",value:function(e){this.executeQuery(e.currentTarget)}},{key:"executeQuery",value:function(e){if(this.inputElement=e.inputElement,this.currentFunction=null,this.schema){var t=e.inputElement.selectionStart,n=e.inputElement.value.substring(0,t),r=dr.parser.findExpressions(n).find(function(e){return e.start<=t&&(e.end>t||e.end===t&&!e.closed)});if(r){var o=r.text.indexOf("(")>-1;if(o){var i=dr.parser.functionContext(r.text);if(i){var a=Zn(this.functions,i);a.length>0&&(this.currentFunction=a[0])}}for(var s=r.text.length;s>=0;s--){var u=r.text[s];if("@"===u||"("===u||" "===u||","===u||")"===u||0===s){"("!==u&&" "!==u&&","!==u&&")"!==u&&"@"!==u||s++;var l=Jn()(e.inputElement,r.start+s);return this.anchorPosition={left:l.left-2-this.inputElement.scrollLeft,top:l.top-this.inputElement.scrollTop},this.query=r.text.substr(s,r.text.length-s),void(this.options=[].concat(sr(Xn(this.schema,this.query,this.keyedAssets)),sr(o?Zn(this.functions,this.query):[])))}}}else this.options=[],this.query=""}}},{key:"updated",value:function(e){cr(pr(t.prototype),"updated",this).call(this,e),e.has("value")&&this.hiddenElement.setAttribute("value",this.value)}},{key:"handleInput",value:function(e){var t=e.currentTarget;this.executeQuery(t),this.value=t.inputElement.value}},{key:"handleOptionCanceled",value:function(e){this.options=[],this.query=""}},{key:"handleOptionSelection",value:function(e){var t=e.detail.selected,n=e.detail.tabbed,r="";if(r=t.signature?t.signature.substr(0,t.signature.indexOf("(")+1):t.name,this.inputElement){var o=this.inputElement.value,i=this.inputElement.selectionStart-this.query.length,a=o.substr(0,i),s=o.substr(i+this.query.length),u=a.length+r.length;this.inputElement.value=a+r+s,this.inputElement.setSelectionRange(u,u);var l=Jn()(this.inputElement,u);l.left>this.inputElement.width&&(this.inputElement.scrollLeft=l.left)}this.query="",this.options=[],n&&this.executeQuery(this.textInputElement)}},{key:"renderCompletionOption",value:function(e,t){if(e.signature){var n=e.signature.indexOf("("),r=e.signature.substr(0,n),o=e.signature.substr(n);return Q(ir(),t?"font-weight: 400":"",r,t?Q(or(),o,gr(e.summary)):null)}return Q(rr(),t?"font-weight: 400":"",e.name,t?Q(nr(),e.summary):null)}},{key:"render",value:function(){var e={top:"".concat(this.anchorPosition.top,"px"),left:"".concat(this.anchorPosition.left,"px")};return Q(tr(),Tt(e),this.name,this.placeholder,this.handleKeyUp,this.handleClick,this.handleInput,this.value,this.textarea,this.handleOptionSelection,this.handleOptionCanceled,this.anchorElement,this.options,this.renderCompletionOption,this.options.length>0,this.currentFunction?Q(er(),this.renderCompletionOption(this.currentFunction,!0)):null)}}])&&ur(n.prototype,r),o&&ur(n,o),t}();mr.parser=new Wn("@",["contact","fields","urns"]),yr([Oe({type:Object})],mr.prototype,"anchorPosition",void 0),yr([Oe({attribute:!1})],mr.prototype,"currentFunction",void 0),yr([Oe({type:String})],mr.prototype,"placeholder",void 0),yr([Oe({attribute:!1})],mr.prototype,"textInputElement",void 0),yr([Oe({attribute:!1})],mr.prototype,"anchorElement",void 0),yr([Oe({type:Array})],mr.prototype,"options",void 0),yr([Oe({type:String})],mr.prototype,"name",void 0),yr([Oe({type:String})],mr.prototype,"value",void 0),yr([Oe({type:String})],mr.prototype,"completionsEndpoint",void 0),yr([Oe({type:String})],mr.prototype,"functionsEndpoint",void 0),yr([Oe({type:String})],mr.prototype,"fieldsEndpoint",void 0),yr([Oe({type:Boolean})],mr.prototype,"textarea",void 0);mr=dr=yr([ke("rp-completion")],mr)}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL3V0aWxzLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvZGVmYXVsdHMuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9hdXRvc2l6ZS9kaXN0L2F1dG9zaXplLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvdGV4dGFyZWEtY2FyZXQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9iaW5kLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2FkYXB0ZXJzL3hoci5qcyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2NyZWF0ZUVycm9yLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NhbmNlbC9pc0NhbmNlbC5qcyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvQ2FuY2VsLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2F4aW9zLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvaXMtYnVmZmVyL2luZGV4LmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvQXhpb3MuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9ub3JtYWxpemVIZWFkZXJOYW1lLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvc2V0dGxlLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvZW5oYW5jZUVycm9yLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvYnVpbGRVUkwuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9wYXJzZUhlYWRlcnMuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9pc1VSTFNhbWVPcmlnaW4uanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9idG9hLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvY29va2llcy5qcyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL0ludGVyY2VwdG9yTWFuYWdlci5qcyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2Rpc3BhdGNoUmVxdWVzdC5qcyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL3RyYW5zZm9ybURhdGEuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9pc0Fic29sdXRlVVJMLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvY29tYmluZVVSTHMuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY2FuY2VsL0NhbmNlbFRva2VuLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvc3ByZWFkLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvbWFya2VkL2xpYi9tYXJrZWQuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uLi9zcmMvbGliL2RpcmVjdGl2ZS50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4uL3NyYy9saWIvZG9tLnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi4vc3JjL2xpYi9wYXJ0LnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi4vc3JjL2xpYi90ZW1wbGF0ZS50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4uL3NyYy9saWIvdGVtcGxhdGUtaW5zdGFuY2UudHMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uLi9zcmMvbGliL3RlbXBsYXRlLXJlc3VsdC50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4uL3NyYy9saWIvcGFydHMudHMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uLi9zcmMvbGliL2RlZmF1bHQtdGVtcGxhdGUtcHJvY2Vzc29yLnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi4vc3JjL2xpYi90ZW1wbGF0ZS1mYWN0b3J5LnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi4vc3JjL2xpYi9yZW5kZXIudHMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy9zcmMvbGl0LWh0bWwudHMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uLi9zcmMvbGliL21vZGlmeS10ZW1wbGF0ZS50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4uL3NyYy9saWIvc2hhZHktcmVuZGVyLnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi4vc3JjL2xpYi91cGRhdGluZy1lbGVtZW50LnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi4vc3JjL2xpYi9kZWNvcmF0b3JzLnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi4vc3JjL2xpYi9jc3MtdGFnLnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvc3JjL2xpdC1lbGVtZW50LnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9zcmMvdXRpbHMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL3NyYy9hbGlhc2VkaXRvci9BbGlhc0VkaXRvci50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vc3JjL2J1dHRvbi9CdXR0b24udHMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL3NyYy9pbnRlcmZhY2VzLnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9zcmMvUmFwaWRFbGVtZW50LnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi4vc3JjL2RpcmVjdGl2ZXMvc3R5bGUtbWFwLnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9zcmMvZGlhbG9nL0RpYWxvZy50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vc3JjL3RleHRpbnB1dC9UZXh0SW5wdXQudHMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL3NyYy9sYWJlbC9MYWJlbC50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vc3JjL29wdGlvbnMvT3B0aW9ucy50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vc3JjL3NlbGVjdC9TZWxlY3QudHMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL3NyYy9jb21wbGV0aW9uL0V4Y2VsbGVudFBhcnNlci50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vc3JjL2NvbXBsZXRpb24vaGVscGVycy50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4uL3NyYy9kaXJlY3RpdmVzL3Vuc2FmZS1odG1sLnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9zcmMvY29tcGxldGlvbi9Db21wbGV0aW9uLnRzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsIndpbmRvdyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJyZXF1aXJlIiwiaXNCdWZmZXIiLCJ0b1N0cmluZyIsImlzQXJyYXkiLCJ2YWwiLCJpc09iamVjdCIsIl90eXBlb2YiLCJpc0Z1bmN0aW9uIiwiZm9yRWFjaCIsIm9iaiIsImZuIiwibGVuZ3RoIiwiaXNBcnJheUJ1ZmZlciIsImlzRm9ybURhdGEiLCJGb3JtRGF0YSIsImlzQXJyYXlCdWZmZXJWaWV3IiwiQXJyYXlCdWZmZXIiLCJpc1ZpZXciLCJidWZmZXIiLCJpc1N0cmluZyIsImlzTnVtYmVyIiwiaXNVbmRlZmluZWQiLCJpc0RhdGUiLCJpc0ZpbGUiLCJpc0Jsb2IiLCJpc1N0cmVhbSIsInBpcGUiLCJpc1VSTFNlYXJjaFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsImlzU3RhbmRhcmRCcm93c2VyRW52IiwibmF2aWdhdG9yIiwicHJvZHVjdCIsImRvY3VtZW50IiwibWVyZ2UiLCJyZXN1bHQiLCJhc3NpZ25WYWx1ZSIsImFyZ3VtZW50cyIsImV4dGVuZCIsImEiLCJiIiwidGhpc0FyZyIsInRyaW0iLCJzdHIiLCJyZXBsYWNlIiwidXRpbHMiLCJub3JtYWxpemVIZWFkZXJOYW1lIiwiREVGQVVMVF9DT05URU5UX1RZUEUiLCJDb250ZW50LVR5cGUiLCJzZXRDb250ZW50VHlwZUlmVW5zZXQiLCJoZWFkZXJzIiwiYWRhcHRlciIsImRlZmF1bHRzIiwiWE1MSHR0cFJlcXVlc3QiLCJwcm9jZXNzIiwidHJhbnNmb3JtUmVxdWVzdCIsImRhdGEiLCJKU09OIiwic3RyaW5naWZ5IiwidHJhbnNmb3JtUmVzcG9uc2UiLCJwYXJzZSIsImUiLCJ0aW1lb3V0IiwieHNyZkNvb2tpZU5hbWUiLCJ4c3JmSGVhZGVyTmFtZSIsIm1heENvbnRlbnRMZW5ndGgiLCJ2YWxpZGF0ZVN0YXR1cyIsInN0YXR1cyIsImNvbW1vbiIsIkFjY2VwdCIsIm1ldGhvZCIsIl9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyIsIl9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18iLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyIsInVuZGVmaW5lZCIsImtleXMiLCJ2YWx1ZXMiLCJtYXAiLCJNYXAiLCJoYXMiLCJpbmRleE9mIiwic2V0IiwicHVzaCIsImRlbGV0ZSIsImluZGV4Iiwic3BsaWNlIiwiY3JlYXRlRXZlbnQiLCJFdmVudCIsImJ1YmJsZXMiLCJldnQiLCJpbml0RXZlbnQiLCJhc3NpZ24iLCJ0YSIsIm5vZGVOYW1lIiwiaGVpZ2h0T2Zmc2V0IiwiY2xpZW50V2lkdGgiLCJjYWNoZWRIZWlnaHQiLCJwYWdlUmVzaXplIiwidXBkYXRlIiwiZGVzdHJveSIsInN0eWxlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImhlaWdodCIsInJlc2l6ZSIsIm92ZXJmbG93WSIsIm92ZXJmbG93WCIsIndvcmRXcmFwIiwiYWRkRXZlbnRMaXN0ZW5lciIsImdldENvbXB1dGVkU3R5bGUiLCJib3hTaXppbmciLCJwYXJzZUZsb2F0IiwicGFkZGluZ1RvcCIsInBhZGRpbmdCb3R0b20iLCJib3JkZXJUb3BXaWR0aCIsImJvcmRlckJvdHRvbVdpZHRoIiwiaXNOYU4iLCJjaGFuZ2VPdmVyZmxvdyIsIndpZHRoIiwib2Zmc2V0V2lkdGgiLCJzY3JvbGxIZWlnaHQiLCJvdmVyZmxvd3MiLCJlbCIsImFyciIsInBhcmVudE5vZGUiLCJFbGVtZW50Iiwic2Nyb2xsVG9wIiwibm9kZSIsImdldFBhcmVudE92ZXJmbG93cyIsImRvY1RvcCIsImRvY3VtZW50RWxlbWVudCIsInN0eWxlSGVpZ2h0IiwiTWF0aCIsInJvdW5kIiwiY29tcHV0ZWQiLCJhY3R1YWxIZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJkaXNwYXRjaEV2ZW50IiwiZXJyIiwibWV0aG9kcyIsImF1dG9zaXplIiwib3B0aW9ucyIsIkFycmF5IiwieCIsImRlZmF1bHQiLCJhcHBseSIsInByb3BlcnRpZXMiLCJpc0Jyb3dzZXIiLCJpc0ZpcmVmb3giLCJtb3pJbm5lclNjcmVlblgiLCJnZXRDYXJldENvb3JkaW5hdGVzIiwiZWxlbWVudCIsInBvc2l0aW9uIiwiRXJyb3IiLCJkZWJ1ZyIsInF1ZXJ5U2VsZWN0b3IiLCJyZW1vdmVDaGlsZCIsImRpdiIsImNyZWF0ZUVsZW1lbnQiLCJpZCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImN1cnJlbnRTdHlsZSIsImlzSW5wdXQiLCJ3aGl0ZVNwYWNlIiwidmlzaWJpbGl0eSIsInByb3AiLCJsaW5lSGVpZ2h0IiwicGFyc2VJbnQiLCJvdmVyZmxvdyIsInRleHRDb250ZW50Iiwic3Vic3RyaW5nIiwic3BhbiIsImNvb3JkaW5hdGVzIiwidG9wIiwib2Zmc2V0VG9wIiwibGVmdCIsIm9mZnNldExlZnQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJhcmdzIiwic2V0dGxlIiwiYnVpbGRVUkwiLCJwYXJzZUhlYWRlcnMiLCJpc1VSTFNhbWVPcmlnaW4iLCJjcmVhdGVFcnJvciIsImJ0b2EiLCJjb25maWciLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlcXVlc3REYXRhIiwicmVxdWVzdEhlYWRlcnMiLCJyZXF1ZXN0IiwibG9hZEV2ZW50IiwieERvbWFpbiIsIlhEb21haW5SZXF1ZXN0IiwidXJsIiwib25wcm9ncmVzcyIsIm9udGltZW91dCIsImF1dGgiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiQXV0aG9yaXphdGlvbiIsIm9wZW4iLCJ0b1VwcGVyQ2FzZSIsInBhcmFtcyIsInBhcmFtc1NlcmlhbGl6ZXIiLCJyZWFkeVN0YXRlIiwicmVzcG9uc2VVUkwiLCJyZXNwb25zZUhlYWRlcnMiLCJnZXRBbGxSZXNwb25zZUhlYWRlcnMiLCJyZXNwb25zZSIsInJlc3BvbnNlVHlwZSIsInJlc3BvbnNlVGV4dCIsInN0YXR1c1RleHQiLCJvbmVycm9yIiwiY29va2llcyIsInhzcmZWYWx1ZSIsIndpdGhDcmVkZW50aWFscyIsInJlYWQiLCJ0b0xvd2VyQ2FzZSIsInNldFJlcXVlc3RIZWFkZXIiLCJvbkRvd25sb2FkUHJvZ3Jlc3MiLCJvblVwbG9hZFByb2dyZXNzIiwidXBsb2FkIiwiY2FuY2VsVG9rZW4iLCJwcm9taXNlIiwidGhlbiIsImNhbmNlbCIsImFib3J0Iiwic2VuZCIsImVuaGFuY2VFcnJvciIsIm1lc3NhZ2UiLCJjb2RlIiwiZXJyb3IiLCJfX0NBTkNFTF9fIiwiQ2FuY2VsIiwidGhpcyIsIkF4aW9zIiwiY3JlYXRlSW5zdGFuY2UiLCJkZWZhdWx0Q29uZmlnIiwiY29udGV4dCIsImluc3RhbmNlIiwiYXhpb3MiLCJpbnN0YW5jZUNvbmZpZyIsIkNhbmNlbFRva2VuIiwiaXNDYW5jZWwiLCJhbGwiLCJwcm9taXNlcyIsInNwcmVhZCIsImNvbnN0cnVjdG9yIiwicmVhZEZsb2F0TEUiLCJzbGljZSIsImlzU2xvd0J1ZmZlciIsIl9pc0J1ZmZlciIsIkludGVyY2VwdG9yTWFuYWdlciIsImRpc3BhdGNoUmVxdWVzdCIsImludGVyY2VwdG9ycyIsImNoYWluIiwiaW50ZXJjZXB0b3IiLCJ1bnNoaWZ0IiwiZnVsZmlsbGVkIiwicmVqZWN0ZWQiLCJzaGlmdCIsIm5vcm1hbGl6ZWROYW1lIiwiZW5jb2RlIiwiZW5jb2RlVVJJQ29tcG9uZW50Iiwic2VyaWFsaXplZFBhcmFtcyIsInBhcnRzIiwidiIsInRvSVNPU3RyaW5nIiwiam9pbiIsImlnbm9yZUR1cGxpY2F0ZU9mIiwicGFyc2VkIiwic3BsaXQiLCJsaW5lIiwic3Vic3RyIiwiY29uY2F0Iiwib3JpZ2luVVJMIiwibXNpZSIsInRlc3QiLCJ1c2VyQWdlbnQiLCJ1cmxQYXJzaW5nTm9kZSIsInJlc29sdmVVUkwiLCJocmVmIiwic2V0QXR0cmlidXRlIiwicHJvdG9jb2wiLCJob3N0Iiwic2VhcmNoIiwiaGFzaCIsImhvc3RuYW1lIiwicG9ydCIsInBhdGhuYW1lIiwiY2hhckF0IiwibG9jYXRpb24iLCJyZXF1ZXN0VVJMIiwiY2hhcnMiLCJFIiwiaW5wdXQiLCJibG9jayIsImNoYXJDb2RlIiwiU3RyaW5nIiwib3V0cHV0IiwiaWR4IiwiY2hhckNvZGVBdCIsIndyaXRlIiwiZXhwaXJlcyIsInBhdGgiLCJkb21haW4iLCJzZWN1cmUiLCJjb29raWUiLCJEYXRlIiwidG9HTVRTdHJpbmciLCJtYXRjaCIsIlJlZ0V4cCIsImRlY29kZVVSSUNvbXBvbmVudCIsInJlbW92ZSIsIm5vdyIsImhhbmRsZXJzIiwidXNlIiwiZWplY3QiLCJoIiwidHJhbnNmb3JtRGF0YSIsImlzQWJzb2x1dGVVUkwiLCJjb21iaW5lVVJMcyIsInRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQiLCJ0aHJvd0lmUmVxdWVzdGVkIiwiYmFzZVVSTCIsInJlYXNvbiIsImZucyIsInJlbGF0aXZlVVJMIiwiZXhlY3V0b3IiLCJUeXBlRXJyb3IiLCJyZXNvbHZlUHJvbWlzZSIsInRva2VuIiwic291cmNlIiwiY2FsbGJhY2siLCJuZXdsaW5lIiwiZmVuY2VzIiwiaHIiLCJoZWFkaW5nIiwiYmxvY2txdW90ZSIsImxpc3QiLCJodG1sIiwiZGVmIiwibnB0YWJsZSIsIm5vb3AiLCJ0YWJsZSIsImxoZWFkaW5nIiwiX3BhcmFncmFwaCIsInRleHQiLCJMZXhlciIsInRva2VucyIsImxpbmtzIiwibWFya2VkIiwicnVsZXMiLCJub3JtYWwiLCJwZWRhbnRpYyIsImdmbSIsIl9sYWJlbCIsIl90aXRsZSIsImVkaXQiLCJnZXRSZWdleCIsImJ1bGxldCIsIml0ZW0iLCJfdGFnIiwiX2NvbW1lbnQiLCJwYXJhZ3JhcGgiLCJsZXgiLCJzcmMiLCJuZXh0IiwibG9vc2UiLCJjYXAiLCJidWxsIiwibGlzdFN0YXJ0IiwibGlzdEl0ZW1zIiwic3BhY2UiLCJ0YWciLCJpc29yZGVyZWQiLCJpc3Rhc2siLCJpc2NoZWNrZWQiLCJleGVjIiwidHlwZSIsImxhc3RUb2tlbiIsInRyaW1SaWdodCIsImNvZGVCbG9ja1N0eWxlIiwicnRyaW0iLCJsYW5nIiwiZGVwdGgiLCJoZWFkZXIiLCJzcGxpdENlbGxzIiwiYWxpZ24iLCJjZWxscyIsIm9yZGVyZWQiLCJzdGFydCIsInNtYXJ0TGlzdHMiLCJ0YXNrIiwiY2hlY2tlZCIsInNhbml0aXplIiwicHJlIiwic2FuaXRpemVyIiwiZXNjYXBlIiwidGl0bGUiLCJpbmxpbmUiLCJhdXRvbGluayIsImxpbmsiLCJyZWZsaW5rIiwibm9saW5rIiwic3Ryb25nIiwiZW0iLCJiciIsImRlbCIsIklubGluZUxleGVyIiwicmVuZGVyZXIiLCJSZW5kZXJlciIsImJyZWFrcyIsIlRleHRSZW5kZXJlciIsIlBhcnNlciIsInNsdWdnZXIiLCJTbHVnZ2VyIiwic2VlbiIsImVzY2FwZVRlc3QiLCJlc2NhcGVSZXBsYWNlIiwiY2giLCJyZXBsYWNlbWVudHMiLCJlc2NhcGVUZXN0Tm9FbmNvZGUiLCJlc2NhcGVSZXBsYWNlTm9FbmNvZGUiLCJ1bmVzY2FwZSIsIl8iLCJmcm9tQ2hhckNvZGUiLCJyZWdleCIsIm9wdCIsImNsZWFuVXJsIiwiYmFzZSIsInByb3QiLCJvcmlnaW5JbmRlcGVuZGVudFVybCIsImJhc2VVcmxzIiwicmVzb2x2ZVVybCIsImVuY29kZVVSSSIsIl9wdW5jdHVhdGlvbiIsIl9lc2NhcGVzIiwiX3NjaGVtZSIsIl9lbWFpbCIsIl9hdHRyaWJ1dGUiLCJfaHJlZiIsIl9leHRlbmRlZF9lbWFpbCIsIl9iYWNrcGVkYWwiLCJwcmV2Q2FwWmVybyIsIm91dCIsImluTGluayIsImluUmF3QmxvY2siLCJsYXN0UGFyZW5JbmRleCIsImZpbmRDbG9zaW5nQnJhY2tldCIsImxpbmtMZW4iLCJvdXRwdXRMaW5rIiwiZXNjYXBlcyIsImNvZGVzcGFuIiwibWFuZ2xlIiwic21hcnR5cGFudHMiLCJpbWFnZSIsInJhbmRvbSIsImluZm9zdHJpbmciLCJlc2NhcGVkIiwiaGlnaGxpZ2h0IiwibGFuZ1ByZWZpeCIsInF1b3RlIiwibGV2ZWwiLCJyYXciLCJoZWFkZXJJZHMiLCJoZWFkZXJQcmVmaXgiLCJzbHVnIiwieGh0bWwiLCJsaXN0aXRlbSIsImNoZWNrYm94IiwidGFibGVyb3ciLCJjb250ZW50IiwidGFibGVjZWxsIiwiZmxhZ3MiLCJiYXNlVXJsIiwiaW5saW5lVGV4dCIsInJldmVyc2UiLCJ0b2siLCJwb3AiLCJwZWVrIiwicGFyc2VUZXh0Iiwicm93IiwiY2VsbCIsImoiLCJlcnJNc2ciLCJzaWxlbnQiLCJjb25zb2xlIiwibG9nIiwib3JpZ2luYWxTbHVnIiwiJiIsIjwiLCI+IiwiXCIiLCInIiwidGFyZ2V0IiwidGFibGVSb3ciLCJjb3VudCIsIm9mZnNldCIsImN1cnIiLCJpbnZlcnQiLCJzdWZmTGVuIiwiY3VyckNoYXIiLCJjaGVja1Nhbml0aXplRGVwcmVjYXRpb24iLCJ3YXJuIiwicGVuZGluZyIsImRvbmUiLCJzZXRPcHRpb25zIiwiZ2V0RGVmYXVsdHMiLCJwYXJzZXIiLCJsZXhlciIsImlubGluZUxleGVyIiwiZ2xvYmFsIiwiZGlyZWN0aXZlcyIsIldlYWtNYXAiLCJkaXJlY3RpdmVfZGlyZWN0aXZlIiwiZiIsImlzRGlyZWN0aXZlIiwiaXNDRVBvbHlmaWxsIiwiY3VzdG9tRWxlbWVudHMiLCJwb2x5ZmlsbFdyYXBGbHVzaENhbGxiYWNrIiwicmVtb3ZlTm9kZXMiLCJjb250YWluZXIiLCJlbmQiLCJuZXh0U2libGluZyIsIm5vQ2hhbmdlIiwibm90aGluZyIsIm1hcmtlciIsIm5vZGVNYXJrZXIiLCJtYXJrZXJSZWdleCIsIlRlbXBsYXRlIiwiX2NsYXNzQ2FsbENoZWNrIiwibm9kZXNUb1JlbW92ZSIsInN0YWNrIiwid2Fsa2VyIiwiY3JlYXRlVHJlZVdhbGtlciIsImxhc3RQYXJ0SW5kZXgiLCJwYXJ0SW5kZXgiLCJzdHJpbmdzIiwibmV4dE5vZGUiLCJub2RlVHlwZSIsImhhc0F0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwiX2xlbmd0aCIsImVuZHNXaXRoIiwic3RyaW5nRm9yUGFydCIsImxhc3RBdHRyaWJ1dGVOYW1lUmVnZXgiLCJhdHRyaWJ1dGVMb29rdXBOYW1lIiwiYXR0cmlidXRlVmFsdWUiLCJnZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzdGF0aWNzIiwidGFnTmFtZSIsImN1cnJlbnROb2RlIiwicGFyZW50IiwiX3N0cmluZ3MiLCJsYXN0SW5kZXgiLCJfaSIsImluc2VydCIsImNyZWF0ZU1hcmtlciIsImNyZWF0ZVRleHROb2RlIiwiaW5zZXJ0QmVmb3JlIiwiX3BhcmVudCIsInByZXZpb3VzU2libGluZyIsIl9pMiIsIl9pMyIsIl9ub2Rlc1RvUmVtb3ZlIiwic3VmZml4IiwiaXNUZW1wbGF0ZVBhcnRBY3RpdmUiLCJwYXJ0IiwiY3JlYXRlQ29tbWVudCIsInRlbXBsYXRlX2luc3RhbmNlX1RlbXBsYXRlSW5zdGFuY2UiLCJUZW1wbGF0ZUluc3RhbmNlIiwidGVtcGxhdGUiLCJwcm9jZXNzb3IiLCJ0ZW1wbGF0ZV9pbnN0YW5jZV9jbGFzc0NhbGxDaGVjayIsIl9fcGFydHMiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uIiwiX2RpZEl0ZXJhdG9yRXJyb3IiLCJfaXRlcmF0b3JFcnJvciIsIl9zdGVwIiwiX2l0ZXJhdG9yIiwiaXRlcmF0b3IiLCJzZXRWYWx1ZSIsInJldHVybiIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yIiwiX2RpZEl0ZXJhdG9yRXJyb3IyIiwiX2l0ZXJhdG9yRXJyb3IyIiwiX3N0ZXAyIiwiX2l0ZXJhdG9yMiIsIl9wYXJ0IiwiY29tbWl0IiwiZnJhZ21lbnQiLCJjbG9uZU5vZGUiLCJpbXBvcnROb2RlIiwibm9kZUluZGV4IiwiX3BhcnQyIiwiaGFuZGxlVGV4dEV4cHJlc3Npb24iLCJpbnNlcnRBZnRlck5vZGUiLCJfdGhpcyRfX3BhcnRzIiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiaGFuZGxlQXR0cmlidXRlRXhwcmVzc2lvbnMiLCJhZG9wdE5vZGUiLCJ1cGdyYWRlIiwidGVtcGxhdGVfcmVzdWx0X1RlbXBsYXRlUmVzdWx0IiwiVGVtcGxhdGVSZXN1bHQiLCJ0ZW1wbGF0ZV9yZXN1bHRfY2xhc3NDYWxsQ2hlY2siLCJ0ZW1wbGF0ZV9yZXN1bHRfY3JlYXRlQ2xhc3MiLCJpc0NvbW1lbnRCaW5kaW5nIiwiY29tbWVudE9wZW4iLCJsYXN0SW5kZXhPZiIsImF0dHJpYnV0ZU1hdGNoIiwiaW5uZXJIVE1MIiwiZ2V0SFRNTCIsImlzUHJpbWl0aXZlIiwicGFydHNfdHlwZW9mIiwiaXNJdGVyYWJsZSIsIkF0dHJpYnV0ZUNvbW1pdHRlciIsInBhcnRzX2NsYXNzQ2FsbENoZWNrIiwiZGlydHkiLCJfY3JlYXRlUGFydCIsInBhcnRzX2NyZWF0ZUNsYXNzIiwicGFydHNfQXR0cmlidXRlUGFydCIsIl9nZXRWYWx1ZSIsIkF0dHJpYnV0ZVBhcnQiLCJjb21taXR0ZXIiLCJkaXJlY3RpdmUiLCJwYXJ0c19Ob2RlUGFydCIsIk5vZGVQYXJ0IiwiX19wZW5kaW5nVmFsdWUiLCJzdGFydE5vZGUiLCJlbmROb2RlIiwicmVmIiwiX19pbnNlcnQiLCJfX2NvbW1pdFRleHQiLCJfX2NvbW1pdFRlbXBsYXRlUmVzdWx0IiwiTm9kZSIsIl9fY29tbWl0Tm9kZSIsIl9fY29tbWl0SXRlcmFibGUiLCJjbGVhciIsInRlbXBsYXRlRmFjdG9yeSIsIl9jbG9uZSIsIml0ZW1QYXJ0IiwiaXRlbVBhcnRzIiwiYXBwZW5kSW50b1BhcnQiLCJpbnNlcnRBZnRlclBhcnQiLCJwYXJ0c19Cb29sZWFuQXR0cmlidXRlUGFydCIsIkJvb2xlYW5BdHRyaWJ1dGVQYXJ0IiwiUHJvcGVydHlDb21taXR0ZXIiLCJfQXR0cmlidXRlQ29tbWl0dGVyIiwiX3RoaXMiLCJwYXJ0c19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwicGFydHNfZ2V0UHJvdG90eXBlT2YiLCJzaW5nbGUiLCJwYXJ0c19pbmhlcml0cyIsIlByb3BlcnR5UGFydCIsInBhcnRzX2dldCIsIl9BdHRyaWJ1dGVQYXJ0IiwiZXZlbnRPcHRpb25zU3VwcG9ydGVkIiwicGFydHNfb3B0aW9ucyIsImNhcHR1cmUiLCJfZSIsInBhcnRzX0V2ZW50UGFydCIsIkV2ZW50UGFydCIsImV2ZW50TmFtZSIsImV2ZW50Q29udGV4dCIsIl90aGlzMiIsIl9fYm91bmRIYW5kbGVFdmVudCIsImhhbmRsZUV2ZW50IiwibmV3TGlzdGVuZXIiLCJvbGRMaXN0ZW5lciIsInNob3VsZFJlbW92ZUxpc3RlbmVyIiwib25jZSIsInBhc3NpdmUiLCJzaG91bGRBZGRMaXN0ZW5lciIsIl9fb3B0aW9ucyIsImdldE9wdGlvbnMiLCJldmVudCIsImRlZmF1bHRUZW1wbGF0ZVByb2Nlc3NvciIsIkRlZmF1bHRUZW1wbGF0ZVByb2Nlc3NvciIsImRlZmF1bHRfdGVtcGxhdGVfcHJvY2Vzc29yX2NsYXNzQ2FsbENoZWNrIiwicHJlZml4IiwidGVtcGxhdGVDYWNoZSIsInRlbXBsYXRlQ2FjaGVzIiwic3RyaW5nc0FycmF5Iiwia2V5U3RyaW5nIiwiZ2V0VGVtcGxhdGVFbGVtZW50IiwicmVuZGVyX3BhcnRzIiwibGl0X2h0bWxfaHRtbCIsIl9sZW4iLCJfa2V5Iiwid2Fsa2VyTm9kZUZpbHRlciIsInJlbW92ZU5vZGVzRnJvbVRlbXBsYXRlIiwibW9kaWZ5X3RlbXBsYXRlX25leHRBY3RpdmVJbmRleEluVGVtcGxhdGVQYXJ0cyIsInJlbW92ZUNvdW50Iiwibm9kZXNUb1JlbW92ZUluVGVtcGxhdGUiLCJjdXJyZW50UmVtb3ZpbmdOb2RlIiwiY291bnROb2RlcyIsImdldFRlbXBsYXRlQ2FjaGVLZXkiLCJzY29wZU5hbWUiLCJjb21wYXRpYmxlU2hhZHlDU1NWZXJzaW9uIiwiU2hhZHlDU1MiLCJwcmVwYXJlVGVtcGxhdGVEb20iLCJzaGFkeV9yZW5kZXJfc2hhZHlUZW1wbGF0ZUZhY3RvcnkiLCJjYWNoZUtleSIsIlRFTVBMQVRFX1RZUEVTIiwic2hhZHlSZW5kZXJTZXQiLCJTZXQiLCJzaGFkeV9yZW5kZXJfcHJlcGFyZVRlbXBsYXRlU3R5bGVzIiwicmVuZGVyZWRET00iLCJhZGQiLCJzdHlsZXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY29uZGVuc2VkU3R5bGUiLCJfc3R5bGUiLCJ0ZW1wbGF0ZXMiLCJmcm9tIiwic2hhZHlfcmVuZGVyX3JlbW92ZVN0eWxlc0Zyb21MaXRUZW1wbGF0ZXMiLCJyZWZOb2RlIiwiaW5zZXJ0Q291bnQiLCJ3YWxrZXJJbmRleCIsImluc2VydE5vZGVJbnRvVGVtcGxhdGUiLCJmaXJzdENoaWxkIiwicHJlcGFyZVRlbXBsYXRlU3R5bGVzIiwibmF0aXZlU2hhZG93IiwicmVtb3ZlcyIsIkpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkiLCJfb2JqIiwiZGVmYXVsdENvbnZlcnRlciIsInRvQXR0cmlidXRlIiwiQm9vbGVhbiIsImZyb21BdHRyaWJ1dGUiLCJOdW1iZXIiLCJub3RFcXVhbCIsIm9sZCIsImRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uIiwiYXR0cmlidXRlIiwiY29udmVydGVyIiwicmVmbGVjdCIsImhhc0NoYW5nZWQiLCJtaWNyb3Rhc2tQcm9taXNlIiwiVXBkYXRpbmdFbGVtZW50IiwiX0hUTUxFbGVtZW50IiwidXBkYXRpbmdfZWxlbWVudF9jbGFzc0NhbGxDaGVjayIsInVwZGF0aW5nX2VsZW1lbnRfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsInVwZGF0aW5nX2VsZW1lbnRfZ2V0UHJvdG90eXBlT2YiLCJfdXBkYXRlU3RhdGUiLCJfaW5zdGFuY2VQcm9wZXJ0aWVzIiwiX3VwZGF0ZVByb21pc2UiLCJfaGFzQ29ubmVjdGVkUmVzb2x2ZXIiLCJfY2hhbmdlZFByb3BlcnRpZXMiLCJfcmVmbGVjdGluZ1Byb3BlcnRpZXMiLCJpbml0aWFsaXplIiwidXBkYXRpbmdfZWxlbWVudF9pbmhlcml0cyIsIl93cmFwTmF0aXZlU3VwZXIiLCJIVE1MRWxlbWVudCIsIl9zYXZlSW5zdGFuY2VQcm9wZXJ0aWVzIiwiX3JlcXVlc3RVcGRhdGUiLCJfY2xhc3NQcm9wZXJ0aWVzIiwiX3YiLCJfdGhpczMiLCJfYXR0cmlidXRlVG9Qcm9wZXJ0eSIsImN0b3IiLCJhdHRyIiwiX2F0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eSIsImF0dHJWYWx1ZSIsIl9wcm9wZXJ0eVZhbHVlVG9BdHRyaWJ1dGUiLCJwcm9wTmFtZSIsIl9hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwIiwiX3Byb3BlcnR5VmFsdWVGcm9tQXR0cmlidXRlIiwib2xkVmFsdWUiLCJzaG91bGRSZXF1ZXN0VXBkYXRlIiwiX3ZhbHVlSGFzQ2hhbmdlZCIsIl9oYXNSZXF1ZXN0ZWRVcGRhdGUiLCJfZW5xdWV1ZVVwZGF0ZSIsInVwZGF0ZUNvbXBsZXRlIiwiX2VucXVldWVVcGRhdGUyIiwicmVnZW5lcmF0b3JSdW50aW1lIiwibWFyayIsIl9jYWxsZWUiLCJwcmV2aW91c1VwZGF0ZVByb21pc2UiLCJfdGhpczQiLCJ3cmFwIiwiX2NvbnRleHQiLCJwcmV2IiwicmVzIiwicmVqIiwidDAiLCJfaGFzQ29ubmVjdGVkIiwicGVyZm9ybVVwZGF0ZSIsInQxIiwic3RvcCIsIl9hcHBseUluc3RhbmNlUHJvcGVydGllcyIsInNob3VsZFVwZGF0ZSIsImNoYW5nZWRQcm9wZXJ0aWVzIiwiX21hcmtVcGRhdGVkIiwiZmlyc3RVcGRhdGVkIiwidXBkYXRlZCIsIl90aGlzNSIsInNpemUiLCJrIiwiX3Byb3BlcnR5VG9BdHRyaWJ1dGUiLCJfdGhpczYiLCJzdXBlclByb3BlcnRpZXMiLCJnZXRQcm90b3R5cGVPZiIsIl9lbnN1cmVDbGFzc1Byb3BlcnRpZXMiLCJub0FjY2Vzc29yIiwidXBkYXRpbmdfZWxlbWVudF90eXBlb2YiLCJjb25maWd1cmFibGUiLCJmaW5hbGl6ZWQiLCJzdXBlckN0b3IiLCJmaW5hbGl6ZSIsInByb3BzIiwicHJvcEtleXMiLCJ1cGRhdGluZ19lbGVtZW50X3RvQ29uc3VtYWJsZUFycmF5IiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImNyZWF0ZVByb3BlcnR5IiwiX3RoaXM3IiwiY3VzdG9tRWxlbWVudCIsImNsYXNzT3JEZXNjcmlwdG9yIiwiY2xhenoiLCJsZWdhY3lDdXN0b21FbGVtZW50IiwiZGVzY3JpcHRvciIsImtpbmQiLCJlbGVtZW50cyIsImZpbmlzaGVyIiwic3RhbmRhcmRDdXN0b21FbGVtZW50Iiwic3RhbmRhcmRQcm9wZXJ0eSIsInBsYWNlbWVudCIsImluaXRpYWxpemVyIiwibGVnYWN5UHJvcGVydHkiLCJwcm90byIsInByb3RvT3JEZXNjcmlwdG9yIiwic3VwcG9ydHNBZG9wdGluZ1N0eWxlU2hlZXRzIiwiRG9jdW1lbnQiLCJDU1NTdHlsZVNoZWV0IiwiY29uc3RydWN0aW9uVG9rZW4iLCJDU1NSZXN1bHQiLCJjc3NUZXh0Iiwic2FmZVRva2VuIiwiY3NzX3RhZ19jbGFzc0NhbGxDaGVjayIsIl9zdHlsZVNoZWV0IiwicmVwbGFjZVN5bmMiLCJjc3MiLCJyZWR1Y2UiLCJhY2MiLCJ0ZXh0RnJvbUNTU1Jlc3VsdCIsImZsYXR0ZW5TdHlsZXMiLCJmbGF0IiwiSW5maW5pdHkiLCJhcnJheUZsYXQiLCJsaXRfZWxlbWVudF9MaXRFbGVtZW50IiwiX1VwZGF0aW5nRWxlbWVudCIsIkxpdEVsZW1lbnQiLCJsaXRfZWxlbWVudF9jbGFzc0NhbGxDaGVjayIsImxpdF9lbGVtZW50X3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJsaXRfZWxlbWVudF9nZXRQcm90b3R5cGVPZiIsImxpdF9lbGVtZW50X2luaGVyaXRzIiwibGl0X2VsZW1lbnRfZ2V0IiwiX3N0eWxlcyIsIl9nZXRVbmlxdWVTdHlsZXMiLCJ1c2VyU3R5bGVzIiwicmVkdWNlUmlnaHQiLCJyZW5kZXJSb290IiwiY3JlYXRlUmVuZGVyUm9vdCIsIlNoYWRvd1Jvb3QiLCJhZG9wdFN0eWxlcyIsImF0dGFjaFNoYWRvdyIsImFkb3B0ZWRTdHlsZVNoZWV0cyIsInN0eWxlU2hlZXQiLCJfbmVlZHNTaGltQWRvcHRlZFN0eWxlU2hlZXRzIiwiU2NvcGluZ1NoaW0iLCJwcmVwYXJlQWRvcHRlZENzc1RleHQiLCJsb2NhbE5hbWUiLCJoYXNVcGRhdGVkIiwic3R5bGVFbGVtZW50IiwidGVtcGxhdGVSZXN1bHQiLCJyZW5kZXIiLCJoYXNSZW5kZXJlZCIsIm5lZWRzU2NvcGluZyIsImZpcnN0U2NvcGVSZW5kZXIiLCJyZW5kZXJDb250YWluZXIiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiYXBwZW5kSW50byIsInJlbmRlcl9yZW5kZXIiLCJnZXRDb29raWUiLCJnZXRDbGFzc2VzIiwiY2xhc3NOYW1lcyIsImNsYXNzTmFtZSIsImdldEFzc2V0UGFnZSIsInV0aWxzX2dldFVybCIsImFzc2V0cyIsInJlc3VsdHMiLCJjYXRjaCIsImdldEFzc2V0cyIsIl9yZWYiLCJwYWdlVXJsIiwiYXNzZXRQYWdlIiwiYWJydXB0Iiwic2VudCIsIl94IiwiY3NyZiIsIlgtQ1NSRlRva2VuIiwiYXhpb3NfZGVmYXVsdCIsIkFsaWFzRWRpdG9yX0FsaWFzRWRpdG9yIiwiX0xpdEVsZW1lbnQiLCJBbGlhc0VkaXRvciIsIkFsaWFzRWRpdG9yX2NsYXNzQ2FsbENoZWNrIiwiQWxpYXNFZGl0b3JfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIkFsaWFzRWRpdG9yX2dldFByb3RvdHlwZU9mIiwiQWxpYXNFZGl0b3JfaW5oZXJpdHMiLCJfdGVtcGxhdGVPYmplY3QxMCIsIm5ld1BhdGgiLCJmZWF0dXJlIiwib3NtX2lkIiwib3NtSWQiLCJoaWRlQWxpYXNEaWFsb2ciLCJmZXRjaEZlYXR1cmUiLCJnZXRFbmRwb2ludCIsInNldFRpbWVvdXQiLCJhdXRvc2l6ZV9kZWZhdWx0Iiwic2hhZG93Um9vdCIsImhvdmVyZWQiLCJzZWxlY3Rpb24iLCJkZXRhaWwiLCJzZWxlY3RlZCIsInNob3dBbGlhc0RpYWxvZyIsInJlbWFpbmluZ1BhdGgiLCJzZWxlY3RlZEZlYXR1cmUiLCJjbGlja2FibGUiLCJoYXNfY2hpbGRyZW4iLCJyZW5kZXJlZEZlYXR1cmUiLCJBbGlhc0VkaXRvcl90ZW1wbGF0ZU9iamVjdCIsImhhbmRsZVBsYWNlQ2xpY2tlZCIsImFsaWFzZXMiLCJhbGlhcyIsIl90ZW1wbGF0ZU9iamVjdDIiLCJfdGVtcGxhdGVPYmplY3QzIiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJyZW5kZXJlZENoaWxkcmVuIiwiY2hpbGRyZW4iLCJjaGlsZCIsInJlbmRlckZlYXR1cmUiLCJfdGVtcGxhdGVPYmplY3Q0IiwiZWRpdEZlYXR1cmUiLCJhbGlhc0RpYWxvZyIsImdldEVsZW1lbnRCeUlkIiwiZmlyZVRleHRhcmVhQXV0b3NpemUiLCJyZXF1ZXN0VXBkYXRlIiwiZW5kcG9pbnQiLCJidXR0b24iLCJzZXRQcm9ncmVzcyIsImlucHV0RWxlbWVudCIsInBheWxvYWQiLCJwb3N0IiwidXRpbHNfcG9zdFVybCIsIm9wdGlvbiIsIl90ZW1wbGF0ZU9iamVjdDUiLCJfdGVtcGxhdGVPYmplY3Q2IiwiX3RlbXBsYXRlT2JqZWN0NyIsIl90ZW1wbGF0ZU9iamVjdDgiLCJtYXBGZWF0dXJlIiwiZWRpdEZlYXR1cmVJZCIsImVkaXRGZWF0dXJlTmFtZSIsImVkaXRGZWF0dXJlQWxpYXNlcyIsIl90ZW1wbGF0ZU9iamVjdDkiLCJyZW5kZXJPcHRpb25EZXRhaWwiLCJoYW5kbGVTZWFyY2hTZWxlY3Rpb24iLCJoYW5kbGVNYXBDbGlja2VkIiwiaGFuZGxlRGlhbG9nQ2xpY2siLCJfX2RlY29yYXRlIiwiQnV0dG9uX0J1dHRvbiIsIkJ1dHRvbiIsIkJ1dHRvbl9jbGFzc0NhbGxDaGVjayIsIkJ1dHRvbl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiQnV0dG9uX2dldFByb3RvdHlwZU9mIiwiQnV0dG9uX2luaGVyaXRzIiwiQnV0dG9uX3RlbXBsYXRlT2JqZWN0MiIsInByb2dyZXNzIiwiaXNQcm9ncmVzcyIsImNsaWNrIiwiQnV0dG9uX3RlbXBsYXRlT2JqZWN0IiwicHJpbWFyeSIsInNlY29uZGFyeSIsImhhbmRsZUtleVVwIiwiaW5Qcm9nZXNzTmFtZSIsIkJ1dHRvbl9kZWNvcmF0ZSIsIkN1c3RvbUV2ZW50VHlwZSIsIlJhcGlkRWxlbWVudCIsIlJhcGlkRWxlbWVudF9nZXQiLCJSYXBpZEVsZW1lbnRfZ2V0UHJvdG90eXBlT2YiLCJnZXRFdmVudEhhbmRsZXJzIiwiaGFuZGxlciIsImNvbXBvc2VkIiwiQ3VzdG9tRXZlbnQiLCJzdHlsZU1hcENhY2hlIiwic3R5bGVNYXAiLCJzdHlsZUluZm8iLCJvbGRJbmZvIiwicmVtb3ZlUHJvcGVydHkiLCJfbmFtZSIsInNldFByb3BlcnR5IiwiRGlhbG9nX0RpYWxvZyIsIl9SYXBpZEVsZW1lbnQiLCJEaWFsb2ciLCJEaWFsb2dfY2xhc3NDYWxsQ2hlY2siLCJEaWFsb2dfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIkRpYWxvZ19nZXRQcm90b3R5cGVPZiIsInByaW1hcnlCdXR0b25OYW1lIiwiY2FuY2VsQnV0dG9uTmFtZSIsImluUHJvZ3Jlc3NOYW1lIiwiRGlhbG9nX2luaGVyaXRzIiwiRGlhbG9nX3RlbXBsYXRlT2JqZWN0MyIsImlucHV0cyIsImZvY3VzIiwiY3VycmVudFRhcmdldCIsImZpcmVDdXN0b21FdmVudCIsIkJ1dHRvbkNsaWNrZWQiLCJtYXgiLCJjbGllbnRIZWlnaHQiLCJnZXREb2N1bWVudEhlaWdodCIsIm1hc2tTdHlsZSIsIkRpYWxvZ190ZW1wbGF0ZU9iamVjdCIsIkRpYWxvZ190ZW1wbGF0ZU9iamVjdDIiLCJoYW5kbGVDbGljayIsIkRpYWxvZ19kZWNvcmF0ZSIsIlRleHRJbnB1dF9UZXh0SW5wdXQiLCJUZXh0SW5wdXQiLCJUZXh0SW5wdXRfY2xhc3NDYWxsQ2hlY2siLCJwbGFjZWhvbGRlciIsIlRleHRJbnB1dF9pbmhlcml0cyIsIlRleHRJbnB1dF90ZW1wbGF0ZU9iamVjdDQiLCJjaGFuZ2VzIiwiVGV4dElucHV0X2dldCIsIlRleHRJbnB1dF9nZXRQcm90b3R5cGVPZiIsImNvbnRhaW5lclN0eWxlIiwidGV4dGFyZWEiLCJUZXh0SW5wdXRfdGVtcGxhdGVPYmplY3QiLCJUZXh0SW5wdXRfdGVtcGxhdGVPYmplY3QyIiwiVGV4dElucHV0X3RlbXBsYXRlT2JqZWN0MyIsIlRleHRJbnB1dF9kZWNvcmF0ZSIsIkxhYmVsX0xhYmVsIiwiTGFiZWwiLCJMYWJlbF9jbGFzc0NhbGxDaGVjayIsIkxhYmVsX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJMYWJlbF9nZXRQcm90b3R5cGVPZiIsIkxhYmVsX2luaGVyaXRzIiwiTGFiZWxfdGVtcGxhdGVPYmplY3QyIiwibGFiZWxTdHlsZSIsInRleHRDb2xvciIsImJhY2tncm91bmQiLCJjb2xvciIsIkxhYmVsX3RlbXBsYXRlT2JqZWN0IiwibGlnaHQiLCJkYXJrIiwiTGFiZWxfZGVjb3JhdGUiLCJPcHRpb25zX09wdGlvbnMiLCJPcHRpb25zIiwiT3B0aW9uc19jbGFzc0NhbGxDaGVjayIsImN1cnNvckluZGV4IiwiT3B0aW9uc19pbmhlcml0cyIsIk9wdGlvbnNfdGVtcGxhdGVPYmplY3Q3IiwiT3B0aW9uc19nZXQiLCJPcHRpb25zX2dldFByb3RvdHlwZU9mIiwiZm9jdXNlZEVsZSIsInNjcm9sbEJveCIsInNjcm9sbEJveEhlaWdodCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImZvY3VzZWRFbGVIZWlnaHQiLCJzY3JvbGxUbyIsIl9zY3JvbGxUbyIsImNhbGN1bGF0ZVBvc2l0aW9uIiwicmVuZGVyT3B0aW9uTmFtZSIsInJlbmRlck9wdGlvbk5hbWVEZWZhdWx0IiwicmVuZGVyT3B0aW9uRGV0YWlsRGVmYXVsdCIsIk9wdGlvbnNfdGVtcGxhdGVPYmplY3QiLCJPcHRpb25zX3RlbXBsYXRlT2JqZWN0MiIsIk9wdGlvbnNfdGVtcGxhdGVPYmplY3QzIiwiT3B0aW9uc190ZW1wbGF0ZU9iamVjdDQiLCJ0YWJiZWQiLCJTZWxlY3Rpb24iLCJkaXJlY3Rpb24iLCJuZXdJbmRleCIsIm1pbiIsInNldEN1cnNvciIsIkN1cnNvckNoYW5nZWQiLCJ2aXNpYmxlIiwiY3RybEtleSIsIm1vdmVDdXJzb3IiLCJoYW5kbGVTZWxlY3Rpb24iLCJDYW5jZWxlZCIsIm9wdGlvbnNCb3VuZHMiLCJhbmNob3JUbyIsImFuY2hvckJvdW5kcyIsInRvcFRvcCIsImJvdHRvbSIsImlubmVySGVpZ2h0IiwiaGFuZGxlS2V5RG93biIsInJlbmRlck9wdGlvbiIsInJlbmRlck9wdGlvbkRlZmF1bHQiLCJvcHRpb25zU3R5bGUiLCJPcHRpb25zX3RlbXBsYXRlT2JqZWN0NSIsIk9wdGlvbnNfdGVtcGxhdGVPYmplY3Q2IiwiYWJzIiwibW92ZW1lbnRYIiwibW92ZW1lbnRZIiwiT3B0aW9uc19kZWNvcmF0ZSIsIlNlbGVjdF9TZWxlY3QiLCJTZWxlY3QiLCJTZWxlY3RfY2xhc3NDYWxsQ2hlY2siLCJTZWxlY3RfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIlNlbGVjdF9nZXRQcm90b3R5cGVPZiIsInF1aWV0TWlsbGlzIiwiU2VsZWN0X2luaGVyaXRzIiwiU2VsZWN0X3RlbXBsYXRlT2JqZWN0MiIsIlNlbGVjdF9nZXQiLCJibHVyIiwibGFzdFF1ZXJ5IiwiY2xlYXJUaW1lb3V0IiwiZmV0Y2hPcHRpb25zIiwicXVlcnkiLCJjb21wbGV0ZSIsInBhZ2UiLCJmZXRjaGluZyIsImZpbHRlciIsIm5ld1Jlc3VsdHMiLCJTZWxlY3RfdG9Db25zdW1hYmxlQXJyYXkiLCJlbGUiLCJoYW5kbGVDYW5jZWwiLCJoYW5kbGVDdXJzb3JDaGFuZ2VkIiwiYW5jaG9yRWxlbWVudCIsIlNlbGVjdF90ZW1wbGF0ZU9iamVjdCIsImhhbmRsZUJsdXIiLCJoYW5kbGVGb2N1cyIsImhhbmRsZU9wdGlvblNlbGVjdGlvbiIsIlNlbGVjdF9kZWNvcmF0ZSIsImlzVmFsaWRTdGFydCIsInBhcnRpYWxFeHByZXNzaW9uIiwiYWxsb3dlZFRvcExldmVscyIsImFsbG93SW5jb21wbGV0ZSIsInRvcExldmVsIiwiYWxsb3dlZCIsImlzV29yZENoYXIiLCJpc0luU3RyaW5nTGl0ZXJhbCIsIm51bVF1b3RlcyIsIkV4Y2VsbGVudFBhcnNlciIsImV4cHJlc3Npb25QcmVmaXgiLCJFeGNlbGxlbnRQYXJzZXJfY2xhc3NDYWxsQ2hlY2siLCJ0ZXh0VG9DYXJldCIsImV4cHJlc3Npb25zIiwiZmluZEV4cHJlc3Npb25zIiwibGFzdEV4cHJlc3Npb24iLCJjbG9zZWQiLCJuZWVkZWRQYXJlbnRoZXNlcyIsInNraXBDaGFyIiwiaW5RdW90ZXMiLCJwcmVwZW5kRmxhZyIsInBvcyIsInN0YXRlIiwiaWRlbnRpZmllciIsInBhcmVudGhlc2VzTGV2ZWwiLCJmaWVsZHMiLCJyZSIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zIiwiX2RpZEl0ZXJhdG9yRXJyb3IzIiwiX2l0ZXJhdG9yRXJyb3IzIiwiX3N0ZXAzIiwiX2l0ZXJhdG9yMyIsImV4cHJlc3Npb24iLCJjdXJyZW50RXhwcmVzc2lvbiIsIm5leHRDaCIsIm5leHROZXh0Q2giLCJnZXRGdW5jdGlvbnMiLCJmdW5jdGlvbnMiLCJzaWduYXR1cmUiLCJnZXRDb21wbGV0aW9ucyIsInNjaGVtYSIsImRvdFF1ZXJ5Iiwia2V5ZWRBc3NldHMiLCJjdXJyZW50UHJvcHMiLCJyb290X25vX3Nlc3Npb24iLCJuZXh0UHJvcCIsImZpbmQiLCJzdGFydHNXaXRoIiwibmV4dFR5cGUiLCJ0eXBlcyIsInByb3BlcnR5X3RlbXBsYXRlIiwiaGVscCIsInN1bW1hcnkiLCJwcmV2aW91c1ZhbHVlcyIsInVuc2FmZUhUTUwiLCJwcmV2aW91c1ZhbHVlIiwibWFya2VkUmVuZGVyIiwiY29udGVudHMiLCJDb21wbGV0aW9uX0NvbXBsZXRpb24iLCJDb21wbGV0aW9uXzEiLCJDb21wbGV0aW9uIiwiQ29tcGxldGlvbl9jbGFzc0NhbGxDaGVjayIsImFuY2hvclBvc2l0aW9uIiwiQ29tcGxldGlvbl9pbmhlcml0cyIsIkNvbXBsZXRpb25fdGVtcGxhdGVPYmplY3Q3IiwidGV4dElucHV0RWxlbWVudCIsImNvbXBsZXRpb25zRW5kcG9pbnQiLCJmdW5jdGlvbnNFbmRwb2ludCIsImZpZWxkc0VuZHBvaW50IiwiYXNzZXQiLCJoaWRkZW5FbGVtZW50IiwiZXhlY3V0ZVF1ZXJ5IiwiY3VycmVudEZ1bmN0aW9uIiwiY3Vyc29yIiwic2VsZWN0aW9uU3RhcnQiLCJleHByIiwiaW5jbHVkZUZ1bmN0aW9ucyIsImZ1bmN0aW9uUXVlcnkiLCJmdW5jdGlvbkNvbnRleHQiLCJjYXJldCIsInRleHRhcmVhX2NhcmV0X2RlZmF1bHQiLCJzY3JvbGxMZWZ0IiwiQ29tcGxldGlvbl90b0NvbnN1bWFibGVBcnJheSIsIkNvbXBsZXRpb25fZ2V0IiwiQ29tcGxldGlvbl9nZXRQcm90b3R5cGVPZiIsImluc2VydFRleHQiLCJpbnNlcnRpb25Qb2ludCIsImxlZnRTaWRlIiwicmVtYWluaW5nIiwic2V0U2VsZWN0aW9uUmFuZ2UiLCJhcmdTdGFydCIsIkNvbXBsZXRpb25fdGVtcGxhdGVPYmplY3QiLCJDb21wbGV0aW9uX3RlbXBsYXRlT2JqZWN0MiIsIkNvbXBsZXRpb25fdGVtcGxhdGVPYmplY3QzIiwiQ29tcGxldGlvbl90ZW1wbGF0ZU9iamVjdDQiLCJhbmNob3JTdHlsZXMiLCJDb21wbGV0aW9uX3RlbXBsYXRlT2JqZWN0NSIsImhhbmRsZUlucHV0IiwiaGFuZGxlT3B0aW9uQ2FuY2VsZWQiLCJyZW5kZXJDb21wbGV0aW9uT3B0aW9uIiwiQ29tcGxldGlvbl90ZW1wbGF0ZU9iamVjdDYiLCJDb21wbGV0aW9uX2RlY29yYXRlIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxHQUNBLGlCQUFBQyxTQUFBLGlCQUFBQyxPQUNB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NjZCLEdBQUEsQ0FEQzd0QyxHQUFTLENBQUNpWSxLQUFNakYsdUNBSWpCNjZCLEdBQUEsQ0FEQzd0QyxHQUFTLENBQUNpWSxLQUFNakYscURBSWpCNjZCLEdBQUEsQ0FEQzd0QyxHQUFTLENBQUNpWSxLQUFNakYsbURBSWpCNjZCLEdBQUEsQ0FEQzd0QyxHQUFTLENBQUNpWSxLQUFNakYsZ0RBSWpCNjZCLEdBQUEsQ0FEQzd0QyxHQUFTLENBQUNpWSxLQUFNK1YsMkNBckdFa2QsR0FBVUMsR0FBQTBDLEdBQUEsQ0FEOUJwYSxHQUFjLGtCQUNNeVgiLCJmaWxlIjoibGVnYWN5L3JwLWNvbXBvbmVudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJycC1jb21wb25lbnRzXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcInJwLWNvbXBvbmVudHNcIl0gPSBmYWN0b3J5KCk7XG59KSh3aW5kb3csIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAyOSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBiaW5kID0gcmVxdWlyZSgnLi9oZWxwZXJzL2JpbmQnKTtcbnZhciBpc0J1ZmZlciA9IHJlcXVpcmUoJ2lzLWJ1ZmZlcicpO1xuXG4vKmdsb2JhbCB0b1N0cmluZzp0cnVlKi9cblxuLy8gdXRpbHMgaXMgYSBsaWJyYXJ5IG9mIGdlbmVyaWMgaGVscGVyIGZ1bmN0aW9ucyBub24tc3BlY2lmaWMgdG8gYXhpb3NcblxudmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBBcnJheVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEFycmF5LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheSh2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBBcnJheUJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEFycmF5QnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUJ1ZmZlcih2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZvcm1EYXRhXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gRm9ybURhdGEsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Zvcm1EYXRhKHZhbCkge1xuICByZXR1cm4gKHR5cGVvZiBGb3JtRGF0YSAhPT0gJ3VuZGVmaW5lZCcpICYmICh2YWwgaW5zdGFuY2VvZiBGb3JtRGF0YSk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSB2aWV3IG9uIGFuIEFycmF5QnVmZmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSB2aWV3IG9uIGFuIEFycmF5QnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUJ1ZmZlclZpZXcodmFsKSB7XG4gIHZhciByZXN1bHQ7XG4gIGlmICgodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJykgJiYgKEFycmF5QnVmZmVyLmlzVmlldykpIHtcbiAgICByZXN1bHQgPSBBcnJheUJ1ZmZlci5pc1ZpZXcodmFsKTtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQgPSAodmFsKSAmJiAodmFsLmJ1ZmZlcikgJiYgKHZhbC5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcik7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFN0cmluZ1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgU3RyaW5nLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTdHJpbmcodmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsID09PSAnc3RyaW5nJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIE51bWJlclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgTnVtYmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNOdW1iZXIodmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsID09PSAnbnVtYmVyJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyB1bmRlZmluZWRcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmFsdWUgaXMgdW5kZWZpbmVkLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNVbmRlZmluZWQodmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsID09PSAndW5kZWZpbmVkJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBPYmplY3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBPYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWwpIHtcbiAgcmV0dXJuIHZhbCAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0Jztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIERhdGVcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIERhdGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0RhdGUodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IERhdGVdJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZpbGVcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZpbGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0ZpbGUodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEZpbGVdJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEJsb2JcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEJsb2IsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Jsb2IodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEJsb2JdJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZ1bmN0aW9uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGdW5jdGlvbiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBTdHJlYW1cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFN0cmVhbSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3RyZWFtKHZhbCkge1xuICByZXR1cm4gaXNPYmplY3QodmFsKSAmJiBpc0Z1bmN0aW9uKHZhbC5waXBlKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFVSTFNlYXJjaFBhcmFtcyBvYmplY3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFVSTFNlYXJjaFBhcmFtcyBvYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1VSTFNlYXJjaFBhcmFtcyh2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiBVUkxTZWFyY2hQYXJhbXMgIT09ICd1bmRlZmluZWQnICYmIHZhbCBpbnN0YW5jZW9mIFVSTFNlYXJjaFBhcmFtcztcbn1cblxuLyoqXG4gKiBUcmltIGV4Y2VzcyB3aGl0ZXNwYWNlIG9mZiB0aGUgYmVnaW5uaW5nIGFuZCBlbmQgb2YgYSBzdHJpbmdcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyIFRoZSBTdHJpbmcgdG8gdHJpbVxuICogQHJldHVybnMge1N0cmluZ30gVGhlIFN0cmluZyBmcmVlZCBvZiBleGNlc3Mgd2hpdGVzcGFjZVxuICovXG5mdW5jdGlvbiB0cmltKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL15cXHMqLywgJycpLnJlcGxhY2UoL1xccyokLywgJycpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiB3ZSdyZSBydW5uaW5nIGluIGEgc3RhbmRhcmQgYnJvd3NlciBlbnZpcm9ubWVudFxuICpcbiAqIFRoaXMgYWxsb3dzIGF4aW9zIHRvIHJ1biBpbiBhIHdlYiB3b3JrZXIsIGFuZCByZWFjdC1uYXRpdmUuXG4gKiBCb3RoIGVudmlyb25tZW50cyBzdXBwb3J0IFhNTEh0dHBSZXF1ZXN0LCBidXQgbm90IGZ1bGx5IHN0YW5kYXJkIGdsb2JhbHMuXG4gKlxuICogd2ViIHdvcmtlcnM6XG4gKiAgdHlwZW9mIHdpbmRvdyAtPiB1bmRlZmluZWRcbiAqICB0eXBlb2YgZG9jdW1lbnQgLT4gdW5kZWZpbmVkXG4gKlxuICogcmVhY3QtbmF0aXZlOlxuICogIG5hdmlnYXRvci5wcm9kdWN0IC0+ICdSZWFjdE5hdGl2ZSdcbiAqL1xuZnVuY3Rpb24gaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IucHJvZHVjdCA9PT0gJ1JlYWN0TmF0aXZlJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gKFxuICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG4gICAgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJ1xuICApO1xufVxuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBhbiBBcnJheSBvciBhbiBPYmplY3QgaW52b2tpbmcgYSBmdW5jdGlvbiBmb3IgZWFjaCBpdGVtLlxuICpcbiAqIElmIGBvYmpgIGlzIGFuIEFycmF5IGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHBhc3NpbmdcbiAqIHRoZSB2YWx1ZSwgaW5kZXgsIGFuZCBjb21wbGV0ZSBhcnJheSBmb3IgZWFjaCBpdGVtLlxuICpcbiAqIElmICdvYmonIGlzIGFuIE9iamVjdCBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBwYXNzaW5nXG4gKiB0aGUgdmFsdWUsIGtleSwgYW5kIGNvbXBsZXRlIG9iamVjdCBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdHxBcnJheX0gb2JqIFRoZSBvYmplY3QgdG8gaXRlcmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGNhbGxiYWNrIHRvIGludm9rZSBmb3IgZWFjaCBpdGVtXG4gKi9cbmZ1bmN0aW9uIGZvckVhY2gob2JqLCBmbikge1xuICAvLyBEb24ndCBib3RoZXIgaWYgbm8gdmFsdWUgcHJvdmlkZWRcbiAgaWYgKG9iaiA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEZvcmNlIGFuIGFycmF5IGlmIG5vdCBhbHJlYWR5IHNvbWV0aGluZyBpdGVyYWJsZVxuICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgICBvYmogPSBbb2JqXTtcbiAgfVxuXG4gIGlmIChpc0FycmF5KG9iaikpIHtcbiAgICAvLyBJdGVyYXRlIG92ZXIgYXJyYXkgdmFsdWVzXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBvYmoubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBmbi5jYWxsKG51bGwsIG9ialtpXSwgaSwgb2JqKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gSXRlcmF0ZSBvdmVyIG9iamVjdCBrZXlzXG4gICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcbiAgICAgICAgZm4uY2FsbChudWxsLCBvYmpba2V5XSwga2V5LCBvYmopO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEFjY2VwdHMgdmFyYXJncyBleHBlY3RpbmcgZWFjaCBhcmd1bWVudCB0byBiZSBhbiBvYmplY3QsIHRoZW5cbiAqIGltbXV0YWJseSBtZXJnZXMgdGhlIHByb3BlcnRpZXMgb2YgZWFjaCBvYmplY3QgYW5kIHJldHVybnMgcmVzdWx0LlxuICpcbiAqIFdoZW4gbXVsdGlwbGUgb2JqZWN0cyBjb250YWluIHRoZSBzYW1lIGtleSB0aGUgbGF0ZXIgb2JqZWN0IGluXG4gKiB0aGUgYXJndW1lbnRzIGxpc3Qgd2lsbCB0YWtlIHByZWNlZGVuY2UuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogdmFyIHJlc3VsdCA9IG1lcmdlKHtmb286IDEyM30sIHtmb286IDQ1Nn0pO1xuICogY29uc29sZS5sb2cocmVzdWx0LmZvbyk7IC8vIG91dHB1dHMgNDU2XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqMSBPYmplY3QgdG8gbWVyZ2VcbiAqIEByZXR1cm5zIHtPYmplY3R9IFJlc3VsdCBvZiBhbGwgbWVyZ2UgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBtZXJnZSgvKiBvYmoxLCBvYmoyLCBvYmozLCAuLi4gKi8pIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuICBmdW5jdGlvbiBhc3NpZ25WYWx1ZSh2YWwsIGtleSkge1xuICAgIGlmICh0eXBlb2YgcmVzdWx0W2tleV0gPT09ICdvYmplY3QnICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnKSB7XG4gICAgICByZXN1bHRba2V5XSA9IG1lcmdlKHJlc3VsdFtrZXldLCB2YWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHRba2V5XSA9IHZhbDtcbiAgICB9XG4gIH1cblxuICBmb3IgKHZhciBpID0gMCwgbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBmb3JFYWNoKGFyZ3VtZW50c1tpXSwgYXNzaWduVmFsdWUpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogRXh0ZW5kcyBvYmplY3QgYSBieSBtdXRhYmx5IGFkZGluZyB0byBpdCB0aGUgcHJvcGVydGllcyBvZiBvYmplY3QgYi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYSBUaGUgb2JqZWN0IHRvIGJlIGV4dGVuZGVkXG4gKiBAcGFyYW0ge09iamVjdH0gYiBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tXG4gKiBAcGFyYW0ge09iamVjdH0gdGhpc0FyZyBUaGUgb2JqZWN0IHRvIGJpbmQgZnVuY3Rpb24gdG9cbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIHJlc3VsdGluZyB2YWx1ZSBvZiBvYmplY3QgYVxuICovXG5mdW5jdGlvbiBleHRlbmQoYSwgYiwgdGhpc0FyZykge1xuICBmb3JFYWNoKGIsIGZ1bmN0aW9uIGFzc2lnblZhbHVlKHZhbCwga2V5KSB7XG4gICAgaWYgKHRoaXNBcmcgJiYgdHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYVtrZXldID0gYmluZCh2YWwsIHRoaXNBcmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhW2tleV0gPSB2YWw7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGE7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBpc0FycmF5OiBpc0FycmF5LFxuICBpc0FycmF5QnVmZmVyOiBpc0FycmF5QnVmZmVyLFxuICBpc0J1ZmZlcjogaXNCdWZmZXIsXG4gIGlzRm9ybURhdGE6IGlzRm9ybURhdGEsXG4gIGlzQXJyYXlCdWZmZXJWaWV3OiBpc0FycmF5QnVmZmVyVmlldyxcbiAgaXNTdHJpbmc6IGlzU3RyaW5nLFxuICBpc051bWJlcjogaXNOdW1iZXIsXG4gIGlzT2JqZWN0OiBpc09iamVjdCxcbiAgaXNVbmRlZmluZWQ6IGlzVW5kZWZpbmVkLFxuICBpc0RhdGU6IGlzRGF0ZSxcbiAgaXNGaWxlOiBpc0ZpbGUsXG4gIGlzQmxvYjogaXNCbG9iLFxuICBpc0Z1bmN0aW9uOiBpc0Z1bmN0aW9uLFxuICBpc1N0cmVhbTogaXNTdHJlYW0sXG4gIGlzVVJMU2VhcmNoUGFyYW1zOiBpc1VSTFNlYXJjaFBhcmFtcyxcbiAgaXNTdGFuZGFyZEJyb3dzZXJFbnY6IGlzU3RhbmRhcmRCcm93c2VyRW52LFxuICBmb3JFYWNoOiBmb3JFYWNoLFxuICBtZXJnZTogbWVyZ2UsXG4gIGV4dGVuZDogZXh0ZW5kLFxuICB0cmltOiB0cmltXG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2xpYi9heGlvcycpOyIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xudmFyIG5vcm1hbGl6ZUhlYWRlck5hbWUgPSByZXF1aXJlKCcuL2hlbHBlcnMvbm9ybWFsaXplSGVhZGVyTmFtZScpO1xuXG52YXIgREVGQVVMVF9DT05URU5UX1RZUEUgPSB7XG4gICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ1xufTtcblxuZnVuY3Rpb24gc2V0Q29udGVudFR5cGVJZlVuc2V0KGhlYWRlcnMsIHZhbHVlKSB7XG4gIGlmICghdXRpbHMuaXNVbmRlZmluZWQoaGVhZGVycykgJiYgdXRpbHMuaXNVbmRlZmluZWQoaGVhZGVyc1snQ29udGVudC1UeXBlJ10pKSB7XG4gICAgaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSB2YWx1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXREZWZhdWx0QWRhcHRlcigpIHtcbiAgdmFyIGFkYXB0ZXI7XG4gIGlmICh0eXBlb2YgWE1MSHR0cFJlcXVlc3QgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gRm9yIGJyb3dzZXJzIHVzZSBYSFIgYWRhcHRlclxuICAgIGFkYXB0ZXIgPSByZXF1aXJlKCcuL2FkYXB0ZXJzL3hocicpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJykge1xuICAgIC8vIEZvciBub2RlIHVzZSBIVFRQIGFkYXB0ZXJcbiAgICBhZGFwdGVyID0gcmVxdWlyZSgnLi9hZGFwdGVycy9odHRwJyk7XG4gIH1cbiAgcmV0dXJuIGFkYXB0ZXI7XG59XG5cbnZhciBkZWZhdWx0cyA9IHtcbiAgYWRhcHRlcjogZ2V0RGVmYXVsdEFkYXB0ZXIoKSxcblxuICB0cmFuc2Zvcm1SZXF1ZXN0OiBbZnVuY3Rpb24gdHJhbnNmb3JtUmVxdWVzdChkYXRhLCBoZWFkZXJzKSB7XG4gICAgbm9ybWFsaXplSGVhZGVyTmFtZShoZWFkZXJzLCAnQ29udGVudC1UeXBlJyk7XG4gICAgaWYgKHV0aWxzLmlzRm9ybURhdGEoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQXJyYXlCdWZmZXIoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQnVmZmVyKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc1N0cmVhbShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNGaWxlKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0Jsb2IoZGF0YSlcbiAgICApIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNBcnJheUJ1ZmZlclZpZXcoZGF0YSkpIHtcbiAgICAgIHJldHVybiBkYXRhLmJ1ZmZlcjtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKGRhdGEpKSB7XG4gICAgICBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04Jyk7XG4gICAgICByZXR1cm4gZGF0YS50b1N0cmluZygpO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNPYmplY3QoZGF0YSkpIHtcbiAgICAgIHNldENvbnRlbnRUeXBlSWZVbnNldChoZWFkZXJzLCAnYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04Jyk7XG4gICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xuICB9XSxcblxuICB0cmFuc2Zvcm1SZXNwb25zZTogW2Z1bmN0aW9uIHRyYW5zZm9ybVJlc3BvbnNlKGRhdGEpIHtcbiAgICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0cnkge1xuICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHsgLyogSWdub3JlICovIH1cbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1dLFxuXG4gIC8qKlxuICAgKiBBIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIHRvIGFib3J0IGEgcmVxdWVzdC4gSWYgc2V0IHRvIDAgKGRlZmF1bHQpIGFcbiAgICogdGltZW91dCBpcyBub3QgY3JlYXRlZC5cbiAgICovXG4gIHRpbWVvdXQ6IDAsXG5cbiAgeHNyZkNvb2tpZU5hbWU6ICdYU1JGLVRPS0VOJyxcbiAgeHNyZkhlYWRlck5hbWU6ICdYLVhTUkYtVE9LRU4nLFxuXG4gIG1heENvbnRlbnRMZW5ndGg6IC0xLFxuXG4gIHZhbGlkYXRlU3RhdHVzOiBmdW5jdGlvbiB2YWxpZGF0ZVN0YXR1cyhzdGF0dXMpIHtcbiAgICByZXR1cm4gc3RhdHVzID49IDIwMCAmJiBzdGF0dXMgPCAzMDA7XG4gIH1cbn07XG5cbmRlZmF1bHRzLmhlYWRlcnMgPSB7XG4gIGNvbW1vbjoge1xuICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qJ1xuICB9XG59O1xuXG51dGlscy5mb3JFYWNoKFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2ROb0RhdGEobWV0aG9kKSB7XG4gIGRlZmF1bHRzLmhlYWRlcnNbbWV0aG9kXSA9IHt9O1xufSk7XG5cbnV0aWxzLmZvckVhY2goWydwb3N0JywgJ3B1dCcsICdwYXRjaCddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kV2l0aERhdGEobWV0aG9kKSB7XG4gIGRlZmF1bHRzLmhlYWRlcnNbbWV0aG9kXSA9IHV0aWxzLm1lcmdlKERFRkFVTFRfQ09OVEVOVF9UWVBFKTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRlZmF1bHRzO1xuIiwiLyohXG5cdGF1dG9zaXplIDQuMC4yXG5cdGxpY2Vuc2U6IE1JVFxuXHRodHRwOi8vd3d3LmphY2tsbW9vcmUuY29tL2F1dG9zaXplXG4qL1xuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcblx0aWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0ZGVmaW5lKFsnbW9kdWxlJywgJ2V4cG9ydHMnXSwgZmFjdG9yeSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgIT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRmYWN0b3J5KG1vZHVsZSwgZXhwb3J0cyk7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIG1vZCA9IHtcblx0XHRcdGV4cG9ydHM6IHt9XG5cdFx0fTtcblx0XHRmYWN0b3J5KG1vZCwgbW9kLmV4cG9ydHMpO1xuXHRcdGdsb2JhbC5hdXRvc2l6ZSA9IG1vZC5leHBvcnRzO1xuXHR9XG59KSh0aGlzLCBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgbWFwID0gdHlwZW9mIE1hcCA9PT0gXCJmdW5jdGlvblwiID8gbmV3IE1hcCgpIDogZnVuY3Rpb24gKCkge1xuXHRcdHZhciBrZXlzID0gW107XG5cdFx0dmFyIHZhbHVlcyA9IFtdO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdGhhczogZnVuY3Rpb24gaGFzKGtleSkge1xuXHRcdFx0XHRyZXR1cm4ga2V5cy5pbmRleE9mKGtleSkgPiAtMTtcblx0XHRcdH0sXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uIGdldChrZXkpIHtcblx0XHRcdFx0cmV0dXJuIHZhbHVlc1trZXlzLmluZGV4T2Yoa2V5KV07XG5cdFx0XHR9LFxuXHRcdFx0c2V0OiBmdW5jdGlvbiBzZXQoa2V5LCB2YWx1ZSkge1xuXHRcdFx0XHRpZiAoa2V5cy5pbmRleE9mKGtleSkgPT09IC0xKSB7XG5cdFx0XHRcdFx0a2V5cy5wdXNoKGtleSk7XG5cdFx0XHRcdFx0dmFsdWVzLnB1c2godmFsdWUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0ZGVsZXRlOiBmdW5jdGlvbiBfZGVsZXRlKGtleSkge1xuXHRcdFx0XHR2YXIgaW5kZXggPSBrZXlzLmluZGV4T2Yoa2V5KTtcblx0XHRcdFx0aWYgKGluZGV4ID4gLTEpIHtcblx0XHRcdFx0XHRrZXlzLnNwbGljZShpbmRleCwgMSk7XG5cdFx0XHRcdFx0dmFsdWVzLnNwbGljZShpbmRleCwgMSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHR9KCk7XG5cblx0dmFyIGNyZWF0ZUV2ZW50ID0gZnVuY3Rpb24gY3JlYXRlRXZlbnQobmFtZSkge1xuXHRcdHJldHVybiBuZXcgRXZlbnQobmFtZSwgeyBidWJibGVzOiB0cnVlIH0pO1xuXHR9O1xuXHR0cnkge1xuXHRcdG5ldyBFdmVudCgndGVzdCcpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0Ly8gSUUgZG9lcyBub3Qgc3VwcG9ydCBgbmV3IEV2ZW50KClgXG5cdFx0Y3JlYXRlRXZlbnQgPSBmdW5jdGlvbiBjcmVhdGVFdmVudChuYW1lKSB7XG5cdFx0XHR2YXIgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG5cdFx0XHRldnQuaW5pdEV2ZW50KG5hbWUsIHRydWUsIGZhbHNlKTtcblx0XHRcdHJldHVybiBldnQ7XG5cdFx0fTtcblx0fVxuXG5cdGZ1bmN0aW9uIGFzc2lnbih0YSkge1xuXHRcdGlmICghdGEgfHwgIXRhLm5vZGVOYW1lIHx8IHRhLm5vZGVOYW1lICE9PSAnVEVYVEFSRUEnIHx8IG1hcC5oYXModGEpKSByZXR1cm47XG5cblx0XHR2YXIgaGVpZ2h0T2Zmc2V0ID0gbnVsbDtcblx0XHR2YXIgY2xpZW50V2lkdGggPSBudWxsO1xuXHRcdHZhciBjYWNoZWRIZWlnaHQgPSBudWxsO1xuXG5cdFx0ZnVuY3Rpb24gaW5pdCgpIHtcblx0XHRcdHZhciBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRhLCBudWxsKTtcblxuXHRcdFx0aWYgKHN0eWxlLnJlc2l6ZSA9PT0gJ3ZlcnRpY2FsJykge1xuXHRcdFx0XHR0YS5zdHlsZS5yZXNpemUgPSAnbm9uZSc7XG5cdFx0XHR9IGVsc2UgaWYgKHN0eWxlLnJlc2l6ZSA9PT0gJ2JvdGgnKSB7XG5cdFx0XHRcdHRhLnN0eWxlLnJlc2l6ZSA9ICdob3Jpem9udGFsJztcblx0XHRcdH1cblxuXHRcdFx0aWYgKHN0eWxlLmJveFNpemluZyA9PT0gJ2NvbnRlbnQtYm94Jykge1xuXHRcdFx0XHRoZWlnaHRPZmZzZXQgPSAtKHBhcnNlRmxvYXQoc3R5bGUucGFkZGluZ1RvcCkgKyBwYXJzZUZsb2F0KHN0eWxlLnBhZGRpbmdCb3R0b20pKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGhlaWdodE9mZnNldCA9IHBhcnNlRmxvYXQoc3R5bGUuYm9yZGVyVG9wV2lkdGgpICsgcGFyc2VGbG9hdChzdHlsZS5ib3JkZXJCb3R0b21XaWR0aCk7XG5cdFx0XHR9XG5cdFx0XHQvLyBGaXggd2hlbiBhIHRleHRhcmVhIGlzIG5vdCBvbiBkb2N1bWVudCBib2R5IGFuZCBoZWlnaHRPZmZzZXQgaXMgTm90IGEgTnVtYmVyXG5cdFx0XHRpZiAoaXNOYU4oaGVpZ2h0T2Zmc2V0KSkge1xuXHRcdFx0XHRoZWlnaHRPZmZzZXQgPSAwO1xuXHRcdFx0fVxuXG5cdFx0XHR1cGRhdGUoKTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBjaGFuZ2VPdmVyZmxvdyh2YWx1ZSkge1xuXHRcdFx0e1xuXHRcdFx0XHQvLyBDaHJvbWUvU2FmYXJpLXNwZWNpZmljIGZpeDpcblx0XHRcdFx0Ly8gV2hlbiB0aGUgdGV4dGFyZWEgeS1vdmVyZmxvdyBpcyBoaWRkZW4sIENocm9tZS9TYWZhcmkgZG8gbm90IHJlZmxvdyB0aGUgdGV4dCB0byBhY2NvdW50IGZvciB0aGUgc3BhY2Vcblx0XHRcdFx0Ly8gbWFkZSBhdmFpbGFibGUgYnkgcmVtb3ZpbmcgdGhlIHNjcm9sbGJhci4gVGhlIGZvbGxvd2luZyBmb3JjZXMgdGhlIG5lY2Vzc2FyeSB0ZXh0IHJlZmxvdy5cblx0XHRcdFx0dmFyIHdpZHRoID0gdGEuc3R5bGUud2lkdGg7XG5cdFx0XHRcdHRhLnN0eWxlLndpZHRoID0gJzBweCc7XG5cdFx0XHRcdC8vIEZvcmNlIHJlZmxvdzpcblx0XHRcdFx0LyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuXHRcdFx0XHR0YS5vZmZzZXRXaWR0aDtcblx0XHRcdFx0LyoganNoaW50IGlnbm9yZTplbmQgKi9cblx0XHRcdFx0dGEuc3R5bGUud2lkdGggPSB3aWR0aDtcblx0XHRcdH1cblxuXHRcdFx0dGEuc3R5bGUub3ZlcmZsb3dZID0gdmFsdWU7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gZ2V0UGFyZW50T3ZlcmZsb3dzKGVsKSB7XG5cdFx0XHR2YXIgYXJyID0gW107XG5cblx0XHRcdHdoaWxlIChlbCAmJiBlbC5wYXJlbnROb2RlICYmIGVsLnBhcmVudE5vZGUgaW5zdGFuY2VvZiBFbGVtZW50KSB7XG5cdFx0XHRcdGlmIChlbC5wYXJlbnROb2RlLnNjcm9sbFRvcCkge1xuXHRcdFx0XHRcdGFyci5wdXNoKHtcblx0XHRcdFx0XHRcdG5vZGU6IGVsLnBhcmVudE5vZGUsXG5cdFx0XHRcdFx0XHRzY3JvbGxUb3A6IGVsLnBhcmVudE5vZGUuc2Nyb2xsVG9wXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWwgPSBlbC5wYXJlbnROb2RlO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gYXJyO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHJlc2l6ZSgpIHtcblx0XHRcdGlmICh0YS5zY3JvbGxIZWlnaHQgPT09IDApIHtcblx0XHRcdFx0Ly8gSWYgdGhlIHNjcm9sbEhlaWdodCBpcyAwLCB0aGVuIHRoZSBlbGVtZW50IHByb2JhYmx5IGhhcyBkaXNwbGF5Om5vbmUgb3IgaXMgZGV0YWNoZWQgZnJvbSB0aGUgRE9NLlxuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHZhciBvdmVyZmxvd3MgPSBnZXRQYXJlbnRPdmVyZmxvd3ModGEpO1xuXHRcdFx0dmFyIGRvY1RvcCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wOyAvLyBOZWVkZWQgZm9yIE1vYmlsZSBJRSAodGlja2V0ICMyNDApXG5cblx0XHRcdHRhLnN0eWxlLmhlaWdodCA9ICcnO1xuXHRcdFx0dGEuc3R5bGUuaGVpZ2h0ID0gdGEuc2Nyb2xsSGVpZ2h0ICsgaGVpZ2h0T2Zmc2V0ICsgJ3B4JztcblxuXHRcdFx0Ly8gdXNlZCB0byBjaGVjayBpZiBhbiB1cGRhdGUgaXMgYWN0dWFsbHkgbmVjZXNzYXJ5IG9uIHdpbmRvdy5yZXNpemVcblx0XHRcdGNsaWVudFdpZHRoID0gdGEuY2xpZW50V2lkdGg7XG5cblx0XHRcdC8vIHByZXZlbnRzIHNjcm9sbC1wb3NpdGlvbiBqdW1waW5nXG5cdFx0XHRvdmVyZmxvd3MuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcblx0XHRcdFx0ZWwubm9kZS5zY3JvbGxUb3AgPSBlbC5zY3JvbGxUb3A7XG5cdFx0XHR9KTtcblxuXHRcdFx0aWYgKGRvY1RvcCkge1xuXHRcdFx0XHRkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID0gZG9jVG9wO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHVwZGF0ZSgpIHtcblx0XHRcdHJlc2l6ZSgpO1xuXG5cdFx0XHR2YXIgc3R5bGVIZWlnaHQgPSBNYXRoLnJvdW5kKHBhcnNlRmxvYXQodGEuc3R5bGUuaGVpZ2h0KSk7XG5cdFx0XHR2YXIgY29tcHV0ZWQgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0YSwgbnVsbCk7XG5cblx0XHRcdC8vIFVzaW5nIG9mZnNldEhlaWdodCBhcyBhIHJlcGxhY2VtZW50IGZvciBjb21wdXRlZC5oZWlnaHQgaW4gSUUsIGJlY2F1c2UgSUUgZG9lcyBub3QgYWNjb3VudCB1c2Ugb2YgYm9yZGVyLWJveFxuXHRcdFx0dmFyIGFjdHVhbEhlaWdodCA9IGNvbXB1dGVkLmJveFNpemluZyA9PT0gJ2NvbnRlbnQtYm94JyA/IE1hdGgucm91bmQocGFyc2VGbG9hdChjb21wdXRlZC5oZWlnaHQpKSA6IHRhLm9mZnNldEhlaWdodDtcblxuXHRcdFx0Ly8gVGhlIGFjdHVhbCBoZWlnaHQgbm90IG1hdGNoaW5nIHRoZSBzdHlsZSBoZWlnaHQgKHNldCB2aWEgdGhlIHJlc2l6ZSBtZXRob2QpIGluZGljYXRlcyB0aGF0IFxuXHRcdFx0Ly8gdGhlIG1heC1oZWlnaHQgaGFzIGJlZW4gZXhjZWVkZWQsIGluIHdoaWNoIGNhc2UgdGhlIG92ZXJmbG93IHNob3VsZCBiZSBhbGxvd2VkLlxuXHRcdFx0aWYgKGFjdHVhbEhlaWdodCA8IHN0eWxlSGVpZ2h0KSB7XG5cdFx0XHRcdGlmIChjb21wdXRlZC5vdmVyZmxvd1kgPT09ICdoaWRkZW4nKSB7XG5cdFx0XHRcdFx0Y2hhbmdlT3ZlcmZsb3coJ3Njcm9sbCcpO1xuXHRcdFx0XHRcdHJlc2l6ZSgpO1xuXHRcdFx0XHRcdGFjdHVhbEhlaWdodCA9IGNvbXB1dGVkLmJveFNpemluZyA9PT0gJ2NvbnRlbnQtYm94JyA/IE1hdGgucm91bmQocGFyc2VGbG9hdCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0YSwgbnVsbCkuaGVpZ2h0KSkgOiB0YS5vZmZzZXRIZWlnaHQ7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIE5vcm1hbGx5IGtlZXAgb3ZlcmZsb3cgc2V0IHRvIGhpZGRlbiwgdG8gYXZvaWQgZmxhc2ggb2Ygc2Nyb2xsYmFyIGFzIHRoZSB0ZXh0YXJlYSBleHBhbmRzLlxuXHRcdFx0XHRpZiAoY29tcHV0ZWQub3ZlcmZsb3dZICE9PSAnaGlkZGVuJykge1xuXHRcdFx0XHRcdGNoYW5nZU92ZXJmbG93KCdoaWRkZW4nKTtcblx0XHRcdFx0XHRyZXNpemUoKTtcblx0XHRcdFx0XHRhY3R1YWxIZWlnaHQgPSBjb21wdXRlZC5ib3hTaXppbmcgPT09ICdjb250ZW50LWJveCcgPyBNYXRoLnJvdW5kKHBhcnNlRmxvYXQod2luZG93LmdldENvbXB1dGVkU3R5bGUodGEsIG51bGwpLmhlaWdodCkpIDogdGEub2Zmc2V0SGVpZ2h0O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmIChjYWNoZWRIZWlnaHQgIT09IGFjdHVhbEhlaWdodCkge1xuXHRcdFx0XHRjYWNoZWRIZWlnaHQgPSBhY3R1YWxIZWlnaHQ7XG5cdFx0XHRcdHZhciBldnQgPSBjcmVhdGVFdmVudCgnYXV0b3NpemU6cmVzaXplZCcpO1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdHRhLmRpc3BhdGNoRXZlbnQoZXZ0KTtcblx0XHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdFx0Ly8gRmlyZWZveCB3aWxsIHRocm93IGFuIGVycm9yIG9uIGRpc3BhdGNoRXZlbnQgZm9yIGEgZGV0YWNoZWQgZWxlbWVudFxuXHRcdFx0XHRcdC8vIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTg4OTM3NlxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dmFyIHBhZ2VSZXNpemUgPSBmdW5jdGlvbiBwYWdlUmVzaXplKCkge1xuXHRcdFx0aWYgKHRhLmNsaWVudFdpZHRoICE9PSBjbGllbnRXaWR0aCkge1xuXHRcdFx0XHR1cGRhdGUoKTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0dmFyIGRlc3Ryb3kgPSBmdW5jdGlvbiAoc3R5bGUpIHtcblx0XHRcdHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBwYWdlUmVzaXplLCBmYWxzZSk7XG5cdFx0XHR0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdpbnB1dCcsIHVwZGF0ZSwgZmFsc2UpO1xuXHRcdFx0dGEucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB1cGRhdGUsIGZhbHNlKTtcblx0XHRcdHRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2F1dG9zaXplOmRlc3Ryb3knLCBkZXN0cm95LCBmYWxzZSk7XG5cdFx0XHR0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdhdXRvc2l6ZTp1cGRhdGUnLCB1cGRhdGUsIGZhbHNlKTtcblxuXHRcdFx0T2JqZWN0LmtleXMoc3R5bGUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0XHR0YS5zdHlsZVtrZXldID0gc3R5bGVba2V5XTtcblx0XHRcdH0pO1xuXG5cdFx0XHRtYXAuZGVsZXRlKHRhKTtcblx0XHR9LmJpbmQodGEsIHtcblx0XHRcdGhlaWdodDogdGEuc3R5bGUuaGVpZ2h0LFxuXHRcdFx0cmVzaXplOiB0YS5zdHlsZS5yZXNpemUsXG5cdFx0XHRvdmVyZmxvd1k6IHRhLnN0eWxlLm92ZXJmbG93WSxcblx0XHRcdG92ZXJmbG93WDogdGEuc3R5bGUub3ZlcmZsb3dYLFxuXHRcdFx0d29yZFdyYXA6IHRhLnN0eWxlLndvcmRXcmFwXG5cdFx0fSk7XG5cblx0XHR0YS5hZGRFdmVudExpc3RlbmVyKCdhdXRvc2l6ZTpkZXN0cm95JywgZGVzdHJveSwgZmFsc2UpO1xuXG5cdFx0Ly8gSUU5IGRvZXMgbm90IGZpcmUgb25wcm9wZXJ0eWNoYW5nZSBvciBvbmlucHV0IGZvciBkZWxldGlvbnMsXG5cdFx0Ly8gc28gYmluZGluZyB0byBvbmtleXVwIHRvIGNhdGNoIG1vc3Qgb2YgdGhvc2UgZXZlbnRzLlxuXHRcdC8vIFRoZXJlIGlzIG5vIHdheSB0aGF0IEkga25vdyBvZiB0byBkZXRlY3Qgc29tZXRoaW5nIGxpa2UgJ2N1dCcgaW4gSUU5LlxuXHRcdGlmICgnb25wcm9wZXJ0eWNoYW5nZScgaW4gdGEgJiYgJ29uaW5wdXQnIGluIHRhKSB7XG5cdFx0XHR0YS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHVwZGF0ZSwgZmFsc2UpO1xuXHRcdH1cblxuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBwYWdlUmVzaXplLCBmYWxzZSk7XG5cdFx0dGEuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB1cGRhdGUsIGZhbHNlKTtcblx0XHR0YS5hZGRFdmVudExpc3RlbmVyKCdhdXRvc2l6ZTp1cGRhdGUnLCB1cGRhdGUsIGZhbHNlKTtcblx0XHR0YS5zdHlsZS5vdmVyZmxvd1ggPSAnaGlkZGVuJztcblx0XHR0YS5zdHlsZS53b3JkV3JhcCA9ICdicmVhay13b3JkJztcblxuXHRcdG1hcC5zZXQodGEsIHtcblx0XHRcdGRlc3Ryb3k6IGRlc3Ryb3ksXG5cdFx0XHR1cGRhdGU6IHVwZGF0ZVxuXHRcdH0pO1xuXG5cdFx0aW5pdCgpO1xuXHR9XG5cblx0ZnVuY3Rpb24gZGVzdHJveSh0YSkge1xuXHRcdHZhciBtZXRob2RzID0gbWFwLmdldCh0YSk7XG5cdFx0aWYgKG1ldGhvZHMpIHtcblx0XHRcdG1ldGhvZHMuZGVzdHJveSgpO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIHVwZGF0ZSh0YSkge1xuXHRcdHZhciBtZXRob2RzID0gbWFwLmdldCh0YSk7XG5cdFx0aWYgKG1ldGhvZHMpIHtcblx0XHRcdG1ldGhvZHMudXBkYXRlKCk7XG5cdFx0fVxuXHR9XG5cblx0dmFyIGF1dG9zaXplID0gbnVsbDtcblxuXHQvLyBEbyBub3RoaW5nIGluIE5vZGUuanMgZW52aXJvbm1lbnQgYW5kIElFOCAob3IgbG93ZXIpXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2Ygd2luZG93LmdldENvbXB1dGVkU3R5bGUgIT09ICdmdW5jdGlvbicpIHtcblx0XHRhdXRvc2l6ZSA9IGZ1bmN0aW9uIGF1dG9zaXplKGVsKSB7XG5cdFx0XHRyZXR1cm4gZWw7XG5cdFx0fTtcblx0XHRhdXRvc2l6ZS5kZXN0cm95ID0gZnVuY3Rpb24gKGVsKSB7XG5cdFx0XHRyZXR1cm4gZWw7XG5cdFx0fTtcblx0XHRhdXRvc2l6ZS51cGRhdGUgPSBmdW5jdGlvbiAoZWwpIHtcblx0XHRcdHJldHVybiBlbDtcblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdGF1dG9zaXplID0gZnVuY3Rpb24gYXV0b3NpemUoZWwsIG9wdGlvbnMpIHtcblx0XHRcdGlmIChlbCkge1xuXHRcdFx0XHRBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGVsLmxlbmd0aCA/IGVsIDogW2VsXSwgZnVuY3Rpb24gKHgpIHtcblx0XHRcdFx0XHRyZXR1cm4gYXNzaWduKHgsIG9wdGlvbnMpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBlbDtcblx0XHR9O1xuXHRcdGF1dG9zaXplLmRlc3Ryb3kgPSBmdW5jdGlvbiAoZWwpIHtcblx0XHRcdGlmIChlbCkge1xuXHRcdFx0XHRBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGVsLmxlbmd0aCA/IGVsIDogW2VsXSwgZGVzdHJveSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZWw7XG5cdFx0fTtcblx0XHRhdXRvc2l6ZS51cGRhdGUgPSBmdW5jdGlvbiAoZWwpIHtcblx0XHRcdGlmIChlbCkge1xuXHRcdFx0XHRBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGVsLmxlbmd0aCA/IGVsIDogW2VsXSwgdXBkYXRlKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBlbDtcblx0XHR9O1xuXHR9XG5cblx0ZXhwb3J0cy5kZWZhdWx0ID0gYXV0b3NpemU7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xufSk7IiwiLyoganNoaW50IGJyb3dzZXI6IHRydWUgKi9cblxuKGZ1bmN0aW9uICgpIHtcblxuLy8gV2UnbGwgY29weSB0aGUgcHJvcGVydGllcyBiZWxvdyBpbnRvIHRoZSBtaXJyb3IgZGl2LlxuLy8gTm90ZSB0aGF0IHNvbWUgYnJvd3NlcnMsIHN1Y2ggYXMgRmlyZWZveCwgZG8gbm90IGNvbmNhdGVuYXRlIHByb3BlcnRpZXNcbi8vIGludG8gdGhlaXIgc2hvcnRoYW5kIChlLmcuIHBhZGRpbmctdG9wLCBwYWRkaW5nLWJvdHRvbSBldGMuIC0+IHBhZGRpbmcpLFxuLy8gc28gd2UgaGF2ZSB0byBsaXN0IGV2ZXJ5IHNpbmdsZSBwcm9wZXJ0eSBleHBsaWNpdGx5LlxudmFyIHByb3BlcnRpZXMgPSBbXG4gICdkaXJlY3Rpb24nLCAgLy8gUlRMIHN1cHBvcnRcbiAgJ2JveFNpemluZycsXG4gICd3aWR0aCcsICAvLyBvbiBDaHJvbWUgYW5kIElFLCBleGNsdWRlIHRoZSBzY3JvbGxiYXIsIHNvIHRoZSBtaXJyb3IgZGl2IHdyYXBzIGV4YWN0bHkgYXMgdGhlIHRleHRhcmVhIGRvZXNcbiAgJ2hlaWdodCcsXG4gICdvdmVyZmxvd1gnLFxuICAnb3ZlcmZsb3dZJywgIC8vIGNvcHkgdGhlIHNjcm9sbGJhciBmb3IgSUVcblxuICAnYm9yZGVyVG9wV2lkdGgnLFxuICAnYm9yZGVyUmlnaHRXaWR0aCcsXG4gICdib3JkZXJCb3R0b21XaWR0aCcsXG4gICdib3JkZXJMZWZ0V2lkdGgnLFxuICAnYm9yZGVyU3R5bGUnLFxuXG4gICdwYWRkaW5nVG9wJyxcbiAgJ3BhZGRpbmdSaWdodCcsXG4gICdwYWRkaW5nQm90dG9tJyxcbiAgJ3BhZGRpbmdMZWZ0JyxcblxuICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvZm9udFxuICAnZm9udFN0eWxlJyxcbiAgJ2ZvbnRWYXJpYW50JyxcbiAgJ2ZvbnRXZWlnaHQnLFxuICAnZm9udFN0cmV0Y2gnLFxuICAnZm9udFNpemUnLFxuICAnZm9udFNpemVBZGp1c3QnLFxuICAnbGluZUhlaWdodCcsXG4gICdmb250RmFtaWx5JyxcblxuICAndGV4dEFsaWduJyxcbiAgJ3RleHRUcmFuc2Zvcm0nLFxuICAndGV4dEluZGVudCcsXG4gICd0ZXh0RGVjb3JhdGlvbicsICAvLyBtaWdodCBub3QgbWFrZSBhIGRpZmZlcmVuY2UsIGJ1dCBiZXR0ZXIgYmUgc2FmZVxuXG4gICdsZXR0ZXJTcGFjaW5nJyxcbiAgJ3dvcmRTcGFjaW5nJyxcblxuICAndGFiU2l6ZScsXG4gICdNb3pUYWJTaXplJ1xuXG5dO1xuXG52YXIgaXNCcm93c2VyID0gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKTtcbnZhciBpc0ZpcmVmb3ggPSAoaXNCcm93c2VyICYmIHdpbmRvdy5tb3pJbm5lclNjcmVlblggIT0gbnVsbCk7XG5cbmZ1bmN0aW9uIGdldENhcmV0Q29vcmRpbmF0ZXMoZWxlbWVudCwgcG9zaXRpb24sIG9wdGlvbnMpIHtcbiAgaWYgKCFpc0Jyb3dzZXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3RleHRhcmVhLWNhcmV0LXBvc2l0aW9uI2dldENhcmV0Q29vcmRpbmF0ZXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIGluIGEgYnJvd3NlcicpO1xuICB9XG5cbiAgdmFyIGRlYnVnID0gb3B0aW9ucyAmJiBvcHRpb25zLmRlYnVnIHx8IGZhbHNlO1xuICBpZiAoZGVidWcpIHtcbiAgICB2YXIgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW5wdXQtdGV4dGFyZWEtY2FyZXQtcG9zaXRpb24tbWlycm9yLWRpdicpO1xuICAgIGlmIChlbCkgZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbCk7XG4gIH1cblxuICAvLyBUaGUgbWlycm9yIGRpdiB3aWxsIHJlcGxpY2F0ZSB0aGUgdGV4dGFyZWEncyBzdHlsZVxuICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGRpdi5pZCA9ICdpbnB1dC10ZXh0YXJlYS1jYXJldC1wb3NpdGlvbi1taXJyb3ItZGl2JztcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXYpO1xuXG4gIHZhciBzdHlsZSA9IGRpdi5zdHlsZTtcbiAgdmFyIGNvbXB1dGVkID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUgPyB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KSA6IGVsZW1lbnQuY3VycmVudFN0eWxlOyAgLy8gY3VycmVudFN0eWxlIGZvciBJRSA8IDlcbiAgdmFyIGlzSW5wdXQgPSBlbGVtZW50Lm5vZGVOYW1lID09PSAnSU5QVVQnO1xuXG4gIC8vIERlZmF1bHQgdGV4dGFyZWEgc3R5bGVzXG4gIHN0eWxlLndoaXRlU3BhY2UgPSAncHJlLXdyYXAnO1xuICBpZiAoIWlzSW5wdXQpXG4gICAgc3R5bGUud29yZFdyYXAgPSAnYnJlYWstd29yZCc7ICAvLyBvbmx5IGZvciB0ZXh0YXJlYS1zXG5cbiAgLy8gUG9zaXRpb24gb2ZmLXNjcmVlblxuICBzdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7ICAvLyByZXF1aXJlZCB0byByZXR1cm4gY29vcmRpbmF0ZXMgcHJvcGVybHlcbiAgaWYgKCFkZWJ1ZylcbiAgICBzdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7ICAvLyBub3QgJ2Rpc3BsYXk6IG5vbmUnIGJlY2F1c2Ugd2Ugd2FudCByZW5kZXJpbmdcblxuICAvLyBUcmFuc2ZlciB0aGUgZWxlbWVudCdzIHByb3BlcnRpZXMgdG8gdGhlIGRpdlxuICBwcm9wZXJ0aWVzLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICBpZiAoaXNJbnB1dCAmJiBwcm9wID09PSAnbGluZUhlaWdodCcpIHtcbiAgICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgPGlucHV0PnMgYmVjYXVzZSB0ZXh0IGlzIHJlbmRlcmVkIGNlbnRlcmVkIGFuZCBsaW5lIGhlaWdodCBtYXkgYmUgIT0gaGVpZ2h0XG4gICAgICBzdHlsZS5saW5lSGVpZ2h0ID0gY29tcHV0ZWQuaGVpZ2h0O1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZVtwcm9wXSA9IGNvbXB1dGVkW3Byb3BdO1xuICAgIH1cbiAgfSk7XG5cbiAgaWYgKGlzRmlyZWZveCkge1xuICAgIC8vIEZpcmVmb3ggbGllcyBhYm91dCB0aGUgb3ZlcmZsb3cgcHJvcGVydHkgZm9yIHRleHRhcmVhczogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9OTg0Mjc1XG4gICAgaWYgKGVsZW1lbnQuc2Nyb2xsSGVpZ2h0ID4gcGFyc2VJbnQoY29tcHV0ZWQuaGVpZ2h0KSlcbiAgICAgIHN0eWxlLm92ZXJmbG93WSA9ICdzY3JvbGwnO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7ICAvLyBmb3IgQ2hyb21lIHRvIG5vdCByZW5kZXIgYSBzY3JvbGxiYXI7IElFIGtlZXBzIG92ZXJmbG93WSA9ICdzY3JvbGwnXG4gIH1cblxuICBkaXYudGV4dENvbnRlbnQgPSBlbGVtZW50LnZhbHVlLnN1YnN0cmluZygwLCBwb3NpdGlvbik7XG4gIC8vIFRoZSBzZWNvbmQgc3BlY2lhbCBoYW5kbGluZyBmb3IgaW5wdXQgdHlwZT1cInRleHRcIiB2cyB0ZXh0YXJlYTpcbiAgLy8gc3BhY2VzIG5lZWQgdG8gYmUgcmVwbGFjZWQgd2l0aCBub24tYnJlYWtpbmcgc3BhY2VzIC0gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTM0MDIwMzUvMTI2OTAzN1xuICBpZiAoaXNJbnB1dClcbiAgICBkaXYudGV4dENvbnRlbnQgPSBkaXYudGV4dENvbnRlbnQucmVwbGFjZSgvXFxzL2csICdcXHUwMGEwJyk7XG5cbiAgdmFyIHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gIC8vIFdyYXBwaW5nIG11c3QgYmUgcmVwbGljYXRlZCAqZXhhY3RseSosIGluY2x1ZGluZyB3aGVuIGEgbG9uZyB3b3JkIGdldHNcbiAgLy8gb250byB0aGUgbmV4dCBsaW5lLCB3aXRoIHdoaXRlc3BhY2UgYXQgdGhlIGVuZCBvZiB0aGUgbGluZSBiZWZvcmUgKCM3KS5cbiAgLy8gVGhlICAqb25seSogcmVsaWFibGUgd2F5IHRvIGRvIHRoYXQgaXMgdG8gY29weSB0aGUgKmVudGlyZSogcmVzdCBvZiB0aGVcbiAgLy8gdGV4dGFyZWEncyBjb250ZW50IGludG8gdGhlIDxzcGFuPiBjcmVhdGVkIGF0IHRoZSBjYXJldCBwb3NpdGlvbi5cbiAgLy8gRm9yIGlucHV0cywganVzdCAnLicgd291bGQgYmUgZW5vdWdoLCBidXQgbm8gbmVlZCB0byBib3RoZXIuXG4gIHNwYW4udGV4dENvbnRlbnQgPSBlbGVtZW50LnZhbHVlLnN1YnN0cmluZyhwb3NpdGlvbikgfHwgJy4nOyAgLy8gfHwgYmVjYXVzZSBhIGNvbXBsZXRlbHkgZW1wdHkgZmF1eCBzcGFuIGRvZXNuJ3QgcmVuZGVyIGF0IGFsbFxuICBkaXYuYXBwZW5kQ2hpbGQoc3Bhbik7XG5cbiAgdmFyIGNvb3JkaW5hdGVzID0ge1xuICAgIHRvcDogc3Bhbi5vZmZzZXRUb3AgKyBwYXJzZUludChjb21wdXRlZFsnYm9yZGVyVG9wV2lkdGgnXSksXG4gICAgbGVmdDogc3Bhbi5vZmZzZXRMZWZ0ICsgcGFyc2VJbnQoY29tcHV0ZWRbJ2JvcmRlckxlZnRXaWR0aCddKSxcbiAgICBoZWlnaHQ6IHBhcnNlSW50KGNvbXB1dGVkWydsaW5lSGVpZ2h0J10pXG4gIH07XG5cbiAgaWYgKGRlYnVnKSB7XG4gICAgc3Bhbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI2FhYSc7XG4gIH0gZWxzZSB7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkaXYpO1xuICB9XG5cbiAgcmV0dXJuIGNvb3JkaW5hdGVzO1xufVxuXG5pZiAodHlwZW9mIG1vZHVsZSAhPSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBnZXRDYXJldENvb3JkaW5hdGVzO1xufSBlbHNlIGlmKGlzQnJvd3Nlcikge1xuICB3aW5kb3cuZ2V0Q2FyZXRDb29yZGluYXRlcyA9IGdldENhcmV0Q29vcmRpbmF0ZXM7XG59XG5cbn0oKSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYmluZChmbiwgdGhpc0FyZykge1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcCgpIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuICAgIHJldHVybiBmbi5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgfTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcbnZhciBzZXR0bGUgPSByZXF1aXJlKCcuLy4uL2NvcmUvc2V0dGxlJyk7XG52YXIgYnVpbGRVUkwgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvYnVpbGRVUkwnKTtcbnZhciBwYXJzZUhlYWRlcnMgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvcGFyc2VIZWFkZXJzJyk7XG52YXIgaXNVUkxTYW1lT3JpZ2luID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2lzVVJMU2FtZU9yaWdpbicpO1xudmFyIGNyZWF0ZUVycm9yID0gcmVxdWlyZSgnLi4vY29yZS9jcmVhdGVFcnJvcicpO1xudmFyIGJ0b2EgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmJ0b2EgJiYgd2luZG93LmJ0b2EuYmluZCh3aW5kb3cpKSB8fCByZXF1aXJlKCcuLy4uL2hlbHBlcnMvYnRvYScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHhockFkYXB0ZXIoY29uZmlnKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiBkaXNwYXRjaFhoclJlcXVlc3QocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgdmFyIHJlcXVlc3REYXRhID0gY29uZmlnLmRhdGE7XG4gICAgdmFyIHJlcXVlc3RIZWFkZXJzID0gY29uZmlnLmhlYWRlcnM7XG5cbiAgICBpZiAodXRpbHMuaXNGb3JtRGF0YShyZXF1ZXN0RGF0YSkpIHtcbiAgICAgIGRlbGV0ZSByZXF1ZXN0SGVhZGVyc1snQ29udGVudC1UeXBlJ107IC8vIExldCB0aGUgYnJvd3NlciBzZXQgaXRcbiAgICB9XG5cbiAgICB2YXIgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIHZhciBsb2FkRXZlbnQgPSAnb25yZWFkeXN0YXRlY2hhbmdlJztcbiAgICB2YXIgeERvbWFpbiA9IGZhbHNlO1xuXG4gICAgLy8gRm9yIElFIDgvOSBDT1JTIHN1cHBvcnRcbiAgICAvLyBPbmx5IHN1cHBvcnRzIFBPU1QgYW5kIEdFVCBjYWxscyBhbmQgZG9lc24ndCByZXR1cm5zIHRoZSByZXNwb25zZSBoZWFkZXJzLlxuICAgIC8vIERPTidUIGRvIHRoaXMgZm9yIHRlc3RpbmcgYi9jIFhNTEh0dHBSZXF1ZXN0IGlzIG1vY2tlZCwgbm90IFhEb21haW5SZXF1ZXN0LlxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Rlc3QnICYmXG4gICAgICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIHdpbmRvdy5YRG9tYWluUmVxdWVzdCAmJiAhKCd3aXRoQ3JlZGVudGlhbHMnIGluIHJlcXVlc3QpICYmXG4gICAgICAgICFpc1VSTFNhbWVPcmlnaW4oY29uZmlnLnVybCkpIHtcbiAgICAgIHJlcXVlc3QgPSBuZXcgd2luZG93LlhEb21haW5SZXF1ZXN0KCk7XG4gICAgICBsb2FkRXZlbnQgPSAnb25sb2FkJztcbiAgICAgIHhEb21haW4gPSB0cnVlO1xuICAgICAgcmVxdWVzdC5vbnByb2dyZXNzID0gZnVuY3Rpb24gaGFuZGxlUHJvZ3Jlc3MoKSB7fTtcbiAgICAgIHJlcXVlc3Qub250aW1lb3V0ID0gZnVuY3Rpb24gaGFuZGxlVGltZW91dCgpIHt9O1xuICAgIH1cblxuICAgIC8vIEhUVFAgYmFzaWMgYXV0aGVudGljYXRpb25cbiAgICBpZiAoY29uZmlnLmF1dGgpIHtcbiAgICAgIHZhciB1c2VybmFtZSA9IGNvbmZpZy5hdXRoLnVzZXJuYW1lIHx8ICcnO1xuICAgICAgdmFyIHBhc3N3b3JkID0gY29uZmlnLmF1dGgucGFzc3dvcmQgfHwgJyc7XG4gICAgICByZXF1ZXN0SGVhZGVycy5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyBidG9hKHVzZXJuYW1lICsgJzonICsgcGFzc3dvcmQpO1xuICAgIH1cblxuICAgIHJlcXVlc3Qub3Blbihjb25maWcubWV0aG9kLnRvVXBwZXJDYXNlKCksIGJ1aWxkVVJMKGNvbmZpZy51cmwsIGNvbmZpZy5wYXJhbXMsIGNvbmZpZy5wYXJhbXNTZXJpYWxpemVyKSwgdHJ1ZSk7XG5cbiAgICAvLyBTZXQgdGhlIHJlcXVlc3QgdGltZW91dCBpbiBNU1xuICAgIHJlcXVlc3QudGltZW91dCA9IGNvbmZpZy50aW1lb3V0O1xuXG4gICAgLy8gTGlzdGVuIGZvciByZWFkeSBzdGF0ZVxuICAgIHJlcXVlc3RbbG9hZEV2ZW50XSA9IGZ1bmN0aW9uIGhhbmRsZUxvYWQoKSB7XG4gICAgICBpZiAoIXJlcXVlc3QgfHwgKHJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gNCAmJiAheERvbWFpbikpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBUaGUgcmVxdWVzdCBlcnJvcmVkIG91dCBhbmQgd2UgZGlkbid0IGdldCBhIHJlc3BvbnNlLCB0aGlzIHdpbGwgYmVcbiAgICAgIC8vIGhhbmRsZWQgYnkgb25lcnJvciBpbnN0ZWFkXG4gICAgICAvLyBXaXRoIG9uZSBleGNlcHRpb246IHJlcXVlc3QgdGhhdCB1c2luZyBmaWxlOiBwcm90b2NvbCwgbW9zdCBicm93c2Vyc1xuICAgICAgLy8gd2lsbCByZXR1cm4gc3RhdHVzIGFzIDAgZXZlbiB0aG91Z2ggaXQncyBhIHN1Y2Nlc3NmdWwgcmVxdWVzdFxuICAgICAgaWYgKHJlcXVlc3Quc3RhdHVzID09PSAwICYmICEocmVxdWVzdC5yZXNwb25zZVVSTCAmJiByZXF1ZXN0LnJlc3BvbnNlVVJMLmluZGV4T2YoJ2ZpbGU6JykgPT09IDApKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gUHJlcGFyZSB0aGUgcmVzcG9uc2VcbiAgICAgIHZhciByZXNwb25zZUhlYWRlcnMgPSAnZ2V0QWxsUmVzcG9uc2VIZWFkZXJzJyBpbiByZXF1ZXN0ID8gcGFyc2VIZWFkZXJzKHJlcXVlc3QuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpIDogbnVsbDtcbiAgICAgIHZhciByZXNwb25zZURhdGEgPSAhY29uZmlnLnJlc3BvbnNlVHlwZSB8fCBjb25maWcucmVzcG9uc2VUeXBlID09PSAndGV4dCcgPyByZXF1ZXN0LnJlc3BvbnNlVGV4dCA6IHJlcXVlc3QucmVzcG9uc2U7XG4gICAgICB2YXIgcmVzcG9uc2UgPSB7XG4gICAgICAgIGRhdGE6IHJlc3BvbnNlRGF0YSxcbiAgICAgICAgLy8gSUUgc2VuZHMgMTIyMyBpbnN0ZWFkIG9mIDIwNCAoaHR0cHM6Ly9naXRodWIuY29tL2F4aW9zL2F4aW9zL2lzc3Vlcy8yMDEpXG4gICAgICAgIHN0YXR1czogcmVxdWVzdC5zdGF0dXMgPT09IDEyMjMgPyAyMDQgOiByZXF1ZXN0LnN0YXR1cyxcbiAgICAgICAgc3RhdHVzVGV4dDogcmVxdWVzdC5zdGF0dXMgPT09IDEyMjMgPyAnTm8gQ29udGVudCcgOiByZXF1ZXN0LnN0YXR1c1RleHQsXG4gICAgICAgIGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgY29uZmlnOiBjb25maWcsXG4gICAgICAgIHJlcXVlc3Q6IHJlcXVlc3RcbiAgICAgIH07XG5cbiAgICAgIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHJlc3BvbnNlKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEhhbmRsZSBsb3cgbGV2ZWwgbmV0d29yayBlcnJvcnNcbiAgICByZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbiBoYW5kbGVFcnJvcigpIHtcbiAgICAgIC8vIFJlYWwgZXJyb3JzIGFyZSBoaWRkZW4gZnJvbSB1cyBieSB0aGUgYnJvd3NlclxuICAgICAgLy8gb25lcnJvciBzaG91bGQgb25seSBmaXJlIGlmIGl0J3MgYSBuZXR3b3JrIGVycm9yXG4gICAgICByZWplY3QoY3JlYXRlRXJyb3IoJ05ldHdvcmsgRXJyb3InLCBjb25maWcsIG51bGwsIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEhhbmRsZSB0aW1lb3V0XG4gICAgcmVxdWVzdC5vbnRpbWVvdXQgPSBmdW5jdGlvbiBoYW5kbGVUaW1lb3V0KCkge1xuICAgICAgcmVqZWN0KGNyZWF0ZUVycm9yKCd0aW1lb3V0IG9mICcgKyBjb25maWcudGltZW91dCArICdtcyBleGNlZWRlZCcsIGNvbmZpZywgJ0VDT05OQUJPUlRFRCcsXG4gICAgICAgIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEFkZCB4c3JmIGhlYWRlclxuICAgIC8vIFRoaXMgaXMgb25seSBkb25lIGlmIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50LlxuICAgIC8vIFNwZWNpZmljYWxseSBub3QgaWYgd2UncmUgaW4gYSB3ZWIgd29ya2VyLCBvciByZWFjdC1uYXRpdmUuXG4gICAgaWYgKHV0aWxzLmlzU3RhbmRhcmRCcm93c2VyRW52KCkpIHtcbiAgICAgIHZhciBjb29raWVzID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2Nvb2tpZXMnKTtcblxuICAgICAgLy8gQWRkIHhzcmYgaGVhZGVyXG4gICAgICB2YXIgeHNyZlZhbHVlID0gKGNvbmZpZy53aXRoQ3JlZGVudGlhbHMgfHwgaXNVUkxTYW1lT3JpZ2luKGNvbmZpZy51cmwpKSAmJiBjb25maWcueHNyZkNvb2tpZU5hbWUgP1xuICAgICAgICAgIGNvb2tpZXMucmVhZChjb25maWcueHNyZkNvb2tpZU5hbWUpIDpcbiAgICAgICAgICB1bmRlZmluZWQ7XG5cbiAgICAgIGlmICh4c3JmVmFsdWUpIHtcbiAgICAgICAgcmVxdWVzdEhlYWRlcnNbY29uZmlnLnhzcmZIZWFkZXJOYW1lXSA9IHhzcmZWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBZGQgaGVhZGVycyB0byB0aGUgcmVxdWVzdFxuICAgIGlmICgnc2V0UmVxdWVzdEhlYWRlcicgaW4gcmVxdWVzdCkge1xuICAgICAgdXRpbHMuZm9yRWFjaChyZXF1ZXN0SGVhZGVycywgZnVuY3Rpb24gc2V0UmVxdWVzdEhlYWRlcih2YWwsIGtleSkge1xuICAgICAgICBpZiAodHlwZW9mIHJlcXVlc3REYXRhID09PSAndW5kZWZpbmVkJyAmJiBrZXkudG9Mb3dlckNhc2UoKSA9PT0gJ2NvbnRlbnQtdHlwZScpIHtcbiAgICAgICAgICAvLyBSZW1vdmUgQ29udGVudC1UeXBlIGlmIGRhdGEgaXMgdW5kZWZpbmVkXG4gICAgICAgICAgZGVsZXRlIHJlcXVlc3RIZWFkZXJzW2tleV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gT3RoZXJ3aXNlIGFkZCBoZWFkZXIgdG8gdGhlIHJlcXVlc3RcbiAgICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoa2V5LCB2YWwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBBZGQgd2l0aENyZWRlbnRpYWxzIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKGNvbmZpZy53aXRoQ3JlZGVudGlhbHMpIHtcbiAgICAgIHJlcXVlc3Qud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBBZGQgcmVzcG9uc2VUeXBlIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKGNvbmZpZy5yZXNwb25zZVR5cGUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJlcXVlc3QucmVzcG9uc2VUeXBlID0gY29uZmlnLnJlc3BvbnNlVHlwZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gRXhwZWN0ZWQgRE9NRXhjZXB0aW9uIHRocm93biBieSBicm93c2VycyBub3QgY29tcGF0aWJsZSBYTUxIdHRwUmVxdWVzdCBMZXZlbCAyLlxuICAgICAgICAvLyBCdXQsIHRoaXMgY2FuIGJlIHN1cHByZXNzZWQgZm9yICdqc29uJyB0eXBlIGFzIGl0IGNhbiBiZSBwYXJzZWQgYnkgZGVmYXVsdCAndHJhbnNmb3JtUmVzcG9uc2UnIGZ1bmN0aW9uLlxuICAgICAgICBpZiAoY29uZmlnLnJlc3BvbnNlVHlwZSAhPT0gJ2pzb24nKSB7XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEhhbmRsZSBwcm9ncmVzcyBpZiBuZWVkZWRcbiAgICBpZiAodHlwZW9mIGNvbmZpZy5vbkRvd25sb2FkUHJvZ3Jlc3MgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBjb25maWcub25Eb3dubG9hZFByb2dyZXNzKTtcbiAgICB9XG5cbiAgICAvLyBOb3QgYWxsIGJyb3dzZXJzIHN1cHBvcnQgdXBsb2FkIGV2ZW50c1xuICAgIGlmICh0eXBlb2YgY29uZmlnLm9uVXBsb2FkUHJvZ3Jlc3MgPT09ICdmdW5jdGlvbicgJiYgcmVxdWVzdC51cGxvYWQpIHtcbiAgICAgIHJlcXVlc3QudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgY29uZmlnLm9uVXBsb2FkUHJvZ3Jlc3MpO1xuICAgIH1cblxuICAgIGlmIChjb25maWcuY2FuY2VsVG9rZW4pIHtcbiAgICAgIC8vIEhhbmRsZSBjYW5jZWxsYXRpb25cbiAgICAgIGNvbmZpZy5jYW5jZWxUb2tlbi5wcm9taXNlLnRoZW4oZnVuY3Rpb24gb25DYW5jZWxlZChjYW5jZWwpIHtcbiAgICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICByZWplY3QoY2FuY2VsKTtcbiAgICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChyZXF1ZXN0RGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXF1ZXN0RGF0YSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gU2VuZCB0aGUgcmVxdWVzdFxuICAgIHJlcXVlc3Quc2VuZChyZXF1ZXN0RGF0YSk7XG4gIH0pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGVuaGFuY2VFcnJvciA9IHJlcXVpcmUoJy4vZW5oYW5jZUVycm9yJyk7XG5cbi8qKlxuICogQ3JlYXRlIGFuIEVycm9yIHdpdGggdGhlIHNwZWNpZmllZCBtZXNzYWdlLCBjb25maWcsIGVycm9yIGNvZGUsIHJlcXVlc3QgYW5kIHJlc3BvbnNlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnLlxuICogQHBhcmFtIHtzdHJpbmd9IFtjb2RlXSBUaGUgZXJyb3IgY29kZSAoZm9yIGV4YW1wbGUsICdFQ09OTkFCT1JURUQnKS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVxdWVzdF0gVGhlIHJlcXVlc3QuXG4gKiBAcGFyYW0ge09iamVjdH0gW3Jlc3BvbnNlXSBUaGUgcmVzcG9uc2UuXG4gKiBAcmV0dXJucyB7RXJyb3J9IFRoZSBjcmVhdGVkIGVycm9yLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNyZWF0ZUVycm9yKG1lc3NhZ2UsIGNvbmZpZywgY29kZSwgcmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgdmFyIGVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuICByZXR1cm4gZW5oYW5jZUVycm9yKGVycm9yLCBjb25maWcsIGNvZGUsIHJlcXVlc3QsIHJlc3BvbnNlKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNDYW5jZWwodmFsdWUpIHtcbiAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlLl9fQ0FOQ0VMX18pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBBIGBDYW5jZWxgIGlzIGFuIG9iamVjdCB0aGF0IGlzIHRocm93biB3aGVuIGFuIG9wZXJhdGlvbiBpcyBjYW5jZWxlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbWVzc2FnZSBUaGUgbWVzc2FnZS5cbiAqL1xuZnVuY3Rpb24gQ2FuY2VsKG1lc3NhZ2UpIHtcbiAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbn1cblxuQ2FuY2VsLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICByZXR1cm4gJ0NhbmNlbCcgKyAodGhpcy5tZXNzYWdlID8gJzogJyArIHRoaXMubWVzc2FnZSA6ICcnKTtcbn07XG5cbkNhbmNlbC5wcm90b3R5cGUuX19DQU5DRUxfXyA9IHRydWU7XG5cbm1vZHVsZS5leHBvcnRzID0gQ2FuY2VsO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG52YXIgYmluZCA9IHJlcXVpcmUoJy4vaGVscGVycy9iaW5kJyk7XG52YXIgQXhpb3MgPSByZXF1aXJlKCcuL2NvcmUvQXhpb3MnKTtcbnZhciBkZWZhdWx0cyA9IHJlcXVpcmUoJy4vZGVmYXVsdHMnKTtcblxuLyoqXG4gKiBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgQXhpb3NcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZGVmYXVsdENvbmZpZyBUaGUgZGVmYXVsdCBjb25maWcgZm9yIHRoZSBpbnN0YW5jZVxuICogQHJldHVybiB7QXhpb3N9IEEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlKGRlZmF1bHRDb25maWcpIHtcbiAgdmFyIGNvbnRleHQgPSBuZXcgQXhpb3MoZGVmYXVsdENvbmZpZyk7XG4gIHZhciBpbnN0YW5jZSA9IGJpbmQoQXhpb3MucHJvdG90eXBlLnJlcXVlc3QsIGNvbnRleHQpO1xuXG4gIC8vIENvcHkgYXhpb3MucHJvdG90eXBlIHRvIGluc3RhbmNlXG4gIHV0aWxzLmV4dGVuZChpbnN0YW5jZSwgQXhpb3MucHJvdG90eXBlLCBjb250ZXh0KTtcblxuICAvLyBDb3B5IGNvbnRleHQgdG8gaW5zdGFuY2VcbiAgdXRpbHMuZXh0ZW5kKGluc3RhbmNlLCBjb250ZXh0KTtcblxuICByZXR1cm4gaW5zdGFuY2U7XG59XG5cbi8vIENyZWF0ZSB0aGUgZGVmYXVsdCBpbnN0YW5jZSB0byBiZSBleHBvcnRlZFxudmFyIGF4aW9zID0gY3JlYXRlSW5zdGFuY2UoZGVmYXVsdHMpO1xuXG4vLyBFeHBvc2UgQXhpb3MgY2xhc3MgdG8gYWxsb3cgY2xhc3MgaW5oZXJpdGFuY2VcbmF4aW9zLkF4aW9zID0gQXhpb3M7XG5cbi8vIEZhY3RvcnkgZm9yIGNyZWF0aW5nIG5ldyBpbnN0YW5jZXNcbmF4aW9zLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShpbnN0YW5jZUNvbmZpZykge1xuICByZXR1cm4gY3JlYXRlSW5zdGFuY2UodXRpbHMubWVyZ2UoZGVmYXVsdHMsIGluc3RhbmNlQ29uZmlnKSk7XG59O1xuXG4vLyBFeHBvc2UgQ2FuY2VsICYgQ2FuY2VsVG9rZW5cbmF4aW9zLkNhbmNlbCA9IHJlcXVpcmUoJy4vY2FuY2VsL0NhbmNlbCcpO1xuYXhpb3MuQ2FuY2VsVG9rZW4gPSByZXF1aXJlKCcuL2NhbmNlbC9DYW5jZWxUb2tlbicpO1xuYXhpb3MuaXNDYW5jZWwgPSByZXF1aXJlKCcuL2NhbmNlbC9pc0NhbmNlbCcpO1xuXG4vLyBFeHBvc2UgYWxsL3NwcmVhZFxuYXhpb3MuYWxsID0gZnVuY3Rpb24gYWxsKHByb21pc2VzKSB7XG4gIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG59O1xuYXhpb3Muc3ByZWFkID0gcmVxdWlyZSgnLi9oZWxwZXJzL3NwcmVhZCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGF4aW9zO1xuXG4vLyBBbGxvdyB1c2Ugb2YgZGVmYXVsdCBpbXBvcnQgc3ludGF4IGluIFR5cGVTY3JpcHRcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBheGlvcztcbiIsIi8qIVxuICogRGV0ZXJtaW5lIGlmIGFuIG9iamVjdCBpcyBhIEJ1ZmZlclxuICpcbiAqIEBhdXRob3IgICBGZXJvc3MgQWJvdWtoYWRpamVoIDxodHRwczovL2Zlcm9zcy5vcmc+XG4gKiBAbGljZW5zZSAgTUlUXG4gKi9cblxuLy8gVGhlIF9pc0J1ZmZlciBjaGVjayBpcyBmb3IgU2FmYXJpIDUtNyBzdXBwb3J0LCBiZWNhdXNlIGl0J3MgbWlzc2luZ1xuLy8gT2JqZWN0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvci4gUmVtb3ZlIHRoaXMgZXZlbnR1YWxseVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiBvYmogIT0gbnVsbCAmJiAoaXNCdWZmZXIob2JqKSB8fCBpc1Nsb3dCdWZmZXIob2JqKSB8fCAhIW9iai5faXNCdWZmZXIpXG59XG5cbmZ1bmN0aW9uIGlzQnVmZmVyIChvYmopIHtcbiAgcmV0dXJuICEhb2JqLmNvbnN0cnVjdG9yICYmIHR5cGVvZiBvYmouY29uc3RydWN0b3IuaXNCdWZmZXIgPT09ICdmdW5jdGlvbicgJiYgb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyKG9iailcbn1cblxuLy8gRm9yIE5vZGUgdjAuMTAgc3VwcG9ydC4gUmVtb3ZlIHRoaXMgZXZlbnR1YWxseS5cbmZ1bmN0aW9uIGlzU2xvd0J1ZmZlciAob2JqKSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqLnJlYWRGbG9hdExFID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBvYmouc2xpY2UgPT09ICdmdW5jdGlvbicgJiYgaXNCdWZmZXIob2JqLnNsaWNlKDAsIDApKVxufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZGVmYXVsdHMgPSByZXF1aXJlKCcuLy4uL2RlZmF1bHRzJyk7XG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG52YXIgSW50ZXJjZXB0b3JNYW5hZ2VyID0gcmVxdWlyZSgnLi9JbnRlcmNlcHRvck1hbmFnZXInKTtcbnZhciBkaXNwYXRjaFJlcXVlc3QgPSByZXF1aXJlKCcuL2Rpc3BhdGNoUmVxdWVzdCcpO1xuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiBBeGlvc1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZUNvbmZpZyBUaGUgZGVmYXVsdCBjb25maWcgZm9yIHRoZSBpbnN0YW5jZVxuICovXG5mdW5jdGlvbiBBeGlvcyhpbnN0YW5jZUNvbmZpZykge1xuICB0aGlzLmRlZmF1bHRzID0gaW5zdGFuY2VDb25maWc7XG4gIHRoaXMuaW50ZXJjZXB0b3JzID0ge1xuICAgIHJlcXVlc3Q6IG5ldyBJbnRlcmNlcHRvck1hbmFnZXIoKSxcbiAgICByZXNwb25zZTogbmV3IEludGVyY2VwdG9yTWFuYWdlcigpXG4gIH07XG59XG5cbi8qKlxuICogRGlzcGF0Y2ggYSByZXF1ZXN0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnIHNwZWNpZmljIGZvciB0aGlzIHJlcXVlc3QgKG1lcmdlZCB3aXRoIHRoaXMuZGVmYXVsdHMpXG4gKi9cbkF4aW9zLnByb3RvdHlwZS5yZXF1ZXN0ID0gZnVuY3Rpb24gcmVxdWVzdChjb25maWcpIHtcbiAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gIC8vIEFsbG93IGZvciBheGlvcygnZXhhbXBsZS91cmwnWywgY29uZmlnXSkgYSBsYSBmZXRjaCBBUElcbiAgaWYgKHR5cGVvZiBjb25maWcgPT09ICdzdHJpbmcnKSB7XG4gICAgY29uZmlnID0gdXRpbHMubWVyZ2Uoe1xuICAgICAgdXJsOiBhcmd1bWVudHNbMF1cbiAgICB9LCBhcmd1bWVudHNbMV0pO1xuICB9XG5cbiAgY29uZmlnID0gdXRpbHMubWVyZ2UoZGVmYXVsdHMsIHttZXRob2Q6ICdnZXQnfSwgdGhpcy5kZWZhdWx0cywgY29uZmlnKTtcbiAgY29uZmlnLm1ldGhvZCA9IGNvbmZpZy5tZXRob2QudG9Mb3dlckNhc2UoKTtcblxuICAvLyBIb29rIHVwIGludGVyY2VwdG9ycyBtaWRkbGV3YXJlXG4gIHZhciBjaGFpbiA9IFtkaXNwYXRjaFJlcXVlc3QsIHVuZGVmaW5lZF07XG4gIHZhciBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKGNvbmZpZyk7XG5cbiAgdGhpcy5pbnRlcmNlcHRvcnMucmVxdWVzdC5mb3JFYWNoKGZ1bmN0aW9uIHVuc2hpZnRSZXF1ZXN0SW50ZXJjZXB0b3JzKGludGVyY2VwdG9yKSB7XG4gICAgY2hhaW4udW5zaGlmdChpbnRlcmNlcHRvci5mdWxmaWxsZWQsIGludGVyY2VwdG9yLnJlamVjdGVkKTtcbiAgfSk7XG5cbiAgdGhpcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UuZm9yRWFjaChmdW5jdGlvbiBwdXNoUmVzcG9uc2VJbnRlcmNlcHRvcnMoaW50ZXJjZXB0b3IpIHtcbiAgICBjaGFpbi5wdXNoKGludGVyY2VwdG9yLmZ1bGZpbGxlZCwgaW50ZXJjZXB0b3IucmVqZWN0ZWQpO1xuICB9KTtcblxuICB3aGlsZSAoY2hhaW4ubGVuZ3RoKSB7XG4gICAgcHJvbWlzZSA9IHByb21pc2UudGhlbihjaGFpbi5zaGlmdCgpLCBjaGFpbi5zaGlmdCgpKTtcbiAgfVxuXG4gIHJldHVybiBwcm9taXNlO1xufTtcblxuLy8gUHJvdmlkZSBhbGlhc2VzIGZvciBzdXBwb3J0ZWQgcmVxdWVzdCBtZXRob2RzXG51dGlscy5mb3JFYWNoKFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ29wdGlvbnMnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZE5vRGF0YShtZXRob2QpIHtcbiAgLyplc2xpbnQgZnVuYy1uYW1lczowKi9cbiAgQXhpb3MucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbih1cmwsIGNvbmZpZykge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QodXRpbHMubWVyZ2UoY29uZmlnIHx8IHt9LCB7XG4gICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgIHVybDogdXJsXG4gICAgfSkpO1xuICB9O1xufSk7XG5cbnV0aWxzLmZvckVhY2goWydwb3N0JywgJ3B1dCcsICdwYXRjaCddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kV2l0aERhdGEobWV0aG9kKSB7XG4gIC8qZXNsaW50IGZ1bmMtbmFtZXM6MCovXG4gIEF4aW9zLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24odXJsLCBkYXRhLCBjb25maWcpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHV0aWxzLm1lcmdlKGNvbmZpZyB8fCB7fSwge1xuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICB1cmw6IHVybCxcbiAgICAgIGRhdGE6IGRhdGFcbiAgICB9KSk7XG4gIH07XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBBeGlvcztcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBub3JtYWxpemVIZWFkZXJOYW1lKGhlYWRlcnMsIG5vcm1hbGl6ZWROYW1lKSB7XG4gIHV0aWxzLmZvckVhY2goaGVhZGVycywgZnVuY3Rpb24gcHJvY2Vzc0hlYWRlcih2YWx1ZSwgbmFtZSkge1xuICAgIGlmIChuYW1lICE9PSBub3JtYWxpemVkTmFtZSAmJiBuYW1lLnRvVXBwZXJDYXNlKCkgPT09IG5vcm1hbGl6ZWROYW1lLnRvVXBwZXJDYXNlKCkpIHtcbiAgICAgIGhlYWRlcnNbbm9ybWFsaXplZE5hbWVdID0gdmFsdWU7XG4gICAgICBkZWxldGUgaGVhZGVyc1tuYW1lXTtcbiAgICB9XG4gIH0pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGNyZWF0ZUVycm9yID0gcmVxdWlyZSgnLi9jcmVhdGVFcnJvcicpO1xuXG4vKipcbiAqIFJlc29sdmUgb3IgcmVqZWN0IGEgUHJvbWlzZSBiYXNlZCBvbiByZXNwb25zZSBzdGF0dXMuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVzb2x2ZSBBIGZ1bmN0aW9uIHRoYXQgcmVzb2x2ZXMgdGhlIHByb21pc2UuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWplY3QgQSBmdW5jdGlvbiB0aGF0IHJlamVjdHMgdGhlIHByb21pc2UuXG4gKiBAcGFyYW0ge29iamVjdH0gcmVzcG9uc2UgVGhlIHJlc3BvbnNlLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHJlc3BvbnNlKSB7XG4gIHZhciB2YWxpZGF0ZVN0YXR1cyA9IHJlc3BvbnNlLmNvbmZpZy52YWxpZGF0ZVN0YXR1cztcbiAgLy8gTm90ZTogc3RhdHVzIGlzIG5vdCBleHBvc2VkIGJ5IFhEb21haW5SZXF1ZXN0XG4gIGlmICghcmVzcG9uc2Uuc3RhdHVzIHx8ICF2YWxpZGF0ZVN0YXR1cyB8fCB2YWxpZGF0ZVN0YXR1cyhyZXNwb25zZS5zdGF0dXMpKSB7XG4gICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gIH0gZWxzZSB7XG4gICAgcmVqZWN0KGNyZWF0ZUVycm9yKFxuICAgICAgJ1JlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUgJyArIHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgIHJlc3BvbnNlLmNvbmZpZyxcbiAgICAgIG51bGwsXG4gICAgICByZXNwb25zZS5yZXF1ZXN0LFxuICAgICAgcmVzcG9uc2VcbiAgICApKTtcbiAgfVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBVcGRhdGUgYW4gRXJyb3Igd2l0aCB0aGUgc3BlY2lmaWVkIGNvbmZpZywgZXJyb3IgY29kZSwgYW5kIHJlc3BvbnNlLlxuICpcbiAqIEBwYXJhbSB7RXJyb3J9IGVycm9yIFRoZSBlcnJvciB0byB1cGRhdGUuXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWcuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2NvZGVdIFRoZSBlcnJvciBjb2RlIChmb3IgZXhhbXBsZSwgJ0VDT05OQUJPUlRFRCcpLlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXF1ZXN0XSBUaGUgcmVxdWVzdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVzcG9uc2VdIFRoZSByZXNwb25zZS5cbiAqIEByZXR1cm5zIHtFcnJvcn0gVGhlIGVycm9yLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGVuaGFuY2VFcnJvcihlcnJvciwgY29uZmlnLCBjb2RlLCByZXF1ZXN0LCByZXNwb25zZSkge1xuICBlcnJvci5jb25maWcgPSBjb25maWc7XG4gIGlmIChjb2RlKSB7XG4gICAgZXJyb3IuY29kZSA9IGNvZGU7XG4gIH1cbiAgZXJyb3IucmVxdWVzdCA9IHJlcXVlc3Q7XG4gIGVycm9yLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gIHJldHVybiBlcnJvcjtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gZW5jb2RlKHZhbCkge1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkuXG4gICAgcmVwbGFjZSgvJTQwL2dpLCAnQCcpLlxuICAgIHJlcGxhY2UoLyUzQS9naSwgJzonKS5cbiAgICByZXBsYWNlKC8lMjQvZywgJyQnKS5cbiAgICByZXBsYWNlKC8lMkMvZ2ksICcsJykuXG4gICAgcmVwbGFjZSgvJTIwL2csICcrJykuXG4gICAgcmVwbGFjZSgvJTVCL2dpLCAnWycpLlxuICAgIHJlcGxhY2UoLyU1RC9naSwgJ10nKTtcbn1cblxuLyoqXG4gKiBCdWlsZCBhIFVSTCBieSBhcHBlbmRpbmcgcGFyYW1zIHRvIHRoZSBlbmRcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBiYXNlIG9mIHRoZSB1cmwgKGUuZy4sIGh0dHA6Ly93d3cuZ29vZ2xlLmNvbSlcbiAqIEBwYXJhbSB7b2JqZWN0fSBbcGFyYW1zXSBUaGUgcGFyYW1zIHRvIGJlIGFwcGVuZGVkXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZm9ybWF0dGVkIHVybFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJ1aWxkVVJMKHVybCwgcGFyYW1zLCBwYXJhbXNTZXJpYWxpemVyKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICBpZiAoIXBhcmFtcykge1xuICAgIHJldHVybiB1cmw7XG4gIH1cblxuICB2YXIgc2VyaWFsaXplZFBhcmFtcztcbiAgaWYgKHBhcmFtc1NlcmlhbGl6ZXIpIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFyYW1zU2VyaWFsaXplcihwYXJhbXMpO1xuICB9IGVsc2UgaWYgKHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKHBhcmFtcykpIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFyYW1zLnRvU3RyaW5nKCk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHBhcnRzID0gW107XG5cbiAgICB1dGlscy5mb3JFYWNoKHBhcmFtcywgZnVuY3Rpb24gc2VyaWFsaXplKHZhbCwga2V5KSB7XG4gICAgICBpZiAodmFsID09PSBudWxsIHx8IHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHV0aWxzLmlzQXJyYXkodmFsKSkge1xuICAgICAgICBrZXkgPSBrZXkgKyAnW10nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsID0gW3ZhbF07XG4gICAgICB9XG5cbiAgICAgIHV0aWxzLmZvckVhY2godmFsLCBmdW5jdGlvbiBwYXJzZVZhbHVlKHYpIHtcbiAgICAgICAgaWYgKHV0aWxzLmlzRGF0ZSh2KSkge1xuICAgICAgICAgIHYgPSB2LnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodXRpbHMuaXNPYmplY3QodikpIHtcbiAgICAgICAgICB2ID0gSlNPTi5zdHJpbmdpZnkodik7XG4gICAgICAgIH1cbiAgICAgICAgcGFydHMucHVzaChlbmNvZGUoa2V5KSArICc9JyArIGVuY29kZSh2KSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSBwYXJ0cy5qb2luKCcmJyk7XG4gIH1cblxuICBpZiAoc2VyaWFsaXplZFBhcmFtcykge1xuICAgIHVybCArPSAodXJsLmluZGV4T2YoJz8nKSA9PT0gLTEgPyAnPycgOiAnJicpICsgc2VyaWFsaXplZFBhcmFtcztcbiAgfVxuXG4gIHJldHVybiB1cmw7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbi8vIEhlYWRlcnMgd2hvc2UgZHVwbGljYXRlcyBhcmUgaWdub3JlZCBieSBub2RlXG4vLyBjLmYuIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvaHR0cC5odG1sI2h0dHBfbWVzc2FnZV9oZWFkZXJzXG52YXIgaWdub3JlRHVwbGljYXRlT2YgPSBbXG4gICdhZ2UnLCAnYXV0aG9yaXphdGlvbicsICdjb250ZW50LWxlbmd0aCcsICdjb250ZW50LXR5cGUnLCAnZXRhZycsXG4gICdleHBpcmVzJywgJ2Zyb20nLCAnaG9zdCcsICdpZi1tb2RpZmllZC1zaW5jZScsICdpZi11bm1vZGlmaWVkLXNpbmNlJyxcbiAgJ2xhc3QtbW9kaWZpZWQnLCAnbG9jYXRpb24nLCAnbWF4LWZvcndhcmRzJywgJ3Byb3h5LWF1dGhvcml6YXRpb24nLFxuICAncmVmZXJlcicsICdyZXRyeS1hZnRlcicsICd1c2VyLWFnZW50J1xuXTtcblxuLyoqXG4gKiBQYXJzZSBoZWFkZXJzIGludG8gYW4gb2JqZWN0XG4gKlxuICogYGBgXG4gKiBEYXRlOiBXZWQsIDI3IEF1ZyAyMDE0IDA4OjU4OjQ5IEdNVFxuICogQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uXG4gKiBDb25uZWN0aW9uOiBrZWVwLWFsaXZlXG4gKiBUcmFuc2Zlci1FbmNvZGluZzogY2h1bmtlZFxuICogYGBgXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGhlYWRlcnMgSGVhZGVycyBuZWVkaW5nIHRvIGJlIHBhcnNlZFxuICogQHJldHVybnMge09iamVjdH0gSGVhZGVycyBwYXJzZWQgaW50byBhbiBvYmplY3RcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwYXJzZUhlYWRlcnMoaGVhZGVycykge1xuICB2YXIgcGFyc2VkID0ge307XG4gIHZhciBrZXk7XG4gIHZhciB2YWw7XG4gIHZhciBpO1xuXG4gIGlmICghaGVhZGVycykgeyByZXR1cm4gcGFyc2VkOyB9XG5cbiAgdXRpbHMuZm9yRWFjaChoZWFkZXJzLnNwbGl0KCdcXG4nKSwgZnVuY3Rpb24gcGFyc2VyKGxpbmUpIHtcbiAgICBpID0gbGluZS5pbmRleE9mKCc6Jyk7XG4gICAga2V5ID0gdXRpbHMudHJpbShsaW5lLnN1YnN0cigwLCBpKSkudG9Mb3dlckNhc2UoKTtcbiAgICB2YWwgPSB1dGlscy50cmltKGxpbmUuc3Vic3RyKGkgKyAxKSk7XG5cbiAgICBpZiAoa2V5KSB7XG4gICAgICBpZiAocGFyc2VkW2tleV0gJiYgaWdub3JlRHVwbGljYXRlT2YuaW5kZXhPZihrZXkpID49IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGtleSA9PT0gJ3NldC1jb29raWUnKSB7XG4gICAgICAgIHBhcnNlZFtrZXldID0gKHBhcnNlZFtrZXldID8gcGFyc2VkW2tleV0gOiBbXSkuY29uY2F0KFt2YWxdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcnNlZFtrZXldID0gcGFyc2VkW2tleV0gPyBwYXJzZWRba2V5XSArICcsICcgKyB2YWwgOiB2YWw7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcGFyc2VkO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgdXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSA/XG5cbiAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIGhhdmUgZnVsbCBzdXBwb3J0IG9mIHRoZSBBUElzIG5lZWRlZCB0byB0ZXN0XG4gIC8vIHdoZXRoZXIgdGhlIHJlcXVlc3QgVVJMIGlzIG9mIHRoZSBzYW1lIG9yaWdpbiBhcyBjdXJyZW50IGxvY2F0aW9uLlxuICAoZnVuY3Rpb24gc3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgIHZhciBtc2llID0gLyhtc2llfHRyaWRlbnQpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICB2YXIgdXJsUGFyc2luZ05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgdmFyIG9yaWdpblVSTDtcblxuICAgIC8qKlxuICAgICogUGFyc2UgYSBVUkwgdG8gZGlzY292ZXIgaXQncyBjb21wb25lbnRzXG4gICAgKlxuICAgICogQHBhcmFtIHtTdHJpbmd9IHVybCBUaGUgVVJMIHRvIGJlIHBhcnNlZFxuICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc29sdmVVUkwodXJsKSB7XG4gICAgICB2YXIgaHJlZiA9IHVybDtcblxuICAgICAgaWYgKG1zaWUpIHtcbiAgICAgICAgLy8gSUUgbmVlZHMgYXR0cmlidXRlIHNldCB0d2ljZSB0byBub3JtYWxpemUgcHJvcGVydGllc1xuICAgICAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcbiAgICAgICAgaHJlZiA9IHVybFBhcnNpbmdOb2RlLmhyZWY7XG4gICAgICB9XG5cbiAgICAgIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYpO1xuXG4gICAgICAvLyB1cmxQYXJzaW5nTm9kZSBwcm92aWRlcyB0aGUgVXJsVXRpbHMgaW50ZXJmYWNlIC0gaHR0cDovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3VybHV0aWxzXG4gICAgICByZXR1cm4ge1xuICAgICAgICBocmVmOiB1cmxQYXJzaW5nTm9kZS5ocmVmLFxuICAgICAgICBwcm90b2NvbDogdXJsUGFyc2luZ05vZGUucHJvdG9jb2wgPyB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbC5yZXBsYWNlKC86JC8sICcnKSA6ICcnLFxuICAgICAgICBob3N0OiB1cmxQYXJzaW5nTm9kZS5ob3N0LFxuICAgICAgICBzZWFyY2g6IHVybFBhcnNpbmdOb2RlLnNlYXJjaCA/IHVybFBhcnNpbmdOb2RlLnNlYXJjaC5yZXBsYWNlKC9eXFw/LywgJycpIDogJycsXG4gICAgICAgIGhhc2g6IHVybFBhcnNpbmdOb2RlLmhhc2ggPyB1cmxQYXJzaW5nTm9kZS5oYXNoLnJlcGxhY2UoL14jLywgJycpIDogJycsXG4gICAgICAgIGhvc3RuYW1lOiB1cmxQYXJzaW5nTm9kZS5ob3N0bmFtZSxcbiAgICAgICAgcG9ydDogdXJsUGFyc2luZ05vZGUucG9ydCxcbiAgICAgICAgcGF0aG5hbWU6ICh1cmxQYXJzaW5nTm9kZS5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJykgP1xuICAgICAgICAgICAgICAgICAgdXJsUGFyc2luZ05vZGUucGF0aG5hbWUgOlxuICAgICAgICAgICAgICAgICAgJy8nICsgdXJsUGFyc2luZ05vZGUucGF0aG5hbWVcbiAgICAgIH07XG4gICAgfVxuXG4gICAgb3JpZ2luVVJMID0gcmVzb2x2ZVVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG5cbiAgICAvKipcbiAgICAqIERldGVybWluZSBpZiBhIFVSTCBzaGFyZXMgdGhlIHNhbWUgb3JpZ2luIGFzIHRoZSBjdXJyZW50IGxvY2F0aW9uXG4gICAgKlxuICAgICogQHBhcmFtIHtTdHJpbmd9IHJlcXVlc3RVUkwgVGhlIFVSTCB0byB0ZXN0XG4gICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBVUkwgc2hhcmVzIHRoZSBzYW1lIG9yaWdpbiwgb3RoZXJ3aXNlIGZhbHNlXG4gICAgKi9cbiAgICByZXR1cm4gZnVuY3Rpb24gaXNVUkxTYW1lT3JpZ2luKHJlcXVlc3RVUkwpIHtcbiAgICAgIHZhciBwYXJzZWQgPSAodXRpbHMuaXNTdHJpbmcocmVxdWVzdFVSTCkpID8gcmVzb2x2ZVVSTChyZXF1ZXN0VVJMKSA6IHJlcXVlc3RVUkw7XG4gICAgICByZXR1cm4gKHBhcnNlZC5wcm90b2NvbCA9PT0gb3JpZ2luVVJMLnByb3RvY29sICYmXG4gICAgICAgICAgICBwYXJzZWQuaG9zdCA9PT0gb3JpZ2luVVJMLmhvc3QpO1xuICAgIH07XG4gIH0pKCkgOlxuXG4gIC8vIE5vbiBzdGFuZGFyZCBicm93c2VyIGVudnMgKHdlYiB3b3JrZXJzLCByZWFjdC1uYXRpdmUpIGxhY2sgbmVlZGVkIHN1cHBvcnQuXG4gIChmdW5jdGlvbiBub25TdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGlzVVJMU2FtZU9yaWdpbigpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gIH0pKClcbik7XG4iLCIndXNlIHN0cmljdCc7XG5cbi8vIGJ0b2EgcG9seWZpbGwgZm9yIElFPDEwIGNvdXJ0ZXN5IGh0dHBzOi8vZ2l0aHViLmNvbS9kYXZpZGNoYW1iZXJzL0Jhc2U2NC5qc1xuXG52YXIgY2hhcnMgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0nO1xuXG5mdW5jdGlvbiBFKCkge1xuICB0aGlzLm1lc3NhZ2UgPSAnU3RyaW5nIGNvbnRhaW5zIGFuIGludmFsaWQgY2hhcmFjdGVyJztcbn1cbkUucHJvdG90eXBlID0gbmV3IEVycm9yO1xuRS5wcm90b3R5cGUuY29kZSA9IDU7XG5FLnByb3RvdHlwZS5uYW1lID0gJ0ludmFsaWRDaGFyYWN0ZXJFcnJvcic7XG5cbmZ1bmN0aW9uIGJ0b2EoaW5wdXQpIHtcbiAgdmFyIHN0ciA9IFN0cmluZyhpbnB1dCk7XG4gIHZhciBvdXRwdXQgPSAnJztcbiAgZm9yIChcbiAgICAvLyBpbml0aWFsaXplIHJlc3VsdCBhbmQgY291bnRlclxuICAgIHZhciBibG9jaywgY2hhckNvZGUsIGlkeCA9IDAsIG1hcCA9IGNoYXJzO1xuICAgIC8vIGlmIHRoZSBuZXh0IHN0ciBpbmRleCBkb2VzIG5vdCBleGlzdDpcbiAgICAvLyAgIGNoYW5nZSB0aGUgbWFwcGluZyB0YWJsZSB0byBcIj1cIlxuICAgIC8vICAgY2hlY2sgaWYgZCBoYXMgbm8gZnJhY3Rpb25hbCBkaWdpdHNcbiAgICBzdHIuY2hhckF0KGlkeCB8IDApIHx8IChtYXAgPSAnPScsIGlkeCAlIDEpO1xuICAgIC8vIFwiOCAtIGlkeCAlIDEgKiA4XCIgZ2VuZXJhdGVzIHRoZSBzZXF1ZW5jZSAyLCA0LCA2LCA4XG4gICAgb3V0cHV0ICs9IG1hcC5jaGFyQXQoNjMgJiBibG9jayA+PiA4IC0gaWR4ICUgMSAqIDgpXG4gICkge1xuICAgIGNoYXJDb2RlID0gc3RyLmNoYXJDb2RlQXQoaWR4ICs9IDMgLyA0KTtcbiAgICBpZiAoY2hhckNvZGUgPiAweEZGKSB7XG4gICAgICB0aHJvdyBuZXcgRSgpO1xuICAgIH1cbiAgICBibG9jayA9IGJsb2NrIDw8IDggfCBjaGFyQ29kZTtcbiAgfVxuICByZXR1cm4gb3V0cHV0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJ0b2E7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAoXG4gIHV0aWxzLmlzU3RhbmRhcmRCcm93c2VyRW52KCkgP1xuXG4gIC8vIFN0YW5kYXJkIGJyb3dzZXIgZW52cyBzdXBwb3J0IGRvY3VtZW50LmNvb2tpZVxuICAoZnVuY3Rpb24gc3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgIHJldHVybiB7XG4gICAgICB3cml0ZTogZnVuY3Rpb24gd3JpdGUobmFtZSwgdmFsdWUsIGV4cGlyZXMsIHBhdGgsIGRvbWFpbiwgc2VjdXJlKSB7XG4gICAgICAgIHZhciBjb29raWUgPSBbXTtcbiAgICAgICAgY29va2llLnB1c2gobmFtZSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpO1xuXG4gICAgICAgIGlmICh1dGlscy5pc051bWJlcihleHBpcmVzKSkge1xuICAgICAgICAgIGNvb2tpZS5wdXNoKCdleHBpcmVzPScgKyBuZXcgRGF0ZShleHBpcmVzKS50b0dNVFN0cmluZygpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1dGlscy5pc1N0cmluZyhwYXRoKSkge1xuICAgICAgICAgIGNvb2tpZS5wdXNoKCdwYXRoPScgKyBwYXRoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1dGlscy5pc1N0cmluZyhkb21haW4pKSB7XG4gICAgICAgICAgY29va2llLnB1c2goJ2RvbWFpbj0nICsgZG9tYWluKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWN1cmUgPT09IHRydWUpIHtcbiAgICAgICAgICBjb29raWUucHVzaCgnc2VjdXJlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBkb2N1bWVudC5jb29raWUgPSBjb29raWUuam9pbignOyAnKTtcbiAgICAgIH0sXG5cbiAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQobmFtZSkge1xuICAgICAgICB2YXIgbWF0Y2ggPSBkb2N1bWVudC5jb29raWUubWF0Y2gobmV3IFJlZ0V4cCgnKF58O1xcXFxzKikoJyArIG5hbWUgKyAnKT0oW147XSopJykpO1xuICAgICAgICByZXR1cm4gKG1hdGNoID8gZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzNdKSA6IG51bGwpO1xuICAgICAgfSxcblxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUobmFtZSkge1xuICAgICAgICB0aGlzLndyaXRlKG5hbWUsICcnLCBEYXRlLm5vdygpIC0gODY0MDAwMDApO1xuICAgICAgfVxuICAgIH07XG4gIH0pKCkgOlxuXG4gIC8vIE5vbiBzdGFuZGFyZCBicm93c2VyIGVudiAod2ViIHdvcmtlcnMsIHJlYWN0LW5hdGl2ZSkgbGFjayBuZWVkZWQgc3VwcG9ydC5cbiAgKGZ1bmN0aW9uIG5vblN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgd3JpdGU6IGZ1bmN0aW9uIHdyaXRlKCkge30sXG4gICAgICByZWFkOiBmdW5jdGlvbiByZWFkKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge31cbiAgICB9O1xuICB9KSgpXG4pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIEludGVyY2VwdG9yTWFuYWdlcigpIHtcbiAgdGhpcy5oYW5kbGVycyA9IFtdO1xufVxuXG4vKipcbiAqIEFkZCBhIG5ldyBpbnRlcmNlcHRvciB0byB0aGUgc3RhY2tcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdWxmaWxsZWQgVGhlIGZ1bmN0aW9uIHRvIGhhbmRsZSBgdGhlbmAgZm9yIGEgYFByb21pc2VgXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWplY3RlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGByZWplY3RgIGZvciBhIGBQcm9taXNlYFxuICpcbiAqIEByZXR1cm4ge051bWJlcn0gQW4gSUQgdXNlZCB0byByZW1vdmUgaW50ZXJjZXB0b3IgbGF0ZXJcbiAqL1xuSW50ZXJjZXB0b3JNYW5hZ2VyLnByb3RvdHlwZS51c2UgPSBmdW5jdGlvbiB1c2UoZnVsZmlsbGVkLCByZWplY3RlZCkge1xuICB0aGlzLmhhbmRsZXJzLnB1c2goe1xuICAgIGZ1bGZpbGxlZDogZnVsZmlsbGVkLFxuICAgIHJlamVjdGVkOiByZWplY3RlZFxuICB9KTtcbiAgcmV0dXJuIHRoaXMuaGFuZGxlcnMubGVuZ3RoIC0gMTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFuIGludGVyY2VwdG9yIGZyb20gdGhlIHN0YWNrXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGlkIFRoZSBJRCB0aGF0IHdhcyByZXR1cm5lZCBieSBgdXNlYFxuICovXG5JbnRlcmNlcHRvck1hbmFnZXIucHJvdG90eXBlLmVqZWN0ID0gZnVuY3Rpb24gZWplY3QoaWQpIHtcbiAgaWYgKHRoaXMuaGFuZGxlcnNbaWRdKSB7XG4gICAgdGhpcy5oYW5kbGVyc1tpZF0gPSBudWxsO1xuICB9XG59O1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBhbGwgdGhlIHJlZ2lzdGVyZWQgaW50ZXJjZXB0b3JzXG4gKlxuICogVGhpcyBtZXRob2QgaXMgcGFydGljdWxhcmx5IHVzZWZ1bCBmb3Igc2tpcHBpbmcgb3ZlciBhbnlcbiAqIGludGVyY2VwdG9ycyB0aGF0IG1heSBoYXZlIGJlY29tZSBgbnVsbGAgY2FsbGluZyBgZWplY3RgLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIGludGVyY2VwdG9yXG4gKi9cbkludGVyY2VwdG9yTWFuYWdlci5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIGZvckVhY2goZm4pIHtcbiAgdXRpbHMuZm9yRWFjaCh0aGlzLmhhbmRsZXJzLCBmdW5jdGlvbiBmb3JFYWNoSGFuZGxlcihoKSB7XG4gICAgaWYgKGggIT09IG51bGwpIHtcbiAgICAgIGZuKGgpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEludGVyY2VwdG9yTWFuYWdlcjtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIHRyYW5zZm9ybURhdGEgPSByZXF1aXJlKCcuL3RyYW5zZm9ybURhdGEnKTtcbnZhciBpc0NhbmNlbCA9IHJlcXVpcmUoJy4uL2NhbmNlbC9pc0NhbmNlbCcpO1xudmFyIGRlZmF1bHRzID0gcmVxdWlyZSgnLi4vZGVmYXVsdHMnKTtcbnZhciBpc0Fic29sdXRlVVJMID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2lzQWJzb2x1dGVVUkwnKTtcbnZhciBjb21iaW5lVVJMcyA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9jb21iaW5lVVJMcycpO1xuXG4vKipcbiAqIFRocm93cyBhIGBDYW5jZWxgIGlmIGNhbmNlbGxhdGlvbiBoYXMgYmVlbiByZXF1ZXN0ZWQuXG4gKi9cbmZ1bmN0aW9uIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKSB7XG4gIGlmIChjb25maWcuY2FuY2VsVG9rZW4pIHtcbiAgICBjb25maWcuY2FuY2VsVG9rZW4udGhyb3dJZlJlcXVlc3RlZCgpO1xuICB9XG59XG5cbi8qKlxuICogRGlzcGF0Y2ggYSByZXF1ZXN0IHRvIHRoZSBzZXJ2ZXIgdXNpbmcgdGhlIGNvbmZpZ3VyZWQgYWRhcHRlci5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIFRoZSBjb25maWcgdGhhdCBpcyB0byBiZSB1c2VkIGZvciB0aGUgcmVxdWVzdFxuICogQHJldHVybnMge1Byb21pc2V9IFRoZSBQcm9taXNlIHRvIGJlIGZ1bGZpbGxlZFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRpc3BhdGNoUmVxdWVzdChjb25maWcpIHtcbiAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gIC8vIFN1cHBvcnQgYmFzZVVSTCBjb25maWdcbiAgaWYgKGNvbmZpZy5iYXNlVVJMICYmICFpc0Fic29sdXRlVVJMKGNvbmZpZy51cmwpKSB7XG4gICAgY29uZmlnLnVybCA9IGNvbWJpbmVVUkxzKGNvbmZpZy5iYXNlVVJMLCBjb25maWcudXJsKTtcbiAgfVxuXG4gIC8vIEVuc3VyZSBoZWFkZXJzIGV4aXN0XG4gIGNvbmZpZy5oZWFkZXJzID0gY29uZmlnLmhlYWRlcnMgfHwge307XG5cbiAgLy8gVHJhbnNmb3JtIHJlcXVlc3QgZGF0YVxuICBjb25maWcuZGF0YSA9IHRyYW5zZm9ybURhdGEoXG4gICAgY29uZmlnLmRhdGEsXG4gICAgY29uZmlnLmhlYWRlcnMsXG4gICAgY29uZmlnLnRyYW5zZm9ybVJlcXVlc3RcbiAgKTtcblxuICAvLyBGbGF0dGVuIGhlYWRlcnNcbiAgY29uZmlnLmhlYWRlcnMgPSB1dGlscy5tZXJnZShcbiAgICBjb25maWcuaGVhZGVycy5jb21tb24gfHwge30sXG4gICAgY29uZmlnLmhlYWRlcnNbY29uZmlnLm1ldGhvZF0gfHwge30sXG4gICAgY29uZmlnLmhlYWRlcnMgfHwge31cbiAgKTtcblxuICB1dGlscy5mb3JFYWNoKFxuICAgIFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJywgJ2NvbW1vbiddLFxuICAgIGZ1bmN0aW9uIGNsZWFuSGVhZGVyQ29uZmlnKG1ldGhvZCkge1xuICAgICAgZGVsZXRlIGNvbmZpZy5oZWFkZXJzW21ldGhvZF07XG4gICAgfVxuICApO1xuXG4gIHZhciBhZGFwdGVyID0gY29uZmlnLmFkYXB0ZXIgfHwgZGVmYXVsdHMuYWRhcHRlcjtcblxuICByZXR1cm4gYWRhcHRlcihjb25maWcpLnRoZW4oZnVuY3Rpb24gb25BZGFwdGVyUmVzb2x1dGlvbihyZXNwb25zZSkge1xuICAgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAgIC8vIFRyYW5zZm9ybSByZXNwb25zZSBkYXRhXG4gICAgcmVzcG9uc2UuZGF0YSA9IHRyYW5zZm9ybURhdGEoXG4gICAgICByZXNwb25zZS5kYXRhLFxuICAgICAgcmVzcG9uc2UuaGVhZGVycyxcbiAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZVxuICAgICk7XG5cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH0sIGZ1bmN0aW9uIG9uQWRhcHRlclJlamVjdGlvbihyZWFzb24pIHtcbiAgICBpZiAoIWlzQ2FuY2VsKHJlYXNvbikpIHtcbiAgICAgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAgICAgLy8gVHJhbnNmb3JtIHJlc3BvbnNlIGRhdGFcbiAgICAgIGlmIChyZWFzb24gJiYgcmVhc29uLnJlc3BvbnNlKSB7XG4gICAgICAgIHJlYXNvbi5yZXNwb25zZS5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICAgICAgICByZWFzb24ucmVzcG9uc2UuZGF0YSxcbiAgICAgICAgICByZWFzb24ucmVzcG9uc2UuaGVhZGVycyxcbiAgICAgICAgICBjb25maWcudHJhbnNmb3JtUmVzcG9uc2VcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVhc29uKTtcbiAgfSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbi8qKlxuICogVHJhbnNmb3JtIHRoZSBkYXRhIGZvciBhIHJlcXVlc3Qgb3IgYSByZXNwb25zZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gZGF0YSBUaGUgZGF0YSB0byBiZSB0cmFuc2Zvcm1lZFxuICogQHBhcmFtIHtBcnJheX0gaGVhZGVycyBUaGUgaGVhZGVycyBmb3IgdGhlIHJlcXVlc3Qgb3IgcmVzcG9uc2VcbiAqIEBwYXJhbSB7QXJyYXl8RnVuY3Rpb259IGZucyBBIHNpbmdsZSBmdW5jdGlvbiBvciBBcnJheSBvZiBmdW5jdGlvbnNcbiAqIEByZXR1cm5zIHsqfSBUaGUgcmVzdWx0aW5nIHRyYW5zZm9ybWVkIGRhdGFcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0cmFuc2Zvcm1EYXRhKGRhdGEsIGhlYWRlcnMsIGZucykge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgdXRpbHMuZm9yRWFjaChmbnMsIGZ1bmN0aW9uIHRyYW5zZm9ybShmbikge1xuICAgIGRhdGEgPSBmbihkYXRhLCBoZWFkZXJzKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGRhdGE7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0aGUgc3BlY2lmaWVkIFVSTCBpcyBhYnNvbHV0ZVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIFVSTCB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgc3BlY2lmaWVkIFVSTCBpcyBhYnNvbHV0ZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNBYnNvbHV0ZVVSTCh1cmwpIHtcbiAgLy8gQSBVUkwgaXMgY29uc2lkZXJlZCBhYnNvbHV0ZSBpZiBpdCBiZWdpbnMgd2l0aCBcIjxzY2hlbWU+Oi8vXCIgb3IgXCIvL1wiIChwcm90b2NvbC1yZWxhdGl2ZSBVUkwpLlxuICAvLyBSRkMgMzk4NiBkZWZpbmVzIHNjaGVtZSBuYW1lIGFzIGEgc2VxdWVuY2Ugb2YgY2hhcmFjdGVycyBiZWdpbm5pbmcgd2l0aCBhIGxldHRlciBhbmQgZm9sbG93ZWRcbiAgLy8gYnkgYW55IGNvbWJpbmF0aW9uIG9mIGxldHRlcnMsIGRpZ2l0cywgcGx1cywgcGVyaW9kLCBvciBoeXBoZW4uXG4gIHJldHVybiAvXihbYS16XVthLXpcXGRcXCtcXC1cXC5dKjopP1xcL1xcLy9pLnRlc3QodXJsKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBVUkwgYnkgY29tYmluaW5nIHRoZSBzcGVjaWZpZWQgVVJMc1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlVVJMIFRoZSBiYXNlIFVSTFxuICogQHBhcmFtIHtzdHJpbmd9IHJlbGF0aXZlVVJMIFRoZSByZWxhdGl2ZSBVUkxcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBjb21iaW5lZCBVUkxcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjb21iaW5lVVJMcyhiYXNlVVJMLCByZWxhdGl2ZVVSTCkge1xuICByZXR1cm4gcmVsYXRpdmVVUkxcbiAgICA/IGJhc2VVUkwucmVwbGFjZSgvXFwvKyQvLCAnJykgKyAnLycgKyByZWxhdGl2ZVVSTC5yZXBsYWNlKC9eXFwvKy8sICcnKVxuICAgIDogYmFzZVVSTDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBDYW5jZWwgPSByZXF1aXJlKCcuL0NhbmNlbCcpO1xuXG4vKipcbiAqIEEgYENhbmNlbFRva2VuYCBpcyBhbiBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCB0byByZXF1ZXN0IGNhbmNlbGxhdGlvbiBvZiBhbiBvcGVyYXRpb24uXG4gKlxuICogQGNsYXNzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBleGVjdXRvciBUaGUgZXhlY3V0b3IgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIENhbmNlbFRva2VuKGV4ZWN1dG9yKSB7XG4gIGlmICh0eXBlb2YgZXhlY3V0b3IgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdleGVjdXRvciBtdXN0IGJlIGEgZnVuY3Rpb24uJyk7XG4gIH1cblxuICB2YXIgcmVzb2x2ZVByb21pc2U7XG4gIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIHByb21pc2VFeGVjdXRvcihyZXNvbHZlKSB7XG4gICAgcmVzb2x2ZVByb21pc2UgPSByZXNvbHZlO1xuICB9KTtcblxuICB2YXIgdG9rZW4gPSB0aGlzO1xuICBleGVjdXRvcihmdW5jdGlvbiBjYW5jZWwobWVzc2FnZSkge1xuICAgIGlmICh0b2tlbi5yZWFzb24pIHtcbiAgICAgIC8vIENhbmNlbGxhdGlvbiBoYXMgYWxyZWFkeSBiZWVuIHJlcXVlc3RlZFxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRva2VuLnJlYXNvbiA9IG5ldyBDYW5jZWwobWVzc2FnZSk7XG4gICAgcmVzb2x2ZVByb21pc2UodG9rZW4ucmVhc29uKTtcbiAgfSk7XG59XG5cbi8qKlxuICogVGhyb3dzIGEgYENhbmNlbGAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAqL1xuQ2FuY2VsVG9rZW4ucHJvdG90eXBlLnRocm93SWZSZXF1ZXN0ZWQgPSBmdW5jdGlvbiB0aHJvd0lmUmVxdWVzdGVkKCkge1xuICBpZiAodGhpcy5yZWFzb24pIHtcbiAgICB0aHJvdyB0aGlzLnJlYXNvbjtcbiAgfVxufTtcblxuLyoqXG4gKiBSZXR1cm5zIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGEgbmV3IGBDYW5jZWxUb2tlbmAgYW5kIGEgZnVuY3Rpb24gdGhhdCwgd2hlbiBjYWxsZWQsXG4gKiBjYW5jZWxzIHRoZSBgQ2FuY2VsVG9rZW5gLlxuICovXG5DYW5jZWxUb2tlbi5zb3VyY2UgPSBmdW5jdGlvbiBzb3VyY2UoKSB7XG4gIHZhciBjYW5jZWw7XG4gIHZhciB0b2tlbiA9IG5ldyBDYW5jZWxUb2tlbihmdW5jdGlvbiBleGVjdXRvcihjKSB7XG4gICAgY2FuY2VsID0gYztcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgdG9rZW46IHRva2VuLFxuICAgIGNhbmNlbDogY2FuY2VsXG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IENhbmNlbFRva2VuO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFN5bnRhY3RpYyBzdWdhciBmb3IgaW52b2tpbmcgYSBmdW5jdGlvbiBhbmQgZXhwYW5kaW5nIGFuIGFycmF5IGZvciBhcmd1bWVudHMuXG4gKlxuICogQ29tbW9uIHVzZSBjYXNlIHdvdWxkIGJlIHRvIHVzZSBgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5YC5cbiAqXG4gKiAgYGBganNcbiAqICBmdW5jdGlvbiBmKHgsIHksIHopIHt9XG4gKiAgdmFyIGFyZ3MgPSBbMSwgMiwgM107XG4gKiAgZi5hcHBseShudWxsLCBhcmdzKTtcbiAqICBgYGBcbiAqXG4gKiBXaXRoIGBzcHJlYWRgIHRoaXMgZXhhbXBsZSBjYW4gYmUgcmUtd3JpdHRlbi5cbiAqXG4gKiAgYGBganNcbiAqICBzcHJlYWQoZnVuY3Rpb24oeCwgeSwgeikge30pKFsxLCAyLCAzXSk7XG4gKiAgYGBgXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzcHJlYWQoY2FsbGJhY2spIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHdyYXAoYXJyKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KG51bGwsIGFycik7XG4gIH07XG59O1xuIiwiLyoqXG4gKiBtYXJrZWQgLSBhIG1hcmtkb3duIHBhcnNlclxuICogQ29weXJpZ2h0IChjKSAyMDExLTIwMTgsIENocmlzdG9waGVyIEplZmZyZXkuIChNSVQgTGljZW5zZWQpXG4gKiBodHRwczovL2dpdGh1Yi5jb20vbWFya2VkanMvbWFya2VkXG4gKi9cblxuOyhmdW5jdGlvbihyb290KSB7XG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQmxvY2stTGV2ZWwgR3JhbW1hclxuICovXG5cbnZhciBibG9jayA9IHtcbiAgbmV3bGluZTogL15cXG4rLyxcbiAgY29kZTogL14oIHs0fVteXFxuXStcXG4qKSsvLFxuICBmZW5jZXM6IC9eIHswLDN9KGB7Myx9fH57Myx9KShbXmB+XFxuXSopXFxuKD86fChbXFxzXFxTXSo/KVxcbikoPzogezAsM31cXDFbfmBdKiAqKD86XFxuK3wkKXwkKS8sXG4gIGhyOiAvXiB7MCwzfSgoPzotICopezMsfXwoPzpfICopezMsfXwoPzpcXCogKil7Myx9KSg/Olxcbit8JCkvLFxuICBoZWFkaW5nOiAvXiB7MCwzfSgjezEsNn0pICsoW15cXG5dKj8pKD86ICsjKyk/ICooPzpcXG4rfCQpLyxcbiAgYmxvY2txdW90ZTogL14oIHswLDN9PiA/KHBhcmFncmFwaHxbXlxcbl0qKSg/OlxcbnwkKSkrLyxcbiAgbGlzdDogL14oIHswLDN9KShidWxsKSBbXFxzXFxTXSs/KD86aHJ8ZGVmfFxcbnsyLH0oPyEgKSg/IVxcMWJ1bGwgKVxcbip8XFxzKiQpLyxcbiAgaHRtbDogJ14gezAsM30oPzonIC8vIG9wdGlvbmFsIGluZGVudGF0aW9uXG4gICAgKyAnPChzY3JpcHR8cHJlfHN0eWxlKVtcXFxccz5dW1xcXFxzXFxcXFNdKj8oPzo8L1xcXFwxPlteXFxcXG5dKlxcXFxuK3wkKScgLy8gKDEpXG4gICAgKyAnfGNvbW1lbnRbXlxcXFxuXSooXFxcXG4rfCQpJyAvLyAoMilcbiAgICArICd8PFxcXFw/W1xcXFxzXFxcXFNdKj9cXFxcPz5cXFxcbionIC8vICgzKVxuICAgICsgJ3w8IVtBLVpdW1xcXFxzXFxcXFNdKj8+XFxcXG4qJyAvLyAoNClcbiAgICArICd8PCFcXFxcW0NEQVRBXFxcXFtbXFxcXHNcXFxcU10qP1xcXFxdXFxcXF0+XFxcXG4qJyAvLyAoNSlcbiAgICArICd8PC8/KHRhZykoPzogK3xcXFxcbnwvPz4pW1xcXFxzXFxcXFNdKj8oPzpcXFxcbnsyLH18JCknIC8vICg2KVxuICAgICsgJ3w8KD8hc2NyaXB0fHByZXxzdHlsZSkoW2Etel1bXFxcXHctXSopKD86YXR0cmlidXRlKSo/ICovPz4oPz1bIFxcXFx0XSooPzpcXFxcbnwkKSlbXFxcXHNcXFxcU10qPyg/OlxcXFxuezIsfXwkKScgLy8gKDcpIG9wZW4gdGFnXG4gICAgKyAnfDwvKD8hc2NyaXB0fHByZXxzdHlsZSlbYS16XVtcXFxcdy1dKlxcXFxzKj4oPz1bIFxcXFx0XSooPzpcXFxcbnwkKSlbXFxcXHNcXFxcU10qPyg/OlxcXFxuezIsfXwkKScgLy8gKDcpIGNsb3NpbmcgdGFnXG4gICAgKyAnKScsXG4gIGRlZjogL14gezAsM31cXFsobGFiZWwpXFxdOiAqXFxuPyAqPD8oW15cXHM+XSspPj8oPzooPzogK1xcbj8gKnwgKlxcbiAqKSh0aXRsZSkpPyAqKD86XFxuK3wkKS8sXG4gIG5wdGFibGU6IG5vb3AsXG4gIHRhYmxlOiBub29wLFxuICBsaGVhZGluZzogL14oW15cXG5dKylcXG4gezAsM30oPSt8LSspICooPzpcXG4rfCQpLyxcbiAgLy8gcmVnZXggdGVtcGxhdGUsIHBsYWNlaG9sZGVycyB3aWxsIGJlIHJlcGxhY2VkIGFjY29yZGluZyB0byBkaWZmZXJlbnQgcGFyYWdyYXBoXG4gIC8vIGludGVycnVwdGlvbiBydWxlcyBvZiBjb21tb25tYXJrIGFuZCB0aGUgb3JpZ2luYWwgbWFya2Rvd24gc3BlYzpcbiAgX3BhcmFncmFwaDogL14oW15cXG5dKyg/Olxcbig/IWhyfGhlYWRpbmd8bGhlYWRpbmd8YmxvY2txdW90ZXxmZW5jZXN8bGlzdHxodG1sKVteXFxuXSspKikvLFxuICB0ZXh0OiAvXlteXFxuXSsvXG59O1xuXG5ibG9jay5fbGFiZWwgPSAvKD8hXFxzKlxcXSkoPzpcXFxcW1xcW1xcXV18W15cXFtcXF1dKSsvO1xuYmxvY2suX3RpdGxlID0gLyg/OlwiKD86XFxcXFwiP3xbXlwiXFxcXF0pKlwifCdbXidcXG5dKig/OlxcblteJ1xcbl0rKSpcXG4/J3xcXChbXigpXSpcXCkpLztcbmJsb2NrLmRlZiA9IGVkaXQoYmxvY2suZGVmKVxuICAucmVwbGFjZSgnbGFiZWwnLCBibG9jay5fbGFiZWwpXG4gIC5yZXBsYWNlKCd0aXRsZScsIGJsb2NrLl90aXRsZSlcbiAgLmdldFJlZ2V4KCk7XG5cbmJsb2NrLmJ1bGxldCA9IC8oPzpbKistXXxcXGR7MSw5fVxcLikvO1xuYmxvY2suaXRlbSA9IC9eKCAqKShidWxsKSA/W15cXG5dKig/Olxcbig/IVxcMWJ1bGwgPylbXlxcbl0qKSovO1xuYmxvY2suaXRlbSA9IGVkaXQoYmxvY2suaXRlbSwgJ2dtJylcbiAgLnJlcGxhY2UoL2J1bGwvZywgYmxvY2suYnVsbGV0KVxuICAuZ2V0UmVnZXgoKTtcblxuYmxvY2subGlzdCA9IGVkaXQoYmxvY2subGlzdClcbiAgLnJlcGxhY2UoL2J1bGwvZywgYmxvY2suYnVsbGV0KVxuICAucmVwbGFjZSgnaHInLCAnXFxcXG4rKD89XFxcXDE/KD86KD86LSAqKXszLH18KD86XyAqKXszLH18KD86XFxcXCogKil7Myx9KSg/OlxcXFxuK3wkKSknKVxuICAucmVwbGFjZSgnZGVmJywgJ1xcXFxuKyg/PScgKyBibG9jay5kZWYuc291cmNlICsgJyknKVxuICAuZ2V0UmVnZXgoKTtcblxuYmxvY2suX3RhZyA9ICdhZGRyZXNzfGFydGljbGV8YXNpZGV8YmFzZXxiYXNlZm9udHxibG9ja3F1b3RlfGJvZHl8Y2FwdGlvbidcbiAgKyAnfGNlbnRlcnxjb2x8Y29sZ3JvdXB8ZGR8ZGV0YWlsc3xkaWFsb2d8ZGlyfGRpdnxkbHxkdHxmaWVsZHNldHxmaWdjYXB0aW9uJ1xuICArICd8ZmlndXJlfGZvb3Rlcnxmb3JtfGZyYW1lfGZyYW1lc2V0fGhbMS02XXxoZWFkfGhlYWRlcnxocnxodG1sfGlmcmFtZSdcbiAgKyAnfGxlZ2VuZHxsaXxsaW5rfG1haW58bWVudXxtZW51aXRlbXxtZXRhfG5hdnxub2ZyYW1lc3xvbHxvcHRncm91cHxvcHRpb24nXG4gICsgJ3xwfHBhcmFtfHNlY3Rpb258c291cmNlfHN1bW1hcnl8dGFibGV8dGJvZHl8dGR8dGZvb3R8dGh8dGhlYWR8dGl0bGV8dHInXG4gICsgJ3x0cmFja3x1bCc7XG5ibG9jay5fY29tbWVudCA9IC88IS0tKD8hLT8+KVtcXHNcXFNdKj8tLT4vO1xuYmxvY2suaHRtbCA9IGVkaXQoYmxvY2suaHRtbCwgJ2knKVxuICAucmVwbGFjZSgnY29tbWVudCcsIGJsb2NrLl9jb21tZW50KVxuICAucmVwbGFjZSgndGFnJywgYmxvY2suX3RhZylcbiAgLnJlcGxhY2UoJ2F0dHJpYnV0ZScsIC8gK1thLXpBLVo6X11bXFx3LjotXSooPzogKj0gKlwiW15cIlxcbl0qXCJ8ICo9IConW14nXFxuXSonfCAqPSAqW15cXHNcIic9PD5gXSspPy8pXG4gIC5nZXRSZWdleCgpO1xuXG5ibG9jay5wYXJhZ3JhcGggPSBlZGl0KGJsb2NrLl9wYXJhZ3JhcGgpXG4gIC5yZXBsYWNlKCdocicsIGJsb2NrLmhyKVxuICAucmVwbGFjZSgnaGVhZGluZycsICcgezAsM30jezEsNn0gKycpXG4gIC5yZXBsYWNlKCd8bGhlYWRpbmcnLCAnJykgLy8gc2V0ZXggaGVhZGluZ3MgZG9uJ3QgaW50ZXJydXB0IGNvbW1vbm1hcmsgcGFyYWdyYXBoc1xuICAucmVwbGFjZSgnYmxvY2txdW90ZScsICcgezAsM30+JylcbiAgLnJlcGxhY2UoJ2ZlbmNlcycsICcgezAsM30oPzpgezMsfXx+ezMsfSlbXmBcXFxcbl0qXFxcXG4nKVxuICAucmVwbGFjZSgnbGlzdCcsICcgezAsM30oPzpbKistXXwxWy4pXSkgJykgLy8gb25seSBsaXN0cyBzdGFydGluZyBmcm9tIDEgY2FuIGludGVycnVwdFxuICAucmVwbGFjZSgnaHRtbCcsICc8Lz8oPzp0YWcpKD86ICt8XFxcXG58Lz8+KXw8KD86c2NyaXB0fHByZXxzdHlsZXwhLS0pJylcbiAgLnJlcGxhY2UoJ3RhZycsIGJsb2NrLl90YWcpIC8vIHBhcnMgY2FuIGJlIGludGVycnVwdGVkIGJ5IHR5cGUgKDYpIGh0bWwgYmxvY2tzXG4gIC5nZXRSZWdleCgpO1xuXG5ibG9jay5ibG9ja3F1b3RlID0gZWRpdChibG9jay5ibG9ja3F1b3RlKVxuICAucmVwbGFjZSgncGFyYWdyYXBoJywgYmxvY2sucGFyYWdyYXBoKVxuICAuZ2V0UmVnZXgoKTtcblxuLyoqXG4gKiBOb3JtYWwgQmxvY2sgR3JhbW1hclxuICovXG5cbmJsb2NrLm5vcm1hbCA9IG1lcmdlKHt9LCBibG9jayk7XG5cbi8qKlxuICogR0ZNIEJsb2NrIEdyYW1tYXJcbiAqL1xuXG5ibG9jay5nZm0gPSBtZXJnZSh7fSwgYmxvY2subm9ybWFsLCB7XG4gIG5wdGFibGU6IC9eICooW158XFxuIF0uKlxcfC4qKVxcbiAqKFstOl0rICpcXHxbLXwgOl0qKSg/OlxcbigoPzouKltePlxcbiBdLiooPzpcXG58JCkpKilcXG4qfCQpLyxcbiAgdGFibGU6IC9eICpcXHwoLispXFxuICpcXHw/KCAqWy06XStbLXwgOl0qKSg/OlxcbigoPzogKltePlxcbiBdLiooPzpcXG58JCkpKilcXG4qfCQpL1xufSk7XG5cbi8qKlxuICogUGVkYW50aWMgZ3JhbW1hciAob3JpZ2luYWwgSm9obiBHcnViZXIncyBsb29zZSBtYXJrZG93biBzcGVjaWZpY2F0aW9uKVxuICovXG5cbmJsb2NrLnBlZGFudGljID0gbWVyZ2Uoe30sIGJsb2NrLm5vcm1hbCwge1xuICBodG1sOiBlZGl0KFxuICAgICdeICooPzpjb21tZW50ICooPzpcXFxcbnxcXFxccyokKSdcbiAgICArICd8PCh0YWcpW1xcXFxzXFxcXFNdKz88L1xcXFwxPiAqKD86XFxcXG57Mix9fFxcXFxzKiQpJyAvLyBjbG9zZWQgdGFnXG4gICAgKyAnfDx0YWcoPzpcIlteXCJdKlwifFxcJ1teXFwnXSpcXCd8XFxcXHNbXlxcJ1wiLz5cXFxcc10qKSo/Lz8+ICooPzpcXFxcbnsyLH18XFxcXHMqJCkpJylcbiAgICAucmVwbGFjZSgnY29tbWVudCcsIGJsb2NrLl9jb21tZW50KVxuICAgIC5yZXBsYWNlKC90YWcvZywgJyg/ISg/OidcbiAgICAgICsgJ2F8ZW18c3Ryb25nfHNtYWxsfHN8Y2l0ZXxxfGRmbnxhYmJyfGRhdGF8dGltZXxjb2RlfHZhcnxzYW1wfGtiZHxzdWInXG4gICAgICArICd8c3VwfGl8Ynx1fG1hcmt8cnVieXxydHxycHxiZGl8YmRvfHNwYW58YnJ8d2JyfGluc3xkZWx8aW1nKSdcbiAgICAgICsgJ1xcXFxiKVxcXFx3Kyg/ITp8W15cXFxcd1xcXFxzQF0qQClcXFxcYicpXG4gICAgLmdldFJlZ2V4KCksXG4gIGRlZjogL14gKlxcWyhbXlxcXV0rKVxcXTogKjw/KFteXFxzPl0rKT4/KD86ICsoW1wiKF1bXlxcbl0rW1wiKV0pKT8gKig/Olxcbit8JCkvLFxuICBoZWFkaW5nOiAvXiAqKCN7MSw2fSkgKihbXlxcbl0rPykgKig/OiMrICopPyg/Olxcbit8JCkvLFxuICBmZW5jZXM6IG5vb3AsIC8vIGZlbmNlcyBub3Qgc3VwcG9ydGVkXG4gIHBhcmFncmFwaDogZWRpdChibG9jay5ub3JtYWwuX3BhcmFncmFwaClcbiAgICAucmVwbGFjZSgnaHInLCBibG9jay5ocilcbiAgICAucmVwbGFjZSgnaGVhZGluZycsICcgKiN7MSw2fSAqW15cXG5dJylcbiAgICAucmVwbGFjZSgnbGhlYWRpbmcnLCBibG9jay5saGVhZGluZylcbiAgICAucmVwbGFjZSgnYmxvY2txdW90ZScsICcgezAsM30+JylcbiAgICAucmVwbGFjZSgnfGZlbmNlcycsICcnKVxuICAgIC5yZXBsYWNlKCd8bGlzdCcsICcnKVxuICAgIC5yZXBsYWNlKCd8aHRtbCcsICcnKVxuICAgIC5nZXRSZWdleCgpXG59KTtcblxuLyoqXG4gKiBCbG9jayBMZXhlclxuICovXG5cbmZ1bmN0aW9uIExleGVyKG9wdGlvbnMpIHtcbiAgdGhpcy50b2tlbnMgPSBbXTtcbiAgdGhpcy50b2tlbnMubGlua3MgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IG1hcmtlZC5kZWZhdWx0cztcbiAgdGhpcy5ydWxlcyA9IGJsb2NrLm5vcm1hbDtcblxuICBpZiAodGhpcy5vcHRpb25zLnBlZGFudGljKSB7XG4gICAgdGhpcy5ydWxlcyA9IGJsb2NrLnBlZGFudGljO1xuICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5nZm0pIHtcbiAgICB0aGlzLnJ1bGVzID0gYmxvY2suZ2ZtO1xuICB9XG59XG5cbi8qKlxuICogRXhwb3NlIEJsb2NrIFJ1bGVzXG4gKi9cblxuTGV4ZXIucnVsZXMgPSBibG9jaztcblxuLyoqXG4gKiBTdGF0aWMgTGV4IE1ldGhvZFxuICovXG5cbkxleGVyLmxleCA9IGZ1bmN0aW9uKHNyYywgb3B0aW9ucykge1xuICB2YXIgbGV4ZXIgPSBuZXcgTGV4ZXIob3B0aW9ucyk7XG4gIHJldHVybiBsZXhlci5sZXgoc3JjKTtcbn07XG5cbi8qKlxuICogUHJlcHJvY2Vzc2luZ1xuICovXG5cbkxleGVyLnByb3RvdHlwZS5sZXggPSBmdW5jdGlvbihzcmMpIHtcbiAgc3JjID0gc3JjXG4gICAgLnJlcGxhY2UoL1xcclxcbnxcXHIvZywgJ1xcbicpXG4gICAgLnJlcGxhY2UoL1xcdC9nLCAnICAgICcpXG4gICAgLnJlcGxhY2UoL1xcdTAwYTAvZywgJyAnKVxuICAgIC5yZXBsYWNlKC9cXHUyNDI0L2csICdcXG4nKTtcblxuICByZXR1cm4gdGhpcy50b2tlbihzcmMsIHRydWUpO1xufTtcblxuLyoqXG4gKiBMZXhpbmdcbiAqL1xuXG5MZXhlci5wcm90b3R5cGUudG9rZW4gPSBmdW5jdGlvbihzcmMsIHRvcCkge1xuICBzcmMgPSBzcmMucmVwbGFjZSgvXiArJC9nbSwgJycpO1xuICB2YXIgbmV4dCxcbiAgICAgIGxvb3NlLFxuICAgICAgY2FwLFxuICAgICAgYnVsbCxcbiAgICAgIGIsXG4gICAgICBpdGVtLFxuICAgICAgbGlzdFN0YXJ0LFxuICAgICAgbGlzdEl0ZW1zLFxuICAgICAgdCxcbiAgICAgIHNwYWNlLFxuICAgICAgaSxcbiAgICAgIHRhZyxcbiAgICAgIGwsXG4gICAgICBpc29yZGVyZWQsXG4gICAgICBpc3Rhc2ssXG4gICAgICBpc2NoZWNrZWQ7XG5cbiAgd2hpbGUgKHNyYykge1xuICAgIC8vIG5ld2xpbmVcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5uZXdsaW5lLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIGlmIChjYXBbMF0ubGVuZ3RoID4gMSkge1xuICAgICAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgICAgICB0eXBlOiAnc3BhY2UnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGNvZGVcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5jb2RlLmV4ZWMoc3JjKSkge1xuICAgICAgdmFyIGxhc3RUb2tlbiA9IHRoaXMudG9rZW5zW3RoaXMudG9rZW5zLmxlbmd0aCAtIDFdO1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIC8vIEFuIGluZGVudGVkIGNvZGUgYmxvY2sgY2Fubm90IGludGVycnVwdCBhIHBhcmFncmFwaC5cbiAgICAgIGlmIChsYXN0VG9rZW4gJiYgbGFzdFRva2VuLnR5cGUgPT09ICdwYXJhZ3JhcGgnKSB7XG4gICAgICAgIGxhc3RUb2tlbi50ZXh0ICs9ICdcXG4nICsgY2FwWzBdLnRyaW1SaWdodCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FwID0gY2FwWzBdLnJlcGxhY2UoL14gezR9L2dtLCAnJyk7XG4gICAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICAgIHR5cGU6ICdjb2RlJyxcbiAgICAgICAgICBjb2RlQmxvY2tTdHlsZTogJ2luZGVudGVkJyxcbiAgICAgICAgICB0ZXh0OiAhdGhpcy5vcHRpb25zLnBlZGFudGljXG4gICAgICAgICAgICA/IHJ0cmltKGNhcCwgJ1xcbicpXG4gICAgICAgICAgICA6IGNhcFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGZlbmNlc1xuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmZlbmNlcy5leGVjKHNyYykpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgICAgdHlwZTogJ2NvZGUnLFxuICAgICAgICBsYW5nOiBjYXBbMl0gPyBjYXBbMl0udHJpbSgpIDogY2FwWzJdLFxuICAgICAgICB0ZXh0OiBjYXBbM10gfHwgJydcbiAgICAgIH0pO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gaGVhZGluZ1xuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmhlYWRpbmcuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgIHR5cGU6ICdoZWFkaW5nJyxcbiAgICAgICAgZGVwdGg6IGNhcFsxXS5sZW5ndGgsXG4gICAgICAgIHRleHQ6IGNhcFsyXVxuICAgICAgfSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyB0YWJsZSBubyBsZWFkaW5nIHBpcGUgKGdmbSlcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5ucHRhYmxlLmV4ZWMoc3JjKSkge1xuICAgICAgaXRlbSA9IHtcbiAgICAgICAgdHlwZTogJ3RhYmxlJyxcbiAgICAgICAgaGVhZGVyOiBzcGxpdENlbGxzKGNhcFsxXS5yZXBsYWNlKC9eICp8ICpcXHwgKiQvZywgJycpKSxcbiAgICAgICAgYWxpZ246IGNhcFsyXS5yZXBsYWNlKC9eICp8XFx8ICokL2csICcnKS5zcGxpdCgvICpcXHwgKi8pLFxuICAgICAgICBjZWxsczogY2FwWzNdID8gY2FwWzNdLnJlcGxhY2UoL1xcbiQvLCAnJykuc3BsaXQoJ1xcbicpIDogW11cbiAgICAgIH07XG5cbiAgICAgIGlmIChpdGVtLmhlYWRlci5sZW5ndGggPT09IGl0ZW0uYWxpZ24ubGVuZ3RoKSB7XG4gICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGl0ZW0uYWxpZ24ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoL14gKi0rOiAqJC8udGVzdChpdGVtLmFsaWduW2ldKSkge1xuICAgICAgICAgICAgaXRlbS5hbGlnbltpXSA9ICdyaWdodCc7XG4gICAgICAgICAgfSBlbHNlIGlmICgvXiAqOi0rOiAqJC8udGVzdChpdGVtLmFsaWduW2ldKSkge1xuICAgICAgICAgICAgaXRlbS5hbGlnbltpXSA9ICdjZW50ZXInO1xuICAgICAgICAgIH0gZWxzZSBpZiAoL14gKjotKyAqJC8udGVzdChpdGVtLmFsaWduW2ldKSkge1xuICAgICAgICAgICAgaXRlbS5hbGlnbltpXSA9ICdsZWZ0JztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaXRlbS5hbGlnbltpXSA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGl0ZW0uY2VsbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpdGVtLmNlbGxzW2ldID0gc3BsaXRDZWxscyhpdGVtLmNlbGxzW2ldLCBpdGVtLmhlYWRlci5sZW5ndGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50b2tlbnMucHVzaChpdGVtKTtcblxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBoclxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmhyLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICB0eXBlOiAnaHInXG4gICAgICB9KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGJsb2NrcXVvdGVcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5ibG9ja3F1b3RlLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcblxuICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgIHR5cGU6ICdibG9ja3F1b3RlX3N0YXJ0J1xuICAgICAgfSk7XG5cbiAgICAgIGNhcCA9IGNhcFswXS5yZXBsYWNlKC9eICo+ID8vZ20sICcnKTtcblxuICAgICAgLy8gUGFzcyBgdG9wYCB0byBrZWVwIHRoZSBjdXJyZW50XG4gICAgICAvLyBcInRvcGxldmVsXCIgc3RhdGUuIFRoaXMgaXMgZXhhY3RseVxuICAgICAgLy8gaG93IG1hcmtkb3duLnBsIHdvcmtzLlxuICAgICAgdGhpcy50b2tlbihjYXAsIHRvcCk7XG5cbiAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICB0eXBlOiAnYmxvY2txdW90ZV9lbmQnXG4gICAgICB9KTtcblxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gbGlzdFxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmxpc3QuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgYnVsbCA9IGNhcFsyXTtcbiAgICAgIGlzb3JkZXJlZCA9IGJ1bGwubGVuZ3RoID4gMTtcblxuICAgICAgbGlzdFN0YXJ0ID0ge1xuICAgICAgICB0eXBlOiAnbGlzdF9zdGFydCcsXG4gICAgICAgIG9yZGVyZWQ6IGlzb3JkZXJlZCxcbiAgICAgICAgc3RhcnQ6IGlzb3JkZXJlZCA/ICtidWxsIDogJycsXG4gICAgICAgIGxvb3NlOiBmYWxzZVxuICAgICAgfTtcblxuICAgICAgdGhpcy50b2tlbnMucHVzaChsaXN0U3RhcnQpO1xuXG4gICAgICAvLyBHZXQgZWFjaCB0b3AtbGV2ZWwgaXRlbS5cbiAgICAgIGNhcCA9IGNhcFswXS5tYXRjaCh0aGlzLnJ1bGVzLml0ZW0pO1xuXG4gICAgICBsaXN0SXRlbXMgPSBbXTtcbiAgICAgIG5leHQgPSBmYWxzZTtcbiAgICAgIGwgPSBjYXAubGVuZ3RoO1xuICAgICAgaSA9IDA7XG5cbiAgICAgIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGl0ZW0gPSBjYXBbaV07XG5cbiAgICAgICAgLy8gUmVtb3ZlIHRoZSBsaXN0IGl0ZW0ncyBidWxsZXRcbiAgICAgICAgLy8gc28gaXQgaXMgc2VlbiBhcyB0aGUgbmV4dCB0b2tlbi5cbiAgICAgICAgc3BhY2UgPSBpdGVtLmxlbmd0aDtcbiAgICAgICAgaXRlbSA9IGl0ZW0ucmVwbGFjZSgvXiAqKFsqKy1dfFxcZCtcXC4pICovLCAnJyk7XG5cbiAgICAgICAgLy8gT3V0ZGVudCB3aGF0ZXZlciB0aGVcbiAgICAgICAgLy8gbGlzdCBpdGVtIGNvbnRhaW5zLiBIYWNreS5cbiAgICAgICAgaWYgKH5pdGVtLmluZGV4T2YoJ1xcbiAnKSkge1xuICAgICAgICAgIHNwYWNlIC09IGl0ZW0ubGVuZ3RoO1xuICAgICAgICAgIGl0ZW0gPSAhdGhpcy5vcHRpb25zLnBlZGFudGljXG4gICAgICAgICAgICA/IGl0ZW0ucmVwbGFjZShuZXcgUmVnRXhwKCdeIHsxLCcgKyBzcGFjZSArICd9JywgJ2dtJyksICcnKVxuICAgICAgICAgICAgOiBpdGVtLnJlcGxhY2UoL14gezEsNH0vZ20sICcnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERldGVybWluZSB3aGV0aGVyIHRoZSBuZXh0IGxpc3QgaXRlbSBiZWxvbmdzIGhlcmUuXG4gICAgICAgIC8vIEJhY2twZWRhbCBpZiBpdCBkb2VzIG5vdCBiZWxvbmcgaW4gdGhpcyBsaXN0LlxuICAgICAgICBpZiAoaSAhPT0gbCAtIDEpIHtcbiAgICAgICAgICBiID0gYmxvY2suYnVsbGV0LmV4ZWMoY2FwW2kgKyAxXSlbMF07XG4gICAgICAgICAgaWYgKGJ1bGwubGVuZ3RoID4gMSA/IGIubGVuZ3RoID09PSAxXG4gICAgICAgICAgICA6IChiLmxlbmd0aCA+IDEgfHwgKHRoaXMub3B0aW9ucy5zbWFydExpc3RzICYmIGIgIT09IGJ1bGwpKSkge1xuICAgICAgICAgICAgc3JjID0gY2FwLnNsaWNlKGkgKyAxKS5qb2luKCdcXG4nKSArIHNyYztcbiAgICAgICAgICAgIGkgPSBsIC0gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEZXRlcm1pbmUgd2hldGhlciBpdGVtIGlzIGxvb3NlIG9yIG5vdC5cbiAgICAgICAgLy8gVXNlOiAvKF58XFxuKSg/ISApW15cXG5dK1xcblxcbig/IVxccyokKS9cbiAgICAgICAgLy8gZm9yIGRpc2NvdW50IGJlaGF2aW9yLlxuICAgICAgICBsb29zZSA9IG5leHQgfHwgL1xcblxcbig/IVxccyokKS8udGVzdChpdGVtKTtcbiAgICAgICAgaWYgKGkgIT09IGwgLSAxKSB7XG4gICAgICAgICAgbmV4dCA9IGl0ZW0uY2hhckF0KGl0ZW0ubGVuZ3RoIC0gMSkgPT09ICdcXG4nO1xuICAgICAgICAgIGlmICghbG9vc2UpIGxvb3NlID0gbmV4dDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsb29zZSkge1xuICAgICAgICAgIGxpc3RTdGFydC5sb29zZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBmb3IgdGFzayBsaXN0IGl0ZW1zXG4gICAgICAgIGlzdGFzayA9IC9eXFxbWyB4WF1cXF0gLy50ZXN0KGl0ZW0pO1xuICAgICAgICBpc2NoZWNrZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChpc3Rhc2spIHtcbiAgICAgICAgICBpc2NoZWNrZWQgPSBpdGVtWzFdICE9PSAnICc7XG4gICAgICAgICAgaXRlbSA9IGl0ZW0ucmVwbGFjZSgvXlxcW1sgeFhdXFxdICsvLCAnJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0ID0ge1xuICAgICAgICAgIHR5cGU6ICdsaXN0X2l0ZW1fc3RhcnQnLFxuICAgICAgICAgIHRhc2s6IGlzdGFzayxcbiAgICAgICAgICBjaGVja2VkOiBpc2NoZWNrZWQsXG4gICAgICAgICAgbG9vc2U6IGxvb3NlXG4gICAgICAgIH07XG5cbiAgICAgICAgbGlzdEl0ZW1zLnB1c2godCk7XG4gICAgICAgIHRoaXMudG9rZW5zLnB1c2godCk7XG5cbiAgICAgICAgLy8gUmVjdXJzZS5cbiAgICAgICAgdGhpcy50b2tlbihpdGVtLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgICAgdHlwZTogJ2xpc3RfaXRlbV9lbmQnXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAobGlzdFN0YXJ0Lmxvb3NlKSB7XG4gICAgICAgIGwgPSBsaXN0SXRlbXMubGVuZ3RoO1xuICAgICAgICBpID0gMDtcbiAgICAgICAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICBsaXN0SXRlbXNbaV0ubG9vc2UgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICB0eXBlOiAnbGlzdF9lbmQnXG4gICAgICB9KTtcblxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gaHRtbFxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmh0bWwuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgIHR5cGU6IHRoaXMub3B0aW9ucy5zYW5pdGl6ZVxuICAgICAgICAgID8gJ3BhcmFncmFwaCdcbiAgICAgICAgICA6ICdodG1sJyxcbiAgICAgICAgcHJlOiAhdGhpcy5vcHRpb25zLnNhbml0aXplclxuICAgICAgICAgICYmIChjYXBbMV0gPT09ICdwcmUnIHx8IGNhcFsxXSA9PT0gJ3NjcmlwdCcgfHwgY2FwWzFdID09PSAnc3R5bGUnKSxcbiAgICAgICAgdGV4dDogdGhpcy5vcHRpb25zLnNhbml0aXplID8gKHRoaXMub3B0aW9ucy5zYW5pdGl6ZXIgPyB0aGlzLm9wdGlvbnMuc2FuaXRpemVyKGNhcFswXSkgOiBlc2NhcGUoY2FwWzBdKSkgOiBjYXBbMF1cbiAgICAgIH0pO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gZGVmXG4gICAgaWYgKHRvcCAmJiAoY2FwID0gdGhpcy5ydWxlcy5kZWYuZXhlYyhzcmMpKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIGlmIChjYXBbM10pIGNhcFszXSA9IGNhcFszXS5zdWJzdHJpbmcoMSwgY2FwWzNdLmxlbmd0aCAtIDEpO1xuICAgICAgdGFnID0gY2FwWzFdLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxzKy9nLCAnICcpO1xuICAgICAgaWYgKCF0aGlzLnRva2Vucy5saW5rc1t0YWddKSB7XG4gICAgICAgIHRoaXMudG9rZW5zLmxpbmtzW3RhZ10gPSB7XG4gICAgICAgICAgaHJlZjogY2FwWzJdLFxuICAgICAgICAgIHRpdGxlOiBjYXBbM11cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIHRhYmxlIChnZm0pXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMudGFibGUuZXhlYyhzcmMpKSB7XG4gICAgICBpdGVtID0ge1xuICAgICAgICB0eXBlOiAndGFibGUnLFxuICAgICAgICBoZWFkZXI6IHNwbGl0Q2VsbHMoY2FwWzFdLnJlcGxhY2UoL14gKnwgKlxcfCAqJC9nLCAnJykpLFxuICAgICAgICBhbGlnbjogY2FwWzJdLnJlcGxhY2UoL14gKnxcXHwgKiQvZywgJycpLnNwbGl0KC8gKlxcfCAqLyksXG4gICAgICAgIGNlbGxzOiBjYXBbM10gPyBjYXBbM10ucmVwbGFjZSgvXFxuJC8sICcnKS5zcGxpdCgnXFxuJykgOiBbXVxuICAgICAgfTtcblxuICAgICAgaWYgKGl0ZW0uaGVhZGVyLmxlbmd0aCA9PT0gaXRlbS5hbGlnbi5sZW5ndGgpIHtcbiAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaXRlbS5hbGlnbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmICgvXiAqLSs6ICokLy50ZXN0KGl0ZW0uYWxpZ25baV0pKSB7XG4gICAgICAgICAgICBpdGVtLmFsaWduW2ldID0gJ3JpZ2h0JztcbiAgICAgICAgICB9IGVsc2UgaWYgKC9eICo6LSs6ICokLy50ZXN0KGl0ZW0uYWxpZ25baV0pKSB7XG4gICAgICAgICAgICBpdGVtLmFsaWduW2ldID0gJ2NlbnRlcic7XG4gICAgICAgICAgfSBlbHNlIGlmICgvXiAqOi0rICokLy50ZXN0KGl0ZW0uYWxpZ25baV0pKSB7XG4gICAgICAgICAgICBpdGVtLmFsaWduW2ldID0gJ2xlZnQnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpdGVtLmFsaWduW2ldID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaXRlbS5jZWxscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGl0ZW0uY2VsbHNbaV0gPSBzcGxpdENlbGxzKFxuICAgICAgICAgICAgaXRlbS5jZWxsc1tpXS5yZXBsYWNlKC9eICpcXHwgKnwgKlxcfCAqJC9nLCAnJyksXG4gICAgICAgICAgICBpdGVtLmhlYWRlci5sZW5ndGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50b2tlbnMucHVzaChpdGVtKTtcblxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBsaGVhZGluZ1xuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmxoZWFkaW5nLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICB0eXBlOiAnaGVhZGluZycsXG4gICAgICAgIGRlcHRoOiBjYXBbMl0uY2hhckF0KDApID09PSAnPScgPyAxIDogMixcbiAgICAgICAgdGV4dDogY2FwWzFdXG4gICAgICB9KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIHRvcC1sZXZlbCBwYXJhZ3JhcGhcbiAgICBpZiAodG9wICYmIChjYXAgPSB0aGlzLnJ1bGVzLnBhcmFncmFwaC5leGVjKHNyYykpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgIHR5cGU6ICdwYXJhZ3JhcGgnLFxuICAgICAgICB0ZXh0OiBjYXBbMV0uY2hhckF0KGNhcFsxXS5sZW5ndGggLSAxKSA9PT0gJ1xcbidcbiAgICAgICAgICA/IGNhcFsxXS5zbGljZSgwLCAtMSlcbiAgICAgICAgICA6IGNhcFsxXVxuICAgICAgfSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyB0ZXh0XG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMudGV4dC5leGVjKHNyYykpIHtcbiAgICAgIC8vIFRvcC1sZXZlbCBzaG91bGQgbmV2ZXIgcmVhY2ggaGVyZS5cbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICB0ZXh0OiBjYXBbMF1cbiAgICAgIH0pO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKHNyYykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmZpbml0ZSBsb29wIG9uIGJ5dGU6ICcgKyBzcmMuY2hhckNvZGVBdCgwKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXMudG9rZW5zO1xufTtcblxuLyoqXG4gKiBJbmxpbmUtTGV2ZWwgR3JhbW1hclxuICovXG5cbnZhciBpbmxpbmUgPSB7XG4gIGVzY2FwZTogL15cXFxcKFshXCIjJCUmJygpKissXFwtLi86Ozw9Pj9AXFxbXFxdXFxcXF5fYHt8fX5dKS8sXG4gIGF1dG9saW5rOiAvXjwoc2NoZW1lOlteXFxzXFx4MDAtXFx4MWY8Pl0qfGVtYWlsKT4vLFxuICB1cmw6IG5vb3AsXG4gIHRhZzogJ15jb21tZW50J1xuICAgICsgJ3xePC9bYS16QS1aXVtcXFxcdzotXSpcXFxccyo+JyAvLyBzZWxmLWNsb3NpbmcgdGFnXG4gICAgKyAnfF48W2EtekEtWl1bXFxcXHctXSooPzphdHRyaWJ1dGUpKj9cXFxccyovPz4nIC8vIG9wZW4gdGFnXG4gICAgKyAnfF48XFxcXD9bXFxcXHNcXFxcU10qP1xcXFw/PicgLy8gcHJvY2Vzc2luZyBpbnN0cnVjdGlvbiwgZS5nLiA8P3BocCA/PlxuICAgICsgJ3xePCFbYS16QS1aXStcXFxcc1tcXFxcc1xcXFxTXSo/PicgLy8gZGVjbGFyYXRpb24sIGUuZy4gPCFET0NUWVBFIGh0bWw+XG4gICAgKyAnfF48IVxcXFxbQ0RBVEFcXFxcW1tcXFxcc1xcXFxTXSo/XFxcXF1cXFxcXT4nLCAvLyBDREFUQSBzZWN0aW9uXG4gIGxpbms6IC9eIT9cXFsobGFiZWwpXFxdXFwoXFxzKihocmVmKSg/OlxccysodGl0bGUpKT9cXHMqXFwpLyxcbiAgcmVmbGluazogL14hP1xcWyhsYWJlbClcXF1cXFsoPyFcXHMqXFxdKSgoPzpcXFxcW1xcW1xcXV0/fFteXFxbXFxdXFxcXF0pKylcXF0vLFxuICBub2xpbms6IC9eIT9cXFsoPyFcXHMqXFxdKSgoPzpcXFtbXlxcW1xcXV0qXFxdfFxcXFxbXFxbXFxdXXxbXlxcW1xcXV0pKilcXF0oPzpcXFtcXF0pPy8sXG4gIHN0cm9uZzogL15fXyhbXlxcc19dKV9fKD8hXyl8XlxcKlxcKihbXlxccypdKVxcKlxcKig/IVxcKil8Xl9fKFteXFxzXVtcXHNcXFNdKj9bXlxcc10pX18oPyFfKXxeXFwqXFwqKFteXFxzXVtcXHNcXFNdKj9bXlxcc10pXFwqXFwqKD8hXFwqKS8sXG4gIGVtOiAvXl8oW15cXHNfXSlfKD8hXyl8XlxcKihbXlxccyo8XFxbXSlcXCooPyFcXCopfF5fKFteXFxzPF1bXFxzXFxTXSo/W15cXHNfXSlfKD8hX3xbXlxcc3B1bmN0dWF0aW9uXSl8Xl8oW15cXHNfPF1bXFxzXFxTXSo/W15cXHNdKV8oPyFffFteXFxzcHVuY3R1YXRpb25dKXxeXFwqKFteXFxzPFwiXVtcXHNcXFNdKj9bXlxcc1xcKl0pXFwqKD8hXFwqfFteXFxzcHVuY3R1YXRpb25dKXxeXFwqKFteXFxzKlwiPFxcW11bXFxzXFxTXSo/W15cXHNdKVxcKig/IVxcKikvLFxuICBjb2RlOiAvXihgKykoW15gXXxbXmBdW1xcc1xcU10qP1teYF0pXFwxKD8hYCkvLFxuICBicjogL14oIHsyLH18XFxcXClcXG4oPyFcXHMqJCkvLFxuICBkZWw6IG5vb3AsXG4gIHRleHQ6IC9eKGArfFteYF0pKD86W1xcc1xcU10qPyg/Oig/PVtcXFxcPCFcXFtgKl18XFxiX3wkKXxbXiBdKD89IHsyLH1cXG4pKXwoPz0gezIsfVxcbikpL1xufTtcblxuLy8gbGlzdCBvZiBwdW5jdHVhdGlvbiBtYXJrcyBmcm9tIGNvbW1vbiBtYXJrIHNwZWNcbi8vIHdpdGhvdXQgYCBhbmQgXSB0byB3b3JrYXJvdW5kIFJ1bGUgMTcgKGlubGluZSBjb2RlIGJsb2Nrcy9saW5rcylcbmlubGluZS5fcHVuY3R1YXRpb24gPSAnIVwiIyQlJlxcJygpKissXFxcXC0uLzo7PD0+P0BcXFxcW15fe3x9fic7XG5pbmxpbmUuZW0gPSBlZGl0KGlubGluZS5lbSkucmVwbGFjZSgvcHVuY3R1YXRpb24vZywgaW5saW5lLl9wdW5jdHVhdGlvbikuZ2V0UmVnZXgoKTtcblxuaW5saW5lLl9lc2NhcGVzID0gL1xcXFwoWyFcIiMkJSYnKCkqKyxcXC0uLzo7PD0+P0BcXFtcXF1cXFxcXl9ge3x9fl0pL2c7XG5cbmlubGluZS5fc2NoZW1lID0gL1thLXpBLVpdW2EtekEtWjAtOSsuLV17MSwzMX0vO1xuaW5saW5lLl9lbWFpbCA9IC9bYS16QS1aMC05LiEjJCUmJyorLz0/Xl9ge3x9fi1dKyhAKVthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPyg/OlxcLlthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPykrKD8hWy1fXSkvO1xuaW5saW5lLmF1dG9saW5rID0gZWRpdChpbmxpbmUuYXV0b2xpbmspXG4gIC5yZXBsYWNlKCdzY2hlbWUnLCBpbmxpbmUuX3NjaGVtZSlcbiAgLnJlcGxhY2UoJ2VtYWlsJywgaW5saW5lLl9lbWFpbClcbiAgLmdldFJlZ2V4KCk7XG5cbmlubGluZS5fYXR0cmlidXRlID0gL1xccytbYS16QS1aOl9dW1xcdy46LV0qKD86XFxzKj1cXHMqXCJbXlwiXSpcInxcXHMqPVxccyonW14nXSonfFxccyo9XFxzKlteXFxzXCInPTw+YF0rKT8vO1xuXG5pbmxpbmUudGFnID0gZWRpdChpbmxpbmUudGFnKVxuICAucmVwbGFjZSgnY29tbWVudCcsIGJsb2NrLl9jb21tZW50KVxuICAucmVwbGFjZSgnYXR0cmlidXRlJywgaW5saW5lLl9hdHRyaWJ1dGUpXG4gIC5nZXRSZWdleCgpO1xuXG5pbmxpbmUuX2xhYmVsID0gLyg/OlxcW1teXFxbXFxdXSpcXF18XFxcXC58YFteYF0qYHxbXlxcW1xcXVxcXFxgXSkqPy87XG5pbmxpbmUuX2hyZWYgPSAvPCg/OlxcXFxbPD5dP3xbXlxcczw+XFxcXF0pKj58W15cXHNcXHgwMC1cXHgxZl0qLztcbmlubGluZS5fdGl0bGUgPSAvXCIoPzpcXFxcXCI/fFteXCJcXFxcXSkqXCJ8Jyg/OlxcXFwnP3xbXidcXFxcXSkqJ3xcXCgoPzpcXFxcXFwpP3xbXilcXFxcXSkqXFwpLztcblxuaW5saW5lLmxpbmsgPSBlZGl0KGlubGluZS5saW5rKVxuICAucmVwbGFjZSgnbGFiZWwnLCBpbmxpbmUuX2xhYmVsKVxuICAucmVwbGFjZSgnaHJlZicsIGlubGluZS5faHJlZilcbiAgLnJlcGxhY2UoJ3RpdGxlJywgaW5saW5lLl90aXRsZSlcbiAgLmdldFJlZ2V4KCk7XG5cbmlubGluZS5yZWZsaW5rID0gZWRpdChpbmxpbmUucmVmbGluaylcbiAgLnJlcGxhY2UoJ2xhYmVsJywgaW5saW5lLl9sYWJlbClcbiAgLmdldFJlZ2V4KCk7XG5cbi8qKlxuICogTm9ybWFsIElubGluZSBHcmFtbWFyXG4gKi9cblxuaW5saW5lLm5vcm1hbCA9IG1lcmdlKHt9LCBpbmxpbmUpO1xuXG4vKipcbiAqIFBlZGFudGljIElubGluZSBHcmFtbWFyXG4gKi9cblxuaW5saW5lLnBlZGFudGljID0gbWVyZ2Uoe30sIGlubGluZS5ub3JtYWwsIHtcbiAgc3Ryb25nOiAvXl9fKD89XFxTKShbXFxzXFxTXSo/XFxTKV9fKD8hXyl8XlxcKlxcKig/PVxcUykoW1xcc1xcU10qP1xcUylcXCpcXCooPyFcXCopLyxcbiAgZW06IC9eXyg/PVxcUykoW1xcc1xcU10qP1xcUylfKD8hXyl8XlxcKig/PVxcUykoW1xcc1xcU10qP1xcUylcXCooPyFcXCopLyxcbiAgbGluazogZWRpdCgvXiE/XFxbKGxhYmVsKVxcXVxcKCguKj8pXFwpLylcbiAgICAucmVwbGFjZSgnbGFiZWwnLCBpbmxpbmUuX2xhYmVsKVxuICAgIC5nZXRSZWdleCgpLFxuICByZWZsaW5rOiBlZGl0KC9eIT9cXFsobGFiZWwpXFxdXFxzKlxcWyhbXlxcXV0qKVxcXS8pXG4gICAgLnJlcGxhY2UoJ2xhYmVsJywgaW5saW5lLl9sYWJlbClcbiAgICAuZ2V0UmVnZXgoKVxufSk7XG5cbi8qKlxuICogR0ZNIElubGluZSBHcmFtbWFyXG4gKi9cblxuaW5saW5lLmdmbSA9IG1lcmdlKHt9LCBpbmxpbmUubm9ybWFsLCB7XG4gIGVzY2FwZTogZWRpdChpbmxpbmUuZXNjYXBlKS5yZXBsYWNlKCddKScsICd+fF0pJykuZ2V0UmVnZXgoKSxcbiAgX2V4dGVuZGVkX2VtYWlsOiAvW0EtWmEtejAtOS5fKy1dKyhAKVthLXpBLVowLTktX10rKD86XFwuW2EtekEtWjAtOS1fXSpbYS16QS1aMC05XSkrKD8hWy1fXSkvLFxuICB1cmw6IC9eKCg/OmZ0cHxodHRwcz8pOlxcL1xcL3x3d3dcXC4pKD86W2EtekEtWjAtOVxcLV0rXFwuPykrW15cXHM8XSp8XmVtYWlsLyxcbiAgX2JhY2twZWRhbDogLyg/OltePyEuLDo7Kl9+KCkmXSt8XFwoW14pXSpcXCl8Jig/IVthLXpBLVowLTldKzskKXxbPyEuLDo7Kl9+KV0rKD8hJCkpKy8sXG4gIGRlbDogL15+Kyg/PVxcUykoW1xcc1xcU10qP1xcUyl+Ky8sXG4gIHRleHQ6IC9eKGArfFteYF0pKD86W1xcc1xcU10qPyg/Oig/PVtcXFxcPCFcXFtgKn5dfFxcYl98aHR0cHM/OlxcL1xcL3xmdHA6XFwvXFwvfHd3d1xcLnwkKXxbXiBdKD89IHsyLH1cXG4pfFteYS16QS1aMC05LiEjJCUmJyorXFwvPT9fYHtcXHx9fi1dKD89W2EtekEtWjAtOS4hIyQlJicqK1xcLz0/X2B7XFx8fX4tXStAKSl8KD89IHsyLH1cXG58W2EtekEtWjAtOS4hIyQlJicqK1xcLz0/X2B7XFx8fX4tXStAKSkvXG59KTtcblxuaW5saW5lLmdmbS51cmwgPSBlZGl0KGlubGluZS5nZm0udXJsLCAnaScpXG4gIC5yZXBsYWNlKCdlbWFpbCcsIGlubGluZS5nZm0uX2V4dGVuZGVkX2VtYWlsKVxuICAuZ2V0UmVnZXgoKTtcbi8qKlxuICogR0ZNICsgTGluZSBCcmVha3MgSW5saW5lIEdyYW1tYXJcbiAqL1xuXG5pbmxpbmUuYnJlYWtzID0gbWVyZ2Uoe30sIGlubGluZS5nZm0sIHtcbiAgYnI6IGVkaXQoaW5saW5lLmJyKS5yZXBsYWNlKCd7Mix9JywgJyonKS5nZXRSZWdleCgpLFxuICB0ZXh0OiBlZGl0KGlubGluZS5nZm0udGV4dClcbiAgICAucmVwbGFjZSgnXFxcXGJfJywgJ1xcXFxiX3wgezIsfVxcXFxuJylcbiAgICAucmVwbGFjZSgvXFx7MixcXH0vZywgJyonKVxuICAgIC5nZXRSZWdleCgpXG59KTtcblxuLyoqXG4gKiBJbmxpbmUgTGV4ZXIgJiBDb21waWxlclxuICovXG5cbmZ1bmN0aW9uIElubGluZUxleGVyKGxpbmtzLCBvcHRpb25zKSB7XG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwgbWFya2VkLmRlZmF1bHRzO1xuICB0aGlzLmxpbmtzID0gbGlua3M7XG4gIHRoaXMucnVsZXMgPSBpbmxpbmUubm9ybWFsO1xuICB0aGlzLnJlbmRlcmVyID0gdGhpcy5vcHRpb25zLnJlbmRlcmVyIHx8IG5ldyBSZW5kZXJlcigpO1xuICB0aGlzLnJlbmRlcmVyLm9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgaWYgKCF0aGlzLmxpbmtzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdUb2tlbnMgYXJyYXkgcmVxdWlyZXMgYSBgbGlua3NgIHByb3BlcnR5LicpO1xuICB9XG5cbiAgaWYgKHRoaXMub3B0aW9ucy5wZWRhbnRpYykge1xuICAgIHRoaXMucnVsZXMgPSBpbmxpbmUucGVkYW50aWM7XG4gIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLmdmbSkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMuYnJlYWtzKSB7XG4gICAgICB0aGlzLnJ1bGVzID0gaW5saW5lLmJyZWFrcztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5ydWxlcyA9IGlubGluZS5nZm07XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogRXhwb3NlIElubGluZSBSdWxlc1xuICovXG5cbklubGluZUxleGVyLnJ1bGVzID0gaW5saW5lO1xuXG4vKipcbiAqIFN0YXRpYyBMZXhpbmcvQ29tcGlsaW5nIE1ldGhvZFxuICovXG5cbklubGluZUxleGVyLm91dHB1dCA9IGZ1bmN0aW9uKHNyYywgbGlua3MsIG9wdGlvbnMpIHtcbiAgdmFyIGlubGluZSA9IG5ldyBJbmxpbmVMZXhlcihsaW5rcywgb3B0aW9ucyk7XG4gIHJldHVybiBpbmxpbmUub3V0cHV0KHNyYyk7XG59O1xuXG4vKipcbiAqIExleGluZy9Db21waWxpbmdcbiAqL1xuXG5JbmxpbmVMZXhlci5wcm90b3R5cGUub3V0cHV0ID0gZnVuY3Rpb24oc3JjKSB7XG4gIHZhciBvdXQgPSAnJyxcbiAgICAgIGxpbmssXG4gICAgICB0ZXh0LFxuICAgICAgaHJlZixcbiAgICAgIHRpdGxlLFxuICAgICAgY2FwLFxuICAgICAgcHJldkNhcFplcm87XG5cbiAgd2hpbGUgKHNyYykge1xuICAgIC8vIGVzY2FwZVxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmVzY2FwZS5leGVjKHNyYykpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICBvdXQgKz0gZXNjYXBlKGNhcFsxXSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyB0YWdcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy50YWcuZXhlYyhzcmMpKSB7XG4gICAgICBpZiAoIXRoaXMuaW5MaW5rICYmIC9ePGEgL2kudGVzdChjYXBbMF0pKSB7XG4gICAgICAgIHRoaXMuaW5MaW5rID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5pbkxpbmsgJiYgL148XFwvYT4vaS50ZXN0KGNhcFswXSkpIHtcbiAgICAgICAgdGhpcy5pbkxpbmsgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5pblJhd0Jsb2NrICYmIC9ePChwcmV8Y29kZXxrYmR8c2NyaXB0KShcXHN8PikvaS50ZXN0KGNhcFswXSkpIHtcbiAgICAgICAgdGhpcy5pblJhd0Jsb2NrID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5pblJhd0Jsb2NrICYmIC9ePFxcLyhwcmV8Y29kZXxrYmR8c2NyaXB0KShcXHN8PikvaS50ZXN0KGNhcFswXSkpIHtcbiAgICAgICAgdGhpcy5pblJhd0Jsb2NrID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICBvdXQgKz0gdGhpcy5vcHRpb25zLnNhbml0aXplXG4gICAgICAgID8gdGhpcy5vcHRpb25zLnNhbml0aXplclxuICAgICAgICAgID8gdGhpcy5vcHRpb25zLnNhbml0aXplcihjYXBbMF0pXG4gICAgICAgICAgOiBlc2NhcGUoY2FwWzBdKVxuICAgICAgICA6IGNhcFswXTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGxpbmtcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5saW5rLmV4ZWMoc3JjKSkge1xuICAgICAgdmFyIGxhc3RQYXJlbkluZGV4ID0gZmluZENsb3NpbmdCcmFja2V0KGNhcFsyXSwgJygpJyk7XG4gICAgICBpZiAobGFzdFBhcmVuSW5kZXggPiAtMSkge1xuICAgICAgICB2YXIgbGlua0xlbiA9IDQgKyBjYXBbMV0ubGVuZ3RoICsgbGFzdFBhcmVuSW5kZXg7XG4gICAgICAgIGNhcFsyXSA9IGNhcFsyXS5zdWJzdHJpbmcoMCwgbGFzdFBhcmVuSW5kZXgpO1xuICAgICAgICBjYXBbMF0gPSBjYXBbMF0uc3Vic3RyaW5nKDAsIGxpbmtMZW4pLnRyaW0oKTtcbiAgICAgICAgY2FwWzNdID0gJyc7XG4gICAgICB9XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgdGhpcy5pbkxpbmsgPSB0cnVlO1xuICAgICAgaHJlZiA9IGNhcFsyXTtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMucGVkYW50aWMpIHtcbiAgICAgICAgbGluayA9IC9eKFteJ1wiXSpbXlxcc10pXFxzKyhbJ1wiXSkoLiopXFwyLy5leGVjKGhyZWYpO1xuXG4gICAgICAgIGlmIChsaW5rKSB7XG4gICAgICAgICAgaHJlZiA9IGxpbmtbMV07XG4gICAgICAgICAgdGl0bGUgPSBsaW5rWzNdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRpdGxlID0gJyc7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRpdGxlID0gY2FwWzNdID8gY2FwWzNdLnNsaWNlKDEsIC0xKSA6ICcnO1xuICAgICAgfVxuICAgICAgaHJlZiA9IGhyZWYudHJpbSgpLnJlcGxhY2UoL148KFtcXHNcXFNdKik+JC8sICckMScpO1xuICAgICAgb3V0ICs9IHRoaXMub3V0cHV0TGluayhjYXAsIHtcbiAgICAgICAgaHJlZjogSW5saW5lTGV4ZXIuZXNjYXBlcyhocmVmKSxcbiAgICAgICAgdGl0bGU6IElubGluZUxleGVyLmVzY2FwZXModGl0bGUpXG4gICAgICB9KTtcbiAgICAgIHRoaXMuaW5MaW5rID0gZmFsc2U7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyByZWZsaW5rLCBub2xpbmtcbiAgICBpZiAoKGNhcCA9IHRoaXMucnVsZXMucmVmbGluay5leGVjKHNyYykpXG4gICAgICAgIHx8IChjYXAgPSB0aGlzLnJ1bGVzLm5vbGluay5leGVjKHNyYykpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgbGluayA9IChjYXBbMl0gfHwgY2FwWzFdKS5yZXBsYWNlKC9cXHMrL2csICcgJyk7XG4gICAgICBsaW5rID0gdGhpcy5saW5rc1tsaW5rLnRvTG93ZXJDYXNlKCldO1xuICAgICAgaWYgKCFsaW5rIHx8ICFsaW5rLmhyZWYpIHtcbiAgICAgICAgb3V0ICs9IGNhcFswXS5jaGFyQXQoMCk7XG4gICAgICAgIHNyYyA9IGNhcFswXS5zdWJzdHJpbmcoMSkgKyBzcmM7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdGhpcy5pbkxpbmsgPSB0cnVlO1xuICAgICAgb3V0ICs9IHRoaXMub3V0cHV0TGluayhjYXAsIGxpbmspO1xuICAgICAgdGhpcy5pbkxpbmsgPSBmYWxzZTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIHN0cm9uZ1xuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLnN0cm9uZy5leGVjKHNyYykpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5zdHJvbmcodGhpcy5vdXRwdXQoY2FwWzRdIHx8IGNhcFszXSB8fCBjYXBbMl0gfHwgY2FwWzFdKSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBlbVxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmVtLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmVtKHRoaXMub3V0cHV0KGNhcFs2XSB8fCBjYXBbNV0gfHwgY2FwWzRdIHx8IGNhcFszXSB8fCBjYXBbMl0gfHwgY2FwWzFdKSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBjb2RlXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuY29kZS5leGVjKHNyYykpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5jb2Rlc3Bhbihlc2NhcGUoY2FwWzJdLnRyaW0oKSwgdHJ1ZSkpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gYnJcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5ici5leGVjKHNyYykpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5icigpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gZGVsIChnZm0pXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuZGVsLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmRlbCh0aGlzLm91dHB1dChjYXBbMV0pKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGF1dG9saW5rXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuYXV0b2xpbmsuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgaWYgKGNhcFsyXSA9PT0gJ0AnKSB7XG4gICAgICAgIHRleHQgPSBlc2NhcGUodGhpcy5tYW5nbGUoY2FwWzFdKSk7XG4gICAgICAgIGhyZWYgPSAnbWFpbHRvOicgKyB0ZXh0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGV4dCA9IGVzY2FwZShjYXBbMV0pO1xuICAgICAgICBocmVmID0gdGV4dDtcbiAgICAgIH1cbiAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmxpbmsoaHJlZiwgbnVsbCwgdGV4dCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyB1cmwgKGdmbSlcbiAgICBpZiAoIXRoaXMuaW5MaW5rICYmIChjYXAgPSB0aGlzLnJ1bGVzLnVybC5leGVjKHNyYykpKSB7XG4gICAgICBpZiAoY2FwWzJdID09PSAnQCcpIHtcbiAgICAgICAgdGV4dCA9IGVzY2FwZShjYXBbMF0pO1xuICAgICAgICBocmVmID0gJ21haWx0bzonICsgdGV4dDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGRvIGV4dGVuZGVkIGF1dG9saW5rIHBhdGggdmFsaWRhdGlvblxuICAgICAgICBkbyB7XG4gICAgICAgICAgcHJldkNhcFplcm8gPSBjYXBbMF07XG4gICAgICAgICAgY2FwWzBdID0gdGhpcy5ydWxlcy5fYmFja3BlZGFsLmV4ZWMoY2FwWzBdKVswXTtcbiAgICAgICAgfSB3aGlsZSAocHJldkNhcFplcm8gIT09IGNhcFswXSk7XG4gICAgICAgIHRleHQgPSBlc2NhcGUoY2FwWzBdKTtcbiAgICAgICAgaWYgKGNhcFsxXSA9PT0gJ3d3dy4nKSB7XG4gICAgICAgICAgaHJlZiA9ICdodHRwOi8vJyArIHRleHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaHJlZiA9IHRleHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5saW5rKGhyZWYsIG51bGwsIHRleHQpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gdGV4dFxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLnRleHQuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgaWYgKHRoaXMuaW5SYXdCbG9jaykge1xuICAgICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci50ZXh0KHRoaXMub3B0aW9ucy5zYW5pdGl6ZSA/ICh0aGlzLm9wdGlvbnMuc2FuaXRpemVyID8gdGhpcy5vcHRpb25zLnNhbml0aXplcihjYXBbMF0pIDogZXNjYXBlKGNhcFswXSkpIDogY2FwWzBdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLnRleHQoZXNjYXBlKHRoaXMuc21hcnR5cGFudHMoY2FwWzBdKSkpO1xuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKHNyYykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmZpbml0ZSBsb29wIG9uIGJ5dGU6ICcgKyBzcmMuY2hhckNvZGVBdCgwKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG91dDtcbn07XG5cbklubGluZUxleGVyLmVzY2FwZXMgPSBmdW5jdGlvbih0ZXh0KSB7XG4gIHJldHVybiB0ZXh0ID8gdGV4dC5yZXBsYWNlKElubGluZUxleGVyLnJ1bGVzLl9lc2NhcGVzLCAnJDEnKSA6IHRleHQ7XG59O1xuXG4vKipcbiAqIENvbXBpbGUgTGlua1xuICovXG5cbklubGluZUxleGVyLnByb3RvdHlwZS5vdXRwdXRMaW5rID0gZnVuY3Rpb24oY2FwLCBsaW5rKSB7XG4gIHZhciBocmVmID0gbGluay5ocmVmLFxuICAgICAgdGl0bGUgPSBsaW5rLnRpdGxlID8gZXNjYXBlKGxpbmsudGl0bGUpIDogbnVsbDtcblxuICByZXR1cm4gY2FwWzBdLmNoYXJBdCgwKSAhPT0gJyEnXG4gICAgPyB0aGlzLnJlbmRlcmVyLmxpbmsoaHJlZiwgdGl0bGUsIHRoaXMub3V0cHV0KGNhcFsxXSkpXG4gICAgOiB0aGlzLnJlbmRlcmVyLmltYWdlKGhyZWYsIHRpdGxlLCBlc2NhcGUoY2FwWzFdKSk7XG59O1xuXG4vKipcbiAqIFNtYXJ0eXBhbnRzIFRyYW5zZm9ybWF0aW9uc1xuICovXG5cbklubGluZUxleGVyLnByb3RvdHlwZS5zbWFydHlwYW50cyA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgaWYgKCF0aGlzLm9wdGlvbnMuc21hcnR5cGFudHMpIHJldHVybiB0ZXh0O1xuICByZXR1cm4gdGV4dFxuICAgIC8vIGVtLWRhc2hlc1xuICAgIC5yZXBsYWNlKC8tLS0vZywgJ1xcdTIwMTQnKVxuICAgIC8vIGVuLWRhc2hlc1xuICAgIC5yZXBsYWNlKC8tLS9nLCAnXFx1MjAxMycpXG4gICAgLy8gb3BlbmluZyBzaW5nbGVzXG4gICAgLnJlcGxhY2UoLyhefFstXFx1MjAxNC8oXFxbe1wiXFxzXSknL2csICckMVxcdTIwMTgnKVxuICAgIC8vIGNsb3Npbmcgc2luZ2xlcyAmIGFwb3N0cm9waGVzXG4gICAgLnJlcGxhY2UoLycvZywgJ1xcdTIwMTknKVxuICAgIC8vIG9wZW5pbmcgZG91Ymxlc1xuICAgIC5yZXBsYWNlKC8oXnxbLVxcdTIwMTQvKFxcW3tcXHUyMDE4XFxzXSlcIi9nLCAnJDFcXHUyMDFjJylcbiAgICAvLyBjbG9zaW5nIGRvdWJsZXNcbiAgICAucmVwbGFjZSgvXCIvZywgJ1xcdTIwMWQnKVxuICAgIC8vIGVsbGlwc2VzXG4gICAgLnJlcGxhY2UoL1xcLnszfS9nLCAnXFx1MjAyNicpO1xufTtcblxuLyoqXG4gKiBNYW5nbGUgTGlua3NcbiAqL1xuXG5JbmxpbmVMZXhlci5wcm90b3R5cGUubWFuZ2xlID0gZnVuY3Rpb24odGV4dCkge1xuICBpZiAoIXRoaXMub3B0aW9ucy5tYW5nbGUpIHJldHVybiB0ZXh0O1xuICB2YXIgb3V0ID0gJycsXG4gICAgICBsID0gdGV4dC5sZW5ndGgsXG4gICAgICBpID0gMCxcbiAgICAgIGNoO1xuXG4gIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgY2ggPSB0ZXh0LmNoYXJDb2RlQXQoaSk7XG4gICAgaWYgKE1hdGgucmFuZG9tKCkgPiAwLjUpIHtcbiAgICAgIGNoID0gJ3gnICsgY2gudG9TdHJpbmcoMTYpO1xuICAgIH1cbiAgICBvdXQgKz0gJyYjJyArIGNoICsgJzsnO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn07XG5cbi8qKlxuICogUmVuZGVyZXJcbiAqL1xuXG5mdW5jdGlvbiBSZW5kZXJlcihvcHRpb25zKSB7XG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwgbWFya2VkLmRlZmF1bHRzO1xufVxuXG5SZW5kZXJlci5wcm90b3R5cGUuY29kZSA9IGZ1bmN0aW9uKGNvZGUsIGluZm9zdHJpbmcsIGVzY2FwZWQpIHtcbiAgdmFyIGxhbmcgPSAoaW5mb3N0cmluZyB8fCAnJykubWF0Y2goL1xcUyovKVswXTtcbiAgaWYgKHRoaXMub3B0aW9ucy5oaWdobGlnaHQpIHtcbiAgICB2YXIgb3V0ID0gdGhpcy5vcHRpb25zLmhpZ2hsaWdodChjb2RlLCBsYW5nKTtcbiAgICBpZiAob3V0ICE9IG51bGwgJiYgb3V0ICE9PSBjb2RlKSB7XG4gICAgICBlc2NhcGVkID0gdHJ1ZTtcbiAgICAgIGNvZGUgPSBvdXQ7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFsYW5nKSB7XG4gICAgcmV0dXJuICc8cHJlPjxjb2RlPidcbiAgICAgICsgKGVzY2FwZWQgPyBjb2RlIDogZXNjYXBlKGNvZGUsIHRydWUpKVxuICAgICAgKyAnPC9jb2RlPjwvcHJlPic7XG4gIH1cblxuICByZXR1cm4gJzxwcmU+PGNvZGUgY2xhc3M9XCInXG4gICAgKyB0aGlzLm9wdGlvbnMubGFuZ1ByZWZpeFxuICAgICsgZXNjYXBlKGxhbmcsIHRydWUpXG4gICAgKyAnXCI+J1xuICAgICsgKGVzY2FwZWQgPyBjb2RlIDogZXNjYXBlKGNvZGUsIHRydWUpKVxuICAgICsgJzwvY29kZT48L3ByZT5cXG4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmJsb2NrcXVvdGUgPSBmdW5jdGlvbihxdW90ZSkge1xuICByZXR1cm4gJzxibG9ja3F1b3RlPlxcbicgKyBxdW90ZSArICc8L2Jsb2NrcXVvdGU+XFxuJztcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS5odG1sID0gZnVuY3Rpb24oaHRtbCkge1xuICByZXR1cm4gaHRtbDtcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS5oZWFkaW5nID0gZnVuY3Rpb24odGV4dCwgbGV2ZWwsIHJhdywgc2x1Z2dlcikge1xuICBpZiAodGhpcy5vcHRpb25zLmhlYWRlcklkcykge1xuICAgIHJldHVybiAnPGgnXG4gICAgICArIGxldmVsXG4gICAgICArICcgaWQ9XCInXG4gICAgICArIHRoaXMub3B0aW9ucy5oZWFkZXJQcmVmaXhcbiAgICAgICsgc2x1Z2dlci5zbHVnKHJhdylcbiAgICAgICsgJ1wiPidcbiAgICAgICsgdGV4dFxuICAgICAgKyAnPC9oJ1xuICAgICAgKyBsZXZlbFxuICAgICAgKyAnPlxcbic7XG4gIH1cbiAgLy8gaWdub3JlIElEc1xuICByZXR1cm4gJzxoJyArIGxldmVsICsgJz4nICsgdGV4dCArICc8L2gnICsgbGV2ZWwgKyAnPlxcbic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUuaHIgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMub3B0aW9ucy54aHRtbCA/ICc8aHIvPlxcbicgOiAnPGhyPlxcbic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUubGlzdCA9IGZ1bmN0aW9uKGJvZHksIG9yZGVyZWQsIHN0YXJ0KSB7XG4gIHZhciB0eXBlID0gb3JkZXJlZCA/ICdvbCcgOiAndWwnLFxuICAgICAgc3RhcnRhdHQgPSAob3JkZXJlZCAmJiBzdGFydCAhPT0gMSkgPyAoJyBzdGFydD1cIicgKyBzdGFydCArICdcIicpIDogJyc7XG4gIHJldHVybiAnPCcgKyB0eXBlICsgc3RhcnRhdHQgKyAnPlxcbicgKyBib2R5ICsgJzwvJyArIHR5cGUgKyAnPlxcbic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUubGlzdGl0ZW0gPSBmdW5jdGlvbih0ZXh0KSB7XG4gIHJldHVybiAnPGxpPicgKyB0ZXh0ICsgJzwvbGk+XFxuJztcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS5jaGVja2JveCA9IGZ1bmN0aW9uKGNoZWNrZWQpIHtcbiAgcmV0dXJuICc8aW5wdXQgJ1xuICAgICsgKGNoZWNrZWQgPyAnY2hlY2tlZD1cIlwiICcgOiAnJylcbiAgICArICdkaXNhYmxlZD1cIlwiIHR5cGU9XCJjaGVja2JveFwiJ1xuICAgICsgKHRoaXMub3B0aW9ucy54aHRtbCA/ICcgLycgOiAnJylcbiAgICArICc+ICc7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUucGFyYWdyYXBoID0gZnVuY3Rpb24odGV4dCkge1xuICByZXR1cm4gJzxwPicgKyB0ZXh0ICsgJzwvcD5cXG4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLnRhYmxlID0gZnVuY3Rpb24oaGVhZGVyLCBib2R5KSB7XG4gIGlmIChib2R5KSBib2R5ID0gJzx0Ym9keT4nICsgYm9keSArICc8L3Rib2R5Pic7XG5cbiAgcmV0dXJuICc8dGFibGU+XFxuJ1xuICAgICsgJzx0aGVhZD5cXG4nXG4gICAgKyBoZWFkZXJcbiAgICArICc8L3RoZWFkPlxcbidcbiAgICArIGJvZHlcbiAgICArICc8L3RhYmxlPlxcbic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUudGFibGVyb3cgPSBmdW5jdGlvbihjb250ZW50KSB7XG4gIHJldHVybiAnPHRyPlxcbicgKyBjb250ZW50ICsgJzwvdHI+XFxuJztcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS50YWJsZWNlbGwgPSBmdW5jdGlvbihjb250ZW50LCBmbGFncykge1xuICB2YXIgdHlwZSA9IGZsYWdzLmhlYWRlciA/ICd0aCcgOiAndGQnO1xuICB2YXIgdGFnID0gZmxhZ3MuYWxpZ25cbiAgICA/ICc8JyArIHR5cGUgKyAnIGFsaWduPVwiJyArIGZsYWdzLmFsaWduICsgJ1wiPidcbiAgICA6ICc8JyArIHR5cGUgKyAnPic7XG4gIHJldHVybiB0YWcgKyBjb250ZW50ICsgJzwvJyArIHR5cGUgKyAnPlxcbic7XG59O1xuXG4vLyBzcGFuIGxldmVsIHJlbmRlcmVyXG5SZW5kZXJlci5wcm90b3R5cGUuc3Ryb25nID0gZnVuY3Rpb24odGV4dCkge1xuICByZXR1cm4gJzxzdHJvbmc+JyArIHRleHQgKyAnPC9zdHJvbmc+Jztcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS5lbSA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgcmV0dXJuICc8ZW0+JyArIHRleHQgKyAnPC9lbT4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmNvZGVzcGFuID0gZnVuY3Rpb24odGV4dCkge1xuICByZXR1cm4gJzxjb2RlPicgKyB0ZXh0ICsgJzwvY29kZT4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmJyID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLm9wdGlvbnMueGh0bWwgPyAnPGJyLz4nIDogJzxicj4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmRlbCA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgcmV0dXJuICc8ZGVsPicgKyB0ZXh0ICsgJzwvZGVsPic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUubGluayA9IGZ1bmN0aW9uKGhyZWYsIHRpdGxlLCB0ZXh0KSB7XG4gIGhyZWYgPSBjbGVhblVybCh0aGlzLm9wdGlvbnMuc2FuaXRpemUsIHRoaXMub3B0aW9ucy5iYXNlVXJsLCBocmVmKTtcbiAgaWYgKGhyZWYgPT09IG51bGwpIHtcbiAgICByZXR1cm4gdGV4dDtcbiAgfVxuICB2YXIgb3V0ID0gJzxhIGhyZWY9XCInICsgZXNjYXBlKGhyZWYpICsgJ1wiJztcbiAgaWYgKHRpdGxlKSB7XG4gICAgb3V0ICs9ICcgdGl0bGU9XCInICsgdGl0bGUgKyAnXCInO1xuICB9XG4gIG91dCArPSAnPicgKyB0ZXh0ICsgJzwvYT4nO1xuICByZXR1cm4gb3V0O1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmltYWdlID0gZnVuY3Rpb24oaHJlZiwgdGl0bGUsIHRleHQpIHtcbiAgaHJlZiA9IGNsZWFuVXJsKHRoaXMub3B0aW9ucy5zYW5pdGl6ZSwgdGhpcy5vcHRpb25zLmJhc2VVcmwsIGhyZWYpO1xuICBpZiAoaHJlZiA9PT0gbnVsbCkge1xuICAgIHJldHVybiB0ZXh0O1xuICB9XG5cbiAgdmFyIG91dCA9ICc8aW1nIHNyYz1cIicgKyBocmVmICsgJ1wiIGFsdD1cIicgKyB0ZXh0ICsgJ1wiJztcbiAgaWYgKHRpdGxlKSB7XG4gICAgb3V0ICs9ICcgdGl0bGU9XCInICsgdGl0bGUgKyAnXCInO1xuICB9XG4gIG91dCArPSB0aGlzLm9wdGlvbnMueGh0bWwgPyAnLz4nIDogJz4nO1xuICByZXR1cm4gb3V0O1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLnRleHQgPSBmdW5jdGlvbih0ZXh0KSB7XG4gIHJldHVybiB0ZXh0O1xufTtcblxuLyoqXG4gKiBUZXh0UmVuZGVyZXJcbiAqIHJldHVybnMgb25seSB0aGUgdGV4dHVhbCBwYXJ0IG9mIHRoZSB0b2tlblxuICovXG5cbmZ1bmN0aW9uIFRleHRSZW5kZXJlcigpIHt9XG5cbi8vIG5vIG5lZWQgZm9yIGJsb2NrIGxldmVsIHJlbmRlcmVyc1xuXG5UZXh0UmVuZGVyZXIucHJvdG90eXBlLnN0cm9uZyA9XG5UZXh0UmVuZGVyZXIucHJvdG90eXBlLmVtID1cblRleHRSZW5kZXJlci5wcm90b3R5cGUuY29kZXNwYW4gPVxuVGV4dFJlbmRlcmVyLnByb3RvdHlwZS5kZWwgPVxuVGV4dFJlbmRlcmVyLnByb3RvdHlwZS50ZXh0ID0gZnVuY3Rpb24odGV4dCkge1xuICByZXR1cm4gdGV4dDtcbn07XG5cblRleHRSZW5kZXJlci5wcm90b3R5cGUubGluayA9XG5UZXh0UmVuZGVyZXIucHJvdG90eXBlLmltYWdlID0gZnVuY3Rpb24oaHJlZiwgdGl0bGUsIHRleHQpIHtcbiAgcmV0dXJuICcnICsgdGV4dDtcbn07XG5cblRleHRSZW5kZXJlci5wcm90b3R5cGUuYnIgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuICcnO1xufTtcblxuLyoqXG4gKiBQYXJzaW5nICYgQ29tcGlsaW5nXG4gKi9cblxuZnVuY3Rpb24gUGFyc2VyKG9wdGlvbnMpIHtcbiAgdGhpcy50b2tlbnMgPSBbXTtcbiAgdGhpcy50b2tlbiA9IG51bGw7XG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwgbWFya2VkLmRlZmF1bHRzO1xuICB0aGlzLm9wdGlvbnMucmVuZGVyZXIgPSB0aGlzLm9wdGlvbnMucmVuZGVyZXIgfHwgbmV3IFJlbmRlcmVyKCk7XG4gIHRoaXMucmVuZGVyZXIgPSB0aGlzLm9wdGlvbnMucmVuZGVyZXI7XG4gIHRoaXMucmVuZGVyZXIub3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgdGhpcy5zbHVnZ2VyID0gbmV3IFNsdWdnZXIoKTtcbn1cblxuLyoqXG4gKiBTdGF0aWMgUGFyc2UgTWV0aG9kXG4gKi9cblxuUGFyc2VyLnBhcnNlID0gZnVuY3Rpb24oc3JjLCBvcHRpb25zKSB7XG4gIHZhciBwYXJzZXIgPSBuZXcgUGFyc2VyKG9wdGlvbnMpO1xuICByZXR1cm4gcGFyc2VyLnBhcnNlKHNyYyk7XG59O1xuXG4vKipcbiAqIFBhcnNlIExvb3BcbiAqL1xuXG5QYXJzZXIucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24oc3JjKSB7XG4gIHRoaXMuaW5saW5lID0gbmV3IElubGluZUxleGVyKHNyYy5saW5rcywgdGhpcy5vcHRpb25zKTtcbiAgLy8gdXNlIGFuIElubGluZUxleGVyIHdpdGggYSBUZXh0UmVuZGVyZXIgdG8gZXh0cmFjdCBwdXJlIHRleHRcbiAgdGhpcy5pbmxpbmVUZXh0ID0gbmV3IElubGluZUxleGVyKFxuICAgIHNyYy5saW5rcyxcbiAgICBtZXJnZSh7fSwgdGhpcy5vcHRpb25zLCB7IHJlbmRlcmVyOiBuZXcgVGV4dFJlbmRlcmVyKCkgfSlcbiAgKTtcbiAgdGhpcy50b2tlbnMgPSBzcmMucmV2ZXJzZSgpO1xuXG4gIHZhciBvdXQgPSAnJztcbiAgd2hpbGUgKHRoaXMubmV4dCgpKSB7XG4gICAgb3V0ICs9IHRoaXMudG9rKCk7XG4gIH1cblxuICByZXR1cm4gb3V0O1xufTtcblxuLyoqXG4gKiBOZXh0IFRva2VuXG4gKi9cblxuUGFyc2VyLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMudG9rZW4gPSB0aGlzLnRva2Vucy5wb3AoKTtcbiAgcmV0dXJuIHRoaXMudG9rZW47XG59O1xuXG4vKipcbiAqIFByZXZpZXcgTmV4dCBUb2tlblxuICovXG5cblBhcnNlci5wcm90b3R5cGUucGVlayA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy50b2tlbnNbdGhpcy50b2tlbnMubGVuZ3RoIC0gMV0gfHwgMDtcbn07XG5cbi8qKlxuICogUGFyc2UgVGV4dCBUb2tlbnNcbiAqL1xuXG5QYXJzZXIucHJvdG90eXBlLnBhcnNlVGV4dCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgYm9keSA9IHRoaXMudG9rZW4udGV4dDtcblxuICB3aGlsZSAodGhpcy5wZWVrKCkudHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgYm9keSArPSAnXFxuJyArIHRoaXMubmV4dCgpLnRleHQ7XG4gIH1cblxuICByZXR1cm4gdGhpcy5pbmxpbmUub3V0cHV0KGJvZHkpO1xufTtcblxuLyoqXG4gKiBQYXJzZSBDdXJyZW50IFRva2VuXG4gKi9cblxuUGFyc2VyLnByb3RvdHlwZS50b2sgPSBmdW5jdGlvbigpIHtcbiAgc3dpdGNoICh0aGlzLnRva2VuLnR5cGUpIHtcbiAgICBjYXNlICdzcGFjZSc6IHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgY2FzZSAnaHInOiB7XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5ocigpO1xuICAgIH1cbiAgICBjYXNlICdoZWFkaW5nJzoge1xuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuaGVhZGluZyhcbiAgICAgICAgdGhpcy5pbmxpbmUub3V0cHV0KHRoaXMudG9rZW4udGV4dCksXG4gICAgICAgIHRoaXMudG9rZW4uZGVwdGgsXG4gICAgICAgIHVuZXNjYXBlKHRoaXMuaW5saW5lVGV4dC5vdXRwdXQodGhpcy50b2tlbi50ZXh0KSksXG4gICAgICAgIHRoaXMuc2x1Z2dlcik7XG4gICAgfVxuICAgIGNhc2UgJ2NvZGUnOiB7XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5jb2RlKHRoaXMudG9rZW4udGV4dCxcbiAgICAgICAgdGhpcy50b2tlbi5sYW5nLFxuICAgICAgICB0aGlzLnRva2VuLmVzY2FwZWQpO1xuICAgIH1cbiAgICBjYXNlICd0YWJsZSc6IHtcbiAgICAgIHZhciBoZWFkZXIgPSAnJyxcbiAgICAgICAgICBib2R5ID0gJycsXG4gICAgICAgICAgaSxcbiAgICAgICAgICByb3csXG4gICAgICAgICAgY2VsbCxcbiAgICAgICAgICBqO1xuXG4gICAgICAvLyBoZWFkZXJcbiAgICAgIGNlbGwgPSAnJztcbiAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLnRva2VuLmhlYWRlci5sZW5ndGg7IGkrKykge1xuICAgICAgICBjZWxsICs9IHRoaXMucmVuZGVyZXIudGFibGVjZWxsKFxuICAgICAgICAgIHRoaXMuaW5saW5lLm91dHB1dCh0aGlzLnRva2VuLmhlYWRlcltpXSksXG4gICAgICAgICAgeyBoZWFkZXI6IHRydWUsIGFsaWduOiB0aGlzLnRva2VuLmFsaWduW2ldIH1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGhlYWRlciArPSB0aGlzLnJlbmRlcmVyLnRhYmxlcm93KGNlbGwpO1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy50b2tlbi5jZWxscy5sZW5ndGg7IGkrKykge1xuICAgICAgICByb3cgPSB0aGlzLnRva2VuLmNlbGxzW2ldO1xuXG4gICAgICAgIGNlbGwgPSAnJztcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IHJvdy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIGNlbGwgKz0gdGhpcy5yZW5kZXJlci50YWJsZWNlbGwoXG4gICAgICAgICAgICB0aGlzLmlubGluZS5vdXRwdXQocm93W2pdKSxcbiAgICAgICAgICAgIHsgaGVhZGVyOiBmYWxzZSwgYWxpZ246IHRoaXMudG9rZW4uYWxpZ25bal0gfVxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBib2R5ICs9IHRoaXMucmVuZGVyZXIudGFibGVyb3coY2VsbCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci50YWJsZShoZWFkZXIsIGJvZHkpO1xuICAgIH1cbiAgICBjYXNlICdibG9ja3F1b3RlX3N0YXJ0Jzoge1xuICAgICAgYm9keSA9ICcnO1xuXG4gICAgICB3aGlsZSAodGhpcy5uZXh0KCkudHlwZSAhPT0gJ2Jsb2NrcXVvdGVfZW5kJykge1xuICAgICAgICBib2R5ICs9IHRoaXMudG9rKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmJsb2NrcXVvdGUoYm9keSk7XG4gICAgfVxuICAgIGNhc2UgJ2xpc3Rfc3RhcnQnOiB7XG4gICAgICBib2R5ID0gJyc7XG4gICAgICB2YXIgb3JkZXJlZCA9IHRoaXMudG9rZW4ub3JkZXJlZCxcbiAgICAgICAgICBzdGFydCA9IHRoaXMudG9rZW4uc3RhcnQ7XG5cbiAgICAgIHdoaWxlICh0aGlzLm5leHQoKS50eXBlICE9PSAnbGlzdF9lbmQnKSB7XG4gICAgICAgIGJvZHkgKz0gdGhpcy50b2soKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIubGlzdChib2R5LCBvcmRlcmVkLCBzdGFydCk7XG4gICAgfVxuICAgIGNhc2UgJ2xpc3RfaXRlbV9zdGFydCc6IHtcbiAgICAgIGJvZHkgPSAnJztcbiAgICAgIHZhciBsb29zZSA9IHRoaXMudG9rZW4ubG9vc2U7XG4gICAgICB2YXIgY2hlY2tlZCA9IHRoaXMudG9rZW4uY2hlY2tlZDtcbiAgICAgIHZhciB0YXNrID0gdGhpcy50b2tlbi50YXNrO1xuXG4gICAgICBpZiAodGhpcy50b2tlbi50YXNrKSB7XG4gICAgICAgIGJvZHkgKz0gdGhpcy5yZW5kZXJlci5jaGVja2JveChjaGVja2VkKTtcbiAgICAgIH1cblxuICAgICAgd2hpbGUgKHRoaXMubmV4dCgpLnR5cGUgIT09ICdsaXN0X2l0ZW1fZW5kJykge1xuICAgICAgICBib2R5ICs9ICFsb29zZSAmJiB0aGlzLnRva2VuLnR5cGUgPT09ICd0ZXh0J1xuICAgICAgICAgID8gdGhpcy5wYXJzZVRleHQoKVxuICAgICAgICAgIDogdGhpcy50b2soKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmxpc3RpdGVtKGJvZHksIHRhc2ssIGNoZWNrZWQpO1xuICAgIH1cbiAgICBjYXNlICdodG1sJzoge1xuICAgICAgLy8gVE9ETyBwYXJzZSBpbmxpbmUgY29udGVudCBpZiBwYXJhbWV0ZXIgbWFya2Rvd249MVxuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuaHRtbCh0aGlzLnRva2VuLnRleHQpO1xuICAgIH1cbiAgICBjYXNlICdwYXJhZ3JhcGgnOiB7XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5wYXJhZ3JhcGgodGhpcy5pbmxpbmUub3V0cHV0KHRoaXMudG9rZW4udGV4dCkpO1xuICAgIH1cbiAgICBjYXNlICd0ZXh0Jzoge1xuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIucGFyYWdyYXBoKHRoaXMucGFyc2VUZXh0KCkpO1xuICAgIH1cbiAgICBkZWZhdWx0OiB7XG4gICAgICB2YXIgZXJyTXNnID0gJ1Rva2VuIHdpdGggXCInICsgdGhpcy50b2tlbi50eXBlICsgJ1wiIHR5cGUgd2FzIG5vdCBmb3VuZC4nO1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaWxlbnQpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyTXNnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJNc2cpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBTbHVnZ2VyIGdlbmVyYXRlcyBoZWFkZXIgaWRcbiAqL1xuXG5mdW5jdGlvbiBTbHVnZ2VyKCkge1xuICB0aGlzLnNlZW4gPSB7fTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IHN0cmluZyB0byB1bmlxdWUgaWRcbiAqL1xuXG5TbHVnZ2VyLnByb3RvdHlwZS5zbHVnID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgdmFyIHNsdWcgPSB2YWx1ZVxuICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgLnRyaW0oKVxuICAgIC5yZXBsYWNlKC9bXFx1MjAwMC1cXHUyMDZGXFx1MkUwMC1cXHUyRTdGXFxcXCchXCIjJCUmKCkqKywuLzo7PD0+P0BbXFxdXmB7fH1+XS9nLCAnJylcbiAgICAucmVwbGFjZSgvXFxzL2csICctJyk7XG5cbiAgaWYgKHRoaXMuc2Vlbi5oYXNPd25Qcm9wZXJ0eShzbHVnKSkge1xuICAgIHZhciBvcmlnaW5hbFNsdWcgPSBzbHVnO1xuICAgIGRvIHtcbiAgICAgIHRoaXMuc2VlbltvcmlnaW5hbFNsdWddKys7XG4gICAgICBzbHVnID0gb3JpZ2luYWxTbHVnICsgJy0nICsgdGhpcy5zZWVuW29yaWdpbmFsU2x1Z107XG4gICAgfSB3aGlsZSAodGhpcy5zZWVuLmhhc093blByb3BlcnR5KHNsdWcpKTtcbiAgfVxuICB0aGlzLnNlZW5bc2x1Z10gPSAwO1xuXG4gIHJldHVybiBzbHVnO1xufTtcblxuLyoqXG4gKiBIZWxwZXJzXG4gKi9cblxuZnVuY3Rpb24gZXNjYXBlKGh0bWwsIGVuY29kZSkge1xuICBpZiAoZW5jb2RlKSB7XG4gICAgaWYgKGVzY2FwZS5lc2NhcGVUZXN0LnRlc3QoaHRtbCkpIHtcbiAgICAgIHJldHVybiBodG1sLnJlcGxhY2UoZXNjYXBlLmVzY2FwZVJlcGxhY2UsIGZ1bmN0aW9uKGNoKSB7IHJldHVybiBlc2NhcGUucmVwbGFjZW1lbnRzW2NoXTsgfSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChlc2NhcGUuZXNjYXBlVGVzdE5vRW5jb2RlLnRlc3QoaHRtbCkpIHtcbiAgICAgIHJldHVybiBodG1sLnJlcGxhY2UoZXNjYXBlLmVzY2FwZVJlcGxhY2VOb0VuY29kZSwgZnVuY3Rpb24oY2gpIHsgcmV0dXJuIGVzY2FwZS5yZXBsYWNlbWVudHNbY2hdOyB9KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gaHRtbDtcbn1cblxuZXNjYXBlLmVzY2FwZVRlc3QgPSAvWyY8PlwiJ10vO1xuZXNjYXBlLmVzY2FwZVJlcGxhY2UgPSAvWyY8PlwiJ10vZztcbmVzY2FwZS5yZXBsYWNlbWVudHMgPSB7XG4gICcmJzogJyZhbXA7JyxcbiAgJzwnOiAnJmx0OycsXG4gICc+JzogJyZndDsnLFxuICAnXCInOiAnJnF1b3Q7JyxcbiAgXCInXCI6ICcmIzM5Oydcbn07XG5cbmVzY2FwZS5lc2NhcGVUZXN0Tm9FbmNvZGUgPSAvWzw+XCInXXwmKD8hIz9cXHcrOykvO1xuZXNjYXBlLmVzY2FwZVJlcGxhY2VOb0VuY29kZSA9IC9bPD5cIiddfCYoPyEjP1xcdys7KS9nO1xuXG5mdW5jdGlvbiB1bmVzY2FwZShodG1sKSB7XG4gIC8vIGV4cGxpY2l0bHkgbWF0Y2ggZGVjaW1hbCwgaGV4LCBhbmQgbmFtZWQgSFRNTCBlbnRpdGllc1xuICByZXR1cm4gaHRtbC5yZXBsYWNlKC8mKCMoPzpcXGQrKXwoPzojeFswLTlBLUZhLWZdKyl8KD86XFx3KykpOz8vaWcsIGZ1bmN0aW9uKF8sIG4pIHtcbiAgICBuID0gbi50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChuID09PSAnY29sb24nKSByZXR1cm4gJzonO1xuICAgIGlmIChuLmNoYXJBdCgwKSA9PT0gJyMnKSB7XG4gICAgICByZXR1cm4gbi5jaGFyQXQoMSkgPT09ICd4J1xuICAgICAgICA/IFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQobi5zdWJzdHJpbmcoMiksIDE2KSlcbiAgICAgICAgOiBTdHJpbmcuZnJvbUNoYXJDb2RlKCtuLnN1YnN0cmluZygxKSk7XG4gICAgfVxuICAgIHJldHVybiAnJztcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGVkaXQocmVnZXgsIG9wdCkge1xuICByZWdleCA9IHJlZ2V4LnNvdXJjZSB8fCByZWdleDtcbiAgb3B0ID0gb3B0IHx8ICcnO1xuICByZXR1cm4ge1xuICAgIHJlcGxhY2U6IGZ1bmN0aW9uKG5hbWUsIHZhbCkge1xuICAgICAgdmFsID0gdmFsLnNvdXJjZSB8fCB2YWw7XG4gICAgICB2YWwgPSB2YWwucmVwbGFjZSgvKF58W15cXFtdKVxcXi9nLCAnJDEnKTtcbiAgICAgIHJlZ2V4ID0gcmVnZXgucmVwbGFjZShuYW1lLCB2YWwpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBnZXRSZWdleDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmV3IFJlZ0V4cChyZWdleCwgb3B0KTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNsZWFuVXJsKHNhbml0aXplLCBiYXNlLCBocmVmKSB7XG4gIGlmIChzYW5pdGl6ZSkge1xuICAgIHRyeSB7XG4gICAgICB2YXIgcHJvdCA9IGRlY29kZVVSSUNvbXBvbmVudCh1bmVzY2FwZShocmVmKSlcbiAgICAgICAgLnJlcGxhY2UoL1teXFx3Ol0vZywgJycpXG4gICAgICAgIC50b0xvd2VyQ2FzZSgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAocHJvdC5pbmRleE9mKCdqYXZhc2NyaXB0OicpID09PSAwIHx8IHByb3QuaW5kZXhPZigndmJzY3JpcHQ6JykgPT09IDAgfHwgcHJvdC5pbmRleE9mKCdkYXRhOicpID09PSAwKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbiAgaWYgKGJhc2UgJiYgIW9yaWdpbkluZGVwZW5kZW50VXJsLnRlc3QoaHJlZikpIHtcbiAgICBocmVmID0gcmVzb2x2ZVVybChiYXNlLCBocmVmKTtcbiAgfVxuICB0cnkge1xuICAgIGhyZWYgPSBlbmNvZGVVUkkoaHJlZikucmVwbGFjZSgvJTI1L2csICclJyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gaHJlZjtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZVVybChiYXNlLCBocmVmKSB7XG4gIGlmICghYmFzZVVybHNbJyAnICsgYmFzZV0pIHtcbiAgICAvLyB3ZSBjYW4gaWdub3JlIGV2ZXJ5dGhpbmcgaW4gYmFzZSBhZnRlciB0aGUgbGFzdCBzbGFzaCBvZiBpdHMgcGF0aCBjb21wb25lbnQsXG4gICAgLy8gYnV0IHdlIG1pZ2h0IG5lZWQgdG8gYWRkIF90aGF0X1xuICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2I3NlY3Rpb24tM1xuICAgIGlmICgvXlteOl0rOlxcLypbXi9dKiQvLnRlc3QoYmFzZSkpIHtcbiAgICAgIGJhc2VVcmxzWycgJyArIGJhc2VdID0gYmFzZSArICcvJztcbiAgICB9IGVsc2Uge1xuICAgICAgYmFzZVVybHNbJyAnICsgYmFzZV0gPSBydHJpbShiYXNlLCAnLycsIHRydWUpO1xuICAgIH1cbiAgfVxuICBiYXNlID0gYmFzZVVybHNbJyAnICsgYmFzZV07XG5cbiAgaWYgKGhyZWYuc2xpY2UoMCwgMikgPT09ICcvLycpIHtcbiAgICByZXR1cm4gYmFzZS5yZXBsYWNlKC86W1xcc1xcU10qLywgJzonKSArIGhyZWY7XG4gIH0gZWxzZSBpZiAoaHJlZi5jaGFyQXQoMCkgPT09ICcvJykge1xuICAgIHJldHVybiBiYXNlLnJlcGxhY2UoLyg6XFwvKlteL10qKVtcXHNcXFNdKi8sICckMScpICsgaHJlZjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYmFzZSArIGhyZWY7XG4gIH1cbn1cbnZhciBiYXNlVXJscyA9IHt9O1xudmFyIG9yaWdpbkluZGVwZW5kZW50VXJsID0gL14kfF5bYS16XVthLXowLTkrLi1dKjp8Xls/I10vaTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5ub29wLmV4ZWMgPSBub29wO1xuXG5mdW5jdGlvbiBtZXJnZShvYmopIHtcbiAgdmFyIGkgPSAxLFxuICAgICAgdGFyZ2V0LFxuICAgICAga2V5O1xuXG4gIGZvciAoOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdGFyZ2V0ID0gYXJndW1lbnRzW2ldO1xuICAgIGZvciAoa2V5IGluIHRhcmdldCkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0YXJnZXQsIGtleSkpIHtcbiAgICAgICAgb2JqW2tleV0gPSB0YXJnZXRba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiBzcGxpdENlbGxzKHRhYmxlUm93LCBjb3VudCkge1xuICAvLyBlbnN1cmUgdGhhdCBldmVyeSBjZWxsLWRlbGltaXRpbmcgcGlwZSBoYXMgYSBzcGFjZVxuICAvLyBiZWZvcmUgaXQgdG8gZGlzdGluZ3Vpc2ggaXQgZnJvbSBhbiBlc2NhcGVkIHBpcGVcbiAgdmFyIHJvdyA9IHRhYmxlUm93LnJlcGxhY2UoL1xcfC9nLCBmdW5jdGlvbihtYXRjaCwgb2Zmc2V0LCBzdHIpIHtcbiAgICAgICAgdmFyIGVzY2FwZWQgPSBmYWxzZSxcbiAgICAgICAgICAgIGN1cnIgPSBvZmZzZXQ7XG4gICAgICAgIHdoaWxlICgtLWN1cnIgPj0gMCAmJiBzdHJbY3Vycl0gPT09ICdcXFxcJykgZXNjYXBlZCA9ICFlc2NhcGVkO1xuICAgICAgICBpZiAoZXNjYXBlZCkge1xuICAgICAgICAgIC8vIG9kZCBudW1iZXIgb2Ygc2xhc2hlcyBtZWFucyB8IGlzIGVzY2FwZWRcbiAgICAgICAgICAvLyBzbyB3ZSBsZWF2ZSBpdCBhbG9uZVxuICAgICAgICAgIHJldHVybiAnfCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gYWRkIHNwYWNlIGJlZm9yZSB1bmVzY2FwZWQgfFxuICAgICAgICAgIHJldHVybiAnIHwnO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICAgIGNlbGxzID0gcm93LnNwbGl0KC8gXFx8LyksXG4gICAgICBpID0gMDtcblxuICBpZiAoY2VsbHMubGVuZ3RoID4gY291bnQpIHtcbiAgICBjZWxscy5zcGxpY2UoY291bnQpO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChjZWxscy5sZW5ndGggPCBjb3VudCkgY2VsbHMucHVzaCgnJyk7XG4gIH1cblxuICBmb3IgKDsgaSA8IGNlbGxzLmxlbmd0aDsgaSsrKSB7XG4gICAgLy8gbGVhZGluZyBvciB0cmFpbGluZyB3aGl0ZXNwYWNlIGlzIGlnbm9yZWQgcGVyIHRoZSBnZm0gc3BlY1xuICAgIGNlbGxzW2ldID0gY2VsbHNbaV0udHJpbSgpLnJlcGxhY2UoL1xcXFxcXHwvZywgJ3wnKTtcbiAgfVxuICByZXR1cm4gY2VsbHM7XG59XG5cbi8vIFJlbW92ZSB0cmFpbGluZyAnYydzLiBFcXVpdmFsZW50IHRvIHN0ci5yZXBsYWNlKC9jKiQvLCAnJykuXG4vLyAvYyokLyBpcyB2dWxuZXJhYmxlIHRvIFJFRE9TLlxuLy8gaW52ZXJ0OiBSZW1vdmUgc3VmZml4IG9mIG5vbi1jIGNoYXJzIGluc3RlYWQuIERlZmF1bHQgZmFsc2V5LlxuZnVuY3Rpb24gcnRyaW0oc3RyLCBjLCBpbnZlcnQpIHtcbiAgaWYgKHN0ci5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICAvLyBMZW5ndGggb2Ygc3VmZml4IG1hdGNoaW5nIHRoZSBpbnZlcnQgY29uZGl0aW9uLlxuICB2YXIgc3VmZkxlbiA9IDA7XG5cbiAgLy8gU3RlcCBsZWZ0IHVudGlsIHdlIGZhaWwgdG8gbWF0Y2ggdGhlIGludmVydCBjb25kaXRpb24uXG4gIHdoaWxlIChzdWZmTGVuIDwgc3RyLmxlbmd0aCkge1xuICAgIHZhciBjdXJyQ2hhciA9IHN0ci5jaGFyQXQoc3RyLmxlbmd0aCAtIHN1ZmZMZW4gLSAxKTtcbiAgICBpZiAoY3VyckNoYXIgPT09IGMgJiYgIWludmVydCkge1xuICAgICAgc3VmZkxlbisrO1xuICAgIH0gZWxzZSBpZiAoY3VyckNoYXIgIT09IGMgJiYgaW52ZXJ0KSB7XG4gICAgICBzdWZmTGVuKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzdHIuc3Vic3RyKDAsIHN0ci5sZW5ndGggLSBzdWZmTGVuKTtcbn1cblxuZnVuY3Rpb24gZmluZENsb3NpbmdCcmFja2V0KHN0ciwgYikge1xuICBpZiAoc3RyLmluZGV4T2YoYlsxXSkgPT09IC0xKSB7XG4gICAgcmV0dXJuIC0xO1xuICB9XG4gIHZhciBsZXZlbCA9IDA7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0cltpXSA9PT0gJ1xcXFwnKSB7XG4gICAgICBpKys7XG4gICAgfSBlbHNlIGlmIChzdHJbaV0gPT09IGJbMF0pIHtcbiAgICAgIGxldmVsKys7XG4gICAgfSBlbHNlIGlmIChzdHJbaV0gPT09IGJbMV0pIHtcbiAgICAgIGxldmVsLS07XG4gICAgICBpZiAobGV2ZWwgPCAwKSB7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbmZ1bmN0aW9uIGNoZWNrU2FuaXRpemVEZXByZWNhdGlvbihvcHQpIHtcbiAgaWYgKG9wdCAmJiBvcHQuc2FuaXRpemUgJiYgIW9wdC5zaWxlbnQpIHtcbiAgICBjb25zb2xlLndhcm4oJ21hcmtlZCgpOiBzYW5pdGl6ZSBhbmQgc2FuaXRpemVyIHBhcmFtZXRlcnMgYXJlIGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAwLjcuMCwgc2hvdWxkIG5vdCBiZSB1c2VkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZS4gUmVhZCBtb3JlIGhlcmU6IGh0dHBzOi8vbWFya2VkLmpzLm9yZy8jL1VTSU5HX0FEVkFOQ0VELm1kI29wdGlvbnMnKTtcbiAgfVxufVxuXG4vKipcbiAqIE1hcmtlZFxuICovXG5cbmZ1bmN0aW9uIG1hcmtlZChzcmMsIG9wdCwgY2FsbGJhY2spIHtcbiAgLy8gdGhyb3cgZXJyb3IgaW4gY2FzZSBvZiBub24gc3RyaW5nIGlucHV0XG4gIGlmICh0eXBlb2Ygc3JjID09PSAndW5kZWZpbmVkJyB8fCBzcmMgPT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ21hcmtlZCgpOiBpbnB1dCBwYXJhbWV0ZXIgaXMgdW5kZWZpbmVkIG9yIG51bGwnKTtcbiAgfVxuICBpZiAodHlwZW9mIHNyYyAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ21hcmtlZCgpOiBpbnB1dCBwYXJhbWV0ZXIgaXMgb2YgdHlwZSAnXG4gICAgICArIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzcmMpICsgJywgc3RyaW5nIGV4cGVjdGVkJyk7XG4gIH1cblxuICBpZiAoY2FsbGJhY2sgfHwgdHlwZW9mIG9wdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGlmICghY2FsbGJhY2spIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0O1xuICAgICAgb3B0ID0gbnVsbDtcbiAgICB9XG5cbiAgICBvcHQgPSBtZXJnZSh7fSwgbWFya2VkLmRlZmF1bHRzLCBvcHQgfHwge30pO1xuICAgIGNoZWNrU2FuaXRpemVEZXByZWNhdGlvbihvcHQpO1xuXG4gICAgdmFyIGhpZ2hsaWdodCA9IG9wdC5oaWdobGlnaHQsXG4gICAgICAgIHRva2VucyxcbiAgICAgICAgcGVuZGluZyxcbiAgICAgICAgaSA9IDA7XG5cbiAgICB0cnkge1xuICAgICAgdG9rZW5zID0gTGV4ZXIubGV4KHNyYywgb3B0KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soZSk7XG4gICAgfVxuXG4gICAgcGVuZGluZyA9IHRva2Vucy5sZW5ndGg7XG5cbiAgICB2YXIgZG9uZSA9IGZ1bmN0aW9uKGVycikge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBvcHQuaGlnaGxpZ2h0ID0gaGlnaGxpZ2h0O1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgIH1cblxuICAgICAgdmFyIG91dDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgb3V0ID0gUGFyc2VyLnBhcnNlKHRva2Vucywgb3B0KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgZXJyID0gZTtcbiAgICAgIH1cblxuICAgICAgb3B0LmhpZ2hsaWdodCA9IGhpZ2hsaWdodDtcblxuICAgICAgcmV0dXJuIGVyclxuICAgICAgICA/IGNhbGxiYWNrKGVycilcbiAgICAgICAgOiBjYWxsYmFjayhudWxsLCBvdXQpO1xuICAgIH07XG5cbiAgICBpZiAoIWhpZ2hsaWdodCB8fCBoaWdobGlnaHQubGVuZ3RoIDwgMykge1xuICAgICAgcmV0dXJuIGRvbmUoKTtcbiAgICB9XG5cbiAgICBkZWxldGUgb3B0LmhpZ2hsaWdodDtcblxuICAgIGlmICghcGVuZGluZykgcmV0dXJuIGRvbmUoKTtcblxuICAgIGZvciAoOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAoZnVuY3Rpb24odG9rZW4pIHtcbiAgICAgICAgaWYgKHRva2VuLnR5cGUgIT09ICdjb2RlJykge1xuICAgICAgICAgIHJldHVybiAtLXBlbmRpbmcgfHwgZG9uZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoaWdobGlnaHQodG9rZW4udGV4dCwgdG9rZW4ubGFuZywgZnVuY3Rpb24oZXJyLCBjb2RlKSB7XG4gICAgICAgICAgaWYgKGVycikgcmV0dXJuIGRvbmUoZXJyKTtcbiAgICAgICAgICBpZiAoY29kZSA9PSBudWxsIHx8IGNvZGUgPT09IHRva2VuLnRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiAtLXBlbmRpbmcgfHwgZG9uZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0b2tlbi50ZXh0ID0gY29kZTtcbiAgICAgICAgICB0b2tlbi5lc2NhcGVkID0gdHJ1ZTtcbiAgICAgICAgICAtLXBlbmRpbmcgfHwgZG9uZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH0pKHRva2Vuc1tpXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuO1xuICB9XG4gIHRyeSB7XG4gICAgaWYgKG9wdCkgb3B0ID0gbWVyZ2Uoe30sIG1hcmtlZC5kZWZhdWx0cywgb3B0KTtcbiAgICBjaGVja1Nhbml0aXplRGVwcmVjYXRpb24ob3B0KTtcbiAgICByZXR1cm4gUGFyc2VyLnBhcnNlKExleGVyLmxleChzcmMsIG9wdCksIG9wdCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBlLm1lc3NhZ2UgKz0gJ1xcblBsZWFzZSByZXBvcnQgdGhpcyB0byBodHRwczovL2dpdGh1Yi5jb20vbWFya2VkanMvbWFya2VkLic7XG4gICAgaWYgKChvcHQgfHwgbWFya2VkLmRlZmF1bHRzKS5zaWxlbnQpIHtcbiAgICAgIHJldHVybiAnPHA+QW4gZXJyb3Igb2NjdXJyZWQ6PC9wPjxwcmU+J1xuICAgICAgICArIGVzY2FwZShlLm1lc3NhZ2UgKyAnJywgdHJ1ZSlcbiAgICAgICAgKyAnPC9wcmU+JztcbiAgICB9XG4gICAgdGhyb3cgZTtcbiAgfVxufVxuXG4vKipcbiAqIE9wdGlvbnNcbiAqL1xuXG5tYXJrZWQub3B0aW9ucyA9XG5tYXJrZWQuc2V0T3B0aW9ucyA9IGZ1bmN0aW9uKG9wdCkge1xuICBtZXJnZShtYXJrZWQuZGVmYXVsdHMsIG9wdCk7XG4gIHJldHVybiBtYXJrZWQ7XG59O1xuXG5tYXJrZWQuZ2V0RGVmYXVsdHMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICBiYXNlVXJsOiBudWxsLFxuICAgIGJyZWFrczogZmFsc2UsXG4gICAgZ2ZtOiB0cnVlLFxuICAgIGhlYWRlcklkczogdHJ1ZSxcbiAgICBoZWFkZXJQcmVmaXg6ICcnLFxuICAgIGhpZ2hsaWdodDogbnVsbCxcbiAgICBsYW5nUHJlZml4OiAnbGFuZ3VhZ2UtJyxcbiAgICBtYW5nbGU6IHRydWUsXG4gICAgcGVkYW50aWM6IGZhbHNlLFxuICAgIHJlbmRlcmVyOiBuZXcgUmVuZGVyZXIoKSxcbiAgICBzYW5pdGl6ZTogZmFsc2UsXG4gICAgc2FuaXRpemVyOiBudWxsLFxuICAgIHNpbGVudDogZmFsc2UsXG4gICAgc21hcnRMaXN0czogZmFsc2UsXG4gICAgc21hcnR5cGFudHM6IGZhbHNlLFxuICAgIHhodG1sOiBmYWxzZVxuICB9O1xufTtcblxubWFya2VkLmRlZmF1bHRzID0gbWFya2VkLmdldERlZmF1bHRzKCk7XG5cbi8qKlxuICogRXhwb3NlXG4gKi9cblxubWFya2VkLlBhcnNlciA9IFBhcnNlcjtcbm1hcmtlZC5wYXJzZXIgPSBQYXJzZXIucGFyc2U7XG5cbm1hcmtlZC5SZW5kZXJlciA9IFJlbmRlcmVyO1xubWFya2VkLlRleHRSZW5kZXJlciA9IFRleHRSZW5kZXJlcjtcblxubWFya2VkLkxleGVyID0gTGV4ZXI7XG5tYXJrZWQubGV4ZXIgPSBMZXhlci5sZXg7XG5cbm1hcmtlZC5JbmxpbmVMZXhlciA9IElubGluZUxleGVyO1xubWFya2VkLmlubGluZUxleGVyID0gSW5saW5lTGV4ZXIub3V0cHV0O1xuXG5tYXJrZWQuU2x1Z2dlciA9IFNsdWdnZXI7XG5cbm1hcmtlZC5wYXJzZSA9IG1hcmtlZDtcblxuaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICBtb2R1bGUuZXhwb3J0cyA9IG1hcmtlZDtcbn0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gIGRlZmluZShmdW5jdGlvbigpIHsgcmV0dXJuIG1hcmtlZDsgfSk7XG59IGVsc2Uge1xuICByb290Lm1hcmtlZCA9IG1hcmtlZDtcbn1cbn0pKHRoaXMgfHwgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogZ2xvYmFsKSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5cbmltcG9ydCB7UGFydH0gZnJvbSAnLi9wYXJ0LmpzJztcblxuY29uc3QgZGlyZWN0aXZlcyA9IG5ldyBXZWFrTWFwPG9iamVjdCwgdHJ1ZT4oKTtcblxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueVxuZXhwb3J0IHR5cGUgRGlyZWN0aXZlRmFjdG9yeSA9ICguLi5hcmdzOiBhbnlbXSkgPT4gb2JqZWN0O1xuXG5leHBvcnQgdHlwZSBEaXJlY3RpdmVGbiA9IChwYXJ0OiBQYXJ0KSA9PiB2b2lkO1xuXG4vKipcbiAqIEJyYW5kcyBhIGZ1bmN0aW9uIGFzIGEgZGlyZWN0aXZlIGZhY3RvcnkgZnVuY3Rpb24gc28gdGhhdCBsaXQtaHRtbCB3aWxsIGNhbGxcbiAqIHRoZSBmdW5jdGlvbiBkdXJpbmcgdGVtcGxhdGUgcmVuZGVyaW5nLCByYXRoZXIgdGhhbiBwYXNzaW5nIGFzIGEgdmFsdWUuXG4gKlxuICogQSBfZGlyZWN0aXZlXyBpcyBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSBQYXJ0IGFzIGFuIGFyZ3VtZW50LiBJdCBoYXMgdGhlXG4gKiBzaWduYXR1cmU6IGAocGFydDogUGFydCkgPT4gdm9pZGAuXG4gKlxuICogQSBkaXJlY3RpdmUgX2ZhY3RvcnlfIGlzIGEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhcmd1bWVudHMgZm9yIGRhdGEgYW5kXG4gKiBjb25maWd1cmF0aW9uIGFuZCByZXR1cm5zIGEgZGlyZWN0aXZlLiBVc2VycyBvZiBkaXJlY3RpdmUgdXN1YWxseSByZWZlciB0b1xuICogdGhlIGRpcmVjdGl2ZSBmYWN0b3J5IGFzIHRoZSBkaXJlY3RpdmUuIEZvciBleGFtcGxlLCBcIlRoZSByZXBlYXQgZGlyZWN0aXZlXCIuXG4gKlxuICogVXN1YWxseSBhIHRlbXBsYXRlIGF1dGhvciB3aWxsIGludm9rZSBhIGRpcmVjdGl2ZSBmYWN0b3J5IGluIHRoZWlyIHRlbXBsYXRlXG4gKiB3aXRoIHJlbGV2YW50IGFyZ3VtZW50cywgd2hpY2ggd2lsbCB0aGVuIHJldHVybiBhIGRpcmVjdGl2ZSBmdW5jdGlvbi5cbiAqXG4gKiBIZXJlJ3MgYW4gZXhhbXBsZSBvZiB1c2luZyB0aGUgYHJlcGVhdCgpYCBkaXJlY3RpdmUgZmFjdG9yeSB0aGF0IHRha2VzIGFuXG4gKiBhcnJheSBhbmQgYSBmdW5jdGlvbiB0byByZW5kZXIgYW4gaXRlbTpcbiAqXG4gKiBgYGBqc1xuICogaHRtbGA8dWw+PCR7cmVwZWF0KGl0ZW1zLCAoaXRlbSkgPT4gaHRtbGA8bGk+JHtpdGVtfTwvbGk+YCl9PC91bD5gXG4gKiBgYGBcbiAqXG4gKiBXaGVuIGByZXBlYXRgIGlzIGludm9rZWQsIGl0IHJldHVybnMgYSBkaXJlY3RpdmUgZnVuY3Rpb24gdGhhdCBjbG9zZXMgb3ZlclxuICogYGl0ZW1zYCBhbmQgdGhlIHRlbXBsYXRlIGZ1bmN0aW9uLiBXaGVuIHRoZSBvdXRlciB0ZW1wbGF0ZSBpcyByZW5kZXJlZCwgdGhlXG4gKiByZXR1cm4gZGlyZWN0aXZlIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aXRoIHRoZSBQYXJ0IGZvciB0aGUgZXhwcmVzc2lvbi5cbiAqIGByZXBlYXRgIHRoZW4gcGVyZm9ybXMgaXQncyBjdXN0b20gbG9naWMgdG8gcmVuZGVyIG11bHRpcGxlIGl0ZW1zLlxuICpcbiAqIEBwYXJhbSBmIFRoZSBkaXJlY3RpdmUgZmFjdG9yeSBmdW5jdGlvbi4gTXVzdCBiZSBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhXG4gKiBmdW5jdGlvbiBvZiB0aGUgc2lnbmF0dXJlIGAocGFydDogUGFydCkgPT4gdm9pZGAuIFRoZSByZXR1cm5lZCBmdW5jdGlvbiB3aWxsXG4gKiBiZSBjYWxsZWQgd2l0aCB0aGUgcGFydCBvYmplY3QuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBpbXBvcnQge2RpcmVjdGl2ZSwgaHRtbH0gZnJvbSAnbGl0LWh0bWwnO1xuICpcbiAqIGNvbnN0IGltbXV0YWJsZSA9IGRpcmVjdGl2ZSgodikgPT4gKHBhcnQpID0+IHtcbiAqICAgaWYgKHBhcnQudmFsdWUgIT09IHYpIHtcbiAqICAgICBwYXJ0LnNldFZhbHVlKHYpXG4gKiAgIH1cbiAqIH0pO1xuICovXG5leHBvcnQgY29uc3QgZGlyZWN0aXZlID0gPEYgZXh0ZW5kcyBEaXJlY3RpdmVGYWN0b3J5PihmOiBGKTogRiA9PlxuICAgICgoLi4uYXJnczogdW5rbm93bltdKSA9PiB7XG4gICAgICBjb25zdCBkID0gZiguLi5hcmdzKTtcbiAgICAgIGRpcmVjdGl2ZXMuc2V0KGQsIHRydWUpO1xuICAgICAgcmV0dXJuIGQ7XG4gICAgfSkgYXMgRjtcblxuZXhwb3J0IGNvbnN0IGlzRGlyZWN0aXZlID0gKG86IHVua25vd24pOiBvIGlzIERpcmVjdGl2ZUZuID0+IHtcbiAgcmV0dXJuIHR5cGVvZiBvID09PSAnZnVuY3Rpb24nICYmIGRpcmVjdGl2ZXMuaGFzKG8pO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cblxuLyoqXG4gKiBAbW9kdWxlIGxpdC1odG1sXG4gKi9cblxuaW50ZXJmYWNlIE1heWJlUG9seWZpbGxlZENlIGV4dGVuZHMgQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5IHtcbiAgcmVhZG9ubHkgcG9seWZpbGxXcmFwRmx1c2hDYWxsYmFjaz86IG9iamVjdDtcbn1cblxuLyoqXG4gKiBUcnVlIGlmIHRoZSBjdXN0b20gZWxlbWVudHMgcG9seWZpbGwgaXMgaW4gdXNlLlxuICovXG5leHBvcnQgY29uc3QgaXNDRVBvbHlmaWxsID0gd2luZG93LmN1c3RvbUVsZW1lbnRzICE9PSB1bmRlZmluZWQgJiZcbiAgICAod2luZG93LmN1c3RvbUVsZW1lbnRzIGFzIE1heWJlUG9seWZpbGxlZENlKS5wb2x5ZmlsbFdyYXBGbHVzaENhbGxiYWNrICE9PVxuICAgICAgICB1bmRlZmluZWQ7XG5cbi8qKlxuICogUmVwYXJlbnRzIG5vZGVzLCBzdGFydGluZyBmcm9tIGBzdGFydGAgKGluY2x1c2l2ZSkgdG8gYGVuZGAgKGV4Y2x1c2l2ZSksXG4gKiBpbnRvIGFub3RoZXIgY29udGFpbmVyIChjb3VsZCBiZSB0aGUgc2FtZSBjb250YWluZXIpLCBiZWZvcmUgYGJlZm9yZWAuIElmXG4gKiBgYmVmb3JlYCBpcyBudWxsLCBpdCBhcHBlbmRzIHRoZSBub2RlcyB0byB0aGUgY29udGFpbmVyLlxuICovXG5leHBvcnQgY29uc3QgcmVwYXJlbnROb2RlcyA9XG4gICAgKGNvbnRhaW5lcjogTm9kZSxcbiAgICAgc3RhcnQ6IE5vZGV8bnVsbCxcbiAgICAgZW5kOiBOb2RlfG51bGwgPSBudWxsLFxuICAgICBiZWZvcmU6IE5vZGV8bnVsbCA9IG51bGwpOiB2b2lkID0+IHtcbiAgICAgIHdoaWxlIChzdGFydCAhPT0gZW5kKSB7XG4gICAgICAgIGNvbnN0IG4gPSBzdGFydCEubmV4dFNpYmxpbmc7XG4gICAgICAgIGNvbnRhaW5lci5pbnNlcnRCZWZvcmUoc3RhcnQhLCBiZWZvcmUpO1xuICAgICAgICBzdGFydCA9IG47XG4gICAgICB9XG4gICAgfTtcblxuLyoqXG4gKiBSZW1vdmVzIG5vZGVzLCBzdGFydGluZyBmcm9tIGBzdGFydGAgKGluY2x1c2l2ZSkgdG8gYGVuZGAgKGV4Y2x1c2l2ZSksIGZyb21cbiAqIGBjb250YWluZXJgLlxuICovXG5leHBvcnQgY29uc3QgcmVtb3ZlTm9kZXMgPVxuICAgIChjb250YWluZXI6IE5vZGUsIHN0YXJ0OiBOb2RlfG51bGwsIGVuZDogTm9kZXxudWxsID0gbnVsbCk6IHZvaWQgPT4ge1xuICAgICAgd2hpbGUgKHN0YXJ0ICE9PSBlbmQpIHtcbiAgICAgICAgY29uc3QgbiA9IHN0YXJ0IS5uZXh0U2libGluZztcbiAgICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKHN0YXJ0ISk7XG4gICAgICAgIHN0YXJ0ID0gbjtcbiAgICAgIH1cbiAgICB9O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE4IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuXG4vKipcbiAqIEBtb2R1bGUgbGl0LWh0bWxcbiAqL1xuXG4vKipcbiAqIFRoZSBQYXJ0IGludGVyZmFjZSByZXByZXNlbnRzIGEgZHluYW1pYyBwYXJ0IG9mIGEgdGVtcGxhdGUgaW5zdGFuY2UgcmVuZGVyZWRcbiAqIGJ5IGxpdC1odG1sLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBhcnQge1xuICByZWFkb25seSB2YWx1ZTogdW5rbm93bjtcblxuICAvKipcbiAgICogU2V0cyB0aGUgY3VycmVudCBwYXJ0IHZhbHVlLCBidXQgZG9lcyBub3Qgd3JpdGUgaXQgdG8gdGhlIERPTS5cbiAgICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0aGF0IHdpbGwgYmUgY29tbWl0dGVkLlxuICAgKi9cbiAgc2V0VmFsdWUodmFsdWU6IHVua25vd24pOiB2b2lkO1xuXG4gIC8qKlxuICAgKiBDb21taXRzIHRoZSBjdXJyZW50IHBhcnQgdmFsdWUsIGNhdXNpbmcgaXQgdG8gYWN0dWFsbHkgYmUgd3JpdHRlbiB0byB0aGVcbiAgICogRE9NLlxuICAgKlxuICAgKiBEaXJlY3RpdmVzIGFyZSBydW4gYXQgdGhlIHN0YXJ0IG9mIGBjb21taXRgLCBzbyB0aGF0IGlmIHRoZXkgY2FsbFxuICAgKiBgcGFydC5zZXRWYWx1ZSguLi4pYCBzeW5jaHJvbm91c2x5IHRoYXQgdmFsdWUgd2lsbCBiZSB1c2VkIGluIHRoZSBjdXJyZW50XG4gICAqIGNvbW1pdCwgYW5kIHRoZXJlJ3Mgbm8gbmVlZCB0byBjYWxsIGBwYXJ0LmNvbW1pdCgpYCB3aXRoaW4gdGhlIGRpcmVjdGl2ZS5cbiAgICogSWYgZGlyZWN0aXZlcyBzZXQgYSBwYXJ0IHZhbHVlIGFzeW5jaHJvbm91c2x5LCB0aGVuIHRoZXkgbXVzdCBjYWxsXG4gICAqIGBwYXJ0LmNvbW1pdCgpYCBtYW51YWxseS5cbiAgICovXG4gIGNvbW1pdCgpOiB2b2lkO1xufVxuXG4vKipcbiAqIEEgc2VudGluZWwgdmFsdWUgdGhhdCBzaWduYWxzIHRoYXQgYSB2YWx1ZSB3YXMgaGFuZGxlZCBieSBhIGRpcmVjdGl2ZSBhbmRcbiAqIHNob3VsZCBub3QgYmUgd3JpdHRlbiB0byB0aGUgRE9NLlxuICovXG5leHBvcnQgY29uc3Qgbm9DaGFuZ2UgPSB7fTtcblxuLyoqXG4gKiBBIHNlbnRpbmVsIHZhbHVlIHRoYXQgc2lnbmFscyBhIE5vZGVQYXJ0IHRvIGZ1bGx5IGNsZWFyIGl0cyBjb250ZW50LlxuICovXG5leHBvcnQgY29uc3Qgbm90aGluZyA9IHt9O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuXG4vKipcbiAqIEBtb2R1bGUgbGl0LWh0bWxcbiAqL1xuXG5pbXBvcnQge1RlbXBsYXRlUmVzdWx0fSBmcm9tICcuL3RlbXBsYXRlLXJlc3VsdC5qcyc7XG5cbi8qKlxuICogQW4gZXhwcmVzc2lvbiBtYXJrZXIgd2l0aCBlbWJlZGRlZCB1bmlxdWUga2V5IHRvIGF2b2lkIGNvbGxpc2lvbiB3aXRoXG4gKiBwb3NzaWJsZSB0ZXh0IGluIHRlbXBsYXRlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IG1hcmtlciA9IGB7e2xpdC0ke1N0cmluZyhNYXRoLnJhbmRvbSgpKS5zbGljZSgyKX19fWA7XG5cbi8qKlxuICogQW4gZXhwcmVzc2lvbiBtYXJrZXIgdXNlZCB0ZXh0LXBvc2l0aW9ucywgbXVsdGktYmluZGluZyBhdHRyaWJ1dGVzLCBhbmRcbiAqIGF0dHJpYnV0ZXMgd2l0aCBtYXJrdXAtbGlrZSB0ZXh0IHZhbHVlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IG5vZGVNYXJrZXIgPSBgPCEtLSR7bWFya2VyfS0tPmA7XG5cbmV4cG9ydCBjb25zdCBtYXJrZXJSZWdleCA9IG5ldyBSZWdFeHAoYCR7bWFya2VyfXwke25vZGVNYXJrZXJ9YCk7XG5cbi8qKlxuICogU3VmZml4IGFwcGVuZGVkIHRvIGFsbCBib3VuZCBhdHRyaWJ1dGUgbmFtZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBib3VuZEF0dHJpYnV0ZVN1ZmZpeCA9ICckbGl0JCc7XG5cbi8qKlxuICogQW4gdXBkYXRlYWJsZSBUZW1wbGF0ZSB0aGF0IHRyYWNrcyB0aGUgbG9jYXRpb24gb2YgZHluYW1pYyBwYXJ0cy5cbiAqL1xuZXhwb3J0IGNsYXNzIFRlbXBsYXRlIHtcbiAgcmVhZG9ubHkgcGFydHM6IFRlbXBsYXRlUGFydFtdID0gW107XG4gIHJlYWRvbmx5IGVsZW1lbnQ6IEhUTUxUZW1wbGF0ZUVsZW1lbnQ7XG5cbiAgY29uc3RydWN0b3IocmVzdWx0OiBUZW1wbGF0ZVJlc3VsdCwgZWxlbWVudDogSFRNTFRlbXBsYXRlRWxlbWVudCkge1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgICBjb25zdCBub2Rlc1RvUmVtb3ZlOiBOb2RlW10gPSBbXTtcbiAgICBjb25zdCBzdGFjazogTm9kZVtdID0gW107XG4gICAgLy8gRWRnZSBuZWVkcyBhbGwgNCBwYXJhbWV0ZXJzIHByZXNlbnQ7IElFMTEgbmVlZHMgM3JkIHBhcmFtZXRlciB0byBiZSBudWxsXG4gICAgY29uc3Qgd2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihcbiAgICAgICAgZWxlbWVudC5jb250ZW50LFxuICAgICAgICAxMzMgLyogTm9kZUZpbHRlci5TSE9XX3tFTEVNRU5UfENPTU1FTlR8VEVYVH0gKi8sXG4gICAgICAgIG51bGwsXG4gICAgICAgIGZhbHNlKTtcbiAgICAvLyBLZWVwcyB0cmFjayBvZiB0aGUgbGFzdCBpbmRleCBhc3NvY2lhdGVkIHdpdGggYSBwYXJ0LiBXZSB0cnkgdG8gZGVsZXRlXG4gICAgLy8gdW5uZWNlc3Nhcnkgbm9kZXMsIGJ1dCB3ZSBuZXZlciB3YW50IHRvIGFzc29jaWF0ZSB0d28gZGlmZmVyZW50IHBhcnRzXG4gICAgLy8gdG8gdGhlIHNhbWUgaW5kZXguIFRoZXkgbXVzdCBoYXZlIGEgY29uc3RhbnQgbm9kZSBiZXR3ZWVuLlxuICAgIGxldCBsYXN0UGFydEluZGV4ID0gMDtcbiAgICBsZXQgaW5kZXggPSAtMTtcbiAgICBsZXQgcGFydEluZGV4ID0gMDtcbiAgICBjb25zdCB7c3RyaW5ncywgdmFsdWVzOiB7bGVuZ3RofX0gPSByZXN1bHQ7XG4gICAgd2hpbGUgKHBhcnRJbmRleCA8IGxlbmd0aCkge1xuICAgICAgY29uc3Qgbm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpIGFzIEVsZW1lbnQgfCBDb21tZW50IHwgVGV4dCB8IG51bGw7XG4gICAgICBpZiAobm9kZSA9PT0gbnVsbCkge1xuICAgICAgICAvLyBXZSd2ZSBleGhhdXN0ZWQgdGhlIGNvbnRlbnQgaW5zaWRlIGEgbmVzdGVkIHRlbXBsYXRlIGVsZW1lbnQuXG4gICAgICAgIC8vIEJlY2F1c2Ugd2Ugc3RpbGwgaGF2ZSBwYXJ0cyAodGhlIG91dGVyIGZvci1sb29wKSwgd2Uga25vdzpcbiAgICAgICAgLy8gLSBUaGVyZSBpcyBhIHRlbXBsYXRlIGluIHRoZSBzdGFja1xuICAgICAgICAvLyAtIFRoZSB3YWxrZXIgd2lsbCBmaW5kIGEgbmV4dE5vZGUgb3V0c2lkZSB0aGUgdGVtcGxhdGVcbiAgICAgICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gc3RhY2sucG9wKCkhO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGluZGV4Kys7XG5cbiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxIC8qIE5vZGUuRUxFTUVOVF9OT0RFICovKSB7XG4gICAgICAgIGlmICgobm9kZSBhcyBFbGVtZW50KS5oYXNBdHRyaWJ1dGVzKCkpIHtcbiAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gKG5vZGUgYXMgRWxlbWVudCkuYXR0cmlidXRlcztcbiAgICAgICAgICBjb25zdCB7bGVuZ3RofSA9IGF0dHJpYnV0ZXM7XG4gICAgICAgICAgLy8gUGVyXG4gICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL05hbWVkTm9kZU1hcCxcbiAgICAgICAgICAvLyBhdHRyaWJ1dGVzIGFyZSBub3QgZ3VhcmFudGVlZCB0byBiZSByZXR1cm5lZCBpbiBkb2N1bWVudCBvcmRlci5cbiAgICAgICAgICAvLyBJbiBwYXJ0aWN1bGFyLCBFZGdlL0lFIGNhbiByZXR1cm4gdGhlbSBvdXQgb2Ygb3JkZXIsIHNvIHdlIGNhbm5vdFxuICAgICAgICAgIC8vIGFzc3VtZSBhIGNvcnJlc3BvbmRlbmNlIGJldHdlZW4gcGFydCBpbmRleCBhbmQgYXR0cmlidXRlIGluZGV4LlxuICAgICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGVuZHNXaXRoKGF0dHJpYnV0ZXNbaV0ubmFtZSwgYm91bmRBdHRyaWJ1dGVTdWZmaXgpKSB7XG4gICAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHdoaWxlIChjb3VudC0tID4gMCkge1xuICAgICAgICAgICAgLy8gR2V0IHRoZSB0ZW1wbGF0ZSBsaXRlcmFsIHNlY3Rpb24gbGVhZGluZyB1cCB0byB0aGUgZmlyc3RcbiAgICAgICAgICAgIC8vIGV4cHJlc3Npb24gaW4gdGhpcyBhdHRyaWJ1dGVcbiAgICAgICAgICAgIGNvbnN0IHN0cmluZ0ZvclBhcnQgPSBzdHJpbmdzW3BhcnRJbmRleF07XG4gICAgICAgICAgICAvLyBGaW5kIHRoZSBhdHRyaWJ1dGUgbmFtZVxuICAgICAgICAgICAgY29uc3QgbmFtZSA9IGxhc3RBdHRyaWJ1dGVOYW1lUmVnZXguZXhlYyhzdHJpbmdGb3JQYXJ0KSFbMl07XG4gICAgICAgICAgICAvLyBGaW5kIHRoZSBjb3JyZXNwb25kaW5nIGF0dHJpYnV0ZVxuICAgICAgICAgICAgLy8gQWxsIGJvdW5kIGF0dHJpYnV0ZXMgaGF2ZSBoYWQgYSBzdWZmaXggYWRkZWQgaW5cbiAgICAgICAgICAgIC8vIFRlbXBsYXRlUmVzdWx0I2dldEhUTUwgdG8gb3B0IG91dCBvZiBzcGVjaWFsIGF0dHJpYnV0ZVxuICAgICAgICAgICAgLy8gaGFuZGxpbmcuIFRvIGxvb2sgdXAgdGhlIGF0dHJpYnV0ZSB2YWx1ZSB3ZSBhbHNvIG5lZWQgdG8gYWRkXG4gICAgICAgICAgICAvLyB0aGUgc3VmZml4LlxuICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlTG9va3VwTmFtZSA9XG4gICAgICAgICAgICAgICAgbmFtZS50b0xvd2VyQ2FzZSgpICsgYm91bmRBdHRyaWJ1dGVTdWZmaXg7XG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVWYWx1ZSA9XG4gICAgICAgICAgICAgICAgKG5vZGUgYXMgRWxlbWVudCkuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZUxvb2t1cE5hbWUpITtcbiAgICAgICAgICAgIChub2RlIGFzIEVsZW1lbnQpLnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGVMb29rdXBOYW1lKTtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRpY3MgPSBhdHRyaWJ1dGVWYWx1ZS5zcGxpdChtYXJrZXJSZWdleCk7XG4gICAgICAgICAgICB0aGlzLnBhcnRzLnB1c2goe3R5cGU6ICdhdHRyaWJ1dGUnLCBpbmRleCwgbmFtZSwgc3RyaW5nczogc3RhdGljc30pO1xuICAgICAgICAgICAgcGFydEluZGV4ICs9IHN0YXRpY3MubGVuZ3RoIC0gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChub2RlIGFzIEVsZW1lbnQpLnRhZ05hbWUgPT09ICdURU1QTEFURScpIHtcbiAgICAgICAgICBzdGFjay5wdXNoKG5vZGUpO1xuICAgICAgICAgIHdhbGtlci5jdXJyZW50Tm9kZSA9IChub2RlIGFzIEhUTUxUZW1wbGF0ZUVsZW1lbnQpLmNvbnRlbnQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMyAvKiBOb2RlLlRFWFRfTk9ERSAqLykge1xuICAgICAgICBjb25zdCBkYXRhID0gKG5vZGUgYXMgVGV4dCkuZGF0YTtcbiAgICAgICAgaWYgKGRhdGEuaW5kZXhPZihtYXJrZXIpID49IDApIHtcbiAgICAgICAgICBjb25zdCBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGUhO1xuICAgICAgICAgIGNvbnN0IHN0cmluZ3MgPSBkYXRhLnNwbGl0KG1hcmtlclJlZ2V4KTtcbiAgICAgICAgICBjb25zdCBsYXN0SW5kZXggPSBzdHJpbmdzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgLy8gR2VuZXJhdGUgYSBuZXcgdGV4dCBub2RlIGZvciBlYWNoIGxpdGVyYWwgc2VjdGlvblxuICAgICAgICAgIC8vIFRoZXNlIG5vZGVzIGFyZSBhbHNvIHVzZWQgYXMgdGhlIG1hcmtlcnMgZm9yIG5vZGUgcGFydHNcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxhc3RJbmRleDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgaW5zZXJ0OiBOb2RlO1xuICAgICAgICAgICAgbGV0IHMgPSBzdHJpbmdzW2ldO1xuICAgICAgICAgICAgaWYgKHMgPT09ICcnKSB7XG4gICAgICAgICAgICAgIGluc2VydCA9IGNyZWF0ZU1hcmtlcigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBsYXN0QXR0cmlidXRlTmFtZVJlZ2V4LmV4ZWMocyk7XG4gICAgICAgICAgICAgIGlmIChtYXRjaCAhPT0gbnVsbCAmJiBlbmRzV2l0aChtYXRjaFsyXSwgYm91bmRBdHRyaWJ1dGVTdWZmaXgpKSB7XG4gICAgICAgICAgICAgICAgcyA9IHMuc2xpY2UoMCwgbWF0Y2guaW5kZXgpICsgbWF0Y2hbMV0gK1xuICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXS5zbGljZSgwLCAtYm91bmRBdHRyaWJ1dGVTdWZmaXgubGVuZ3RoKSArIG1hdGNoWzNdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGluc2VydCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShpbnNlcnQsIG5vZGUpO1xuICAgICAgICAgICAgdGhpcy5wYXJ0cy5wdXNoKHt0eXBlOiAnbm9kZScsIGluZGV4OiArK2luZGV4fSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gdGV4dCwgd2UgbXVzdCBpbnNlcnQgYSBjb21tZW50IHRvIG1hcmsgb3VyIHBsYWNlLlxuICAgICAgICAgIC8vIEVsc2UsIHdlIGNhbiB0cnVzdCBpdCB3aWxsIHN0aWNrIGFyb3VuZCBhZnRlciBjbG9uaW5nLlxuICAgICAgICAgIGlmIChzdHJpbmdzW2xhc3RJbmRleF0gPT09ICcnKSB7XG4gICAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNyZWF0ZU1hcmtlcigpLCBub2RlKTtcbiAgICAgICAgICAgIG5vZGVzVG9SZW1vdmUucHVzaChub2RlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgKG5vZGUgYXMgVGV4dCkuZGF0YSA9IHN0cmluZ3NbbGFzdEluZGV4XTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gV2UgaGF2ZSBhIHBhcnQgZm9yIGVhY2ggbWF0Y2ggZm91bmRcbiAgICAgICAgICBwYXJ0SW5kZXggKz0gbGFzdEluZGV4O1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG5vZGUubm9kZVR5cGUgPT09IDggLyogTm9kZS5DT01NRU5UX05PREUgKi8pIHtcbiAgICAgICAgaWYgKChub2RlIGFzIENvbW1lbnQpLmRhdGEgPT09IG1hcmtlcikge1xuICAgICAgICAgIGNvbnN0IHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZSE7XG4gICAgICAgICAgLy8gQWRkIGEgbmV3IG1hcmtlciBub2RlIHRvIGJlIHRoZSBzdGFydE5vZGUgb2YgdGhlIFBhcnQgaWYgYW55IG9mXG4gICAgICAgICAgLy8gdGhlIGZvbGxvd2luZyBhcmUgdHJ1ZTpcbiAgICAgICAgICAvLyAgKiBXZSBkb24ndCBoYXZlIGEgcHJldmlvdXNTaWJsaW5nXG4gICAgICAgICAgLy8gICogVGhlIHByZXZpb3VzU2libGluZyBpcyBhbHJlYWR5IHRoZSBzdGFydCBvZiBhIHByZXZpb3VzIHBhcnRcbiAgICAgICAgICBpZiAobm9kZS5wcmV2aW91c1NpYmxpbmcgPT09IG51bGwgfHwgaW5kZXggPT09IGxhc3RQYXJ0SW5kZXgpIHtcbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNyZWF0ZU1hcmtlcigpLCBub2RlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGFzdFBhcnRJbmRleCA9IGluZGV4O1xuICAgICAgICAgIHRoaXMucGFydHMucHVzaCh7dHlwZTogJ25vZGUnLCBpbmRleH0pO1xuICAgICAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYSBuZXh0U2libGluZywga2VlcCB0aGlzIG5vZGUgc28gd2UgaGF2ZSBhbiBlbmQuXG4gICAgICAgICAgLy8gRWxzZSwgd2UgY2FuIHJlbW92ZSBpdCB0byBzYXZlIGZ1dHVyZSBjb3N0cy5cbiAgICAgICAgICBpZiAobm9kZS5uZXh0U2libGluZyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgKG5vZGUgYXMgQ29tbWVudCkuZGF0YSA9ICcnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBub2Rlc1RvUmVtb3ZlLnB1c2gobm9kZSk7XG4gICAgICAgICAgICBpbmRleC0tO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwYXJ0SW5kZXgrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZXQgaSA9IC0xO1xuICAgICAgICAgIHdoaWxlICgoaSA9IChub2RlIGFzIENvbW1lbnQpLmRhdGEuaW5kZXhPZihtYXJrZXIsIGkgKyAxKSkgIT09IC0xKSB7XG4gICAgICAgICAgICAvLyBDb21tZW50IG5vZGUgaGFzIGEgYmluZGluZyBtYXJrZXIgaW5zaWRlLCBtYWtlIGFuIGluYWN0aXZlIHBhcnRcbiAgICAgICAgICAgIC8vIFRoZSBiaW5kaW5nIHdvbid0IHdvcmssIGJ1dCBzdWJzZXF1ZW50IGJpbmRpbmdzIHdpbGxcbiAgICAgICAgICAgIC8vIFRPRE8gKGp1c3RpbmZhZ25hbmkpOiBjb25zaWRlciB3aGV0aGVyIGl0J3MgZXZlbiB3b3J0aCBpdCB0b1xuICAgICAgICAgICAgLy8gbWFrZSBiaW5kaW5ncyBpbiBjb21tZW50cyB3b3JrXG4gICAgICAgICAgICB0aGlzLnBhcnRzLnB1c2goe3R5cGU6ICdub2RlJywgaW5kZXg6IC0xfSk7XG4gICAgICAgICAgICBwYXJ0SW5kZXgrKztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgdGV4dCBiaW5kaW5nIG5vZGVzIGFmdGVyIHRoZSB3YWxrIHRvIG5vdCBkaXN0dXJiIHRoZSBUcmVlV2Fsa2VyXG4gICAgZm9yIChjb25zdCBuIG9mIG5vZGVzVG9SZW1vdmUpIHtcbiAgICAgIG4ucGFyZW50Tm9kZSEucmVtb3ZlQ2hpbGQobik7XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IGVuZHNXaXRoID0gKHN0cjogc3RyaW5nLCBzdWZmaXg6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICBjb25zdCBpbmRleCA9IHN0ci5sZW5ndGggLSBzdWZmaXgubGVuZ3RoO1xuICByZXR1cm4gaW5kZXggPj0gMCAmJiBzdHIuc2xpY2UoaW5kZXgpID09PSBzdWZmaXg7XG59O1xuXG4vKipcbiAqIEEgcGxhY2Vob2xkZXIgZm9yIGEgZHluYW1pYyBleHByZXNzaW9uIGluIGFuIEhUTUwgdGVtcGxhdGUuXG4gKlxuICogVGhlcmUgYXJlIHR3byBidWlsdC1pbiBwYXJ0IHR5cGVzOiBBdHRyaWJ1dGVQYXJ0IGFuZCBOb2RlUGFydC4gTm9kZVBhcnRzXG4gKiBhbHdheXMgcmVwcmVzZW50IGEgc2luZ2xlIGR5bmFtaWMgZXhwcmVzc2lvbiwgd2hpbGUgQXR0cmlidXRlUGFydHMgbWF5XG4gKiByZXByZXNlbnQgYXMgbWFueSBleHByZXNzaW9ucyBhcmUgY29udGFpbmVkIGluIHRoZSBhdHRyaWJ1dGUuXG4gKlxuICogQSBUZW1wbGF0ZSdzIHBhcnRzIGFyZSBtdXRhYmxlLCBzbyBwYXJ0cyBjYW4gYmUgcmVwbGFjZWQgb3IgbW9kaWZpZWRcbiAqIChwb3NzaWJseSB0byBpbXBsZW1lbnQgZGlmZmVyZW50IHRlbXBsYXRlIHNlbWFudGljcykuIFRoZSBjb250cmFjdCBpcyB0aGF0XG4gKiBwYXJ0cyBjYW4gb25seSBiZSByZXBsYWNlZCwgbm90IHJlbW92ZWQsIGFkZGVkIG9yIHJlb3JkZXJlZCwgYW5kIHBhcnRzIG11c3RcbiAqIGFsd2F5cyBjb25zdW1lIHRoZSBjb3JyZWN0IG51bWJlciBvZiB2YWx1ZXMgaW4gdGhlaXIgYHVwZGF0ZSgpYCBtZXRob2QuXG4gKlxuICogVE9ETyhqdXN0aW5mYWduYW5pKTogVGhhdCByZXF1aXJlbWVudCBpcyBhIGxpdHRsZSBmcmFnaWxlLiBBXG4gKiBUZW1wbGF0ZUluc3RhbmNlIGNvdWxkIGluc3RlYWQgYmUgbW9yZSBjYXJlZnVsIGFib3V0IHdoaWNoIHZhbHVlcyBpdCBnaXZlc1xuICogdG8gUGFydC51cGRhdGUoKS5cbiAqL1xuZXhwb3J0IHR5cGUgVGVtcGxhdGVQYXJ0ID0ge1xuICByZWFkb25seSB0eXBlOiAnbm9kZScsXG4gIGluZGV4OiBudW1iZXJcbn18e3JlYWRvbmx5IHR5cGU6ICdhdHRyaWJ1dGUnLCBpbmRleDogbnVtYmVyLCByZWFkb25seSBuYW1lOiBzdHJpbmcsIHJlYWRvbmx5IHN0cmluZ3M6IFJlYWRvbmx5QXJyYXk8c3RyaW5nPn07XG5cbmV4cG9ydCBjb25zdCBpc1RlbXBsYXRlUGFydEFjdGl2ZSA9IChwYXJ0OiBUZW1wbGF0ZVBhcnQpID0+IHBhcnQuaW5kZXggIT09IC0xO1xuXG4vLyBBbGxvd3MgYGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJycpYCB0byBiZSByZW5hbWVkIGZvciBhXG4vLyBzbWFsbCBtYW51YWwgc2l6ZS1zYXZpbmdzLlxuZXhwb3J0IGNvbnN0IGNyZWF0ZU1hcmtlciA9ICgpID0+IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJycpO1xuXG4vKipcbiAqIFRoaXMgcmVnZXggZXh0cmFjdHMgdGhlIGF0dHJpYnV0ZSBuYW1lIHByZWNlZGluZyBhbiBhdHRyaWJ1dGUtcG9zaXRpb25cbiAqIGV4cHJlc3Npb24uIEl0IGRvZXMgdGhpcyBieSBtYXRjaGluZyB0aGUgc3ludGF4IGFsbG93ZWQgZm9yIGF0dHJpYnV0ZXNcbiAqIGFnYWluc3QgdGhlIHN0cmluZyBsaXRlcmFsIGRpcmVjdGx5IHByZWNlZGluZyB0aGUgZXhwcmVzc2lvbiwgYXNzdW1pbmcgdGhhdFxuICogdGhlIGV4cHJlc3Npb24gaXMgaW4gYW4gYXR0cmlidXRlLXZhbHVlIHBvc2l0aW9uLlxuICpcbiAqIFNlZSBhdHRyaWJ1dGVzIGluIHRoZSBIVE1MIHNwZWM6XG4gKiBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvc3ludGF4Lmh0bWwjZWxlbWVudHMtYXR0cmlidXRlc1xuICpcbiAqIFwiIFxceDA5XFx4MGFcXHgwY1xceDBkXCIgYXJlIEhUTUwgc3BhY2UgY2hhcmFjdGVyczpcbiAqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9pbmZyYXN0cnVjdHVyZS5odG1sI3NwYWNlLWNoYXJhY3RlcnNcbiAqXG4gKiBcIlxcMC1cXHgxRlxceDdGLVxceDlGXCIgYXJlIFVuaWNvZGUgY29udHJvbCBjaGFyYWN0ZXJzLCB3aGljaCBpbmNsdWRlcyBldmVyeVxuICogc3BhY2UgY2hhcmFjdGVyIGV4Y2VwdCBcIiBcIi5cbiAqXG4gKiBTbyBhbiBhdHRyaWJ1dGUgaXM6XG4gKiAgKiBUaGUgbmFtZTogYW55IGNoYXJhY3RlciBleGNlcHQgYSBjb250cm9sIGNoYXJhY3Rlciwgc3BhY2UgY2hhcmFjdGVyLCAoJyksXG4gKiAgICAoXCIpLCBcIj5cIiwgXCI9XCIsIG9yIFwiL1wiXG4gKiAgKiBGb2xsb3dlZCBieSB6ZXJvIG9yIG1vcmUgc3BhY2UgY2hhcmFjdGVyc1xuICogICogRm9sbG93ZWQgYnkgXCI9XCJcbiAqICAqIEZvbGxvd2VkIGJ5IHplcm8gb3IgbW9yZSBzcGFjZSBjaGFyYWN0ZXJzXG4gKiAgKiBGb2xsb3dlZCBieTpcbiAqICAgICogQW55IGNoYXJhY3RlciBleGNlcHQgc3BhY2UsICgnKSwgKFwiKSwgXCI8XCIsIFwiPlwiLCBcIj1cIiwgKGApLCBvclxuICogICAgKiAoXCIpIHRoZW4gYW55IG5vbi0oXCIpLCBvclxuICogICAgKiAoJykgdGhlbiBhbnkgbm9uLSgnKVxuICovXG5leHBvcnQgY29uc3QgbGFzdEF0dHJpYnV0ZU5hbWVSZWdleCA9XG4gICAgLyhbIFxceDA5XFx4MGFcXHgwY1xceDBkXSkoW15cXDAtXFx4MUZcXHg3Ri1cXHg5RiBcIic+PS9dKykoWyBcXHgwOVxceDBhXFx4MGNcXHgwZF0qPVsgXFx4MDlcXHgwYVxceDBjXFx4MGRdKig/OlteIFxceDA5XFx4MGFcXHgwY1xceDBkXCInYDw+PV0qfFwiW15cIl0qfCdbXiddKikpJC87XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5cbmltcG9ydCB7aXNDRVBvbHlmaWxsfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQge1BhcnR9IGZyb20gJy4vcGFydC5qcyc7XG5pbXBvcnQge1JlbmRlck9wdGlvbnN9IGZyb20gJy4vcmVuZGVyLW9wdGlvbnMuanMnO1xuaW1wb3J0IHtUZW1wbGF0ZVByb2Nlc3Nvcn0gZnJvbSAnLi90ZW1wbGF0ZS1wcm9jZXNzb3IuanMnO1xuaW1wb3J0IHtpc1RlbXBsYXRlUGFydEFjdGl2ZSwgVGVtcGxhdGUsIFRlbXBsYXRlUGFydH0gZnJvbSAnLi90ZW1wbGF0ZS5qcyc7XG5cbi8qKlxuICogQW4gaW5zdGFuY2Ugb2YgYSBgVGVtcGxhdGVgIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIHRoZSBET00gYW5kIHVwZGF0ZWRcbiAqIHdpdGggbmV3IHZhbHVlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFRlbXBsYXRlSW5zdGFuY2Uge1xuICBwcml2YXRlIHJlYWRvbmx5IF9fcGFydHM6IEFycmF5PFBhcnR8dW5kZWZpbmVkPiA9IFtdO1xuICByZWFkb25seSBwcm9jZXNzb3I6IFRlbXBsYXRlUHJvY2Vzc29yO1xuICByZWFkb25seSBvcHRpb25zOiBSZW5kZXJPcHRpb25zO1xuICByZWFkb25seSB0ZW1wbGF0ZTogVGVtcGxhdGU7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgICB0ZW1wbGF0ZTogVGVtcGxhdGUsIHByb2Nlc3NvcjogVGVtcGxhdGVQcm9jZXNzb3IsXG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zKSB7XG4gICAgdGhpcy50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgIHRoaXMucHJvY2Vzc29yID0gcHJvY2Vzc29yO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gIH1cblxuICB1cGRhdGUodmFsdWVzOiBSZWFkb25seUFycmF5PHVua25vd24+KSB7XG4gICAgbGV0IGkgPSAwO1xuICAgIGZvciAoY29uc3QgcGFydCBvZiB0aGlzLl9fcGFydHMpIHtcbiAgICAgIGlmIChwYXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcGFydC5zZXRWYWx1ZSh2YWx1ZXNbaV0pO1xuICAgICAgfVxuICAgICAgaSsrO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IHBhcnQgb2YgdGhpcy5fX3BhcnRzKSB7XG4gICAgICBpZiAocGFydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHBhcnQuY29tbWl0KCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX2Nsb25lKCk6IERvY3VtZW50RnJhZ21lbnQge1xuICAgIC8vIFRoZXJlIGFyZSBhIG51bWJlciBvZiBzdGVwcyBpbiB0aGUgbGlmZWN5Y2xlIG9mIGEgdGVtcGxhdGUgaW5zdGFuY2Unc1xuICAgIC8vIERPTSBmcmFnbWVudDpcbiAgICAvLyAgMS4gQ2xvbmUgLSBjcmVhdGUgdGhlIGluc3RhbmNlIGZyYWdtZW50XG4gICAgLy8gIDIuIEFkb3B0IC0gYWRvcHQgaW50byB0aGUgbWFpbiBkb2N1bWVudFxuICAgIC8vICAzLiBQcm9jZXNzIC0gZmluZCBwYXJ0IG1hcmtlcnMgYW5kIGNyZWF0ZSBwYXJ0c1xuICAgIC8vICA0LiBVcGdyYWRlIC0gdXBncmFkZSBjdXN0b20gZWxlbWVudHNcbiAgICAvLyAgNS4gVXBkYXRlIC0gc2V0IG5vZGUsIGF0dHJpYnV0ZSwgcHJvcGVydHksIGV0Yy4sIHZhbHVlc1xuICAgIC8vICA2LiBDb25uZWN0IC0gY29ubmVjdCB0byB0aGUgZG9jdW1lbnQuIE9wdGlvbmFsIGFuZCBvdXRzaWRlIG9mIHRoaXNcbiAgICAvLyAgICAgbWV0aG9kLlxuICAgIC8vXG4gICAgLy8gV2UgaGF2ZSBhIGZldyBjb25zdHJhaW50cyBvbiB0aGUgb3JkZXJpbmcgb2YgdGhlc2Ugc3RlcHM6XG4gICAgLy8gICogV2UgbmVlZCB0byB1cGdyYWRlIGJlZm9yZSB1cGRhdGluZywgc28gdGhhdCBwcm9wZXJ0eSB2YWx1ZXMgd2lsbCBwYXNzXG4gICAgLy8gICAgdGhyb3VnaCBhbnkgcHJvcGVydHkgc2V0dGVycy5cbiAgICAvLyAgKiBXZSB3b3VsZCBsaWtlIHRvIHByb2Nlc3MgYmVmb3JlIHVwZ3JhZGluZyBzbyB0aGF0IHdlJ3JlIHN1cmUgdGhhdCB0aGVcbiAgICAvLyAgICBjbG9uZWQgZnJhZ21lbnQgaXMgaW5lcnQgYW5kIG5vdCBkaXN0dXJiZWQgYnkgc2VsZi1tb2RpZnlpbmcgRE9NLlxuICAgIC8vICAqIFdlIHdhbnQgY3VzdG9tIGVsZW1lbnRzIHRvIHVwZ3JhZGUgZXZlbiBpbiBkaXNjb25uZWN0ZWQgZnJhZ21lbnRzLlxuICAgIC8vXG4gICAgLy8gR2l2ZW4gdGhlc2UgY29uc3RyYWludHMsIHdpdGggZnVsbCBjdXN0b20gZWxlbWVudHMgc3VwcG9ydCB3ZSB3b3VsZFxuICAgIC8vIHByZWZlciB0aGUgb3JkZXI6IENsb25lLCBQcm9jZXNzLCBBZG9wdCwgVXBncmFkZSwgVXBkYXRlLCBDb25uZWN0XG4gICAgLy9cbiAgICAvLyBCdXQgU2FmYXJpIGRvb2VzIG5vdCBpbXBsZW1lbnQgQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5I3VwZ3JhZGUsIHNvIHdlXG4gICAgLy8gY2FuIG5vdCBpbXBsZW1lbnQgdGhhdCBvcmRlciBhbmQgc3RpbGwgaGF2ZSB1cGdyYWRlLWJlZm9yZS11cGRhdGUgYW5kXG4gICAgLy8gdXBncmFkZSBkaXNjb25uZWN0ZWQgZnJhZ21lbnRzLiBTbyB3ZSBpbnN0ZWFkIHNhY3JpZmljZSB0aGVcbiAgICAvLyBwcm9jZXNzLWJlZm9yZS11cGdyYWRlIGNvbnN0cmFpbnQsIHNpbmNlIGluIEN1c3RvbSBFbGVtZW50cyB2MSBlbGVtZW50c1xuICAgIC8vIG11c3Qgbm90IG1vZGlmeSB0aGVpciBsaWdodCBET00gaW4gdGhlIGNvbnN0cnVjdG9yLiBXZSBzdGlsbCBoYXZlIGlzc3Vlc1xuICAgIC8vIHdoZW4gY28tZXhpc3Rpbmcgd2l0aCBDRXYwIGVsZW1lbnRzIGxpa2UgUG9seW1lciAxLCBhbmQgd2l0aCBwb2x5ZmlsbHNcbiAgICAvLyB0aGF0IGRvbid0IHN0cmljdGx5IGFkaGVyZSB0byB0aGUgbm8tbW9kaWZpY2F0aW9uIHJ1bGUgYmVjYXVzZSBzaGFkb3dcbiAgICAvLyBET00sIHdoaWNoIG1heSBiZSBjcmVhdGVkIGluIHRoZSBjb25zdHJ1Y3RvciwgaXMgZW11bGF0ZWQgYnkgYmVpbmcgcGxhY2VkXG4gICAgLy8gaW4gdGhlIGxpZ2h0IERPTS5cbiAgICAvL1xuICAgIC8vIFRoZSByZXN1bHRpbmcgb3JkZXIgaXMgb24gbmF0aXZlIGlzOiBDbG9uZSwgQWRvcHQsIFVwZ3JhZGUsIFByb2Nlc3MsXG4gICAgLy8gVXBkYXRlLCBDb25uZWN0LiBkb2N1bWVudC5pbXBvcnROb2RlKCkgcGVyZm9ybXMgQ2xvbmUsIEFkb3B0LCBhbmQgVXBncmFkZVxuICAgIC8vIGluIG9uZSBzdGVwLlxuICAgIC8vXG4gICAgLy8gVGhlIEN1c3RvbSBFbGVtZW50cyB2MSBwb2x5ZmlsbCBzdXBwb3J0cyB1cGdyYWRlKCksIHNvIHRoZSBvcmRlciB3aGVuXG4gICAgLy8gcG9seWZpbGxlZCBpcyB0aGUgbW9yZSBpZGVhbDogQ2xvbmUsIFByb2Nlc3MsIEFkb3B0LCBVcGdyYWRlLCBVcGRhdGUsXG4gICAgLy8gQ29ubmVjdC5cblxuICAgIGNvbnN0IGZyYWdtZW50ID0gaXNDRVBvbHlmaWxsID9cbiAgICAgICAgdGhpcy50ZW1wbGF0ZS5lbGVtZW50LmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpIGFzIERvY3VtZW50RnJhZ21lbnQgOlxuICAgICAgICBkb2N1bWVudC5pbXBvcnROb2RlKHRoaXMudGVtcGxhdGUuZWxlbWVudC5jb250ZW50LCB0cnVlKTtcblxuICAgIGNvbnN0IHN0YWNrOiBOb2RlW10gPSBbXTtcbiAgICBjb25zdCBwYXJ0cyA9IHRoaXMudGVtcGxhdGUucGFydHM7XG4gICAgLy8gRWRnZSBuZWVkcyBhbGwgNCBwYXJhbWV0ZXJzIHByZXNlbnQ7IElFMTEgbmVlZHMgM3JkIHBhcmFtZXRlciB0byBiZSBudWxsXG4gICAgY29uc3Qgd2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihcbiAgICAgICAgZnJhZ21lbnQsXG4gICAgICAgIDEzMyAvKiBOb2RlRmlsdGVyLlNIT1dfe0VMRU1FTlR8Q09NTUVOVHxURVhUfSAqLyxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgZmFsc2UpO1xuICAgIGxldCBwYXJ0SW5kZXggPSAwO1xuICAgIGxldCBub2RlSW5kZXggPSAwO1xuICAgIGxldCBwYXJ0OiBUZW1wbGF0ZVBhcnQ7XG4gICAgbGV0IG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKTtcbiAgICAvLyBMb29wIHRocm91Z2ggYWxsIHRoZSBub2RlcyBhbmQgcGFydHMgb2YgYSB0ZW1wbGF0ZVxuICAgIHdoaWxlIChwYXJ0SW5kZXggPCBwYXJ0cy5sZW5ndGgpIHtcbiAgICAgIHBhcnQgPSBwYXJ0c1twYXJ0SW5kZXhdO1xuICAgICAgaWYgKCFpc1RlbXBsYXRlUGFydEFjdGl2ZShwYXJ0KSkge1xuICAgICAgICB0aGlzLl9fcGFydHMucHVzaCh1bmRlZmluZWQpO1xuICAgICAgICBwYXJ0SW5kZXgrKztcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIFByb2dyZXNzIHRoZSB0cmVlIHdhbGtlciB1bnRpbCB3ZSBmaW5kIG91ciBuZXh0IHBhcnQncyBub2RlLlxuICAgICAgLy8gTm90ZSB0aGF0IG11bHRpcGxlIHBhcnRzIG1heSBzaGFyZSB0aGUgc2FtZSBub2RlIChhdHRyaWJ1dGUgcGFydHNcbiAgICAgIC8vIG9uIGEgc2luZ2xlIGVsZW1lbnQpLCBzbyB0aGlzIGxvb3AgbWF5IG5vdCBydW4gYXQgYWxsLlxuICAgICAgd2hpbGUgKG5vZGVJbmRleCA8IHBhcnQuaW5kZXgpIHtcbiAgICAgICAgbm9kZUluZGV4Kys7XG4gICAgICAgIGlmIChub2RlIS5ub2RlTmFtZSA9PT0gJ1RFTVBMQVRFJykge1xuICAgICAgICAgIHN0YWNrLnB1c2gobm9kZSEpO1xuICAgICAgICAgIHdhbGtlci5jdXJyZW50Tm9kZSA9IChub2RlIGFzIEhUTUxUZW1wbGF0ZUVsZW1lbnQpLmNvbnRlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChub2RlID0gd2Fsa2VyLm5leHROb2RlKCkpID09PSBudWxsKSB7XG4gICAgICAgICAgLy8gV2UndmUgZXhoYXVzdGVkIHRoZSBjb250ZW50IGluc2lkZSBhIG5lc3RlZCB0ZW1wbGF0ZSBlbGVtZW50LlxuICAgICAgICAgIC8vIEJlY2F1c2Ugd2Ugc3RpbGwgaGF2ZSBwYXJ0cyAodGhlIG91dGVyIGZvci1sb29wKSwgd2Uga25vdzpcbiAgICAgICAgICAvLyAtIFRoZXJlIGlzIGEgdGVtcGxhdGUgaW4gdGhlIHN0YWNrXG4gICAgICAgICAgLy8gLSBUaGUgd2Fsa2VyIHdpbGwgZmluZCBhIG5leHROb2RlIG91dHNpZGUgdGhlIHRlbXBsYXRlXG4gICAgICAgICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gc3RhY2sucG9wKCkhO1xuICAgICAgICAgIG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBXZSd2ZSBhcnJpdmVkIGF0IG91ciBwYXJ0J3Mgbm9kZS5cbiAgICAgIGlmIChwYXJ0LnR5cGUgPT09ICdub2RlJykge1xuICAgICAgICBjb25zdCBwYXJ0ID0gdGhpcy5wcm9jZXNzb3IuaGFuZGxlVGV4dEV4cHJlc3Npb24odGhpcy5vcHRpb25zKTtcbiAgICAgICAgcGFydC5pbnNlcnRBZnRlck5vZGUobm9kZSEucHJldmlvdXNTaWJsaW5nISk7XG4gICAgICAgIHRoaXMuX19wYXJ0cy5wdXNoKHBhcnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fX3BhcnRzLnB1c2goLi4udGhpcy5wcm9jZXNzb3IuaGFuZGxlQXR0cmlidXRlRXhwcmVzc2lvbnMoXG4gICAgICAgICAgICBub2RlIGFzIEVsZW1lbnQsIHBhcnQubmFtZSwgcGFydC5zdHJpbmdzLCB0aGlzLm9wdGlvbnMpKTtcbiAgICAgIH1cbiAgICAgIHBhcnRJbmRleCsrO1xuICAgIH1cblxuICAgIGlmIChpc0NFUG9seWZpbGwpIHtcbiAgICAgIGRvY3VtZW50LmFkb3B0Tm9kZShmcmFnbWVudCk7XG4gICAgICBjdXN0b21FbGVtZW50cy51cGdyYWRlKGZyYWdtZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIGZyYWdtZW50O1xuICB9XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5cbmltcG9ydCB7cmVwYXJlbnROb2Rlc30gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHtUZW1wbGF0ZVByb2Nlc3Nvcn0gZnJvbSAnLi90ZW1wbGF0ZS1wcm9jZXNzb3IuanMnO1xuaW1wb3J0IHtib3VuZEF0dHJpYnV0ZVN1ZmZpeCwgbGFzdEF0dHJpYnV0ZU5hbWVSZWdleCwgbWFya2VyLCBub2RlTWFya2VyfSBmcm9tICcuL3RlbXBsYXRlLmpzJztcblxuLyoqXG4gKiBUaGUgcmV0dXJuIHR5cGUgb2YgYGh0bWxgLCB3aGljaCBob2xkcyBhIFRlbXBsYXRlIGFuZCB0aGUgdmFsdWVzIGZyb21cbiAqIGludGVycG9sYXRlZCBleHByZXNzaW9ucy5cbiAqL1xuZXhwb3J0IGNsYXNzIFRlbXBsYXRlUmVzdWx0IHtcbiAgcmVhZG9ubHkgc3RyaW5nczogVGVtcGxhdGVTdHJpbmdzQXJyYXk7XG4gIHJlYWRvbmx5IHZhbHVlczogUmVhZG9ubHlBcnJheTx1bmtub3duPjtcbiAgcmVhZG9ubHkgdHlwZTogc3RyaW5nO1xuICByZWFkb25seSBwcm9jZXNzb3I6IFRlbXBsYXRlUHJvY2Vzc29yO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgICAgc3RyaW5nczogVGVtcGxhdGVTdHJpbmdzQXJyYXksIHZhbHVlczogUmVhZG9ubHlBcnJheTx1bmtub3duPixcbiAgICAgIHR5cGU6IHN0cmluZywgcHJvY2Vzc29yOiBUZW1wbGF0ZVByb2Nlc3Nvcikge1xuICAgIHRoaXMuc3RyaW5ncyA9IHN0cmluZ3M7XG4gICAgdGhpcy52YWx1ZXMgPSB2YWx1ZXM7XG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICB0aGlzLnByb2Nlc3NvciA9IHByb2Nlc3NvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgc3RyaW5nIG9mIEhUTUwgdXNlZCB0byBjcmVhdGUgYSBgPHRlbXBsYXRlPmAgZWxlbWVudC5cbiAgICovXG4gIGdldEhUTUwoKTogc3RyaW5nIHtcbiAgICBjb25zdCBsID0gdGhpcy5zdHJpbmdzLmxlbmd0aCAtIDE7XG4gICAgbGV0IGh0bWwgPSAnJztcbiAgICBsZXQgaXNDb21tZW50QmluZGluZyA9IGZhbHNlO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgIGNvbnN0IHMgPSB0aGlzLnN0cmluZ3NbaV07XG4gICAgICAvLyBGb3IgZWFjaCBiaW5kaW5nIHdlIHdhbnQgdG8gZGV0ZXJtaW5lIHRoZSBraW5kIG9mIG1hcmtlciB0byBpbnNlcnRcbiAgICAgIC8vIGludG8gdGhlIHRlbXBsYXRlIHNvdXJjZSBiZWZvcmUgaXQncyBwYXJzZWQgYnkgdGhlIGJyb3dzZXIncyBIVE1MXG4gICAgICAvLyBwYXJzZXIuIFRoZSBtYXJrZXIgdHlwZSBpcyBiYXNlZCBvbiB3aGV0aGVyIHRoZSBleHByZXNzaW9uIGlzIGluIGFuXG4gICAgICAvLyBhdHRyaWJ1dGUsIHRleHQsIG9yIGNvbW1lbnQgcG9pc2l0aW9uLlxuICAgICAgLy8gICAqIEZvciBub2RlLXBvc2l0aW9uIGJpbmRpbmdzIHdlIGluc2VydCBhIGNvbW1lbnQgd2l0aCB0aGUgbWFya2VyXG4gICAgICAvLyAgICAgc2VudGluZWwgYXMgaXRzIHRleHQgY29udGVudCwgbGlrZSA8IS0te3tsaXQtZ3VpZH19LS0+LlxuICAgICAgLy8gICAqIEZvciBhdHRyaWJ1dGUgYmluZGluZ3Mgd2UgaW5zZXJ0IGp1c3QgdGhlIG1hcmtlciBzZW50aW5lbCBmb3IgdGhlXG4gICAgICAvLyAgICAgZmlyc3QgYmluZGluZywgc28gdGhhdCB3ZSBzdXBwb3J0IHVucXVvdGVkIGF0dHJpYnV0ZSBiaW5kaW5ncy5cbiAgICAgIC8vICAgICBTdWJzZXF1ZW50IGJpbmRpbmdzIGNhbiB1c2UgYSBjb21tZW50IG1hcmtlciBiZWNhdXNlIG11bHRpLWJpbmRpbmdcbiAgICAgIC8vICAgICBhdHRyaWJ1dGVzIG11c3QgYmUgcXVvdGVkLlxuICAgICAgLy8gICAqIEZvciBjb21tZW50IGJpbmRpbmdzIHdlIGluc2VydCBqdXN0IHRoZSBtYXJrZXIgc2VudGluZWwgc28gd2UgZG9uJ3RcbiAgICAgIC8vICAgICBjbG9zZSB0aGUgY29tbWVudC5cbiAgICAgIC8vXG4gICAgICAvLyBUaGUgZm9sbG93aW5nIGNvZGUgc2NhbnMgdGhlIHRlbXBsYXRlIHNvdXJjZSwgYnV0IGlzICpub3QqIGFuIEhUTUxcbiAgICAgIC8vIHBhcnNlci4gV2UgZG9uJ3QgbmVlZCB0byB0cmFjayB0aGUgdHJlZSBzdHJ1Y3R1cmUgb2YgdGhlIEhUTUwsIG9ubHlcbiAgICAgIC8vIHdoZXRoZXIgYSBiaW5kaW5nIGlzIGluc2lkZSBhIGNvbW1lbnQsIGFuZCBpZiBub3QsIGlmIGl0IGFwcGVhcnMgdG8gYmVcbiAgICAgIC8vIHRoZSBmaXJzdCBiaW5kaW5nIGluIGFuIGF0dHJpYnV0ZS5cbiAgICAgIGNvbnN0IGNvbW1lbnRPcGVuID0gcy5sYXN0SW5kZXhPZignPCEtLScpO1xuICAgICAgLy8gV2UncmUgaW4gY29tbWVudCBwb3NpdGlvbiBpZiB3ZSBoYXZlIGEgY29tbWVudCBvcGVuIHdpdGggbm8gZm9sbG93aW5nXG4gICAgICAvLyBjb21tZW50IGNsb3NlLiBCZWNhdXNlIDwtLSBjYW4gYXBwZWFyIGluIGFuIGF0dHJpYnV0ZSB2YWx1ZSB0aGVyZSBjYW5cbiAgICAgIC8vIGJlIGZhbHNlIHBvc2l0aXZlcy5cbiAgICAgIGlzQ29tbWVudEJpbmRpbmcgPSAoY29tbWVudE9wZW4gPiAtMSB8fCBpc0NvbW1lbnRCaW5kaW5nKSAmJlxuICAgICAgICAgIHMuaW5kZXhPZignLS0+JywgY29tbWVudE9wZW4gKyAxKSA9PT0gLTE7XG4gICAgICAvLyBDaGVjayB0byBzZWUgaWYgd2UgaGF2ZSBhbiBhdHRyaWJ1dGUtbGlrZSBzZXF1ZW5jZSBwcmVjZWVkaW5nIHRoZVxuICAgICAgLy8gZXhwcmVzc2lvbi4gVGhpcyBjYW4gbWF0Y2ggXCJuYW1lPXZhbHVlXCIgbGlrZSBzdHJ1Y3R1cmVzIGluIHRleHQsXG4gICAgICAvLyBjb21tZW50cywgYW5kIGF0dHJpYnV0ZSB2YWx1ZXMsIHNvIHRoZXJlIGNhbiBiZSBmYWxzZS1wb3NpdGl2ZXMuXG4gICAgICBjb25zdCBhdHRyaWJ1dGVNYXRjaCA9IGxhc3RBdHRyaWJ1dGVOYW1lUmVnZXguZXhlYyhzKTtcbiAgICAgIGlmIChhdHRyaWJ1dGVNYXRjaCA9PT0gbnVsbCkge1xuICAgICAgICAvLyBXZSdyZSBvbmx5IGluIHRoaXMgYnJhbmNoIGlmIHdlIGRvbid0IGhhdmUgYSBhdHRyaWJ1dGUtbGlrZVxuICAgICAgICAvLyBwcmVjZWVkaW5nIHNlcXVlbmNlLiBGb3IgY29tbWVudHMsIHRoaXMgZ3VhcmRzIGFnYWluc3QgdW51c3VhbFxuICAgICAgICAvLyBhdHRyaWJ1dGUgdmFsdWVzIGxpa2UgPGRpdiBmb289XCI8IS0tJHsnYmFyJ31cIj4uIENhc2VzIGxpa2VcbiAgICAgICAgLy8gPCEtLSBmb289JHsnYmFyJ30tLT4gYXJlIGhhbmRsZWQgY29ycmVjdGx5IGluIHRoZSBhdHRyaWJ1dGUgYnJhbmNoXG4gICAgICAgIC8vIGJlbG93LlxuICAgICAgICBodG1sICs9IHMgKyAoaXNDb21tZW50QmluZGluZyA/IG1hcmtlciA6IG5vZGVNYXJrZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRm9yIGF0dHJpYnV0ZXMgd2UgdXNlIGp1c3QgYSBtYXJrZXIgc2VudGluZWwsIGFuZCBhbHNvIGFwcGVuZCBhXG4gICAgICAgIC8vICRsaXQkIHN1ZmZpeCB0byB0aGUgbmFtZSB0byBvcHQtb3V0IG9mIGF0dHJpYnV0ZS1zcGVjaWZpYyBwYXJzaW5nXG4gICAgICAgIC8vIHRoYXQgSUUgYW5kIEVkZ2UgZG8gZm9yIHN0eWxlIGFuZCBjZXJ0YWluIFNWRyBhdHRyaWJ1dGVzLlxuICAgICAgICBodG1sICs9IHMuc3Vic3RyKDAsIGF0dHJpYnV0ZU1hdGNoLmluZGV4KSArIGF0dHJpYnV0ZU1hdGNoWzFdICtcbiAgICAgICAgICAgIGF0dHJpYnV0ZU1hdGNoWzJdICsgYm91bmRBdHRyaWJ1dGVTdWZmaXggKyBhdHRyaWJ1dGVNYXRjaFszXSArXG4gICAgICAgICAgICBtYXJrZXI7XG4gICAgICB9XG4gICAgfVxuICAgIGh0bWwgKz0gdGhpcy5zdHJpbmdzW2xdO1xuICAgIHJldHVybiBodG1sO1xuICB9XG5cbiAgZ2V0VGVtcGxhdGVFbGVtZW50KCk6IEhUTUxUZW1wbGF0ZUVsZW1lbnQge1xuICAgIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbiAgICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSB0aGlzLmdldEhUTUwoKTtcbiAgICByZXR1cm4gdGVtcGxhdGU7XG4gIH1cbn1cblxuLyoqXG4gKiBBIFRlbXBsYXRlUmVzdWx0IGZvciBTVkcgZnJhZ21lbnRzLlxuICpcbiAqIFRoaXMgY2xhc3Mgd3JhcHMgSFRNTCBpbiBhbiBgPHN2Zz5gIHRhZyBpbiBvcmRlciB0byBwYXJzZSBpdHMgY29udGVudHMgaW4gdGhlXG4gKiBTVkcgbmFtZXNwYWNlLCB0aGVuIG1vZGlmaWVzIHRoZSB0ZW1wbGF0ZSB0byByZW1vdmUgdGhlIGA8c3ZnPmAgdGFnIHNvIHRoYXRcbiAqIGNsb25lcyBvbmx5IGNvbnRhaW5lciB0aGUgb3JpZ2luYWwgZnJhZ21lbnQuXG4gKi9cbmV4cG9ydCBjbGFzcyBTVkdUZW1wbGF0ZVJlc3VsdCBleHRlbmRzIFRlbXBsYXRlUmVzdWx0IHtcbiAgZ2V0SFRNTCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBgPHN2Zz4ke3N1cGVyLmdldEhUTUwoKX08L3N2Zz5gO1xuICB9XG5cbiAgZ2V0VGVtcGxhdGVFbGVtZW50KCk6IEhUTUxUZW1wbGF0ZUVsZW1lbnQge1xuICAgIGNvbnN0IHRlbXBsYXRlID0gc3VwZXIuZ2V0VGVtcGxhdGVFbGVtZW50KCk7XG4gICAgY29uc3QgY29udGVudCA9IHRlbXBsYXRlLmNvbnRlbnQ7XG4gICAgY29uc3Qgc3ZnRWxlbWVudCA9IGNvbnRlbnQuZmlyc3RDaGlsZCE7XG4gICAgY29udGVudC5yZW1vdmVDaGlsZChzdmdFbGVtZW50KTtcbiAgICByZXBhcmVudE5vZGVzKGNvbnRlbnQsIHN2Z0VsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgcmV0dXJuIHRlbXBsYXRlO1xuICB9XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5cbmltcG9ydCB7aXNEaXJlY3RpdmV9IGZyb20gJy4vZGlyZWN0aXZlLmpzJztcbmltcG9ydCB7cmVtb3ZlTm9kZXN9IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7bm9DaGFuZ2UsIG5vdGhpbmcsIFBhcnR9IGZyb20gJy4vcGFydC5qcyc7XG5pbXBvcnQge1JlbmRlck9wdGlvbnN9IGZyb20gJy4vcmVuZGVyLW9wdGlvbnMuanMnO1xuaW1wb3J0IHtUZW1wbGF0ZUluc3RhbmNlfSBmcm9tICcuL3RlbXBsYXRlLWluc3RhbmNlLmpzJztcbmltcG9ydCB7VGVtcGxhdGVSZXN1bHR9IGZyb20gJy4vdGVtcGxhdGUtcmVzdWx0LmpzJztcbmltcG9ydCB7Y3JlYXRlTWFya2VyfSBmcm9tICcuL3RlbXBsYXRlLmpzJztcblxuLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtdHlwZW9mLW9wZXJhdG9yXG5leHBvcnQgdHlwZSBQcmltaXRpdmUgPSBudWxsfHVuZGVmaW5lZHxib29sZWFufG51bWJlcnxzdHJpbmd8U3ltYm9sfGJpZ2ludDtcbmV4cG9ydCBjb25zdCBpc1ByaW1pdGl2ZSA9ICh2YWx1ZTogdW5rbm93bik6IHZhbHVlIGlzIFByaW1pdGl2ZSA9PiB7XG4gIHJldHVybiAoXG4gICAgICB2YWx1ZSA9PT0gbnVsbCB8fFxuICAgICAgISh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykpO1xufTtcbmV4cG9ydCBjb25zdCBpc0l0ZXJhYmxlID0gKHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgSXRlcmFibGU8dW5rbm93bj4gPT4ge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgfHxcbiAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgICAgICEhKHZhbHVlICYmICh2YWx1ZSBhcyBhbnkpW1N5bWJvbC5pdGVyYXRvcl0pO1xufTtcblxuLyoqXG4gKiBXcml0ZXMgYXR0cmlidXRlIHZhbHVlcyB0byB0aGUgRE9NIGZvciBhIGdyb3VwIG9mIEF0dHJpYnV0ZVBhcnRzIGJvdW5kIHRvIGFcbiAqIHNpbmdsZSBhdHRpYnV0ZS4gVGhlIHZhbHVlIGlzIG9ubHkgc2V0IG9uY2UgZXZlbiBpZiB0aGVyZSBhcmUgbXVsdGlwbGUgcGFydHNcbiAqIGZvciBhbiBhdHRyaWJ1dGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBBdHRyaWJ1dGVDb21taXR0ZXIge1xuICByZWFkb25seSBlbGVtZW50OiBFbGVtZW50O1xuICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG4gIHJlYWRvbmx5IHN0cmluZ3M6IFJlYWRvbmx5QXJyYXk8c3RyaW5nPjtcbiAgcmVhZG9ubHkgcGFydHM6IFJlYWRvbmx5QXJyYXk8QXR0cmlidXRlUGFydD47XG4gIGRpcnR5ID0gdHJ1ZTtcblxuICBjb25zdHJ1Y3RvcihlbGVtZW50OiBFbGVtZW50LCBuYW1lOiBzdHJpbmcsIHN0cmluZ3M6IFJlYWRvbmx5QXJyYXk8c3RyaW5nPikge1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLnN0cmluZ3MgPSBzdHJpbmdzO1xuICAgIHRoaXMucGFydHMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0cmluZ3MubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAodGhpcy5wYXJ0cyBhcyBBdHRyaWJ1dGVQYXJ0W10pW2ldID0gdGhpcy5fY3JlYXRlUGFydCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgc2luZ2xlIHBhcnQuIE92ZXJyaWRlIHRoaXMgdG8gY3JlYXRlIGEgZGlmZmVybnQgdHlwZSBvZiBwYXJ0LlxuICAgKi9cbiAgcHJvdGVjdGVkIF9jcmVhdGVQYXJ0KCk6IEF0dHJpYnV0ZVBhcnQge1xuICAgIHJldHVybiBuZXcgQXR0cmlidXRlUGFydCh0aGlzKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBfZ2V0VmFsdWUoKTogdW5rbm93biB7XG4gICAgY29uc3Qgc3RyaW5ncyA9IHRoaXMuc3RyaW5ncztcbiAgICBjb25zdCBsID0gc3RyaW5ncy5sZW5ndGggLSAxO1xuICAgIGxldCB0ZXh0ID0gJyc7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgdGV4dCArPSBzdHJpbmdzW2ldO1xuICAgICAgY29uc3QgcGFydCA9IHRoaXMucGFydHNbaV07XG4gICAgICBpZiAocGFydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IHYgPSBwYXJ0LnZhbHVlO1xuICAgICAgICBpZiAoaXNQcmltaXRpdmUodikgfHwgIWlzSXRlcmFibGUodikpIHtcbiAgICAgICAgICB0ZXh0ICs9IHR5cGVvZiB2ID09PSAnc3RyaW5nJyA/IHYgOiBTdHJpbmcodik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9yIChjb25zdCB0IG9mIHYpIHtcbiAgICAgICAgICAgIHRleHQgKz0gdHlwZW9mIHQgPT09ICdzdHJpbmcnID8gdCA6IFN0cmluZyh0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0ZXh0ICs9IHN0cmluZ3NbbF07XG4gICAgcmV0dXJuIHRleHQ7XG4gIH1cblxuICBjb21taXQoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUodGhpcy5uYW1lLCB0aGlzLl9nZXRWYWx1ZSgpIGFzIHN0cmluZyk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQSBQYXJ0IHRoYXQgY29udHJvbHMgYWxsIG9yIHBhcnQgb2YgYW4gYXR0cmlidXRlIHZhbHVlLlxuICovXG5leHBvcnQgY2xhc3MgQXR0cmlidXRlUGFydCBpbXBsZW1lbnRzIFBhcnQge1xuICByZWFkb25seSBjb21taXR0ZXI6IEF0dHJpYnV0ZUNvbW1pdHRlcjtcbiAgdmFsdWU6IHVua25vd24gPSB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3IoY29tbWl0dGVyOiBBdHRyaWJ1dGVDb21taXR0ZXIpIHtcbiAgICB0aGlzLmNvbW1pdHRlciA9IGNvbW1pdHRlcjtcbiAgfVxuXG4gIHNldFZhbHVlKHZhbHVlOiB1bmtub3duKTogdm9pZCB7XG4gICAgaWYgKHZhbHVlICE9PSBub0NoYW5nZSAmJiAoIWlzUHJpbWl0aXZlKHZhbHVlKSB8fCB2YWx1ZSAhPT0gdGhpcy52YWx1ZSkpIHtcbiAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgIC8vIElmIHRoZSB2YWx1ZSBpcyBhIG5vdCBhIGRpcmVjdGl2ZSwgZGlydHkgdGhlIGNvbW1pdHRlciBzbyB0aGF0IGl0J2xsXG4gICAgICAvLyBjYWxsIHNldEF0dHJpYnV0ZS4gSWYgdGhlIHZhbHVlIGlzIGEgZGlyZWN0aXZlLCBpdCdsbCBkaXJ0eSB0aGVcbiAgICAgIC8vIGNvbW1pdHRlciBpZiBpdCBjYWxscyBzZXRWYWx1ZSgpLlxuICAgICAgaWYgKCFpc0RpcmVjdGl2ZSh2YWx1ZSkpIHtcbiAgICAgICAgdGhpcy5jb21taXR0ZXIuZGlydHkgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbW1pdCgpIHtcbiAgICB3aGlsZSAoaXNEaXJlY3RpdmUodGhpcy52YWx1ZSkpIHtcbiAgICAgIGNvbnN0IGRpcmVjdGl2ZSA9IHRoaXMudmFsdWU7XG4gICAgICB0aGlzLnZhbHVlID0gbm9DaGFuZ2U7XG4gICAgICBkaXJlY3RpdmUodGhpcyk7XG4gICAgfVxuICAgIGlmICh0aGlzLnZhbHVlID09PSBub0NoYW5nZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmNvbW1pdHRlci5jb21taXQoKTtcbiAgfVxufVxuXG4vKipcbiAqIEEgUGFydCB0aGF0IGNvbnRyb2xzIGEgbG9jYXRpb24gd2l0aGluIGEgTm9kZSB0cmVlLiBMaWtlIGEgUmFuZ2UsIE5vZGVQYXJ0XG4gKiBoYXMgc3RhcnQgYW5kIGVuZCBsb2NhdGlvbnMgYW5kIGNhbiBzZXQgYW5kIHVwZGF0ZSB0aGUgTm9kZXMgYmV0d2VlbiB0aG9zZVxuICogbG9jYXRpb25zLlxuICpcbiAqIE5vZGVQYXJ0cyBzdXBwb3J0IHNldmVyYWwgdmFsdWUgdHlwZXM6IHByaW1pdGl2ZXMsIE5vZGVzLCBUZW1wbGF0ZVJlc3VsdHMsXG4gKiBhcyB3ZWxsIGFzIGFycmF5cyBhbmQgaXRlcmFibGVzIG9mIHRob3NlIHR5cGVzLlxuICovXG5leHBvcnQgY2xhc3MgTm9kZVBhcnQgaW1wbGVtZW50cyBQYXJ0IHtcbiAgcmVhZG9ubHkgb3B0aW9uczogUmVuZGVyT3B0aW9ucztcbiAgc3RhcnROb2RlITogTm9kZTtcbiAgZW5kTm9kZSE6IE5vZGU7XG4gIHZhbHVlOiB1bmtub3duID0gdW5kZWZpbmVkO1xuICBwcml2YXRlIF9fcGVuZGluZ1ZhbHVlOiB1bmtub3duID0gdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IFJlbmRlck9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGVuZHMgdGhpcyBwYXJ0IGludG8gYSBjb250YWluZXIuXG4gICAqXG4gICAqIFRoaXMgcGFydCBtdXN0IGJlIGVtcHR5LCBhcyBpdHMgY29udGVudHMgYXJlIG5vdCBhdXRvbWF0aWNhbGx5IG1vdmVkLlxuICAgKi9cbiAgYXBwZW5kSW50byhjb250YWluZXI6IE5vZGUpIHtcbiAgICB0aGlzLnN0YXJ0Tm9kZSA9IGNvbnRhaW5lci5hcHBlbmRDaGlsZChjcmVhdGVNYXJrZXIoKSk7XG4gICAgdGhpcy5lbmROb2RlID0gY29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZU1hcmtlcigpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnNlcnRzIHRoaXMgcGFydCBhZnRlciB0aGUgYHJlZmAgbm9kZSAoYmV0d2VlbiBgcmVmYCBhbmQgYHJlZmAncyBuZXh0XG4gICAqIHNpYmxpbmcpLiBCb3RoIGByZWZgIGFuZCBpdHMgbmV4dCBzaWJsaW5nIG11c3QgYmUgc3RhdGljLCB1bmNoYW5naW5nIG5vZGVzXG4gICAqIHN1Y2ggYXMgdGhvc2UgdGhhdCBhcHBlYXIgaW4gYSBsaXRlcmFsIHNlY3Rpb24gb2YgYSB0ZW1wbGF0ZS5cbiAgICpcbiAgICogVGhpcyBwYXJ0IG11c3QgYmUgZW1wdHksIGFzIGl0cyBjb250ZW50cyBhcmUgbm90IGF1dG9tYXRpY2FsbHkgbW92ZWQuXG4gICAqL1xuICBpbnNlcnRBZnRlck5vZGUocmVmOiBOb2RlKSB7XG4gICAgdGhpcy5zdGFydE5vZGUgPSByZWY7XG4gICAgdGhpcy5lbmROb2RlID0gcmVmLm5leHRTaWJsaW5nITtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBlbmRzIHRoaXMgcGFydCBpbnRvIGEgcGFyZW50IHBhcnQuXG4gICAqXG4gICAqIFRoaXMgcGFydCBtdXN0IGJlIGVtcHR5LCBhcyBpdHMgY29udGVudHMgYXJlIG5vdCBhdXRvbWF0aWNhbGx5IG1vdmVkLlxuICAgKi9cbiAgYXBwZW5kSW50b1BhcnQocGFydDogTm9kZVBhcnQpIHtcbiAgICBwYXJ0Ll9faW5zZXJ0KHRoaXMuc3RhcnROb2RlID0gY3JlYXRlTWFya2VyKCkpO1xuICAgIHBhcnQuX19pbnNlcnQodGhpcy5lbmROb2RlID0gY3JlYXRlTWFya2VyKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluc2VydHMgdGhpcyBwYXJ0IGFmdGVyIHRoZSBgcmVmYCBwYXJ0LlxuICAgKlxuICAgKiBUaGlzIHBhcnQgbXVzdCBiZSBlbXB0eSwgYXMgaXRzIGNvbnRlbnRzIGFyZSBub3QgYXV0b21hdGljYWxseSBtb3ZlZC5cbiAgICovXG4gIGluc2VydEFmdGVyUGFydChyZWY6IE5vZGVQYXJ0KSB7XG4gICAgcmVmLl9faW5zZXJ0KHRoaXMuc3RhcnROb2RlID0gY3JlYXRlTWFya2VyKCkpO1xuICAgIHRoaXMuZW5kTm9kZSA9IHJlZi5lbmROb2RlO1xuICAgIHJlZi5lbmROb2RlID0gdGhpcy5zdGFydE5vZGU7XG4gIH1cblxuICBzZXRWYWx1ZSh2YWx1ZTogdW5rbm93bik6IHZvaWQge1xuICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSB2YWx1ZTtcbiAgfVxuXG4gIGNvbW1pdCgpIHtcbiAgICB3aGlsZSAoaXNEaXJlY3RpdmUodGhpcy5fX3BlbmRpbmdWYWx1ZSkpIHtcbiAgICAgIGNvbnN0IGRpcmVjdGl2ZSA9IHRoaXMuX19wZW5kaW5nVmFsdWU7XG4gICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gbm9DaGFuZ2U7XG4gICAgICBkaXJlY3RpdmUodGhpcyk7XG4gICAgfVxuICAgIGNvbnN0IHZhbHVlID0gdGhpcy5fX3BlbmRpbmdWYWx1ZTtcbiAgICBpZiAodmFsdWUgPT09IG5vQ2hhbmdlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpc1ByaW1pdGl2ZSh2YWx1ZSkpIHtcbiAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy52YWx1ZSkge1xuICAgICAgICB0aGlzLl9fY29tbWl0VGV4dCh2YWx1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFRlbXBsYXRlUmVzdWx0KSB7XG4gICAgICB0aGlzLl9fY29tbWl0VGVtcGxhdGVSZXN1bHQodmFsdWUpO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBOb2RlKSB7XG4gICAgICB0aGlzLl9fY29tbWl0Tm9kZSh2YWx1ZSk7XG4gICAgfSBlbHNlIGlmIChpc0l0ZXJhYmxlKHZhbHVlKSkge1xuICAgICAgdGhpcy5fX2NvbW1pdEl0ZXJhYmxlKHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlID09PSBub3RoaW5nKSB7XG4gICAgICB0aGlzLnZhbHVlID0gbm90aGluZztcbiAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRmFsbGJhY2ssIHdpbGwgcmVuZGVyIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICAgIHRoaXMuX19jb21taXRUZXh0KHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9faW5zZXJ0KG5vZGU6IE5vZGUpIHtcbiAgICB0aGlzLmVuZE5vZGUucGFyZW50Tm9kZSEuaW5zZXJ0QmVmb3JlKG5vZGUsIHRoaXMuZW5kTm9kZSk7XG4gIH1cblxuICBwcml2YXRlIF9fY29tbWl0Tm9kZSh2YWx1ZTogTm9kZSk6IHZvaWQge1xuICAgIGlmICh0aGlzLnZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmNsZWFyKCk7XG4gICAgdGhpcy5fX2luc2VydCh2YWx1ZSk7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICB9XG5cbiAgcHJpdmF0ZSBfX2NvbW1pdFRleHQodmFsdWU6IHVua25vd24pOiB2b2lkIHtcbiAgICBjb25zdCBub2RlID0gdGhpcy5zdGFydE5vZGUubmV4dFNpYmxpbmchO1xuICAgIHZhbHVlID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XG4gICAgaWYgKG5vZGUgPT09IHRoaXMuZW5kTm9kZS5wcmV2aW91c1NpYmxpbmcgJiZcbiAgICAgICAgbm9kZS5ub2RlVHlwZSA9PT0gMyAvKiBOb2RlLlRFWFRfTk9ERSAqLykge1xuICAgICAgLy8gSWYgd2Ugb25seSBoYXZlIGEgc2luZ2xlIHRleHQgbm9kZSBiZXR3ZWVuIHRoZSBtYXJrZXJzLCB3ZSBjYW4ganVzdFxuICAgICAgLy8gc2V0IGl0cyB2YWx1ZSwgcmF0aGVyIHRoYW4gcmVwbGFjaW5nIGl0LlxuICAgICAgLy8gVE9ETyhqdXN0aW5mYWduYW5pKTogQ2FuIHdlIGp1c3QgY2hlY2sgaWYgdGhpcy52YWx1ZSBpcyBwcmltaXRpdmU/XG4gICAgICAobm9kZSBhcyBUZXh0KS5kYXRhID0gdmFsdWUgYXMgc3RyaW5nO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9fY29tbWl0Tm9kZShkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcbiAgICAgICAgICB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gdmFsdWUgOiBTdHJpbmcodmFsdWUpKSk7XG4gICAgfVxuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgfVxuXG4gIHByaXZhdGUgX19jb21taXRUZW1wbGF0ZVJlc3VsdCh2YWx1ZTogVGVtcGxhdGVSZXN1bHQpOiB2b2lkIHtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IHRoaXMub3B0aW9ucy50ZW1wbGF0ZUZhY3RvcnkodmFsdWUpO1xuICAgIGlmICh0aGlzLnZhbHVlIGluc3RhbmNlb2YgVGVtcGxhdGVJbnN0YW5jZSAmJlxuICAgICAgICB0aGlzLnZhbHVlLnRlbXBsYXRlID09PSB0ZW1wbGF0ZSkge1xuICAgICAgdGhpcy52YWx1ZS51cGRhdGUodmFsdWUudmFsdWVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTWFrZSBzdXJlIHdlIHByb3BhZ2F0ZSB0aGUgdGVtcGxhdGUgcHJvY2Vzc29yIGZyb20gdGhlIFRlbXBsYXRlUmVzdWx0XG4gICAgICAvLyBzbyB0aGF0IHdlIHVzZSBpdHMgc3ludGF4IGV4dGVuc2lvbiwgZXRjLiBUaGUgdGVtcGxhdGUgZmFjdG9yeSBjb21lc1xuICAgICAgLy8gZnJvbSB0aGUgcmVuZGVyIGZ1bmN0aW9uIG9wdGlvbnMgc28gdGhhdCBpdCBjYW4gY29udHJvbCB0ZW1wbGF0ZVxuICAgICAgLy8gY2FjaGluZyBhbmQgcHJlcHJvY2Vzc2luZy5cbiAgICAgIGNvbnN0IGluc3RhbmNlID1cbiAgICAgICAgICBuZXcgVGVtcGxhdGVJbnN0YW5jZSh0ZW1wbGF0ZSwgdmFsdWUucHJvY2Vzc29yLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgY29uc3QgZnJhZ21lbnQgPSBpbnN0YW5jZS5fY2xvbmUoKTtcbiAgICAgIGluc3RhbmNlLnVwZGF0ZSh2YWx1ZS52YWx1ZXMpO1xuICAgICAgdGhpcy5fX2NvbW1pdE5vZGUoZnJhZ21lbnQpO1xuICAgICAgdGhpcy52YWx1ZSA9IGluc3RhbmNlO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX19jb21taXRJdGVyYWJsZSh2YWx1ZTogSXRlcmFibGU8dW5rbm93bj4pOiB2b2lkIHtcbiAgICAvLyBGb3IgYW4gSXRlcmFibGUsIHdlIGNyZWF0ZSBhIG5ldyBJbnN0YW5jZVBhcnQgcGVyIGl0ZW0sIHRoZW4gc2V0IGl0c1xuICAgIC8vIHZhbHVlIHRvIHRoZSBpdGVtLiBUaGlzIGlzIGEgbGl0dGxlIGJpdCBvZiBvdmVyaGVhZCBmb3IgZXZlcnkgaXRlbSBpblxuICAgIC8vIGFuIEl0ZXJhYmxlLCBidXQgaXQgbGV0cyB1cyByZWN1cnNlIGVhc2lseSBhbmQgZWZmaWNpZW50bHkgdXBkYXRlIEFycmF5c1xuICAgIC8vIG9mIFRlbXBsYXRlUmVzdWx0cyB0aGF0IHdpbGwgYmUgY29tbW9ubHkgcmV0dXJuZWQgZnJvbSBleHByZXNzaW9ucyBsaWtlOlxuICAgIC8vIGFycmF5Lm1hcCgoaSkgPT4gaHRtbGAke2l9YCksIGJ5IHJldXNpbmcgZXhpc3RpbmcgVGVtcGxhdGVJbnN0YW5jZXMuXG5cbiAgICAvLyBJZiBfdmFsdWUgaXMgYW4gYXJyYXksIHRoZW4gdGhlIHByZXZpb3VzIHJlbmRlciB3YXMgb2YgYW5cbiAgICAvLyBpdGVyYWJsZSBhbmQgX3ZhbHVlIHdpbGwgY29udGFpbiB0aGUgTm9kZVBhcnRzIGZyb20gdGhlIHByZXZpb3VzXG4gICAgLy8gcmVuZGVyLiBJZiBfdmFsdWUgaXMgbm90IGFuIGFycmF5LCBjbGVhciB0aGlzIHBhcnQgYW5kIG1ha2UgYSBuZXdcbiAgICAvLyBhcnJheSBmb3IgTm9kZVBhcnRzLlxuICAgIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLnZhbHVlKSkge1xuICAgICAgdGhpcy52YWx1ZSA9IFtdO1xuICAgICAgdGhpcy5jbGVhcigpO1xuICAgIH1cblxuICAgIC8vIExldHMgdXMga2VlcCB0cmFjayBvZiBob3cgbWFueSBpdGVtcyB3ZSBzdGFtcGVkIHNvIHdlIGNhbiBjbGVhciBsZWZ0b3ZlclxuICAgIC8vIGl0ZW1zIGZyb20gYSBwcmV2aW91cyByZW5kZXJcbiAgICBjb25zdCBpdGVtUGFydHMgPSB0aGlzLnZhbHVlIGFzIE5vZGVQYXJ0W107XG4gICAgbGV0IHBhcnRJbmRleCA9IDA7XG4gICAgbGV0IGl0ZW1QYXJ0OiBOb2RlUGFydHx1bmRlZmluZWQ7XG5cbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdmFsdWUpIHtcbiAgICAgIC8vIFRyeSB0byByZXVzZSBhbiBleGlzdGluZyBwYXJ0XG4gICAgICBpdGVtUGFydCA9IGl0ZW1QYXJ0c1twYXJ0SW5kZXhdO1xuXG4gICAgICAvLyBJZiBubyBleGlzdGluZyBwYXJ0LCBjcmVhdGUgYSBuZXcgb25lXG4gICAgICBpZiAoaXRlbVBhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpdGVtUGFydCA9IG5ldyBOb2RlUGFydCh0aGlzLm9wdGlvbnMpO1xuICAgICAgICBpdGVtUGFydHMucHVzaChpdGVtUGFydCk7XG4gICAgICAgIGlmIChwYXJ0SW5kZXggPT09IDApIHtcbiAgICAgICAgICBpdGVtUGFydC5hcHBlbmRJbnRvUGFydCh0aGlzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtUGFydC5pbnNlcnRBZnRlclBhcnQoaXRlbVBhcnRzW3BhcnRJbmRleCAtIDFdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaXRlbVBhcnQuc2V0VmFsdWUoaXRlbSk7XG4gICAgICBpdGVtUGFydC5jb21taXQoKTtcbiAgICAgIHBhcnRJbmRleCsrO1xuICAgIH1cblxuICAgIGlmIChwYXJ0SW5kZXggPCBpdGVtUGFydHMubGVuZ3RoKSB7XG4gICAgICAvLyBUcnVuY2F0ZSB0aGUgcGFydHMgYXJyYXkgc28gX3ZhbHVlIHJlZmxlY3RzIHRoZSBjdXJyZW50IHN0YXRlXG4gICAgICBpdGVtUGFydHMubGVuZ3RoID0gcGFydEluZGV4O1xuICAgICAgdGhpcy5jbGVhcihpdGVtUGFydCAmJiBpdGVtUGFydC5lbmROb2RlKTtcbiAgICB9XG4gIH1cblxuICBjbGVhcihzdGFydE5vZGU6IE5vZGUgPSB0aGlzLnN0YXJ0Tm9kZSkge1xuICAgIHJlbW92ZU5vZGVzKFxuICAgICAgICB0aGlzLnN0YXJ0Tm9kZS5wYXJlbnROb2RlISwgc3RhcnROb2RlLm5leHRTaWJsaW5nISwgdGhpcy5lbmROb2RlKTtcbiAgfVxufVxuXG4vKipcbiAqIEltcGxlbWVudHMgYSBib29sZWFuIGF0dHJpYnV0ZSwgcm91Z2hseSBhcyBkZWZpbmVkIGluIHRoZSBIVE1MXG4gKiBzcGVjaWZpY2F0aW9uLlxuICpcbiAqIElmIHRoZSB2YWx1ZSBpcyB0cnV0aHksIHRoZW4gdGhlIGF0dHJpYnV0ZSBpcyBwcmVzZW50IHdpdGggYSB2YWx1ZSBvZlxuICogJycuIElmIHRoZSB2YWx1ZSBpcyBmYWxzZXksIHRoZSBhdHRyaWJ1dGUgaXMgcmVtb3ZlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIEJvb2xlYW5BdHRyaWJ1dGVQYXJ0IGltcGxlbWVudHMgUGFydCB7XG4gIHJlYWRvbmx5IGVsZW1lbnQ6IEVsZW1lbnQ7XG4gIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcbiAgcmVhZG9ubHkgc3RyaW5nczogUmVhZG9ubHlBcnJheTxzdHJpbmc+O1xuICB2YWx1ZTogdW5rbm93biA9IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBfX3BlbmRpbmdWYWx1ZTogdW5rbm93biA9IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihlbGVtZW50OiBFbGVtZW50LCBuYW1lOiBzdHJpbmcsIHN0cmluZ3M6IFJlYWRvbmx5QXJyYXk8c3RyaW5nPikge1xuICAgIGlmIChzdHJpbmdzLmxlbmd0aCAhPT0gMiB8fCBzdHJpbmdzWzBdICE9PSAnJyB8fCBzdHJpbmdzWzFdICE9PSAnJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICdCb29sZWFuIGF0dHJpYnV0ZXMgY2FuIG9ubHkgY29udGFpbiBhIHNpbmdsZSBleHByZXNzaW9uJyk7XG4gICAgfVxuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLnN0cmluZ3MgPSBzdHJpbmdzO1xuICB9XG5cbiAgc2V0VmFsdWUodmFsdWU6IHVua25vd24pOiB2b2lkIHtcbiAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gdmFsdWU7XG4gIH1cblxuICBjb21taXQoKSB7XG4gICAgd2hpbGUgKGlzRGlyZWN0aXZlKHRoaXMuX19wZW5kaW5nVmFsdWUpKSB7XG4gICAgICBjb25zdCBkaXJlY3RpdmUgPSB0aGlzLl9fcGVuZGluZ1ZhbHVlO1xuICAgICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IG5vQ2hhbmdlO1xuICAgICAgZGlyZWN0aXZlKHRoaXMpO1xuICAgIH1cbiAgICBpZiAodGhpcy5fX3BlbmRpbmdWYWx1ZSA9PT0gbm9DaGFuZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdmFsdWUgPSAhIXRoaXMuX19wZW5kaW5nVmFsdWU7XG4gICAgaWYgKHRoaXMudmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSh0aGlzLm5hbWUsICcnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUodGhpcy5uYW1lKTtcbiAgICAgIH1cbiAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IG5vQ2hhbmdlO1xuICB9XG59XG5cbi8qKlxuICogU2V0cyBhdHRyaWJ1dGUgdmFsdWVzIGZvciBQcm9wZXJ0eVBhcnRzLCBzbyB0aGF0IHRoZSB2YWx1ZSBpcyBvbmx5IHNldCBvbmNlXG4gKiBldmVuIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSBwYXJ0cyBmb3IgYSBwcm9wZXJ0eS5cbiAqXG4gKiBJZiBhbiBleHByZXNzaW9uIGNvbnRyb2xzIHRoZSB3aG9sZSBwcm9wZXJ0eSB2YWx1ZSwgdGhlbiB0aGUgdmFsdWUgaXMgc2ltcGx5XG4gKiBhc3NpZ25lZCB0byB0aGUgcHJvcGVydHkgdW5kZXIgY29udHJvbC4gSWYgdGhlcmUgYXJlIHN0cmluZyBsaXRlcmFscyBvclxuICogbXVsdGlwbGUgZXhwcmVzc2lvbnMsIHRoZW4gdGhlIHN0cmluZ3MgYXJlIGV4cHJlc3Npb25zIGFyZSBpbnRlcnBvbGF0ZWQgaW50b1xuICogYSBzdHJpbmcgZmlyc3QuXG4gKi9cbmV4cG9ydCBjbGFzcyBQcm9wZXJ0eUNvbW1pdHRlciBleHRlbmRzIEF0dHJpYnV0ZUNvbW1pdHRlciB7XG4gIHJlYWRvbmx5IHNpbmdsZTogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcihlbGVtZW50OiBFbGVtZW50LCBuYW1lOiBzdHJpbmcsIHN0cmluZ3M6IFJlYWRvbmx5QXJyYXk8c3RyaW5nPikge1xuICAgIHN1cGVyKGVsZW1lbnQsIG5hbWUsIHN0cmluZ3MpO1xuICAgIHRoaXMuc2luZ2xlID1cbiAgICAgICAgKHN0cmluZ3MubGVuZ3RoID09PSAyICYmIHN0cmluZ3NbMF0gPT09ICcnICYmIHN0cmluZ3NbMV0gPT09ICcnKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBfY3JlYXRlUGFydCgpOiBQcm9wZXJ0eVBhcnQge1xuICAgIHJldHVybiBuZXcgUHJvcGVydHlQYXJ0KHRoaXMpO1xuICB9XG5cbiAgcHJvdGVjdGVkIF9nZXRWYWx1ZSgpIHtcbiAgICBpZiAodGhpcy5zaW5nbGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnBhcnRzWzBdLnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gc3VwZXIuX2dldFZhbHVlKCk7XG4gIH1cblxuICBjb21taXQoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgICAgICh0aGlzLmVsZW1lbnQgYXMgYW55KVt0aGlzLm5hbWVdID0gdGhpcy5fZ2V0VmFsdWUoKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFByb3BlcnR5UGFydCBleHRlbmRzIEF0dHJpYnV0ZVBhcnQge31cblxuLy8gRGV0ZWN0IGV2ZW50IGxpc3RlbmVyIG9wdGlvbnMgc3VwcG9ydC4gSWYgdGhlIGBjYXB0dXJlYCBwcm9wZXJ0eSBpcyByZWFkXG4vLyBmcm9tIHRoZSBvcHRpb25zIG9iamVjdCwgdGhlbiBvcHRpb25zIGFyZSBzdXBwb3J0ZWQuIElmIG5vdCwgdGhlbiB0aGUgdGhyaWRcbi8vIGFyZ3VtZW50IHRvIGFkZC9yZW1vdmVFdmVudExpc3RlbmVyIGlzIGludGVycHJldGVkIGFzIHRoZSBib29sZWFuIGNhcHR1cmVcbi8vIHZhbHVlIHNvIHdlIHNob3VsZCBvbmx5IHBhc3MgdGhlIGBjYXB0dXJlYCBwcm9wZXJ0eS5cbmxldCBldmVudE9wdGlvbnNTdXBwb3J0ZWQgPSBmYWxzZTtcblxudHJ5IHtcbiAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICBnZXQgY2FwdHVyZSgpIHtcbiAgICAgIGV2ZW50T3B0aW9uc1N1cHBvcnRlZCA9IHRydWU7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0ZXN0Jywgb3B0aW9ucyBhcyBhbnksIG9wdGlvbnMpO1xuICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG4gIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0ZXN0Jywgb3B0aW9ucyBhcyBhbnksIG9wdGlvbnMpO1xufSBjYXRjaCAoX2UpIHtcbn1cblxuXG50eXBlIEV2ZW50SGFuZGxlcldpdGhPcHRpb25zID1cbiAgICBFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0JlBhcnRpYWw8QWRkRXZlbnRMaXN0ZW5lck9wdGlvbnM+O1xuZXhwb3J0IGNsYXNzIEV2ZW50UGFydCBpbXBsZW1lbnRzIFBhcnQge1xuICByZWFkb25seSBlbGVtZW50OiBFbGVtZW50O1xuICByZWFkb25seSBldmVudE5hbWU6IHN0cmluZztcbiAgcmVhZG9ubHkgZXZlbnRDb250ZXh0PzogRXZlbnRUYXJnZXQ7XG4gIHZhbHVlOiB1bmRlZmluZWR8RXZlbnRIYW5kbGVyV2l0aE9wdGlvbnMgPSB1bmRlZmluZWQ7XG4gIHByaXZhdGUgX19vcHRpb25zPzogQWRkRXZlbnRMaXN0ZW5lck9wdGlvbnM7XG4gIHByaXZhdGUgX19wZW5kaW5nVmFsdWU6IHVuZGVmaW5lZHxFdmVudEhhbmRsZXJXaXRoT3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSByZWFkb25seSBfX2JvdW5kSGFuZGxlRXZlbnQ6IChldmVudDogRXZlbnQpID0+IHZvaWQ7XG5cbiAgY29uc3RydWN0b3IoZWxlbWVudDogRWxlbWVudCwgZXZlbnROYW1lOiBzdHJpbmcsIGV2ZW50Q29udGV4dD86IEV2ZW50VGFyZ2V0KSB7XG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLmV2ZW50TmFtZSA9IGV2ZW50TmFtZTtcbiAgICB0aGlzLmV2ZW50Q29udGV4dCA9IGV2ZW50Q29udGV4dDtcbiAgICB0aGlzLl9fYm91bmRIYW5kbGVFdmVudCA9IChlKSA9PiB0aGlzLmhhbmRsZUV2ZW50KGUpO1xuICB9XG5cbiAgc2V0VmFsdWUodmFsdWU6IHVuZGVmaW5lZHxFdmVudEhhbmRsZXJXaXRoT3B0aW9ucyk6IHZvaWQge1xuICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSB2YWx1ZTtcbiAgfVxuXG4gIGNvbW1pdCgpIHtcbiAgICB3aGlsZSAoaXNEaXJlY3RpdmUodGhpcy5fX3BlbmRpbmdWYWx1ZSkpIHtcbiAgICAgIGNvbnN0IGRpcmVjdGl2ZSA9IHRoaXMuX19wZW5kaW5nVmFsdWU7XG4gICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gbm9DaGFuZ2UgYXMgRXZlbnRIYW5kbGVyV2l0aE9wdGlvbnM7XG4gICAgICBkaXJlY3RpdmUodGhpcyk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9fcGVuZGluZ1ZhbHVlID09PSBub0NoYW5nZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG5ld0xpc3RlbmVyID0gdGhpcy5fX3BlbmRpbmdWYWx1ZTtcbiAgICBjb25zdCBvbGRMaXN0ZW5lciA9IHRoaXMudmFsdWU7XG4gICAgY29uc3Qgc2hvdWxkUmVtb3ZlTGlzdGVuZXIgPSBuZXdMaXN0ZW5lciA9PSBudWxsIHx8XG4gICAgICAgIG9sZExpc3RlbmVyICE9IG51bGwgJiZcbiAgICAgICAgICAgIChuZXdMaXN0ZW5lci5jYXB0dXJlICE9PSBvbGRMaXN0ZW5lci5jYXB0dXJlIHx8XG4gICAgICAgICAgICAgbmV3TGlzdGVuZXIub25jZSAhPT0gb2xkTGlzdGVuZXIub25jZSB8fFxuICAgICAgICAgICAgIG5ld0xpc3RlbmVyLnBhc3NpdmUgIT09IG9sZExpc3RlbmVyLnBhc3NpdmUpO1xuICAgIGNvbnN0IHNob3VsZEFkZExpc3RlbmVyID1cbiAgICAgICAgbmV3TGlzdGVuZXIgIT0gbnVsbCAmJiAob2xkTGlzdGVuZXIgPT0gbnVsbCB8fCBzaG91bGRSZW1vdmVMaXN0ZW5lcik7XG5cbiAgICBpZiAoc2hvdWxkUmVtb3ZlTGlzdGVuZXIpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAgIHRoaXMuZXZlbnROYW1lLCB0aGlzLl9fYm91bmRIYW5kbGVFdmVudCwgdGhpcy5fX29wdGlvbnMpO1xuICAgIH1cbiAgICBpZiAoc2hvdWxkQWRkTGlzdGVuZXIpIHtcbiAgICAgIHRoaXMuX19vcHRpb25zID0gZ2V0T3B0aW9ucyhuZXdMaXN0ZW5lcik7XG4gICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICB0aGlzLmV2ZW50TmFtZSwgdGhpcy5fX2JvdW5kSGFuZGxlRXZlbnQsIHRoaXMuX19vcHRpb25zKTtcbiAgICB9XG4gICAgdGhpcy52YWx1ZSA9IG5ld0xpc3RlbmVyO1xuICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSBub0NoYW5nZSBhcyBFdmVudEhhbmRsZXJXaXRoT3B0aW9ucztcbiAgfVxuXG4gIGhhbmRsZUV2ZW50KGV2ZW50OiBFdmVudCkge1xuICAgIGlmICh0eXBlb2YgdGhpcy52YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy52YWx1ZS5jYWxsKHRoaXMuZXZlbnRDb250ZXh0IHx8IHRoaXMuZWxlbWVudCwgZXZlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAodGhpcy52YWx1ZSBhcyBFdmVudExpc3RlbmVyT2JqZWN0KS5oYW5kbGVFdmVudChldmVudCk7XG4gICAgfVxuICB9XG59XG5cbi8vIFdlIGNvcHkgb3B0aW9ucyBiZWNhdXNlIG9mIHRoZSBpbmNvbnNpc3RlbnQgYmVoYXZpb3Igb2YgYnJvd3NlcnMgd2hlbiByZWFkaW5nXG4vLyB0aGUgdGhpcmQgYXJndW1lbnQgb2YgYWRkL3JlbW92ZUV2ZW50TGlzdGVuZXIuIElFMTEgZG9lc24ndCBzdXBwb3J0IG9wdGlvbnNcbi8vIGF0IGFsbC4gQ2hyb21lIDQxIG9ubHkgcmVhZHMgYGNhcHR1cmVgIGlmIHRoZSBhcmd1bWVudCBpcyBhbiBvYmplY3QuXG5jb25zdCBnZXRPcHRpb25zID0gKG86IEFkZEV2ZW50TGlzdGVuZXJPcHRpb25zfHVuZGVmaW5lZCkgPT4gbyAmJlxuICAgIChldmVudE9wdGlvbnNTdXBwb3J0ZWQgP1xuICAgICAgICAge2NhcHR1cmU6IG8uY2FwdHVyZSwgcGFzc2l2ZTogby5wYXNzaXZlLCBvbmNlOiBvLm9uY2V9IDpcbiAgICAgICAgIG8uY2FwdHVyZSBhcyBBZGRFdmVudExpc3RlbmVyT3B0aW9ucyk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5cbmltcG9ydCB7UGFydH0gZnJvbSAnLi9wYXJ0LmpzJztcbmltcG9ydCB7QXR0cmlidXRlQ29tbWl0dGVyLCBCb29sZWFuQXR0cmlidXRlUGFydCwgRXZlbnRQYXJ0LCBOb2RlUGFydCwgUHJvcGVydHlDb21taXR0ZXJ9IGZyb20gJy4vcGFydHMuanMnO1xuaW1wb3J0IHtSZW5kZXJPcHRpb25zfSBmcm9tICcuL3JlbmRlci1vcHRpb25zLmpzJztcbmltcG9ydCB7VGVtcGxhdGVQcm9jZXNzb3J9IGZyb20gJy4vdGVtcGxhdGUtcHJvY2Vzc29yLmpzJztcblxuLyoqXG4gKiBDcmVhdGVzIFBhcnRzIHdoZW4gYSB0ZW1wbGF0ZSBpcyBpbnN0YW50aWF0ZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBEZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IgaW1wbGVtZW50cyBUZW1wbGF0ZVByb2Nlc3NvciB7XG4gIC8qKlxuICAgKiBDcmVhdGUgcGFydHMgZm9yIGFuIGF0dHJpYnV0ZS1wb3NpdGlvbiBiaW5kaW5nLCBnaXZlbiB0aGUgZXZlbnQsIGF0dHJpYnV0ZVxuICAgKiBuYW1lLCBhbmQgc3RyaW5nIGxpdGVyYWxzLlxuICAgKlxuICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgZWxlbWVudCBjb250YWluaW5nIHRoZSBiaW5kaW5nXG4gICAqIEBwYXJhbSBuYW1lICBUaGUgYXR0cmlidXRlIG5hbWVcbiAgICogQHBhcmFtIHN0cmluZ3MgVGhlIHN0cmluZyBsaXRlcmFscy4gVGhlcmUgYXJlIGFsd2F5cyBhdCBsZWFzdCB0d28gc3RyaW5ncyxcbiAgICogICBldmVudCBmb3IgZnVsbHktY29udHJvbGxlZCBiaW5kaW5ncyB3aXRoIGEgc2luZ2xlIGV4cHJlc3Npb24uXG4gICAqL1xuICBoYW5kbGVBdHRyaWJ1dGVFeHByZXNzaW9ucyhcbiAgICAgIGVsZW1lbnQ6IEVsZW1lbnQsIG5hbWU6IHN0cmluZywgc3RyaW5nczogc3RyaW5nW10sXG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zKTogUmVhZG9ubHlBcnJheTxQYXJ0PiB7XG4gICAgY29uc3QgcHJlZml4ID0gbmFtZVswXTtcbiAgICBpZiAocHJlZml4ID09PSAnLicpIHtcbiAgICAgIGNvbnN0IGNvbW1pdHRlciA9IG5ldyBQcm9wZXJ0eUNvbW1pdHRlcihlbGVtZW50LCBuYW1lLnNsaWNlKDEpLCBzdHJpbmdzKTtcbiAgICAgIHJldHVybiBjb21taXR0ZXIucGFydHM7XG4gICAgfVxuICAgIGlmIChwcmVmaXggPT09ICdAJykge1xuICAgICAgcmV0dXJuIFtuZXcgRXZlbnRQYXJ0KGVsZW1lbnQsIG5hbWUuc2xpY2UoMSksIG9wdGlvbnMuZXZlbnRDb250ZXh0KV07XG4gICAgfVxuICAgIGlmIChwcmVmaXggPT09ICc/Jykge1xuICAgICAgcmV0dXJuIFtuZXcgQm9vbGVhbkF0dHJpYnV0ZVBhcnQoZWxlbWVudCwgbmFtZS5zbGljZSgxKSwgc3RyaW5ncyldO1xuICAgIH1cbiAgICBjb25zdCBjb21taXR0ZXIgPSBuZXcgQXR0cmlidXRlQ29tbWl0dGVyKGVsZW1lbnQsIG5hbWUsIHN0cmluZ3MpO1xuICAgIHJldHVybiBjb21taXR0ZXIucGFydHM7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBwYXJ0cyBmb3IgYSB0ZXh0LXBvc2l0aW9uIGJpbmRpbmcuXG4gICAqIEBwYXJhbSB0ZW1wbGF0ZUZhY3RvcnlcbiAgICovXG4gIGhhbmRsZVRleHRFeHByZXNzaW9uKG9wdGlvbnM6IFJlbmRlck9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IE5vZGVQYXJ0KG9wdGlvbnMpO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IgPSBuZXcgRGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yKCk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5cbmltcG9ydCB7VGVtcGxhdGVSZXN1bHR9IGZyb20gJy4vdGVtcGxhdGUtcmVzdWx0LmpzJztcbmltcG9ydCB7bWFya2VyLCBUZW1wbGF0ZX0gZnJvbSAnLi90ZW1wbGF0ZS5qcyc7XG5cbi8qKlxuICogQSBmdW5jdGlvbiB0eXBlIHRoYXQgY3JlYXRlcyBhIFRlbXBsYXRlIGZyb20gYSBUZW1wbGF0ZVJlc3VsdC5cbiAqXG4gKiBUaGlzIGlzIGEgaG9vayBpbnRvIHRoZSB0ZW1wbGF0ZS1jcmVhdGlvbiBwcm9jZXNzIGZvciByZW5kZXJpbmcgdGhhdFxuICogcmVxdWlyZXMgc29tZSBtb2RpZmljYXRpb24gb2YgdGVtcGxhdGVzIGJlZm9yZSB0aGV5J3JlIHVzZWQsIGxpa2UgU2hhZHlDU1MsXG4gKiB3aGljaCBtdXN0IGFkZCBjbGFzc2VzIHRvIGVsZW1lbnRzIGFuZCByZW1vdmUgc3R5bGVzLlxuICpcbiAqIFRlbXBsYXRlcyBzaG91bGQgYmUgY2FjaGVkIGFzIGFnZ3Jlc3NpdmVseSBhcyBwb3NzaWJsZSwgc28gdGhhdCBtYW55XG4gKiBUZW1wbGF0ZVJlc3VsdHMgcHJvZHVjZWQgZnJvbSB0aGUgc2FtZSBleHByZXNzaW9uIG9ubHkgZG8gdGhlIHdvcmsgb2ZcbiAqIGNyZWF0aW5nIHRoZSBUZW1wbGF0ZSB0aGUgZmlyc3QgdGltZS5cbiAqXG4gKiBUZW1wbGF0ZXMgYXJlIHVzdWFsbHkgY2FjaGVkIGJ5IFRlbXBsYXRlUmVzdWx0LnN0cmluZ3MgYW5kXG4gKiBUZW1wbGF0ZVJlc3VsdC50eXBlLCBidXQgbWF5IGJlIGNhY2hlZCBieSBvdGhlciBrZXlzIGlmIHRoaXMgZnVuY3Rpb25cbiAqIG1vZGlmaWVzIHRoZSB0ZW1wbGF0ZS5cbiAqXG4gKiBOb3RlIHRoYXQgY3VycmVudGx5IFRlbXBsYXRlRmFjdG9yaWVzIG11c3Qgbm90IGFkZCwgcmVtb3ZlLCBvciByZW9yZGVyXG4gKiBleHByZXNzaW9ucywgYmVjYXVzZSB0aGVyZSBpcyBubyB3YXkgdG8gZGVzY3JpYmUgc3VjaCBhIG1vZGlmaWNhdGlvblxuICogdG8gcmVuZGVyKCkgc28gdGhhdCB2YWx1ZXMgYXJlIGludGVycG9sYXRlZCB0byB0aGUgY29ycmVjdCBwbGFjZSBpbiB0aGVcbiAqIHRlbXBsYXRlIGluc3RhbmNlcy5cbiAqL1xuZXhwb3J0IHR5cGUgVGVtcGxhdGVGYWN0b3J5ID0gKHJlc3VsdDogVGVtcGxhdGVSZXN1bHQpID0+IFRlbXBsYXRlO1xuXG4vKipcbiAqIFRoZSBkZWZhdWx0IFRlbXBsYXRlRmFjdG9yeSB3aGljaCBjYWNoZXMgVGVtcGxhdGVzIGtleWVkIG9uXG4gKiByZXN1bHQudHlwZSBhbmQgcmVzdWx0LnN0cmluZ3MuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0ZW1wbGF0ZUZhY3RvcnkocmVzdWx0OiBUZW1wbGF0ZVJlc3VsdCkge1xuICBsZXQgdGVtcGxhdGVDYWNoZSA9IHRlbXBsYXRlQ2FjaGVzLmdldChyZXN1bHQudHlwZSk7XG4gIGlmICh0ZW1wbGF0ZUNhY2hlID09PSB1bmRlZmluZWQpIHtcbiAgICB0ZW1wbGF0ZUNhY2hlID0ge1xuICAgICAgc3RyaW5nc0FycmF5OiBuZXcgV2Vha01hcDxUZW1wbGF0ZVN0cmluZ3NBcnJheSwgVGVtcGxhdGU+KCksXG4gICAgICBrZXlTdHJpbmc6IG5ldyBNYXA8c3RyaW5nLCBUZW1wbGF0ZT4oKVxuICAgIH07XG4gICAgdGVtcGxhdGVDYWNoZXMuc2V0KHJlc3VsdC50eXBlLCB0ZW1wbGF0ZUNhY2hlKTtcbiAgfVxuXG4gIGxldCB0ZW1wbGF0ZSA9IHRlbXBsYXRlQ2FjaGUuc3RyaW5nc0FycmF5LmdldChyZXN1bHQuc3RyaW5ncyk7XG4gIGlmICh0ZW1wbGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHRlbXBsYXRlO1xuICB9XG5cbiAgLy8gSWYgdGhlIFRlbXBsYXRlU3RyaW5nc0FycmF5IGlzIG5ldywgZ2VuZXJhdGUgYSBrZXkgZnJvbSB0aGUgc3RyaW5nc1xuICAvLyBUaGlzIGtleSBpcyBzaGFyZWQgYmV0d2VlbiBhbGwgdGVtcGxhdGVzIHdpdGggaWRlbnRpY2FsIGNvbnRlbnRcbiAgY29uc3Qga2V5ID0gcmVzdWx0LnN0cmluZ3Muam9pbihtYXJrZXIpO1xuXG4gIC8vIENoZWNrIGlmIHdlIGFscmVhZHkgaGF2ZSBhIFRlbXBsYXRlIGZvciB0aGlzIGtleVxuICB0ZW1wbGF0ZSA9IHRlbXBsYXRlQ2FjaGUua2V5U3RyaW5nLmdldChrZXkpO1xuICBpZiAodGVtcGxhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgIC8vIElmIHdlIGhhdmUgbm90IHNlZW4gdGhpcyBrZXkgYmVmb3JlLCBjcmVhdGUgYSBuZXcgVGVtcGxhdGVcbiAgICB0ZW1wbGF0ZSA9IG5ldyBUZW1wbGF0ZShyZXN1bHQsIHJlc3VsdC5nZXRUZW1wbGF0ZUVsZW1lbnQoKSk7XG4gICAgLy8gQ2FjaGUgdGhlIFRlbXBsYXRlIGZvciB0aGlzIGtleVxuICAgIHRlbXBsYXRlQ2FjaGUua2V5U3RyaW5nLnNldChrZXksIHRlbXBsYXRlKTtcbiAgfVxuXG4gIC8vIENhY2hlIGFsbCBmdXR1cmUgcXVlcmllcyBmb3IgdGhpcyBUZW1wbGF0ZVN0cmluZ3NBcnJheVxuICB0ZW1wbGF0ZUNhY2hlLnN0cmluZ3NBcnJheS5zZXQocmVzdWx0LnN0cmluZ3MsIHRlbXBsYXRlKTtcbiAgcmV0dXJuIHRlbXBsYXRlO1xufVxuXG4vKipcbiAqIFRoZSBmaXJzdCBhcmd1bWVudCB0byBKUyB0ZW1wbGF0ZSB0YWdzIHJldGFpbiBpZGVudGl0eSBhY3Jvc3MgbXVsdGlwbGVcbiAqIGNhbGxzIHRvIGEgdGFnIGZvciB0aGUgc2FtZSBsaXRlcmFsLCBzbyB3ZSBjYW4gY2FjaGUgd29yayBkb25lIHBlciBsaXRlcmFsXG4gKiBpbiBhIE1hcC5cbiAqXG4gKiBTYWZhcmkgY3VycmVudGx5IGhhcyBhIGJ1ZyB3aGljaCBvY2Nhc2lvbmFsbHkgYnJlYWtzIHRoaXMgYmVoYXZpb3VyLCBzbyB3ZVxuICogbmVlZCB0byBjYWNoZSB0aGUgVGVtcGxhdGUgYXQgdHdvIGxldmVscy4gV2UgZmlyc3QgY2FjaGUgdGhlXG4gKiBUZW1wbGF0ZVN0cmluZ3NBcnJheSwgYW5kIGlmIHRoYXQgZmFpbHMsIHdlIGNhY2hlIGEga2V5IGNvbnN0cnVjdGVkIGJ5XG4gKiBqb2luaW5nIHRoZSBzdHJpbmdzIGFycmF5LlxuICovXG5leHBvcnQgdHlwZSB0ZW1wbGF0ZUNhY2hlID0ge1xuICByZWFkb25seSBzdHJpbmdzQXJyYXk6IFdlYWtNYXA8VGVtcGxhdGVTdHJpbmdzQXJyYXksIFRlbXBsYXRlPjsgLy9cbiAgcmVhZG9ubHkga2V5U3RyaW5nOiBNYXA8c3RyaW5nLCBUZW1wbGF0ZT47XG59O1xuXG5leHBvcnQgY29uc3QgdGVtcGxhdGVDYWNoZXMgPSBuZXcgTWFwPHN0cmluZywgdGVtcGxhdGVDYWNoZT4oKTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cblxuLyoqXG4gKiBAbW9kdWxlIGxpdC1odG1sXG4gKi9cblxuaW1wb3J0IHtyZW1vdmVOb2Rlc30gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHtOb2RlUGFydH0gZnJvbSAnLi9wYXJ0cy5qcyc7XG5pbXBvcnQge1JlbmRlck9wdGlvbnN9IGZyb20gJy4vcmVuZGVyLW9wdGlvbnMuanMnO1xuaW1wb3J0IHt0ZW1wbGF0ZUZhY3Rvcnl9IGZyb20gJy4vdGVtcGxhdGUtZmFjdG9yeS5qcyc7XG5pbXBvcnQge1RlbXBsYXRlUmVzdWx0fSBmcm9tICcuL3RlbXBsYXRlLXJlc3VsdC5qcyc7XG5cbmV4cG9ydCBjb25zdCBwYXJ0cyA9IG5ldyBXZWFrTWFwPE5vZGUsIE5vZGVQYXJ0PigpO1xuXG4vKipcbiAqIFJlbmRlcnMgYSB0ZW1wbGF0ZSB0byBhIGNvbnRhaW5lci5cbiAqXG4gKiBUbyB1cGRhdGUgYSBjb250YWluZXIgd2l0aCBuZXcgdmFsdWVzLCByZWV2YWx1YXRlIHRoZSB0ZW1wbGF0ZSBsaXRlcmFsIGFuZFxuICogY2FsbCBgcmVuZGVyYCB3aXRoIHRoZSBuZXcgcmVzdWx0LlxuICpcbiAqIEBwYXJhbSByZXN1bHQgYSBUZW1wbGF0ZVJlc3VsdCBjcmVhdGVkIGJ5IGV2YWx1YXRpbmcgYSB0ZW1wbGF0ZSB0YWcgbGlrZVxuICogICAgIGBodG1sYCBvciBgc3ZnYC5cbiAqIEBwYXJhbSBjb250YWluZXIgQSBET00gcGFyZW50IHRvIHJlbmRlciB0by4gVGhlIGVudGlyZSBjb250ZW50cyBhcmUgZWl0aGVyXG4gKiAgICAgcmVwbGFjZWQsIG9yIGVmZmljaWVudGx5IHVwZGF0ZWQgaWYgdGhlIHNhbWUgcmVzdWx0IHR5cGUgd2FzIHByZXZpb3VzXG4gKiAgICAgcmVuZGVyZWQgdGhlcmUuXG4gKiBAcGFyYW0gb3B0aW9ucyBSZW5kZXJPcHRpb25zIGZvciB0aGUgZW50aXJlIHJlbmRlciB0cmVlIHJlbmRlcmVkIHRvIHRoaXNcbiAqICAgICBjb250YWluZXIuIFJlbmRlciBvcHRpb25zIG11c3QgKm5vdCogY2hhbmdlIGJldHdlZW4gcmVuZGVycyB0byB0aGUgc2FtZVxuICogICAgIGNvbnRhaW5lciwgYXMgdGhvc2UgY2hhbmdlcyB3aWxsIG5vdCBlZmZlY3QgcHJldmlvdXNseSByZW5kZXJlZCBET00uXG4gKi9cbmV4cG9ydCBjb25zdCByZW5kZXIgPVxuICAgIChyZXN1bHQ6IFRlbXBsYXRlUmVzdWx0LFxuICAgICBjb250YWluZXI6IEVsZW1lbnR8RG9jdW1lbnRGcmFnbWVudCxcbiAgICAgb3B0aW9ucz86IFBhcnRpYWw8UmVuZGVyT3B0aW9ucz4pID0+IHtcbiAgICAgIGxldCBwYXJ0ID0gcGFydHMuZ2V0KGNvbnRhaW5lcik7XG4gICAgICBpZiAocGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJlbW92ZU5vZGVzKGNvbnRhaW5lciwgY29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgICAgICBwYXJ0cy5zZXQoY29udGFpbmVyLCBwYXJ0ID0gbmV3IE5vZGVQYXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZUZhY3RvcnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICBwYXJ0LmFwcGVuZEludG8oY29udGFpbmVyKTtcbiAgICAgIH1cbiAgICAgIHBhcnQuc2V0VmFsdWUocmVzdWx0KTtcbiAgICAgIHBhcnQuY29tbWl0KCk7XG4gICAgfTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cblxuLyoqXG4gKlxuICogTWFpbiBsaXQtaHRtbCBtb2R1bGUuXG4gKlxuICogTWFpbiBleHBvcnRzOlxuICpcbiAqIC0gIFtbaHRtbF1dXG4gKiAtICBbW3N2Z11dXG4gKiAtICBbW3JlbmRlcl1dXG4gKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICogQHByZWZlcnJlZFxuICovXG5cbi8qKlxuICogRG8gbm90IHJlbW92ZSB0aGlzIGNvbW1lbnQ7IGl0IGtlZXBzIHR5cGVkb2MgZnJvbSBtaXNwbGFjaW5nIHRoZSBtb2R1bGVcbiAqIGRvY3MuXG4gKi9cbmltcG9ydCB7ZGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yfSBmcm9tICcuL2xpYi9kZWZhdWx0LXRlbXBsYXRlLXByb2Nlc3Nvci5qcyc7XG5pbXBvcnQge1NWR1RlbXBsYXRlUmVzdWx0LCBUZW1wbGF0ZVJlc3VsdH0gZnJvbSAnLi9saWIvdGVtcGxhdGUtcmVzdWx0LmpzJztcblxuZXhwb3J0IHtEZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IsIGRlZmF1bHRUZW1wbGF0ZVByb2Nlc3Nvcn0gZnJvbSAnLi9saWIvZGVmYXVsdC10ZW1wbGF0ZS1wcm9jZXNzb3IuanMnO1xuZXhwb3J0IHtkaXJlY3RpdmUsIERpcmVjdGl2ZUZuLCBpc0RpcmVjdGl2ZX0gZnJvbSAnLi9saWIvZGlyZWN0aXZlLmpzJztcbi8vIFRPRE8oanVzdGluZmFnbmFuaSk6IHJlbW92ZSBsaW5lIHdoZW4gd2UgZ2V0IE5vZGVQYXJ0IG1vdmluZyBtZXRob2RzXG5leHBvcnQge3JlbW92ZU5vZGVzLCByZXBhcmVudE5vZGVzfSBmcm9tICcuL2xpYi9kb20uanMnO1xuZXhwb3J0IHtub0NoYW5nZSwgbm90aGluZywgUGFydH0gZnJvbSAnLi9saWIvcGFydC5qcyc7XG5leHBvcnQge0F0dHJpYnV0ZUNvbW1pdHRlciwgQXR0cmlidXRlUGFydCwgQm9vbGVhbkF0dHJpYnV0ZVBhcnQsIEV2ZW50UGFydCwgaXNJdGVyYWJsZSwgaXNQcmltaXRpdmUsIE5vZGVQYXJ0LCBQcm9wZXJ0eUNvbW1pdHRlciwgUHJvcGVydHlQYXJ0fSBmcm9tICcuL2xpYi9wYXJ0cy5qcyc7XG5leHBvcnQge1JlbmRlck9wdGlvbnN9IGZyb20gJy4vbGliL3JlbmRlci1vcHRpb25zLmpzJztcbmV4cG9ydCB7cGFydHMsIHJlbmRlcn0gZnJvbSAnLi9saWIvcmVuZGVyLmpzJztcbmV4cG9ydCB7dGVtcGxhdGVDYWNoZXMsIHRlbXBsYXRlRmFjdG9yeX0gZnJvbSAnLi9saWIvdGVtcGxhdGUtZmFjdG9yeS5qcyc7XG5leHBvcnQge1RlbXBsYXRlSW5zdGFuY2V9IGZyb20gJy4vbGliL3RlbXBsYXRlLWluc3RhbmNlLmpzJztcbmV4cG9ydCB7VGVtcGxhdGVQcm9jZXNzb3J9IGZyb20gJy4vbGliL3RlbXBsYXRlLXByb2Nlc3Nvci5qcyc7XG5leHBvcnQge1NWR1RlbXBsYXRlUmVzdWx0LCBUZW1wbGF0ZVJlc3VsdH0gZnJvbSAnLi9saWIvdGVtcGxhdGUtcmVzdWx0LmpzJztcbmV4cG9ydCB7Y3JlYXRlTWFya2VyLCBpc1RlbXBsYXRlUGFydEFjdGl2ZSwgVGVtcGxhdGV9IGZyb20gJy4vbGliL3RlbXBsYXRlLmpzJztcblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgV2luZG93IHtcbiAgICBsaXRIdG1sVmVyc2lvbnM6IHN0cmluZ1tdO1xuICB9XG59XG5cbi8vIElNUE9SVEFOVDogZG8gbm90IGNoYW5nZSB0aGUgcHJvcGVydHkgbmFtZSBvciB0aGUgYXNzaWdubWVudCBleHByZXNzaW9uLlxuLy8gVGhpcyBsaW5lIHdpbGwgYmUgdXNlZCBpbiByZWdleGVzIHRvIHNlYXJjaCBmb3IgbGl0LWh0bWwgdXNhZ2UuXG4vLyBUT0RPKGp1c3RpbmZhZ25hbmkpOiBpbmplY3QgdmVyc2lvbiBudW1iZXIgYXQgYnVpbGQgdGltZVxuKHdpbmRvd1snbGl0SHRtbFZlcnNpb25zJ10gfHwgKHdpbmRvd1snbGl0SHRtbFZlcnNpb25zJ10gPSBbXSkpLnB1c2goJzEuMC4wJyk7XG5cbi8qKlxuICogSW50ZXJwcmV0cyBhIHRlbXBsYXRlIGxpdGVyYWwgYXMgYW4gSFRNTCB0ZW1wbGF0ZSB0aGF0IGNhbiBlZmZpY2llbnRseVxuICogcmVuZGVyIHRvIGFuZCB1cGRhdGUgYSBjb250YWluZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBodG1sID0gKHN0cmluZ3M6IFRlbXBsYXRlU3RyaW5nc0FycmF5LCAuLi52YWx1ZXM6IHVua25vd25bXSkgPT5cbiAgICBuZXcgVGVtcGxhdGVSZXN1bHQoc3RyaW5ncywgdmFsdWVzLCAnaHRtbCcsIGRlZmF1bHRUZW1wbGF0ZVByb2Nlc3Nvcik7XG5cbi8qKlxuICogSW50ZXJwcmV0cyBhIHRlbXBsYXRlIGxpdGVyYWwgYXMgYW4gU1ZHIHRlbXBsYXRlIHRoYXQgY2FuIGVmZmljaWVudGx5XG4gKiByZW5kZXIgdG8gYW5kIHVwZGF0ZSBhIGNvbnRhaW5lci5cbiAqL1xuZXhwb3J0IGNvbnN0IHN2ZyA9IChzdHJpbmdzOiBUZW1wbGF0ZVN0cmluZ3NBcnJheSwgLi4udmFsdWVzOiB1bmtub3duW10pID0+XG4gICAgbmV3IFNWR1RlbXBsYXRlUmVzdWx0KHN0cmluZ3MsIHZhbHVlcywgJ3N2ZycsIGRlZmF1bHRUZW1wbGF0ZVByb2Nlc3Nvcik7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbi8qKlxuICogQG1vZHVsZSBzaGFkeS1yZW5kZXJcbiAqL1xuXG5pbXBvcnQge2lzVGVtcGxhdGVQYXJ0QWN0aXZlLCBUZW1wbGF0ZSwgVGVtcGxhdGVQYXJ0fSBmcm9tICcuL3RlbXBsYXRlLmpzJztcblxuY29uc3Qgd2Fsa2VyTm9kZUZpbHRlciA9IDEzMyAvKiBOb2RlRmlsdGVyLlNIT1dfe0VMRU1FTlR8Q09NTUVOVHxURVhUfSAqLztcblxuLyoqXG4gKiBSZW1vdmVzIHRoZSBsaXN0IG9mIG5vZGVzIGZyb20gYSBUZW1wbGF0ZSBzYWZlbHkuIEluIGFkZGl0aW9uIHRvIHJlbW92aW5nXG4gKiBub2RlcyBmcm9tIHRoZSBUZW1wbGF0ZSwgdGhlIFRlbXBsYXRlIHBhcnQgaW5kaWNlcyBhcmUgdXBkYXRlZCB0byBtYXRjaFxuICogdGhlIG11dGF0ZWQgVGVtcGxhdGUgRE9NLlxuICpcbiAqIEFzIHRoZSB0ZW1wbGF0ZSBpcyB3YWxrZWQgdGhlIHJlbW92YWwgc3RhdGUgaXMgdHJhY2tlZCBhbmRcbiAqIHBhcnQgaW5kaWNlcyBhcmUgYWRqdXN0ZWQgYXMgbmVlZGVkLlxuICpcbiAqIGRpdlxuICogICBkaXYjMSAocmVtb3ZlKSA8LS0gc3RhcnQgcmVtb3ZpbmcgKHJlbW92aW5nIG5vZGUgaXMgZGl2IzEpXG4gKiAgICAgZGl2XG4gKiAgICAgICBkaXYjMiAocmVtb3ZlKSAgPC0tIGNvbnRpbnVlIHJlbW92aW5nIChyZW1vdmluZyBub2RlIGlzIHN0aWxsIGRpdiMxKVxuICogICAgICAgICBkaXZcbiAqIGRpdiA8LS0gc3RvcCByZW1vdmluZyBzaW5jZSBwcmV2aW91cyBzaWJsaW5nIGlzIHRoZSByZW1vdmluZyBub2RlIChkaXYjMSxcbiAqIHJlbW92ZWQgNCBub2RlcylcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZU5vZGVzRnJvbVRlbXBsYXRlKFxuICAgIHRlbXBsYXRlOiBUZW1wbGF0ZSwgbm9kZXNUb1JlbW92ZTogU2V0PE5vZGU+KSB7XG4gIGNvbnN0IHtlbGVtZW50OiB7Y29udGVudH0sIHBhcnRzfSA9IHRlbXBsYXRlO1xuICBjb25zdCB3YWxrZXIgPVxuICAgICAgZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihjb250ZW50LCB3YWxrZXJOb2RlRmlsdGVyLCBudWxsLCBmYWxzZSk7XG4gIGxldCBwYXJ0SW5kZXggPSBuZXh0QWN0aXZlSW5kZXhJblRlbXBsYXRlUGFydHMocGFydHMpO1xuICBsZXQgcGFydCA9IHBhcnRzW3BhcnRJbmRleF07XG4gIGxldCBub2RlSW5kZXggPSAtMTtcbiAgbGV0IHJlbW92ZUNvdW50ID0gMDtcbiAgY29uc3Qgbm9kZXNUb1JlbW92ZUluVGVtcGxhdGUgPSBbXTtcbiAgbGV0IGN1cnJlbnRSZW1vdmluZ05vZGU6IE5vZGV8bnVsbCA9IG51bGw7XG4gIHdoaWxlICh3YWxrZXIubmV4dE5vZGUoKSkge1xuICAgIG5vZGVJbmRleCsrO1xuICAgIGNvbnN0IG5vZGUgPSB3YWxrZXIuY3VycmVudE5vZGUgYXMgRWxlbWVudDtcbiAgICAvLyBFbmQgcmVtb3ZhbCBpZiBzdGVwcGVkIHBhc3QgdGhlIHJlbW92aW5nIG5vZGVcbiAgICBpZiAobm9kZS5wcmV2aW91c1NpYmxpbmcgPT09IGN1cnJlbnRSZW1vdmluZ05vZGUpIHtcbiAgICAgIGN1cnJlbnRSZW1vdmluZ05vZGUgPSBudWxsO1xuICAgIH1cbiAgICAvLyBBIG5vZGUgdG8gcmVtb3ZlIHdhcyBmb3VuZCBpbiB0aGUgdGVtcGxhdGVcbiAgICBpZiAobm9kZXNUb1JlbW92ZS5oYXMobm9kZSkpIHtcbiAgICAgIG5vZGVzVG9SZW1vdmVJblRlbXBsYXRlLnB1c2gobm9kZSk7XG4gICAgICAvLyBUcmFjayBub2RlIHdlJ3JlIHJlbW92aW5nXG4gICAgICBpZiAoY3VycmVudFJlbW92aW5nTm9kZSA9PT0gbnVsbCkge1xuICAgICAgICBjdXJyZW50UmVtb3ZpbmdOb2RlID0gbm9kZTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gV2hlbiByZW1vdmluZywgaW5jcmVtZW50IGNvdW50IGJ5IHdoaWNoIHRvIGFkanVzdCBzdWJzZXF1ZW50IHBhcnQgaW5kaWNlc1xuICAgIGlmIChjdXJyZW50UmVtb3ZpbmdOb2RlICE9PSBudWxsKSB7XG4gICAgICByZW1vdmVDb3VudCsrO1xuICAgIH1cbiAgICB3aGlsZSAocGFydCAhPT0gdW5kZWZpbmVkICYmIHBhcnQuaW5kZXggPT09IG5vZGVJbmRleCkge1xuICAgICAgLy8gSWYgcGFydCBpcyBpbiBhIHJlbW92ZWQgbm9kZSBkZWFjdGl2YXRlIGl0IGJ5IHNldHRpbmcgaW5kZXggdG8gLTEgb3JcbiAgICAgIC8vIGFkanVzdCB0aGUgaW5kZXggYXMgbmVlZGVkLlxuICAgICAgcGFydC5pbmRleCA9IGN1cnJlbnRSZW1vdmluZ05vZGUgIT09IG51bGwgPyAtMSA6IHBhcnQuaW5kZXggLSByZW1vdmVDb3VudDtcbiAgICAgIC8vIGdvIHRvIHRoZSBuZXh0IGFjdGl2ZSBwYXJ0LlxuICAgICAgcGFydEluZGV4ID0gbmV4dEFjdGl2ZUluZGV4SW5UZW1wbGF0ZVBhcnRzKHBhcnRzLCBwYXJ0SW5kZXgpO1xuICAgICAgcGFydCA9IHBhcnRzW3BhcnRJbmRleF07XG4gICAgfVxuICB9XG4gIG5vZGVzVG9SZW1vdmVJblRlbXBsYXRlLmZvckVhY2goKG4pID0+IG4ucGFyZW50Tm9kZSEucmVtb3ZlQ2hpbGQobikpO1xufVxuXG5jb25zdCBjb3VudE5vZGVzID0gKG5vZGU6IE5vZGUpID0+IHtcbiAgbGV0IGNvdW50ID0gKG5vZGUubm9kZVR5cGUgPT09IDExIC8qIE5vZGUuRE9DVU1FTlRfRlJBR01FTlRfTk9ERSAqLykgPyAwIDogMTtcbiAgY29uc3Qgd2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihub2RlLCB3YWxrZXJOb2RlRmlsdGVyLCBudWxsLCBmYWxzZSk7XG4gIHdoaWxlICh3YWxrZXIubmV4dE5vZGUoKSkge1xuICAgIGNvdW50Kys7XG4gIH1cbiAgcmV0dXJuIGNvdW50O1xufTtcblxuY29uc3QgbmV4dEFjdGl2ZUluZGV4SW5UZW1wbGF0ZVBhcnRzID1cbiAgICAocGFydHM6IFRlbXBsYXRlUGFydFtdLCBzdGFydEluZGV4OiBudW1iZXIgPSAtMSkgPT4ge1xuICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0SW5kZXggKyAxOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgcGFydCA9IHBhcnRzW2ldO1xuICAgICAgICBpZiAoaXNUZW1wbGF0ZVBhcnRBY3RpdmUocGFydCkpIHtcbiAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG5cbi8qKlxuICogSW5zZXJ0cyB0aGUgZ2l2ZW4gbm9kZSBpbnRvIHRoZSBUZW1wbGF0ZSwgb3B0aW9uYWxseSBiZWZvcmUgdGhlIGdpdmVuXG4gKiByZWZOb2RlLiBJbiBhZGRpdGlvbiB0byBpbnNlcnRpbmcgdGhlIG5vZGUgaW50byB0aGUgVGVtcGxhdGUsIHRoZSBUZW1wbGF0ZVxuICogcGFydCBpbmRpY2VzIGFyZSB1cGRhdGVkIHRvIG1hdGNoIHRoZSBtdXRhdGVkIFRlbXBsYXRlIERPTS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluc2VydE5vZGVJbnRvVGVtcGxhdGUoXG4gICAgdGVtcGxhdGU6IFRlbXBsYXRlLCBub2RlOiBOb2RlLCByZWZOb2RlOiBOb2RlfG51bGwgPSBudWxsKSB7XG4gIGNvbnN0IHtlbGVtZW50OiB7Y29udGVudH0sIHBhcnRzfSA9IHRlbXBsYXRlO1xuICAvLyBJZiB0aGVyZSdzIG5vIHJlZk5vZGUsIHRoZW4gcHV0IG5vZGUgYXQgZW5kIG9mIHRlbXBsYXRlLlxuICAvLyBObyBwYXJ0IGluZGljZXMgbmVlZCB0byBiZSBzaGlmdGVkIGluIHRoaXMgY2FzZS5cbiAgaWYgKHJlZk5vZGUgPT09IG51bGwgfHwgcmVmTm9kZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY29udGVudC5hcHBlbmRDaGlsZChub2RlKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3Qgd2Fsa2VyID1cbiAgICAgIGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoY29udGVudCwgd2Fsa2VyTm9kZUZpbHRlciwgbnVsbCwgZmFsc2UpO1xuICBsZXQgcGFydEluZGV4ID0gbmV4dEFjdGl2ZUluZGV4SW5UZW1wbGF0ZVBhcnRzKHBhcnRzKTtcbiAgbGV0IGluc2VydENvdW50ID0gMDtcbiAgbGV0IHdhbGtlckluZGV4ID0gLTE7XG4gIHdoaWxlICh3YWxrZXIubmV4dE5vZGUoKSkge1xuICAgIHdhbGtlckluZGV4Kys7XG4gICAgY29uc3Qgd2Fsa2VyTm9kZSA9IHdhbGtlci5jdXJyZW50Tm9kZSBhcyBFbGVtZW50O1xuICAgIGlmICh3YWxrZXJOb2RlID09PSByZWZOb2RlKSB7XG4gICAgICBpbnNlcnRDb3VudCA9IGNvdW50Tm9kZXMobm9kZSk7XG4gICAgICByZWZOb2RlLnBhcmVudE5vZGUhLmluc2VydEJlZm9yZShub2RlLCByZWZOb2RlKTtcbiAgICB9XG4gICAgd2hpbGUgKHBhcnRJbmRleCAhPT0gLTEgJiYgcGFydHNbcGFydEluZGV4XS5pbmRleCA9PT0gd2Fsa2VySW5kZXgpIHtcbiAgICAgIC8vIElmIHdlJ3ZlIGluc2VydGVkIHRoZSBub2RlLCBzaW1wbHkgYWRqdXN0IGFsbCBzdWJzZXF1ZW50IHBhcnRzXG4gICAgICBpZiAoaW5zZXJ0Q291bnQgPiAwKSB7XG4gICAgICAgIHdoaWxlIChwYXJ0SW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgcGFydHNbcGFydEluZGV4XS5pbmRleCArPSBpbnNlcnRDb3VudDtcbiAgICAgICAgICBwYXJ0SW5kZXggPSBuZXh0QWN0aXZlSW5kZXhJblRlbXBsYXRlUGFydHMocGFydHMsIHBhcnRJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGFydEluZGV4ID0gbmV4dEFjdGl2ZUluZGV4SW5UZW1wbGF0ZVBhcnRzKHBhcnRzLCBwYXJ0SW5kZXgpO1xuICAgIH1cbiAgfVxufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuXG4vKipcbiAqIE1vZHVsZSB0byBhZGQgc2hhZHkgRE9NL3NoYWR5IENTUyBwb2x5ZmlsbCBzdXBwb3J0IHRvIGxpdC1odG1sIHRlbXBsYXRlXG4gKiByZW5kZXJpbmcuIFNlZSB0aGUgW1tyZW5kZXJdXSBtZXRob2QgZm9yIGRldGFpbHMuXG4gKlxuICogQG1vZHVsZSBzaGFkeS1yZW5kZXJcbiAqIEBwcmVmZXJyZWRcbiAqL1xuXG4vKipcbiAqIERvIG5vdCByZW1vdmUgdGhpcyBjb21tZW50OyBpdCBrZWVwcyB0eXBlZG9jIGZyb20gbWlzcGxhY2luZyB0aGUgbW9kdWxlXG4gKiBkb2NzLlxuICovXG5pbXBvcnQge3JlbW92ZU5vZGVzfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQge2luc2VydE5vZGVJbnRvVGVtcGxhdGUsIHJlbW92ZU5vZGVzRnJvbVRlbXBsYXRlfSBmcm9tICcuL21vZGlmeS10ZW1wbGF0ZS5qcyc7XG5pbXBvcnQge1JlbmRlck9wdGlvbnN9IGZyb20gJy4vcmVuZGVyLW9wdGlvbnMuanMnO1xuaW1wb3J0IHtwYXJ0cywgcmVuZGVyIGFzIGxpdFJlbmRlcn0gZnJvbSAnLi9yZW5kZXIuanMnO1xuaW1wb3J0IHt0ZW1wbGF0ZUNhY2hlc30gZnJvbSAnLi90ZW1wbGF0ZS1mYWN0b3J5LmpzJztcbmltcG9ydCB7VGVtcGxhdGVJbnN0YW5jZX0gZnJvbSAnLi90ZW1wbGF0ZS1pbnN0YW5jZS5qcyc7XG5pbXBvcnQge1RlbXBsYXRlUmVzdWx0fSBmcm9tICcuL3RlbXBsYXRlLXJlc3VsdC5qcyc7XG5pbXBvcnQge21hcmtlciwgVGVtcGxhdGV9IGZyb20gJy4vdGVtcGxhdGUuanMnO1xuXG5leHBvcnQge2h0bWwsIHN2ZywgVGVtcGxhdGVSZXN1bHR9IGZyb20gJy4uL2xpdC1odG1sLmpzJztcblxuLy8gR2V0IGEga2V5IHRvIGxvb2t1cCBpbiBgdGVtcGxhdGVDYWNoZXNgLlxuY29uc3QgZ2V0VGVtcGxhdGVDYWNoZUtleSA9ICh0eXBlOiBzdHJpbmcsIHNjb3BlTmFtZTogc3RyaW5nKSA9PlxuICAgIGAke3R5cGV9LS0ke3Njb3BlTmFtZX1gO1xuXG5sZXQgY29tcGF0aWJsZVNoYWR5Q1NTVmVyc2lvbiA9IHRydWU7XG5cbmlmICh0eXBlb2Ygd2luZG93LlNoYWR5Q1NTID09PSAndW5kZWZpbmVkJykge1xuICBjb21wYXRpYmxlU2hhZHlDU1NWZXJzaW9uID0gZmFsc2U7XG59IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cuU2hhZHlDU1MucHJlcGFyZVRlbXBsYXRlRG9tID09PSAndW5kZWZpbmVkJykge1xuICBjb25zb2xlLndhcm4oXG4gICAgICBgSW5jb21wYXRpYmxlIFNoYWR5Q1NTIHZlcnNpb24gZGV0ZWN0ZWQuIGAgK1xuICAgICAgYFBsZWFzZSB1cGRhdGUgdG8gYXQgbGVhc3QgQHdlYmNvbXBvbmVudHMvd2ViY29tcG9uZW50c2pzQDIuMC4yIGFuZCBgICtcbiAgICAgIGBAd2ViY29tcG9uZW50cy9zaGFkeWNzc0AxLjMuMS5gKTtcbiAgY29tcGF0aWJsZVNoYWR5Q1NTVmVyc2lvbiA9IGZhbHNlO1xufVxuXG4vKipcbiAqIFRlbXBsYXRlIGZhY3Rvcnkgd2hpY2ggc2NvcGVzIHRlbXBsYXRlIERPTSB1c2luZyBTaGFkeUNTUy5cbiAqIEBwYXJhbSBzY29wZU5hbWUge3N0cmluZ31cbiAqL1xuY29uc3Qgc2hhZHlUZW1wbGF0ZUZhY3RvcnkgPSAoc2NvcGVOYW1lOiBzdHJpbmcpID0+XG4gICAgKHJlc3VsdDogVGVtcGxhdGVSZXN1bHQpID0+IHtcbiAgICAgIGNvbnN0IGNhY2hlS2V5ID0gZ2V0VGVtcGxhdGVDYWNoZUtleShyZXN1bHQudHlwZSwgc2NvcGVOYW1lKTtcbiAgICAgIGxldCB0ZW1wbGF0ZUNhY2hlID0gdGVtcGxhdGVDYWNoZXMuZ2V0KGNhY2hlS2V5KTtcbiAgICAgIGlmICh0ZW1wbGF0ZUNhY2hlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGVtcGxhdGVDYWNoZSA9IHtcbiAgICAgICAgICBzdHJpbmdzQXJyYXk6IG5ldyBXZWFrTWFwPFRlbXBsYXRlU3RyaW5nc0FycmF5LCBUZW1wbGF0ZT4oKSxcbiAgICAgICAgICBrZXlTdHJpbmc6IG5ldyBNYXA8c3RyaW5nLCBUZW1wbGF0ZT4oKVxuICAgICAgICB9O1xuICAgICAgICB0ZW1wbGF0ZUNhY2hlcy5zZXQoY2FjaGVLZXksIHRlbXBsYXRlQ2FjaGUpO1xuICAgICAgfVxuXG4gICAgICBsZXQgdGVtcGxhdGUgPSB0ZW1wbGF0ZUNhY2hlLnN0cmluZ3NBcnJheS5nZXQocmVzdWx0LnN0cmluZ3MpO1xuICAgICAgaWYgKHRlbXBsYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBrZXkgPSByZXN1bHQuc3RyaW5ncy5qb2luKG1hcmtlcik7XG4gICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlQ2FjaGUua2V5U3RyaW5nLmdldChrZXkpO1xuICAgICAgaWYgKHRlbXBsYXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHJlc3VsdC5nZXRUZW1wbGF0ZUVsZW1lbnQoKTtcbiAgICAgICAgaWYgKGNvbXBhdGlibGVTaGFkeUNTU1ZlcnNpb24pIHtcbiAgICAgICAgICB3aW5kb3cuU2hhZHlDU1MhLnByZXBhcmVUZW1wbGF0ZURvbShlbGVtZW50LCBzY29wZU5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHRlbXBsYXRlID0gbmV3IFRlbXBsYXRlKHJlc3VsdCwgZWxlbWVudCk7XG4gICAgICAgIHRlbXBsYXRlQ2FjaGUua2V5U3RyaW5nLnNldChrZXksIHRlbXBsYXRlKTtcbiAgICAgIH1cbiAgICAgIHRlbXBsYXRlQ2FjaGUuc3RyaW5nc0FycmF5LnNldChyZXN1bHQuc3RyaW5ncywgdGVtcGxhdGUpO1xuICAgICAgcmV0dXJuIHRlbXBsYXRlO1xuICAgIH07XG5cbmNvbnN0IFRFTVBMQVRFX1RZUEVTID0gWydodG1sJywgJ3N2ZyddO1xuXG4vKipcbiAqIFJlbW92ZXMgYWxsIHN0eWxlIGVsZW1lbnRzIGZyb20gVGVtcGxhdGVzIGZvciB0aGUgZ2l2ZW4gc2NvcGVOYW1lLlxuICovXG5jb25zdCByZW1vdmVTdHlsZXNGcm9tTGl0VGVtcGxhdGVzID0gKHNjb3BlTmFtZTogc3RyaW5nKSA9PiB7XG4gIFRFTVBMQVRFX1RZUEVTLmZvckVhY2goKHR5cGUpID0+IHtcbiAgICBjb25zdCB0ZW1wbGF0ZXMgPSB0ZW1wbGF0ZUNhY2hlcy5nZXQoZ2V0VGVtcGxhdGVDYWNoZUtleSh0eXBlLCBzY29wZU5hbWUpKTtcbiAgICBpZiAodGVtcGxhdGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRlbXBsYXRlcy5rZXlTdHJpbmcuZm9yRWFjaCgodGVtcGxhdGUpID0+IHtcbiAgICAgICAgY29uc3Qge2VsZW1lbnQ6IHtjb250ZW50fX0gPSB0ZW1wbGF0ZTtcbiAgICAgICAgLy8gSUUgMTEgZG9lc24ndCBzdXBwb3J0IHRoZSBpdGVyYWJsZSBwYXJhbSBTZXQgY29uc3RydWN0b3JcbiAgICAgICAgY29uc3Qgc3R5bGVzID0gbmV3IFNldDxFbGVtZW50PigpO1xuICAgICAgICBBcnJheS5mcm9tKGNvbnRlbnQucXVlcnlTZWxlY3RvckFsbCgnc3R5bGUnKSkuZm9yRWFjaCgoczogRWxlbWVudCkgPT4ge1xuICAgICAgICAgIHN0eWxlcy5hZGQocyk7XG4gICAgICAgIH0pO1xuICAgICAgICByZW1vdmVOb2Rlc0Zyb21UZW1wbGF0ZSh0ZW1wbGF0ZSwgc3R5bGVzKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59O1xuXG5jb25zdCBzaGFkeVJlbmRlclNldCA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuXG4vKipcbiAqIEZvciB0aGUgZ2l2ZW4gc2NvcGUgbmFtZSwgZW5zdXJlcyB0aGF0IFNoYWR5Q1NTIHN0eWxlIHNjb3BpbmcgaXMgcGVyZm9ybWVkLlxuICogVGhpcyBpcyBkb25lIGp1c3Qgb25jZSBwZXIgc2NvcGUgbmFtZSBzbyB0aGUgZnJhZ21lbnQgYW5kIHRlbXBsYXRlIGNhbm5vdFxuICogYmUgbW9kaWZpZWQuXG4gKiAoMSkgZXh0cmFjdHMgc3R5bGVzIGZyb20gdGhlIHJlbmRlcmVkIGZyYWdtZW50IGFuZCBoYW5kcyB0aGVtIHRvIFNoYWR5Q1NTXG4gKiB0byBiZSBzY29wZWQgYW5kIGFwcGVuZGVkIHRvIHRoZSBkb2N1bWVudFxuICogKDIpIHJlbW92ZXMgc3R5bGUgZWxlbWVudHMgZnJvbSBhbGwgbGl0LWh0bWwgVGVtcGxhdGVzIGZvciB0aGlzIHNjb3BlIG5hbWUuXG4gKlxuICogTm90ZSwgPHN0eWxlPiBlbGVtZW50cyBjYW4gb25seSBiZSBwbGFjZWQgaW50byB0ZW1wbGF0ZXMgZm9yIHRoZVxuICogaW5pdGlhbCByZW5kZXJpbmcgb2YgdGhlIHNjb3BlLiBJZiA8c3R5bGU+IGVsZW1lbnRzIGFyZSBpbmNsdWRlZCBpbiB0ZW1wbGF0ZXNcbiAqIGR5bmFtaWNhbGx5IHJlbmRlcmVkIHRvIHRoZSBzY29wZSAoYWZ0ZXIgdGhlIGZpcnN0IHNjb3BlIHJlbmRlciksIHRoZXkgd2lsbFxuICogbm90IGJlIHNjb3BlZCBhbmQgdGhlIDxzdHlsZT4gd2lsbCBiZSBsZWZ0IGluIHRoZSB0ZW1wbGF0ZSBhbmQgcmVuZGVyZWRcbiAqIG91dHB1dC5cbiAqL1xuY29uc3QgcHJlcGFyZVRlbXBsYXRlU3R5bGVzID1cbiAgICAocmVuZGVyZWRET006IERvY3VtZW50RnJhZ21lbnQsIHRlbXBsYXRlOiBUZW1wbGF0ZSwgc2NvcGVOYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgIHNoYWR5UmVuZGVyU2V0LmFkZChzY29wZU5hbWUpO1xuICAgICAgLy8gTW92ZSBzdHlsZXMgb3V0IG9mIHJlbmRlcmVkIERPTSBhbmQgc3RvcmUuXG4gICAgICBjb25zdCBzdHlsZXMgPSByZW5kZXJlZERPTS5xdWVyeVNlbGVjdG9yQWxsKCdzdHlsZScpO1xuICAgICAgY29uc3Qge2xlbmd0aH0gPSBzdHlsZXM7XG4gICAgICAvLyBJZiB0aGVyZSBhcmUgbm8gc3R5bGVzLCBza2lwIHVubmVjZXNzYXJ5IHdvcmtcbiAgICAgIGlmIChsZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gRW5zdXJlIHByZXBhcmVUZW1wbGF0ZVN0eWxlcyBpcyBjYWxsZWQgdG8gc3VwcG9ydCBhZGRpbmdcbiAgICAgICAgLy8gc3R5bGVzIHZpYSBgcHJlcGFyZUFkb3B0ZWRDc3NUZXh0YCBzaW5jZSB0aGF0IHJlcXVpcmVzIHRoYXRcbiAgICAgICAgLy8gYHByZXBhcmVUZW1wbGF0ZVN0eWxlc2AgaXMgY2FsbGVkLlxuICAgICAgICB3aW5kb3cuU2hhZHlDU1MhLnByZXBhcmVUZW1wbGF0ZVN0eWxlcyh0ZW1wbGF0ZS5lbGVtZW50LCBzY29wZU5hbWUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBjb25kZW5zZWRTdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICAvLyBDb2xsZWN0IHN0eWxlcyBpbnRvIGEgc2luZ2xlIHN0eWxlLiBUaGlzIGhlbHBzIHVzIG1ha2Ugc3VyZSBTaGFkeUNTU1xuICAgICAgLy8gbWFuaXB1bGF0aW9ucyB3aWxsIG5vdCBwcmV2ZW50IHVzIGZyb20gYmVpbmcgYWJsZSB0byBmaXggdXAgdGVtcGxhdGVcbiAgICAgIC8vIHBhcnQgaW5kaWNlcy5cbiAgICAgIC8vIE5PVEU6IGNvbGxlY3Rpbmcgc3R5bGVzIGlzIGluZWZmaWNpZW50IGZvciBicm93c2VycyBidXQgU2hhZHlDU1NcbiAgICAgIC8vIGN1cnJlbnRseSBkb2VzIHRoaXMgYW55d2F5LiBXaGVuIGl0IGRvZXMgbm90LCB0aGlzIHNob3VsZCBiZSBjaGFuZ2VkLlxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBzdHlsZSA9IHN0eWxlc1tpXTtcbiAgICAgICAgc3R5bGUucGFyZW50Tm9kZSEucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuICAgICAgICBjb25kZW5zZWRTdHlsZS50ZXh0Q29udGVudCEgKz0gc3R5bGUudGV4dENvbnRlbnQ7XG4gICAgICB9XG4gICAgICAvLyBSZW1vdmUgc3R5bGVzIGZyb20gbmVzdGVkIHRlbXBsYXRlcyBpbiB0aGlzIHNjb3BlLlxuICAgICAgcmVtb3ZlU3R5bGVzRnJvbUxpdFRlbXBsYXRlcyhzY29wZU5hbWUpO1xuICAgICAgLy8gQW5kIHRoZW4gcHV0IHRoZSBjb25kZW5zZWQgc3R5bGUgaW50byB0aGUgXCJyb290XCIgdGVtcGxhdGUgcGFzc2VkIGluIGFzXG4gICAgICAvLyBgdGVtcGxhdGVgLlxuICAgICAgY29uc3QgY29udGVudCA9IHRlbXBsYXRlLmVsZW1lbnQuY29udGVudDtcbiAgICAgIGluc2VydE5vZGVJbnRvVGVtcGxhdGUodGVtcGxhdGUsIGNvbmRlbnNlZFN0eWxlLCBjb250ZW50LmZpcnN0Q2hpbGQpO1xuICAgICAgLy8gTm90ZSwgaXQncyBpbXBvcnRhbnQgdGhhdCBTaGFkeUNTUyBnZXRzIHRoZSB0ZW1wbGF0ZSB0aGF0IGBsaXQtaHRtbGBcbiAgICAgIC8vIHdpbGwgYWN0dWFsbHkgcmVuZGVyIHNvIHRoYXQgaXQgY2FuIHVwZGF0ZSB0aGUgc3R5bGUgaW5zaWRlIHdoZW5cbiAgICAgIC8vIG5lZWRlZCAoZS5nLiBAYXBwbHkgbmF0aXZlIFNoYWRvdyBET00gY2FzZSkuXG4gICAgICB3aW5kb3cuU2hhZHlDU1MhLnByZXBhcmVUZW1wbGF0ZVN0eWxlcyh0ZW1wbGF0ZS5lbGVtZW50LCBzY29wZU5hbWUpO1xuICAgICAgY29uc3Qgc3R5bGUgPSBjb250ZW50LnF1ZXJ5U2VsZWN0b3IoJ3N0eWxlJyk7XG4gICAgICBpZiAod2luZG93LlNoYWR5Q1NTIS5uYXRpdmVTaGFkb3cgJiYgc3R5bGUgIT09IG51bGwpIHtcbiAgICAgICAgLy8gV2hlbiBpbiBuYXRpdmUgU2hhZG93IERPTSwgZW5zdXJlIHRoZSBzdHlsZSBjcmVhdGVkIGJ5IFNoYWR5Q1NTIGlzXG4gICAgICAgIC8vIGluY2x1ZGVkIGluIGluaXRpYWxseSByZW5kZXJlZCBvdXRwdXQgKGByZW5kZXJlZERPTWApLlxuICAgICAgICByZW5kZXJlZERPTS5pbnNlcnRCZWZvcmUoc3R5bGUuY2xvbmVOb2RlKHRydWUpLCByZW5kZXJlZERPTS5maXJzdENoaWxkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFdoZW4gbm8gc3R5bGUgaXMgbGVmdCBpbiB0aGUgdGVtcGxhdGUsIHBhcnRzIHdpbGwgYmUgYnJva2VuIGFzIGFcbiAgICAgICAgLy8gcmVzdWx0LiBUbyBmaXggdGhpcywgd2UgcHV0IGJhY2sgdGhlIHN0eWxlIG5vZGUgU2hhZHlDU1MgcmVtb3ZlZFxuICAgICAgICAvLyBhbmQgdGhlbiB0ZWxsIGxpdCB0byByZW1vdmUgdGhhdCBub2RlIGZyb20gdGhlIHRlbXBsYXRlLlxuICAgICAgICAvLyBUaGVyZSBjYW4gYmUgbm8gc3R5bGUgaW4gdGhlIHRlbXBsYXRlIGluIDIgY2FzZXMgKDEpIHdoZW4gU2hhZHkgRE9NXG4gICAgICAgIC8vIGlzIGluIHVzZSwgU2hhZHlDU1MgcmVtb3ZlcyBhbGwgc3R5bGVzLCAoMikgd2hlbiBuYXRpdmUgU2hhZG93IERPTVxuICAgICAgICAvLyBpcyBpbiB1c2UgU2hhZHlDU1MgcmVtb3ZlcyB0aGUgc3R5bGUgaWYgaXQgY29udGFpbnMgbm8gY29udGVudC5cbiAgICAgICAgLy8gTk9URSwgU2hhZHlDU1MgY3JlYXRlcyBpdHMgb3duIHN0eWxlIHNvIHdlIGNhbiBzYWZlbHkgYWRkL3JlbW92ZVxuICAgICAgICAvLyBgY29uZGVuc2VkU3R5bGVgIGhlcmUuXG4gICAgICAgIGNvbnRlbnQuaW5zZXJ0QmVmb3JlKGNvbmRlbnNlZFN0eWxlLCBjb250ZW50LmZpcnN0Q2hpbGQpO1xuICAgICAgICBjb25zdCByZW1vdmVzID0gbmV3IFNldCgpO1xuICAgICAgICByZW1vdmVzLmFkZChjb25kZW5zZWRTdHlsZSk7XG4gICAgICAgIHJlbW92ZU5vZGVzRnJvbVRlbXBsYXRlKHRlbXBsYXRlLCByZW1vdmVzKTtcbiAgICAgIH1cbiAgICB9O1xuXG5leHBvcnQgaW50ZXJmYWNlIFNoYWR5UmVuZGVyT3B0aW9ucyBleHRlbmRzIFBhcnRpYWw8UmVuZGVyT3B0aW9ucz4ge1xuICBzY29wZU5hbWU6IHN0cmluZztcbn1cblxuLyoqXG4gKiBFeHRlbnNpb24gdG8gdGhlIHN0YW5kYXJkIGByZW5kZXJgIG1ldGhvZCB3aGljaCBzdXBwb3J0cyByZW5kZXJpbmdcbiAqIHRvIFNoYWRvd1Jvb3RzIHdoZW4gdGhlIFNoYWR5RE9NIChodHRwczovL2dpdGh1Yi5jb20vd2ViY29tcG9uZW50cy9zaGFkeWRvbSlcbiAqIGFuZCBTaGFkeUNTUyAoaHR0cHM6Ly9naXRodWIuY29tL3dlYmNvbXBvbmVudHMvc2hhZHljc3MpIHBvbHlmaWxscyBhcmUgdXNlZFxuICogb3Igd2hlbiB0aGUgd2ViY29tcG9uZW50c2pzXG4gKiAoaHR0cHM6Ly9naXRodWIuY29tL3dlYmNvbXBvbmVudHMvd2ViY29tcG9uZW50c2pzKSBwb2x5ZmlsbCBpcyB1c2VkLlxuICpcbiAqIEFkZHMgYSBgc2NvcGVOYW1lYCBvcHRpb24gd2hpY2ggaXMgdXNlZCB0byBzY29wZSBlbGVtZW50IERPTSBhbmQgc3R5bGVzaGVldHNcbiAqIHdoZW4gbmF0aXZlIFNoYWRvd0RPTSBpcyB1bmF2YWlsYWJsZS4gVGhlIGBzY29wZU5hbWVgIHdpbGwgYmUgYWRkZWQgdG9cbiAqIHRoZSBjbGFzcyBhdHRyaWJ1dGUgb2YgYWxsIHJlbmRlcmVkIERPTS4gSW4gYWRkaXRpb24sIGFueSBzdHlsZSBlbGVtZW50cyB3aWxsXG4gKiBiZSBhdXRvbWF0aWNhbGx5IHJlLXdyaXR0ZW4gd2l0aCB0aGlzIGBzY29wZU5hbWVgIHNlbGVjdG9yIGFuZCBtb3ZlZCBvdXRcbiAqIG9mIHRoZSByZW5kZXJlZCBET00gYW5kIGludG8gdGhlIGRvY3VtZW50IGA8aGVhZD5gLlxuICpcbiAqIEl0IGlzIGNvbW1vbiB0byB1c2UgdGhpcyByZW5kZXIgbWV0aG9kIGluIGNvbmp1bmN0aW9uIHdpdGggYSBjdXN0b20gZWxlbWVudFxuICogd2hpY2ggcmVuZGVycyBhIHNoYWRvd1Jvb3QuIFdoZW4gdGhpcyBpcyBkb25lLCB0eXBpY2FsbHkgdGhlIGVsZW1lbnQnc1xuICogYGxvY2FsTmFtZWAgc2hvdWxkIGJlIHVzZWQgYXMgdGhlIGBzY29wZU5hbWVgLlxuICpcbiAqIEluIGFkZGl0aW9uIHRvIERPTSBzY29waW5nLCBTaGFkeUNTUyBhbHNvIHN1cHBvcnRzIGEgYmFzaWMgc2hpbSBmb3IgY3NzXG4gKiBjdXN0b20gcHJvcGVydGllcyAobmVlZGVkIG9ubHkgb24gb2xkZXIgYnJvd3NlcnMgbGlrZSBJRTExKSBhbmQgYSBzaGltIGZvclxuICogYSBkZXByZWNhdGVkIGZlYXR1cmUgY2FsbGVkIGBAYXBwbHlgIHRoYXQgc3VwcG9ydHMgYXBwbHlpbmcgYSBzZXQgb2YgY3NzXG4gKiBjdXN0b20gcHJvcGVydGllcyB0byBhIGdpdmVuIGxvY2F0aW9uLlxuICpcbiAqIFVzYWdlIGNvbnNpZGVyYXRpb25zOlxuICpcbiAqICogUGFydCB2YWx1ZXMgaW4gYDxzdHlsZT5gIGVsZW1lbnRzIGFyZSBvbmx5IGFwcGxpZWQgdGhlIGZpcnN0IHRpbWUgYSBnaXZlblxuICogYHNjb3BlTmFtZWAgcmVuZGVycy4gU3Vic2VxdWVudCBjaGFuZ2VzIHRvIHBhcnRzIGluIHN0eWxlIGVsZW1lbnRzIHdpbGwgaGF2ZVxuICogbm8gZWZmZWN0LiBCZWNhdXNlIG9mIHRoaXMsIHBhcnRzIGluIHN0eWxlIGVsZW1lbnRzIHNob3VsZCBvbmx5IGJlIHVzZWQgZm9yXG4gKiB2YWx1ZXMgdGhhdCB3aWxsIG5ldmVyIGNoYW5nZSwgZm9yIGV4YW1wbGUgcGFydHMgdGhhdCBzZXQgc2NvcGUtd2lkZSB0aGVtZVxuICogdmFsdWVzIG9yIHBhcnRzIHdoaWNoIHJlbmRlciBzaGFyZWQgc3R5bGUgZWxlbWVudHMuXG4gKlxuICogKiBOb3RlLCBkdWUgdG8gYSBsaW1pdGF0aW9uIG9mIHRoZSBTaGFkeURPTSBwb2x5ZmlsbCwgcmVuZGVyaW5nIGluIGFcbiAqIGN1c3RvbSBlbGVtZW50J3MgYGNvbnN0cnVjdG9yYCBpcyBub3Qgc3VwcG9ydGVkLiBJbnN0ZWFkIHJlbmRlcmluZyBzaG91bGRcbiAqIGVpdGhlciBkb25lIGFzeW5jaHJvbm91c2x5LCBmb3IgZXhhbXBsZSBhdCBtaWNyb3Rhc2sgdGltaW5nIChmb3IgZXhhbXBsZVxuICogYFByb21pc2UucmVzb2x2ZSgpYCksIG9yIGJlIGRlZmVycmVkIHVudGlsIHRoZSBmaXJzdCB0aW1lIHRoZSBlbGVtZW50J3NcbiAqIGBjb25uZWN0ZWRDYWxsYmFja2AgcnVucy5cbiAqXG4gKiBVc2FnZSBjb25zaWRlcmF0aW9ucyB3aGVuIHVzaW5nIHNoaW1tZWQgY3VzdG9tIHByb3BlcnRpZXMgb3IgYEBhcHBseWA6XG4gKlxuICogKiBXaGVuZXZlciBhbnkgZHluYW1pYyBjaGFuZ2VzIGFyZSBtYWRlIHdoaWNoIGFmZmVjdFxuICogY3NzIGN1c3RvbSBwcm9wZXJ0aWVzLCBgU2hhZHlDU1Muc3R5bGVFbGVtZW50KGVsZW1lbnQpYCBtdXN0IGJlIGNhbGxlZFxuICogdG8gdXBkYXRlIHRoZSBlbGVtZW50LiBUaGVyZSBhcmUgdHdvIGNhc2VzIHdoZW4gdGhpcyBpcyBuZWVkZWQ6XG4gKiAoMSkgdGhlIGVsZW1lbnQgaXMgY29ubmVjdGVkIHRvIGEgbmV3IHBhcmVudCwgKDIpIGEgY2xhc3MgaXMgYWRkZWQgdG8gdGhlXG4gKiBlbGVtZW50IHRoYXQgY2F1c2VzIGl0IHRvIG1hdGNoIGRpZmZlcmVudCBjdXN0b20gcHJvcGVydGllcy5cbiAqIFRvIGFkZHJlc3MgdGhlIGZpcnN0IGNhc2Ugd2hlbiByZW5kZXJpbmcgYSBjdXN0b20gZWxlbWVudCwgYHN0eWxlRWxlbWVudGBcbiAqIHNob3VsZCBiZSBjYWxsZWQgaW4gdGhlIGVsZW1lbnQncyBgY29ubmVjdGVkQ2FsbGJhY2tgLlxuICpcbiAqICogU2hpbW1lZCBjdXN0b20gcHJvcGVydGllcyBtYXkgb25seSBiZSBkZWZpbmVkIGVpdGhlciBmb3IgYW4gZW50aXJlXG4gKiBzaGFkb3dSb290IChmb3IgZXhhbXBsZSwgaW4gYSBgOmhvc3RgIHJ1bGUpIG9yIHZpYSBhIHJ1bGUgdGhhdCBkaXJlY3RseVxuICogbWF0Y2hlcyBhbiBlbGVtZW50IHdpdGggYSBzaGFkb3dSb290LiBJbiBvdGhlciB3b3JkcywgaW5zdGVhZCBvZiBmbG93aW5nIGZyb21cbiAqIHBhcmVudCB0byBjaGlsZCBhcyBkbyBuYXRpdmUgY3NzIGN1c3RvbSBwcm9wZXJ0aWVzLCBzaGltbWVkIGN1c3RvbSBwcm9wZXJ0aWVzXG4gKiBmbG93IG9ubHkgZnJvbSBzaGFkb3dSb290cyB0byBuZXN0ZWQgc2hhZG93Um9vdHMuXG4gKlxuICogKiBXaGVuIHVzaW5nIGBAYXBwbHlgIG1peGluZyBjc3Mgc2hvcnRoYW5kIHByb3BlcnR5IG5hbWVzIHdpdGhcbiAqIG5vbi1zaG9ydGhhbmQgbmFtZXMgKGZvciBleGFtcGxlIGBib3JkZXJgIGFuZCBgYm9yZGVyLXdpZHRoYCkgaXMgbm90XG4gKiBzdXBwb3J0ZWQuXG4gKi9cbmV4cG9ydCBjb25zdCByZW5kZXIgPVxuICAgIChyZXN1bHQ6IFRlbXBsYXRlUmVzdWx0LFxuICAgICBjb250YWluZXI6IEVsZW1lbnR8RG9jdW1lbnRGcmFnbWVudHxTaGFkb3dSb290LFxuICAgICBvcHRpb25zOiBTaGFkeVJlbmRlck9wdGlvbnMpID0+IHtcbiAgICAgIGNvbnN0IHNjb3BlTmFtZSA9IG9wdGlvbnMuc2NvcGVOYW1lO1xuICAgICAgY29uc3QgaGFzUmVuZGVyZWQgPSBwYXJ0cy5oYXMoY29udGFpbmVyKTtcbiAgICAgIGNvbnN0IG5lZWRzU2NvcGluZyA9IGNvbXBhdGlibGVTaGFkeUNTU1ZlcnNpb24gJiZcbiAgICAgICAgICBjb250YWluZXIubm9kZVR5cGUgPT09IDExIC8qIE5vZGUuRE9DVU1FTlRfRlJBR01FTlRfTk9ERSAqLyAmJlxuICAgICAgICAgICEhKGNvbnRhaW5lciBhcyBTaGFkb3dSb290KS5ob3N0ICYmIHJlc3VsdCBpbnN0YW5jZW9mIFRlbXBsYXRlUmVzdWx0O1xuICAgICAgLy8gSGFuZGxlIGZpcnN0IHJlbmRlciB0byBhIHNjb3BlIHNwZWNpYWxseS4uLlxuICAgICAgY29uc3QgZmlyc3RTY29wZVJlbmRlciA9IG5lZWRzU2NvcGluZyAmJiAhc2hhZHlSZW5kZXJTZXQuaGFzKHNjb3BlTmFtZSk7XG4gICAgICAvLyBPbiBmaXJzdCBzY29wZSByZW5kZXIsIHJlbmRlciBpbnRvIGEgZnJhZ21lbnQ7IHRoaXMgY2Fubm90IGJlIGEgc2luZ2xlXG4gICAgICAvLyBmcmFnbWVudCB0aGF0IGlzIHJldXNlZCBzaW5jZSBuZXN0ZWQgcmVuZGVycyBjYW4gb2NjdXIgc3luY2hyb25vdXNseS5cbiAgICAgIGNvbnN0IHJlbmRlckNvbnRhaW5lciA9XG4gICAgICAgICAgZmlyc3RTY29wZVJlbmRlciA/IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSA6IGNvbnRhaW5lcjtcbiAgICAgIGxpdFJlbmRlcihcbiAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgcmVuZGVyQ29udGFpbmVyLFxuICAgICAgICAgIHt0ZW1wbGF0ZUZhY3Rvcnk6IHNoYWR5VGVtcGxhdGVGYWN0b3J5KHNjb3BlTmFtZSksIC4uLm9wdGlvbnN9IGFzXG4gICAgICAgICAgICAgIFJlbmRlck9wdGlvbnMpO1xuICAgICAgLy8gV2hlbiBwZXJmb3JtaW5nIGZpcnN0IHNjb3BlIHJlbmRlcixcbiAgICAgIC8vICgxKSBXZSd2ZSByZW5kZXJlZCBpbnRvIGEgZnJhZ21lbnQgc28gdGhhdCB0aGVyZSdzIGEgY2hhbmNlIHRvXG4gICAgICAvLyBgcHJlcGFyZVRlbXBsYXRlU3R5bGVzYCBiZWZvcmUgc3ViLWVsZW1lbnRzIGhpdCB0aGUgRE9NXG4gICAgICAvLyAod2hpY2ggbWlnaHQgY2F1c2UgdGhlbSB0byByZW5kZXIgYmFzZWQgb24gYSBjb21tb24gcGF0dGVybiBvZlxuICAgICAgLy8gcmVuZGVyaW5nIGluIGEgY3VzdG9tIGVsZW1lbnQncyBgY29ubmVjdGVkQ2FsbGJhY2tgKTtcbiAgICAgIC8vICgyKSBTY29wZSB0aGUgdGVtcGxhdGUgd2l0aCBTaGFkeUNTUyBvbmUgdGltZSBvbmx5IGZvciB0aGlzIHNjb3BlLlxuICAgICAgLy8gKDMpIFJlbmRlciB0aGUgZnJhZ21lbnQgaW50byB0aGUgY29udGFpbmVyIGFuZCBtYWtlIHN1cmUgdGhlXG4gICAgICAvLyBjb250YWluZXIga25vd3MgaXRzIGBwYXJ0YCBpcyB0aGUgb25lIHdlIGp1c3QgcmVuZGVyZWQuIFRoaXMgZW5zdXJlc1xuICAgICAgLy8gRE9NIHdpbGwgYmUgcmUtdXNlZCBvbiBzdWJzZXF1ZW50IHJlbmRlcnMuXG4gICAgICBpZiAoZmlyc3RTY29wZVJlbmRlcikge1xuICAgICAgICBjb25zdCBwYXJ0ID0gcGFydHMuZ2V0KHJlbmRlckNvbnRhaW5lcikhO1xuICAgICAgICBwYXJ0cy5kZWxldGUocmVuZGVyQ29udGFpbmVyKTtcbiAgICAgICAgaWYgKHBhcnQudmFsdWUgaW5zdGFuY2VvZiBUZW1wbGF0ZUluc3RhbmNlKSB7XG4gICAgICAgICAgcHJlcGFyZVRlbXBsYXRlU3R5bGVzKFxuICAgICAgICAgICAgICByZW5kZXJDb250YWluZXIgYXMgRG9jdW1lbnRGcmFnbWVudCxcbiAgICAgICAgICAgICAgcGFydC52YWx1ZS50ZW1wbGF0ZSxcbiAgICAgICAgICAgICAgc2NvcGVOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZW1vdmVOb2Rlcyhjb250YWluZXIsIGNvbnRhaW5lci5maXJzdENoaWxkKTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJlbmRlckNvbnRhaW5lcik7XG4gICAgICAgIHBhcnRzLnNldChjb250YWluZXIsIHBhcnQpO1xuICAgICAgfVxuICAgICAgLy8gQWZ0ZXIgZWxlbWVudHMgaGF2ZSBoaXQgdGhlIERPTSwgdXBkYXRlIHN0eWxpbmcgaWYgdGhpcyBpcyB0aGVcbiAgICAgIC8vIGluaXRpYWwgcmVuZGVyIHRvIHRoaXMgY29udGFpbmVyLlxuICAgICAgLy8gVGhpcyBpcyBuZWVkZWQgd2hlbmV2ZXIgZHluYW1pYyBjaGFuZ2VzIGFyZSBtYWRlIHNvIGl0IHdvdWxkIGJlXG4gICAgICAvLyBzYWZlc3QgdG8gZG8gZXZlcnkgcmVuZGVyOyBob3dldmVyLCB0aGlzIHdvdWxkIHJlZ3Jlc3MgcGVyZm9ybWFuY2VcbiAgICAgIC8vIHNvIHdlIGxlYXZlIGl0IHVwIHRvIHRoZSB1c2VyIHRvIGNhbGwgYFNoYWR5Q1NTUy5zdHlsZUVsZW1lbnRgXG4gICAgICAvLyBmb3IgZHluYW1pYyBjaGFuZ2VzLlxuICAgICAgaWYgKCFoYXNSZW5kZXJlZCAmJiBuZWVkc1Njb3BpbmcpIHtcbiAgICAgICAgd2luZG93LlNoYWR5Q1NTIS5zdHlsZUVsZW1lbnQoKGNvbnRhaW5lciBhcyBTaGFkb3dSb290KS5ob3N0KTtcbiAgICAgIH1cbiAgICB9O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuXG4vKipcbiAqIFdoZW4gdXNpbmcgQ2xvc3VyZSBDb21waWxlciwgSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eShwcm9wZXJ0eSwgb2JqZWN0KSBpc1xuICogcmVwbGFjZWQgYXQgY29tcGlsZSB0aW1lIGJ5IHRoZSBtdW5nZWQgbmFtZSBmb3Igb2JqZWN0W3Byb3BlcnR5XS4gV2UgY2Fubm90XG4gKiBhbGlhcyB0aGlzIGZ1bmN0aW9uLCBzbyB3ZSBoYXZlIHRvIHVzZSBhIHNtYWxsIHNoaW0gdGhhdCBoYXMgdGhlIHNhbWVcbiAqIGJlaGF2aW9yIHdoZW4gbm90IGNvbXBpbGluZy5cbiAqL1xud2luZG93LkpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkgPVxuICAgIDxQIGV4dGVuZHMgUHJvcGVydHlLZXk+KHByb3A6IFAsIF9vYmo6IHVua25vd24pOiBQID0+IHByb3A7XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgdmFyIEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHk6IDxQIGV4dGVuZHMgUHJvcGVydHlLZXk+KFxuICAgICAgcHJvcDogUCwgX29iajogdW5rbm93bikgPT4gUDtcblxuICBpbnRlcmZhY2UgV2luZG93IHtcbiAgICBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5OiB0eXBlb2YgSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eTtcbiAgfVxufVxuXG4vKipcbiAqIENvbnZlcnRzIHByb3BlcnR5IHZhbHVlcyB0byBhbmQgZnJvbSBhdHRyaWJ1dGUgdmFsdWVzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbXBsZXhBdHRyaWJ1dGVDb252ZXJ0ZXI8VHlwZSA9IHVua25vd24sIFR5cGVIaW50ID0gdW5rbm93bj4ge1xuICAvKipcbiAgICogRnVuY3Rpb24gY2FsbGVkIHRvIGNvbnZlcnQgYW4gYXR0cmlidXRlIHZhbHVlIHRvIGEgcHJvcGVydHlcbiAgICogdmFsdWUuXG4gICAqL1xuICBmcm9tQXR0cmlidXRlPyh2YWx1ZTogc3RyaW5nfG51bGwsIHR5cGU/OiBUeXBlSGludCk6IFR5cGU7XG5cbiAgLyoqXG4gICAqIEZ1bmN0aW9uIGNhbGxlZCB0byBjb252ZXJ0IGEgcHJvcGVydHkgdmFsdWUgdG8gYW4gYXR0cmlidXRlXG4gICAqIHZhbHVlLlxuICAgKlxuICAgKiBJdCByZXR1cm5zIHVua25vd24gaW5zdGVhZCBvZiBzdHJpbmcsIHRvIGJlIGNvbXBhdGlibGUgd2l0aFxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vV0lDRy90cnVzdGVkLXR5cGVzIChhbmQgc2ltaWxhciBlZmZvcnRzKS5cbiAgICovXG4gIHRvQXR0cmlidXRlPyh2YWx1ZTogVHlwZSwgdHlwZT86IFR5cGVIaW50KTogdW5rbm93bjtcbn1cblxudHlwZSBBdHRyaWJ1dGVDb252ZXJ0ZXI8VHlwZSA9IHVua25vd24sIFR5cGVIaW50ID0gdW5rbm93bj4gPVxuICAgIENvbXBsZXhBdHRyaWJ1dGVDb252ZXJ0ZXI8VHlwZT58KCh2YWx1ZTogc3RyaW5nLCB0eXBlPzogVHlwZUhpbnQpID0+IFR5cGUpO1xuXG4vKipcbiAqIERlZmluZXMgb3B0aW9ucyBmb3IgYSBwcm9wZXJ0eSBhY2Nlc3Nvci5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQcm9wZXJ0eURlY2xhcmF0aW9uPFR5cGUgPSB1bmtub3duLCBUeXBlSGludCA9IHVua25vd24+IHtcbiAgLyoqXG4gICAqIEluZGljYXRlcyBob3cgYW5kIHdoZXRoZXIgdGhlIHByb3BlcnR5IGJlY29tZXMgYW4gb2JzZXJ2ZWQgYXR0cmlidXRlLlxuICAgKiBJZiB0aGUgdmFsdWUgaXMgYGZhbHNlYCwgdGhlIHByb3BlcnR5IGlzIG5vdCBhZGRlZCB0byBgb2JzZXJ2ZWRBdHRyaWJ1dGVzYC5cbiAgICogSWYgdHJ1ZSBvciBhYnNlbnQsIHRoZSBsb3dlcmNhc2VkIHByb3BlcnR5IG5hbWUgaXMgb2JzZXJ2ZWQgKGUuZy4gYGZvb0JhcmBcbiAgICogYmVjb21lcyBgZm9vYmFyYCkuIElmIGEgc3RyaW5nLCB0aGUgc3RyaW5nIHZhbHVlIGlzIG9ic2VydmVkIChlLmdcbiAgICogYGF0dHJpYnV0ZTogJ2Zvby1iYXInYCkuXG4gICAqL1xuICByZWFkb25seSBhdHRyaWJ1dGU/OiBib29sZWFufHN0cmluZztcblxuICAvKipcbiAgICogSW5kaWNhdGVzIHRoZSB0eXBlIG9mIHRoZSBwcm9wZXJ0eS4gVGhpcyBpcyB1c2VkIG9ubHkgYXMgYSBoaW50IGZvciB0aGVcbiAgICogYGNvbnZlcnRlcmAgdG8gZGV0ZXJtaW5lIGhvdyB0byBjb252ZXJ0IHRoZSBhdHRyaWJ1dGVcbiAgICogdG8vZnJvbSBhIHByb3BlcnR5LlxuICAgKi9cbiAgcmVhZG9ubHkgdHlwZT86IFR5cGVIaW50O1xuXG4gIC8qKlxuICAgKiBJbmRpY2F0ZXMgaG93IHRvIGNvbnZlcnQgdGhlIGF0dHJpYnV0ZSB0by9mcm9tIGEgcHJvcGVydHkuIElmIHRoaXMgdmFsdWVcbiAgICogaXMgYSBmdW5jdGlvbiwgaXQgaXMgdXNlZCB0byBjb252ZXJ0IHRoZSBhdHRyaWJ1dGUgdmFsdWUgYSB0aGUgcHJvcGVydHlcbiAgICogdmFsdWUuIElmIGl0J3MgYW4gb2JqZWN0LCBpdCBjYW4gaGF2ZSBrZXlzIGZvciBgZnJvbUF0dHJpYnV0ZWAgYW5kXG4gICAqIGB0b0F0dHJpYnV0ZWAuIElmIG5vIGB0b0F0dHJpYnV0ZWAgZnVuY3Rpb24gaXMgcHJvdmlkZWQgYW5kXG4gICAqIGByZWZsZWN0YCBpcyBzZXQgdG8gYHRydWVgLCB0aGUgcHJvcGVydHkgdmFsdWUgaXMgc2V0IGRpcmVjdGx5IHRvIHRoZVxuICAgKiBhdHRyaWJ1dGUuIEEgZGVmYXVsdCBgY29udmVydGVyYCBpcyB1c2VkIGlmIG5vbmUgaXMgcHJvdmlkZWQ7IGl0IHN1cHBvcnRzXG4gICAqIGBCb29sZWFuYCwgYFN0cmluZ2AsIGBOdW1iZXJgLCBgT2JqZWN0YCwgYW5kIGBBcnJheWAuIE5vdGUsXG4gICAqIHdoZW4gYSBwcm9wZXJ0eSBjaGFuZ2VzIGFuZCB0aGUgY29udmVydGVyIGlzIHVzZWQgdG8gdXBkYXRlIHRoZSBhdHRyaWJ1dGUsXG4gICAqIHRoZSBwcm9wZXJ0eSBpcyBuZXZlciB1cGRhdGVkIGFnYWluIGFzIGEgcmVzdWx0IG9mIHRoZSBhdHRyaWJ1dGUgY2hhbmdpbmcsXG4gICAqIGFuZCB2aWNlIHZlcnNhLlxuICAgKi9cbiAgcmVhZG9ubHkgY29udmVydGVyPzogQXR0cmlidXRlQ29udmVydGVyPFR5cGUsIFR5cGVIaW50PjtcblxuICAvKipcbiAgICogSW5kaWNhdGVzIGlmIHRoZSBwcm9wZXJ0eSBzaG91bGQgcmVmbGVjdCB0byBhbiBhdHRyaWJ1dGUuXG4gICAqIElmIGB0cnVlYCwgd2hlbiB0aGUgcHJvcGVydHkgaXMgc2V0LCB0aGUgYXR0cmlidXRlIGlzIHNldCB1c2luZyB0aGVcbiAgICogYXR0cmlidXRlIG5hbWUgZGV0ZXJtaW5lZCBhY2NvcmRpbmcgdG8gdGhlIHJ1bGVzIGZvciB0aGUgYGF0dHJpYnV0ZWBcbiAgICogcHJvcGVydHkgb3B0aW9uIGFuZCB0aGUgdmFsdWUgb2YgdGhlIHByb3BlcnR5IGNvbnZlcnRlZCB1c2luZyB0aGUgcnVsZXNcbiAgICogZnJvbSB0aGUgYGNvbnZlcnRlcmAgcHJvcGVydHkgb3B0aW9uLlxuICAgKi9cbiAgcmVhZG9ubHkgcmVmbGVjdD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEEgZnVuY3Rpb24gdGhhdCBpbmRpY2F0ZXMgaWYgYSBwcm9wZXJ0eSBzaG91bGQgYmUgY29uc2lkZXJlZCBjaGFuZ2VkIHdoZW5cbiAgICogaXQgaXMgc2V0LiBUaGUgZnVuY3Rpb24gc2hvdWxkIHRha2UgdGhlIGBuZXdWYWx1ZWAgYW5kIGBvbGRWYWx1ZWAgYW5kXG4gICAqIHJldHVybiBgdHJ1ZWAgaWYgYW4gdXBkYXRlIHNob3VsZCBiZSByZXF1ZXN0ZWQuXG4gICAqL1xuICBoYXNDaGFuZ2VkPyh2YWx1ZTogVHlwZSwgb2xkVmFsdWU6IFR5cGUpOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBJbmRpY2F0ZXMgd2hldGhlciBhbiBhY2Nlc3NvciB3aWxsIGJlIGNyZWF0ZWQgZm9yIHRoaXMgcHJvcGVydHkuIEJ5XG4gICAqIGRlZmF1bHQsIGFuIGFjY2Vzc29yIHdpbGwgYmUgZ2VuZXJhdGVkIGZvciB0aGlzIHByb3BlcnR5IHRoYXQgcmVxdWVzdHMgYW5cbiAgICogdXBkYXRlIHdoZW4gc2V0LiBJZiB0aGlzIGZsYWcgaXMgYHRydWVgLCBubyBhY2Nlc3NvciB3aWxsIGJlIGNyZWF0ZWQsIGFuZFxuICAgKiBpdCB3aWxsIGJlIHRoZSB1c2VyJ3MgcmVzcG9uc2liaWxpdHkgdG8gY2FsbFxuICAgKiBgdGhpcy5yZXF1ZXN0VXBkYXRlKHByb3BlcnR5TmFtZSwgb2xkVmFsdWUpYCB0byByZXF1ZXN0IGFuIHVwZGF0ZSB3aGVuXG4gICAqIHRoZSBwcm9wZXJ0eSBjaGFuZ2VzLlxuICAgKi9cbiAgcmVhZG9ubHkgbm9BY2Nlc3Nvcj86IGJvb2xlYW47XG59XG5cbi8qKlxuICogTWFwIG9mIHByb3BlcnRpZXMgdG8gUHJvcGVydHlEZWNsYXJhdGlvbiBvcHRpb25zLiBGb3IgZWFjaCBwcm9wZXJ0eSBhblxuICogYWNjZXNzb3IgaXMgbWFkZSwgYW5kIHRoZSBwcm9wZXJ0eSBpcyBwcm9jZXNzZWQgYWNjb3JkaW5nIHRvIHRoZVxuICogUHJvcGVydHlEZWNsYXJhdGlvbiBvcHRpb25zLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFByb3BlcnR5RGVjbGFyYXRpb25zIHtcbiAgcmVhZG9ubHkgW2tleTogc3RyaW5nXTogUHJvcGVydHlEZWNsYXJhdGlvbjtcbn1cblxudHlwZSBQcm9wZXJ0eURlY2xhcmF0aW9uTWFwID0gTWFwPFByb3BlcnR5S2V5LCBQcm9wZXJ0eURlY2xhcmF0aW9uPjtcblxudHlwZSBBdHRyaWJ1dGVNYXAgPSBNYXA8c3RyaW5nLCBQcm9wZXJ0eUtleT47XG5cbmV4cG9ydCB0eXBlIFByb3BlcnR5VmFsdWVzID0gTWFwPFByb3BlcnR5S2V5LCB1bmtub3duPjtcblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRDb252ZXJ0ZXI6IENvbXBsZXhBdHRyaWJ1dGVDb252ZXJ0ZXIgPSB7XG5cbiAgdG9BdHRyaWJ1dGUodmFsdWU6IHVua25vd24sIHR5cGU/OiB1bmtub3duKTogdW5rbm93biB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIEJvb2xlYW46XG4gICAgICAgIHJldHVybiB2YWx1ZSA/ICcnIDogbnVsbDtcbiAgICAgIGNhc2UgT2JqZWN0OlxuICAgICAgY2FzZSBBcnJheTpcbiAgICAgICAgLy8gaWYgdGhlIHZhbHVlIGlzIGBudWxsYCBvciBgdW5kZWZpbmVkYCBwYXNzIHRoaXMgdGhyb3VnaFxuICAgICAgICAvLyB0byBhbGxvdyByZW1vdmluZy9ubyBjaGFuZ2UgYmVoYXZpb3IuXG4gICAgICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gdmFsdWUgOiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfSxcblxuICBmcm9tQXR0cmlidXRlKHZhbHVlOiBzdHJpbmd8bnVsbCwgdHlwZT86IHVua25vd24pIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgQm9vbGVhbjpcbiAgICAgICAgcmV0dXJuIHZhbHVlICE9PSBudWxsO1xuICAgICAgY2FzZSBOdW1iZXI6XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCA/IG51bGwgOiBOdW1iZXIodmFsdWUpO1xuICAgICAgY2FzZSBPYmplY3Q6XG4gICAgICBjYXNlIEFycmF5OlxuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSh2YWx1ZSEpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxufTtcblxuZXhwb3J0IGludGVyZmFjZSBIYXNDaGFuZ2VkIHtcbiAgKHZhbHVlOiB1bmtub3duLCBvbGQ6IHVua25vd24pOiBib29sZWFuO1xufVxuXG4vKipcbiAqIENoYW5nZSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdHJ1ZSBpZiBgdmFsdWVgIGlzIGRpZmZlcmVudCBmcm9tIGBvbGRWYWx1ZWAuXG4gKiBUaGlzIG1ldGhvZCBpcyB1c2VkIGFzIHRoZSBkZWZhdWx0IGZvciBhIHByb3BlcnR5J3MgYGhhc0NoYW5nZWRgIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgY29uc3Qgbm90RXF1YWw6IEhhc0NoYW5nZWQgPSAodmFsdWU6IHVua25vd24sIG9sZDogdW5rbm93bik6IGJvb2xlYW4gPT4ge1xuICAvLyBUaGlzIGVuc3VyZXMgKG9sZD09TmFOLCB2YWx1ZT09TmFOKSBhbHdheXMgcmV0dXJucyBmYWxzZVxuICByZXR1cm4gb2xkICE9PSB2YWx1ZSAmJiAob2xkID09PSBvbGQgfHwgdmFsdWUgPT09IHZhbHVlKTtcbn07XG5cbmNvbnN0IGRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uOiBQcm9wZXJ0eURlY2xhcmF0aW9uID0ge1xuICBhdHRyaWJ1dGU6IHRydWUsXG4gIHR5cGU6IFN0cmluZyxcbiAgY29udmVydGVyOiBkZWZhdWx0Q29udmVydGVyLFxuICByZWZsZWN0OiBmYWxzZSxcbiAgaGFzQ2hhbmdlZDogbm90RXF1YWxcbn07XG5cbmNvbnN0IG1pY3JvdGFza1Byb21pc2UgPSBQcm9taXNlLnJlc29sdmUodHJ1ZSk7XG5cbmNvbnN0IFNUQVRFX0hBU19VUERBVEVEID0gMTtcbmNvbnN0IFNUQVRFX1VQREFURV9SRVFVRVNURUQgPSAxIDw8IDI7XG5jb25zdCBTVEFURV9JU19SRUZMRUNUSU5HX1RPX0FUVFJJQlVURSA9IDEgPDwgMztcbmNvbnN0IFNUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fUFJPUEVSVFkgPSAxIDw8IDQ7XG5jb25zdCBTVEFURV9IQVNfQ09OTkVDVEVEID0gMSA8PCA1O1xudHlwZSBVcGRhdGVTdGF0ZSA9IHR5cGVvZiBTVEFURV9IQVNfVVBEQVRFRHx0eXBlb2YgU1RBVEVfVVBEQVRFX1JFUVVFU1RFRHxcbiAgICB0eXBlb2YgU1RBVEVfSVNfUkVGTEVDVElOR19UT19BVFRSSUJVVEV8XG4gICAgdHlwZW9mIFNUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fUFJPUEVSVFl8dHlwZW9mIFNUQVRFX0hBU19DT05ORUNURUQ7XG5cbi8qKlxuICogQmFzZSBlbGVtZW50IGNsYXNzIHdoaWNoIG1hbmFnZXMgZWxlbWVudCBwcm9wZXJ0aWVzIGFuZCBhdHRyaWJ1dGVzLiBXaGVuXG4gKiBwcm9wZXJ0aWVzIGNoYW5nZSwgdGhlIGB1cGRhdGVgIG1ldGhvZCBpcyBhc3luY2hyb25vdXNseSBjYWxsZWQuIFRoaXMgbWV0aG9kXG4gKiBzaG91bGQgYmUgc3VwcGxpZWQgYnkgc3ViY2xhc3NlcnMgdG8gcmVuZGVyIHVwZGF0ZXMgYXMgZGVzaXJlZC5cbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFVwZGF0aW5nRWxlbWVudCBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgLypcbiAgICogRHVlIHRvIGNsb3N1cmUgY29tcGlsZXIgRVM2IGNvbXBpbGF0aW9uIGJ1Z3MsIEBub2NvbGxhcHNlIGlzIHJlcXVpcmVkIG9uXG4gICAqIGFsbCBzdGF0aWMgbWV0aG9kcyBhbmQgcHJvcGVydGllcyB3aXRoIGluaXRpYWxpemVycy4gIFJlZmVyZW5jZTpcbiAgICogLSBodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Nsb3N1cmUtY29tcGlsZXIvaXNzdWVzLzE3NzZcbiAgICovXG5cbiAgLyoqXG4gICAqIE1hcHMgYXR0cmlidXRlIG5hbWVzIHRvIHByb3BlcnRpZXM7IGZvciBleGFtcGxlIGBmb29iYXJgIGF0dHJpYnV0ZSB0b1xuICAgKiBgZm9vQmFyYCBwcm9wZXJ0eS4gQ3JlYXRlZCBsYXppbHkgb24gdXNlciBzdWJjbGFzc2VzIHdoZW4gZmluYWxpemluZyB0aGVcbiAgICogY2xhc3MuXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBfYXR0cmlidXRlVG9Qcm9wZXJ0eU1hcDogQXR0cmlidXRlTWFwO1xuXG4gIC8qKlxuICAgKiBNYXJrcyBjbGFzcyBhcyBoYXZpbmcgZmluaXNoZWQgY3JlYXRpbmcgcHJvcGVydGllcy5cbiAgICovXG4gIHByb3RlY3RlZCBzdGF0aWMgZmluYWxpemVkID0gdHJ1ZTtcblxuICAvKipcbiAgICogTWVtb2l6ZWQgbGlzdCBvZiBhbGwgY2xhc3MgcHJvcGVydGllcywgaW5jbHVkaW5nIGFueSBzdXBlcmNsYXNzIHByb3BlcnRpZXMuXG4gICAqIENyZWF0ZWQgbGF6aWx5IG9uIHVzZXIgc3ViY2xhc3NlcyB3aGVuIGZpbmFsaXppbmcgdGhlIGNsYXNzLlxuICAgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgX2NsYXNzUHJvcGVydGllcz86IFByb3BlcnR5RGVjbGFyYXRpb25NYXA7XG5cbiAgLyoqXG4gICAqIFVzZXItc3VwcGxpZWQgb2JqZWN0IHRoYXQgbWFwcyBwcm9wZXJ0eSBuYW1lcyB0byBgUHJvcGVydHlEZWNsYXJhdGlvbmBcbiAgICogb2JqZWN0cyBjb250YWluaW5nIG9wdGlvbnMgZm9yIGNvbmZpZ3VyaW5nIHRoZSBwcm9wZXJ0eS5cbiAgICovXG4gIHN0YXRpYyBwcm9wZXJ0aWVzOiBQcm9wZXJ0eURlY2xhcmF0aW9ucztcblxuICAvKipcbiAgICogUmV0dXJucyBhIGxpc3Qgb2YgYXR0cmlidXRlcyBjb3JyZXNwb25kaW5nIHRvIHRoZSByZWdpc3RlcmVkIHByb3BlcnRpZXMuXG4gICAqIEBub2NvbGxhcHNlXG4gICAqL1xuICBzdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcygpIHtcbiAgICAvLyBub3RlOiBwaWdneSBiYWNraW5nIG9uIHRoaXMgdG8gZW5zdXJlIHdlJ3JlIGZpbmFsaXplZC5cbiAgICB0aGlzLmZpbmFsaXplKCk7XG4gICAgY29uc3QgYXR0cmlidXRlczogc3RyaW5nW10gPSBbXTtcbiAgICAvLyBVc2UgZm9yRWFjaCBzbyB0aGlzIHdvcmtzIGV2ZW4gaWYgZm9yL29mIGxvb3BzIGFyZSBjb21waWxlZCB0byBmb3IgbG9vcHNcbiAgICAvLyBleHBlY3RpbmcgYXJyYXlzXG4gICAgdGhpcy5fY2xhc3NQcm9wZXJ0aWVzIS5mb3JFYWNoKCh2LCBwKSA9PiB7XG4gICAgICBjb25zdCBhdHRyID0gdGhpcy5fYXR0cmlidXRlTmFtZUZvclByb3BlcnR5KHAsIHYpO1xuICAgICAgaWYgKGF0dHIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLl9hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwLnNldChhdHRyLCBwKTtcbiAgICAgICAgYXR0cmlidXRlcy5wdXNoKGF0dHIpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBhdHRyaWJ1dGVzO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuc3VyZXMgdGhlIHByaXZhdGUgYF9jbGFzc1Byb3BlcnRpZXNgIHByb3BlcnR5IG1ldGFkYXRhIGlzIGNyZWF0ZWQuXG4gICAqIEluIGFkZGl0aW9uIHRvIGBmaW5hbGl6ZWAgdGhpcyBpcyBhbHNvIGNhbGxlZCBpbiBgY3JlYXRlUHJvcGVydHlgIHRvXG4gICAqIGVuc3VyZSB0aGUgYEBwcm9wZXJ0eWAgZGVjb3JhdG9yIGNhbiBhZGQgcHJvcGVydHkgbWV0YWRhdGEuXG4gICAqL1xuICAvKiogQG5vY29sbGFwc2UgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgX2Vuc3VyZUNsYXNzUHJvcGVydGllcygpIHtcbiAgICAvLyBlbnN1cmUgcHJpdmF0ZSBzdG9yYWdlIGZvciBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMuXG4gICAgaWYgKCF0aGlzLmhhc093blByb3BlcnR5KFxuICAgICAgICAgICAgSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnX2NsYXNzUHJvcGVydGllcycsIHRoaXMpKSkge1xuICAgICAgdGhpcy5fY2xhc3NQcm9wZXJ0aWVzID0gbmV3IE1hcCgpO1xuICAgICAgLy8gTk9URTogV29ya2Fyb3VuZCBJRTExIG5vdCBzdXBwb3J0aW5nIE1hcCBjb25zdHJ1Y3RvciBhcmd1bWVudC5cbiAgICAgIGNvbnN0IHN1cGVyUHJvcGVydGllczogUHJvcGVydHlEZWNsYXJhdGlvbk1hcCA9XG4gICAgICAgICAgT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLl9jbGFzc1Byb3BlcnRpZXM7XG4gICAgICBpZiAoc3VwZXJQcm9wZXJ0aWVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc3VwZXJQcm9wZXJ0aWVzLmZvckVhY2goXG4gICAgICAgICAgICAodjogUHJvcGVydHlEZWNsYXJhdGlvbiwgazogUHJvcGVydHlLZXkpID0+XG4gICAgICAgICAgICAgICAgdGhpcy5fY2xhc3NQcm9wZXJ0aWVzIS5zZXQoaywgdikpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgcHJvcGVydHkgYWNjZXNzb3Igb24gdGhlIGVsZW1lbnQgcHJvdG90eXBlIGlmIG9uZSBkb2VzIG5vdCBleGlzdC5cbiAgICogVGhlIHByb3BlcnR5IHNldHRlciBjYWxscyB0aGUgcHJvcGVydHkncyBgaGFzQ2hhbmdlZGAgcHJvcGVydHkgb3B0aW9uXG4gICAqIG9yIHVzZXMgYSBzdHJpY3QgaWRlbnRpdHkgY2hlY2sgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgb3Igbm90IHRvIHJlcXVlc3RcbiAgICogYW4gdXBkYXRlLlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKi9cbiAgc3RhdGljIGNyZWF0ZVByb3BlcnR5KFxuICAgICAgbmFtZTogUHJvcGVydHlLZXksXG4gICAgICBvcHRpb25zOiBQcm9wZXJ0eURlY2xhcmF0aW9uID0gZGVmYXVsdFByb3BlcnR5RGVjbGFyYXRpb24pIHtcbiAgICAvLyBOb3RlLCBzaW5jZSB0aGlzIGNhbiBiZSBjYWxsZWQgYnkgdGhlIGBAcHJvcGVydHlgIGRlY29yYXRvciB3aGljaFxuICAgIC8vIGlzIGNhbGxlZCBiZWZvcmUgYGZpbmFsaXplYCwgd2UgZW5zdXJlIHN0b3JhZ2UgZXhpc3RzIGZvciBwcm9wZXJ0eVxuICAgIC8vIG1ldGFkYXRhLlxuICAgIHRoaXMuX2Vuc3VyZUNsYXNzUHJvcGVydGllcygpO1xuICAgIHRoaXMuX2NsYXNzUHJvcGVydGllcyEuc2V0KG5hbWUsIG9wdGlvbnMpO1xuICAgIC8vIERvIG5vdCBnZW5lcmF0ZSBhbiBhY2Nlc3NvciBpZiB0aGUgcHJvdG90eXBlIGFscmVhZHkgaGFzIG9uZSwgc2luY2VcbiAgICAvLyBpdCB3b3VsZCBiZSBsb3N0IG90aGVyd2lzZSBhbmQgdGhhdCB3b3VsZCBuZXZlciBiZSB0aGUgdXNlcidzIGludGVudGlvbjtcbiAgICAvLyBJbnN0ZWFkLCB3ZSBleHBlY3QgdXNlcnMgdG8gY2FsbCBgcmVxdWVzdFVwZGF0ZWAgdGhlbXNlbHZlcyBmcm9tXG4gICAgLy8gdXNlci1kZWZpbmVkIGFjY2Vzc29ycy4gTm90ZSB0aGF0IGlmIHRoZSBzdXBlciBoYXMgYW4gYWNjZXNzb3Igd2Ugd2lsbFxuICAgIC8vIHN0aWxsIG92ZXJ3cml0ZSBpdFxuICAgIGlmIChvcHRpb25zLm5vQWNjZXNzb3IgfHwgdGhpcy5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qga2V5ID0gdHlwZW9mIG5hbWUgPT09ICdzeW1ib2wnID8gU3ltYm9sKCkgOiBgX18ke25hbWV9YDtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5wcm90b3R5cGUsIG5hbWUsIHtcbiAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnkgbm8gc3ltYm9sIGluIGluZGV4XG4gICAgICBnZXQoKTogYW55IHtcbiAgICAgICAgcmV0dXJuIHRoaXNba2V5XTtcbiAgICAgIH0sXG4gICAgICBzZXQodGhpczogVXBkYXRpbmdFbGVtZW50LCB2YWx1ZTogdW5rbm93bikge1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55IG5vIHN5bWJvbCBpbiBpbmRleFxuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9ICh0aGlzIGFzIGFueSlbbmFtZV07XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnkgbm8gc3ltYm9sIGluIGluZGV4XG4gICAgICAgICh0aGlzIGFzIGFueSlba2V5XSA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9yZXF1ZXN0VXBkYXRlKG5hbWUsIG9sZFZhbHVlKTtcbiAgICAgIH0sXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBwcm9wZXJ0eSBhY2Nlc3NvcnMgZm9yIHJlZ2lzdGVyZWQgcHJvcGVydGllcyBhbmQgZW5zdXJlc1xuICAgKiBhbnkgc3VwZXJjbGFzc2VzIGFyZSBhbHNvIGZpbmFsaXplZC5cbiAgICogQG5vY29sbGFwc2VcbiAgICovXG4gIHByb3RlY3RlZCBzdGF0aWMgZmluYWxpemUoKSB7XG4gICAgaWYgKHRoaXMuaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnZmluYWxpemVkJywgdGhpcykpICYmXG4gICAgICAgIHRoaXMuZmluYWxpemVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGZpbmFsaXplIGFueSBzdXBlcmNsYXNzZXNcbiAgICBjb25zdCBzdXBlckN0b3IgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcyk7XG4gICAgaWYgKHR5cGVvZiBzdXBlckN0b3IuZmluYWxpemUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHN1cGVyQ3Rvci5maW5hbGl6ZSgpO1xuICAgIH1cbiAgICB0aGlzLmZpbmFsaXplZCA9IHRydWU7XG4gICAgdGhpcy5fZW5zdXJlQ2xhc3NQcm9wZXJ0aWVzKCk7XG4gICAgLy8gaW5pdGlhbGl6ZSBNYXAgcG9wdWxhdGVkIGluIG9ic2VydmVkQXR0cmlidXRlc1xuICAgIHRoaXMuX2F0dHJpYnV0ZVRvUHJvcGVydHlNYXAgPSBuZXcgTWFwKCk7XG4gICAgLy8gbWFrZSBhbnkgcHJvcGVydGllc1xuICAgIC8vIE5vdGUsIG9ubHkgcHJvY2VzcyBcIm93blwiIHByb3BlcnRpZXMgc2luY2UgdGhpcyBlbGVtZW50IHdpbGwgaW5oZXJpdFxuICAgIC8vIGFueSBwcm9wZXJ0aWVzIGRlZmluZWQgb24gdGhlIHN1cGVyQ2xhc3MsIGFuZCBmaW5hbGl6YXRpb24gZW5zdXJlc1xuICAgIC8vIHRoZSBlbnRpcmUgcHJvdG90eXBlIGNoYWluIGlzIGZpbmFsaXplZC5cbiAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdwcm9wZXJ0aWVzJywgdGhpcykpKSB7XG4gICAgICBjb25zdCBwcm9wcyA9IHRoaXMucHJvcGVydGllcztcbiAgICAgIC8vIHN1cHBvcnQgc3ltYm9scyBpbiBwcm9wZXJ0aWVzIChJRTExIGRvZXMgbm90IHN1cHBvcnQgdGhpcylcbiAgICAgIGNvbnN0IHByb3BLZXlzID0gW1xuICAgICAgICAuLi5PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhwcm9wcyksXG4gICAgICAgIC4uLih0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gJ2Z1bmN0aW9uJykgP1xuICAgICAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhwcm9wcykgOlxuICAgICAgICAgICAgW11cbiAgICAgIF07XG4gICAgICAvLyBUaGlzIGZvci9vZiBpcyBvayBiZWNhdXNlIHByb3BLZXlzIGlzIGFuIGFycmF5XG4gICAgICBmb3IgKGNvbnN0IHAgb2YgcHJvcEtleXMpIHtcbiAgICAgICAgLy8gbm90ZSwgdXNlIG9mIGBhbnlgIGlzIGR1ZSB0byBUeXBlU3JpcHQgbGFjayBvZiBzdXBwb3J0IGZvciBzeW1ib2wgaW5cbiAgICAgICAgLy8gaW5kZXggdHlwZXNcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBubyBzeW1ib2wgaW4gaW5kZXhcbiAgICAgICAgdGhpcy5jcmVhdGVQcm9wZXJ0eShwLCAocHJvcHMgYXMgYW55KVtwXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHByb3BlcnR5IG5hbWUgZm9yIHRoZSBnaXZlbiBhdHRyaWJ1dGUgYG5hbWVgLlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgX2F0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eShcbiAgICAgIG5hbWU6IFByb3BlcnR5S2V5LCBvcHRpb25zOiBQcm9wZXJ0eURlY2xhcmF0aW9uKSB7XG4gICAgY29uc3QgYXR0cmlidXRlID0gb3B0aW9ucy5hdHRyaWJ1dGU7XG4gICAgcmV0dXJuIGF0dHJpYnV0ZSA9PT0gZmFsc2UgP1xuICAgICAgICB1bmRlZmluZWQgOlxuICAgICAgICAodHlwZW9mIGF0dHJpYnV0ZSA9PT0gJ3N0cmluZycgP1xuICAgICAgICAgICAgIGF0dHJpYnV0ZSA6XG4gICAgICAgICAgICAgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJyA/IG5hbWUudG9Mb3dlckNhc2UoKSA6IHVuZGVmaW5lZCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiBhIHByb3BlcnR5IHNob3VsZCByZXF1ZXN0IGFuIHVwZGF0ZS5cbiAgICogQ2FsbGVkIHdoZW4gYSBwcm9wZXJ0eSB2YWx1ZSBpcyBzZXQgYW5kIHVzZXMgdGhlIGBoYXNDaGFuZ2VkYFxuICAgKiBvcHRpb24gZm9yIHRoZSBwcm9wZXJ0eSBpZiBwcmVzZW50IG9yIGEgc3RyaWN0IGlkZW50aXR5IGNoZWNrLlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgX3ZhbHVlSGFzQ2hhbmdlZChcbiAgICAgIHZhbHVlOiB1bmtub3duLCBvbGQ6IHVua25vd24sIGhhc0NoYW5nZWQ6IEhhc0NoYW5nZWQgPSBub3RFcXVhbCkge1xuICAgIHJldHVybiBoYXNDaGFuZ2VkKHZhbHVlLCBvbGQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlIGZvciB0aGUgZ2l2ZW4gYXR0cmlidXRlIHZhbHVlLlxuICAgKiBDYWxsZWQgdmlhIHRoZSBgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrYCBhbmQgdXNlcyB0aGUgcHJvcGVydHknc1xuICAgKiBgY29udmVydGVyYCBvciBgY29udmVydGVyLmZyb21BdHRyaWJ1dGVgIHByb3BlcnR5IG9wdGlvbi5cbiAgICogQG5vY29sbGFwc2VcbiAgICovXG4gIHByaXZhdGUgc3RhdGljIF9wcm9wZXJ0eVZhbHVlRnJvbUF0dHJpYnV0ZShcbiAgICAgIHZhbHVlOiBzdHJpbmd8bnVsbCwgb3B0aW9uczogUHJvcGVydHlEZWNsYXJhdGlvbikge1xuICAgIGNvbnN0IHR5cGUgPSBvcHRpb25zLnR5cGU7XG4gICAgY29uc3QgY29udmVydGVyID0gb3B0aW9ucy5jb252ZXJ0ZXIgfHwgZGVmYXVsdENvbnZlcnRlcjtcbiAgICBjb25zdCBmcm9tQXR0cmlidXRlID1cbiAgICAgICAgKHR5cGVvZiBjb252ZXJ0ZXIgPT09ICdmdW5jdGlvbicgPyBjb252ZXJ0ZXIgOiBjb252ZXJ0ZXIuZnJvbUF0dHJpYnV0ZSk7XG4gICAgcmV0dXJuIGZyb21BdHRyaWJ1dGUgPyBmcm9tQXR0cmlidXRlKHZhbHVlLCB0eXBlKSA6IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBmb3IgdGhlIGdpdmVuIHByb3BlcnR5IHZhbHVlLiBJZiB0aGlzXG4gICAqIHJldHVybnMgdW5kZWZpbmVkLCB0aGUgcHJvcGVydHkgd2lsbCAqbm90KiBiZSByZWZsZWN0ZWQgdG8gYW4gYXR0cmlidXRlLlxuICAgKiBJZiB0aGlzIHJldHVybnMgbnVsbCwgdGhlIGF0dHJpYnV0ZSB3aWxsIGJlIHJlbW92ZWQsIG90aGVyd2lzZSB0aGVcbiAgICogYXR0cmlidXRlIHdpbGwgYmUgc2V0IHRvIHRoZSB2YWx1ZS5cbiAgICogVGhpcyB1c2VzIHRoZSBwcm9wZXJ0eSdzIGByZWZsZWN0YCBhbmQgYHR5cGUudG9BdHRyaWJ1dGVgIHByb3BlcnR5IG9wdGlvbnMuXG4gICAqIEBub2NvbGxhcHNlXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBfcHJvcGVydHlWYWx1ZVRvQXR0cmlidXRlKFxuICAgICAgdmFsdWU6IHVua25vd24sIG9wdGlvbnM6IFByb3BlcnR5RGVjbGFyYXRpb24pIHtcbiAgICBpZiAob3B0aW9ucy5yZWZsZWN0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdHlwZSA9IG9wdGlvbnMudHlwZTtcbiAgICBjb25zdCBjb252ZXJ0ZXIgPSBvcHRpb25zLmNvbnZlcnRlcjtcbiAgICBjb25zdCB0b0F0dHJpYnV0ZSA9XG4gICAgICAgIGNvbnZlcnRlciAmJiAoY29udmVydGVyIGFzIENvbXBsZXhBdHRyaWJ1dGVDb252ZXJ0ZXIpLnRvQXR0cmlidXRlIHx8XG4gICAgICAgIGRlZmF1bHRDb252ZXJ0ZXIudG9BdHRyaWJ1dGU7XG4gICAgcmV0dXJuIHRvQXR0cmlidXRlISh2YWx1ZSwgdHlwZSk7XG4gIH1cblxuICBwcml2YXRlIF91cGRhdGVTdGF0ZTogVXBkYXRlU3RhdGUgPSAwO1xuICBwcml2YXRlIF9pbnN0YW5jZVByb3BlcnRpZXM6IFByb3BlcnR5VmFsdWVzfHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBfdXBkYXRlUHJvbWlzZTogUHJvbWlzZTx1bmtub3duPiA9IG1pY3JvdGFza1Byb21pc2U7XG4gIHByaXZhdGUgX2hhc0Nvbm5lY3RlZFJlc29sdmVyOiAoKCkgPT4gdm9pZCl8dW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBNYXAgd2l0aCBrZXlzIGZvciBhbnkgcHJvcGVydGllcyB0aGF0IGhhdmUgY2hhbmdlZCBzaW5jZSB0aGUgbGFzdFxuICAgKiB1cGRhdGUgY3ljbGUgd2l0aCBwcmV2aW91cyB2YWx1ZXMuXG4gICAqL1xuICBwcml2YXRlIF9jaGFuZ2VkUHJvcGVydGllczogUHJvcGVydHlWYWx1ZXMgPSBuZXcgTWFwKCk7XG5cbiAgLyoqXG4gICAqIE1hcCB3aXRoIGtleXMgb2YgcHJvcGVydGllcyB0aGF0IHNob3VsZCBiZSByZWZsZWN0ZWQgd2hlbiB1cGRhdGVkLlxuICAgKi9cbiAgcHJpdmF0ZSBfcmVmbGVjdGluZ1Byb3BlcnRpZXM6IE1hcDxQcm9wZXJ0eUtleSwgUHJvcGVydHlEZWNsYXJhdGlvbj58XG4gICAgICB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQZXJmb3JtcyBlbGVtZW50IGluaXRpYWxpemF0aW9uLiBCeSBkZWZhdWx0IGNhcHR1cmVzIGFueSBwcmUtc2V0IHZhbHVlcyBmb3JcbiAgICogcmVnaXN0ZXJlZCBwcm9wZXJ0aWVzLlxuICAgKi9cbiAgcHJvdGVjdGVkIGluaXRpYWxpemUoKSB7XG4gICAgdGhpcy5fc2F2ZUluc3RhbmNlUHJvcGVydGllcygpO1xuICAgIC8vIGVuc3VyZXMgZmlyc3QgdXBkYXRlIHdpbGwgYmUgY2F1Z2h0IGJ5IGFuIGVhcmx5IGFjY2VzcyBvZiBgdXBkYXRlQ29tcGxldGVgXG4gICAgdGhpcy5fcmVxdWVzdFVwZGF0ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpeGVzIGFueSBwcm9wZXJ0aWVzIHNldCBvbiB0aGUgaW5zdGFuY2UgYmVmb3JlIHVwZ3JhZGUgdGltZS5cbiAgICogT3RoZXJ3aXNlIHRoZXNlIHdvdWxkIHNoYWRvdyB0aGUgYWNjZXNzb3IgYW5kIGJyZWFrIHRoZXNlIHByb3BlcnRpZXMuXG4gICAqIFRoZSBwcm9wZXJ0aWVzIGFyZSBzdG9yZWQgaW4gYSBNYXAgd2hpY2ggaXMgcGxheWVkIGJhY2sgYWZ0ZXIgdGhlXG4gICAqIGNvbnN0cnVjdG9yIHJ1bnMuIE5vdGUsIG9uIHZlcnkgb2xkIHZlcnNpb25zIG9mIFNhZmFyaSAoPD05KSBvciBDaHJvbWVcbiAgICogKDw9NDEpLCBwcm9wZXJ0aWVzIGNyZWF0ZWQgZm9yIG5hdGl2ZSBwbGF0Zm9ybSBwcm9wZXJ0aWVzIGxpa2UgKGBpZGAgb3JcbiAgICogYG5hbWVgKSBtYXkgbm90IGhhdmUgZGVmYXVsdCB2YWx1ZXMgc2V0IGluIHRoZSBlbGVtZW50IGNvbnN0cnVjdG9yLiBPblxuICAgKiB0aGVzZSBicm93c2VycyBuYXRpdmUgcHJvcGVydGllcyBhcHBlYXIgb24gaW5zdGFuY2VzIGFuZCB0aGVyZWZvcmUgdGhlaXJcbiAgICogZGVmYXVsdCB2YWx1ZSB3aWxsIG92ZXJ3cml0ZSBhbnkgZWxlbWVudCBkZWZhdWx0IChlLmcuIGlmIHRoZSBlbGVtZW50IHNldHNcbiAgICogdGhpcy5pZCA9ICdpZCcgaW4gdGhlIGNvbnN0cnVjdG9yLCB0aGUgJ2lkJyB3aWxsIGJlY29tZSAnJyBzaW5jZSB0aGlzIGlzXG4gICAqIHRoZSBuYXRpdmUgcGxhdGZvcm0gZGVmYXVsdCkuXG4gICAqL1xuICBwcml2YXRlIF9zYXZlSW5zdGFuY2VQcm9wZXJ0aWVzKCkge1xuICAgIC8vIFVzZSBmb3JFYWNoIHNvIHRoaXMgd29ya3MgZXZlbiBpZiBmb3Ivb2YgbG9vcHMgYXJlIGNvbXBpbGVkIHRvIGZvciBsb29wc1xuICAgIC8vIGV4cGVjdGluZyBhcnJheXNcbiAgICAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgVXBkYXRpbmdFbGVtZW50KVxuICAgICAgICAuX2NsYXNzUHJvcGVydGllcyEuZm9yRWFjaCgoX3YsIHApID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShwKSkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzW3AgYXMga2V5b2YgdGhpc107XG4gICAgICAgICAgICBkZWxldGUgdGhpc1twIGFzIGtleW9mIHRoaXNdO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9pbnN0YW5jZVByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgdGhpcy5faW5zdGFuY2VQcm9wZXJ0aWVzID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5faW5zdGFuY2VQcm9wZXJ0aWVzLnNldChwLCB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBsaWVzIHByZXZpb3VzbHkgc2F2ZWQgaW5zdGFuY2UgcHJvcGVydGllcy5cbiAgICovXG4gIHByaXZhdGUgX2FwcGx5SW5zdGFuY2VQcm9wZXJ0aWVzKCkge1xuICAgIC8vIFVzZSBmb3JFYWNoIHNvIHRoaXMgd29ya3MgZXZlbiBpZiBmb3Ivb2YgbG9vcHMgYXJlIGNvbXBpbGVkIHRvIGZvciBsb29wc1xuICAgIC8vIGV4cGVjdGluZyBhcnJheXNcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG4gICAgdGhpcy5faW5zdGFuY2VQcm9wZXJ0aWVzIS5mb3JFYWNoKCh2LCBwKSA9PiAodGhpcyBhcyBhbnkpW3BdID0gdik7XG4gICAgdGhpcy5faW5zdGFuY2VQcm9wZXJ0aWVzID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5fdXBkYXRlU3RhdGUgPSB0aGlzLl91cGRhdGVTdGF0ZSB8IFNUQVRFX0hBU19DT05ORUNURUQ7XG4gICAgLy8gRW5zdXJlIGZpcnN0IGNvbm5lY3Rpb24gY29tcGxldGVzIGFuIHVwZGF0ZS4gVXBkYXRlcyBjYW5ub3QgY29tcGxldGUgYmVmb3JlXG4gICAgLy8gY29ubmVjdGlvbiBhbmQgaWYgb25lIGlzIHBlbmRpbmcgY29ubmVjdGlvbiB0aGUgYF9oYXNDb25uZWN0aW9uUmVzb2x2ZXJgXG4gICAgLy8gd2lsbCBleGlzdC4gSWYgc28sIHJlc29sdmUgaXQgdG8gY29tcGxldGUgdGhlIHVwZGF0ZSwgb3RoZXJ3aXNlXG4gICAgLy8gcmVxdWVzdFVwZGF0ZS5cbiAgICBpZiAodGhpcy5faGFzQ29ubmVjdGVkUmVzb2x2ZXIpIHtcbiAgICAgIHRoaXMuX2hhc0Nvbm5lY3RlZFJlc29sdmVyKCk7XG4gICAgICB0aGlzLl9oYXNDb25uZWN0ZWRSZXNvbHZlciA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWxsb3dzIGZvciBgc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2soKWAgaW4gZXh0ZW5zaW9ucyB3aGlsZVxuICAgKiByZXNlcnZpbmcgdGhlIHBvc3NpYmlsaXR5IG9mIG1ha2luZyBub24tYnJlYWtpbmcgZmVhdHVyZSBhZGRpdGlvbnNcbiAgICogd2hlbiBkaXNjb25uZWN0aW5nIGF0IHNvbWUgcG9pbnQgaW4gdGhlIGZ1dHVyZS5cbiAgICovXG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICB9XG5cbiAgLyoqXG4gICAqIFN5bmNocm9uaXplcyBwcm9wZXJ0eSB2YWx1ZXMgd2hlbiBhdHRyaWJ1dGVzIGNoYW5nZS5cbiAgICovXG4gIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lOiBzdHJpbmcsIG9sZDogc3RyaW5nfG51bGwsIHZhbHVlOiBzdHJpbmd8bnVsbCkge1xuICAgIGlmIChvbGQgIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLl9hdHRyaWJ1dGVUb1Byb3BlcnR5KG5hbWUsIHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9wcm9wZXJ0eVRvQXR0cmlidXRlKFxuICAgICAgbmFtZTogUHJvcGVydHlLZXksIHZhbHVlOiB1bmtub3duLFxuICAgICAgb3B0aW9uczogUHJvcGVydHlEZWNsYXJhdGlvbiA9IGRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uKSB7XG4gICAgY29uc3QgY3RvciA9ICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBVcGRhdGluZ0VsZW1lbnQpO1xuICAgIGNvbnN0IGF0dHIgPSBjdG9yLl9hdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkobmFtZSwgb3B0aW9ucyk7XG4gICAgaWYgKGF0dHIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3QgYXR0clZhbHVlID0gY3Rvci5fcHJvcGVydHlWYWx1ZVRvQXR0cmlidXRlKHZhbHVlLCBvcHRpb25zKTtcbiAgICAgIC8vIGFuIHVuZGVmaW5lZCB2YWx1ZSBkb2VzIG5vdCBjaGFuZ2UgdGhlIGF0dHJpYnV0ZS5cbiAgICAgIGlmIChhdHRyVmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBUcmFjayBpZiB0aGUgcHJvcGVydHkgaXMgYmVpbmcgcmVmbGVjdGVkIHRvIGF2b2lkXG4gICAgICAvLyBzZXR0aW5nIHRoZSBwcm9wZXJ0eSBhZ2FpbiB2aWEgYGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFja2AuIE5vdGU6XG4gICAgICAvLyAxLiB0aGlzIHRha2VzIGFkdmFudGFnZSBvZiB0aGUgZmFjdCB0aGF0IHRoZSBjYWxsYmFjayBpcyBzeW5jaHJvbm91cy5cbiAgICAgIC8vIDIuIHdpbGwgYmVoYXZlIGluY29ycmVjdGx5IGlmIG11bHRpcGxlIGF0dHJpYnV0ZXMgYXJlIGluIHRoZSByZWFjdGlvblxuICAgICAgLy8gc3RhY2sgYXQgdGltZSBvZiBjYWxsaW5nLiBIb3dldmVyLCBzaW5jZSB3ZSBwcm9jZXNzIGF0dHJpYnV0ZXNcbiAgICAgIC8vIGluIGB1cGRhdGVgIHRoaXMgc2hvdWxkIG5vdCBiZSBwb3NzaWJsZSAob3IgYW4gZXh0cmVtZSBjb3JuZXIgY2FzZVxuICAgICAgLy8gdGhhdCB3ZSdkIGxpa2UgdG8gZGlzY292ZXIpLlxuICAgICAgLy8gbWFyayBzdGF0ZSByZWZsZWN0aW5nXG4gICAgICB0aGlzLl91cGRhdGVTdGF0ZSA9IHRoaXMuX3VwZGF0ZVN0YXRlIHwgU1RBVEVfSVNfUkVGTEVDVElOR19UT19BVFRSSUJVVEU7XG4gICAgICBpZiAoYXR0clZhbHVlID09IG51bGwpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoYXR0cik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShhdHRyLCBhdHRyVmFsdWUgYXMgc3RyaW5nKTtcbiAgICAgIH1cbiAgICAgIC8vIG1hcmsgc3RhdGUgbm90IHJlZmxlY3RpbmdcbiAgICAgIHRoaXMuX3VwZGF0ZVN0YXRlID0gdGhpcy5fdXBkYXRlU3RhdGUgJiB+U1RBVEVfSVNfUkVGTEVDVElOR19UT19BVFRSSUJVVEU7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfYXR0cmlidXRlVG9Qcm9wZXJ0eShuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmd8bnVsbCkge1xuICAgIC8vIFVzZSB0cmFja2luZyBpbmZvIHRvIGF2b2lkIGRlc2VyaWFsaXppbmcgYXR0cmlidXRlIHZhbHVlIGlmIGl0IHdhc1xuICAgIC8vIGp1c3Qgc2V0IGZyb20gYSBwcm9wZXJ0eSBzZXR0ZXIuXG4gICAgaWYgKHRoaXMuX3VwZGF0ZVN0YXRlICYgU1RBVEVfSVNfUkVGTEVDVElOR19UT19BVFRSSUJVVEUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY3RvciA9ICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBVcGRhdGluZ0VsZW1lbnQpO1xuICAgIGNvbnN0IHByb3BOYW1lID0gY3Rvci5fYXR0cmlidXRlVG9Qcm9wZXJ0eU1hcC5nZXQobmFtZSk7XG4gICAgaWYgKHByb3BOYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IG9wdGlvbnMgPVxuICAgICAgICAgIGN0b3IuX2NsYXNzUHJvcGVydGllcyEuZ2V0KHByb3BOYW1lKSB8fCBkZWZhdWx0UHJvcGVydHlEZWNsYXJhdGlvbjtcbiAgICAgIC8vIG1hcmsgc3RhdGUgcmVmbGVjdGluZ1xuICAgICAgdGhpcy5fdXBkYXRlU3RhdGUgPSB0aGlzLl91cGRhdGVTdGF0ZSB8IFNUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fUFJPUEVSVFk7XG4gICAgICB0aGlzW3Byb3BOYW1lIGFzIGtleW9mIHRoaXNdID1cbiAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG4gICAgICAgICAgY3Rvci5fcHJvcGVydHlWYWx1ZUZyb21BdHRyaWJ1dGUodmFsdWUsIG9wdGlvbnMpIGFzIGFueTtcbiAgICAgIC8vIG1hcmsgc3RhdGUgbm90IHJlZmxlY3RpbmdcbiAgICAgIHRoaXMuX3VwZGF0ZVN0YXRlID0gdGhpcy5fdXBkYXRlU3RhdGUgJiB+U1RBVEVfSVNfUkVGTEVDVElOR19UT19QUk9QRVJUWTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBwcml2YXRlIHZlcnNpb24gb2YgYHJlcXVlc3RVcGRhdGVgIGRvZXMgbm90IGFjY2VzcyBvciByZXR1cm4gdGhlXG4gICAqIGB1cGRhdGVDb21wbGV0ZWAgcHJvbWlzZS4gVGhpcyBwcm9taXNlIGNhbiBiZSBvdmVycmlkZGVuIGFuZCBpcyB0aGVyZWZvcmVcbiAgICogbm90IGZyZWUgdG8gYWNjZXNzLlxuICAgKi9cbiAgcHJpdmF0ZSBfcmVxdWVzdFVwZGF0ZShuYW1lPzogUHJvcGVydHlLZXksIG9sZFZhbHVlPzogdW5rbm93bikge1xuICAgIGxldCBzaG91bGRSZXF1ZXN0VXBkYXRlID0gdHJ1ZTtcbiAgICAvLyBJZiB3ZSBoYXZlIGEgcHJvcGVydHkga2V5LCBwZXJmb3JtIHByb3BlcnR5IHVwZGF0ZSBzdGVwcy5cbiAgICBpZiAobmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBjdG9yID0gdGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgVXBkYXRpbmdFbGVtZW50O1xuICAgICAgY29uc3Qgb3B0aW9ucyA9XG4gICAgICAgICAgY3Rvci5fY2xhc3NQcm9wZXJ0aWVzIS5nZXQobmFtZSkgfHwgZGVmYXVsdFByb3BlcnR5RGVjbGFyYXRpb247XG4gICAgICBpZiAoY3Rvci5fdmFsdWVIYXNDaGFuZ2VkKFxuICAgICAgICAgICAgICB0aGlzW25hbWUgYXMga2V5b2YgdGhpc10sIG9sZFZhbHVlLCBvcHRpb25zLmhhc0NoYW5nZWQpKSB7XG4gICAgICAgIGlmICghdGhpcy5fY2hhbmdlZFByb3BlcnRpZXMuaGFzKG5hbWUpKSB7XG4gICAgICAgICAgdGhpcy5fY2hhbmdlZFByb3BlcnRpZXMuc2V0KG5hbWUsIG9sZFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBZGQgdG8gcmVmbGVjdGluZyBwcm9wZXJ0aWVzIHNldC5cbiAgICAgICAgLy8gTm90ZSwgaXQncyBpbXBvcnRhbnQgdGhhdCBldmVyeSBjaGFuZ2UgaGFzIGEgY2hhbmNlIHRvIGFkZCB0aGVcbiAgICAgICAgLy8gcHJvcGVydHkgdG8gYF9yZWZsZWN0aW5nUHJvcGVydGllc2AuIFRoaXMgZW5zdXJlcyBzZXR0aW5nXG4gICAgICAgIC8vIGF0dHJpYnV0ZSArIHByb3BlcnR5IHJlZmxlY3RzIGNvcnJlY3RseS5cbiAgICAgICAgaWYgKG9wdGlvbnMucmVmbGVjdCA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgISh0aGlzLl91cGRhdGVTdGF0ZSAmIFNUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fUFJPUEVSVFkpKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX3JlZmxlY3RpbmdQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlZmxlY3RpbmdQcm9wZXJ0aWVzID0gbmV3IE1hcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLl9yZWZsZWN0aW5nUHJvcGVydGllcy5zZXQobmFtZSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEFib3J0IHRoZSByZXF1ZXN0IGlmIHRoZSBwcm9wZXJ0eSBzaG91bGQgbm90IGJlIGNvbnNpZGVyZWQgY2hhbmdlZC5cbiAgICAgICAgc2hvdWxkUmVxdWVzdFVwZGF0ZSA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXRoaXMuX2hhc1JlcXVlc3RlZFVwZGF0ZSAmJiBzaG91bGRSZXF1ZXN0VXBkYXRlKSB7XG4gICAgICB0aGlzLl9lbnF1ZXVlVXBkYXRlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlcXVlc3RzIGFuIHVwZGF0ZSB3aGljaCBpcyBwcm9jZXNzZWQgYXN5bmNocm9ub3VzbHkuIFRoaXMgc2hvdWxkXG4gICAqIGJlIGNhbGxlZCB3aGVuIGFuIGVsZW1lbnQgc2hvdWxkIHVwZGF0ZSBiYXNlZCBvbiBzb21lIHN0YXRlIG5vdCB0cmlnZ2VyZWRcbiAgICogYnkgc2V0dGluZyBhIHByb3BlcnR5LiBJbiB0aGlzIGNhc2UsIHBhc3Mgbm8gYXJndW1lbnRzLiBJdCBzaG91bGQgYWxzbyBiZVxuICAgKiBjYWxsZWQgd2hlbiBtYW51YWxseSBpbXBsZW1lbnRpbmcgYSBwcm9wZXJ0eSBzZXR0ZXIuIEluIHRoaXMgY2FzZSwgcGFzcyB0aGVcbiAgICogcHJvcGVydHkgYG5hbWVgIGFuZCBgb2xkVmFsdWVgIHRvIGVuc3VyZSB0aGF0IGFueSBjb25maWd1cmVkIHByb3BlcnR5XG4gICAqIG9wdGlvbnMgYXJlIGhvbm9yZWQuIFJldHVybnMgdGhlIGB1cGRhdGVDb21wbGV0ZWAgUHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZFxuICAgKiB3aGVuIHRoZSB1cGRhdGUgY29tcGxldGVzLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSB7UHJvcGVydHlLZXl9IChvcHRpb25hbCkgbmFtZSBvZiByZXF1ZXN0aW5nIHByb3BlcnR5XG4gICAqIEBwYXJhbSBvbGRWYWx1ZSB7YW55fSAob3B0aW9uYWwpIG9sZCB2YWx1ZSBvZiByZXF1ZXN0aW5nIHByb3BlcnR5XG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBBIFByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aGVuIHRoZSB1cGRhdGUgY29tcGxldGVzLlxuICAgKi9cbiAgcmVxdWVzdFVwZGF0ZShuYW1lPzogUHJvcGVydHlLZXksIG9sZFZhbHVlPzogdW5rbm93bikge1xuICAgIHRoaXMuX3JlcXVlc3RVcGRhdGUobmFtZSwgb2xkVmFsdWUpO1xuICAgIHJldHVybiB0aGlzLnVwZGF0ZUNvbXBsZXRlO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdXAgdGhlIGVsZW1lbnQgdG8gYXN5bmNocm9ub3VzbHkgdXBkYXRlLlxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBfZW5xdWV1ZVVwZGF0ZSgpIHtcbiAgICAvLyBNYXJrIHN0YXRlIHVwZGF0aW5nLi4uXG4gICAgdGhpcy5fdXBkYXRlU3RhdGUgPSB0aGlzLl91cGRhdGVTdGF0ZSB8IFNUQVRFX1VQREFURV9SRVFVRVNURUQ7XG4gICAgbGV0IHJlc29sdmUhOiAocjogYm9vbGVhbikgPT4gdm9pZDtcbiAgICBsZXQgcmVqZWN0ITogKGU6IEVycm9yKSA9PiB2b2lkO1xuICAgIGNvbnN0IHByZXZpb3VzVXBkYXRlUHJvbWlzZSA9IHRoaXMuX3VwZGF0ZVByb21pc2U7XG4gICAgdGhpcy5fdXBkYXRlUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXMsIHJlaikgPT4ge1xuICAgICAgcmVzb2x2ZSA9IHJlcztcbiAgICAgIHJlamVjdCA9IHJlajtcbiAgICB9KTtcbiAgICB0cnkge1xuICAgICAgLy8gRW5zdXJlIGFueSBwcmV2aW91cyB1cGRhdGUgaGFzIHJlc29sdmVkIGJlZm9yZSB1cGRhdGluZy5cbiAgICAgIC8vIFRoaXMgYGF3YWl0YCBhbHNvIGVuc3VyZXMgdGhhdCBwcm9wZXJ0eSBjaGFuZ2VzIGFyZSBiYXRjaGVkLlxuICAgICAgYXdhaXQgcHJldmlvdXNVcGRhdGVQcm9taXNlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIElnbm9yZSBhbnkgcHJldmlvdXMgZXJyb3JzLiBXZSBvbmx5IGNhcmUgdGhhdCB0aGUgcHJldmlvdXMgY3ljbGUgaXNcbiAgICAgIC8vIGRvbmUuIEFueSBlcnJvciBzaG91bGQgaGF2ZSBiZWVuIGhhbmRsZWQgaW4gdGhlIHByZXZpb3VzIHVwZGF0ZS5cbiAgICB9XG4gICAgLy8gTWFrZSBzdXJlIHRoZSBlbGVtZW50IGhhcyBjb25uZWN0ZWQgYmVmb3JlIHVwZGF0aW5nLlxuICAgIGlmICghdGhpcy5faGFzQ29ubmVjdGVkKSB7XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzKSA9PiB0aGlzLl9oYXNDb25uZWN0ZWRSZXNvbHZlciA9IHJlcyk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSB0aGlzLnBlcmZvcm1VcGRhdGUoKTtcbiAgICAgIC8vIElmIGBwZXJmb3JtVXBkYXRlYCByZXR1cm5zIGEgUHJvbWlzZSwgd2UgYXdhaXQgaXQuIFRoaXMgaXMgZG9uZSB0b1xuICAgICAgLy8gZW5hYmxlIGNvb3JkaW5hdGluZyB1cGRhdGVzIHdpdGggYSBzY2hlZHVsZXIuIE5vdGUsIHRoZSByZXN1bHQgaXNcbiAgICAgIC8vIGNoZWNrZWQgdG8gYXZvaWQgZGVsYXlpbmcgYW4gYWRkaXRpb25hbCBtaWNyb3Rhc2sgdW5sZXNzIHdlIG5lZWQgdG8uXG4gICAgICBpZiAocmVzdWx0ICE9IG51bGwpIHtcbiAgICAgICAgYXdhaXQgcmVzdWx0O1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9XG4gICAgcmVzb2x2ZSghdGhpcy5faGFzUmVxdWVzdGVkVXBkYXRlKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0IF9oYXNDb25uZWN0ZWQoKSB7XG4gICAgcmV0dXJuICh0aGlzLl91cGRhdGVTdGF0ZSAmIFNUQVRFX0hBU19DT05ORUNURUQpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXQgX2hhc1JlcXVlc3RlZFVwZGF0ZSgpIHtcbiAgICByZXR1cm4gKHRoaXMuX3VwZGF0ZVN0YXRlICYgU1RBVEVfVVBEQVRFX1JFUVVFU1RFRCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0IGhhc1VwZGF0ZWQoKSB7XG4gICAgcmV0dXJuICh0aGlzLl91cGRhdGVTdGF0ZSAmIFNUQVRFX0hBU19VUERBVEVEKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQZXJmb3JtcyBhbiBlbGVtZW50IHVwZGF0ZS4gTm90ZSwgaWYgYW4gZXhjZXB0aW9uIGlzIHRocm93biBkdXJpbmcgdGhlXG4gICAqIHVwZGF0ZSwgYGZpcnN0VXBkYXRlZGAgYW5kIGB1cGRhdGVkYCB3aWxsIG5vdCBiZSBjYWxsZWQuXG4gICAqXG4gICAqIFlvdSBjYW4gb3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gY2hhbmdlIHRoZSB0aW1pbmcgb2YgdXBkYXRlcy4gSWYgdGhpc1xuICAgKiBtZXRob2QgaXMgb3ZlcnJpZGRlbiwgYHN1cGVyLnBlcmZvcm1VcGRhdGUoKWAgbXVzdCBiZSBjYWxsZWQuXG4gICAqXG4gICAqIEZvciBpbnN0YW5jZSwgdG8gc2NoZWR1bGUgdXBkYXRlcyB0byBvY2N1ciBqdXN0IGJlZm9yZSB0aGUgbmV4dCBmcmFtZTpcbiAgICpcbiAgICogYGBgXG4gICAqIHByb3RlY3RlZCBhc3luYyBwZXJmb3JtVXBkYXRlKCk6IFByb21pc2U8dW5rbm93bj4ge1xuICAgKiAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gcmVzb2x2ZSgpKSk7XG4gICAqICAgc3VwZXIucGVyZm9ybVVwZGF0ZSgpO1xuICAgKiB9XG4gICAqIGBgYFxuICAgKi9cbiAgcHJvdGVjdGVkIHBlcmZvcm1VcGRhdGUoKTogdm9pZHxQcm9taXNlPHVua25vd24+IHtcbiAgICAvLyBNaXhpbiBpbnN0YW5jZSBwcm9wZXJ0aWVzIG9uY2UsIGlmIHRoZXkgZXhpc3QuXG4gICAgaWYgKHRoaXMuX2luc3RhbmNlUHJvcGVydGllcykge1xuICAgICAgdGhpcy5fYXBwbHlJbnN0YW5jZVByb3BlcnRpZXMoKTtcbiAgICB9XG4gICAgbGV0IHNob3VsZFVwZGF0ZSA9IGZhbHNlO1xuICAgIGNvbnN0IGNoYW5nZWRQcm9wZXJ0aWVzID0gdGhpcy5fY2hhbmdlZFByb3BlcnRpZXM7XG4gICAgdHJ5IHtcbiAgICAgIHNob3VsZFVwZGF0ZSA9IHRoaXMuc2hvdWxkVXBkYXRlKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICAgIGlmIChzaG91bGRVcGRhdGUpIHtcbiAgICAgICAgdGhpcy51cGRhdGUoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIFByZXZlbnQgYGZpcnN0VXBkYXRlZGAgYW5kIGB1cGRhdGVkYCBmcm9tIHJ1bm5pbmcgd2hlbiB0aGVyZSdzIGFuXG4gICAgICAvLyB1cGRhdGUgZXhjZXB0aW9uLlxuICAgICAgc2hvdWxkVXBkYXRlID0gZmFsc2U7XG4gICAgICB0aHJvdyBlO1xuICAgIH0gZmluYWxseSB7XG4gICAgICAvLyBFbnN1cmUgZWxlbWVudCBjYW4gYWNjZXB0IGFkZGl0aW9uYWwgdXBkYXRlcyBhZnRlciBhbiBleGNlcHRpb24uXG4gICAgICB0aGlzLl9tYXJrVXBkYXRlZCgpO1xuICAgIH1cbiAgICBpZiAoc2hvdWxkVXBkYXRlKSB7XG4gICAgICBpZiAoISh0aGlzLl91cGRhdGVTdGF0ZSAmIFNUQVRFX0hBU19VUERBVEVEKSkge1xuICAgICAgICB0aGlzLl91cGRhdGVTdGF0ZSA9IHRoaXMuX3VwZGF0ZVN0YXRlIHwgU1RBVEVfSEFTX1VQREFURUQ7XG4gICAgICAgIHRoaXMuZmlyc3RVcGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICAgIH1cbiAgICAgIHRoaXMudXBkYXRlZChjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfbWFya1VwZGF0ZWQoKSB7XG4gICAgdGhpcy5fY2hhbmdlZFByb3BlcnRpZXMgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5fdXBkYXRlU3RhdGUgPSB0aGlzLl91cGRhdGVTdGF0ZSAmIH5TVEFURV9VUERBVEVfUkVRVUVTVEVEO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgZWxlbWVudCBoYXMgY29tcGxldGVkIHVwZGF0aW5nLlxuICAgKiBUaGUgUHJvbWlzZSB2YWx1ZSBpcyBhIGJvb2xlYW4gdGhhdCBpcyBgdHJ1ZWAgaWYgdGhlIGVsZW1lbnQgY29tcGxldGVkIHRoZVxuICAgKiB1cGRhdGUgd2l0aG91dCB0cmlnZ2VyaW5nIGFub3RoZXIgdXBkYXRlLiBUaGUgUHJvbWlzZSByZXN1bHQgaXMgYGZhbHNlYCBpZlxuICAgKiBhIHByb3BlcnR5IHdhcyBzZXQgaW5zaWRlIGB1cGRhdGVkKClgLiBJZiB0aGUgUHJvbWlzZSBpcyByZWplY3RlZCwgYW5cbiAgICogZXhjZXB0aW9uIHdhcyB0aHJvd24gZHVyaW5nIHRoZSB1cGRhdGUuIFRoaXMgZ2V0dGVyIGNhbiBiZSBpbXBsZW1lbnRlZCB0b1xuICAgKiBhd2FpdCBhZGRpdGlvbmFsIHN0YXRlLiBGb3IgZXhhbXBsZSwgaXQgaXMgc29tZXRpbWVzIHVzZWZ1bCB0byBhd2FpdCBhXG4gICAqIHJlbmRlcmVkIGVsZW1lbnQgYmVmb3JlIGZ1bGZpbGxpbmcgdGhpcyBQcm9taXNlLiBUbyBkbyB0aGlzLCBmaXJzdCBhd2FpdFxuICAgKiBgc3VwZXIudXBkYXRlQ29tcGxldGVgIHRoZW4gYW55IHN1YnNlcXVlbnQgc3RhdGUuXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBUaGUgUHJvbWlzZSByZXR1cm5zIGEgYm9vbGVhbiB0aGF0IGluZGljYXRlcyBpZiB0aGVcbiAgICogdXBkYXRlIHJlc29sdmVkIHdpdGhvdXQgdHJpZ2dlcmluZyBhbm90aGVyIHVwZGF0ZS5cbiAgICovXG4gIGdldCB1cGRhdGVDb21wbGV0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdXBkYXRlUHJvbWlzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb250cm9scyB3aGV0aGVyIG9yIG5vdCBgdXBkYXRlYCBzaG91bGQgYmUgY2FsbGVkIHdoZW4gdGhlIGVsZW1lbnQgcmVxdWVzdHNcbiAgICogYW4gdXBkYXRlLiBCeSBkZWZhdWx0LCB0aGlzIG1ldGhvZCBhbHdheXMgcmV0dXJucyBgdHJ1ZWAsIGJ1dCB0aGlzIGNhbiBiZVxuICAgKiBjdXN0b21pemVkIHRvIGNvbnRyb2wgd2hlbiB0byB1cGRhdGUuXG4gICAqXG4gICAqICogQHBhcmFtIF9jaGFuZ2VkUHJvcGVydGllcyBNYXAgb2YgY2hhbmdlZCBwcm9wZXJ0aWVzIHdpdGggb2xkIHZhbHVlc1xuICAgKi9cbiAgcHJvdGVjdGVkIHNob3VsZFVwZGF0ZShfY2hhbmdlZFByb3BlcnRpZXM6IFByb3BlcnR5VmFsdWVzKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgZWxlbWVudC4gVGhpcyBtZXRob2QgcmVmbGVjdHMgcHJvcGVydHkgdmFsdWVzIHRvIGF0dHJpYnV0ZXMuXG4gICAqIEl0IGNhbiBiZSBvdmVycmlkZGVuIHRvIHJlbmRlciBhbmQga2VlcCB1cGRhdGVkIGVsZW1lbnQgRE9NLlxuICAgKiBTZXR0aW5nIHByb3BlcnRpZXMgaW5zaWRlIHRoaXMgbWV0aG9kIHdpbGwgKm5vdCogdHJpZ2dlclxuICAgKiBhbm90aGVyIHVwZGF0ZS5cbiAgICpcbiAgICogKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAqL1xuICBwcm90ZWN0ZWQgdXBkYXRlKF9jaGFuZ2VkUHJvcGVydGllczogUHJvcGVydHlWYWx1ZXMpIHtcbiAgICBpZiAodGhpcy5fcmVmbGVjdGluZ1Byb3BlcnRpZXMgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICB0aGlzLl9yZWZsZWN0aW5nUHJvcGVydGllcy5zaXplID4gMCkge1xuICAgICAgLy8gVXNlIGZvckVhY2ggc28gdGhpcyB3b3JrcyBldmVuIGlmIGZvci9vZiBsb29wcyBhcmUgY29tcGlsZWQgdG8gZm9yXG4gICAgICAvLyBsb29wcyBleHBlY3RpbmcgYXJyYXlzXG4gICAgICB0aGlzLl9yZWZsZWN0aW5nUHJvcGVydGllcy5mb3JFYWNoKFxuICAgICAgICAgICh2LCBrKSA9PiB0aGlzLl9wcm9wZXJ0eVRvQXR0cmlidXRlKGssIHRoaXNbayBhcyBrZXlvZiB0aGlzXSwgdikpO1xuICAgICAgdGhpcy5fcmVmbGVjdGluZ1Byb3BlcnRpZXMgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEludm9rZWQgd2hlbmV2ZXIgdGhlIGVsZW1lbnQgaXMgdXBkYXRlZC4gSW1wbGVtZW50IHRvIHBlcmZvcm1cbiAgICogcG9zdC11cGRhdGluZyB0YXNrcyB2aWEgRE9NIEFQSXMsIGZvciBleGFtcGxlLCBmb2N1c2luZyBhbiBlbGVtZW50LlxuICAgKlxuICAgKiBTZXR0aW5nIHByb3BlcnRpZXMgaW5zaWRlIHRoaXMgbWV0aG9kIHdpbGwgdHJpZ2dlciB0aGUgZWxlbWVudCB0byB1cGRhdGVcbiAgICogYWdhaW4gYWZ0ZXIgdGhpcyB1cGRhdGUgY3ljbGUgY29tcGxldGVzLlxuICAgKlxuICAgKiAqIEBwYXJhbSBfY2hhbmdlZFByb3BlcnRpZXMgTWFwIG9mIGNoYW5nZWQgcHJvcGVydGllcyB3aXRoIG9sZCB2YWx1ZXNcbiAgICovXG4gIHByb3RlY3RlZCB1cGRhdGVkKF9jaGFuZ2VkUHJvcGVydGllczogUHJvcGVydHlWYWx1ZXMpIHtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnZva2VkIHdoZW4gdGhlIGVsZW1lbnQgaXMgZmlyc3QgdXBkYXRlZC4gSW1wbGVtZW50IHRvIHBlcmZvcm0gb25lIHRpbWVcbiAgICogd29yayBvbiB0aGUgZWxlbWVudCBhZnRlciB1cGRhdGUuXG4gICAqXG4gICAqIFNldHRpbmcgcHJvcGVydGllcyBpbnNpZGUgdGhpcyBtZXRob2Qgd2lsbCB0cmlnZ2VyIHRoZSBlbGVtZW50IHRvIHVwZGF0ZVxuICAgKiBhZ2FpbiBhZnRlciB0aGlzIHVwZGF0ZSBjeWNsZSBjb21wbGV0ZXMuXG4gICAqXG4gICAqICogQHBhcmFtIF9jaGFuZ2VkUHJvcGVydGllcyBNYXAgb2YgY2hhbmdlZCBwcm9wZXJ0aWVzIHdpdGggb2xkIHZhbHVlc1xuICAgKi9cbiAgcHJvdGVjdGVkIGZpcnN0VXBkYXRlZChfY2hhbmdlZFByb3BlcnRpZXM6IFByb3BlcnR5VmFsdWVzKSB7XG4gIH1cbn1cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cblxuaW1wb3J0IHtMaXRFbGVtZW50fSBmcm9tICcuLi9saXQtZWxlbWVudC5qcyc7XG5cbmltcG9ydCB7UHJvcGVydHlEZWNsYXJhdGlvbiwgVXBkYXRpbmdFbGVtZW50fSBmcm9tICcuL3VwZGF0aW5nLWVsZW1lbnQuanMnO1xuXG5leHBvcnQgdHlwZSBDb25zdHJ1Y3RvcjxUPiA9IHtcbiAgbmV3ICguLi5hcmdzOiB1bmtub3duW10pOiBUXG59O1xuXG4vLyBGcm9tIHRoZSBUQzM5IERlY29yYXRvcnMgcHJvcG9zYWxcbmludGVyZmFjZSBDbGFzc0Rlc2NyaXB0b3Ige1xuICBraW5kOiAnY2xhc3MnO1xuICBlbGVtZW50czogQ2xhc3NFbGVtZW50W107XG4gIGZpbmlzaGVyPzogPFQ+KGNsYXp6OiBDb25zdHJ1Y3RvcjxUPikgPT4gdW5kZWZpbmVkIHwgQ29uc3RydWN0b3I8VD47XG59XG5cbi8vIEZyb20gdGhlIFRDMzkgRGVjb3JhdG9ycyBwcm9wb3NhbFxuaW50ZXJmYWNlIENsYXNzRWxlbWVudCB7XG4gIGtpbmQ6ICdmaWVsZCd8J21ldGhvZCc7XG4gIGtleTogUHJvcGVydHlLZXk7XG4gIHBsYWNlbWVudDogJ3N0YXRpYyd8J3Byb3RvdHlwZSd8J293bic7XG4gIGluaXRpYWxpemVyPzogRnVuY3Rpb247XG4gIGV4dHJhcz86IENsYXNzRWxlbWVudFtdO1xuICBmaW5pc2hlcj86IDxUPihjbGF6ejogQ29uc3RydWN0b3I8VD4pID0+IHVuZGVmaW5lZCB8IENvbnN0cnVjdG9yPFQ+O1xuICBkZXNjcmlwdG9yPzogUHJvcGVydHlEZXNjcmlwdG9yO1xufVxuXG5jb25zdCBsZWdhY3lDdXN0b21FbGVtZW50ID1cbiAgICAodGFnTmFtZTogc3RyaW5nLCBjbGF6ejogQ29uc3RydWN0b3I8SFRNTEVsZW1lbnQ+KSA9PiB7XG4gICAgICB3aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKHRhZ05hbWUsIGNsYXp6KTtcbiAgICAgIC8vIENhc3QgYXMgYW55IGJlY2F1c2UgVFMgZG9lc24ndCByZWNvZ25pemUgdGhlIHJldHVybiB0eXBlIGFzIGJlaW5nIGFcbiAgICAgIC8vIHN1YnR5cGUgb2YgdGhlIGRlY29yYXRlZCBjbGFzcyB3aGVuIGNsYXp6IGlzIHR5cGVkIGFzXG4gICAgICAvLyBgQ29uc3RydWN0b3I8SFRNTEVsZW1lbnQ+YCBmb3Igc29tZSByZWFzb24uXG4gICAgICAvLyBgQ29uc3RydWN0b3I8SFRNTEVsZW1lbnQ+YCBpcyBoZWxwZnVsIHRvIG1ha2Ugc3VyZSB0aGUgZGVjb3JhdG9yIGlzXG4gICAgICAvLyBhcHBsaWVkIHRvIGVsZW1lbnRzIGhvd2V2ZXIuXG4gICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG4gICAgICByZXR1cm4gY2xhenogYXMgYW55O1xuICAgIH07XG5cbmNvbnN0IHN0YW5kYXJkQ3VzdG9tRWxlbWVudCA9XG4gICAgKHRhZ05hbWU6IHN0cmluZywgZGVzY3JpcHRvcjogQ2xhc3NEZXNjcmlwdG9yKSA9PiB7XG4gICAgICBjb25zdCB7a2luZCwgZWxlbWVudHN9ID0gZGVzY3JpcHRvcjtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGtpbmQsXG4gICAgICAgIGVsZW1lbnRzLFxuICAgICAgICAvLyBUaGlzIGNhbGxiYWNrIGlzIGNhbGxlZCBvbmNlIHRoZSBjbGFzcyBpcyBvdGhlcndpc2UgZnVsbHkgZGVmaW5lZFxuICAgICAgICBmaW5pc2hlcihjbGF6ejogQ29uc3RydWN0b3I8SFRNTEVsZW1lbnQ+KSB7XG4gICAgICAgICAgd2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSh0YWdOYW1lLCBjbGF6eik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcblxuLyoqXG4gKiBDbGFzcyBkZWNvcmF0b3IgZmFjdG9yeSB0aGF0IGRlZmluZXMgdGhlIGRlY29yYXRlZCBjbGFzcyBhcyBhIGN1c3RvbSBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB0YWdOYW1lIHRoZSBuYW1lIG9mIHRoZSBjdXN0b20gZWxlbWVudCB0byBkZWZpbmVcbiAqL1xuZXhwb3J0IGNvbnN0IGN1c3RvbUVsZW1lbnQgPSAodGFnTmFtZTogc3RyaW5nKSA9PlxuICAgIChjbGFzc09yRGVzY3JpcHRvcjogQ29uc3RydWN0b3I8SFRNTEVsZW1lbnQ+fENsYXNzRGVzY3JpcHRvcikgPT5cbiAgICAgICAgKHR5cGVvZiBjbGFzc09yRGVzY3JpcHRvciA9PT0gJ2Z1bmN0aW9uJykgP1xuICAgIGxlZ2FjeUN1c3RvbUVsZW1lbnQodGFnTmFtZSwgY2xhc3NPckRlc2NyaXB0b3IpIDpcbiAgICBzdGFuZGFyZEN1c3RvbUVsZW1lbnQodGFnTmFtZSwgY2xhc3NPckRlc2NyaXB0b3IpO1xuXG5jb25zdCBzdGFuZGFyZFByb3BlcnR5ID1cbiAgICAob3B0aW9uczogUHJvcGVydHlEZWNsYXJhdGlvbiwgZWxlbWVudDogQ2xhc3NFbGVtZW50KSA9PiB7XG4gICAgICAvLyBXaGVuIGRlY29yYXRpbmcgYW4gYWNjZXNzb3IsIHBhc3MgaXQgdGhyb3VnaCBhbmQgYWRkIHByb3BlcnR5IG1ldGFkYXRhLlxuICAgICAgLy8gTm90ZSwgdGhlIGBoYXNPd25Qcm9wZXJ0eWAgY2hlY2sgaW4gYGNyZWF0ZVByb3BlcnR5YCBlbnN1cmVzIHdlIGRvbid0XG4gICAgICAvLyBzdG9tcCBvdmVyIHRoZSB1c2VyJ3MgYWNjZXNzb3IuXG4gICAgICBpZiAoZWxlbWVudC5raW5kID09PSAnbWV0aG9kJyAmJiBlbGVtZW50LmRlc2NyaXB0b3IgJiZcbiAgICAgICAgICAhKCd2YWx1ZScgaW4gZWxlbWVudC5kZXNjcmlwdG9yKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLmVsZW1lbnQsXG4gICAgICAgICAgZmluaXNoZXIoY2xheno6IHR5cGVvZiBVcGRhdGluZ0VsZW1lbnQpIHtcbiAgICAgICAgICAgIGNsYXp6LmNyZWF0ZVByb3BlcnR5KGVsZW1lbnQua2V5LCBvcHRpb25zKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjcmVhdGVQcm9wZXJ0eSgpIHRha2VzIGNhcmUgb2YgZGVmaW5pbmcgdGhlIHByb3BlcnR5LCBidXQgd2Ugc3RpbGxcbiAgICAgICAgLy8gbXVzdCByZXR1cm4gc29tZSBraW5kIG9mIGRlc2NyaXB0b3IsIHNvIHJldHVybiBhIGRlc2NyaXB0b3IgZm9yIGFuXG4gICAgICAgIC8vIHVudXNlZCBwcm90b3R5cGUgZmllbGQuIFRoZSBmaW5pc2hlciBjYWxscyBjcmVhdGVQcm9wZXJ0eSgpLlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGtpbmQ6ICdmaWVsZCcsXG4gICAgICAgICAga2V5OiBTeW1ib2woKSxcbiAgICAgICAgICBwbGFjZW1lbnQ6ICdvd24nLFxuICAgICAgICAgIGRlc2NyaXB0b3I6IHt9LFxuICAgICAgICAgIC8vIFdoZW4gQGJhYmVsL3BsdWdpbi1wcm9wb3NhbC1kZWNvcmF0b3JzIGltcGxlbWVudHMgaW5pdGlhbGl6ZXJzLFxuICAgICAgICAgIC8vIGRvIHRoaXMgaW5zdGVhZCBvZiB0aGUgaW5pdGlhbGl6ZXIgYmVsb3cuIFNlZTpcbiAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYmFiZWwvYmFiZWwvaXNzdWVzLzkyNjAgZXh0cmFzOiBbXG4gICAgICAgICAgLy8gICB7XG4gICAgICAgICAgLy8gICAgIGtpbmQ6ICdpbml0aWFsaXplcicsXG4gICAgICAgICAgLy8gICAgIHBsYWNlbWVudDogJ293bicsXG4gICAgICAgICAgLy8gICAgIGluaXRpYWxpemVyOiBkZXNjcmlwdG9yLmluaXRpYWxpemVyLFxuICAgICAgICAgIC8vICAgfVxuICAgICAgICAgIC8vIF0sXG4gICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBkZWNvcmF0b3JcbiAgICAgICAgICBpbml0aWFsaXplcih0aGlzOiBhbnkpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZWxlbWVudC5pbml0aWFsaXplciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICB0aGlzW2VsZW1lbnQua2V5XSA9IGVsZW1lbnQuaW5pdGlhbGl6ZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGZpbmlzaGVyKGNsYXp6OiB0eXBlb2YgVXBkYXRpbmdFbGVtZW50KSB7XG4gICAgICAgICAgICBjbGF6ei5jcmVhdGVQcm9wZXJ0eShlbGVtZW50LmtleSwgb3B0aW9ucyk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbmNvbnN0IGxlZ2FjeVByb3BlcnR5ID1cbiAgICAob3B0aW9uczogUHJvcGVydHlEZWNsYXJhdGlvbiwgcHJvdG86IE9iamVjdCwgbmFtZTogUHJvcGVydHlLZXkpID0+IHtcbiAgICAgIChwcm90by5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgVXBkYXRpbmdFbGVtZW50KVxuICAgICAgICAgIC5jcmVhdGVQcm9wZXJ0eShuYW1lLCBvcHRpb25zKTtcbiAgICB9O1xuXG4vKipcbiAqIEEgcHJvcGVydHkgZGVjb3JhdG9yIHdoaWNoIGNyZWF0ZXMgYSBMaXRFbGVtZW50IHByb3BlcnR5IHdoaWNoIHJlZmxlY3RzIGFcbiAqIGNvcnJlc3BvbmRpbmcgYXR0cmlidXRlIHZhbHVlLiBBIGBQcm9wZXJ0eURlY2xhcmF0aW9uYCBtYXkgb3B0aW9uYWxseSBiZVxuICogc3VwcGxpZWQgdG8gY29uZmlndXJlIHByb3BlcnR5IGZlYXR1cmVzLlxuICpcbiAqIEBFeHBvcnREZWNvcmF0ZWRJdGVtc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcHJvcGVydHkob3B0aW9ucz86IFByb3BlcnR5RGVjbGFyYXRpb24pIHtcbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBkZWNvcmF0b3JcbiAgcmV0dXJuIChwcm90b09yRGVzY3JpcHRvcjogT2JqZWN0fENsYXNzRWxlbWVudCwgbmFtZT86IFByb3BlcnR5S2V5KTogYW55ID0+XG4gICAgICAgICAgICAgKG5hbWUgIT09IHVuZGVmaW5lZCkgP1xuICAgICAgbGVnYWN5UHJvcGVydHkob3B0aW9ucyEsIHByb3RvT3JEZXNjcmlwdG9yIGFzIE9iamVjdCwgbmFtZSkgOlxuICAgICAgc3RhbmRhcmRQcm9wZXJ0eShvcHRpb25zISwgcHJvdG9PckRlc2NyaXB0b3IgYXMgQ2xhc3NFbGVtZW50KTtcbn1cblxuLyoqXG4gKiBBIHByb3BlcnR5IGRlY29yYXRvciB0aGF0IGNvbnZlcnRzIGEgY2xhc3MgcHJvcGVydHkgaW50byBhIGdldHRlciB0aGF0XG4gKiBleGVjdXRlcyBhIHF1ZXJ5U2VsZWN0b3Igb24gdGhlIGVsZW1lbnQncyByZW5kZXJSb290LlxuICpcbiAqIEBFeHBvcnREZWNvcmF0ZWRJdGVtc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcXVlcnkoc2VsZWN0b3I6IHN0cmluZykge1xuICByZXR1cm4gKHByb3RvT3JEZXNjcmlwdG9yOiBPYmplY3R8Q2xhc3NFbGVtZW50LFxuICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnkgZGVjb3JhdG9yXG4gICAgICAgICAgbmFtZT86IFByb3BlcnR5S2V5KTogYW55ID0+IHtcbiAgICBjb25zdCBkZXNjcmlwdG9yID0ge1xuICAgICAgZ2V0KHRoaXM6IExpdEVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyUm9vdC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgIH0sXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIH07XG4gICAgcmV0dXJuIChuYW1lICE9PSB1bmRlZmluZWQpID9cbiAgICAgICAgbGVnYWN5UXVlcnkoZGVzY3JpcHRvciwgcHJvdG9PckRlc2NyaXB0b3IgYXMgT2JqZWN0LCBuYW1lKSA6XG4gICAgICAgIHN0YW5kYXJkUXVlcnkoZGVzY3JpcHRvciwgcHJvdG9PckRlc2NyaXB0b3IgYXMgQ2xhc3NFbGVtZW50KTtcbiAgfTtcbn1cblxuLyoqXG4gKiBBIHByb3BlcnR5IGRlY29yYXRvciB0aGF0IGNvbnZlcnRzIGEgY2xhc3MgcHJvcGVydHkgaW50byBhIGdldHRlclxuICogdGhhdCBleGVjdXRlcyBhIHF1ZXJ5U2VsZWN0b3JBbGwgb24gdGhlIGVsZW1lbnQncyByZW5kZXJSb290LlxuICpcbiAqIEBFeHBvcnREZWNvcmF0ZWRJdGVtc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcXVlcnlBbGwoc2VsZWN0b3I6IHN0cmluZykge1xuICByZXR1cm4gKHByb3RvT3JEZXNjcmlwdG9yOiBPYmplY3R8Q2xhc3NFbGVtZW50LFxuICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnkgZGVjb3JhdG9yXG4gICAgICAgICAgbmFtZT86IFByb3BlcnR5S2V5KTogYW55ID0+IHtcbiAgICBjb25zdCBkZXNjcmlwdG9yID0ge1xuICAgICAgZ2V0KHRoaXM6IExpdEVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyUm9vdC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgICAgIH0sXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIH07XG4gICAgcmV0dXJuIChuYW1lICE9PSB1bmRlZmluZWQpID9cbiAgICAgICAgbGVnYWN5UXVlcnkoZGVzY3JpcHRvciwgcHJvdG9PckRlc2NyaXB0b3IgYXMgT2JqZWN0LCBuYW1lKSA6XG4gICAgICAgIHN0YW5kYXJkUXVlcnkoZGVzY3JpcHRvciwgcHJvdG9PckRlc2NyaXB0b3IgYXMgQ2xhc3NFbGVtZW50KTtcbiAgfTtcbn1cblxuY29uc3QgbGVnYWN5UXVlcnkgPVxuICAgIChkZXNjcmlwdG9yOiBQcm9wZXJ0eURlc2NyaXB0b3IsIHByb3RvOiBPYmplY3QsIG5hbWU6IFByb3BlcnR5S2V5KSA9PiB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG8sIG5hbWUsIGRlc2NyaXB0b3IpO1xuICAgIH07XG5cbmNvbnN0IHN0YW5kYXJkUXVlcnkgPSAoZGVzY3JpcHRvcjogUHJvcGVydHlEZXNjcmlwdG9yLCBlbGVtZW50OiBDbGFzc0VsZW1lbnQpID0+XG4gICAgKHtcbiAgICAgIGtpbmQ6ICdtZXRob2QnLFxuICAgICAgcGxhY2VtZW50OiAncHJvdG90eXBlJyxcbiAgICAgIGtleTogZWxlbWVudC5rZXksXG4gICAgICBkZXNjcmlwdG9yLFxuICAgIH0pO1xuXG5jb25zdCBzdGFuZGFyZEV2ZW50T3B0aW9ucyA9XG4gICAgKG9wdGlvbnM6IEFkZEV2ZW50TGlzdGVuZXJPcHRpb25zLCBlbGVtZW50OiBDbGFzc0VsZW1lbnQpID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmVsZW1lbnQsXG4gICAgICAgIGZpbmlzaGVyKGNsYXp6OiB0eXBlb2YgVXBkYXRpbmdFbGVtZW50KSB7XG4gICAgICAgICAgT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAgICAgY2xhenoucHJvdG90eXBlW2VsZW1lbnQua2V5IGFzIGtleW9mIFVwZGF0aW5nRWxlbWVudF0sIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH07XG5cbmNvbnN0IGxlZ2FjeUV2ZW50T3B0aW9ucyA9XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBsZWdhY3kgZGVjb3JhdG9yXG4gICAgKG9wdGlvbnM6IEFkZEV2ZW50TGlzdGVuZXJPcHRpb25zLCBwcm90bzogYW55LCBuYW1lOiBQcm9wZXJ0eUtleSkgPT4ge1xuICAgICAgT2JqZWN0LmFzc2lnbihwcm90b1tuYW1lXSwgb3B0aW9ucyk7XG4gICAgfTtcblxuLyoqXG4gKiBBZGRzIGV2ZW50IGxpc3RlbmVyIG9wdGlvbnMgdG8gYSBtZXRob2QgdXNlZCBhcyBhbiBldmVudCBsaXN0ZW5lciBpbiBhXG4gKiBsaXQtaHRtbCB0ZW1wbGF0ZS5cbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyBBbiBvYmplY3QgdGhhdCBzcGVjaWZpcyBldmVudCBsaXN0ZW5lciBvcHRpb25zIGFzIGFjY2VwdGVkIGJ5XG4gKiBgRXZlbnRUYXJnZXQjYWRkRXZlbnRMaXN0ZW5lcmAgYW5kIGBFdmVudFRhcmdldCNyZW1vdmVFdmVudExpc3RlbmVyYC5cbiAqXG4gKiBDdXJyZW50IGJyb3dzZXJzIHN1cHBvcnQgdGhlIGBjYXB0dXJlYCwgYHBhc3NpdmVgLCBhbmQgYG9uY2VgIG9wdGlvbnMuIFNlZTpcbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9FdmVudFRhcmdldC9hZGRFdmVudExpc3RlbmVyI1BhcmFtZXRlcnNcbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqICAgICBjbGFzcyBNeUVsZW1lbnQge1xuICpcbiAqICAgICAgIGNsaWNrZWQgPSBmYWxzZTtcbiAqXG4gKiAgICAgICByZW5kZXIoKSB7XG4gKiAgICAgICAgIHJldHVybiBodG1sYDxkaXYgQGNsaWNrPSR7dGhpcy5fb25DbGlja31gPjxidXR0b24+PC9idXR0b24+PC9kaXY+YDtcbiAqICAgICAgIH1cbiAqXG4gKiAgICAgICBAZXZlbnRPcHRpb25zKHtjYXB0dXJlOiB0cnVlfSlcbiAqICAgICAgIF9vbkNsaWNrKGUpIHtcbiAqICAgICAgICAgdGhpcy5jbGlja2VkID0gdHJ1ZTtcbiAqICAgICAgIH1cbiAqICAgICB9XG4gKi9cbmV4cG9ydCBjb25zdCBldmVudE9wdGlvbnMgPSAob3B0aW9uczogQWRkRXZlbnRMaXN0ZW5lck9wdGlvbnMpID0+XG4gICAgLy8gUmV0dXJuIHZhbHVlIHR5cGVkIGFzIGFueSB0byBwcmV2ZW50IFR5cGVTY3JpcHQgZnJvbSBjb21wbGFpbmluZyB0aGF0XG4gICAgLy8gc3RhbmRhcmQgZGVjb3JhdG9yIGZ1bmN0aW9uIHNpZ25hdHVyZSBkb2VzIG5vdCBtYXRjaCBUeXBlU2NyaXB0IGRlY29yYXRvclxuICAgIC8vIHNpZ25hdHVyZVxuICAgIC8vIFRPRE8oa3NjaGFhZik6IHVuY2xlYXIgd2h5IGl0IHdhcyBvbmx5IGZhaWxpbmcgb24gdGhpcyBkZWNvcmF0b3IgYW5kIG5vdFxuICAgIC8vIHRoZSBvdGhlcnNcbiAgICAoKHByb3RvT3JEZXNjcmlwdG9yOiBPYmplY3R8Q2xhc3NFbGVtZW50LCBuYW1lPzogc3RyaW5nKSA9PlxuICAgICAgICAgKG5hbWUgIT09IHVuZGVmaW5lZCkgP1xuICAgICAgICAgbGVnYWN5RXZlbnRPcHRpb25zKG9wdGlvbnMsIHByb3RvT3JEZXNjcmlwdG9yIGFzIE9iamVjdCwgbmFtZSkgOlxuICAgICAgICAgc3RhbmRhcmRFdmVudE9wdGlvbnMob3B0aW9ucywgcHJvdG9PckRlc2NyaXB0b3IgYXMgQ2xhc3NFbGVtZW50KSkgYXNcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBkZWNvcmF0b3JcbiAgICAgICAgYW55O1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE5IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbmh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmVcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0IENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzXG5wYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzbyBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50XG5mb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbmV4cG9ydCBjb25zdCBzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHMgPVxuICAgICgnYWRvcHRlZFN0eWxlU2hlZXRzJyBpbiBEb2N1bWVudC5wcm90b3R5cGUpICYmXG4gICAgKCdyZXBsYWNlJyBpbiBDU1NTdHlsZVNoZWV0LnByb3RvdHlwZSk7XG5cbmNvbnN0IGNvbnN0cnVjdGlvblRva2VuID0gU3ltYm9sKCk7XG5cbmV4cG9ydCBjbGFzcyBDU1NSZXN1bHQge1xuICBfc3R5bGVTaGVldD86IENTU1N0eWxlU2hlZXR8bnVsbDtcblxuICByZWFkb25seSBjc3NUZXh0OiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoY3NzVGV4dDogc3RyaW5nLCBzYWZlVG9rZW46IHN5bWJvbCkge1xuICAgIGlmIChzYWZlVG9rZW4gIT09IGNvbnN0cnVjdGlvblRva2VuKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ0NTU1Jlc3VsdCBpcyBub3QgY29uc3RydWN0YWJsZS4gVXNlIGB1bnNhZmVDU1NgIG9yIGBjc3NgIGluc3RlYWQuJyk7XG4gICAgfVxuICAgIHRoaXMuY3NzVGV4dCA9IGNzc1RleHQ7XG4gIH1cblxuICAvLyBOb3RlLCB0aGlzIGlzIGEgZ2V0dGVyIHNvIHRoYXQgaXQncyBsYXp5LiBJbiBwcmFjdGljZSwgdGhpcyBtZWFuc1xuICAvLyBzdHlsZXNoZWV0cyBhcmUgbm90IGNyZWF0ZWQgdW50aWwgdGhlIGZpcnN0IGVsZW1lbnQgaW5zdGFuY2UgaXMgbWFkZS5cbiAgZ2V0IHN0eWxlU2hlZXQoKTogQ1NTU3R5bGVTaGVldHxudWxsIHtcbiAgICBpZiAodGhpcy5fc3R5bGVTaGVldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBOb3RlLCBpZiBgYWRvcHRlZFN0eWxlU2hlZXRzYCBpcyBzdXBwb3J0ZWQgdGhlbiB3ZSBhc3N1bWUgQ1NTU3R5bGVTaGVldFxuICAgICAgLy8gaXMgY29uc3RydWN0YWJsZS5cbiAgICAgIGlmIChzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHMpIHtcbiAgICAgICAgdGhpcy5fc3R5bGVTaGVldCA9IG5ldyBDU1NTdHlsZVNoZWV0KCk7XG4gICAgICAgIHRoaXMuX3N0eWxlU2hlZXQucmVwbGFjZVN5bmModGhpcy5jc3NUZXh0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3N0eWxlU2hlZXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fc3R5bGVTaGVldDtcbiAgfVxuXG4gIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuY3NzVGV4dDtcbiAgfVxufVxuXG4vKipcbiAqIFdyYXAgYSB2YWx1ZSBmb3IgaW50ZXJwb2xhdGlvbiBpbiBhIGNzcyB0YWdnZWQgdGVtcGxhdGUgbGl0ZXJhbC5cbiAqXG4gKiBUaGlzIGlzIHVuc2FmZSBiZWNhdXNlIHVudHJ1c3RlZCBDU1MgdGV4dCBjYW4gYmUgdXNlZCB0byBwaG9uZSBob21lXG4gKiBvciBleGZpbHRyYXRlIGRhdGEgdG8gYW4gYXR0YWNrZXIgY29udHJvbGxlZCBzaXRlLiBUYWtlIGNhcmUgdG8gb25seSB1c2VcbiAqIHRoaXMgd2l0aCB0cnVzdGVkIGlucHV0LlxuICovXG5leHBvcnQgY29uc3QgdW5zYWZlQ1NTID0gKHZhbHVlOiB1bmtub3duKSA9PiB7XG4gIHJldHVybiBuZXcgQ1NTUmVzdWx0KFN0cmluZyh2YWx1ZSksIGNvbnN0cnVjdGlvblRva2VuKTtcbn07XG5cbmNvbnN0IHRleHRGcm9tQ1NTUmVzdWx0ID0gKHZhbHVlOiBDU1NSZXN1bHQpID0+IHtcbiAgaWYgKHZhbHVlIGluc3RhbmNlb2YgQ1NTUmVzdWx0KSB7XG4gICAgcmV0dXJuIHZhbHVlLmNzc1RleHQ7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgVmFsdWUgcGFzc2VkIHRvICdjc3MnIGZ1bmN0aW9uIG11c3QgYmUgYSAnY3NzJyBmdW5jdGlvbiByZXN1bHQ6ICR7XG4gICAgICAgICAgICB2YWx1ZX0uIFVzZSAndW5zYWZlQ1NTJyB0byBwYXNzIG5vbi1saXRlcmFsIHZhbHVlcywgYnV0XG4gICAgICAgICAgICB0YWtlIGNhcmUgdG8gZW5zdXJlIHBhZ2Ugc2VjdXJpdHkuYCk7XG4gIH1cbn07XG5cbi8qKlxuICogVGVtcGxhdGUgdGFnIHdoaWNoIHdoaWNoIGNhbiBiZSB1c2VkIHdpdGggTGl0RWxlbWVudCdzIGBzdHlsZWAgcHJvcGVydHkgdG9cbiAqIHNldCBlbGVtZW50IHN0eWxlcy4gRm9yIHNlY3VyaXR5IHJlYXNvbnMsIG9ubHkgbGl0ZXJhbCBzdHJpbmcgdmFsdWVzIG1heSBiZVxuICogdXNlZC4gVG8gaW5jb3Jwb3JhdGUgbm9uLWxpdGVyYWwgdmFsdWVzIGB1bnNhZmVDU1NgIG1heSBiZSB1c2VkIGluc2lkZSBhXG4gKiB0ZW1wbGF0ZSBzdHJpbmcgcGFydC5cbiAqL1xuZXhwb3J0IGNvbnN0IGNzcyA9IChzdHJpbmdzOiBUZW1wbGF0ZVN0cmluZ3NBcnJheSwgLi4udmFsdWVzOiBDU1NSZXN1bHRbXSkgPT4ge1xuICBjb25zdCBjc3NUZXh0ID0gdmFsdWVzLnJlZHVjZShcbiAgICAgIChhY2MsIHYsIGlkeCkgPT4gYWNjICsgdGV4dEZyb21DU1NSZXN1bHQodikgKyBzdHJpbmdzW2lkeCArIDFdLFxuICAgICAgc3RyaW5nc1swXSk7XG4gIHJldHVybiBuZXcgQ1NTUmVzdWx0KGNzc1RleHQsIGNvbnN0cnVjdGlvblRva2VuKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5pbXBvcnQge1RlbXBsYXRlUmVzdWx0fSBmcm9tICdsaXQtaHRtbCc7XG5pbXBvcnQge3JlbmRlcn0gZnJvbSAnbGl0LWh0bWwvbGliL3NoYWR5LXJlbmRlci5qcyc7XG5cbmltcG9ydCB7UHJvcGVydHlWYWx1ZXMsIFVwZGF0aW5nRWxlbWVudH0gZnJvbSAnLi9saWIvdXBkYXRpbmctZWxlbWVudC5qcyc7XG5cbmV4cG9ydCAqIGZyb20gJy4vbGliL3VwZGF0aW5nLWVsZW1lbnQuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9saWIvZGVjb3JhdG9ycy5qcyc7XG5leHBvcnQge2h0bWwsIHN2ZywgVGVtcGxhdGVSZXN1bHQsIFNWR1RlbXBsYXRlUmVzdWx0fSBmcm9tICdsaXQtaHRtbC9saXQtaHRtbC5qcyc7XG5pbXBvcnQge3N1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cywgQ1NTUmVzdWx0fSBmcm9tICcuL2xpYi9jc3MtdGFnLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL2Nzcy10YWcuanMnO1xuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBXaW5kb3cge1xuICAgIGxpdEVsZW1lbnRWZXJzaW9uczogc3RyaW5nW107XG4gIH1cbn1cblxuLy8gSU1QT1JUQU5UOiBkbyBub3QgY2hhbmdlIHRoZSBwcm9wZXJ0eSBuYW1lIG9yIHRoZSBhc3NpZ25tZW50IGV4cHJlc3Npb24uXG4vLyBUaGlzIGxpbmUgd2lsbCBiZSB1c2VkIGluIHJlZ2V4ZXMgdG8gc2VhcmNoIGZvciBMaXRFbGVtZW50IHVzYWdlLlxuLy8gVE9ETyhqdXN0aW5mYWduYW5pKTogaW5qZWN0IHZlcnNpb24gbnVtYmVyIGF0IGJ1aWxkIHRpbWVcbih3aW5kb3dbJ2xpdEVsZW1lbnRWZXJzaW9ucyddIHx8ICh3aW5kb3dbJ2xpdEVsZW1lbnRWZXJzaW9ucyddID0gW10pKVxuICAgIC5wdXNoKCcyLjAuMScpO1xuXG5leHBvcnQgaW50ZXJmYWNlIENTU1Jlc3VsdEFycmF5IGV4dGVuZHMgQXJyYXk8Q1NTUmVzdWx0fENTU1Jlc3VsdEFycmF5PiB7fVxuXG4vKipcbiAqIE1pbmltYWwgaW1wbGVtZW50YXRpb24gb2YgQXJyYXkucHJvdG90eXBlLmZsYXRcbiAqIEBwYXJhbSBhcnIgdGhlIGFycmF5IHRvIGZsYXR0ZW5cbiAqIEBwYXJhbSByZXN1bHQgdGhlIGFjY3VtbGF0ZWQgcmVzdWx0XG4gKi9cbmZ1bmN0aW9uIGFycmF5RmxhdChcbiAgICBzdHlsZXM6IENTU1Jlc3VsdEFycmF5LCByZXN1bHQ6IENTU1Jlc3VsdFtdID0gW10pOiBDU1NSZXN1bHRbXSB7XG4gIGZvciAobGV0IGkgPSAwLCBsZW5ndGggPSBzdHlsZXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCB2YWx1ZSA9IHN0eWxlc1tpXTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIGFycmF5RmxhdCh2YWx1ZSwgcmVzdWx0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKiogRGVlcGx5IGZsYXR0ZW5zIHN0eWxlcyBhcnJheS4gVXNlcyBuYXRpdmUgZmxhdCBpZiBhdmFpbGFibGUuICovXG5jb25zdCBmbGF0dGVuU3R5bGVzID0gKHN0eWxlczogQ1NTUmVzdWx0QXJyYXkpOiBDU1NSZXN1bHRbXSA9PlxuICAgIHN0eWxlcy5mbGF0ID8gc3R5bGVzLmZsYXQoSW5maW5pdHkpIDogYXJyYXlGbGF0KHN0eWxlcyk7XG5cbmV4cG9ydCBjbGFzcyBMaXRFbGVtZW50IGV4dGVuZHMgVXBkYXRpbmdFbGVtZW50IHtcbiAgLyoqXG4gICAqIEVuc3VyZSB0aGlzIGNsYXNzIGlzIG1hcmtlZCBhcyBgZmluYWxpemVkYCBhcyBhbiBvcHRpbWl6YXRpb24gZW5zdXJpbmdcbiAgICogaXQgd2lsbCBub3QgbmVlZGxlc3NseSB0cnkgdG8gYGZpbmFsaXplYC5cbiAgICovXG4gIHByb3RlY3RlZCBzdGF0aWMgZmluYWxpemVkID0gdHJ1ZTtcblxuICAvKipcbiAgICogUmVuZGVyIG1ldGhvZCB1c2VkIHRvIHJlbmRlciB0aGUgbGl0LWh0bWwgVGVtcGxhdGVSZXN1bHQgdG8gdGhlIGVsZW1lbnQnc1xuICAgKiBET00uXG4gICAqIEBwYXJhbSB7VGVtcGxhdGVSZXN1bHR9IFRlbXBsYXRlIHRvIHJlbmRlci5cbiAgICogQHBhcmFtIHtFbGVtZW50fERvY3VtZW50RnJhZ21lbnR9IE5vZGUgaW50byB3aGljaCB0byByZW5kZXIuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBFbGVtZW50IG5hbWUuXG4gICAqIEBub2NvbGxhcHNlXG4gICAqL1xuICBzdGF0aWMgcmVuZGVyID0gcmVuZGVyO1xuXG4gIC8qKlxuICAgKiBBcnJheSBvZiBzdHlsZXMgdG8gYXBwbHkgdG8gdGhlIGVsZW1lbnQuIFRoZSBzdHlsZXMgc2hvdWxkIGJlIGRlZmluZWRcbiAgICogdXNpbmcgdGhlIGBjc3NgIHRhZyBmdW5jdGlvbi5cbiAgICovXG4gIHN0YXRpYyBzdHlsZXM/OiBDU1NSZXN1bHR8Q1NTUmVzdWx0QXJyYXk7XG5cbiAgcHJpdmF0ZSBzdGF0aWMgX3N0eWxlczogQ1NTUmVzdWx0W118dW5kZWZpbmVkO1xuXG4gIC8qKiBAbm9jb2xsYXBzZSAqL1xuICBwcm90ZWN0ZWQgc3RhdGljIGZpbmFsaXplKCkge1xuICAgIHN1cGVyLmZpbmFsaXplKCk7XG4gICAgLy8gUHJlcGFyZSBzdHlsaW5nIHRoYXQgaXMgc3RhbXBlZCBhdCBmaXJzdCByZW5kZXIgdGltZS4gU3R5bGluZ1xuICAgIC8vIGlzIGJ1aWx0IGZyb20gdXNlciBwcm92aWRlZCBgc3R5bGVzYCBvciBpcyBpbmhlcml0ZWQgZnJvbSB0aGUgc3VwZXJjbGFzcy5cbiAgICB0aGlzLl9zdHlsZXMgPVxuICAgICAgICB0aGlzLmhhc093blByb3BlcnR5KEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ3N0eWxlcycsIHRoaXMpKSA/XG4gICAgICAgIHRoaXMuX2dldFVuaXF1ZVN0eWxlcygpIDpcbiAgICAgICAgdGhpcy5fc3R5bGVzIHx8IFtdO1xuICB9XG5cbiAgLyoqIEBub2NvbGxhcHNlICovXG4gIHByaXZhdGUgc3RhdGljIF9nZXRVbmlxdWVTdHlsZXMoKTogQ1NTUmVzdWx0W10ge1xuICAgIC8vIFRha2UgY2FyZSBub3QgdG8gY2FsbCBgdGhpcy5zdHlsZXNgIG11bHRpcGxlIHRpbWVzIHNpbmNlIHRoaXMgZ2VuZXJhdGVzXG4gICAgLy8gbmV3IENTU1Jlc3VsdHMgZWFjaCB0aW1lLlxuICAgIC8vIFRPRE8oc29ydmVsbCk6IFNpbmNlIHdlIGRvIG5vdCBjYWNoZSBDU1NSZXN1bHRzIGJ5IGlucHV0LCBhbnlcbiAgICAvLyBzaGFyZWQgc3R5bGVzIHdpbGwgZ2VuZXJhdGUgbmV3IHN0eWxlc2hlZXQgb2JqZWN0cywgd2hpY2ggaXMgd2FzdGVmdWwuXG4gICAgLy8gVGhpcyBzaG91bGQgYmUgYWRkcmVzc2VkIHdoZW4gYSBicm93c2VyIHNoaXBzIGNvbnN0cnVjdGFibGVcbiAgICAvLyBzdHlsZXNoZWV0cy5cbiAgICBjb25zdCB1c2VyU3R5bGVzID0gdGhpcy5zdHlsZXM7XG4gICAgY29uc3Qgc3R5bGVzOiBDU1NSZXN1bHRbXSA9IFtdO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHVzZXJTdHlsZXMpKSB7XG4gICAgICBjb25zdCBmbGF0U3R5bGVzID0gZmxhdHRlblN0eWxlcyh1c2VyU3R5bGVzKTtcbiAgICAgIC8vIEFzIGEgcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uIHRvIGF2b2lkIGR1cGxpY2F0ZWQgc3R5bGluZyB0aGF0IGNhblxuICAgICAgLy8gb2NjdXIgZXNwZWNpYWxseSB3aGVuIGNvbXBvc2luZyB2aWEgc3ViY2xhc3NpbmcsIGRlLWR1cGxpY2F0ZSBzdHlsZXNcbiAgICAgIC8vIHByZXNlcnZpbmcgdGhlIGxhc3QgaXRlbSBpbiB0aGUgbGlzdC4gVGhlIGxhc3QgaXRlbSBpcyBrZXB0IHRvXG4gICAgICAvLyB0cnkgdG8gcHJlc2VydmUgY2FzY2FkZSBvcmRlciB3aXRoIHRoZSBhc3N1bXB0aW9uIHRoYXQgaXQncyBtb3N0XG4gICAgICAvLyBpbXBvcnRhbnQgdGhhdCBsYXN0IGFkZGVkIHN0eWxlcyBvdmVycmlkZSBwcmV2aW91cyBzdHlsZXMuXG4gICAgICBjb25zdCBzdHlsZVNldCA9IGZsYXRTdHlsZXMucmVkdWNlUmlnaHQoKHNldCwgcykgPT4ge1xuICAgICAgICBzZXQuYWRkKHMpO1xuICAgICAgICAvLyBvbiBJRSBzZXQuYWRkIGRvZXMgbm90IHJldHVybiB0aGUgc2V0LlxuICAgICAgICByZXR1cm4gc2V0O1xuICAgICAgfSwgbmV3IFNldDxDU1NSZXN1bHQ+KCkpO1xuICAgICAgLy8gQXJyYXkuZnJvbSBkb2VzIG5vdCB3b3JrIG9uIFNldCBpbiBJRVxuICAgICAgc3R5bGVTZXQuZm9yRWFjaCgodikgPT4gc3R5bGVzLnVuc2hpZnQodikpO1xuICAgIH0gZWxzZSBpZiAodXNlclN0eWxlcykge1xuICAgICAgc3R5bGVzLnB1c2godXNlclN0eWxlcyk7XG4gICAgfVxuICAgIHJldHVybiBzdHlsZXM7XG4gIH1cblxuICBwcml2YXRlIF9uZWVkc1NoaW1BZG9wdGVkU3R5bGVTaGVldHM/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBOb2RlIG9yIFNoYWRvd1Jvb3QgaW50byB3aGljaCBlbGVtZW50IERPTSBzaG91bGQgYmUgcmVuZGVyZWQuIERlZmF1bHRzXG4gICAqIHRvIGFuIG9wZW4gc2hhZG93Um9vdC5cbiAgICovXG4gIHJlYWRvbmx5IHJlbmRlclJvb3QhOiBFbGVtZW50fERvY3VtZW50RnJhZ21lbnQ7XG5cbiAgLyoqXG4gICAqIFBlcmZvcm1zIGVsZW1lbnQgaW5pdGlhbGl6YXRpb24uIEJ5IGRlZmF1bHQgdGhpcyBjYWxscyBgY3JlYXRlUmVuZGVyUm9vdGBcbiAgICogdG8gY3JlYXRlIHRoZSBlbGVtZW50IGByZW5kZXJSb290YCBub2RlIGFuZCBjYXB0dXJlcyBhbnkgcHJlLXNldCB2YWx1ZXMgZm9yXG4gICAqIHJlZ2lzdGVyZWQgcHJvcGVydGllcy5cbiAgICovXG4gIHByb3RlY3RlZCBpbml0aWFsaXplKCkge1xuICAgIHN1cGVyLmluaXRpYWxpemUoKTtcbiAgICAodGhpcyBhcyB7cmVuZGVyUm9vdDogRWxlbWVudCB8IERvY3VtZW50RnJhZ21lbnR9KS5yZW5kZXJSb290ID1cbiAgICAgICAgdGhpcy5jcmVhdGVSZW5kZXJSb290KCk7XG4gICAgLy8gTm90ZSwgaWYgcmVuZGVyUm9vdCBpcyBub3QgYSBzaGFkb3dSb290LCBzdHlsZXMgd291bGQvY291bGQgYXBwbHkgdG8gdGhlXG4gICAgLy8gZWxlbWVudCdzIGdldFJvb3ROb2RlKCkuIFdoaWxlIHRoaXMgY291bGQgYmUgZG9uZSwgd2UncmUgY2hvb3Npbmcgbm90IHRvXG4gICAgLy8gc3VwcG9ydCB0aGlzIG5vdyBzaW5jZSBpdCB3b3VsZCByZXF1aXJlIGRpZmZlcmVudCBsb2dpYyBhcm91bmQgZGUtZHVwaW5nLlxuICAgIGlmICh3aW5kb3cuU2hhZG93Um9vdCAmJiB0aGlzLnJlbmRlclJvb3QgaW5zdGFuY2VvZiB3aW5kb3cuU2hhZG93Um9vdCkge1xuICAgICAgdGhpcy5hZG9wdFN0eWxlcygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBub2RlIGludG8gd2hpY2ggdGhlIGVsZW1lbnQgc2hvdWxkIHJlbmRlciBhbmQgYnkgZGVmYXVsdFxuICAgKiBjcmVhdGVzIGFuZCByZXR1cm5zIGFuIG9wZW4gc2hhZG93Um9vdC4gSW1wbGVtZW50IHRvIGN1c3RvbWl6ZSB3aGVyZSB0aGVcbiAgICogZWxlbWVudCdzIERPTSBpcyByZW5kZXJlZC4gRm9yIGV4YW1wbGUsIHRvIHJlbmRlciBpbnRvIHRoZSBlbGVtZW50J3NcbiAgICogY2hpbGROb2RlcywgcmV0dXJuIGB0aGlzYC5cbiAgICogQHJldHVybnMge0VsZW1lbnR8RG9jdW1lbnRGcmFnbWVudH0gUmV0dXJucyBhIG5vZGUgaW50byB3aGljaCB0byByZW5kZXIuXG4gICAqL1xuICBwcm90ZWN0ZWQgY3JlYXRlUmVuZGVyUm9vdCgpOiBFbGVtZW50fFNoYWRvd1Jvb3Qge1xuICAgIHJldHVybiB0aGlzLmF0dGFjaFNoYWRvdyh7bW9kZTogJ29wZW4nfSk7XG4gIH1cblxuICAvKipcbiAgICogQXBwbGllcyBzdHlsaW5nIHRvIHRoZSBlbGVtZW50IHNoYWRvd1Jvb3QgdXNpbmcgdGhlIGBzdGF0aWMgZ2V0IHN0eWxlc2BcbiAgICogcHJvcGVydHkuIFN0eWxpbmcgd2lsbCBhcHBseSB1c2luZyBgc2hhZG93Um9vdC5hZG9wdGVkU3R5bGVTaGVldHNgIHdoZXJlXG4gICAqIGF2YWlsYWJsZSBhbmQgd2lsbCBmYWxsYmFjayBvdGhlcndpc2UuIFdoZW4gU2hhZG93IERPTSBpcyBwb2x5ZmlsbGVkLFxuICAgKiBTaGFkeUNTUyBzY29wZXMgc3R5bGVzIGFuZCBhZGRzIHRoZW0gdG8gdGhlIGRvY3VtZW50LiBXaGVuIFNoYWRvdyBET01cbiAgICogaXMgYXZhaWxhYmxlIGJ1dCBgYWRvcHRlZFN0eWxlU2hlZXRzYCBpcyBub3QsIHN0eWxlcyBhcmUgYXBwZW5kZWQgdG8gdGhlXG4gICAqIGVuZCBvZiB0aGUgYHNoYWRvd1Jvb3RgIHRvIFttaW1pYyBzcGVjXG4gICAqIGJlaGF2aW9yXShodHRwczovL3dpY2cuZ2l0aHViLmlvL2NvbnN0cnVjdC1zdHlsZXNoZWV0cy8jdXNpbmctY29uc3RydWN0ZWQtc3R5bGVzaGVldHMpLlxuICAgKi9cbiAgcHJvdGVjdGVkIGFkb3B0U3R5bGVzKCkge1xuICAgIGNvbnN0IHN0eWxlcyA9ICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBMaXRFbGVtZW50KS5fc3R5bGVzITtcbiAgICBpZiAoc3R5bGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBUaGVyZSBhcmUgdGhyZWUgc2VwYXJhdGUgY2FzZXMgaGVyZSBiYXNlZCBvbiBTaGFkb3cgRE9NIHN1cHBvcnQuXG4gICAgLy8gKDEpIHNoYWRvd1Jvb3QgcG9seWZpbGxlZDogdXNlIFNoYWR5Q1NTXG4gICAgLy8gKDIpIHNoYWRvd1Jvb3QuYWRvcHRlZFN0eWxlU2hlZXRzIGF2YWlsYWJsZTogdXNlIGl0LlxuICAgIC8vICgzKSBzaGFkb3dSb290LmFkb3B0ZWRTdHlsZVNoZWV0cyBwb2x5ZmlsbGVkOiBhcHBlbmQgc3R5bGVzIGFmdGVyXG4gICAgLy8gcmVuZGVyaW5nXG4gICAgaWYgKHdpbmRvdy5TaGFkeUNTUyAhPT0gdW5kZWZpbmVkICYmICF3aW5kb3cuU2hhZHlDU1MubmF0aXZlU2hhZG93KSB7XG4gICAgICB3aW5kb3cuU2hhZHlDU1MuU2NvcGluZ1NoaW0ucHJlcGFyZUFkb3B0ZWRDc3NUZXh0KFxuICAgICAgICAgIHN0eWxlcy5tYXAoKHMpID0+IHMuY3NzVGV4dCksIHRoaXMubG9jYWxOYW1lKTtcbiAgICB9IGVsc2UgaWYgKHN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cykge1xuICAgICAgKHRoaXMucmVuZGVyUm9vdCBhcyBTaGFkb3dSb290KS5hZG9wdGVkU3R5bGVTaGVldHMgPVxuICAgICAgICAgIHN0eWxlcy5tYXAoKHMpID0+IHMuc3R5bGVTaGVldCEpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUaGlzIG11c3QgYmUgZG9uZSBhZnRlciByZW5kZXJpbmcgc28gdGhlIGFjdHVhbCBzdHlsZSBpbnNlcnRpb24gaXMgZG9uZVxuICAgICAgLy8gaW4gYHVwZGF0ZWAuXG4gICAgICB0aGlzLl9uZWVkc1NoaW1BZG9wdGVkU3R5bGVTaGVldHMgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgLy8gTm90ZSwgZmlyc3QgdXBkYXRlL3JlbmRlciBoYW5kbGVzIHN0eWxlRWxlbWVudCBzbyB3ZSBvbmx5IGNhbGwgdGhpcyBpZlxuICAgIC8vIGNvbm5lY3RlZCBhZnRlciBmaXJzdCB1cGRhdGUuXG4gICAgaWYgKHRoaXMuaGFzVXBkYXRlZCAmJiB3aW5kb3cuU2hhZHlDU1MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgd2luZG93LlNoYWR5Q1NTLnN0eWxlRWxlbWVudCh0aGlzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgZWxlbWVudC4gVGhpcyBtZXRob2QgcmVmbGVjdHMgcHJvcGVydHkgdmFsdWVzIHRvIGF0dHJpYnV0ZXNcbiAgICogYW5kIGNhbGxzIGByZW5kZXJgIHRvIHJlbmRlciBET00gdmlhIGxpdC1odG1sLiBTZXR0aW5nIHByb3BlcnRpZXMgaW5zaWRlXG4gICAqIHRoaXMgbWV0aG9kIHdpbGwgKm5vdCogdHJpZ2dlciBhbm90aGVyIHVwZGF0ZS5cbiAgICogKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAqL1xuICBwcm90ZWN0ZWQgdXBkYXRlKGNoYW5nZWRQcm9wZXJ0aWVzOiBQcm9wZXJ0eVZhbHVlcykge1xuICAgIHN1cGVyLnVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgY29uc3QgdGVtcGxhdGVSZXN1bHQgPSB0aGlzLnJlbmRlcigpIGFzIHVua25vd247XG4gICAgaWYgKHRlbXBsYXRlUmVzdWx0IGluc3RhbmNlb2YgVGVtcGxhdGVSZXN1bHQpIHtcbiAgICAgICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBMaXRFbGVtZW50KVxuICAgICAgICAgIC5yZW5kZXIoXG4gICAgICAgICAgICAgIHRlbXBsYXRlUmVzdWx0LFxuICAgICAgICAgICAgICB0aGlzLnJlbmRlclJvb3QsXG4gICAgICAgICAgICAgIHtzY29wZU5hbWU6IHRoaXMubG9jYWxOYW1lLCBldmVudENvbnRleHQ6IHRoaXN9KTtcbiAgICB9XG4gICAgLy8gV2hlbiBuYXRpdmUgU2hhZG93IERPTSBpcyB1c2VkIGJ1dCBhZG9wdGVkU3R5bGVzIGFyZSBub3Qgc3VwcG9ydGVkLFxuICAgIC8vIGluc2VydCBzdHlsaW5nIGFmdGVyIHJlbmRlcmluZyB0byBlbnN1cmUgYWRvcHRlZFN0eWxlcyBoYXZlIGhpZ2hlc3RcbiAgICAvLyBwcmlvcml0eS5cbiAgICBpZiAodGhpcy5fbmVlZHNTaGltQWRvcHRlZFN0eWxlU2hlZXRzKSB7XG4gICAgICB0aGlzLl9uZWVkc1NoaW1BZG9wdGVkU3R5bGVTaGVldHMgPSBmYWxzZTtcbiAgICAgICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBMaXRFbGVtZW50KS5fc3R5bGVzIS5mb3JFYWNoKChzKSA9PiB7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSBzLmNzc1RleHQ7XG4gICAgICAgIHRoaXMucmVuZGVyUm9vdC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSW52b2tlZCBvbiBlYWNoIHVwZGF0ZSB0byBwZXJmb3JtIHJlbmRlcmluZyB0YXNrcy4gVGhpcyBtZXRob2QgbXVzdCByZXR1cm5cbiAgICogYSBsaXQtaHRtbCBUZW1wbGF0ZVJlc3VsdC4gU2V0dGluZyBwcm9wZXJ0aWVzIGluc2lkZSB0aGlzIG1ldGhvZCB3aWxsICpub3QqXG4gICAqIHRyaWdnZXIgdGhlIGVsZW1lbnQgdG8gdXBkYXRlLlxuICAgKi9cbiAgcHJvdGVjdGVkIHJlbmRlcigpOiBUZW1wbGF0ZVJlc3VsdHx2b2lkIHtcbiAgfVxufVxuIiwiaW1wb3J0IGF4aW9zLCB7IEF4aW9zUmVzcG9uc2UsIENhbmNlbFRva2VuLCBBeGlvc1JlcXVlc3RDb25maWcgfSBmcm9tICdheGlvcyc7XG5pbXBvcnQgeyBodG1sLCBUZW1wbGF0ZVJlc3VsdCB9IGZyb20gJ2xpdC1odG1sJztcblxuZXhwb3J0IGludGVyZmFjZSBBc3NldCB7XG4gICAga2V5Pzogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgQXNzZXRQYWdlIHtcbiAgICBhc3NldHM6IEFzc2V0W107XG4gICAgbmV4dDogc3RyaW5nO1xufVxuXG4vKiogR2V0IHRoZSB2YWx1ZSBmb3IgYSBuYW1lZCBjb29raWUgKi9cbmV4cG9ydCBjb25zdCBnZXRDb29raWUgPSAobmFtZTogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICBmb3IgKGNvbnN0IGNvb2tpZSBvZiBkb2N1bWVudC5jb29raWUuc3BsaXQoJzsnKSkge1xuICAgICAgICBjb25zdCBpZHggPSBjb29raWUuaW5kZXhPZignPScpO1xuICAgICAgICBsZXQga2V5ID0gY29va2llLnN1YnN0cigwLCBpZHgpO1xuICAgICAgICBsZXQgdmFsdWUgPSBjb29raWUuc3Vic3RyKGlkeCArIDEpO1xuXG4gICAgICAgIC8vIG5vIHNwYWNlcyBhbGxvd2VkXG4gICAgICAgIGtleSA9IGtleS50cmltKCk7XG4gICAgICAgIHZhbHVlID0gdmFsdWUudHJpbSgpO1xuXG4gICAgICAgIGlmIChrZXkgPT09IG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn07XG5cbmV4cG9ydCB0eXBlIENsYXNzTWFwID0ge1xuICAgIFtjbGFzc05hbWU6IHN0cmluZ106IGJvb2xlYW5cbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDbGFzc2VzID0gKG1hcDogQ2xhc3NNYXApOiBzdHJpbmcgPT4ge1xuICAgIGNvbnN0IGNsYXNzTmFtZXM6IHN0cmluZ1tdID0gW107XG4gICAgT2JqZWN0LmtleXMobWFwKS5mb3JFYWNoKChjbGFzc05hbWU6IHN0cmluZykgPT4ge1xuICAgICAgICBpZiAobWFwW2NsYXNzTmFtZV0pIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZXMucHVzaChjbGFzc05hbWUpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBsZXQgcmVzdWx0ID0gY2xhc3NOYW1lcy5qb2luKCcgJyk7XG4gICAgaWYgKHJlc3VsdC50cmltKCkubGVuZ3RoID4gMCkge1xuICAgICAgICByZXN1bHQgPSAnICcgKyByZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0QXNzZXRQYWdlID0gKHVybDogc3RyaW5nKTogUHJvbWlzZTxBc3NldFBhZ2U+ID0+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2U8QXNzZXRQYWdlPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGdldFVybCh1cmwpXG4gICAgICAgICAgICAudGhlbigocmVzcG9uc2U6IEF4aW9zUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICAgICAgICAgICAgYXNzZXRzOiByZXNwb25zZS5kYXRhLnJlc3VsdHMsXG4gICAgICAgICAgICAgICAgICAgIG5leHQ6IHJlc3BvbnNlLmRhdGEubmV4dFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiByZWplY3QoZXJyb3IpKTtcbiAgICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRBc3NldHMgPSBhc3luYyAodXJsOiBzdHJpbmcpOiBQcm9taXNlPEFzc2V0W10+ID0+IHtcbiAgICBpZiAoIXVybCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8QXNzZXRbXT4oKHJlc29sdmUsIHJlamVjdCkgPT4gcmVzb2x2ZShbXSkpO1xuICAgIH1cblxuICAgIGxldCBhc3NldHM6IEFzc2V0W10gPSBbXTtcbiAgICBsZXQgcGFnZVVybCA9IHVybDtcbiAgICB3aGlsZSAocGFnZVVybCkge1xuICAgICAgICBjb25zdCBhc3NldFBhZ2UgPSBhd2FpdCBnZXRBc3NldFBhZ2UocGFnZVVybCk7XG4gICAgICAgIGFzc2V0cyA9IGFzc2V0cy5jb25jYXQoYXNzZXRQYWdlLmFzc2V0cyk7XG4gICAgICAgIHBhZ2VVcmwgPSBhc3NldFBhZ2UubmV4dDtcbiAgICB9XG4gICAgcmV0dXJuIGFzc2V0cztcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRVcmwgPSAoXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgY2FuY2VsVG9rZW46IENhbmNlbFRva2VuID0gbnVsbFxuKTogUHJvbWlzZTxBeGlvc1Jlc3BvbnNlPiA9PiB7XG4gICAgY29uc3QgY3NyZiA9IGdldENvb2tpZSgnY3NyZnRva2VuJyk7XG4gICAgY29uc3QgaGVhZGVycyA9IGNzcmYgPyB7ICdYLUNTUkZUb2tlbic6IGNzcmYgfSA6IHt9O1xuICAgIGNvbnN0IGNvbmZpZzogQXhpb3NSZXF1ZXN0Q29uZmlnID0geyBoZWFkZXJzIH07XG4gICAgaWYgKGNhbmNlbFRva2VuKSB7XG4gICAgICAgIGNvbmZpZy5jYW5jZWxUb2tlbiA9IGNhbmNlbFRva2VuO1xuICAgIH1cbiAgICByZXR1cm4gYXhpb3MuZ2V0KHVybCwgY29uZmlnKTtcbn07XG5cbmV4cG9ydCBjb25zdCBwb3N0VXJsID0gKHVybDogc3RyaW5nLCBwYXlsb2FkOiBhbnkpOiBQcm9taXNlPEF4aW9zUmVzcG9uc2U+ID0+IHtcbiAgICBjb25zdCBjc3JmID0gZ2V0Q29va2llKCdjc3JmdG9rZW4nKTtcbiAgICBjb25zdCBoZWFkZXJzID0gY3NyZiA/IHsgJ1gtQ1NSRlRva2VuJzogY3NyZiB9IDoge307XG4gICAgcmV0dXJuIGF4aW9zLnBvc3QodXJsLCBwYXlsb2FkLCB7IGhlYWRlcnMgfSk7XG59O1xuXG4vKipcbiAqL1xuZXhwb3J0IGNvbnN0IHJlbmRlcklmID0gKHByZWRpY2F0ZTogYm9vbGVhbiB8IGFueSkgPT4gKFxuICAgIHRoZW46ICgpID0+IFRlbXBsYXRlUmVzdWx0LFxuICAgIG90aGVyd2lzZT86ICgpID0+IFRlbXBsYXRlUmVzdWx0XG4pID0+IHtcbiAgICByZXR1cm4gcHJlZGljYXRlID8gdGhlbigpIDogb3RoZXJ3aXNlID8gb3RoZXJ3aXNlKCkgOiBodG1sYGA7XG59O1xuXG5leHBvcnQgY29uc3QgaGV4VG9SZ2IgPSAoaGV4OiBzdHJpbmcpOiB7IHI6IG51bWJlciwgZzogbnVtYmVyLCBiOiBudW1iZXIgfSA9PiB7XG4gICAgdmFyIHJlc3VsdCA9IC9eIz8oW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkkL2kuZXhlYyhoZXgpO1xuICAgIHJldHVybiByZXN1bHRcbiAgICAgICAgPyB7XG4gICAgICAgICAgICAgIHI6IHBhcnNlSW50KHJlc3VsdFsxXSwgMTYpLFxuICAgICAgICAgICAgICBnOiBwYXJzZUludChyZXN1bHRbMl0sIDE2KSxcbiAgICAgICAgICAgICAgYjogcGFyc2VJbnQocmVzdWx0WzNdLCAxNilcbiAgICAgICAgICB9XG4gICAgICAgIDogbnVsbDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRFbGVtZW50T2Zmc2V0ID0gKFxuICAgIGVsZTogSFRNTEVsZW1lbnRcbik6IHtcbiAgICB0b3A6IG51bWJlcixcbiAgICBsZWZ0OiBudW1iZXIsXG4gICAgYm90dG9tOiBudW1iZXIsXG4gICAgcmlnaHQ6IG51bWJlcixcbiAgICB3aWR0aDogbnVtYmVyLFxuICAgIGhlaWdodDogbnVtYmVyXG59ID0+IHtcbiAgICBjb25zdCByZWN0ID0gZWxlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IHNjcm9sbExlZnQgPVxuICAgICAgICB3aW5kb3cucGFnZVhPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ7XG4gICAgY29uc3Qgc2Nyb2xsVG9wID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdG9wOiByZWN0LnRvcCArIHNjcm9sbFRvcCxcbiAgICAgICAgbGVmdDogcmVjdC5sZWZ0ICsgc2Nyb2xsTGVmdCxcbiAgICAgICAgYm90dG9tOiByZWN0LnRvcCArIHJlY3QuaGVpZ2h0LFxuICAgICAgICByaWdodDogcmVjdC5sZWZ0ICsgcmVjdC53aWR0aCxcbiAgICAgICAgd2lkdGg6IHJlY3Qud2lkdGgsXG4gICAgICAgIGhlaWdodDogcmVjdC5oZWlnaHRcbiAgICB9O1xufTtcbiIsImltcG9ydCB7IEF4aW9zUmVzcG9uc2UgfSBmcm9tICdheGlvcyc7XG5pbXBvcnQgeyBjc3MsIGN1c3RvbUVsZW1lbnQsIGh0bWwsIExpdEVsZW1lbnQsIHByb3BlcnR5LCBUZW1wbGF0ZVJlc3VsdCB9IGZyb20gJ2xpdC1lbGVtZW50JztcbmltcG9ydCB7IEZlYXR1cmVQcm9wZXJ0aWVzIH0gZnJvbSAnLi4vaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBnZXRVcmwsIHBvc3RVcmwgfSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgYXV0b3NpemUgZnJvbSAnYXV0b3NpemUnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICcuLi9idXR0b24vQnV0dG9uJztcbmltcG9ydCBUZXh0SW5wdXQgZnJvbSAnLi4vdGV4dGlucHV0L1RleHRJbnB1dCc7XG5cblxuQGN1c3RvbUVsZW1lbnQoXCJhbGlhcy1lZGl0b3JcIilcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFsaWFzRWRpdG9yIGV4dGVuZHMgTGl0RWxlbWVudCB7XG5cbiAgc3RhdGljIGdldCBzdHlsZXMoKSB7XG4gICAgcmV0dXJuIGNzc2BcblxuICAgICAgOmhvc3Qge1xuICAgICAgICBsaW5lLWhlaWdodDogbm9ybWFsO1xuICAgICAgfVxuXG4gICAgICBycC10ZXh0aW5wdXQge1xuICAgICAgICBoZWlnaHQ6IDE1MHB4O1xuICAgICAgfVxuXG4gICAgICAjbGVmdC1jb2x1bW4ge1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICAgICAgICB3aWR0aDogMzAwcHg7XG4gICAgICAgIHotaW5kZXg6IDEwMDtcbiAgICAgIH1cblxuICAgICAgLnNlYXJjaCB7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gICAgICB9XG5cbiAgICAgIC5mZWF0dXJlIHtcbiAgICAgICAgcGFkZGluZzogNHB4IDE0cHg7XG4gICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgIH1cblxuICAgICAgLmxldmVsLTAge1xuICAgICAgICBtYXJnaW4tbGVmdDogMHB4O1xuICAgICAgfVxuXG4gICAgICAubGV2ZWwtMSB7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiA1cHg7XG4gICAgICAgIGZvbnQtc2l6ZTogOTUlO1xuICAgICAgfVxuXG4gICAgICAubGV2ZWwtMiB7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICAgICAgICBmb250LXNpemU6IDkwJTtcbiAgICAgIH1cblxuICAgICAgLmxldmVsLTMge1xuICAgICAgICBtYXJnaW4tbGVmdDogMTVweDtcbiAgICAgICAgZm9udC1zaXplOiA4NSU7XG4gICAgICB9XG5cbiAgICAgIC5mZWF0dXJlLW5hbWUge1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICB9XG5cbiAgICAgIC5jbGlja2FibGUge1xuICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgY29sb3I6IHZhcigtLWNvbG9yLWxpbmstcHJpbWFyeSk7XG4gICAgICB9XG5cbiAgICAgIC5jbGlja2FibGUuc2Vjb25kYXJ5IHtcbiAgICAgICAgY29sb3I6IHZhcigtLWNvbG9yLWxpbmstc2Vjb25kYXJ5KTtcbiAgICAgIH1cblxuICAgICAgLmNsaWNrYWJsZTpob3ZlciB7XG4gICAgICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xuICAgICAgICBjb2xvcjogdmFyKC0tY29sb3ItbGluay1wcmltYXJ5LWhvdmVyKTtcbiAgICAgIH1cblxuICAgICAgLmZlYXR1cmU6aG92ZXIgLnNob3dvbmhvdmVyIHtcbiAgICAgICAgdmlzaWJpbGl0eTogdmlzaWJsZTtcbiAgICAgIH1cblxuICAgICAgLnNob3dvbmhvdmVyIHtcbiAgICAgICAgdmlzaWJpbGl0eTogaGlkZGVuO1xuICAgICAgfVxuXG4gICAgICAuYWxpYXNlcyB7XG4gICAgICAgIGNvbG9yOiAjYmJiO1xuICAgICAgICBmb250LXNpemU6IDgwJTtcbiAgICAgICAgZGlzcGxheTogaW5saW5lO1xuICAgICAgICBtYXJnaW4tbGVmdDogNXB4O1xuICAgICAgfVxuXG4gICAgICBycC1sYWJlbCB7XG4gICAgICAgIG1hcmdpbi1yaWdodDogM3B4O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAzcHg7XG4gICAgICAgIHZlcnRpY2FsLWFsaWduOiB0b3A7XG4gICAgICB9XG5cbiAgICAgIC5zZWxlY3RlZCB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIHBhZGRpbmc6IDE1cHg7XG4gICAgICB9XG5cbiAgICAgIC5zZWxlY3RlZCAubmFtZSB7XG4gICAgICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICAgICAgcGFkZGluZzogNXB4O1xuICAgICAgfVxuXG4gICAgICAuc2VsZWN0ZWQgLmhlbHAge1xuICAgICAgICBwYWRkaW5nOiA1cHggMnB4O1xuICAgICAgICBmb250LXNpemU6IDExcHg7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1jb2xvci1zZWNvbmRhcnktbGlnaHQpO1xuICAgICAgfVxuXG4gICAgICAjcmlnaHQtY29sdW1uIHtcbiAgICAgICAgdmVydGljYWwtYWxpZ246IHRvcDtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDIwcHg7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIH1cblxuICAgICAgbGVhZmxldC1tYXAge1xuICAgICAgICBoZWlnaHQ6IDI1MHB4O1xuICAgICAgICB3aWR0aDogNDUwcHg7XG4gICAgICAgIGJvcmRlcjogMHB4IHNvbGlkICM5OTk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICAgIH1cblxuICAgICAgLmVkaXQge1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgIG1hcmdpbi1yaWdodDogMHB4O1xuICAgICAgfVxuXG4gICBgO1xuICB9XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBBcnJheSwgYXR0cmlidXRlOiBmYWxzZX0pXG4gIHBhdGg6IEZlYXR1cmVQcm9wZXJ0aWVzW10gPSBbXTtcblxuICBAcHJvcGVydHkoKVxuICBlbmRwb2ludDogc3RyaW5nO1xuXG4gIEBwcm9wZXJ0eSgpXG4gIG9zbUlkOiBzdHJpbmc7XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBPYmplY3R9KVxuICBob3ZlcmVkOiBGZWF0dXJlUHJvcGVydGllcztcblxuICBAcHJvcGVydHkoe3R5cGU6IE9iamVjdH0pXG4gIGVkaXRGZWF0dXJlOiBGZWF0dXJlUHJvcGVydGllc1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgcHVibGljIHVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXM6IE1hcDxzdHJpbmcsIGFueT4pIHtcblxuICAgIGlmIChjaGFuZ2VkUHJvcGVydGllcy5oYXMoXCJvc21JZFwiKSkge1xuICAgICAgLy8gZ29pbmcgdXAgdGhlIHRyZWUgZG9lc24ndCByZXF1aXJlIGEgZmV0Y2hcbiAgICAgIGNvbnN0IG5ld1BhdGggPSBbXTtcbiAgICAgIGZvciAobGV0IGZlYXR1cmUgb2YgdGhpcy5wYXRoKSB7XG4gICAgICAgIG5ld1BhdGgucHVzaChmZWF0dXJlKTtcbiAgICAgICAgaWYgKGZlYXR1cmUub3NtX2lkID09PSB0aGlzLm9zbUlkKSB7XG4gICAgICAgICAgdGhpcy5wYXRoID0gWy4uLm5ld1BhdGhdO1xuICAgICAgICAgIHRoaXMuaGlkZUFsaWFzRGlhbG9nKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZmV0Y2hGZWF0dXJlKCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBmZXRjaEZlYXR1cmUoKSB7XG4gICAgZ2V0VXJsKHRoaXMuZ2V0RW5kcG9pbnQoKSArIFwiYm91bmRhcmllcy9cIiArIHRoaXMub3NtSWQgKyBcIi9cIikudGhlbigocmVzcG9uc2U6IEF4aW9zUmVzcG9uc2UpID0+IHtcbiAgICAgIHRoaXMucGF0aCA9IHJlc3BvbnNlLmRhdGEgYXMgRmVhdHVyZVByb3BlcnRpZXNbXTtcbiAgICAgIHRoaXMuaGlkZUFsaWFzRGlhbG9nKCk7XG4gICAgfSk7XG4gIH1cblxuICAvKlxuICAgTWFrZXMgc3VyZSBvdXIgdGV4dGFyZWEgZ3Jvd3Mgd2l0aCB1c1xuICAgKi9cbiAgcHJpdmF0ZSBmaXJlVGV4dGFyZWFBdXRvc2l6ZSgpOiB2b2lkIHtcbiAgICB3aW5kb3cuc2V0VGltZW91dCgoKT0+e1xuICAgICAgYXV0b3NpemUodGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhJykpO1xuICAgICAgYXV0b3NpemUudXBkYXRlKHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYScpKTtcbiAgICB9LCAwKTtcbiAgfVxuICBcbiAgcHJpdmF0ZSBoYW5kbGVNYXBDbGlja2VkKGZlYXR1cmU6IEZlYXR1cmVQcm9wZXJ0aWVzKTogdm9pZCB7XG4gICAgdGhpcy5ob3ZlcmVkID0gbnVsbDtcbiAgICBpZiAoIWZlYXR1cmUgfHwgZmVhdHVyZS5vc21faWQgIT09IHRoaXMub3NtSWQpIHtcbiAgICAgIHRoaXMub3NtSWQgPSBmZWF0dXJlLm9zbV9pZDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVBsYWNlQ2xpY2tlZChmZWF0dXJlOiBGZWF0dXJlUHJvcGVydGllcykge1xuICAgIHRoaXMub3NtSWQgPSBmZWF0dXJlLm9zbV9pZDtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlU2VhcmNoU2VsZWN0aW9uKGV2dDogQ3VzdG9tRXZlbnQpIHtcbiAgICBjb25zdCBzZWxlY3Rpb24gPSBldnQuZGV0YWlsLnNlbGVjdGVkIGFzIEZlYXR1cmVQcm9wZXJ0aWVzO1xuICAgIHRoaXMuc2hvd0FsaWFzRGlhbG9nKHNlbGVjdGlvbik7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlckZlYXR1cmUoZmVhdHVyZTogRmVhdHVyZVByb3BlcnRpZXMsIHJlbWFpbmluZ1BhdGg6IEZlYXR1cmVQcm9wZXJ0aWVzW10pOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgY29uc3Qgc2VsZWN0ZWRGZWF0dXJlID0gdGhpcy5wYXRoW3RoaXMucGF0aC5sZW5ndGggLSAxXTtcbiAgICBjb25zdCBjbGlja2FibGUgPSAoKGZlYXR1cmUuaGFzX2NoaWxkcmVuIHx8IGZlYXR1cmUubGV2ZWwgPT09IDAgKSYmIGZlYXR1cmUgIT09IHNlbGVjdGVkRmVhdHVyZSk7XG4gICAgY29uc3QgcmVuZGVyZWRGZWF0dXJlID0gaHRtbGBcbiAgICAgIDxkaXYgY2xhc3M9XCJmZWF0dXJlXCI+XG4gICAgICAgIDxkaXYgXG4gICAgICAgICAgQG1vdXNlb3Zlcj0keygpID0+IHsgaWYgKGZlYXR1cmUubGV2ZWwgPiAwKSB7IHRoaXMuaG92ZXJlZCA9IGZlYXR1cmUgfX19XG4gICAgICAgICAgQG1vdXNlb3V0PSR7KCkgPT4geyB0aGlzLmhvdmVyZWQgPSBudWxsIH19XG4gICAgICAgICAgY2xhc3M9XCJsZXZlbC0ke2ZlYXR1cmUubGV2ZWx9XCJcbiAgICAgICAgPlxuXG4gXG5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZlYXR1cmUtbmFtZSAkeyBjbGlja2FibGUgPyAnY2xpY2thYmxlJyA6ICcnfVwiIFxuICAgICAgICAgIEBjbGljaz0keygpID0+IHsgaWYgKGNsaWNrYWJsZSkge3RoaXMuaGFuZGxlUGxhY2VDbGlja2VkKGZlYXR1cmUpIH19fT5cbiAgICAgICAgICAke2ZlYXR1cmUubmFtZX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzcz1cImFsaWFzZXNcIj5cbiAgICAgICAgICAke2ZlYXR1cmUuYWxpYXNlcy5zcGxpdCgnXFxuJykubWFwKChhbGlhczogc3RyaW5nKT0+YWxpYXMudHJpbSgpLmxlbmd0aCA+IDAgPyBodG1sYFxuICAgICAgICAgICAgPHJwLWxhYmVsIGNsYXNzPVwiYWxpYXNcIiBAY2xpY2s9JHsoKT0+e3RoaXMuc2hvd0FsaWFzRGlhbG9nKGZlYXR1cmUpO319IGxpZ2h0IGNsaWNrYWJsZT4ke2FsaWFzfTwvcnAtbGFiZWw+XG4gICAgICAgICAgYDogbnVsbCl9XG5cbiAgICAgICAgICAke2ZlYXR1cmUubGV2ZWwgPiAwID8gaHRtbGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZWRpdCBjbGlja2FibGUgc2hvd29uaG92ZXJcIiBAY2xpY2s9JHsoZXZ0OiBNb3VzZUV2ZW50KT0+IHsgdGhpcy5zaG93QWxpYXNEaWFsb2coZmVhdHVyZSk7IGV2dC5wcmV2ZW50RGVmYXVsdCgpOyBldnQuc3RvcFByb3BhZ2F0aW9uKCl9fT5cbiAgICAgICAgICAgIDxycC1pY29uIG5hbWU9XCJyZWdpc3RlclwiIHNpemU9XCIxMlwiPjwvcnAtaWNvbj5cbiAgICAgICAgICA8L2Rpdj5gOiAnJ31cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgIDwvZGl2PlxuICAgICAgYDtcblxuICAgIGNvbnN0IHJlbmRlcmVkQ2hpbGRyZW4gPSAoZmVhdHVyZS5jaGlsZHJlbiB8fCBbXSkubWFwKChjaGlsZDogRmVhdHVyZVByb3BlcnRpZXMpPT4ge1xuICAgIFxuICAgICAgaWYgKHJlbWFpbmluZ1BhdGgubGVuZ3RoID4gMCAmJiAocmVtYWluaW5nUGF0aFswXS5vc21faWQgPT09IGNoaWxkLm9zbV9pZCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyRmVhdHVyZShyZW1haW5pbmdQYXRoWzBdLCByZW1haW5pbmdQYXRoLnNsaWNlKDEpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlbWFpbmluZ1BhdGgubGVuZ3RoID09PSAwIHx8IHJlbWFpbmluZ1BhdGhbMF0uY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlckZlYXR1cmUoY2hpbGQsIHJlbWFpbmluZ1BhdGgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICBcbiAgICB9KTtcblxuICAgIHJldHVybiBodG1sYFxuICAgICAgJHtyZW5kZXJlZEZlYXR1cmV9XG4gICAgICAke3JlbmRlcmVkQ2hpbGRyZW59XG4gICAgYFxuICB9XG5cbiAgcHVibGljIHNob3dBbGlhc0RpYWxvZyhmZWF0dXJlOiBGZWF0dXJlUHJvcGVydGllcykge1xuICAgIHRoaXMuZWRpdEZlYXR1cmUgPSBmZWF0dXJlO1xuICAgIGNvbnN0IGFsaWFzRGlhbG9nID0gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwiYWxpYXMtZGlhbG9nXCIpO1xuICAgIGlmIChhbGlhc0RpYWxvZyl7XG4gICAgICB0aGlzLmZpcmVUZXh0YXJlYUF1dG9zaXplKCk7XG4gICAgICBhbGlhc0RpYWxvZy5zZXRBdHRyaWJ1dGUoJ29wZW4nLCAnJyk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGhpZGVBbGlhc0RpYWxvZygpIHtcbiAgICBjb25zdCBhbGlhc0RpYWxvZyA9IHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChcImFsaWFzLWRpYWxvZ1wiKTtcbiAgICBpZiAoYWxpYXNEaWFsb2cpIHtcbiAgICAgIGFsaWFzRGlhbG9nLnJlbW92ZUF0dHJpYnV0ZShcIm9wZW5cIik7XG4gICAgfVxuXG4gICAgdGhpcy5yZXF1ZXN0VXBkYXRlKCk7XG4gIH1cblxuICBwcml2YXRlIGdldEVuZHBvaW50KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuZW5kcG9pbnQgKyAoIXRoaXMuZW5kcG9pbnQuZW5kc1dpdGgoJy8nKSA/ICcvJyA6ICcnKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlRGlhbG9nQ2xpY2soZXZ0OiBDdXN0b21FdmVudCkge1xuICAgIGNvbnN0IGJ1dHRvbiA9IGV2dC5kZXRhaWwuYnV0dG9uO1xuICAgIGlmIChidXR0b24ubmFtZSA9PT0gXCJTYXZlXCIpIHtcbiAgICAgIGJ1dHRvbi5zZXRQcm9ncmVzcyh0cnVlKTtcbiAgICAgIGNvbnN0IHRleHRhcmVhID0gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKHRoaXMuZWRpdEZlYXR1cmUub3NtX2lkKSBhcyBUZXh0SW5wdXQ7XG4gICAgICBjb25zdCBhbGlhc2VzID0gdGV4dGFyZWEuaW5wdXRFbGVtZW50LnZhbHVlO1xuICAgICAgY29uc3QgcGF5bG9hZCA9IHsgXCJvc21faWRcIjogIHRoaXMuZWRpdEZlYXR1cmUub3NtX2lkLCBhbGlhc2VzIH07XG4gICAgICBwb3N0VXJsKHRoaXMuZ2V0RW5kcG9pbnQoKSArIFwiYm91bmRhcmllcy9cIiArICB0aGlzLmVkaXRGZWF0dXJlLm9zbV9pZCArIFwiL1wiLCBwYXlsb2FkKS50aGVuKChyZXNwb25zZTogQXhpb3NSZXNwb25zZSkgPT4ge1xuICAgICAgICB0aGlzLmZldGNoRmVhdHVyZSgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYoYnV0dG9uLm5hbWUgPT09IFwiQ2FuY2VsXCIpIHtcbiAgICAgIHRoaXMuaGlkZUFsaWFzRGlhbG9nKCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJPcHRpb25EZXRhaWwob3B0aW9uOiBGZWF0dXJlUHJvcGVydGllcywgc2VsZWN0ZWQ6IGJvb2xlYW4pOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgY29uc3Qgc3R5bGUgPSBodG1sYFxuICAgICAgPHN0eWxlPlxuICAgICAgICBycC1sYWJlbCB7XG4gICAgICAgICAgbWFyZ2luLXRvcDogM3B4O1xuICAgICAgICAgIG1hcmdpbi1yaWdodDogM3B4O1xuICAgICAgICB9XG4gICAgICA8L3N0eWxlPlxuICAgIGA7XG5cbiAgICBjb25zdCBhbGlhc0xpc3QgPSBvcHRpb24uYWxpYXNlcy5zcGxpdCgnXFxuJyk7XG4gICAgY29uc3QgYWxpYXNlcyA9IGFsaWFzTGlzdC5tYXAoKGFsaWFzOiBzdHJpbmcpPT5hbGlhcy50cmltKCkubGVuZ3RoID4gMCA/IGh0bWxgPHJwLWxhYmVsIGNsYXNzPVwiYWxpYXNcIiBkYXJrPiR7YWxpYXN9PC9ycC1sYWJlbD5gOiBudWxsKTtcbiAgICByZXR1cm4gaHRtbGAke3N0eWxlfTxkaXYgY2xhc3M9XCJwYXRoXCI+JHtvcHRpb24ucGF0aC5yZXBsYWNlKC8+L2dpLCBcIuKAo1wiKX08L2Rpdj48ZGl2IGNsYXNzPVwiYWxpYXNlc1wiPiR7YWxpYXNlc308L2Rpdj5gOyAgICBcbiAgfVxuXG4gIHB1YmxpYyByZW5kZXIoKTogVGVtcGxhdGVSZXN1bHQge1xuICAgIGlmICh0aGlzLnBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gaHRtbGBgO1xuICAgIH1cblxuICAgIC8vIGlmIHdlIGFyZSBhIGxlYWYsIGhhdmUgb3VyIG1hcCBzaG93IHRoZSBsZXZlbCBhYm92ZVxuICAgIGNvbnN0IHNlbGVjdGVkRmVhdHVyZSA9IHRoaXMucGF0aFt0aGlzLnBhdGgubGVuZ3RoIC0gMV07XG4gICAgY29uc3QgbWFwRmVhdHVyZSA9IHNlbGVjdGVkRmVhdHVyZS5jaGlsZHJlbi5sZW5ndGggPT09IDAgPyB0aGlzLnBhdGhbdGhpcy5wYXRoLmxlbmd0aCAtIDJdIDogc2VsZWN0ZWRGZWF0dXJlO1xuICAgIFxuICAgIGNvbnN0IGVkaXRGZWF0dXJlSWQgPSB0aGlzLmVkaXRGZWF0dXJlID8gdGhpcy5lZGl0RmVhdHVyZS5vc21faWQgOiBudWxsO1xuICAgIGNvbnN0IGVkaXRGZWF0dXJlTmFtZSA9IHRoaXMuZWRpdEZlYXR1cmUgPyB0aGlzLmVkaXRGZWF0dXJlLm5hbWUgOiBudWxsO1xuICAgIGNvbnN0IGVkaXRGZWF0dXJlQWxpYXNlcyA9IHRoaXMuZWRpdEZlYXR1cmUgPyB0aGlzLmVkaXRGZWF0dXJlLmFsaWFzZXMgOiBudWxsO1xuICAgIHJldHVybiBodG1sYFxuICAgICAgPGRpdiBpZD1cImxlZnQtY29sdW1uXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzZWFyY2hcIj5cbiAgICAgICAgICA8cnAtc2VsZWN0IFxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTZWFyY2hcIiBcbiAgICAgICAgICAgIGVuZHBvaW50PVwiJHt0aGlzLmdldEVuZHBvaW50KCl9Ym91bmRhcmllcy8ke3RoaXMucGF0aFswXS5vc21faWR9Lz9xPVwiXG4gICAgICAgICAgICAucmVuZGVyT3B0aW9uRGV0YWlsPSR7dGhpcy5yZW5kZXJPcHRpb25EZXRhaWx9XG4gICAgICAgICAgICBAcnAtc2VsZWN0aW9uPSR7dGhpcy5oYW5kbGVTZWFyY2hTZWxlY3Rpb24uYmluZCh0aGlzKX1cbiAgICAgICAgICA+PC9ycC1zZWxlY3Q+XG4gICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZlYXR1cmUtdHJlZVwiPlxuICAgICAgICAgICR7dGhpcy5yZW5kZXJGZWF0dXJlKHRoaXMucGF0aFswXSwgdGhpcy5wYXRoLnNsaWNlKDEpKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBpZD1cInJpZ2h0LWNvbHVtblwiPlxuICAgICAgICA8bGVhZmxldC1tYXAgXG4gICAgICAgICAgZW5kcG9pbnQ9JHt0aGlzLmdldEVuZHBvaW50KCl9XG4gICAgICAgICAgLmZlYXR1cmU9JHttYXBGZWF0dXJlfVxuICAgICAgICAgIC5vc21JZD0ke21hcEZlYXR1cmUub3NtX2lkfVxuICAgICAgICAgIC5ob3ZlcmVkPSR7dGhpcy5ob3ZlcmVkfVxuICAgICAgICAgIC5vbkZlYXR1cmVDbGlja2VkPSR7dGhpcy5oYW5kbGVNYXBDbGlja2VkLmJpbmQodGhpcyl9PlxuICAgICAgICA8L2xlYWZsZXQtbWFwPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxycC1kaWFsb2cgaWQ9XCJhbGlhcy1kaWFsb2dcIiBcbiAgICAgICAgdGl0bGU9XCJBbGlhc2VzIGZvciAke2VkaXRGZWF0dXJlTmFtZX1cIiBcbiAgICAgICAgcHJpbWFyeUJ1dHRvbk5hbWU9XCJTYXZlXCJcbiAgICAgICAgQHJwLWJ1dHRvbi1jbGlja2VkPSR7dGhpcy5oYW5kbGVEaWFsb2dDbGljay5iaW5kKHRoaXMpfT5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwic2VsZWN0ZWRcIj5cbiAgICAgICAgICA8cnAtdGV4dGlucHV0IG5hbWU9XCJhbGlhc2VzXCIgaWQ9JHtlZGl0RmVhdHVyZUlkfSAudmFsdWU9JHtlZGl0RmVhdHVyZUFsaWFzZXN9IHRleHRhcmVhPjwvcnAtdGV4dGlucHV0PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJoZWxwXCI+XG4gICAgICAgICAgICBFbnRlciBvdGhlciBhbGlhc2VzIGZvciAke2VkaXRGZWF0dXJlTmFtZX0sIG9uZSBwZXIgbGluZVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvcnAtZGlhbG9nPiAgICAgICAgICAgICBcblxuICAgIGA7XG4gIH1cbn0iLCJpbXBvcnQgeyBMaXRFbGVtZW50LCBUZW1wbGF0ZVJlc3VsdCwgaHRtbCwgY3NzLCBjdXN0b21FbGVtZW50LCBwcm9wZXJ0eSB9IGZyb20gJ2xpdC1lbGVtZW50JztcbmltcG9ydCB7IGdldENsYXNzZXMgfSBmcm9tICcuLi91dGlscyc7XG5cbkBjdXN0b21FbGVtZW50KFwicnAtYnV0dG9uXCIpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCdXR0b24gZXh0ZW5kcyBMaXRFbGVtZW50IHtcblxuICBzdGF0aWMgZ2V0IHN0eWxlcygpIHtcbiAgICByZXR1cm4gY3NzYFxuICAgICAgLmJ1dHRvbiB7XG4gICAgICAgIGJhY2tncm91bmQ6IGJsdWU7XG4gICAgICAgIGNvbG9yOiAjZmZmO1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tY3VydmF0dXJlKTtcbiAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgIH1cblxuICAgICAgLmJ1dHRvbjpmb2N1cyB7XG4gICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgICAgIG1hcmdpbjogMDtcbiAgICAgIH1cblxuICAgICAgLmJ1dHRvbjpmb2N1cyAubWFza3tcbiAgICAgICAgYmFja2dyb3VuZDogcmdiKDAsMCwwLC4xKTtcbiAgICAgICAgYm94LXNoYWRvdzogMCAwIDBweCAycHggdmFyKC0tY29sb3ItYnV0dG9uLXByaW1hcnkpO1xuICAgICAgfVxuXG4gICAgICAuYnV0dG9uLnNlY29uZGFyeTpmb2N1cyAubWFza3tcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tY29sb3ItYnV0dG9uLXNlY29uZGFyeSk7XG4gICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgICAgICBib3gtc2hhZG93OiAwIDAgMHB4IDJweCB2YXIoLS1jb2xvci1idXR0b24tc2Vjb25kYXJ5KTtcbiAgICAgIH1cblxuICAgICAgLm1hc2sge1xuICAgICAgICBwYWRkaW5nOiA1cHggMTBweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tY3VydmF0dXJlKTtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgICB9XG5cbiAgICAgIC5wcmltYXJ5IHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tY29sb3ItYnV0dG9uLXByaW1hcnkpO1xuICAgICAgICBjb2xvcjogdmFyKC0tY29sb3ItYnV0dG9uLXByaW1hcnktdGV4dCk7XG4gICAgICB9XG5cbiAgICAgIC5zZWNvbmRhcnkge1xuICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICAgICAgY29sb3I6IHZhcigtLWNvbG9yLWJ1dHRvbi1zZWNvbmRhcnkpO1xuICAgICAgfVxuXG4gICAgICAuc2Vjb25kYXJ5OmhvdmVyIC5tYXNre1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1jb2xvci1idXR0b24tc2Vjb25kYXJ5KTtcbiAgICAgIH1cblxuICAgICAgLmJ1dHRvbi5wcm9ncmVzc3tcbiAgICAgICAgYmFja2dyb3VuZDogI2RkZDtcbiAgICAgIH1cblxuICAgICAgLmJ1dHRvbi5wcm9ncmVzczpmb2N1cyAubWFzayB7XG4gICAgICAgIGJveC1zaGFkb3c6IDAgMCAwcHggMnB4IHZhcigtLWNvbG9yLWJ1dHRvbi1zZWNvbmRhcnkpO1xuICAgICAgfVxuXG4gICAgICAubWFzazpob3ZlciB7XG4gICAgICAgIGJhY2tncm91bmQ6IHJnYigwLDAsMCwuMSk7XG4gICAgICB9XG5cbiAgICAgIC5zZWNvbmRhcnkgLm1hc2s6aG92ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICAgIH1cblxuICBgO1xuICB9XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBCb29sZWFufSlcbiAgcHJpbWFyeTogYm9vbGVhbjtcblxuICBAcHJvcGVydHkoe3R5cGU6IEJvb2xlYW59KVxuICBzZWNvbmRhcnk6IGJvb2xlYW47XG5cbiAgQHByb3BlcnR5KClcbiAgbmFtZTogc3RyaW5nO1xuXG4gIEBwcm9wZXJ0eSgpXG4gIGluUHJvZ2Vzc05hbWU6IHN0cmluZztcblxuICBAcHJvcGVydHkoe3R5cGU6IEJvb2xlYW59KVxuICBpc1Byb2dyZXNzOiBib29sZWFuO1xuXG4gIHB1YmxpYyBzZXRQcm9ncmVzcyhwcm9ncmVzczogYm9vbGVhbik6IHZvaWQge1xuICAgIHRoaXMuaXNQcm9ncmVzcyA9IHByb2dyZXNzO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVLZXlVcChldmVudDogS2V5Ym9hcmRFdmVudCk6IHZvaWQge1xuICAgIGlmIChldmVudC5rZXkgPT09IFwiRW50ZXJcIikge1xuICAgICAgdGhpcy5jbGljaygpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyByZW5kZXIoKTogVGVtcGxhdGVSZXN1bHQge1xuICAgICAgcmV0dXJuIGh0bWxgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJidXR0b24gXG4gICAgICAgICAgJHtnZXRDbGFzc2VzKHsgXG4gICAgICAgICAgXCJwcm9ncmVzc1wiOiB0aGlzLmlzUHJvZ3Jlc3MsXG4gICAgICAgICAgXCJwcmltYXJ5XCI6IHRoaXMucHJpbWFyeSxcbiAgICAgICAgICBcInNlY29uZGFyeVwiOiB0aGlzLnNlY29uZGFyeVxuICAgICAgICAgIH0pfVwiXG4gICAgICAgICAgdGFiaW5kZXg9XCIwXCJcbiAgICAgICAgICBAa2V5dXA9JHt0aGlzLmhhbmRsZUtleVVwfVxuICAgICAgICA+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm1hc2tcIj5cbiAgICAgICAgICAgICR7dGhpcy5pc1Byb2dyZXNzID8gdGhpcy5pblByb2dlc3NOYW1lIHx8IHRoaXMubmFtZSA6IHRoaXMubmFtZX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgO1xuICB9XG59IiwiZXhwb3J0IGludGVyZmFjZSBGZWF0dXJlUHJvcGVydGllcyB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIG9zbV9pZDogc3RyaW5nO1xuICAgIGxldmVsOiBudW1iZXI7XG4gICAgY2hpbGRyZW4/OiBGZWF0dXJlUHJvcGVydGllc1tdO1xuICAgIGhhc19jaGlsZHJlbj86IGJvb2xlYW47XG4gICAgYWxpYXNlcz86IHN0cmluZztcbiAgICBwYXJlbnRfb3NtX2lkPzogc3RyaW5nO1xuICAgIGlkPzogbnVtYmVyO1xuICAgIHBhdGg/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBlbnVtIEN1c3RvbUV2ZW50VHlwZSB7XG4gICAgQ2FuY2VsZWQgPSAncnAtY2FuY2VsZWQnLFxuICAgIEN1cnNvckNoYW5nZWQgPSAncnAtY3Vyc29yLWNoYW5nZWQnLFxuICAgIFNlbGVjdGlvbiA9ICdycC1zZWxlY3Rpb24nLFxuICAgIEJ1dHRvbkNsaWNrZWQgPSAncnAtYnV0dG9uLWNsaWNrZWQnXG59IiwiaW1wb3J0IHsgTGl0RWxlbWVudCB9IGZyb20gJ2xpdC1lbGVtZW50JztcbmltcG9ydCB7IEN1c3RvbUV2ZW50VHlwZSB9IGZyb20gJy4vaW50ZXJmYWNlcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXZlbnRIYW5kbGVyIHtcbiAgZXZlbnQ6IHN0cmluZztcbiAgbWV0aG9kOiBFdmVudExpc3RlbmVyO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSYXBpZEVsZW1lbnQgZXh0ZW5kcyBMaXRFbGVtZW50IHtcblxuICBwdWJsaWMgZ2V0RXZlbnRIYW5kbGVycygpOiBFdmVudEhhbmRsZXJbXSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICBmb3IgKGNvbnN0IGhhbmRsZXIgb2YgdGhpcy5nZXRFdmVudEhhbmRsZXJzKCkpIHtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoaGFuZGxlci5ldmVudCwgaGFuZGxlci5tZXRob2QuYmluZCh0aGlzKSk7XG4gICAgfVxuICB9XG5cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgZm9yIChjb25zdCBoYW5kbGVyIG9mIHRoaXMuZ2V0RXZlbnRIYW5kbGVycygpKSB7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGhhbmRsZXIuZXZlbnQsIGhhbmRsZXIubWV0aG9kKTtcbiAgICB9XG4gICAgc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgfVxuXG4gIHB1YmxpYyBmaXJlRXZlbnQodHlwZTogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCh0eXBlLCB7XG4gICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgY29tcG9zZWQ6IHRydWVcbiAgfSkpXG4gIH1cblxuICBwdWJsaWMgZmlyZUN1c3RvbUV2ZW50KHR5cGU6IEN1c3RvbUV2ZW50VHlwZSwgZGV0YWlsOiBhbnkgPSB7fSk6IHZvaWQge1xuICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KHR5cGUsIHtcbiAgICAgICAgZGV0YWlsLFxuICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICBjb21wb3NlZDogdHJ1ZVxuICAgIH0pO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gIH07XG59IiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE4IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuXG5pbXBvcnQge0F0dHJpYnV0ZVBhcnQsIGRpcmVjdGl2ZSwgUGFydCwgUHJvcGVydHlQYXJ0fSBmcm9tICcuLi9saXQtaHRtbC5qcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3R5bGVJbmZvIHtcbiAgcmVhZG9ubHkgW25hbWU6IHN0cmluZ106IHN0cmluZztcbn1cblxuLyoqXG4gKiBTdG9yZXMgdGhlIFN0eWxlSW5mbyBvYmplY3QgYXBwbGllZCB0byBhIGdpdmVuIEF0dHJpYnV0ZVBhcnQuXG4gKiBVc2VkIHRvIHVuc2V0IGV4aXN0aW5nIHZhbHVlcyB3aGVuIGEgbmV3IFN0eWxlSW5mbyBvYmplY3QgaXMgYXBwbGllZC5cbiAqL1xuY29uc3Qgc3R5bGVNYXBDYWNoZSA9IG5ldyBXZWFrTWFwPEF0dHJpYnV0ZVBhcnQsIFN0eWxlSW5mbz4oKTtcblxuLyoqXG4gKiBBIGRpcmVjdGl2ZSB0aGF0IGFwcGxpZXMgQ1NTIHByb3BlcnRpZXMgdG8gYW4gZWxlbWVudC5cbiAqXG4gKiBgc3R5bGVNYXBgIGNhbiBvbmx5IGJlIHVzZWQgaW4gdGhlIGBzdHlsZWAgYXR0cmlidXRlIGFuZCBtdXN0IGJlIHRoZSBvbmx5XG4gKiBleHByZXNzaW9uIGluIHRoZSBhdHRyaWJ1dGUuIEl0IHRha2VzIHRoZSBwcm9wZXJ0eSBuYW1lcyBpbiB0aGUgYHN0eWxlSW5mb2BcbiAqIG9iamVjdCBhbmQgYWRkcyB0aGUgcHJvcGVydHkgdmFsdWVzIGFzIENTUyBwcm9wZXJ0ZXMuIFByb3BlcnR5IG5hbWVzIHdpdGhcbiAqIGRhc2hlcyAoYC1gKSBhcmUgYXNzdW1lZCB0byBiZSB2YWxpZCBDU1MgcHJvcGVydHkgbmFtZXMgYW5kIHNldCBvbiB0aGVcbiAqIGVsZW1lbnQncyBzdHlsZSBvYmplY3QgdXNpbmcgYHNldFByb3BlcnR5KClgLiBOYW1lcyB3aXRob3V0IGRhc2hlcyBhcmVcbiAqIGFzc3VtZWQgdG8gYmUgY2FtZWxDYXNlZCBKYXZhU2NyaXB0IHByb3BlcnR5IG5hbWVzIGFuZCBzZXQgb24gdGhlIGVsZW1lbnQnc1xuICogc3R5bGUgb2JqZWN0IHVzaW5nIHByb3BlcnR5IGFzc2lnbm1lbnQsIGFsbG93aW5nIHRoZSBzdHlsZSBvYmplY3QgdG9cbiAqIHRyYW5zbGF0ZSBKYXZhU2NyaXB0LXN0eWxlIG5hbWVzIHRvIENTUyBwcm9wZXJ0eSBuYW1lcy5cbiAqXG4gKiBGb3IgZXhhbXBsZSBgc3R5bGVNYXAoe2JhY2tncm91bmRDb2xvcjogJ3JlZCcsICdib3JkZXItdG9wJzogJzVweCcsICctLXNpemUnOlxuICogJzAnfSlgIHNldHMgdGhlIGBiYWNrZ3JvdW5kLWNvbG9yYCwgYGJvcmRlci10b3BgIGFuZCBgLS1zaXplYCBwcm9wZXJ0aWVzLlxuICpcbiAqIEBwYXJhbSBzdHlsZUluZm8ge1N0eWxlSW5mb31cbiAqL1xuZXhwb3J0IGNvbnN0IHN0eWxlTWFwID0gZGlyZWN0aXZlKChzdHlsZUluZm86IFN0eWxlSW5mbykgPT4gKHBhcnQ6IFBhcnQpID0+IHtcbiAgaWYgKCEocGFydCBpbnN0YW5jZW9mIEF0dHJpYnV0ZVBhcnQpIHx8IChwYXJ0IGluc3RhbmNlb2YgUHJvcGVydHlQYXJ0KSB8fFxuICAgICAgcGFydC5jb21taXR0ZXIubmFtZSAhPT0gJ3N0eWxlJyB8fCBwYXJ0LmNvbW1pdHRlci5wYXJ0cy5sZW5ndGggPiAxKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhlIGBzdHlsZU1hcGAgZGlyZWN0aXZlIG11c3QgYmUgdXNlZCBpbiB0aGUgc3R5bGUgYXR0cmlidXRlICcgK1xuICAgICAgICAnYW5kIG11c3QgYmUgdGhlIG9ubHkgcGFydCBpbiB0aGUgYXR0cmlidXRlLicpO1xuICB9XG5cbiAgY29uc3Qge2NvbW1pdHRlcn0gPSBwYXJ0O1xuICBjb25zdCB7c3R5bGV9ID0gY29tbWl0dGVyLmVsZW1lbnQgYXMgSFRNTEVsZW1lbnQ7XG5cbiAgLy8gSGFuZGxlIHN0YXRpYyBzdHlsZXMgdGhlIGZpcnN0IHRpbWUgd2Ugc2VlIGEgUGFydFxuICBpZiAoIXN0eWxlTWFwQ2FjaGUuaGFzKHBhcnQpKSB7XG4gICAgc3R5bGUuY3NzVGV4dCA9IGNvbW1pdHRlci5zdHJpbmdzLmpvaW4oJyAnKTtcbiAgfVxuXG4gIC8vIFJlbW92ZSBvbGQgcHJvcGVydGllcyB0aGF0IG5vIGxvbmdlciBleGlzdCBpbiBzdHlsZUluZm9cbiAgY29uc3Qgb2xkSW5mbyA9IHN0eWxlTWFwQ2FjaGUuZ2V0KHBhcnQpO1xuICBmb3IgKGNvbnN0IG5hbWUgaW4gb2xkSW5mbykge1xuICAgIGlmICghKG5hbWUgaW4gc3R5bGVJbmZvKSkge1xuICAgICAgaWYgKG5hbWUuaW5kZXhPZignLScpID09PSAtMSkge1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG4gICAgICAgIChzdHlsZSBhcyBhbnkpW25hbWVdID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0eWxlLnJlbW92ZVByb3BlcnR5KG5hbWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIEFkZCBvciB1cGRhdGUgcHJvcGVydGllc1xuICBmb3IgKGNvbnN0IG5hbWUgaW4gc3R5bGVJbmZvKSB7XG4gICAgaWYgKG5hbWUuaW5kZXhPZignLScpID09PSAtMSkge1xuICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueVxuICAgICAgKHN0eWxlIGFzIGFueSlbbmFtZV0gPSBzdHlsZUluZm9bbmFtZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLnNldFByb3BlcnR5KG5hbWUsIHN0eWxlSW5mb1tuYW1lXSk7XG4gICAgfVxuICB9XG4gIHN0eWxlTWFwQ2FjaGUuc2V0KHBhcnQsIHN0eWxlSW5mbyk7XG59KTtcbiIsImltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIHByb3BlcnR5IH0gZnJvbSAnbGl0LWVsZW1lbnQvbGliL2RlY29yYXRvcnMnO1xuaW1wb3J0IHsgTGl0RWxlbWVudCwgVGVtcGxhdGVSZXN1bHQsIGh0bWwsIGNzcyB9IGZyb20gJ2xpdC1lbGVtZW50JztcbmltcG9ydCBCdXR0b24gZnJvbSAnLi4vYnV0dG9uL0J1dHRvbic7XG5pbXBvcnQgUmFwaWRFbGVtZW50IGZyb20gJy4uL1JhcGlkRWxlbWVudCc7XG5pbXBvcnQgeyBDdXN0b21FdmVudFR5cGUgfSBmcm9tICcuLi9pbnRlcmZhY2VzJztcbmltcG9ydCB7IHN0eWxlTWFwIH0gZnJvbSAnbGl0LWh0bWwvZGlyZWN0aXZlcy9zdHlsZS1tYXAuanMnO1xuXG5AY3VzdG9tRWxlbWVudChcInJwLWRpYWxvZ1wiKVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGlhbG9nIGV4dGVuZHMgUmFwaWRFbGVtZW50IHtcblxuICBzdGF0aWMgZ2V0IHN0eWxlcygpIHtcbiAgICByZXR1cm4gY3NzYFxuXG4gICAgICAubWFzayB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIC41KTtcbiAgICAgICAgb3BhY2l0eTogMDtcbiAgICAgICAgdmlzaWJpbGl0eTogaGlkZGVuO1xuICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgIHRvcDowcHg7XG4gICAgICAgIGxlZnQ6MHB4O1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgZWFzZS1pbiAyNTBtcztcbiAgICAgIH1cblxuICAgICAgLmRpYWxvZyB7XG4gICAgICAgIHdpZHRoOiA1MDBweDtcbiAgICAgICAgbWFyZ2luOiAwcHggYXV0bzsgXG4gICAgICAgIHRvcDogLTIwMHB4O1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIHRyYW5zaXRpb246IHRvcCBlYXNlLWluLW91dCAyMDBtcztcbiAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tY3VydmF0dXJlKTsgXG4gICAgICAgIGJveC1zaGFkb3c6IDBweCAwcHggMHB4IDRweCByZ2JhKDAsMCwwLC4wNCk7XG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICB9XG5cbiAgICAgIC5ib2R5IHtcbiAgICAgICAgYmFja2dyb3VuZDogI2ZmZjtcbiAgICAgIH1cblxuICAgICAgLm1hc2sub3BlbiB7XG4gICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgIHZpc2liaWxpdHk6IHZpc2libGU7XG4gICAgICB9XG5cbiAgICAgIC5tYXNrLm9wZW4gPiAuZGlhbG9nIHtcbiAgICAgICAgdG9wOiAxMDBweDtcbiAgICAgIH1cblxuICAgICAgLnRpdGxlIHtcbiAgICAgICAgcGFkZGluZzogMTBweCAyMHB4O1xuICAgICAgICBmb250LXNpemU6IDE4cHg7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1jb2xvci10ZXh0LWxpZ2h0KTtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tY29sb3ItcHJpbWFyeS1kYXJrKTtcbiAgICAgIH1cblxuICAgICAgLmZvb3RlciB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWNvbG9yLXByaW1hcnktbGlnaHQpO1xuICAgICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWZsb3c6IHJvdy1yZXZlcnNlO1xuICAgICAgfVxuXG4gICAgICBycC1idXR0b24ge1xuICAgICAgICBtYXJnaW4tbGVmdDogNXB4O1xuICAgICAgfVxuICBgO1xuICB9XG5cblxuICBAcHJvcGVydHkoe3R5cGUgOiBCb29sZWFufSlcbiAgb3BlbjogYm9vbGVhbjtcblxuICBAcHJvcGVydHkoKVxuICB0aXRsZTogc3RyaW5nO1xuXG4gIEBwcm9wZXJ0eSgpXG4gIGJvZHk6IHN0cmluZztcblxuICBAcHJvcGVydHkoKVxuICBwcmltYXJ5QnV0dG9uTmFtZTogc3RyaW5nID0gXCJPa1wiO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogU3RyaW5nfSlcbiAgY2FuY2VsQnV0dG9uTmFtZTogc3RyaW5nID0gXCJDYW5jZWxcIjtcblxuICBAcHJvcGVydHkoKVxuICBpblByb2dyZXNzTmFtZTogc3RyaW5nID0gXCJTYXZpbmdcIjtcblxuICBAcHJvcGVydHkoe2F0dHJpYnV0ZTogZmFsc2V9KVxuICBvbkJ1dHRvbkNsaWNrZWQ6IChidXR0b246IEJ1dHRvbikgPT4gdm9pZDtcblxuICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIHB1YmxpYyB1cGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzOiBNYXA8c3RyaW5nLCBhbnk+KSB7XG4gICAgaWYgKGNoYW5nZWRQcm9wZXJ0aWVzLmhhcyhcIm9wZW5cIikpIHtcbiAgICAgIC8vIG1ha2Ugc3VyZSBvdXIgYnV0dG9ucyBhcmVuJ3QgaW4gcHJvZ3Jlc3Mgb24gc2hvd1xuICAgICAgaWYgKHRoaXMub3Blbikge1xuICAgICAgICB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvckFsbChcInJwLWJ1dHRvblwiKS5mb3JFYWNoKChidXR0b246IEJ1dHRvbik9PmJ1dHRvbi5zZXRQcm9ncmVzcyhmYWxzZSkpO1xuICAgICAgICBjb25zdCBpbnB1dHMgPSB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoXCJ0ZXh0YXJlYSxpbnB1dFwiKTtcbiAgICAgICAgaWYgKGlucHV0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCk9PntcbiAgICAgICAgICAgIChpbnB1dHNbMF0gYXMgYW55KS5mb2N1cygpOyAgICAgICAgICAgIFxuICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwdWJsaWMgaGFuZGxlQ2xpY2soZXZ0OiBNb3VzZUV2ZW50KSB7XG4gICAgY29uc3QgYnV0dG9uID0gZXZ0LmN1cnJlbnRUYXJnZXQgYXMgQnV0dG9uO1xuICAgIGlmICghYnV0dG9uLmlzUHJvZ3Jlc3MpIHtcbiAgICAgIHRoaXMuZmlyZUN1c3RvbUV2ZW50KEN1c3RvbUV2ZW50VHlwZS5CdXR0b25DbGlja2VkLCB7YnV0dG9ufSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXREb2N1bWVudEhlaWdodCgpOiBudW1iZXIge1xuICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5ib2R5O1xuICAgIGNvbnN0IGh0bWwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgcmV0dXJuIE1hdGgubWF4KGJvZHkuc2Nyb2xsSGVpZ2h0LCBib2R5Lm9mZnNldEhlaWdodCwgaHRtbC5jbGllbnRIZWlnaHQsIGh0bWwuc2Nyb2xsSGVpZ2h0LCBodG1sLm9mZnNldEhlaWdodCk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUtleVVwKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgLy8gZmluZCBvdXIgY2FuY2VsIGJ1dHRvbiBhbmQgY2xpY2sgaXRcbiAgICAgIHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yQWxsKFwicnAtYnV0dG9uXCIpLmZvckVhY2goXG4gICAgICAgIChidXR0b246IEJ1dHRvbik9PnsgaWYgKGJ1dHRvbi5uYW1lID09PSB0aGlzLmNhbmNlbEJ1dHRvbk5hbWUpIHtidXR0b24uY2xpY2soKX19XG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgcHVibGljIHJlbmRlcigpOiBUZW1wbGF0ZVJlc3VsdCB7XG5cbiAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmdldERvY3VtZW50SGVpZ2h0KCk7XG5cbiAgICBjb25zdCBtYXNrU3R5bGUgPSB7IGhlaWdodDogYCR7aGVpZ2h0ICsgMTAwfXB4YH1cblxuICAgIHJldHVybiBodG1sYFxuICAgICAgICA8ZGl2IGNsYXNzPVwibWFzayAke3RoaXMub3BlbiA/ICdvcGVuJyA6ICcnfVwiIHN0eWxlPSR7c3R5bGVNYXAobWFza1N0eWxlKX0+XG4gICAgICAgICAgPGRpdiBAa2V5dXA9JHt0aGlzLmhhbmRsZUtleVVwfSBjbGFzcz1cImRpYWxvZ1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhlYWRlclwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGl0bGVcIj4ke3RoaXMudGl0bGV9PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJib2R5XCIgQGtleXByZXNzPSR7dGhpcy5oYW5kbGVLZXlVcH0+JHt0aGlzLmJvZHkgPyB0aGlzLmJvZHkgOiBodG1sYDxzbG90Pjwvc2xvdD5gfTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvb3RlclwiPlxuICAgICAgICAgICAgICA8cnAtYnV0dG9uIEBjbGljaz0ke3RoaXMuaGFuZGxlQ2xpY2t9IG5hbWU9JHt0aGlzLnByaW1hcnlCdXR0b25OYW1lfSBpblByb2dlc3NOYW1lPSR7dGhpcy5pblByb2dyZXNzTmFtZX0gcHJpbWFyeT59PC9ycC1idXR0b24+XG4gICAgICAgICAgICAgIDxycC1idXR0b24gQGNsaWNrPSR7dGhpcy5oYW5kbGVDbGlja30gbmFtZT0ke3RoaXMuY2FuY2VsQnV0dG9uTmFtZX0gc2Vjb25kYXJ5PjwvcnAtYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+ICAgICAgXG4gICAgICAgIDwvZGl2PlxuXG4gICAgYDtcbiAgfVxufSIsImltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIFRlbXBsYXRlUmVzdWx0LCBodG1sLCBjc3MsIHByb3BlcnR5IH0gZnJvbSAnbGl0LWVsZW1lbnQnO1xuaW1wb3J0IFJhcGlkRWxlbWVudCBmcm9tICcuLi9SYXBpZEVsZW1lbnQnO1xuaW1wb3J0IHsgc3R5bGVNYXAgfSBmcm9tICdsaXQtaHRtbC9kaXJlY3RpdmVzL3N0eWxlLW1hcC5qcyc7XG5cbkBjdXN0b21FbGVtZW50KFwicnAtdGV4dGlucHV0XCIpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXh0SW5wdXQgZXh0ZW5kcyBSYXBpZEVsZW1lbnQge1xuICBzdGF0aWMgZ2V0IHN0eWxlcygpIHtcbiAgICByZXR1cm4gY3NzYFxuICAgICAgXG4gICAgICAuaW5wdXQtY29udGFpbmVyIHtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tY3VydmF0dXJlKTtcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgY3Vyc29yOiB0ZXh0O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2xvci13aWRnZXQtYmcpO1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1jb2xvci13aWRnZXQtYm9yZGVyKTtcbiAgICAgICAgYm94LXNoYWRvdzogbm9uZTtcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsIGVhc2UtaW4tb3V0IDIwMG1zO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgICAgICBhbGlnbi1pdGVtczogc3RyZXRjaDtcbiAgICAgIH1cblxuICAgICAgLmlucHV0LWNvbnRhaW5lcjpmb2N1cy13aXRoaW4ge1xuICAgICAgICBib3JkZXItY29sb3I6IHZhcigtLWNvbG9yLXdpZGdldC1ib3JkZXIpO1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2xvci13aWRnZXQtYmctZm9jdXNlZCk7XG4gICAgICAgIFxuICAgICAgICAvKiBib3gtc2hhZG93OiB2YXIoLS1jb2xvci13aWRnZXQtc2hhZG93LWZvY3VzZWQpIDFweCAxcHggM3B4IDBweCBpbnNldDsgKi9cbiAgICAgICAgYm94LXNoYWRvdzogdmFyKC0tY29sb3Itd2lkZ2V0LXNoYWRvdy1mb2N1c2VkKSAwcHggMHB4IDNweCAwcHg7XG4gICAgICB9XG5cbiAgICAgIC5pbnB1dC1jb250YWluZXI6aG92ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2xvci13aWRnZXQtYmctZm9jdXNlZCk7XG4gICAgICB9XG5cbiAgICAgIHRleHRhcmVhIHtcbiAgICAgICAgaGVpZ2h0OiA4NSU7XG4gICAgICB9XG5cbiAgICAgIC50ZXh0aW5wdXQge1xuICAgICAgICBwYWRkaW5nOiA4cHg7XG4gICAgICAgIGJvcmRlcjogMHB4IHNvbGlkIHJlZDtcbiAgICAgICAgZmxleDogMTtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICBiYWNrZ3JvdW5kOiBub25lO1xuICAgICAgICBjb2xvcjogdmFyKC0tY29sb3ItdGV4dCk7XG4gICAgICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICAgICAgY3Vyc29yOiB0ZXh0O1xuICAgICAgICByZXNpemU6IG5vbmU7XG4gICAgICAgIGJveC1zaGFkb3c6IHZhcigtLWNvbG9yLXdpZGdldC1zaGFkb3ctZm9jdXNlZCkgMCAxcHggMXB4IDBweCBpbnNldDtcbiAgICAgIH1cblxuICAgICAgLnRleHRpbnB1dDpmb2N1cyB7XG4gICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgICAgIGJveC1zaGFkb3c6IG5vbmU7XG4gICAgICAgIGN1cnNvcjogdGV4dDtcbiAgICAgIH1cblxuICAgICAgLnRleHRpbnB1dDo6cGxhY2Vob2xkZXIge1xuICAgICAgICBjb2xvcjogcmdiYSgwLDAsMCwuMTUpO1xuICAgICAgfVxuXG4gICAgYFxuICB9XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBCb29sZWFufSlcbiAgdGV4dGFyZWE6IGJvb2xlYW47XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBTdHJpbmd9KVxuICBwbGFjZWhvbGRlcjogc3RyaW5nID0gXCJcIjtcblxuICBAcHJvcGVydHkoe3R5cGU6IFN0cmluZ30pXG4gIHZhbHVlOiBzdHJpbmcgPSBcIlwiO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogU3RyaW5nfSlcbiAgbmFtZTogc3RyaW5nID0gXCJcIjtcblxuICBAcHJvcGVydHkoe3R5cGU6IE9iamVjdH0pXG4gIGlucHV0RWxlbWVudDogSFRNTElucHV0RWxlbWVudDtcblxuICBwdWJsaWMgZmlyc3RVcGRhdGVkKGNoYW5nZXM6IE1hcDxzdHJpbmcsIGFueT4pIHtcbiAgICBzdXBlci5maXJzdFVwZGF0ZWQoY2hhbmdlcyk7XG4gICAgdGhpcy5pbnB1dEVsZW1lbnQgPSB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcihcIi50ZXh0aW5wdXRcIik7XG4gIH1cblxuICBwdWJsaWMgcmVuZGVyKCk6IFRlbXBsYXRlUmVzdWx0IHtcbiAgICBjb25zdCBjb250YWluZXJTdHlsZSA9IHtcbiAgICAgIGhlaWdodDogYCR7dGhpcy50ZXh0YXJlYSA/ICcxMDAlJyA6ICdhdXRvJ31gXG4gICAgfVxuXG4gICAgcmV0dXJuIGh0bWxgXG4gICAgPGRpdiBjbGFzcz1cImlucHV0LWNvbnRhaW5lclwiIHN0eWxlPSR7c3R5bGVNYXAoY29udGFpbmVyU3R5bGUpfSBAY2xpY2s9JHsoKT0+eyAodGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoXCIudGV4dGlucHV0XCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLmZvY3VzKCl9fT5cbiAgICAgICR7dGhpcy50ZXh0YXJlYSA/IGh0bWxgXG4gICAgICAgIDx0ZXh0YXJlYSBjbGFzcz1cInRleHRpbnB1dFwiIFxuICAgICAgICAgIG5hbWU9JHt0aGlzLm5hbWV9XG4gICAgICAgICAgcGxhY2Vob2xkZXI9JHt0aGlzLnBsYWNlaG9sZGVyfVxuICAgICAgICAgIC52YWx1ZT0ke3RoaXMudmFsdWV9PlxuICAgICAgICA8L3RleHRhcmVhPlxuICAgICAgYCA6IGh0bWxgXG4gICAgICAgIDxpbnB1dCBjbGFzcz1cInRleHRpbnB1dFwiIFxuICAgICAgICAgIG5hbWU9JHt0aGlzLm5hbWV9XG4gICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgIHBsYWNlaG9sZGVyPSR7dGhpcy5wbGFjZWhvbGRlcn1cbiAgICAgICAgICAudmFsdWU9JHt0aGlzLnZhbHVlfT5cbiAgICAgIGB9XG4gICAgPC9kaXY+XG4gICAgYDtcbiAgfVxufVxuIiwiaW1wb3J0IHsgTGl0RWxlbWVudCwgVGVtcGxhdGVSZXN1bHQsIGh0bWwsIGNzcywgY3VzdG9tRWxlbWVudCwgcHJvcGVydHkgfSBmcm9tICdsaXQtZWxlbWVudCc7XG5pbXBvcnQgeyBnZXRDbGFzc2VzIH0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IHsgc3R5bGVNYXAgfSBmcm9tICdsaXQtaHRtbC9kaXJlY3RpdmVzL3N0eWxlLW1hcC5qcyc7XG5cbkBjdXN0b21FbGVtZW50KFwicnAtbGFiZWxcIilcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExhYmVsIGV4dGVuZHMgTGl0RWxlbWVudCB7XG5cbiAgc3RhdGljIGdldCBzdHlsZXMoKSB7XG4gICAgcmV0dXJuIGNzc2BcblxuICAgICAgOmhvc3Qge1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICB9XG5cbiAgICAgIC5tYXNrIHtcbiAgICAgICAgcGFkZGluZzogM3B4IDZweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tY3VydmF0dXJlKTtcbiAgICAgIH1cblxuICAgICAgLmxhYmVsLmNsaWNrYWJsZSAubWFzazpob3ZlciB7XG4gICAgICAgIGJhY2tncm91bmQ6IHJnYigwLDAsMCwuMDUpO1xuICAgICAgfVxuXG4gICAgICAubGFiZWwge1xuICAgICAgICBib3JkZXItcmFkaXVzOiAycHg7XG4gICAgICAgIGZvbnQtc2l6ZTogODAlO1xuICAgICAgICBmb250LXdlaWdodDogNDAwO1xuICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1jdXJ2YXR1cmUpO1xuICAgICAgICBiYWNrZ3JvdW5kOiB0b21hdG87XG4gICAgICAgIGNvbG9yOiAjZmZmO1xuICAgICAgICB0ZXh0LXNoYWRvdzogMCAwLjA0ZW0gMC4wNGVtIHJnYmEoMCwwLDAsMC4zNSk7XG4gICAgICB9XG5cbiAgICAgIC5wcmltYXJ5IHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tY29sb3ItbGFiZWwtcHJpbWFyeSk7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1jb2xvci1sYWJlbC1wcmltYXJ5LXRleHQpO1xuICAgICAgfVxuXG4gICAgICAuc2Vjb25kYXJ5IHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tY29sb3ItbGFiZWwtc2Vjb25kYXJ5KTtcbiAgICAgICAgY29sb3I6IHZhcigtLWNvbG9yLWxhYmVsLXNlY29uZGFyeS10ZXh0KTtcbiAgICAgICAgdGV4dC1zaGFkb3c6IG5vbmU7XG4gICAgICB9XG5cbiAgICAgIC5saWdodCB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWNvbG9yLW92ZXJsYXktbGlnaHQpO1xuICAgICAgICBjb2xvcjogdmFyKC0tY29sb3Itb3ZlcmxheS1saWdodC10ZXh0KTtcbiAgICAgICAgdGV4dC1zaGFkb3c6IG5vbmU7XG4gICAgICB9XG5cbiAgICAgIC5kYXJrIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tY29sb3Itb3ZlcmxheS1kYXJrKTtcbiAgICAgICAgY29sb3I6IHZhcigtLWNvbG9yLW92ZXJsYXktZGFyay10ZXh0KTtcbiAgICAgICAgdGV4dC1zaGFkb3c6IG5vbmU7XG4gICAgICB9XG5cbiAgICAgIC5jbGlja2FibGUge1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICB9XG4gIGA7XG4gIH1cblxuICBAcHJvcGVydHkoe3R5cGU6IEJvb2xlYW59KVxuICBjbGlja2FibGU6IGJvb2xlYW47XG4gIFxuICBAcHJvcGVydHkoe3R5cGU6IEJvb2xlYW59KVxuICBwcmltYXJ5OiBib29sZWFuO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogQm9vbGVhbn0pXG4gIHNlY29uZGFyeTogYm9vbGVhbjtcblxuICBAcHJvcGVydHkoe3R5cGU6IEJvb2xlYW59KVxuICBsaWdodDogYm9vbGVhbjtcblxuICBAcHJvcGVydHkoe3R5cGU6IEJvb2xlYW59KVxuICBkYXJrOiBib29sZWFuO1xuXG4gIEBwcm9wZXJ0eSgpXG4gIGJhY2tncm91bmRDb2xvcjogc3RyaW5nO1xuXG4gIEBwcm9wZXJ0eSgpXG4gIHRleHRDb2xvcjogc3RyaW5nO1xuXG4gIHB1YmxpYyByZW5kZXIoKTogVGVtcGxhdGVSZXN1bHQge1xuXG4gICAgY29uc3QgbGFiZWxTdHlsZSA9IHRoaXMuYmFja2dyb3VuZENvbG9yICYmIHRoaXMudGV4dENvbG9yID8ge1xuICAgICAgYmFja2dyb3VuZDogYCR7dGhpcy5iYWNrZ3JvdW5kQ29sb3J9YCxcbiAgICAgIGNvbG9yOiBgJHt0aGlzLnRleHRDb2xvcn1gXG4gICAgfSA6IHt9O1xuXG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8ZGl2IGNsYXNzPVwibGFiZWwgJHtnZXRDbGFzc2VzKHsgXG4gICAgICAgIFwiY2xpY2thYmxlXCI6IHRoaXMuY2xpY2thYmxlLFxuICAgICAgICBcInByaW1hcnlcIjogdGhpcy5wcmltYXJ5LFxuICAgICAgICBcInNlY29uZGFyeVwiOiB0aGlzLnNlY29uZGFyeSxcbiAgICAgICAgXCJsaWdodFwiOiB0aGlzLmxpZ2h0LFxuICAgICAgICBcImRhcmtcIjogdGhpcy5kYXJrXG4gICAgICAgIH0pfVwiXG4gICAgICAgIHN0eWxlPSR7c3R5bGVNYXAobGFiZWxTdHlsZSl9XG4gICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibWFza1wiPlxuICAgICAgICAgIDxzbG90Pjwvc2xvdD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICB9XG59IiwiaW1wb3J0IHsgY3VzdG9tRWxlbWVudCwgVGVtcGxhdGVSZXN1bHQsIGh0bWwsIHByb3BlcnR5LCBjc3MgfSBmcm9tICdsaXQtZWxlbWVudCc7XG5pbXBvcnQgeyBDdXN0b21FdmVudFR5cGUgfSBmcm9tICcuLi9pbnRlcmZhY2VzJztcbmltcG9ydCBSYXBpZEVsZW1lbnQsIHsgRXZlbnRIYW5kbGVyIH0gZnJvbSAnLi4vUmFwaWRFbGVtZW50JztcbmltcG9ydCB7IHN0eWxlTWFwIH0gZnJvbSAnbGl0LWh0bWwvZGlyZWN0aXZlcy9zdHlsZS1tYXAuanMnO1xuXG5AY3VzdG9tRWxlbWVudChcInJwLW9wdGlvbnNcIilcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9wdGlvbnMgZXh0ZW5kcyBSYXBpZEVsZW1lbnQge1xuXG4gIHN0YXRpYyBnZXQgc3R5bGVzKCkge1xuICAgIHJldHVybiBjc3NgXG4gICAgICAub3B0aW9ucy1jb250YWluZXIge1xuICAgICAgICB2aXNpYmlsaXR5OiBoaWRkZW47XG4gICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tY3VydmF0dXJlKTtcbiAgICAgICAgYm9yZGVyOiAwcHggc29saWQgdmFyKC0tY29sb3ItYm9yZGVycyk7XG4gICAgICAgIGJveC1zaGFkb3c6IDBweCAwcHggMnB4IDBweCByZ2IoMjA0LCAyMDQsIDIwNCk7XG4gICAgICAgIGJhY2tncm91bmQ6ICNmZmY7XG4gICAgICAgIHotaW5kZXg6IDE7XG4gICAgICB9XG5cbiAgICAgIC5vcHRpb25zIHtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tY3VydmF0dXJlKTtcbiAgICAgICAgYmFja2dyb3VuZDogI2ZmZjtcbiAgICAgICAgb3ZlcmZsb3cteTogc2Nyb2xsO1xuICAgICAgICBtYXgtaGVpZ2h0OiAyMjVweDtcbiAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgfVxuXG4gICAgICAuc2hvdyB7XG4gICAgICAgIHZpc2liaWxpdHk6IHZpc2libGU7XG4gICAgICB9XG5cbiAgICAgIC5vcHRpb24ge1xuICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIHBhZGRpbmc6IDdweCAxNHB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1jdXJ2YXR1cmUpO1xuICAgICAgICBtYXJnaW46IDNweDtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICBjb2xvcjogdmFyKC0tY29sb3ItdGV4dCk7XG4gICAgICB9XG5cbiAgICAgIC5vcHRpb24uZm9jdXNlZCB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWNvbG9yLXNlbGVjdGlvbik7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1jb2xvci10ZXh0LWxpZ2h0KTtcbiAgICAgIH1cblxuICAgICAgLm9wdGlvbiAuZGV0YWlsIHtcbiAgICAgICAgZm9udC1zaXplOiA4NSU7XG4gICAgICAgIGNvbG9yOiByZ2JhKDI1NSwyNTUsMjU1LC45KTtcbiAgICAgIH1cblxuICAgICAgY29kZSB7XG4gICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsLjE1KTtcbiAgICAgICAgcGFkZGluZzogMXB4IDVweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tY3VydmF0dXJlKTtcbiAgICAgIH1cbiAgICBgXG4gIH1cblxuICBAcHJvcGVydHkoe3R5cGU6IE51bWJlcn0pXG4gIHRvcDogbnVtYmVyO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogTnVtYmVyfSlcbiAgbGVmdDogbnVtYmVyO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogTnVtYmVyfSlcbiAgd2lkdGg6IG51bWJlcjtcblxuICBAcHJvcGVydHkoe3R5cGU6IE9iamVjdH0pXG4gIGFuY2hvclRvOiBIVE1MRWxlbWVudFxuXG4gIEBwcm9wZXJ0eSh7dHlwZTogQm9vbGVhbn0pXG4gIHZpc2libGU6IGJvb2xlYW47XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBOdW1iZXJ9KVxuICBjdXJzb3JJbmRleDogbnVtYmVyID0gMDtcblxuICBAcHJvcGVydHkoe3R5cGU6IEFycmF5fSlcbiAgb3B0aW9uczogYW55W11cblxuICBAcHJvcGVydHkoe2F0dHJpYnV0ZTogZmFsc2V9KVxuICByZW5kZXJPcHRpb246IChvcHRpb246IGFueSwgc2VsZWN0ZWQ6IGJvb2xlYW4pID0+IHZvaWQ7XG5cbiAgQHByb3BlcnR5KHthdHRyaWJ1dGU6IGZhbHNlfSlcbiAgcmVuZGVyT3B0aW9uTmFtZTogKG9wdGlvbjogYW55LCBzZWxlY3RlZDogYm9vbGVhbikgPT4gdm9pZDtcblxuICBAcHJvcGVydHkoe2F0dHJpYnV0ZTogZmFsc2V9KVxuICByZW5kZXJPcHRpb25EZXRhaWw6IChvcHRpb246IGFueSwgc2VsZWN0ZWQ6IGJvb2xlYW4pID0+IHZvaWQ7XG5cbiAgcHVibGljIHVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXM6IE1hcDxzdHJpbmcsIGFueT4pIHtcbiAgICBzdXBlci51cGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzKTtcblxuICAgIC8vIGlmIG91ciBjdXJzb3IgY2hhbmdlZCwgbGV0cyBtYWtlIHN1cmUgb3VyIHNjcm9sbGJveCBpcyBzaG93aW5nIGl0XG4gICAgaWYoY2hhbmdlZFByb3BlcnRpZXMuaGFzKFwiY3Vyc29ySW5kZXhcIikpIHtcbiAgICAgIGNvbnN0IGZvY3VzZWRFbGUgPSB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcihcIi5mb2N1c2VkXCIpIGFzIEhUTUxEaXZFbGVtZW50O1xuICAgICAgaWYgKGZvY3VzZWRFbGUpIHtcbiAgICAgICAgY29uc3Qgc2Nyb2xsQm94ID0gIHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKFwiLm9wdGlvbnNcIik7XG4gICAgICAgIGNvbnN0IHNjcm9sbEJveFJlY3QgPSBzY3JvbGxCb3guZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGNvbnN0IHNjcm9sbEJveEhlaWdodCA9IHNjcm9sbEJveFJlY3QuaGVpZ2h0XG4gICAgICAgIGNvbnN0IGZvY3VzZWRFbGVIZWlnaHQgPSBmb2N1c2VkRWxlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcblxuICAgICAgICBpZiAoZm9jdXNlZEVsZS5vZmZzZXRUb3AgKyBmb2N1c2VkRWxlSGVpZ2h0ID4gc2Nyb2xsQm94LnNjcm9sbFRvcCArIHNjcm9sbEJveEhlaWdodCAtIDUpIHtcbiAgICAgICAgICBjb25zdCBzY3JvbGxUbyA9IGZvY3VzZWRFbGUub2Zmc2V0VG9wIC0gc2Nyb2xsQm94SGVpZ2h0ICsgZm9jdXNlZEVsZUhlaWdodCArIDU7XG4gICAgICAgICAgc2Nyb2xsQm94LnNjcm9sbFRvcCA9IHNjcm9sbFRvO1xuICAgICAgICB9IGVsc2UgaWYgKGZvY3VzZWRFbGUub2Zmc2V0VG9wIDwgc2Nyb2xsQm94LnNjcm9sbFRvcCkge1xuICAgICAgICAgIGNvbnN0IHNjcm9sbFRvID0gZm9jdXNlZEVsZS5vZmZzZXRUb3AgLSA1O1xuICAgICAgICAgIHNjcm9sbEJveC5zY3JvbGxUb3AgPSBzY3JvbGxUbztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmKGNoYW5nZWRQcm9wZXJ0aWVzLmhhcyhcIm9wdGlvbnNcIikpIHtcbiAgICAgIHRoaXMuY2FsY3VsYXRlUG9zaXRpb24oKTtcbiAgICAgIHRoaXMuY3Vyc29ySW5kZXggPSAwO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyT3B0aW9uRGVmYXVsdChvcHRpb246IGFueSwgc2VsZWN0ZWQ6IGJvb2xlYW4pOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgY29uc3QgcmVuZGVyT3B0aW9uTmFtZSA9ICh0aGlzLnJlbmRlck9wdGlvbk5hbWUgfHwgdGhpcy5yZW5kZXJPcHRpb25OYW1lRGVmYXVsdCk7XG4gICAgY29uc3QgcmVuZGVyT3B0aW9uRGV0YWlsID0gKHRoaXMucmVuZGVyT3B0aW9uRGV0YWlsIHx8IHRoaXMucmVuZGVyT3B0aW9uRGV0YWlsRGVmYXVsdCk7XG4gICAgaWYgKHNlbGVjdGVkKSB7XG4gICAgICByZXR1cm4gaHRtbGA8ZGl2IGNsYXNzPVwibmFtZVwiPiR7cmVuZGVyT3B0aW9uTmFtZShvcHRpb24sIHNlbGVjdGVkKX08L2Rpdj48ZGl2IGNsYXNzPVwiZGV0YWlsXCI+JHtyZW5kZXJPcHRpb25EZXRhaWwob3B0aW9uLCBzZWxlY3RlZCl9PC9kaXY+YDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGh0bWxgPGRpdiBjbGFzcz1cIm5hbWVcIj4ke3JlbmRlck9wdGlvbk5hbWUob3B0aW9uLCBzZWxlY3RlZCl9PC9kaXY+YDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlbmRlck9wdGlvbk5hbWVEZWZhdWx0KG9wdGlvbjogYW55LCBzZWxlY3RlZDogYm9vbGVhbik6IFRlbXBsYXRlUmVzdWx0IHtcbiAgICByZXR1cm4gaHRtbGAke29wdGlvbi5uYW1lfWBcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyT3B0aW9uRGV0YWlsRGVmYXVsdChvcHRpb246IGFueSwgc2VsZWN0ZWQ6IGJvb2xlYW4pOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgcmV0dXJuIGh0bWxgJHtvcHRpb24uZGV0YWlsfWBcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlU2VsZWN0aW9uKHRhYmJlZDogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgY29uc3Qgc2VsZWN0ZWQgPSB0aGlzLm9wdGlvbnNbdGhpcy5jdXJzb3JJbmRleF07XG4gICAgdGhpcy5maXJlQ3VzdG9tRXZlbnQoQ3VzdG9tRXZlbnRUeXBlLlNlbGVjdGlvbiwgeyBzZWxlY3RlZCwgdGFiYmVkIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBtb3ZlQ3Vyc29yKGRpcmVjdGlvbjogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3QgbmV3SW5kZXggPSBNYXRoLm1heChNYXRoLm1pbih0aGlzLmN1cnNvckluZGV4ICsgZGlyZWN0aW9uLCB0aGlzLm9wdGlvbnMubGVuZ3RoIC0gMSksIDApO1xuICAgIHRoaXMuc2V0Q3Vyc29yKG5ld0luZGV4KTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0Q3Vyc29yKG5ld0luZGV4OiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAobmV3SW5kZXggIT09IHRoaXMuY3Vyc29ySW5kZXgpe1xuICAgICAgdGhpcy5jdXJzb3JJbmRleCA9IG5ld0luZGV4O1xuICAgICAgdGhpcy5maXJlQ3VzdG9tRXZlbnQoQ3VzdG9tRXZlbnRUeXBlLkN1cnNvckNoYW5nZWQsIHsgaW5kZXg6IG5ld0luZGV4IH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlS2V5RG93bihldnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICBpZiAodGhpcy52aXNpYmxlKSB7XG4gICAgICBpZiAoKGV2dC5jdHJsS2V5ICYmIGV2dC5rZXkgPT09IFwiblwiKSB8fCBldnQua2V5ID09PSBcIkFycm93RG93blwiKSB7XG4gICAgICAgIHRoaXMubW92ZUN1cnNvcigxKTtcbiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9IGVsc2UgaWYgKChldnQuY3RybEtleSAmJiBldnQua2V5ID09PSBcInBcIikgfHwgZXZ0LmtleSA9PT0gXCJBcnJvd1VwXCIpIHtcbiAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yKC0xKTtcbiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9IGVsc2UgaWYgKGV2dC5rZXkgPT09IFwiRW50ZXJcIiB8fCBldnQua2V5ID09PSBcIlRhYlwiKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlU2VsZWN0aW9uKGV2dC5rZXkgPT09IFwiVGFiXCIpO1xuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cblxuICAgICAgaWYoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgICB0aGlzLmZpcmVDdXN0b21FdmVudChDdXN0b21FdmVudFR5cGUuQ2FuY2VsZWQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY2FsY3VsYXRlUG9zaXRpb24oKSB7XG4gICAgY29uc3Qgb3B0aW9uc0JvdW5kcyA9IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCcub3B0aW9ucy1jb250YWluZXInKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBpZiAodGhpcy5hbmNob3JUbykge1xuICAgICAgY29uc3QgYW5jaG9yQm91bmRzID0gdGhpcy5hbmNob3JUby5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsgICBcbiAgICAgIGNvbnN0IHRvcFRvcCA9IGFuY2hvckJvdW5kcy50b3AgLSBvcHRpb25zQm91bmRzLmhlaWdodDtcblxuICAgICAgaWYgKHRvcFRvcCA+IDAgJiYgYW5jaG9yQm91bmRzLmJvdHRvbSArIG9wdGlvbnNCb3VuZHMuaGVpZ2h0ID4gd2luZG93LmlubmVySGVpZ2h0KSB7XG4gICAgICAgIHRoaXMudG9wID0gdG9wVG9wOyAvLyAgKyB3aW5kb3cucGFnZVlPZmZzZXQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnRvcCA9IGFuY2hvckJvdW5kcy5ib3R0b207IC8vICArIHdpbmRvdy5wYWdlWU9mZnNldDtcbiAgICAgIH1cblxuICAgICAgdGhpcy5sZWZ0ID0gYW5jaG9yQm91bmRzLmxlZnQ7XG4gICAgICB0aGlzLndpZHRoID0gYW5jaG9yQm91bmRzLndpZHRoO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBnZXRFdmVudEhhbmRsZXJzKCk6IEV2ZW50SGFuZGxlcltdIHtcbiAgICByZXR1cm4gW1xuICAgICAgeyBldmVudDogJ2tleWRvd24nLCBtZXRob2Q6IHRoaXMuaGFuZGxlS2V5RG93biB9LFxuICAgICAgeyBldmVudDogJ3Njcm9sbCcsIG1ldGhvZDogdGhpcy5jYWxjdWxhdGVQb3NpdGlvbiB9XG4gICAgXVxuICB9XG5cbiAgcHVibGljIHJlbmRlcigpOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgY29uc3QgcmVuZGVyT3B0aW9uID0gKHRoaXMucmVuZGVyT3B0aW9uIHx8IHRoaXMucmVuZGVyT3B0aW9uRGVmYXVsdCkuYmluZCh0aGlzKTtcblxuICAgIGNvbnN0IGNvbnRhaW5lclN0eWxlID0ge1xuICAgICAgdG9wOiBgJHt0aGlzLnRvcH1weGAsXG4gICAgICBsZWZ0OiBgJHt0aGlzLmxlZnR9cHhgLFxuICAgICAgd2lkdGg6IGAke3RoaXMud2lkdGh9cHhgXG4gICAgfVxuXG4gICAgY29uc3Qgb3B0aW9uc1N0eWxlID0ge1xuICAgICAgd2lkdGg6IGAke3RoaXMud2lkdGh9cHhgXG4gICAgfVxuXG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8ZGl2IGNsYXNzPVwib3B0aW9ucy1jb250YWluZXIgJHt0aGlzLnZpc2libGUgPyBcInNob3dcIjogXCJcIn1cIiBzdHlsZT0ke3N0eWxlTWFwKGNvbnRhaW5lclN0eWxlKX0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJvcHRpb25zXCIgc3R5bGU9JHtzdHlsZU1hcChvcHRpb25zU3R5bGUpfT5cbiAgICAgICAgICAke3RoaXMub3B0aW9ucy5tYXAoKG9wdGlvbjogYW55LCBpbmRleDogbnVtYmVyKT0+aHRtbGBcbiAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgIEBtb3VzZW92ZXI9JHsoZXZ0OiBNb3VzZUV2ZW50KT0+e1xuICAgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKGV2dC5tb3ZlbWVudFgpICsgTWF0aC5hYnMoZXZ0Lm1vdmVtZW50WSkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q3Vyc29yKGluZGV4KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgQGNsaWNrPSR7KCk9Pnt0aGlzLmhhbmRsZVNlbGVjdGlvbigpO319XG4gICAgICAgICAgICAgIGNsYXNzPVwib3B0aW9uICR7aW5kZXggPT0gdGhpcy5jdXJzb3JJbmRleCA/ICdmb2N1c2VkJyA6ICcnfVwiPlxuICAgICAgICAgICAgICAgICR7cmVuZGVyT3B0aW9uKG9wdGlvbiwgaW5kZXggPT0gdGhpcy5jdXJzb3JJbmRleCl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxzbG90Pjwvc2xvdD5cbiAgICAgIDwvZGl2PlxuICAgICAgYDtcbiAgfVxufVxuIiwiaW1wb3J0IHsgY3VzdG9tRWxlbWVudCwgVGVtcGxhdGVSZXN1bHQsIGh0bWwsIGNzcywgcHJvcGVydHkgfSBmcm9tICdsaXQtZWxlbWVudCc7XG5pbXBvcnQgeyBnZXRVcmwgfSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgYXhpb3MsIHsgQXhpb3NSZXNwb25zZSwgQ2FuY2VsVG9rZW5Tb3VyY2UgfSBmcm9tICdheGlvcyc7XG5pbXBvcnQgJy4uL29wdGlvbnMvT3B0aW9ucyc7XG5pbXBvcnQgUmFwaWRFbGVtZW50LCB7IEV2ZW50SGFuZGxlciB9IGZyb20gJy4uL1JhcGlkRWxlbWVudCc7XG5pbXBvcnQgeyBDdXN0b21FdmVudFR5cGUgfSBmcm9tICcuLi9pbnRlcmZhY2VzJztcbmltcG9ydCBUZXh0SW5wdXQgZnJvbSAnLi4vdGV4dGlucHV0L1RleHRJbnB1dCc7XG5cbmNvbnN0IExPT0tfQUhFQUQgPSAyMDtcblxuQGN1c3RvbUVsZW1lbnQoXCJycC1zZWxlY3RcIilcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlbGVjdCBleHRlbmRzIFJhcGlkRWxlbWVudCB7XG5cbiAgc3RhdGljIGdldCBzdHlsZXMoKSB7XG4gICAgcmV0dXJuIGNzc2BcbiAgICAgIDpob3N0IHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgIH1cbiAgICBgXG4gIH1cblxuICBAcHJvcGVydHkoe3R5cGU6IEFycmF5fSlcbiAgc2VsZWN0ZWQ6IGFueVtdID0gW107XG5cbiAgQHByb3BlcnR5KClcbiAgcGxhY2Vob2xkZXI6IHN0cmluZyA9ICcnO1xuXG4gIEBwcm9wZXJ0eSgpXG4gIGVuZHBvaW50OiBzdHJpbmc7XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBTdHJpbmd9KVxuICBpbnB1dDogc3RyaW5nID0gJyc7XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBBcnJheX0pXG4gIG9wdGlvbnM6IGFueVtdID0gW107XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBOdW1iZXJ9KVxuICBxdWlldE1pbGxpczogbnVtYmVyID0gMjAwO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogQm9vbGVhbn0pXG4gIGZldGNoaW5nOiBib29sZWFuO1xuXG4gIEBwcm9wZXJ0eSh7YXR0cmlidXRlOiBmYWxzZX0pXG4gIGN1cnNvckluZGV4OiBudW1iZXI7XG5cbiAgQHByb3BlcnR5KHthdHRyaWJ1dGU6IGZhbHNlfSlcbiAgYW5jaG9yRWxlbWVudDogSFRNTEVsZW1lbnQ7XG5cbiAgQHByb3BlcnR5KHthdHRyaWJ1dGU6IGZhbHNlfSlcbiAgcmVuZGVyT3B0aW9uOiAob3B0aW9uOiBhbnksIHNlbGVjdGVkOiBib29sZWFuKSA9PiB2b2lkO1xuXG4gIEBwcm9wZXJ0eSh7YXR0cmlidXRlOiBmYWxzZX0pXG4gIHJlbmRlck9wdGlvbk5hbWU6IChvcHRpb246IGFueSwgc2VsZWN0ZWQ6IGJvb2xlYW4pID0+IHZvaWQ7XG5cbiAgQHByb3BlcnR5KHthdHRyaWJ1dGU6IGZhbHNlfSlcbiAgcmVuZGVyT3B0aW9uRGV0YWlsOiAob3B0aW9uOiBhbnksIHNlbGVjdGVkOiBib29sZWFuKSA9PiB2b2lkID0gKCk9Pnt9O1xuXG4gIHByaXZhdGUgbGFzdFF1ZXJ5OiBudW1iZXI7XG4gIHByaXZhdGUgY2FuY2VsVG9rZW46IENhbmNlbFRva2VuU291cmNlO1xuICBwcml2YXRlIGNvbXBsZXRlOiBib29sZWFuO1xuICBwcml2YXRlIHBhZ2U6IG51bWJlcjtcbiAgcHJpdmF0ZSBxdWVyeTogc3RyaW5nO1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgcHVibGljIHVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXM6IE1hcDxzdHJpbmcsIGFueT4pIHtcbiAgICBzdXBlci51cGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICBpZiAoY2hhbmdlZFByb3BlcnRpZXMuaGFzKFwic2VsZWN0ZWRcIikpIHtcbiAgICAgIHRoaXMuaW5wdXQgPSBcIlwiO1xuICAgICAgdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFwiKS5ibHVyKCk7XG4gICAgfVxuICAgIFxuICAgIGlmIChjaGFuZ2VkUHJvcGVydGllcy5oYXMoXCJpbnB1dFwiKSAmJiAhY2hhbmdlZFByb3BlcnRpZXMuaGFzKFwic2VsZWN0ZWRcIikpIHtcbiAgICAgIGlmICghdGhpcy5pbnB1dCkge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBbXTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5sYXN0UXVlcnkpIHtcbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLmxhc3RRdWVyeSk7XG4gICAgICB9XG4gICAgICB0aGlzLmxhc3RRdWVyeSA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpPT57XG4gICAgICAgIHRoaXMuZmV0Y2hPcHRpb25zKHRoaXMuaW5wdXQpO1xuICAgICAgfSwgdGhpcy5xdWlldE1pbGxpcyk7XG4gICAgfVxuXG4gICAgICAgLy8gaWYgb3VyIGN1cnNvciBjaGFuZ2VkLCBsZXRzIG1ha2Ugc3VyZSBvdXIgc2Nyb2xsYm94IGlzIHNob3dpbmcgaXRcbiAgICBpZihjaGFuZ2VkUHJvcGVydGllcy5oYXMoXCJjdXJzb3JJbmRleFwiKSkge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5sZW5ndGggPiAwICYmIFxuICAgICAgICAgIHRoaXMucXVlcnkgJiYgXG4gICAgICAgICAgIXRoaXMuY29tcGxldGUgJiYgXG4gICAgICAgICAgdGhpcy5jdXJzb3JJbmRleCA+IHRoaXMub3B0aW9ucy5sZW5ndGggLSBMT09LX0FIRUFEKSB7XG4gICAgICAgIHRoaXMuZmV0Y2hPcHRpb25zKHRoaXMucXVlcnksIHRoaXMucGFnZSArIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlT3B0aW9uU2VsZWN0aW9uKGV2ZW50OiBDdXN0b21FdmVudCkge1xuICAgIGNvbnN0IHNlbGVjdGVkID0gZXZlbnQuZGV0YWlsLnNlbGVjdGVkO1xuICAgIHRoaXMuc2VsZWN0ZWQgPSBbc2VsZWN0ZWRdO1xuICAgIHRoaXMub3B0aW9ucyA9IFtdO1xuICAgIHRoaXMuaW5wdXQgPSBzZWxlY3RlZC5uYW1lO1xuIH1cblxuICBwdWJsaWMgZmV0Y2hPcHRpb25zKHF1ZXJ5OiBzdHJpbmcsIHBhZ2U6IG51bWJlciA9IDApIHtcbiAgICBcbiAgICBpZiAoIXRoaXMuZmV0Y2hpbmcpIHtcbiAgICAgIC8vIG1ha2Ugc3VyZSB3ZSBjYW5jZWwgYW55IHByZXZpb3VzIHJlcXVlc3RcbiAgICAgIGlmICh0aGlzLmNhbmNlbFRva2VuKSB7XG4gICAgICAgIHRoaXMuY2FuY2VsVG9rZW4uY2FuY2VsKCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IENhbmNlbFRva2VuID0gYXhpb3MuQ2FuY2VsVG9rZW47XG4gICAgICB0aGlzLmNhbmNlbFRva2VuID0gQ2FuY2VsVG9rZW4uc291cmNlKCk7XG5cbiAgICAgIHRoaXMuZmV0Y2hpbmcgPSB0cnVlO1xuICAgICAgZ2V0VXJsKHRoaXMuZW5kcG9pbnQgKyBlbmNvZGVVUklDb21wb25lbnQocXVlcnkpICsgXCImcGFnZT1cIiArIHBhZ2UsIHRoaXMuY2FuY2VsVG9rZW4udG9rZW4pLnRoZW4oKHJlc3BvbnNlOiBBeGlvc1Jlc3BvbnNlKSA9PiB7XG4gICAgICAgIGlmIChwYWdlID09PSAwKSB7XG4gICAgICAgICAgdGhpcy5vcHRpb25zID0gcmVzcG9uc2UuZGF0YS5maWx0ZXIoKG9wdGlvbjogYW55KSA9PiBvcHRpb24ubGV2ZWwgPiAwKTtcbiAgICAgICAgICB0aGlzLmN1cnNvckluZGV4ID0gMDtcbiAgICAgICAgICB0aGlzLnF1ZXJ5ID0gcXVlcnk7XG4gICAgICAgICAgdGhpcy5jb21wbGV0ZSA9IHRoaXMub3B0aW9ucy5sZW5ndGggPT09IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgbmV3UmVzdWx0cyA9IHJlc3BvbnNlLmRhdGEuZmlsdGVyKChvcHRpb246IGFueSkgPT4gb3B0aW9uLmxldmVsID4gMCk7XG4gICAgICAgICAgaWYgKG5ld1Jlc3VsdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gWyAuLi50aGlzLm9wdGlvbnMsIC4uLm5ld1Jlc3VsdHNdO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmNvbXBsZXRlID0gbmV3UmVzdWx0cy5sZW5ndGggPT09IDBcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZldGNoaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMucGFnZSA9IHBhZ2U7XG4gICAgICB9KS5jYXRjaCgocmVhc29uOiBhbnkpPT57XG4gICAgICAgIC8vIGNhbmNlbGxlZFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVCbHVyKCkge1xuICAgIC8vIHdlIGRvbid0IGRvIHRoaXMgaW1tZWRpYXRlbHkgc28gd2UgY2FuIGhhbmRsZSBjbGljayBldmVudHMgb3V0c2lkZSBvZiBvdXIgaW5wdXRcbiAgICB3aW5kb3cuc2V0VGltZW91dCgoKT0+e3RoaXMub3B0aW9ucyA9IFtdfSwgMTAwKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlRm9jdXMoKTogdm9pZCB7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUtleVVwKGV2dDogS2V5Ym9hcmRFdmVudCkge1xuICAgIGNvbnN0IGVsZSA9IGV2dC5jdXJyZW50VGFyZ2V0IGFzIFRleHRJbnB1dDtcbiAgICB0aGlzLmlucHV0ID0gZWxlLmlucHV0RWxlbWVudC52YWx1ZS50cmltKCk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUNhbmNlbCgpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBbXTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlQ3Vyc29yQ2hhbmdlZChldmVudDogQ3VzdG9tRXZlbnQpIHtcbiAgICB0aGlzLmN1cnNvckluZGV4ID0gZXZlbnQuZGV0YWlsLmluZGV4O1xuICB9XG5cbiAgcHVibGljIGdldEV2ZW50SGFuZGxlcnMoKTogRXZlbnRIYW5kbGVyW10ge1xuICAgIHJldHVybiBbXG4gICAgICB7IGV2ZW50OiBDdXN0b21FdmVudFR5cGUuQ2FuY2VsZWQsIG1ldGhvZDogdGhpcy5oYW5kbGVDYW5jZWwgfSxcbiAgICAgIHsgZXZlbnQ6IEN1c3RvbUV2ZW50VHlwZS5DdXJzb3JDaGFuZ2VkLCBtZXRob2Q6IHRoaXMuaGFuZGxlQ3Vyc29yQ2hhbmdlZCB9LFxuICAgICAgLy8geyBldmVudDogQ3VzdG9tRXZlbnRUeXBlLlNlbGVjdGlvbiwgbWV0aG9kOiB0aGlzLmhhbmRsZU9wdGlvblNlbGVjdGlvbiB9LFxuICAgIF07XG4gIH1cblxuICBwdWJsaWMgZmlyc3RVcGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzOiBhbnkpIHtcbiAgICB0aGlzLmFuY2hvckVsZW1lbnQgPSB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcihcInJwLXRleHRpbnB1dFwiKTtcbiAgfVxuXG4gIHB1YmxpYyByZW5kZXIoKTogVGVtcGxhdGVSZXN1bHQge1xuICAgIHJldHVybiBodG1sYFxuICAgICAgPHJwLXRleHRpbnB1dFxuICAgICAgICBAa2V5dXA9JHt0aGlzLmhhbmRsZUtleVVwfVxuICAgICAgICBAYmx1cj0ke3RoaXMuaGFuZGxlQmx1cn0gXG4gICAgICAgIEBmb2N1cz0ke3RoaXMuaGFuZGxlRm9jdXN9IFxuICAgICAgICAudmFsdWU9JHt0aGlzLmlucHV0fSAgXG4gICAgICAgIHBsYWNlaG9sZGVyPSR7dGhpcy5wbGFjZWhvbGRlcn1cbiAgICAgID48L3JwLXRleHRpbnB1dD5cbiAgICAgIDxycC1vcHRpb25zXG4gICAgICAgIGN1cnNvckluZGV4PSR7dGhpcy5jdXJzb3JJbmRleH1cbiAgICAgICAgQHJwLXNlbGVjdGlvbj0ke3RoaXMuaGFuZGxlT3B0aW9uU2VsZWN0aW9ufVxuICAgICAgICAucmVuZGVyT3B0aW9uRGV0YWlsPSR7dGhpcy5yZW5kZXJPcHRpb25EZXRhaWx9XG4gICAgICAgIC5yZW5kZXJPcHRpb25OYW1lPSR7dGhpcy5yZW5kZXJPcHRpb25OYW1lfVxuICAgICAgICAucmVuZGVyT3B0aW9uPSR7dGhpcy5yZW5kZXJPcHRpb259XG4gICAgICAgIC5hbmNob3JUbz0ke3RoaXMuYW5jaG9yRWxlbWVudH1cbiAgICAgICAgLm9wdGlvbnM9JHt0aGlzLm9wdGlvbnN9XG4gICAgICAgID92aXNpYmxlPSR7dGhpcy5pbnB1dC5sZW5ndGggPiAwICYmIHRoaXMub3B0aW9ucy5sZW5ndGggPiAwfVxuICAgICAgPjwvcnAtb3B0aW9ucz5cbiAgICBgXG4gIH1cbn0iLCJjb25zdCBTVEFURV9CT0RZID0gMDsgLy8gbm90IGluIGEgZXhwcmVzc2lvblxuY29uc3QgU1RBVEVfUFJFRklYID0gMTsgLy8gJ0AnIHByZWZpeCB0aGF0IGRlbm90ZXMgdGhlIHN0YXJ0IG9mIGFuIGV4cHJlc3Npb25cbmNvbnN0IFNUQVRFX0lERU5USUZJRVIgPSAyOyAvLyB0aGUgaWRlbnRpZmllciBwYXJ0LCBlLmcuICdjb250YWN0LmFnZScgaW4gJ0Bjb250YWN0LmFnZSdcbmNvbnN0IFNUQVRFX0JBTEFOQ0VEID0gMzsgLy8gdGhlIGJhbGFuY2VkIHBhcmVudGhlc2VzIGRlbGltaXRlZCBwYXJ0LCBlLmcuICcoMSArIDIpJyBpbiAnQCgxICsgMiknXG5jb25zdCBTVEFURV9TVFJJTkdfTElURVJBTCA9IDQ7IC8vIGEgc3RyaW5nIGxpdGVyYWwgd2hpY2ggY291bGQgY29udGFpbiApXG5jb25zdCBTVEFURV9FU0NBUEVEX1BSRUZJWCA9IDU7IC8vIGEgJ0AnIHByZWZpeCBwcmVjZWRlZCBieSBhbm90aGVyICdAJ1xuY29uc3QgU1RBVEVfSUdOT1JFID0gNjtcblxuZXhwb3J0IGludGVyZmFjZSBFeHByZXNzaW9uIHtcbiAgc3RhcnQ6IG51bWJlcjtcbiAgZW5kOiBudW1iZXI7XG4gIHRleHQ6IHN0cmluZztcbiAgY2xvc2VkOiBib29sZWFuO1xufVxuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0aGUgZ2l2ZW4gc3RyaW5nIHN0YXJ0cyB3aXRoIHRoZSBnaXZlbiB0ZXh0XG4gKi9cbmNvbnN0IHN0YXJ0c1dpdGggPSAoc3RyOiBzdHJpbmcsIHN0YXJ0OiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIHN0ci5pbmRleE9mKHN0YXJ0LCAwKSA9PT0gMDtcbn07XG5cbi8qKlxuICogQ2hlY2tzIHRoZSBwYXJzZWQgKHBvc3NpYmx5IHBhcnRpYWwpIGV4cHJlc3Npb24gdG8gZGV0ZXJtaW5lIGlmIGl0J3MgdmFsaWQgYmFzZWQgb24gaG93IGl0IHN0YXJ0c1xuICovXG5jb25zdCBpc1ZhbGlkU3RhcnQgPSAoXG4gIHBhcnRpYWxFeHByZXNzaW9uOiBzdHJpbmcsXG4gIGFsbG93ZWRUb3BMZXZlbHM6IHN0cmluZ1tdLFxuICBhbGxvd0luY29tcGxldGU6IGJvb2xlYW5cbik6IGJvb2xlYW4gPT4ge1xuICBjb25zdCBib2R5ID0gcGFydGlhbEV4cHJlc3Npb24uc3Vic3RyaW5nKDEpOyAvLyBzdHJpcCBwcmVmaXhcblxuICBpZiAoYm9keVswXSA9PT0gJygnKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSB7XG4gICAgLy8gaWYgZXhwcmVzc2lvbiBkb2Vzbid0IHN0YXJ0IHdpdGggKCB0aGVuIGNoZWNrIGl0J3MgYW4gYWxsb3dlZCB0b3AgbGV2ZWwgY29udGV4dCByZWZlcmVuY2VcbiAgICBjb25zdCB0b3BMZXZlbCA9IGJvZHkuc3BsaXQoJy4nKVswXS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgaWYgKGFsbG93SW5jb21wbGV0ZSkge1xuICAgICAgZm9yIChjb25zdCBhbGxvd2VkIG9mIGFsbG93ZWRUb3BMZXZlbHMpIHtcbiAgICAgICAgaWYgKHN0YXJ0c1dpdGgoYWxsb3dlZCwgdG9wTGV2ZWwpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGFsbG93ZWRUb3BMZXZlbHMuaW5kZXhPZih0b3BMZXZlbCkgPj0gMDtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0aGUgZ2l2ZW4gY2hhcmFjdGVyIGlzIGEgd29yZCBjaGFyYWN0ZXIsIGkuZS4gXFx3IGluIGEgcmVnZXhcbiAqL1xuZXhwb3J0IGNvbnN0IGlzV29yZENoYXIgPSAoY2g6IHN0cmluZyB8IDApOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIChcbiAgICAoY2ggPj0gJ2EnICYmIGNoIDw9ICd6JykgfHwgKGNoID49ICdBJyAmJiBjaCA8PSAnWicpIHx8IChjaCA+PSAnMCcgJiYgY2ggPD0gJzknKSB8fCBjaCA9PT0gJ18nXG4gICk7XG59O1xuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB3ZSBhcmUgaW4gYSBzdHJpbmcgbGl0ZXJhbFxuICovXG5jb25zdCBpc0luU3RyaW5nTGl0ZXJhbCA9IChwYXJ0aWFsRXhwcmVzc2lvbjogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gIC8vIGNvdW50IG51bWJlciBxdW90YXRpb24gbWFya3NcbiAgbGV0IG51bVF1b3RlcyA9IDA7XG4gIGZvciAoY29uc3QgcG9zIG9mIHBhcnRpYWxFeHByZXNzaW9uKSB7XG4gICAgaWYgKHBvcyA9PT0gJ1wiJykge1xuICAgICAgbnVtUXVvdGVzKys7XG4gICAgfVxuICB9XG4gIHJldHVybiBudW1RdW90ZXMgJSAyICE9PSAwOyAvLyBvZGQgbWVhbnMgbGFzdCBzdHJpbmcgbGl0ZXJhbCBpcyBvcGVuXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFeGNlbGxlbnRQYXJzZXIge1xuICBwcml2YXRlIGV4cHJlc3Npb25QcmVmaXg6IHN0cmluZztcbiAgcHJpdmF0ZSBhbGxvd2VkVG9wTGV2ZWxzOiBzdHJpbmdbXTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBwYXJzZXJcbiAgICogQHBhcmFtIGV4cHJlc3Npb25QcmVmaXggdGhlIHByZWZpeCBmb3IgZXhwcmVzc2lvbnMsIGUuZy4gJ0AnXG4gICAqIEBwYXJhbSBhbGxvd2VkVG9wTGV2ZWxzIHRoZSBjb250ZXh0IG5hbWVzIHRoYXQgYXJlIGFsbG93ZWQgd2l0aG91dCBwYXJlbnRoZXNlcywgZS5nLiBbXCJjb250YWN0XCIsIFwiZmxvd1wiLCAuLi5dXG4gICAqL1xuICBjb25zdHJ1Y3RvcihleHByZXNzaW9uUHJlZml4OiBzdHJpbmcsIGFsbG93ZWRUb3BMZXZlbHM6IHN0cmluZ1tdKSB7XG4gICAgdGhpcy5leHByZXNzaW9uUHJlZml4ID0gZXhwcmVzc2lvblByZWZpeDtcbiAgICB0aGlzLmFsbG93ZWRUb3BMZXZlbHMgPSBhbGxvd2VkVG9wTGV2ZWxzO1xuICB9XG5cbiAgLyoqXG4gICAqIEdpdmVuIHRoZSB0ZXh0IHVwIHRvIHRoZSBjYXJldCBwb3NpdGlvbiwgcmV0dXJucyB0aGUgZXhwcmVzc2lvbiBjdXJyZW50bHkgYmVpbmcgZWRpdGVkLCB3aXRob3V0IGl0cyBwcmVmaXhcbiAgICovXG4gIHB1YmxpYyBleHByZXNzaW9uQ29udGV4dCh0ZXh0VG9DYXJldDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCBleHByZXNzaW9ucyA9IHRoaXMuZmluZEV4cHJlc3Npb25zKHRleHRUb0NhcmV0KTtcbiAgICBpZiAoZXhwcmVzc2lvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAvLyBubyBleHByZXNzaW9ucyBmb3VuZFxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgbGFzdEV4cHJlc3Npb24gPSBleHByZXNzaW9uc1tleHByZXNzaW9ucy5sZW5ndGggLSAxXTtcblxuICAgIC8vIGhhcyBsYXN0IGV4cHJlc3Npb24gYWxyZWFkeSBlbmRlZCBvciBpcyBpdCBjbG9zZWQgKGkuZS4gaGFzIGJhbGFuY2VkIHBhcmVudGhlc2VzKVxuICAgIGlmIChsYXN0RXhwcmVzc2lvbi5lbmQgPCB0ZXh0VG9DYXJldC5sZW5ndGggfHwgbGFzdEV4cHJlc3Npb24uY2xvc2VkKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gbGFzdEV4cHJlc3Npb24udGV4dC5zdWJzdHJpbmcoMSk7IC8vIHJldHVybiB3aXRob3V0IHByZWZpeFxuICB9XG5cbiAgLyoqXG4gICAqIEdpdmVuIHRoZSBwYXJ0aWFsIGV4cHJlc3Npb24gY3VycmVudGx5IGJlaW5nIGVkaXRlZCwgcmV0dXJucyB0aGUgY3VycmVudCBhdXRvLWNvbXBsZXRhYmxlIGlkZW50aWZpZXJcbiAgICogd2hpY2ggbWF5IGJlIGEgZnVuY3Rpb24gbmFtZSBvciBhIGNvbnRleHQgcmVmZXJlbmNlLlxuICAgKi9cbiAgcHVibGljIGF1dG9Db21wbGV0ZUNvbnRleHQocGFydGlhbEV4cHJlc3Npb246IHN0cmluZyk6IHN0cmluZyB7XG4gICAgaWYgKGlzSW5TdHJpbmdMaXRlcmFsKHBhcnRpYWxFeHByZXNzaW9uKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgbmVlZGVkUGFyZW50aGVzZXMgPSBbXTtcbiAgICBsZXQgZnJhZ21lbnQgPSAnJztcbiAgICBsZXQgc2tpcENoYXIgPSBmYWxzZTtcbiAgICBsZXQgaW5RdW90ZXMgPSBmYWxzZTtcbiAgICBsZXQgcHJlcGVuZEZsYWcgPSAnJztcblxuICAgIGZvciAobGV0IHBvcyA9IHBhcnRpYWxFeHByZXNzaW9uLmxlbmd0aCAtIDE7IHBvcyA+PSAwOyBwb3MtLSkge1xuICAgICAgY29uc3QgY2ggPSBwYXJ0aWFsRXhwcmVzc2lvbltwb3NdO1xuXG4gICAgICBpZiAoY2ggPT09ICcgJykge1xuICAgICAgICBza2lwQ2hhciA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChjaCA9PT0gJywnKSB7XG4gICAgICAgIHNraXBDaGFyID0gdHJ1ZTtcbiAgICAgICAgaWYgKG5lZWRlZFBhcmVudGhlc2VzW25lZWRlZFBhcmVudGhlc2VzLmxlbmd0aCAtIDFdICE9PSAnKCcpIHtcbiAgICAgICAgICBuZWVkZWRQYXJlbnRoZXNlcy5wdXNoKCcoJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGNoID09PSAnKScgJiYgIWluUXVvdGVzKSB7XG4gICAgICAgIHNraXBDaGFyID0gdHJ1ZTtcbiAgICAgICAgbmVlZGVkUGFyZW50aGVzZXMucHVzaCgnKCcpO1xuICAgICAgICBuZWVkZWRQYXJlbnRoZXNlcy5wdXNoKCcoJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChjaCA9PT0gJ1wiJykge1xuICAgICAgICBpblF1b3RlcyA9ICFpblF1b3RlcztcbiAgICAgIH1cblxuICAgICAgaWYgKHNraXBDaGFyKSB7XG4gICAgICAgIGlmIChjaCA9PT0gJygnICYmICFpblF1b3Rlcykge1xuICAgICAgICAgIGlmIChuZWVkZWRQYXJlbnRoZXNlc1tuZWVkZWRQYXJlbnRoZXNlcy5sZW5ndGggLSAxXSA9PT0gJygnKSB7XG4gICAgICAgICAgICBuZWVkZWRQYXJlbnRoZXNlcy5wb3AoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobmVlZGVkUGFyZW50aGVzZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBza2lwQ2hhciA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoY2ggPT09ICcoJyAmJiBmcmFnbWVudCA9PT0gJycpIHtcbiAgICAgICAgcHJlcGVuZEZsYWcgPSAnIyc7XG4gICAgICB9XG5cbiAgICAgIGlmIChza2lwQ2hhciB8fCBpblF1b3RlcyB8fCAoY2ggPT09ICcoJyAmJiBmcmFnbWVudCA9PT0gJycpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNXb3JkQ2hhcihjaCkgfHwgY2ggPT09ICcuJykge1xuICAgICAgICBmcmFnbWVudCA9IGNoICsgZnJhZ21lbnQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZnJhZ21lbnQubWF0Y2goL1tBLVphLXpdW1xcd10qKFxcLltcXHddKykqLykpIHtcbiAgICAgIHJldHVybiBwcmVwZW5kRmxhZyArIGZyYWdtZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVE9ETyBmaW5kIHRoZSBmdW5jdGlvbiBjb250ZXh0XG4gICAqL1xuICBwdWJsaWMgZnVuY3Rpb25Db250ZXh0KHBhcnRpYWxFeHByZXNzaW9uOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IGluU3RyaW5nID0gaXNJblN0cmluZ0xpdGVyYWwocGFydGlhbEV4cHJlc3Npb24pO1xuXG4gICAgLy8gaW5pdGlhbCBzdGF0ZSBpcyBzdHJpbmcgbGl0ZXJhbCBpZiBudW1iZXIgb2YgcXVvdGVzIGlzIG9kZFxuICAgIGxldCBzdGF0ZSA9IGluU3RyaW5nID8gU1RBVEVfU1RSSU5HX0xJVEVSQUwgOiBTVEFURV9JR05PUkU7XG4gICAgbGV0IGlkZW50aWZpZXIgPSAnJztcbiAgICBsZXQgcGFyZW50aGVzZXNMZXZlbCA9IHBhcnRpYWxFeHByZXNzaW9uWy0xXSA9PT0gJygnID8gMCA6IDE7XG5cbiAgICBmb3IgKGxldCBwb3MgPSBwYXJ0aWFsRXhwcmVzc2lvbi5sZW5ndGggLSAxOyBwb3MgPj0gMDsgcG9zLS0pIHtcbiAgICAgIGNvbnN0IGNoID0gcGFydGlhbEV4cHJlc3Npb25bcG9zXTtcblxuICAgICAgaWYgKGNoID09PSAnQCcpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RhdGUgPT09IFNUQVRFX0lHTk9SRSkge1xuICAgICAgICBpZiAocGFyZW50aGVzZXNMZXZlbCA9PT0gMCAmJiAoaXNXb3JkQ2hhcihjaCkgfHwgY2ggPT09ICcuJykpIHtcbiAgICAgICAgICBzdGF0ZSA9IFNUQVRFX0lERU5USUZJRVI7XG4gICAgICAgICAgaWRlbnRpZmllciA9IGNoICsgaWRlbnRpZmllcjtcbiAgICAgICAgfSBlbHNlIGlmIChjaCA9PT0gJ1wiJykge1xuICAgICAgICAgIHN0YXRlID0gU1RBVEVfU1RSSU5HX0xJVEVSQUw7XG4gICAgICAgIH0gZWxzZSBpZiAoY2ggPT09ICcoJykge1xuICAgICAgICAgIHBhcmVudGhlc2VzTGV2ZWwtLTtcbiAgICAgICAgfSBlbHNlIGlmIChjaCA9PT0gJyknKSB7XG4gICAgICAgICAgcGFyZW50aGVzZXNMZXZlbCsrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBTVEFURV9JREVOVElGSUVSKSB7XG4gICAgICAgIGlmIChpc1dvcmRDaGFyKGNoKSB8fCBjaCA9PT0gJy4nKSB7XG4gICAgICAgICAgaWRlbnRpZmllciA9IGNoICsgaWRlbnRpZmllcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gaWRlbnRpZmllcjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gU1RBVEVfU1RSSU5HX0xJVEVSQUwpIHtcbiAgICAgICAgaWYgKGNoID09PSAnXCInKSB7XG4gICAgICAgICAgc3RhdGUgPSBTVEFURV9JR05PUkU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgcHVibGljIGdldENvbnRhY3RGaWVsZHModGV4dDogc3RyaW5nKTogc3RyaW5nW10ge1xuICAgIGNvbnN0IGZpZWxkcyA9IHt9O1xuICAgIGNvbnN0IHJlID0gLygocGFyZW50fGNoaWxkXFwuKSpjb250YWN0XFwuKSpmaWVsZHNcXC4oW2EtejAtOV9dKykvZztcbiAgICBjb25zdCBleHByZXNzaW9ucyA9IHRoaXMuZmluZEV4cHJlc3Npb25zKHRleHQpO1xuICAgIGZvciAoY29uc3QgZXhwcmVzc2lvbiBvZiBleHByZXNzaW9ucykge1xuICAgICAgbGV0IG1hdGNoO1xuICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWNvbmRpdGlvbmFsLWFzc2lnbm1lbnRcbiAgICAgIHdoaWxlICgobWF0Y2ggPSByZS5leGVjKGV4cHJlc3Npb24udGV4dCkpKSB7XG4gICAgICAgIChmaWVsZHMgYXMgYW55KVttYXRjaFszXV0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LmtleXMoZmllbGRzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5kcyBhbGwgZXhwcmVzc2lvbnMgaW4gdGhlIGdpdmVuIHRleHQsIGluY2x1ZGluZyBhbnkgcGFydGlhbGx5IGNvbXBsZXRlIGV4cHJlc3Npb24gYXQgdGhlIGVuZCBvZiB0aGUgaW5wdXRcbiAgICovXG4gIHB1YmxpYyBmaW5kRXhwcmVzc2lvbnModGV4dDogc3RyaW5nKTogRXhwcmVzc2lvbltdIHtcbiAgICBjb25zdCBleHByZXNzaW9uczogRXhwcmVzc2lvbltdID0gW107XG4gICAgbGV0IHN0YXRlID0gU1RBVEVfQk9EWTtcbiAgICBsZXQgY3VycmVudEV4cHJlc3Npb246IEV4cHJlc3Npb24gPSBudWxsO1xuICAgIGxldCBwYXJlbnRoZXNlc0xldmVsID0gMDtcblxuICAgIGZvciAobGV0IHBvcyA9IDA7IHBvcyA8IHRleHQubGVuZ3RoOyBwb3MrKykge1xuICAgICAgY29uc3QgY2ggPSB0ZXh0W3Bvc107XG4gICAgICAvLyBpbiBvcmRlciB0byBkZXRlcm1pbmUgaWYgdGhlIGIgaW4gYS5iIHRlcm1pbmF0ZXMgYW4gaWRlbnRpZmllciwgd2UgaGF2ZSB0byBwZWVrIHR3byBjaGFyYWN0ZXJzIGFoZWFkIGFzXG4gICAgICAvLyBpdCBjb3VsZCBiZSBhLmIuIChiIHRlcm1pbmF0ZXMpIG9yIGEuYi5jIChiIGRvZXNuJ3QgdGVybWluYXRlKVxuICAgICAgY29uc3QgbmV4dENoID0gcG9zIDwgdGV4dC5sZW5ndGggLSAxID8gdGV4dFtwb3MgKyAxXSA6IDA7XG4gICAgICBjb25zdCBuZXh0TmV4dENoID0gcG9zIDwgdGV4dC5sZW5ndGggLSAyID8gdGV4dFtwb3MgKyAyXSA6IDA7XG5cbiAgICAgIGlmIChzdGF0ZSA9PT0gU1RBVEVfQk9EWSkge1xuICAgICAgICBpZiAoY2ggPT09IHRoaXMuZXhwcmVzc2lvblByZWZpeCAmJiAoaXNXb3JkQ2hhcihuZXh0Q2gpIHx8IG5leHRDaCA9PT0gJygnKSkge1xuICAgICAgICAgIHN0YXRlID0gU1RBVEVfUFJFRklYO1xuICAgICAgICAgIGN1cnJlbnRFeHByZXNzaW9uID0ge1xuICAgICAgICAgICAgc3RhcnQ6IHBvcyxcbiAgICAgICAgICAgIGVuZDogbnVsbCxcbiAgICAgICAgICAgIHRleHQ6IGNoLFxuICAgICAgICAgICAgY2xvc2VkOiBmYWxzZVxuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoY2ggPT09IHRoaXMuZXhwcmVzc2lvblByZWZpeCAmJiBuZXh0Q2ggPT09IHRoaXMuZXhwcmVzc2lvblByZWZpeCkge1xuICAgICAgICAgIHN0YXRlID0gU1RBVEVfRVNDQVBFRF9QUkVGSVg7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IFNUQVRFX1BSRUZJWCkge1xuICAgICAgICBpZiAoaXNXb3JkQ2hhcihjaCkpIHtcbiAgICAgICAgICBzdGF0ZSA9IFNUQVRFX0lERU5USUZJRVI7IC8vIHdlJ3JlIHBhcnNpbmcgYW4gZXhwcmVzc2lvbiBsaWtlIEBYWFhcbiAgICAgICAgfSBlbHNlIGlmIChjaCA9PT0gJygnKSB7XG4gICAgICAgICAgLy8gd2UncmUgcGFyc2luZyBhbiBleHByZXNzaW9uIGxpa2UgQCgxICsgMilcbiAgICAgICAgICBzdGF0ZSA9IFNUQVRFX0JBTEFOQ0VEO1xuICAgICAgICAgIHBhcmVudGhlc2VzTGV2ZWwgKz0gMTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50RXhwcmVzc2lvbi50ZXh0ICs9IGNoO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gU1RBVEVfSURFTlRJRklFUikge1xuICAgICAgICBjdXJyZW50RXhwcmVzc2lvbi50ZXh0ICs9IGNoO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gU1RBVEVfQkFMQU5DRUQpIHtcbiAgICAgICAgaWYgKGNoID09PSAnKCcpIHtcbiAgICAgICAgICBwYXJlbnRoZXNlc0xldmVsICs9IDE7XG4gICAgICAgIH0gZWxzZSBpZiAoY2ggPT09ICcpJykge1xuICAgICAgICAgIHBhcmVudGhlc2VzTGV2ZWwgLT0gMTtcbiAgICAgICAgfSBlbHNlIGlmIChjaCA9PT0gJ1wiJykge1xuICAgICAgICAgIHN0YXRlID0gU1RBVEVfU1RSSU5HX0xJVEVSQUw7XG4gICAgICAgIH1cblxuICAgICAgICBjdXJyZW50RXhwcmVzc2lvbi50ZXh0ICs9IGNoO1xuXG4gICAgICAgIC8vIGV4cHJlc3Npb24gdGVybWluYXRlcyBpZiBwYXJlbnRoZXNlcyBiYWxhbmNlXG4gICAgICAgIGlmIChwYXJlbnRoZXNlc0xldmVsID09PSAwKSB7XG4gICAgICAgICAgY3VycmVudEV4cHJlc3Npb24uZW5kID0gcG9zICsgMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gU1RBVEVfU1RSSU5HX0xJVEVSQUwpIHtcbiAgICAgICAgaWYgKGNoID09PSAnXCInKSB7XG4gICAgICAgICAgc3RhdGUgPSBTVEFURV9CQUxBTkNFRDtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50RXhwcmVzc2lvbi50ZXh0ICs9IGNoO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gU1RBVEVfRVNDQVBFRF9QUkVGSVgpIHtcbiAgICAgICAgc3RhdGUgPSBTVEFURV9CT0RZO1xuICAgICAgfVxuXG4gICAgICAvLyBpZGVudGlmaWVyIGNhbiB0ZXJtaW5hdGUgZXhwcmVzc2lvbiBpbiAzIHdheXM6XG4gICAgICAvLyAgMS4gbmV4dCBjaGFyIGlzIG51bGwgKGkuZS4gZW5kIG9mIHRoZSBpbnB1dClcbiAgICAgIC8vICAyLiBuZXh0IGNoYXIgaXMgbm90IGEgd29yZCBjaGFyYWN0ZXIgb3IgcGVyaW9kXG4gICAgICAvLyAgMy4gbmV4dCBjaGFyIGlzIGEgcGVyaW9kLCBidXQgaXQncyBub3QgZm9sbG93ZWQgYnkgYSB3b3JkIGNoYXJhY3RlclxuICAgICAgaWYgKHN0YXRlID09PSBTVEFURV9JREVOVElGSUVSKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAoIWlzV29yZENoYXIobmV4dENoKSAmJiBuZXh0Q2ggIT09ICcuJykgfHxcbiAgICAgICAgICAobmV4dENoID09PSAnLicgJiYgIWlzV29yZENoYXIobmV4dE5leHRDaCkpXG4gICAgICAgICkge1xuICAgICAgICAgIGN1cnJlbnRFeHByZXNzaW9uLmVuZCA9IHBvcyArIDE7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGN1cnJlbnRFeHByZXNzaW9uICE9IG51bGwgJiYgKGN1cnJlbnRFeHByZXNzaW9uLmVuZCAhPSBudWxsIHx8IG5leHRDaCA9PT0gMCkpIHtcbiAgICAgICAgY29uc3QgYWxsb3dJbmNvbXBsZXRlID0gbmV4dENoID09PSAwOyAvLyBpZiB3ZSdyZSBhdCB0aGUgZW5kIG9mIHRoZSBpbnB1dCwgYWxsb3cgaW5jb21wbGV0ZSBleHByZXNzaW9uc1xuICAgICAgICBpZiAoaXNWYWxpZFN0YXJ0KGN1cnJlbnRFeHByZXNzaW9uLnRleHQsIHRoaXMuYWxsb3dlZFRvcExldmVscywgYWxsb3dJbmNvbXBsZXRlKSkge1xuICAgICAgICAgIGN1cnJlbnRFeHByZXNzaW9uLmNsb3NlZCA9IGN1cnJlbnRFeHByZXNzaW9uLnRleHRbMV0gPT09ICcoJyAmJiBwYXJlbnRoZXNlc0xldmVsID09PSAwO1xuICAgICAgICAgIGN1cnJlbnRFeHByZXNzaW9uLmVuZCA9IHBvcyArIDE7XG4gICAgICAgICAgZXhwcmVzc2lvbnMucHVzaChjdXJyZW50RXhwcmVzc2lvbik7XG4gICAgICAgIH1cblxuICAgICAgICBjdXJyZW50RXhwcmVzc2lvbiA9IG51bGw7XG4gICAgICAgIHN0YXRlID0gU1RBVEVfQk9EWTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZXhwcmVzc2lvbnM7XG4gIH1cbn1cbiIsImltcG9ydCB7IENvbXBsZXRpb25PcHRpb24gfSBmcm9tICcuL0NvbXBsZXRpb24nO1xuXG5leHBvcnQgaW50ZXJmYWNlIENvbXBsZXRpb25Qcm9wZXJ0eSB7XG4gICAga2V5OiBzdHJpbmc7XG4gICAgaGVscDogc3RyaW5nO1xuICAgIHR5cGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb21wbGV0aW9uVHlwZSB7XG4gICAgbmFtZTogc3RyaW5nO1xuXG4gICAga2V5X3NvdXJjZT86IHN0cmluZztcbiAgICBwcm9wZXJ0eV90ZW1wbGF0ZT86IENvbXBsZXRpb25Qcm9wZXJ0eTtcbiAgICBwcm9wZXJ0aWVzPzogQ29tcGxldGlvblByb3BlcnR5W107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGxldGlvblNjaGVtYSB7XG4gICAgdHlwZXM6IENvbXBsZXRpb25UeXBlW107XG4gICAgcm9vdDogQ29tcGxldGlvblByb3BlcnR5W107XG4gICAgcm9vdF9ub19zZXNzaW9uOiBDb21wbGV0aW9uUHJvcGVydHlbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQb3NpdGlvbiB7XG4gICAgdG9wOiBudW1iZXI7XG4gICAgbGVmdDogbnVtYmVyO1xufVxuXG5leHBvcnQgdHlwZSBLZXllZEFzc2V0cyA9IHsgW2Fzc2V0VHlwZTogc3RyaW5nXTogc3RyaW5nW10gfTtcblxuZXhwb3J0IGNvbnN0IGdldEZ1bmN0aW9ucyA9IChcbiAgICBmdW5jdGlvbnM6IENvbXBsZXRpb25PcHRpb25bXSxcbiAgICBxdWVyeTogc3RyaW5nXG4pOiBDb21wbGV0aW9uT3B0aW9uW10gPT4ge1xuICAgIGlmICghcXVlcnkpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9ucztcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9ucy5maWx0ZXIoKG9wdGlvbjogQ29tcGxldGlvbk9wdGlvbikgPT4ge1xuICAgICAgICBpZiAob3B0aW9uLnNpZ25hdHVyZSkge1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbi5zaWduYXR1cmUuaW5kZXhPZihxdWVyeSkgPT09IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xufTtcblxuLyoqXG4gKiBUYWtlcyBhIGRvdCBxdWVyeSBhbmQgcmV0dXJucyB0aGUgY29tcGxldGlvbnMgb3B0aW9ucyBhdCB0aGUgY3VycmVudCBsZXZlbFxuICogQHBhcmFtIGRvdFF1ZXJ5IHF1ZXJ5IHN1Y2ggYXMgXCJjb250YWN0LmZpcnN0X25cIlxuICovXG5leHBvcnQgY29uc3QgZ2V0Q29tcGxldGlvbnMgPSAoXG4gICAgc2NoZW1hOiBDb21wbGV0aW9uU2NoZW1hLFxuICAgIGRvdFF1ZXJ5OiBzdHJpbmcsXG4gICAga2V5ZWRBc3NldHM6IEtleWVkQXNzZXRzID0ge31cbik6IENvbXBsZXRpb25PcHRpb25bXSA9PiB7XG4gICAgY29uc3QgcGFydHMgPSAoZG90UXVlcnkgfHwgJycpLnNwbGl0KCcuJyk7XG4gICAgbGV0IGN1cnJlbnRQcm9wczogQ29tcGxldGlvblByb3BlcnR5W10gPSBzY2hlbWEucm9vdF9ub19zZXNzaW9uO1xuXG4gICAgbGV0IHByZWZpeCA9ICcnO1xuICAgIGxldCBwYXJ0ID0gJyc7XG4gICAgd2hpbGUgKHBhcnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcGFydCA9IHBhcnRzLnNoaWZ0KCk7XG4gICAgICAgIGlmIChwYXJ0KSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgICAgIGNvbnN0IG5leHRQcm9wID0gY3VycmVudFByb3BzLmZpbmQoXG4gICAgICAgICAgICAgICAgKHByb3A6IENvbXBsZXRpb25Qcm9wZXJ0eSkgPT4gcHJvcC5rZXkgPT09IHBhcnRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAobmV4dFByb3ApIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0VHlwZSA9IHNjaGVtYS50eXBlcy5maW5kKFxuICAgICAgICAgICAgICAgICAgICAodHlwZTogQ29tcGxldGlvblR5cGUpID0+IHR5cGUubmFtZSA9PT0gbmV4dFByb3AudHlwZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgaWYgKG5leHRUeXBlICYmIG5leHRUeXBlLnByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFByb3BzID0gbmV4dFR5cGUucHJvcGVydGllcztcbiAgICAgICAgICAgICAgICAgICAgcHJlZml4ICs9IHBhcnQgKyAnLic7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChuZXh0VHlwZSAmJiBuZXh0VHlwZS5wcm9wZXJ0eV90ZW1wbGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBwcmVmaXggKz0gcGFydCArICcuJztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcGxhdGUgPSBuZXh0VHlwZS5wcm9wZXJ0eV90ZW1wbGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleWVkQXNzZXRzW25leHRUeXBlLm5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UHJvcHMgPSBrZXllZEFzc2V0c1tuZXh0VHlwZS5uYW1lXS5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGtleTogc3RyaW5nKSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IHRlbXBsYXRlLmtleS5yZXBsYWNlKCd7a2V5fScsIGtleSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlbHA6IHRlbXBsYXRlLmhlbHAucmVwbGFjZSgne2tleX0nLCBrZXkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB0ZW1wbGF0ZS50eXBlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UHJvcHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UHJvcHMgPSBjdXJyZW50UHJvcHMuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgKHByb3A6IENvbXBsZXRpb25Qcm9wZXJ0eSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wLmtleS5zdGFydHNXaXRoKHBhcnQudG9Mb3dlckNhc2UoKSlcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgICAgICAgICBjdXJyZW50UHJvcHMgPSBjdXJyZW50UHJvcHMuZmlsdGVyKChwcm9wOiBDb21wbGV0aW9uUHJvcGVydHkpID0+XG4gICAgICAgICAgICAgICAgICAgIHByb3Aua2V5LnN0YXJ0c1dpdGgocGFydC50b0xvd2VyQ2FzZSgpKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY3VycmVudFByb3BzLm1hcCgocHJvcDogQ29tcGxldGlvblByb3BlcnR5KSA9PiB7XG4gICAgICAgIGNvbnN0IG5hbWUgPVxuICAgICAgICAgICAgcHJvcC5rZXkgPT09ICdfX2RlZmF1bHRfXydcbiAgICAgICAgICAgICAgICA/IHByZWZpeC5zdWJzdHIoMCwgcHJlZml4Lmxlbmd0aCAtIDEpXG4gICAgICAgICAgICAgICAgOiBwcmVmaXggKyBwcm9wLmtleTtcbiAgICAgICAgcmV0dXJuIHsgbmFtZSwgc3VtbWFyeTogcHJvcC5oZWxwIH07XG4gICAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0T2Zmc2V0ID0gKGVsOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgIHZhciByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICAgIHNjcm9sbExlZnQgPSB3aW5kb3cucGFnZVhPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQsXG4gICAgICAgIHNjcm9sbFRvcCA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuICAgIHJldHVybiB7IHRvcDogcmVjdC50b3AgKyBzY3JvbGxUb3AsIGxlZnQ6IHJlY3QubGVmdCArIHNjcm9sbExlZnQgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRWZXJ0aWNhbFNjcm9sbCA9IChlbGU6IE5vZGUpID0+IHtcbiAgICBsZXQgY3VycmVudCA9IGVsZTtcbiAgICBsZXQgdmVydGljYWxTY3JvbGwgPSAwO1xuICAgIHdoaWxlIChjdXJyZW50KSB7XG4gICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudE5vZGU7XG4gICAgfVxuICAgIHJldHVybiB2ZXJ0aWNhbFNjcm9sbDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDb21wbGV0aW9uTmFtZSA9IChvcHRpb246IENvbXBsZXRpb25PcHRpb24pOiBzdHJpbmcgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICAgIG9wdGlvbi5uYW1lIHx8IG9wdGlvbi5zaWduYXR1cmUuc3Vic3RyKDAsIG9wdGlvbi5zaWduYXR1cmUuaW5kZXhPZignKCcpKVxuICAgICk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0Q29tcGxldGlvblNpZ25hdHVyZSA9IChvcHRpb246IENvbXBsZXRpb25PcHRpb24pOiBzdHJpbmcgPT4ge1xuICAgIHJldHVybiBvcHRpb24uc2lnbmF0dXJlLnN1YnN0cihvcHRpb24uc2lnbmF0dXJlLmluZGV4T2YoJygnKSk7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuXG5pbXBvcnQge2lzUHJpbWl0aXZlfSBmcm9tICcuLi9saWIvcGFydHMuanMnO1xuaW1wb3J0IHtkaXJlY3RpdmUsIE5vZGVQYXJ0LCBQYXJ0fSBmcm9tICcuLi9saXQtaHRtbC5qcyc7XG5cbmludGVyZmFjZSBQcmV2aW91c1ZhbHVlIHtcbiAgcmVhZG9ubHkgdmFsdWU6IHVua25vd247XG4gIHJlYWRvbmx5IGZyYWdtZW50OiBEb2N1bWVudEZyYWdtZW50O1xufVxuXG4vLyBGb3IgZWFjaCBwYXJ0LCByZW1lbWJlciB0aGUgdmFsdWUgdGhhdCB3YXMgbGFzdCByZW5kZXJlZCB0byB0aGUgcGFydCBieSB0aGVcbi8vIHVuc2FmZUhUTUwgZGlyZWN0aXZlLCBhbmQgdGhlIERvY3VtZW50RnJhZ21lbnQgdGhhdCB3YXMgbGFzdCBzZXQgYXMgYSB2YWx1ZS5cbi8vIFRoZSBEb2N1bWVudEZyYWdtZW50IGlzIHVzZWQgYXMgYSB1bmlxdWUga2V5IHRvIGNoZWNrIGlmIHRoZSBsYXN0IHZhbHVlXG4vLyByZW5kZXJlZCB0byB0aGUgcGFydCB3YXMgd2l0aCB1bnNhZmVIVE1MLiBJZiBub3QsIHdlJ2xsIGFsd2F5cyByZS1yZW5kZXIgdGhlXG4vLyB2YWx1ZSBwYXNzZWQgdG8gdW5zYWZlSFRNTC5cbmNvbnN0IHByZXZpb3VzVmFsdWVzID0gbmV3IFdlYWtNYXA8Tm9kZVBhcnQsIFByZXZpb3VzVmFsdWU+KCk7XG5cbi8qKlxuICogUmVuZGVycyB0aGUgcmVzdWx0IGFzIEhUTUwsIHJhdGhlciB0aGFuIHRleHQuXG4gKlxuICogTm90ZSwgdGhpcyBpcyB1bnNhZmUgdG8gdXNlIHdpdGggYW55IHVzZXItcHJvdmlkZWQgaW5wdXQgdGhhdCBoYXNuJ3QgYmVlblxuICogc2FuaXRpemVkIG9yIGVzY2FwZWQsIGFzIGl0IG1heSBsZWFkIHRvIGNyb3NzLXNpdGUtc2NyaXB0aW5nXG4gKiB2dWxuZXJhYmlsaXRpZXMuXG4gKi9cbmV4cG9ydCBjb25zdCB1bnNhZmVIVE1MID0gZGlyZWN0aXZlKCh2YWx1ZTogdW5rbm93bikgPT4gKHBhcnQ6IFBhcnQpOiB2b2lkID0+IHtcbiAgaWYgKCEocGFydCBpbnN0YW5jZW9mIE5vZGVQYXJ0KSkge1xuICAgIHRocm93IG5ldyBFcnJvcigndW5zYWZlSFRNTCBjYW4gb25seSBiZSB1c2VkIGluIHRleHQgYmluZGluZ3MnKTtcbiAgfVxuXG4gIGNvbnN0IHByZXZpb3VzVmFsdWUgPSBwcmV2aW91c1ZhbHVlcy5nZXQocGFydCk7XG5cbiAgaWYgKHByZXZpb3VzVmFsdWUgIT09IHVuZGVmaW5lZCAmJiBpc1ByaW1pdGl2ZSh2YWx1ZSkgJiZcbiAgICAgIHZhbHVlID09PSBwcmV2aW91c1ZhbHVlLnZhbHVlICYmIHBhcnQudmFsdWUgPT09IHByZXZpb3VzVmFsdWUuZnJhZ21lbnQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG4gIHRlbXBsYXRlLmlubmVySFRNTCA9IHZhbHVlIGFzIHN0cmluZzsgIC8vIGlubmVySFRNTCBjYXN0cyB0byBzdHJpbmcgaW50ZXJuYWxseVxuICBjb25zdCBmcmFnbWVudCA9IGRvY3VtZW50LmltcG9ydE5vZGUodGVtcGxhdGUuY29udGVudCwgdHJ1ZSk7XG4gIHBhcnQuc2V0VmFsdWUoZnJhZ21lbnQpO1xuICBwcmV2aW91c1ZhbHVlcy5zZXQocGFydCwge3ZhbHVlLCBmcmFnbWVudH0pO1xufSk7XG4iLCJpbXBvcnQgeyBjdXN0b21FbGVtZW50LCBUZW1wbGF0ZVJlc3VsdCwgaHRtbCwgY3NzLCBwcm9wZXJ0eSB9IGZyb20gJ2xpdC1lbGVtZW50JztcbmltcG9ydCBSYXBpZEVsZW1lbnQsIHsgRXZlbnRIYW5kbGVyIH0gZnJvbSAnLi4vUmFwaWRFbGVtZW50JztcbmltcG9ydCBFeGNlbGxlbnRQYXJzZXIsIHsgRXhwcmVzc2lvbiB9IGZyb20gJy4vRXhjZWxsZW50UGFyc2VyJztcbmltcG9ydCBUZXh0SW5wdXQgZnJvbSAnLi4vdGV4dGlucHV0L1RleHRJbnB1dCc7XG5pbXBvcnQgeyBnZXRDb21wbGV0aW9ucywgQ29tcGxldGlvblNjaGVtYSwgZ2V0RnVuY3Rpb25zLCBQb3NpdGlvbiwgS2V5ZWRBc3NldHMsIGdldFZlcnRpY2FsU2Nyb2xsLCBnZXRPZmZzZXQgfSBmcm9tICcuL2hlbHBlcnMnO1xuaW1wb3J0IHsgZ2V0VXJsLCBnZXRBc3NldHMsIEFzc2V0IH0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IHsgQXhpb3NSZXNwb25zZSB9IGZyb20gJ2F4aW9zJztcbmltcG9ydCBnZXRDYXJldENvb3JkaW5hdGVzIGZyb20gJ3RleHRhcmVhLWNhcmV0JztcbmltcG9ydCB7IGRpcmVjdGl2ZSwgUGFydCB9IGZyb20gJ2xpdC1odG1sJztcbmltcG9ydCB7IHVuc2FmZUhUTUwgfSBmcm9tICdsaXQtaHRtbC9kaXJlY3RpdmVzL3Vuc2FmZS1odG1sLmpzJztcbmltcG9ydCB7IHN0eWxlTWFwIH0gZnJvbSAnbGl0LWh0bWwvZGlyZWN0aXZlcy9zdHlsZS1tYXAuanMnO1xuXG5jb25zdCBtYXJrZWQgPSByZXF1aXJlKCdtYXJrZWQnKTtcblxuZXhwb3J0IGludGVyZmFjZSBGdW5jdGlvbkV4YW1wbGUge1xuICB0ZW1wbGF0ZTogc3RyaW5nO1xuICBvdXRwdXQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb21wbGV0aW9uT3B0aW9uIHtcbiAgbmFtZT86IHN0cmluZztcbiAgc3VtbWFyeTogc3RyaW5nO1xuXG4gIC8vIGZ1bmN0aW9uc1xuICBzaWduYXR1cmU/OiBzdHJpbmc7XG4gIGRldGFpbD86IHN0cmluZztcbiAgZXhhbXBsZXM/OiBGdW5jdGlvbkV4YW1wbGVbXTtcbn1cblxuY29uc3QgbWFya2VkUmVuZGVyID0gZGlyZWN0aXZlKChjb250ZW50czogc3RyaW5nKSA9PiAocGFydDogUGFydCkgPT4geyBcbiAgcGFydC5zZXRWYWx1ZSh1bnNhZmVIVE1MKG1hcmtlZChjb250ZW50cykpKVxufSk7XG5cblxuLyoqXG4gKiBDb21wbGV0aW9uIGlzIGEgdGV4dCBpbnB1dCB0aGF0IGhhbmRsZXMgZXhjZWxsZW50IGNvbXBsZXRpb24gb3B0aW9ucyBpbiBhIHBvcHVwXG4gKi9cbkBjdXN0b21FbGVtZW50KFwicnAtY29tcGxldGlvblwiKVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29tcGxldGlvbiBleHRlbmRzIFJhcGlkRWxlbWVudCB7XG4gIHN0YXRpYyBnZXQgc3R5bGVzKCkge1xuICAgIHJldHVybiBjc3NgXG4gICAgICBcbiAgICAgIDpob3N0IHtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICB9XG5cbiAgICAgIC5jb21wLWNvbnRhaW5lciB7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgfVxuXG4gICAgICAjYW5jaG9yIHtcbiAgICAgICAgLyogYmFja2dyb3VuZDogcmdiYSgxMzIsIDQwLCAxNTgsIC4xKTsgKi9cbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB2aXNpYmlsaXR5OiBoaWRkZW47XG4gICAgICAgIHdpZHRoOiAyNTBweDtcbiAgICAgICAgaGVpZ2h0OiAyMHB4O1xuICAgICAgfVxuXG4gICAgICAuZm4tbWFya2VyIHtcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgIGZvbnQtc2l6ZTogNDJweDtcbiAgICAgIH1cblxuICAgICAgLm9wdGlvbi1zbG90IHtcbiAgICAgICAgYmFja2dyb3VuZDogI2ZmZjtcbiAgICAgIH1cblxuICAgICAgLmN1cnJlbnQtZm4ge1xuICAgICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgICBtYXJnaW46IDVweDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tY29sb3ItcHJpbWFyeS1saWdodCk7XG4gICAgICAgIGNvbG9yOiByZ2JhKDAsIDAsIDAsIC41KTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tY3VydmF0dXJlKTtcbiAgICAgICAgZm9udC1zaXplOiA5MCU7XG4gICAgICB9XG5cbiAgICAgIC5mb290ZXIge1xuICAgICAgICBwYWRkaW5nOiA1cHggMTBweDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tY29sb3ItcHJpbWFyeS1saWdodCk7XG4gICAgICAgIGNvbG9yOiByZ2JhKDAsIDAsIDAsIC41KTtcbiAgICAgICAgZm9udC1zaXplOiA4MCU7XG4gICAgICB9XG5cbiAgICAgIGNvZGUge1xuICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsMCwwLC4xKTtcbiAgICAgICAgcGFkZGluZzogMXB4IDVweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tY3VydmF0dXJlKTtcbiAgICAgIH1cbiAgICBgXG4gIH1cblxuICBzdGF0aWMgcGFyc2VyID0gbmV3IEV4Y2VsbGVudFBhcnNlcignQCcsIFtcbiAgICAnY29udGFjdCcsXG4gICAgJ2ZpZWxkcycsXG4gICAgJ3VybnMnLFxuICBdKTtcblxuICAvKiogUmVtb3RlIGRlc2NyaXB0aW9uIG9mIG91ciBjb21wbGV0aW9uIHNjaGVtYSAqLyAgXG4gIHByaXZhdGUgc2NoZW1hOiBDb21wbGV0aW9uU2NoZW1hO1xuXG4gIC8qKiBSZW1vdGUgbGlzdCBvZiBvdXIgZnVuY3Rpb24gb3B0aW9ucyAqL1xuICBwcml2YXRlIGZ1bmN0aW9uczogQ29tcGxldGlvbk9wdGlvbltdO1xuXG4gIHByaXZhdGUga2V5ZWRBc3NldHM6IEtleWVkQXNzZXRzO1xuXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IE9iamVjdH0pXG4gIGFuY2hvclBvc2l0aW9uOiBQb3NpdGlvbiA9IHsgbGVmdDogMCwgdG9wOiAwfTtcblxuICBAcHJvcGVydHkoe2F0dHJpYnV0ZTogZmFsc2V9KVxuICBjdXJyZW50RnVuY3Rpb246IENvbXBsZXRpb25PcHRpb247XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBTdHJpbmd9KVxuICBwbGFjZWhvbGRlcjogc3RyaW5nID0gXCJcIjtcblxuICBAcHJvcGVydHkoe2F0dHJpYnV0ZTogZmFsc2V9KVxuICB0ZXh0SW5wdXRFbGVtZW50OiBUZXh0SW5wdXQ7XG5cbiAgQHByb3BlcnR5KHthdHRyaWJ1dGU6IGZhbHNlfSlcbiAgYW5jaG9yRWxlbWVudDogSFRNTERpdkVsZW1lbnQ7XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBBcnJheX0pXG4gIG9wdGlvbnM6IGFueVtdID0gW107XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBTdHJpbmd9KVxuICBuYW1lOiBzdHJpbmcgPSBcIlwiO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogU3RyaW5nfSlcbiAgdmFsdWU6IHN0cmluZyA9IFwiXCI7XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBTdHJpbmd9KVxuICBjb21wbGV0aW9uc0VuZHBvaW50OiBzdHJpbmc7XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBTdHJpbmd9KVxuICBmdW5jdGlvbnNFbmRwb2ludDogc3RyaW5nO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogU3RyaW5nfSlcbiAgZmllbGRzRW5kcG9pbnQ6IHN0cmluZztcblxuICBAcHJvcGVydHkoe3R5cGU6IEJvb2xlYW59KVxuICB0ZXh0YXJlYTogYm9vbGVhbjtcblxuICBwcml2YXRlIGhpZGRlbkVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQ7XG4gIHByaXZhdGUgaW5wdXRFbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50O1xuICBwcml2YXRlIHF1ZXJ5OiBzdHJpbmc7XG4gIFxuICBwdWJsaWMgZmlyc3RVcGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzOiBNYXA8c3RyaW5nLCBhbnk+KSB7XG4gICAgdGhpcy50ZXh0SW5wdXRFbGVtZW50ID0gdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoXCJycC10ZXh0aW5wdXRcIikgYXMgVGV4dElucHV0O1xuICAgIHRoaXMuYW5jaG9yRWxlbWVudCA9IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKFwiI2FuY2hvclwiKTtcblxuICAgIC8vIFRPRE86IGZldGNoIHRoZXNlIG9uY2UgcGVyIHBhZ2UsIG5vdCBvbmNlIHBlciBjb250cm9sXG4gICAgaWYgKHRoaXMuY29tcGxldGlvbnNFbmRwb2ludCkge1xuICAgICAgZ2V0VXJsKHRoaXMuY29tcGxldGlvbnNFbmRwb2ludCkudGhlbigocmVzcG9uc2U6IEF4aW9zUmVzcG9uc2UpID0+IHtcbiAgICAgICAgdGhpcy5zY2hlbWEgPSByZXNwb25zZS5kYXRhIGFzIENvbXBsZXRpb25TY2hlbWE7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5mdW5jdGlvbnNFbmRwb2ludCkge1xuICAgICAgZ2V0VXJsKHRoaXMuZnVuY3Rpb25zRW5kcG9pbnQpLnRoZW4oKHJlc3BvbnNlOiBBeGlvc1Jlc3BvbnNlKSA9PiB7XG4gICAgICAgIHRoaXMuZnVuY3Rpb25zID0gcmVzcG9uc2UuZGF0YSBhcyBDb21wbGV0aW9uT3B0aW9uW107XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5maWVsZHNFbmRwb2ludCkge1xuICAgICAgZ2V0QXNzZXRzKHRoaXMuZmllbGRzRW5kcG9pbnQpLnRoZW4oKGFzc2V0czogQXNzZXRbXSk9PntcbiAgICAgICAgdGhpcy5rZXllZEFzc2V0cyA9IHsgZmllbGRzOiBhc3NldHMubWFwKChhc3NldDogQXNzZXQpPT4gYXNzZXQua2V5ICkgfVxuICAgICAgfSk7ICAgICAgXG4gICAgfVxuXG4gICAgLy8gY3JlYXRlIG91ciBoaWRkZW4gY29udGFpbmVyIHNvIGl0IGdldHMgaW5jbHVkZWQgaW4gb3VyIGhvc3QgZWxlbWVudCdzIGZvcm1cbiAgICB0aGlzLmhpZGRlbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgdGhpcy5oaWRkZW5FbGVtZW50LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJoaWRkZW5cIik7XG4gICAgdGhpcy5oaWRkZW5FbGVtZW50LnNldEF0dHJpYnV0ZShcIm5hbWVcIiwgdGhpcy5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpKTtcbiAgICB0aGlzLmhpZGRlbkVsZW1lbnQuc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgdGhpcy5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSB8fCBcIlwiKTtcbiAgICB0aGlzLmFwcGVuZENoaWxkKHRoaXMuaGlkZGVuRWxlbWVudCk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUtleVVwKGV2dDogS2V5Ym9hcmRFdmVudCkge1xuXG4gICAgLy8gaWYgd2UgaGF2ZSBvcHRpb25zLCBpZ25vcmUga2V5cyB0aGF0IGFyZSBtZWFudCBmb3IgdGhlbVxuICAgIGlmICh0aGlzLm9wdGlvbnMubGVuZ3RoID4gMCkge1xuXG4gICAgICBpZihldnQua2V5ID09PSBcIkFycm93VXBcIiB8fCBldnQua2V5ID09PSBcIkFycm93RG93blwiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGV2dC5jdHJsS2V5KSB7XG4gICAgICAgIGlmIChldnQua2V5ID09PSBcIm5cIiB8fCBldnQua2V5ID09PSBcInBcIikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZihldnQua2V5ID09PSBcIkVudGVyXCIgfHwgZXZ0LmtleSA9PT0gXCJFc2NhcGVcIiB8fCBldnQua2V5ID09PSBcIlRhYlwiIHx8IGV2dC5rZXkuc3RhcnRzV2l0aChcIkNvbnRyb2xcIikpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmV4ZWN1dGVRdWVyeShldnQuY3VycmVudFRhcmdldCBhcyBUZXh0SW5wdXQpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlQ2xpY2soZXZ0OiBNb3VzZUV2ZW50KSB7XG4gICAgdGhpcy5leGVjdXRlUXVlcnkoZXZ0LmN1cnJlbnRUYXJnZXQgYXMgVGV4dElucHV0KVxuICB9XG5cbiAgLyoqXG4gICAqIGhhbmRsZSB0aGUgdXNlciBtb3ZpbmcgdGhlIGNhcmV0IHRvIGEgbmV3IGxvY2F0aW9uXG4gICAqL1xuICBwcml2YXRlIGV4ZWN1dGVRdWVyeShlbGU6IFRleHRJbnB1dCkge1xuICAgIHRoaXMuaW5wdXRFbGVtZW50ID0gZWxlLmlucHV0RWxlbWVudDtcbiAgICB0aGlzLmN1cnJlbnRGdW5jdGlvbiA9IG51bGw7XG5cbiAgICBpZiAodGhpcy5zY2hlbWEpIHtcbiAgICAgIGNvbnN0IGN1cnNvciA9IGVsZS5pbnB1dEVsZW1lbnQuc2VsZWN0aW9uU3RhcnQ7XG4gICAgICBjb25zdCBpbnB1dCA9IGVsZS5pbnB1dEVsZW1lbnQudmFsdWUuc3Vic3RyaW5nKDAsIGN1cnNvcik7XG4gICAgICBjb25zdCBleHByZXNzaW9ucyA9IENvbXBsZXRpb24ucGFyc2VyLmZpbmRFeHByZXNzaW9ucyhpbnB1dCk7XG4gICAgICBjb25zdCBjdXJyZW50RXhwcmVzc2lvbiA9IGV4cHJlc3Npb25zLmZpbmQoKGV4cHI6IEV4cHJlc3Npb24pPT5leHByLnN0YXJ0IDw9IGN1cnNvciAmJiAoZXhwci5lbmQgPiBjdXJzb3IgfHwgZXhwci5lbmQgPT09IGN1cnNvciAmJiAhZXhwci5jbG9zZWQpKTtcblxuICAgICAgaWYgKGN1cnJlbnRFeHByZXNzaW9uKSB7XG4gICAgICAgIGNvbnN0IGluY2x1ZGVGdW5jdGlvbnMgPSBjdXJyZW50RXhwcmVzc2lvbi50ZXh0LmluZGV4T2YoJygnKSA+IC0xO1xuICAgICAgICBpZiAoaW5jbHVkZUZ1bmN0aW9ucykge1xuICAgICAgICAgIGNvbnN0IGZ1bmN0aW9uUXVlcnkgPSBDb21wbGV0aW9uLnBhcnNlci5mdW5jdGlvbkNvbnRleHQoY3VycmVudEV4cHJlc3Npb24udGV4dCk7XG4gICAgICAgICAgaWYgKGZ1bmN0aW9uUXVlcnkpIHtcbiAgICAgICAgICAgIGNvbnN0IGZucyA9IGdldEZ1bmN0aW9ucyh0aGlzLmZ1bmN0aW9ucywgZnVuY3Rpb25RdWVyeSk7XG4gICAgICAgICAgICBpZiAoZm5zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgdGhpcy5jdXJyZW50RnVuY3Rpb24gPSBmbnNbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBcbiAgICAgICAgZm9yIChsZXQgaSA9IGN1cnJlbnRFeHByZXNzaW9uLnRleHQubGVuZ3RoOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIGNvbnN0IGN1cnIgPSBjdXJyZW50RXhwcmVzc2lvbi50ZXh0W2ldO1xuICAgICAgICAgIGlmIChjdXJyID09PSAnQCcgfHwgY3VyciA9PT0gJygnIHx8IGN1cnIgPT09ICcgJyB8fCBjdXJyID09PSAnLCcgfHwgY3VyciA9PT0gJyknIHx8IGkgPT09IDApIHtcbiAgICAgICAgICAgIC8vIGRvbid0IGluY2x1ZGUgbm9uLWV4cHJlc3Npb24gY2hhcnNcbiAgICAgICAgICAgIGlmIChjdXJyID09PSAnKCcgfHwgY3VyciA9PT0gJyAnIHx8IGN1cnIgPT09ICcsJyB8fCBjdXJyID09PSAnKScgfHwgY3VyciA9PT0gJ0AnKSB7XG4gICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGNhcmV0ID0gZ2V0Q2FyZXRDb29yZGluYXRlcyhlbGUuaW5wdXRFbGVtZW50LCBjdXJyZW50RXhwcmVzc2lvbi5zdGFydCArIGkpO1xuICAgICAgICAgICAgdGhpcy5hbmNob3JQb3NpdGlvbiA9IHtcbiAgICAgICAgICAgICAgIGxlZnQ6IGNhcmV0LmxlZnQgLSAyIC0gdGhpcy5pbnB1dEVsZW1lbnQuc2Nyb2xsTGVmdCxcbiAgICAgICAgICAgICAgIHRvcDogY2FyZXQudG9wIC0gdGhpcy5pbnB1dEVsZW1lbnQuc2Nyb2xsVG9wXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucXVlcnkgPSBjdXJyZW50RXhwcmVzc2lvbi50ZXh0LnN1YnN0cihpLCBjdXJyZW50RXhwcmVzc2lvbi50ZXh0Lmxlbmd0aCAtIGkpO1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gW1xuICAgICAgICAgICAgICAuLi5nZXRDb21wbGV0aW9ucyh0aGlzLnNjaGVtYSwgdGhpcy5xdWVyeSwgdGhpcy5rZXllZEFzc2V0cyksXG4gICAgICAgICAgICAgIC4uLihpbmNsdWRlRnVuY3Rpb25zID8gZ2V0RnVuY3Rpb25zKHRoaXMuZnVuY3Rpb25zLCB0aGlzLnF1ZXJ5KSA6IFtdKVxuICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gW107XG4gICAgICAgIHRoaXMucXVlcnkgPSBcIlwiO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBcbiAgcHVibGljIHVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXM6IE1hcDxzdHJpbmcsIGFueT4pIHtcbiAgICBzdXBlci51cGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzKTtcblxuICAgIC8vIGlmIG91ciBjdXJzb3IgY2hhbmdlZCwgbGV0cyBtYWtlIHN1cmUgb3VyIHNjcm9sbGJveCBpcyBzaG93aW5nIGl0XG4gICAgaWYoY2hhbmdlZFByb3BlcnRpZXMuaGFzKFwidmFsdWVcIikpIHtcbiAgICAgIHRoaXMuaGlkZGVuRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCB0aGlzLnZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUlucHV0KGV2dDogS2V5Ym9hcmRFdmVudCkge1xuICAgIGNvbnN0IGVsZSA9IGV2dC5jdXJyZW50VGFyZ2V0IGFzIFRleHRJbnB1dDtcbiAgICB0aGlzLmV4ZWN1dGVRdWVyeShlbGUpO1xuICAgIHRoaXMudmFsdWUgPSBlbGUuaW5wdXRFbGVtZW50LnZhbHVlO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVPcHRpb25DYW5jZWxlZChldnQ6IEN1c3RvbUV2ZW50KSB7XG4gICAgdGhpcy5vcHRpb25zID0gW107XG4gICAgdGhpcy5xdWVyeSA9IFwiXCI7XG4gIH1cbiAgXG4gIHByaXZhdGUgaGFuZGxlT3B0aW9uU2VsZWN0aW9uKGV2dDogQ3VzdG9tRXZlbnQpIHtcbiAgICBjb25zdCBvcHRpb24gPSBldnQuZGV0YWlsLnNlbGVjdGVkIGFzIENvbXBsZXRpb25PcHRpb247XG4gICAgY29uc3QgdGFiYmVkID0gZXZ0LmRldGFpbC50YWJiZWQ7XG5cbiAgICBsZXQgaW5zZXJ0VGV4dCA9IFwiXCI7XG4gICAgXG4gICAgaWYgKG9wdGlvbi5zaWduYXR1cmUpIHtcbiAgICAgIC8vIHRoZXkgc2VsZWN0ZWQgYSBmdW5jdGlvblxuICAgICAgaW5zZXJ0VGV4dCA9IG9wdGlvbi5zaWduYXR1cmUuc3Vic3RyKDAsIG9wdGlvbi5zaWduYXR1cmUuaW5kZXhPZihcIihcIikgKyAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5zZXJ0VGV4dCA9IG9wdGlvbi5uYW1lO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmlucHV0RWxlbWVudCkge1xuICAgICAgbGV0IHZhbHVlID0gdGhpcy5pbnB1dEVsZW1lbnQudmFsdWU7XG4gICAgICBjb25zdCBpbnNlcnRpb25Qb2ludCA9IHRoaXMuaW5wdXRFbGVtZW50LnNlbGVjdGlvblN0YXJ0IC0gdGhpcy5xdWVyeS5sZW5ndGg7XG4gICAgICBcbiAgICAgIC8vIHN0cmlwIG91dCBvdXIgcXVlcnlcbiAgICAgIC8vIGNvbnN0IGluc2VydGlvblBvaW50ID0gdmFsdWUubGFzdEluZGV4T2YodmFsdWUuc3Vic3RyaW5nKDAsIHRoaXMuaW5wdXRFbGVtZW50LnNlbGVjdGlvblN0YXJ0KSk7XG4gICAgICBjb25zdCBsZWZ0U2lkZSA9IHZhbHVlLnN1YnN0cigwLCBpbnNlcnRpb25Qb2ludCk7XG4gICAgICBjb25zdCByZW1haW5pbmcgPSB2YWx1ZS5zdWJzdHIoaW5zZXJ0aW9uUG9pbnQgKyB0aGlzLnF1ZXJ5Lmxlbmd0aCk7XG4gICAgICBjb25zdCBjYXJldCA9IGxlZnRTaWRlLmxlbmd0aCArIGluc2VydFRleHQubGVuZ3RoO1xuXG4gICAgICAvLyBzZXQgb3VyIHZhbHVlIGFuZCBvdXIgbmV3IGNhcmV0XG4gICAgICB0aGlzLmlucHV0RWxlbWVudC52YWx1ZSA9IGxlZnRTaWRlICsgaW5zZXJ0VGV4dCArIHJlbWFpbmluZztcbiAgICAgIHRoaXMuaW5wdXRFbGVtZW50LnNldFNlbGVjdGlvblJhbmdlKGNhcmV0LCBjYXJldCk7XG5cbiAgICAgIC8vIG5vdyBzY3JvbGwgb3VyIHRleHQgYm94IGlmIG5lY2Vzc2FyeVxuICAgICAgY29uc3QgcG9zaXRpb24gPSBnZXRDYXJldENvb3JkaW5hdGVzKHRoaXMuaW5wdXRFbGVtZW50LCBjYXJldCk7XG4gICAgICBpZiAocG9zaXRpb24ubGVmdCA+IHRoaXMuaW5wdXRFbGVtZW50LndpZHRoKSB7XG4gICAgICAgIHRoaXMuaW5wdXRFbGVtZW50LnNjcm9sbExlZnQgPSBwb3NpdGlvbi5sZWZ0O1xuICAgICAgfVxuXG4gICAgfVxuXG4gICAgdGhpcy5xdWVyeSA9IFwiXCI7XG4gICAgdGhpcy5vcHRpb25zID0gW107XG4gICAgXG4gICAgaWYgKHRhYmJlZCkge1xuICAgICAgdGhpcy5leGVjdXRlUXVlcnkodGhpcy50ZXh0SW5wdXRFbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlbmRlckNvbXBsZXRpb25PcHRpb24ob3B0aW9uOiBDb21wbGV0aW9uT3B0aW9uLCBzZWxlY3RlZDogYm9vbGVhbikge1xuICAgIGlmKG9wdGlvbi5zaWduYXR1cmUpIHtcblxuICAgICAgY29uc3QgYXJnU3RhcnQgPSBvcHRpb24uc2lnbmF0dXJlLmluZGV4T2YoXCIoXCIpXG4gICAgICBjb25zdCBuYW1lID0gb3B0aW9uLnNpZ25hdHVyZS5zdWJzdHIoMCwgYXJnU3RhcnQpO1xuICAgICAgY29uc3QgYXJncyA9IG9wdGlvbi5zaWduYXR1cmUuc3Vic3RyKGFyZ1N0YXJ0KTtcblxuICAgICAgcmV0dXJuIGh0bWxgXG4gICAgICAgIDxkaXYgc3R5bGU9XCIke3NlbGVjdGVkID8gJ2ZvbnQtd2VpZ2h0OiA0MDAnIDogJyd9XCI+XG4gICAgICAgICAgPGRpdiBzdHlsZT1cImRpc3BsYXk6aW5saW5lLWJsb2NrO1wiPsaSPC9kaXY+XG4gICAgICAgICAgPGRpdiBzdHlsZT1cImRpc3BsYXk6aW5saW5lLWJsb2NrXCI+JHtuYW1lfTwvZGl2PlxuICAgICAgICAgICR7c2VsZWN0ZWQgPyBodG1sYFxuICAgICAgICAgICAgPGRpdiBzdHlsZT1cImRpc3BsYXk6aW5saW5lLWJsb2NrOyBmb250LXdlaWdodDogMzAwOyBmb250LXNpemU6IDg1JVwiPiR7YXJnc308L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZXRhaWxcIj4ke21hcmtlZFJlbmRlcihvcHRpb24uc3VtbWFyeSl9PC9kaXY+XG4gICAgICAgICAgYCA6IG51bGx9XG4gICAgICAgIDwvZGl2PmA7XG4gICAgICB9XG5cbiAgICByZXR1cm4gaHRtbGBcbiAgICA8ZGl2PlxuICAgICAgPGRpdiBzdHlsZT1cIiR7c2VsZWN0ZWQgPyAnZm9udC13ZWlnaHQ6IDQwMCcgOiAnJ31cIj4ke29wdGlvbi5uYW1lfTwvZGl2PlxuICAgICAgJHtzZWxlY3RlZCA/IGh0bWxgPGRpdiBzdHlsZT1cImZvbnQtc2l6ZTogODUlXCI+JHtvcHRpb24uc3VtbWFyeX08L2Rpdj5gIDogbnVsbH1cbiAgICA8L2Rpdj5gXG4gIH1cblxuICBwdWJsaWMgcmVuZGVyKCk6IFRlbXBsYXRlUmVzdWx0IHtcblxuICAgIGNvbnN0IGFuY2hvclN0eWxlcyA9IHsgXG4gICAgICB0b3A6IGAke3RoaXMuYW5jaG9yUG9zaXRpb24udG9wfXB4YCxcbiAgICAgIGxlZnQ6IGAke3RoaXMuYW5jaG9yUG9zaXRpb24ubGVmdH1weGBcbiAgICB9XG5cbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxkaXYgY2xhc3M9XCJjb21wLWNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IGlkPVwiYW5jaG9yXCIgc3R5bGU9JHtzdHlsZU1hcChhbmNob3JTdHlsZXMpfT48L2Rpdj4gXG4gICAgICAgIDxycC10ZXh0aW5wdXQgXG4gICAgICAgICAgbmFtZT0ke3RoaXMubmFtZX1cbiAgICAgICAgICBwbGFjZWhvbGRlcj0ke3RoaXMucGxhY2Vob2xkZXJ9XG4gICAgICAgICAgQGtleXVwPSR7dGhpcy5oYW5kbGVLZXlVcH1cbiAgICAgICAgICBAY2xpY2s9JHt0aGlzLmhhbmRsZUNsaWNrfVxuICAgICAgICAgIEBpbnB1dD0ke3RoaXMuaGFuZGxlSW5wdXR9XG4gICAgICAgICAgLnZhbHVlPSR7dGhpcy52YWx1ZX1cbiAgICAgICAgICA/dGV4dGFyZWE9JHt0aGlzLnRleHRhcmVhfVxuICAgICAgICAgID5cbiAgICAgICAgPC9ycC10ZXh0aW5wdXQ+XG4gICAgICAgIDxycC1vcHRpb25zXG4gICAgICAgICAgQHJwLXNlbGVjdGlvbj0ke3RoaXMuaGFuZGxlT3B0aW9uU2VsZWN0aW9ufVxuICAgICAgICAgIEBycC1jYW5jZWxlZD0ke3RoaXMuaGFuZGxlT3B0aW9uQ2FuY2VsZWR9XG4gICAgICAgICAgLmFuY2hvclRvPSR7dGhpcy5hbmNob3JFbGVtZW50fVxuICAgICAgICAgIC5vcHRpb25zPSR7dGhpcy5vcHRpb25zfVxuICAgICAgICAgIC5yZW5kZXJPcHRpb249JHt0aGlzLnJlbmRlckNvbXBsZXRpb25PcHRpb259XG4gICAgICAgICAgP3Zpc2libGU9JHt0aGlzLm9wdGlvbnMubGVuZ3RoID4gMH1cbiAgICAgICAgPlxuICAgICAgICAgICR7dGhpcy5jdXJyZW50RnVuY3Rpb24gPyBodG1sYDxkaXYgY2xhc3M9XCJjdXJyZW50LWZuXCI+JHt0aGlzLnJlbmRlckNvbXBsZXRpb25PcHRpb24odGhpcy5jdXJyZW50RnVuY3Rpb24sIHRydWUpfTwvZGl2PmA6IG51bGx9XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZvb3RlclwiPlRhYiB0byBjb21wbGV0ZSwgZW50ZXIgdG8gc2VsZWN0PC9kaXY+XG4gICAgICAgIDwvcnAtb3B0aW9ucz5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gIH1cbn0iXSwic291cmNlUm9vdCI6IiJ9