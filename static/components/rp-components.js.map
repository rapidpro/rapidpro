{"version":3,"sources":["webpack://rp-components/webpack/universalModuleDefinition","webpack://rp-components/webpack/bootstrap","webpack://rp-components/./node_modules/axios/lib/utils.js","webpack://rp-components/./node_modules/axios/index.js","webpack://rp-components/./node_modules/axios/lib/defaults.js","webpack://rp-components/./node_modules/autosize/dist/autosize.js","webpack://rp-components/./node_modules/axios/lib/helpers/bind.js","webpack://rp-components/./node_modules/axios/lib/adapters/xhr.js","webpack://rp-components/./node_modules/axios/lib/core/createError.js","webpack://rp-components/./node_modules/axios/lib/cancel/isCancel.js","webpack://rp-components/./node_modules/axios/lib/cancel/Cancel.js","webpack://rp-components/./node_modules/axios/lib/axios.js","webpack://rp-components/./node_modules/is-buffer/index.js","webpack://rp-components/./node_modules/axios/lib/core/Axios.js","webpack://rp-components/./node_modules/process/browser.js","webpack://rp-components/./node_modules/axios/lib/helpers/normalizeHeaderName.js","webpack://rp-components/./node_modules/axios/lib/core/settle.js","webpack://rp-components/./node_modules/axios/lib/core/enhanceError.js","webpack://rp-components/./node_modules/axios/lib/helpers/buildURL.js","webpack://rp-components/./node_modules/axios/lib/helpers/parseHeaders.js","webpack://rp-components/./node_modules/axios/lib/helpers/isURLSameOrigin.js","webpack://rp-components/./node_modules/axios/lib/helpers/btoa.js","webpack://rp-components/./node_modules/axios/lib/helpers/cookies.js","webpack://rp-components/./node_modules/axios/lib/core/InterceptorManager.js","webpack://rp-components/./node_modules/axios/lib/core/dispatchRequest.js","webpack://rp-components/./node_modules/axios/lib/core/transformData.js","webpack://rp-components/./node_modules/axios/lib/helpers/isAbsoluteURL.js","webpack://rp-components/./node_modules/axios/lib/helpers/combineURLs.js","webpack://rp-components/./node_modules/axios/lib/cancel/CancelToken.js","webpack://rp-components/./node_modules/axios/lib/helpers/spread.js","webpack://rp-components/../src/lib/directive.ts","webpack://rp-components/../src/lib/dom.ts","webpack://rp-components/../src/lib/part.ts","webpack://rp-components/../src/lib/template.ts","webpack://rp-components/../src/lib/template-instance.ts","webpack://rp-components/../src/lib/template-result.ts","webpack://rp-components/../src/lib/parts.ts","webpack://rp-components/../src/lib/default-template-processor.ts","webpack://rp-components/../src/lib/template-factory.ts","webpack://rp-components/../src/lib/render.ts","webpack://rp-components/src/lit-html.ts","webpack://rp-components/../src/lib/modify-template.ts","webpack://rp-components/../src/lib/shady-render.ts","webpack://rp-components/../src/lib/updating-element.ts","webpack://rp-components/../src/lib/decorators.ts","webpack://rp-components/../src/lib/css-tag.ts","webpack://rp-components/src/lit-element.ts","webpack://rp-components/./src/utils/index.ts","webpack://rp-components/./src/aliaseditor/AliasEditor.ts","webpack://rp-components/./src/button/Button.ts","webpack://rp-components/./src/dialog/Dialog.ts","webpack://rp-components/./src/interfaces.ts","webpack://rp-components/./src/RapidElement.ts","webpack://rp-components/./src/options/Options.ts","webpack://rp-components/./src/select/Select.ts","webpack://rp-components/./src/textinput/TextInput.ts","webpack://rp-components/./src/completion/Completion.ts"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","isBuffer","toString","isArray","val","isObject","isFunction","forEach","obj","fn","length","isArrayBuffer","isFormData","FormData","isArrayBufferView","ArrayBuffer","isView","buffer","isString","isNumber","isUndefined","isDate","isFile","isBlob","isStream","pipe","isURLSearchParams","URLSearchParams","isStandardBrowserEnv","navigator","product","document","merge","result","assignValue","arguments","extend","a","b","thisArg","trim","str","replace","process","utils","normalizeHeaderName","DEFAULT_CONTENT_TYPE","Content-Type","setContentTypeIfUnset","headers","adapter","defaults","XMLHttpRequest","transformRequest","data","JSON","stringify","transformResponse","parse","e","timeout","xsrfCookieName","xsrfHeaderName","maxContentLength","validateStatus","status","common","Accept","method","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","undefined","keys","values","map","Map","has","indexOf","set","push","delete","index","splice","createEvent","Event","bubbles","evt","initEvent","assign","ta","nodeName","heightOffset","clientWidth","cachedHeight","pageResize","update","destroy","style","removeEventListener","height","resize","overflowY","overflowX","wordWrap","addEventListener","getComputedStyle","boxSizing","parseFloat","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth","isNaN","changeOverflow","width","offsetWidth","scrollHeight","overflows","el","arr","parentNode","Element","scrollTop","node","getParentOverflows","docTop","documentElement","styleHeight","Math","round","computed","actualHeight","offsetHeight","dispatchEvent","err","methods","autosize","options","Array","x","default","apply","args","settle","buildURL","parseHeaders","isURLSameOrigin","createError","btoa","config","Promise","resolve","reject","requestData","requestHeaders","request","loadEvent","xDomain","XDomainRequest","url","onprogress","ontimeout","auth","username","password","Authorization","open","toUpperCase","params","paramsSerializer","readyState","responseURL","responseHeaders","getAllResponseHeaders","response","responseType","responseText","statusText","onerror","cookies","xsrfValue","withCredentials","read","toLowerCase","setRequestHeader","onDownloadProgress","onUploadProgress","upload","cancelToken","promise","then","cancel","abort","send","enhanceError","message","code","error","Error","__CANCEL__","Cancel","this","Axios","createInstance","defaultConfig","context","instance","axios","instanceConfig","CancelToken","isCancel","all","promises","spread","constructor","readFloatLE","slice","isSlowBuffer","_isBuffer","InterceptorManager","dispatchRequest","interceptors","chain","interceptor","unshift","fulfilled","rejected","shift","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","concat","drainQueue","len","run","marker","runClearTimeout","Item","array","noop","nextTick","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","normalizedName","encode","encodeURIComponent","serializedParams","parts","v","toISOString","join","ignoreDuplicateOf","parsed","split","line","substr","originURL","msie","test","userAgent","urlParsingNode","createElement","resolveURL","href","setAttribute","protocol","host","search","hash","hostname","port","pathname","charAt","location","requestURL","chars","E","input","block","charCode","String","output","idx","charCodeAt","write","expires","path","domain","secure","cookie","Date","toGMTString","match","RegExp","decodeURIComponent","remove","now","handlers","use","eject","id","h","transformData","isAbsoluteURL","combineURLs","throwIfCancellationRequested","throwIfRequested","baseURL","reason","fns","relativeURL","executor","TypeError","resolvePromise","token","source","callback","directives","WeakMap","isDirective","isCEPolyfill","customElements","polyfillWrapFlushCallback","removeNodes","container","start","end","nextSibling","removeChild","noChange","nothing","random","nodeMarker","markerRegex","boundAttributeSuffix","Template","[object Object]","element","nodesToRemove","stack","walker","createTreeWalker","content","lastPartIndex","partIndex","strings","nextNode","nodeType","hasAttributes","attributes","count","endsWith","stringForPart","lastAttributeNameRegex","exec","attributeLookupName","attributeValue","getAttribute","removeAttribute","statics","type","tagName","currentNode","parent","lastIndex","insert","createMarker","createTextNode","insertBefore","previousSibling","pop","suffix","isTemplatePartActive","part","createComment","template_instance_TemplateInstance","template","processor","__parts","setValue","commit","fragment","cloneNode","importNode","nodeIndex","handleTextExpression","insertAfterNode","handleAttributeExpressions","adoptNode","upgrade","template_result_TemplateResult","html","isCommentBinding","commentOpen","lastIndexOf","attributeMatch","innerHTML","getHTML","isPrimitive","isIterable","iterator","AttributeCommitter","dirty","_createPart","parts_AttributePart","text","_getValue","committer","directive","parts_NodePart","__pendingValue","startNode","appendChild","endNode","ref","__insert","__commitText","__commitTemplateResult","Node","__commitNode","__commitIterable","clear","templateFactory","_clone","itemParts","itemPart","item","appendIntoPart","insertAfterPart","parts_BooleanAttributePart","PropertyCommitter","super","single","PropertyPart","eventOptionsSupported","capture","_e","parts_EventPart","eventName","eventContext","__boundHandleEvent","handleEvent","newListener","oldListener","shouldRemoveListener","passive","shouldAddListener","__options","getOptions","event","defaultTemplateProcessor","prefix","templateCache","templateCaches","stringsArray","keyString","getTemplateElement","render_parts","lit_html_html","_len","_key","walkerNodeFilter","removeNodesFromTemplate","modify_template_nextActiveIndexInTemplateParts","removeCount","nodesToRemoveInTemplate","currentRemovingNode","countNodes","getTemplateCacheKey","scopeName","compatibleShadyCSSVersion","ShadyCSS","prepareTemplateDom","console","warn","shadyTemplateFactory","cacheKey","TEMPLATE_TYPES","shadyRenderSet","Set","prepareTemplateStyles","renderedDOM","add","styles","querySelectorAll","condensedStyle","textContent","templates","from","removeStylesFromLitTemplates","refNode","insertCount","walkerIndex","insertNodeIntoTemplate","firstChild","querySelector","nativeShadow","removes","JSCompiler_renameProperty","prop","_obj","defaultConverter","Boolean","Number","notEqual","old","defaultPropertyDeclaration","attribute","converter","reflect","hasChanged","microtaskPromise","STATE_HAS_UPDATED","STATE_UPDATE_REQUESTED","STATE_IS_REFLECTING_TO_ATTRIBUTE","STATE_IS_REFLECTING_TO_PROPERTY","STATE_HAS_CONNECTED","UpdatingElement","HTMLElement","_updateState","_instanceProperties","_updatePromise","_hasConnectedResolver","_changedProperties","_reflectingProperties","initialize","observedAttributes","finalize","_classProperties","attr","_attributeNameForProperty","_attributeToPropertyMap","superProperties","getPrototypeOf","k","_ensureClassProperties","noAccessor","oldValue","_requestUpdate","configurable","finalized","superCtor","props","properties","propKeys","getOwnPropertyNames","getOwnPropertySymbols","createProperty","fromAttribute","toAttribute","_saveInstanceProperties","_v","_attributeToProperty","ctor","attrValue","_propertyValueToAttribute","propName","_propertyValueFromAttribute","shouldRequestUpdate","_valueHasChanged","_hasRequestedUpdate","_enqueueUpdate","updateComplete","previousUpdatePromise","res","rej","_hasConnected","performUpdate","hasUpdated","_applyInstanceProperties","shouldUpdate","changedProperties","_markUpdated","firstUpdated","updated","size","_propertyToAttribute","customElement","classOrDescriptor","clazz","legacyCustomElement","descriptor","kind","elements","standardCustomElement","standardProperty","placement","initializer","legacyProperty","proto","protoOrDescriptor","supportsAdoptingStyleSheets","Document","CSSStyleSheet","constructionToken","CSSResult","cssText","safeToken","styleSheet","_styleSheet","replaceSync","css","reduce","acc","textFromCSSResult","flattenStyles","flat","Infinity","arrayFlat","lit_element_LitElement","_styles","_getUniqueStyles","userStyles","reduceRight","renderRoot","createRenderRoot","ShadowRoot","adoptStyles","attachShadow","adoptedStyleSheets","_needsShimAdoptedStyleSheets","ScopingShim","prepareAdoptedCssText","localName","connectedCallback","styleElement","templateResult","render","hasRendered","needsScoping","firstScopeRender","renderContainer","createDocumentFragment","appendInto","getCookie","getUrl","csrf","X-CSRFToken","__decorate","decorators","target","desc","getOwnPropertyDescriptor","Reflect","decorate","AliasEditor","LitElement","AliasEditor_templateObject","newPath","feature","osm_id","osmId","hideAliasDialog","fetchFeature","getEndpoint","fireTextareaAutosize","shadowRoot","handleMapClicked","hovered","handlePlaceClicked","handleSearchSelection","selection","detail","selected","showAliasDialog","renderFeature","remainingPath","selectedFeature","clickable","has_children","level","renderedFeature","_templateObject2","aliases","alias","_templateObject3","_templateObject4","preventDefault","stopPropagation","renderedChildren","children","child","_templateObject5","editFeature","aliasDialog","getElementById","requestUpdate","endpoint","handleDialogClick","button","setProgress","payload","post","postUrl","renderOptionDetail","option","_templateObject6","_templateObject7","_templateObject8","_templateObject9","mapFeature","editFeatureId","editFeatureName","editFeatureAliases","_templateObject10","Button","Button_templateObject","progress","isProgress","handleKeyUp","click","Button_templateObject2","classNames","className","getClasses","primary","secondary","inProgessName","Dialog","primaryButtonName","cancelButtonName","inProgressName","Dialog_templateObject","inputs","focus","handleClick","currentTarget","onButtonClicked","getDocumentHeight","body","max","clientHeight","Dialog_templateObject2","Dialog_templateObject3","CustomEventType","RapidElement","getEventHandlers","handler","disconnectedCallback","fireEvent","CustomEvent","composed","Options","cursorIndex","Options_templateObject","focusedEle","scrollBox","scrollBoxHeight","getBoundingClientRect","focusedEleHeight","offsetTop","scrollTo","top","calculatePosition","renderOptionDefault","renderOptionName","renderOptionNameDefault","renderOptionDetailDefault","Options_templateObject2","Options_templateObject3","Options_templateObject4","Options_templateObject5","handleSelection","Selection","moveCursor","direction","newIndex","min","setCursor","CursorChanged","handleKeyDown","visible","ctrlKey","Canceled","optionsBounds","anchorTo","anchorBounds","topTop","bottom","innerHeight","pageYOffset","renderOption","Options_templateObject6","Options_templateObject7","Select","placeholder","quietMillis","Select_templateObject","blur","lastQuery","fetchOptions","query","complete","page","handleOptionSelection","fetching","filter","newResults","catch","handleBlur","handleFocus","ele","handleCancel","handleCursorChanged","anchorElement","Select_templateObject2","TextInput","TextInput_templateObject","log","TextInput_templateObject2","textarea","TextInput_templateObject3","TextInput_templateObject4","Completion","Completion_templateObject","Completion_templateObject2"],"mappings":"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","file":"rp-components.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"rp-components\"] = factory();\n\telse\n\t\troot[\"rp-components\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n","'use strict';\n\nvar bind = require('./helpers/bind');\nvar isBuffer = require('is-buffer');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && navigator.product === 'ReactNative') {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = merge(result[key], val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim\n};\n","module.exports = require('./lib/axios');","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","/*!\n\tautosize 4.0.2\n\tlicense: MIT\n\thttp://www.jacklmoore.com/autosize\n*/\n(function (global, factory) {\n\tif (typeof define === \"function\" && define.amd) {\n\t\tdefine(['module', 'exports'], factory);\n\t} else if (typeof exports !== \"undefined\") {\n\t\tfactory(module, exports);\n\t} else {\n\t\tvar mod = {\n\t\t\texports: {}\n\t\t};\n\t\tfactory(mod, mod.exports);\n\t\tglobal.autosize = mod.exports;\n\t}\n})(this, function (module, exports) {\n\t'use strict';\n\n\tvar map = typeof Map === \"function\" ? new Map() : function () {\n\t\tvar keys = [];\n\t\tvar values = [];\n\n\t\treturn {\n\t\t\thas: function has(key) {\n\t\t\t\treturn keys.indexOf(key) > -1;\n\t\t\t},\n\t\t\tget: function get(key) {\n\t\t\t\treturn values[keys.indexOf(key)];\n\t\t\t},\n\t\t\tset: function set(key, value) {\n\t\t\t\tif (keys.indexOf(key) === -1) {\n\t\t\t\t\tkeys.push(key);\n\t\t\t\t\tvalues.push(value);\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelete: function _delete(key) {\n\t\t\t\tvar index = keys.indexOf(key);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tkeys.splice(index, 1);\n\t\t\t\t\tvalues.splice(index, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}();\n\n\tvar createEvent = function createEvent(name) {\n\t\treturn new Event(name, { bubbles: true });\n\t};\n\ttry {\n\t\tnew Event('test');\n\t} catch (e) {\n\t\t// IE does not support `new Event()`\n\t\tcreateEvent = function createEvent(name) {\n\t\t\tvar evt = document.createEvent('Event');\n\t\t\tevt.initEvent(name, true, false);\n\t\t\treturn evt;\n\t\t};\n\t}\n\n\tfunction assign(ta) {\n\t\tif (!ta || !ta.nodeName || ta.nodeName !== 'TEXTAREA' || map.has(ta)) return;\n\n\t\tvar heightOffset = null;\n\t\tvar clientWidth = null;\n\t\tvar cachedHeight = null;\n\n\t\tfunction init() {\n\t\t\tvar style = window.getComputedStyle(ta, null);\n\n\t\t\tif (style.resize === 'vertical') {\n\t\t\t\tta.style.resize = 'none';\n\t\t\t} else if (style.resize === 'both') {\n\t\t\t\tta.style.resize = 'horizontal';\n\t\t\t}\n\n\t\t\tif (style.boxSizing === 'content-box') {\n\t\t\t\theightOffset = -(parseFloat(style.paddingTop) + parseFloat(style.paddingBottom));\n\t\t\t} else {\n\t\t\t\theightOffset = parseFloat(style.borderTopWidth) + parseFloat(style.borderBottomWidth);\n\t\t\t}\n\t\t\t// Fix when a textarea is not on document body and heightOffset is Not a Number\n\t\t\tif (isNaN(heightOffset)) {\n\t\t\t\theightOffset = 0;\n\t\t\t}\n\n\t\t\tupdate();\n\t\t}\n\n\t\tfunction changeOverflow(value) {\n\t\t\t{\n\t\t\t\t// Chrome/Safari-specific fix:\n\t\t\t\t// When the textarea y-overflow is hidden, Chrome/Safari do not reflow the text to account for the space\n\t\t\t\t// made available by removing the scrollbar. The following forces the necessary text reflow.\n\t\t\t\tvar width = ta.style.width;\n\t\t\t\tta.style.width = '0px';\n\t\t\t\t// Force reflow:\n\t\t\t\t/* jshint ignore:start */\n\t\t\t\tta.offsetWidth;\n\t\t\t\t/* jshint ignore:end */\n\t\t\t\tta.style.width = width;\n\t\t\t}\n\n\t\t\tta.style.overflowY = value;\n\t\t}\n\n\t\tfunction getParentOverflows(el) {\n\t\t\tvar arr = [];\n\n\t\t\twhile (el && el.parentNode && el.parentNode instanceof Element) {\n\t\t\t\tif (el.parentNode.scrollTop) {\n\t\t\t\t\tarr.push({\n\t\t\t\t\t\tnode: el.parentNode,\n\t\t\t\t\t\tscrollTop: el.parentNode.scrollTop\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tel = el.parentNode;\n\t\t\t}\n\n\t\t\treturn arr;\n\t\t}\n\n\t\tfunction resize() {\n\t\t\tif (ta.scrollHeight === 0) {\n\t\t\t\t// If the scrollHeight is 0, then the element probably has display:none or is detached from the DOM.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar overflows = getParentOverflows(ta);\n\t\t\tvar docTop = document.documentElement && document.documentElement.scrollTop; // Needed for Mobile IE (ticket #240)\n\n\t\t\tta.style.height = '';\n\t\t\tta.style.height = ta.scrollHeight + heightOffset + 'px';\n\n\t\t\t// used to check if an update is actually necessary on window.resize\n\t\t\tclientWidth = ta.clientWidth;\n\n\t\t\t// prevents scroll-position jumping\n\t\t\toverflows.forEach(function (el) {\n\t\t\t\tel.node.scrollTop = el.scrollTop;\n\t\t\t});\n\n\t\t\tif (docTop) {\n\t\t\t\tdocument.documentElement.scrollTop = docTop;\n\t\t\t}\n\t\t}\n\n\t\tfunction update() {\n\t\t\tresize();\n\n\t\t\tvar styleHeight = Math.round(parseFloat(ta.style.height));\n\t\t\tvar computed = window.getComputedStyle(ta, null);\n\n\t\t\t// Using offsetHeight as a replacement for computed.height in IE, because IE does not account use of border-box\n\t\t\tvar actualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(computed.height)) : ta.offsetHeight;\n\n\t\t\t// The actual height not matching the style height (set via the resize method) indicates that \n\t\t\t// the max-height has been exceeded, in which case the overflow should be allowed.\n\t\t\tif (actualHeight < styleHeight) {\n\t\t\t\tif (computed.overflowY === 'hidden') {\n\t\t\t\t\tchangeOverflow('scroll');\n\t\t\t\t\tresize();\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Normally keep overflow set to hidden, to avoid flash of scrollbar as the textarea expands.\n\t\t\t\tif (computed.overflowY !== 'hidden') {\n\t\t\t\t\tchangeOverflow('hidden');\n\t\t\t\t\tresize();\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (cachedHeight !== actualHeight) {\n\t\t\t\tcachedHeight = actualHeight;\n\t\t\t\tvar evt = createEvent('autosize:resized');\n\t\t\t\ttry {\n\t\t\t\t\tta.dispatchEvent(evt);\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// Firefox will throw an error on dispatchEvent for a detached element\n\t\t\t\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=889376\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar pageResize = function pageResize() {\n\t\t\tif (ta.clientWidth !== clientWidth) {\n\t\t\t\tupdate();\n\t\t\t}\n\t\t};\n\n\t\tvar destroy = function (style) {\n\t\t\twindow.removeEventListener('resize', pageResize, false);\n\t\t\tta.removeEventListener('input', update, false);\n\t\t\tta.removeEventListener('keyup', update, false);\n\t\t\tta.removeEventListener('autosize:destroy', destroy, false);\n\t\t\tta.removeEventListener('autosize:update', update, false);\n\n\t\t\tObject.keys(style).forEach(function (key) {\n\t\t\t\tta.style[key] = style[key];\n\t\t\t});\n\n\t\t\tmap.delete(ta);\n\t\t}.bind(ta, {\n\t\t\theight: ta.style.height,\n\t\t\tresize: ta.style.resize,\n\t\t\toverflowY: ta.style.overflowY,\n\t\t\toverflowX: ta.style.overflowX,\n\t\t\twordWrap: ta.style.wordWrap\n\t\t});\n\n\t\tta.addEventListener('autosize:destroy', destroy, false);\n\n\t\t// IE9 does not fire onpropertychange or oninput for deletions,\n\t\t// so binding to onkeyup to catch most of those events.\n\t\t// There is no way that I know of to detect something like 'cut' in IE9.\n\t\tif ('onpropertychange' in ta && 'oninput' in ta) {\n\t\t\tta.addEventListener('keyup', update, false);\n\t\t}\n\n\t\twindow.addEventListener('resize', pageResize, false);\n\t\tta.addEventListener('input', update, false);\n\t\tta.addEventListener('autosize:update', update, false);\n\t\tta.style.overflowX = 'hidden';\n\t\tta.style.wordWrap = 'break-word';\n\n\t\tmap.set(ta, {\n\t\t\tdestroy: destroy,\n\t\t\tupdate: update\n\t\t});\n\n\t\tinit();\n\t}\n\n\tfunction destroy(ta) {\n\t\tvar methods = map.get(ta);\n\t\tif (methods) {\n\t\t\tmethods.destroy();\n\t\t}\n\t}\n\n\tfunction update(ta) {\n\t\tvar methods = map.get(ta);\n\t\tif (methods) {\n\t\t\tmethods.update();\n\t\t}\n\t}\n\n\tvar autosize = null;\n\n\t// Do nothing in Node.js environment and IE8 (or lower)\n\tif (typeof window === 'undefined' || typeof window.getComputedStyle !== 'function') {\n\t\tautosize = function autosize(el) {\n\t\t\treturn el;\n\t\t};\n\t\tautosize.destroy = function (el) {\n\t\t\treturn el;\n\t\t};\n\t\tautosize.update = function (el) {\n\t\t\treturn el;\n\t\t};\n\t} else {\n\t\tautosize = function autosize(el, options) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], function (x) {\n\t\t\t\t\treturn assign(x, options);\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t\tautosize.destroy = function (el) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], destroy);\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t\tautosize.update = function (el) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], update);\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t}\n\n\texports.default = autosize;\n\tmodule.exports = exports['default'];\n});","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildURL = require('./../helpers/buildURL');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\nvar btoa = (typeof window !== 'undefined' && window.btoa && window.btoa.bind(window)) || require('./../helpers/btoa');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n    var loadEvent = 'onreadystatechange';\n    var xDomain = false;\n\n    // For IE 8/9 CORS support\n    // Only supports POST and GET calls and doesn't returns the response headers.\n    // DON'T do this for testing b/c XMLHttpRequest is mocked, not XDomainRequest.\n    if (process.env.NODE_ENV !== 'test' &&\n        typeof window !== 'undefined' &&\n        window.XDomainRequest && !('withCredentials' in request) &&\n        !isURLSameOrigin(config.url)) {\n      request = new window.XDomainRequest();\n      loadEvent = 'onload';\n      xDomain = true;\n      request.onprogress = function handleProgress() {};\n      request.ontimeout = function handleTimeout() {};\n    }\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    request.open(config.method.toUpperCase(), buildURL(config.url, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request[loadEvent] = function handleLoad() {\n      if (!request || (request.readyState !== 4 && !xDomain)) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        // IE sends 1223 instead of 204 (https://github.com/axios/axios/issues/201)\n        status: request.status === 1223 ? 204 : request.status,\n        statusText: request.status === 1223 ? 'No Content' : request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      var cookies = require('./../helpers/cookies');\n\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(config.url)) && config.xsrfCookieName ?\n          cookies.read(config.xsrfCookieName) :\n          undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (config.withCredentials) {\n      request.withCredentials = true;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (requestData === undefined) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(utils.merge(defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","'use strict';\n\nvar defaults = require('./../defaults');\nvar utils = require('./../utils');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = utils.merge({\n      url: arguments[0]\n    }, arguments[1]);\n  }\n\n  config = utils.merge(defaults, {method: 'get'}, this.defaults, config);\n  config.method = config.method.toLowerCase();\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  // Note: status is not exposed by XDomainRequest\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n  error.request = request;\n  error.response = response;\n  return error;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%40/gi, '@').\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n  (function standardBrowserEnv() {\n    var msie = /(msie|trident)/i.test(navigator.userAgent);\n    var urlParsingNode = document.createElement('a');\n    var originURL;\n\n    /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n    function resolveURL(url) {\n      var href = url;\n\n      if (msie) {\n        // IE needs attribute set twice to normalize properties\n        urlParsingNode.setAttribute('href', href);\n        href = urlParsingNode.href;\n      }\n\n      urlParsingNode.setAttribute('href', href);\n\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n      return {\n        href: urlParsingNode.href,\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n        host: urlParsingNode.host,\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n        hostname: urlParsingNode.hostname,\n        port: urlParsingNode.port,\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n                  urlParsingNode.pathname :\n                  '/' + urlParsingNode.pathname\n      };\n    }\n\n    originURL = resolveURL(window.location.href);\n\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n    return function isURLSameOrigin(requestURL) {\n      var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n      return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n    };\n  })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n      return true;\n    };\n  })()\n);\n","'use strict';\n\n// btoa polyfill for IE<10 courtesy https://github.com/davidchambers/Base64.js\n\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\nfunction E() {\n  this.message = 'String contains an invalid character';\n}\nE.prototype = new Error;\nE.prototype.code = 5;\nE.prototype.name = 'InvalidCharacterError';\n\nfunction btoa(input) {\n  var str = String(input);\n  var output = '';\n  for (\n    // initialize result and counter\n    var block, charCode, idx = 0, map = chars;\n    // if the next str index does not exist:\n    //   change the mapping table to \"=\"\n    //   check if d has no fractional digits\n    str.charAt(idx | 0) || (map = '=', idx % 1);\n    // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n    output += map.charAt(63 & block >> 8 - idx % 1 * 8)\n  ) {\n    charCode = str.charCodeAt(idx += 3 / 4);\n    if (charCode > 0xFF) {\n      throw new E();\n    }\n    block = block << 8 | charCode;\n  }\n  return output;\n}\n\nmodule.exports = btoa;\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n  (function standardBrowserEnv() {\n    return {\n      write: function write(name, value, expires, path, domain, secure) {\n        var cookie = [];\n        cookie.push(name + '=' + encodeURIComponent(value));\n\n        if (utils.isNumber(expires)) {\n          cookie.push('expires=' + new Date(expires).toGMTString());\n        }\n\n        if (utils.isString(path)) {\n          cookie.push('path=' + path);\n        }\n\n        if (utils.isString(domain)) {\n          cookie.push('domain=' + domain);\n        }\n\n        if (secure === true) {\n          cookie.push('secure');\n        }\n\n        document.cookie = cookie.join('; ');\n      },\n\n      read: function read(name) {\n        var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n        return (match ? decodeURIComponent(match[3]) : null);\n      },\n\n      remove: function remove(name) {\n        this.write(name, '', Date.now() - 86400000);\n      }\n    };\n  })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return {\n      write: function write() {},\n      read: function read() { return null; },\n      remove: function remove() {}\n    };\n  })()\n);\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\nvar isAbsoluteURL = require('./../helpers/isAbsoluteURL');\nvar combineURLs = require('./../helpers/combineURLs');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Support baseURL config\n  if (config.baseURL && !isAbsoluteURL(config.url)) {\n    config.url = combineURLs(config.baseURL, config.url);\n  }\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers || {}\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {Part} from './part.js';\n\nconst directives = new WeakMap<object, true>();\n\n// tslint:disable-next-line:no-any\nexport type DirectiveFactory = (...args: any[]) => object;\n\nexport type DirectiveFn = (part: Part) => void;\n\n/**\n * Brands a function as a directive factory function so that lit-html will call\n * the function during template rendering, rather than passing as a value.\n *\n * A _directive_ is a function that takes a Part as an argument. It has the\n * signature: `(part: Part) => void`.\n *\n * A directive _factory_ is a function that takes arguments for data and\n * configuration and returns a directive. Users of directive usually refer to\n * the directive factory as the directive. For example, \"The repeat directive\".\n *\n * Usually a template author will invoke a directive factory in their template\n * with relevant arguments, which will then return a directive function.\n *\n * Here's an example of using the `repeat()` directive factory that takes an\n * array and a function to render an item:\n *\n * ```js\n * html`<ul><${repeat(items, (item) => html`<li>${item}</li>`)}</ul>`\n * ```\n *\n * When `repeat` is invoked, it returns a directive function that closes over\n * `items` and the template function. When the outer template is rendered, the\n * return directive function is called with the Part for the expression.\n * `repeat` then performs it's custom logic to render multiple items.\n *\n * @param f The directive factory function. Must be a function that returns a\n * function of the signature `(part: Part) => void`. The returned function will\n * be called with the part object.\n *\n * @example\n *\n * import {directive, html} from 'lit-html';\n *\n * const immutable = directive((v) => (part) => {\n *   if (part.value !== v) {\n *     part.setValue(v)\n *   }\n * });\n */\nexport const directive = <F extends DirectiveFactory>(f: F): F =>\n    ((...args: unknown[]) => {\n      const d = f(...args);\n      directives.set(d, true);\n      return d;\n    }) as F;\n\nexport const isDirective = (o: unknown): o is DirectiveFn => {\n  return typeof o === 'function' && directives.has(o);\n};\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\ninterface MaybePolyfilledCe extends CustomElementRegistry {\n  readonly polyfillWrapFlushCallback?: object;\n}\n\n/**\n * True if the custom elements polyfill is in use.\n */\nexport const isCEPolyfill = window.customElements !== undefined &&\n    (window.customElements as MaybePolyfilledCe).polyfillWrapFlushCallback !==\n        undefined;\n\n/**\n * Reparents nodes, starting from `start` (inclusive) to `end` (exclusive),\n * into another container (could be the same container), before `before`. If\n * `before` is null, it appends the nodes to the container.\n */\nexport const reparentNodes =\n    (container: Node,\n     start: Node|null,\n     end: Node|null = null,\n     before: Node|null = null): void => {\n      while (start !== end) {\n        const n = start!.nextSibling;\n        container.insertBefore(start!, before);\n        start = n;\n      }\n    };\n\n/**\n * Removes nodes, starting from `start` (inclusive) to `end` (exclusive), from\n * `container`.\n */\nexport const removeNodes =\n    (container: Node, start: Node|null, end: Node|null = null): void => {\n      while (start !== end) {\n        const n = start!.nextSibling;\n        container.removeChild(start!);\n        start = n;\n      }\n    };\n","/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\n/**\n * The Part interface represents a dynamic part of a template instance rendered\n * by lit-html.\n */\nexport interface Part {\n  readonly value: unknown;\n\n  /**\n   * Sets the current part value, but does not write it to the DOM.\n   * @param value The value that will be committed.\n   */\n  setValue(value: unknown): void;\n\n  /**\n   * Commits the current part value, causing it to actually be written to the\n   * DOM.\n   *\n   * Directives are run at the start of `commit`, so that if they call\n   * `part.setValue(...)` synchronously that value will be used in the current\n   * commit, and there's no need to call `part.commit()` within the directive.\n   * If directives set a part value asynchronously, then they must call\n   * `part.commit()` manually.\n   */\n  commit(): void;\n}\n\n/**\n * A sentinel value that signals that a value was handled by a directive and\n * should not be written to the DOM.\n */\nexport const noChange = {};\n\n/**\n * A sentinel value that signals a NodePart to fully clear its content.\n */\nexport const nothing = {};\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {TemplateResult} from './template-result.js';\n\n/**\n * An expression marker with embedded unique key to avoid collision with\n * possible text in templates.\n */\nexport const marker = `{{lit-${String(Math.random()).slice(2)}}}`;\n\n/**\n * An expression marker used text-positions, multi-binding attributes, and\n * attributes with markup-like text values.\n */\nexport const nodeMarker = `<!--${marker}-->`;\n\nexport const markerRegex = new RegExp(`${marker}|${nodeMarker}`);\n\n/**\n * Suffix appended to all bound attribute names.\n */\nexport const boundAttributeSuffix = '$lit$';\n\n/**\n * An updateable Template that tracks the location of dynamic parts.\n */\nexport class Template {\n  readonly parts: TemplatePart[] = [];\n  readonly element: HTMLTemplateElement;\n\n  constructor(result: TemplateResult, element: HTMLTemplateElement) {\n    this.element = element;\n\n    const nodesToRemove: Node[] = [];\n    const stack: Node[] = [];\n    // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n    const walker = document.createTreeWalker(\n        element.content,\n        133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */,\n        null,\n        false);\n    // Keeps track of the last index associated with a part. We try to delete\n    // unnecessary nodes, but we never want to associate two different parts\n    // to the same index. They must have a constant node between.\n    let lastPartIndex = 0;\n    let index = -1;\n    let partIndex = 0;\n    const {strings, values: {length}} = result;\n    while (partIndex < length) {\n      const node = walker.nextNode() as Element | Comment | Text | null;\n      if (node === null) {\n        // We've exhausted the content inside a nested template element.\n        // Because we still have parts (the outer for-loop), we know:\n        // - There is a template in the stack\n        // - The walker will find a nextNode outside the template\n        walker.currentNode = stack.pop()!;\n        continue;\n      }\n      index++;\n\n      if (node.nodeType === 1 /* Node.ELEMENT_NODE */) {\n        if ((node as Element).hasAttributes()) {\n          const attributes = (node as Element).attributes;\n          const {length} = attributes;\n          // Per\n          // https://developer.mozilla.org/en-US/docs/Web/API/NamedNodeMap,\n          // attributes are not guaranteed to be returned in document order.\n          // In particular, Edge/IE can return them out of order, so we cannot\n          // assume a correspondence between part index and attribute index.\n          let count = 0;\n          for (let i = 0; i < length; i++) {\n            if (endsWith(attributes[i].name, boundAttributeSuffix)) {\n              count++;\n            }\n          }\n          while (count-- > 0) {\n            // Get the template literal section leading up to the first\n            // expression in this attribute\n            const stringForPart = strings[partIndex];\n            // Find the attribute name\n            const name = lastAttributeNameRegex.exec(stringForPart)![2];\n            // Find the corresponding attribute\n            // All bound attributes have had a suffix added in\n            // TemplateResult#getHTML to opt out of special attribute\n            // handling. To look up the attribute value we also need to add\n            // the suffix.\n            const attributeLookupName =\n                name.toLowerCase() + boundAttributeSuffix;\n            const attributeValue =\n                (node as Element).getAttribute(attributeLookupName)!;\n            (node as Element).removeAttribute(attributeLookupName);\n            const statics = attributeValue.split(markerRegex);\n            this.parts.push({type: 'attribute', index, name, strings: statics});\n            partIndex += statics.length - 1;\n          }\n        }\n        if ((node as Element).tagName === 'TEMPLATE') {\n          stack.push(node);\n          walker.currentNode = (node as HTMLTemplateElement).content;\n        }\n      } else if (node.nodeType === 3 /* Node.TEXT_NODE */) {\n        const data = (node as Text).data;\n        if (data.indexOf(marker) >= 0) {\n          const parent = node.parentNode!;\n          const strings = data.split(markerRegex);\n          const lastIndex = strings.length - 1;\n          // Generate a new text node for each literal section\n          // These nodes are also used as the markers for node parts\n          for (let i = 0; i < lastIndex; i++) {\n            let insert: Node;\n            let s = strings[i];\n            if (s === '') {\n              insert = createMarker();\n            } else {\n              const match = lastAttributeNameRegex.exec(s);\n              if (match !== null && endsWith(match[2], boundAttributeSuffix)) {\n                s = s.slice(0, match.index) + match[1] +\n                    match[2].slice(0, -boundAttributeSuffix.length) + match[3];\n              }\n              insert = document.createTextNode(s);\n            }\n            parent.insertBefore(insert, node);\n            this.parts.push({type: 'node', index: ++index});\n          }\n          // If there's no text, we must insert a comment to mark our place.\n          // Else, we can trust it will stick around after cloning.\n          if (strings[lastIndex] === '') {\n            parent.insertBefore(createMarker(), node);\n            nodesToRemove.push(node);\n          } else {\n            (node as Text).data = strings[lastIndex];\n          }\n          // We have a part for each match found\n          partIndex += lastIndex;\n        }\n      } else if (node.nodeType === 8 /* Node.COMMENT_NODE */) {\n        if ((node as Comment).data === marker) {\n          const parent = node.parentNode!;\n          // Add a new marker node to be the startNode of the Part if any of\n          // the following are true:\n          //  * We don't have a previousSibling\n          //  * The previousSibling is already the start of a previous part\n          if (node.previousSibling === null || index === lastPartIndex) {\n            index++;\n            parent.insertBefore(createMarker(), node);\n          }\n          lastPartIndex = index;\n          this.parts.push({type: 'node', index});\n          // If we don't have a nextSibling, keep this node so we have an end.\n          // Else, we can remove it to save future costs.\n          if (node.nextSibling === null) {\n            (node as Comment).data = '';\n          } else {\n            nodesToRemove.push(node);\n            index--;\n          }\n          partIndex++;\n        } else {\n          let i = -1;\n          while ((i = (node as Comment).data.indexOf(marker, i + 1)) !== -1) {\n            // Comment node has a binding marker inside, make an inactive part\n            // The binding won't work, but subsequent bindings will\n            // TODO (justinfagnani): consider whether it's even worth it to\n            // make bindings in comments work\n            this.parts.push({type: 'node', index: -1});\n            partIndex++;\n          }\n        }\n      }\n    }\n\n    // Remove text binding nodes after the walk to not disturb the TreeWalker\n    for (const n of nodesToRemove) {\n      n.parentNode!.removeChild(n);\n    }\n  }\n}\n\nconst endsWith = (str: string, suffix: string): boolean => {\n  const index = str.length - suffix.length;\n  return index >= 0 && str.slice(index) === suffix;\n};\n\n/**\n * A placeholder for a dynamic expression in an HTML template.\n *\n * There are two built-in part types: AttributePart and NodePart. NodeParts\n * always represent a single dynamic expression, while AttributeParts may\n * represent as many expressions are contained in the attribute.\n *\n * A Template's parts are mutable, so parts can be replaced or modified\n * (possibly to implement different template semantics). The contract is that\n * parts can only be replaced, not removed, added or reordered, and parts must\n * always consume the correct number of values in their `update()` method.\n *\n * TODO(justinfagnani): That requirement is a little fragile. A\n * TemplateInstance could instead be more careful about which values it gives\n * to Part.update().\n */\nexport type TemplatePart = {\n  readonly type: 'node',\n  index: number\n}|{readonly type: 'attribute', index: number, readonly name: string, readonly strings: ReadonlyArray<string>};\n\nexport const isTemplatePartActive = (part: TemplatePart) => part.index !== -1;\n\n// Allows `document.createComment('')` to be renamed for a\n// small manual size-savings.\nexport const createMarker = () => document.createComment('');\n\n/**\n * This regex extracts the attribute name preceding an attribute-position\n * expression. It does this by matching the syntax allowed for attributes\n * against the string literal directly preceding the expression, assuming that\n * the expression is in an attribute-value position.\n *\n * See attributes in the HTML spec:\n * https://www.w3.org/TR/html5/syntax.html#elements-attributes\n *\n * \" \\x09\\x0a\\x0c\\x0d\" are HTML space characters:\n * https://www.w3.org/TR/html5/infrastructure.html#space-characters\n *\n * \"\\0-\\x1F\\x7F-\\x9F\" are Unicode control characters, which includes every\n * space character except \" \".\n *\n * So an attribute is:\n *  * The name: any character except a control character, space character, ('),\n *    (\"), \">\", \"=\", or \"/\"\n *  * Followed by zero or more space characters\n *  * Followed by \"=\"\n *  * Followed by zero or more space characters\n *  * Followed by:\n *    * Any character except space, ('), (\"), \"<\", \">\", \"=\", (`), or\n *    * (\") then any non-(\"), or\n *    * (') then any non-(')\n */\nexport const lastAttributeNameRegex =\n    /([ \\x09\\x0a\\x0c\\x0d])([^\\0-\\x1F\\x7F-\\x9F \"'>=/]+)([ \\x09\\x0a\\x0c\\x0d]*=[ \\x09\\x0a\\x0c\\x0d]*(?:[^ \\x09\\x0a\\x0c\\x0d\"'`<>=]*|\"[^\"]*|'[^']*))$/;\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {isCEPolyfill} from './dom.js';\nimport {Part} from './part.js';\nimport {RenderOptions} from './render-options.js';\nimport {TemplateProcessor} from './template-processor.js';\nimport {isTemplatePartActive, Template, TemplatePart} from './template.js';\n\n/**\n * An instance of a `Template` that can be attached to the DOM and updated\n * with new values.\n */\nexport class TemplateInstance {\n  private readonly __parts: Array<Part|undefined> = [];\n  readonly processor: TemplateProcessor;\n  readonly options: RenderOptions;\n  readonly template: Template;\n\n  constructor(\n      template: Template, processor: TemplateProcessor,\n      options: RenderOptions) {\n    this.template = template;\n    this.processor = processor;\n    this.options = options;\n  }\n\n  update(values: ReadonlyArray<unknown>) {\n    let i = 0;\n    for (const part of this.__parts) {\n      if (part !== undefined) {\n        part.setValue(values[i]);\n      }\n      i++;\n    }\n    for (const part of this.__parts) {\n      if (part !== undefined) {\n        part.commit();\n      }\n    }\n  }\n\n  _clone(): DocumentFragment {\n    // There are a number of steps in the lifecycle of a template instance's\n    // DOM fragment:\n    //  1. Clone - create the instance fragment\n    //  2. Adopt - adopt into the main document\n    //  3. Process - find part markers and create parts\n    //  4. Upgrade - upgrade custom elements\n    //  5. Update - set node, attribute, property, etc., values\n    //  6. Connect - connect to the document. Optional and outside of this\n    //     method.\n    //\n    // We have a few constraints on the ordering of these steps:\n    //  * We need to upgrade before updating, so that property values will pass\n    //    through any property setters.\n    //  * We would like to process before upgrading so that we're sure that the\n    //    cloned fragment is inert and not disturbed by self-modifying DOM.\n    //  * We want custom elements to upgrade even in disconnected fragments.\n    //\n    // Given these constraints, with full custom elements support we would\n    // prefer the order: Clone, Process, Adopt, Upgrade, Update, Connect\n    //\n    // But Safari dooes not implement CustomElementRegistry#upgrade, so we\n    // can not implement that order and still have upgrade-before-update and\n    // upgrade disconnected fragments. So we instead sacrifice the\n    // process-before-upgrade constraint, since in Custom Elements v1 elements\n    // must not modify their light DOM in the constructor. We still have issues\n    // when co-existing with CEv0 elements like Polymer 1, and with polyfills\n    // that don't strictly adhere to the no-modification rule because shadow\n    // DOM, which may be created in the constructor, is emulated by being placed\n    // in the light DOM.\n    //\n    // The resulting order is on native is: Clone, Adopt, Upgrade, Process,\n    // Update, Connect. document.importNode() performs Clone, Adopt, and Upgrade\n    // in one step.\n    //\n    // The Custom Elements v1 polyfill supports upgrade(), so the order when\n    // polyfilled is the more ideal: Clone, Process, Adopt, Upgrade, Update,\n    // Connect.\n\n    const fragment = isCEPolyfill ?\n        this.template.element.content.cloneNode(true) as DocumentFragment :\n        document.importNode(this.template.element.content, true);\n\n    const stack: Node[] = [];\n    const parts = this.template.parts;\n    // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n    const walker = document.createTreeWalker(\n        fragment,\n        133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */,\n        null,\n        false);\n    let partIndex = 0;\n    let nodeIndex = 0;\n    let part: TemplatePart;\n    let node = walker.nextNode();\n    // Loop through all the nodes and parts of a template\n    while (partIndex < parts.length) {\n      part = parts[partIndex];\n      if (!isTemplatePartActive(part)) {\n        this.__parts.push(undefined);\n        partIndex++;\n        continue;\n      }\n\n      // Progress the tree walker until we find our next part's node.\n      // Note that multiple parts may share the same node (attribute parts\n      // on a single element), so this loop may not run at all.\n      while (nodeIndex < part.index) {\n        nodeIndex++;\n        if (node!.nodeName === 'TEMPLATE') {\n          stack.push(node!);\n          walker.currentNode = (node as HTMLTemplateElement).content;\n        }\n        if ((node = walker.nextNode()) === null) {\n          // We've exhausted the content inside a nested template element.\n          // Because we still have parts (the outer for-loop), we know:\n          // - There is a template in the stack\n          // - The walker will find a nextNode outside the template\n          walker.currentNode = stack.pop()!;\n          node = walker.nextNode();\n        }\n      }\n\n      // We've arrived at our part's node.\n      if (part.type === 'node') {\n        const part = this.processor.handleTextExpression(this.options);\n        part.insertAfterNode(node!.previousSibling!);\n        this.__parts.push(part);\n      } else {\n        this.__parts.push(...this.processor.handleAttributeExpressions(\n            node as Element, part.name, part.strings, this.options));\n      }\n      partIndex++;\n    }\n\n    if (isCEPolyfill) {\n      document.adoptNode(fragment);\n      customElements.upgrade(fragment);\n    }\n    return fragment;\n  }\n}\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {reparentNodes} from './dom.js';\nimport {TemplateProcessor} from './template-processor.js';\nimport {boundAttributeSuffix, lastAttributeNameRegex, marker, nodeMarker} from './template.js';\n\n/**\n * The return type of `html`, which holds a Template and the values from\n * interpolated expressions.\n */\nexport class TemplateResult {\n  readonly strings: TemplateStringsArray;\n  readonly values: ReadonlyArray<unknown>;\n  readonly type: string;\n  readonly processor: TemplateProcessor;\n\n  constructor(\n      strings: TemplateStringsArray, values: ReadonlyArray<unknown>,\n      type: string, processor: TemplateProcessor) {\n    this.strings = strings;\n    this.values = values;\n    this.type = type;\n    this.processor = processor;\n  }\n\n  /**\n   * Returns a string of HTML used to create a `<template>` element.\n   */\n  getHTML(): string {\n    const l = this.strings.length - 1;\n    let html = '';\n    let isCommentBinding = false;\n\n    for (let i = 0; i < l; i++) {\n      const s = this.strings[i];\n      // For each binding we want to determine the kind of marker to insert\n      // into the template source before it's parsed by the browser's HTML\n      // parser. The marker type is based on whether the expression is in an\n      // attribute, text, or comment poisition.\n      //   * For node-position bindings we insert a comment with the marker\n      //     sentinel as its text content, like <!--{{lit-guid}}-->.\n      //   * For attribute bindings we insert just the marker sentinel for the\n      //     first binding, so that we support unquoted attribute bindings.\n      //     Subsequent bindings can use a comment marker because multi-binding\n      //     attributes must be quoted.\n      //   * For comment bindings we insert just the marker sentinel so we don't\n      //     close the comment.\n      //\n      // The following code scans the template source, but is *not* an HTML\n      // parser. We don't need to track the tree structure of the HTML, only\n      // whether a binding is inside a comment, and if not, if it appears to be\n      // the first binding in an attribute.\n      const commentOpen = s.lastIndexOf('<!--');\n      // We're in comment position if we have a comment open with no following\n      // comment close. Because <-- can appear in an attribute value there can\n      // be false positives.\n      isCommentBinding = (commentOpen > -1 || isCommentBinding) &&\n          s.indexOf('-->', commentOpen + 1) === -1;\n      // Check to see if we have an attribute-like sequence preceeding the\n      // expression. This can match \"name=value\" like structures in text,\n      // comments, and attribute values, so there can be false-positives.\n      const attributeMatch = lastAttributeNameRegex.exec(s);\n      if (attributeMatch === null) {\n        // We're only in this branch if we don't have a attribute-like\n        // preceeding sequence. For comments, this guards against unusual\n        // attribute values like <div foo=\"<!--${'bar'}\">. Cases like\n        // <!-- foo=${'bar'}--> are handled correctly in the attribute branch\n        // below.\n        html += s + (isCommentBinding ? marker : nodeMarker);\n      } else {\n        // For attributes we use just a marker sentinel, and also append a\n        // $lit$ suffix to the name to opt-out of attribute-specific parsing\n        // that IE and Edge do for style and certain SVG attributes.\n        html += s.substr(0, attributeMatch.index) + attributeMatch[1] +\n            attributeMatch[2] + boundAttributeSuffix + attributeMatch[3] +\n            marker;\n      }\n    }\n    html += this.strings[l];\n    return html;\n  }\n\n  getTemplateElement(): HTMLTemplateElement {\n    const template = document.createElement('template');\n    template.innerHTML = this.getHTML();\n    return template;\n  }\n}\n\n/**\n * A TemplateResult for SVG fragments.\n *\n * This class wraps HTML in an `<svg>` tag in order to parse its contents in the\n * SVG namespace, then modifies the template to remove the `<svg>` tag so that\n * clones only container the original fragment.\n */\nexport class SVGTemplateResult extends TemplateResult {\n  getHTML(): string {\n    return `<svg>${super.getHTML()}</svg>`;\n  }\n\n  getTemplateElement(): HTMLTemplateElement {\n    const template = super.getTemplateElement();\n    const content = template.content;\n    const svgElement = content.firstChild!;\n    content.removeChild(svgElement);\n    reparentNodes(content, svgElement.firstChild);\n    return template;\n  }\n}\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {isDirective} from './directive.js';\nimport {removeNodes} from './dom.js';\nimport {noChange, nothing, Part} from './part.js';\nimport {RenderOptions} from './render-options.js';\nimport {TemplateInstance} from './template-instance.js';\nimport {TemplateResult} from './template-result.js';\nimport {createMarker} from './template.js';\n\n// https://tc39.github.io/ecma262/#sec-typeof-operator\nexport type Primitive = null|undefined|boolean|number|string|Symbol|bigint;\nexport const isPrimitive = (value: unknown): value is Primitive => {\n  return (\n      value === null ||\n      !(typeof value === 'object' || typeof value === 'function'));\n};\nexport const isIterable = (value: unknown): value is Iterable<unknown> => {\n  return Array.isArray(value) ||\n      // tslint:disable-next-line:no-any\n      !!(value && (value as any)[Symbol.iterator]);\n};\n\n/**\n * Writes attribute values to the DOM for a group of AttributeParts bound to a\n * single attibute. The value is only set once even if there are multiple parts\n * for an attribute.\n */\nexport class AttributeCommitter {\n  readonly element: Element;\n  readonly name: string;\n  readonly strings: ReadonlyArray<string>;\n  readonly parts: ReadonlyArray<AttributePart>;\n  dirty = true;\n\n  constructor(element: Element, name: string, strings: ReadonlyArray<string>) {\n    this.element = element;\n    this.name = name;\n    this.strings = strings;\n    this.parts = [];\n    for (let i = 0; i < strings.length - 1; i++) {\n      (this.parts as AttributePart[])[i] = this._createPart();\n    }\n  }\n\n  /**\n   * Creates a single part. Override this to create a differnt type of part.\n   */\n  protected _createPart(): AttributePart {\n    return new AttributePart(this);\n  }\n\n  protected _getValue(): unknown {\n    const strings = this.strings;\n    const l = strings.length - 1;\n    let text = '';\n\n    for (let i = 0; i < l; i++) {\n      text += strings[i];\n      const part = this.parts[i];\n      if (part !== undefined) {\n        const v = part.value;\n        if (isPrimitive(v) || !isIterable(v)) {\n          text += typeof v === 'string' ? v : String(v);\n        } else {\n          for (const t of v) {\n            text += typeof t === 'string' ? t : String(t);\n          }\n        }\n      }\n    }\n\n    text += strings[l];\n    return text;\n  }\n\n  commit(): void {\n    if (this.dirty) {\n      this.dirty = false;\n      this.element.setAttribute(this.name, this._getValue() as string);\n    }\n  }\n}\n\n/**\n * A Part that controls all or part of an attribute value.\n */\nexport class AttributePart implements Part {\n  readonly committer: AttributeCommitter;\n  value: unknown = undefined;\n\n  constructor(committer: AttributeCommitter) {\n    this.committer = committer;\n  }\n\n  setValue(value: unknown): void {\n    if (value !== noChange && (!isPrimitive(value) || value !== this.value)) {\n      this.value = value;\n      // If the value is a not a directive, dirty the committer so that it'll\n      // call setAttribute. If the value is a directive, it'll dirty the\n      // committer if it calls setValue().\n      if (!isDirective(value)) {\n        this.committer.dirty = true;\n      }\n    }\n  }\n\n  commit() {\n    while (isDirective(this.value)) {\n      const directive = this.value;\n      this.value = noChange;\n      directive(this);\n    }\n    if (this.value === noChange) {\n      return;\n    }\n    this.committer.commit();\n  }\n}\n\n/**\n * A Part that controls a location within a Node tree. Like a Range, NodePart\n * has start and end locations and can set and update the Nodes between those\n * locations.\n *\n * NodeParts support several value types: primitives, Nodes, TemplateResults,\n * as well as arrays and iterables of those types.\n */\nexport class NodePart implements Part {\n  readonly options: RenderOptions;\n  startNode!: Node;\n  endNode!: Node;\n  value: unknown = undefined;\n  private __pendingValue: unknown = undefined;\n\n  constructor(options: RenderOptions) {\n    this.options = options;\n  }\n\n  /**\n   * Appends this part into a container.\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  appendInto(container: Node) {\n    this.startNode = container.appendChild(createMarker());\n    this.endNode = container.appendChild(createMarker());\n  }\n\n  /**\n   * Inserts this part after the `ref` node (between `ref` and `ref`'s next\n   * sibling). Both `ref` and its next sibling must be static, unchanging nodes\n   * such as those that appear in a literal section of a template.\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  insertAfterNode(ref: Node) {\n    this.startNode = ref;\n    this.endNode = ref.nextSibling!;\n  }\n\n  /**\n   * Appends this part into a parent part.\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  appendIntoPart(part: NodePart) {\n    part.__insert(this.startNode = createMarker());\n    part.__insert(this.endNode = createMarker());\n  }\n\n  /**\n   * Inserts this part after the `ref` part.\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  insertAfterPart(ref: NodePart) {\n    ref.__insert(this.startNode = createMarker());\n    this.endNode = ref.endNode;\n    ref.endNode = this.startNode;\n  }\n\n  setValue(value: unknown): void {\n    this.__pendingValue = value;\n  }\n\n  commit() {\n    while (isDirective(this.__pendingValue)) {\n      const directive = this.__pendingValue;\n      this.__pendingValue = noChange;\n      directive(this);\n    }\n    const value = this.__pendingValue;\n    if (value === noChange) {\n      return;\n    }\n    if (isPrimitive(value)) {\n      if (value !== this.value) {\n        this.__commitText(value);\n      }\n    } else if (value instanceof TemplateResult) {\n      this.__commitTemplateResult(value);\n    } else if (value instanceof Node) {\n      this.__commitNode(value);\n    } else if (isIterable(value)) {\n      this.__commitIterable(value);\n    } else if (value === nothing) {\n      this.value = nothing;\n      this.clear();\n    } else {\n      // Fallback, will render the string representation\n      this.__commitText(value);\n    }\n  }\n\n  private __insert(node: Node) {\n    this.endNode.parentNode!.insertBefore(node, this.endNode);\n  }\n\n  private __commitNode(value: Node): void {\n    if (this.value === value) {\n      return;\n    }\n    this.clear();\n    this.__insert(value);\n    this.value = value;\n  }\n\n  private __commitText(value: unknown): void {\n    const node = this.startNode.nextSibling!;\n    value = value == null ? '' : value;\n    if (node === this.endNode.previousSibling &&\n        node.nodeType === 3 /* Node.TEXT_NODE */) {\n      // If we only have a single text node between the markers, we can just\n      // set its value, rather than replacing it.\n      // TODO(justinfagnani): Can we just check if this.value is primitive?\n      (node as Text).data = value as string;\n    } else {\n      this.__commitNode(document.createTextNode(\n          typeof value === 'string' ? value : String(value)));\n    }\n    this.value = value;\n  }\n\n  private __commitTemplateResult(value: TemplateResult): void {\n    const template = this.options.templateFactory(value);\n    if (this.value instanceof TemplateInstance &&\n        this.value.template === template) {\n      this.value.update(value.values);\n    } else {\n      // Make sure we propagate the template processor from the TemplateResult\n      // so that we use its syntax extension, etc. The template factory comes\n      // from the render function options so that it can control template\n      // caching and preprocessing.\n      const instance =\n          new TemplateInstance(template, value.processor, this.options);\n      const fragment = instance._clone();\n      instance.update(value.values);\n      this.__commitNode(fragment);\n      this.value = instance;\n    }\n  }\n\n  private __commitIterable(value: Iterable<unknown>): void {\n    // For an Iterable, we create a new InstancePart per item, then set its\n    // value to the item. This is a little bit of overhead for every item in\n    // an Iterable, but it lets us recurse easily and efficiently update Arrays\n    // of TemplateResults that will be commonly returned from expressions like:\n    // array.map((i) => html`${i}`), by reusing existing TemplateInstances.\n\n    // If _value is an array, then the previous render was of an\n    // iterable and _value will contain the NodeParts from the previous\n    // render. If _value is not an array, clear this part and make a new\n    // array for NodeParts.\n    if (!Array.isArray(this.value)) {\n      this.value = [];\n      this.clear();\n    }\n\n    // Lets us keep track of how many items we stamped so we can clear leftover\n    // items from a previous render\n    const itemParts = this.value as NodePart[];\n    let partIndex = 0;\n    let itemPart: NodePart|undefined;\n\n    for (const item of value) {\n      // Try to reuse an existing part\n      itemPart = itemParts[partIndex];\n\n      // If no existing part, create a new one\n      if (itemPart === undefined) {\n        itemPart = new NodePart(this.options);\n        itemParts.push(itemPart);\n        if (partIndex === 0) {\n          itemPart.appendIntoPart(this);\n        } else {\n          itemPart.insertAfterPart(itemParts[partIndex - 1]);\n        }\n      }\n      itemPart.setValue(item);\n      itemPart.commit();\n      partIndex++;\n    }\n\n    if (partIndex < itemParts.length) {\n      // Truncate the parts array so _value reflects the current state\n      itemParts.length = partIndex;\n      this.clear(itemPart && itemPart.endNode);\n    }\n  }\n\n  clear(startNode: Node = this.startNode) {\n    removeNodes(\n        this.startNode.parentNode!, startNode.nextSibling!, this.endNode);\n  }\n}\n\n/**\n * Implements a boolean attribute, roughly as defined in the HTML\n * specification.\n *\n * If the value is truthy, then the attribute is present with a value of\n * ''. If the value is falsey, the attribute is removed.\n */\nexport class BooleanAttributePart implements Part {\n  readonly element: Element;\n  readonly name: string;\n  readonly strings: ReadonlyArray<string>;\n  value: unknown = undefined;\n  private __pendingValue: unknown = undefined;\n\n  constructor(element: Element, name: string, strings: ReadonlyArray<string>) {\n    if (strings.length !== 2 || strings[0] !== '' || strings[1] !== '') {\n      throw new Error(\n          'Boolean attributes can only contain a single expression');\n    }\n    this.element = element;\n    this.name = name;\n    this.strings = strings;\n  }\n\n  setValue(value: unknown): void {\n    this.__pendingValue = value;\n  }\n\n  commit() {\n    while (isDirective(this.__pendingValue)) {\n      const directive = this.__pendingValue;\n      this.__pendingValue = noChange;\n      directive(this);\n    }\n    if (this.__pendingValue === noChange) {\n      return;\n    }\n    const value = !!this.__pendingValue;\n    if (this.value !== value) {\n      if (value) {\n        this.element.setAttribute(this.name, '');\n      } else {\n        this.element.removeAttribute(this.name);\n      }\n      this.value = value;\n    }\n    this.__pendingValue = noChange;\n  }\n}\n\n/**\n * Sets attribute values for PropertyParts, so that the value is only set once\n * even if there are multiple parts for a property.\n *\n * If an expression controls the whole property value, then the value is simply\n * assigned to the property under control. If there are string literals or\n * multiple expressions, then the strings are expressions are interpolated into\n * a string first.\n */\nexport class PropertyCommitter extends AttributeCommitter {\n  readonly single: boolean;\n\n  constructor(element: Element, name: string, strings: ReadonlyArray<string>) {\n    super(element, name, strings);\n    this.single =\n        (strings.length === 2 && strings[0] === '' && strings[1] === '');\n  }\n\n  protected _createPart(): PropertyPart {\n    return new PropertyPart(this);\n  }\n\n  protected _getValue() {\n    if (this.single) {\n      return this.parts[0].value;\n    }\n    return super._getValue();\n  }\n\n  commit(): void {\n    if (this.dirty) {\n      this.dirty = false;\n      // tslint:disable-next-line:no-any\n      (this.element as any)[this.name] = this._getValue();\n    }\n  }\n}\n\nexport class PropertyPart extends AttributePart {}\n\n// Detect event listener options support. If the `capture` property is read\n// from the options object, then options are supported. If not, then the thrid\n// argument to add/removeEventListener is interpreted as the boolean capture\n// value so we should only pass the `capture` property.\nlet eventOptionsSupported = false;\n\ntry {\n  const options = {\n    get capture() {\n      eventOptionsSupported = true;\n      return false;\n    }\n  };\n  // tslint:disable-next-line:no-any\n  window.addEventListener('test', options as any, options);\n  // tslint:disable-next-line:no-any\n  window.removeEventListener('test', options as any, options);\n} catch (_e) {\n}\n\n\ntype EventHandlerWithOptions =\n    EventListenerOrEventListenerObject&Partial<AddEventListenerOptions>;\nexport class EventPart implements Part {\n  readonly element: Element;\n  readonly eventName: string;\n  readonly eventContext?: EventTarget;\n  value: undefined|EventHandlerWithOptions = undefined;\n  private __options?: AddEventListenerOptions;\n  private __pendingValue: undefined|EventHandlerWithOptions = undefined;\n  private readonly __boundHandleEvent: (event: Event) => void;\n\n  constructor(element: Element, eventName: string, eventContext?: EventTarget) {\n    this.element = element;\n    this.eventName = eventName;\n    this.eventContext = eventContext;\n    this.__boundHandleEvent = (e) => this.handleEvent(e);\n  }\n\n  setValue(value: undefined|EventHandlerWithOptions): void {\n    this.__pendingValue = value;\n  }\n\n  commit() {\n    while (isDirective(this.__pendingValue)) {\n      const directive = this.__pendingValue;\n      this.__pendingValue = noChange as EventHandlerWithOptions;\n      directive(this);\n    }\n    if (this.__pendingValue === noChange) {\n      return;\n    }\n\n    const newListener = this.__pendingValue;\n    const oldListener = this.value;\n    const shouldRemoveListener = newListener == null ||\n        oldListener != null &&\n            (newListener.capture !== oldListener.capture ||\n             newListener.once !== oldListener.once ||\n             newListener.passive !== oldListener.passive);\n    const shouldAddListener =\n        newListener != null && (oldListener == null || shouldRemoveListener);\n\n    if (shouldRemoveListener) {\n      this.element.removeEventListener(\n          this.eventName, this.__boundHandleEvent, this.__options);\n    }\n    if (shouldAddListener) {\n      this.__options = getOptions(newListener);\n      this.element.addEventListener(\n          this.eventName, this.__boundHandleEvent, this.__options);\n    }\n    this.value = newListener;\n    this.__pendingValue = noChange as EventHandlerWithOptions;\n  }\n\n  handleEvent(event: Event) {\n    if (typeof this.value === 'function') {\n      this.value.call(this.eventContext || this.element, event);\n    } else {\n      (this.value as EventListenerObject).handleEvent(event);\n    }\n  }\n}\n\n// We copy options because of the inconsistent behavior of browsers when reading\n// the third argument of add/removeEventListener. IE11 doesn't support options\n// at all. Chrome 41 only reads `capture` if the argument is an object.\nconst getOptions = (o: AddEventListenerOptions|undefined) => o &&\n    (eventOptionsSupported ?\n         {capture: o.capture, passive: o.passive, once: o.once} :\n         o.capture as AddEventListenerOptions);\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {Part} from './part.js';\nimport {AttributeCommitter, BooleanAttributePart, EventPart, NodePart, PropertyCommitter} from './parts.js';\nimport {RenderOptions} from './render-options.js';\nimport {TemplateProcessor} from './template-processor.js';\n\n/**\n * Creates Parts when a template is instantiated.\n */\nexport class DefaultTemplateProcessor implements TemplateProcessor {\n  /**\n   * Create parts for an attribute-position binding, given the event, attribute\n   * name, and string literals.\n   *\n   * @param element The element containing the binding\n   * @param name  The attribute name\n   * @param strings The string literals. There are always at least two strings,\n   *   event for fully-controlled bindings with a single expression.\n   */\n  handleAttributeExpressions(\n      element: Element, name: string, strings: string[],\n      options: RenderOptions): ReadonlyArray<Part> {\n    const prefix = name[0];\n    if (prefix === '.') {\n      const committer = new PropertyCommitter(element, name.slice(1), strings);\n      return committer.parts;\n    }\n    if (prefix === '@') {\n      return [new EventPart(element, name.slice(1), options.eventContext)];\n    }\n    if (prefix === '?') {\n      return [new BooleanAttributePart(element, name.slice(1), strings)];\n    }\n    const committer = new AttributeCommitter(element, name, strings);\n    return committer.parts;\n  }\n  /**\n   * Create parts for a text-position binding.\n   * @param templateFactory\n   */\n  handleTextExpression(options: RenderOptions) {\n    return new NodePart(options);\n  }\n}\n\nexport const defaultTemplateProcessor = new DefaultTemplateProcessor();\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {TemplateResult} from './template-result.js';\nimport {marker, Template} from './template.js';\n\n/**\n * A function type that creates a Template from a TemplateResult.\n *\n * This is a hook into the template-creation process for rendering that\n * requires some modification of templates before they're used, like ShadyCSS,\n * which must add classes to elements and remove styles.\n *\n * Templates should be cached as aggressively as possible, so that many\n * TemplateResults produced from the same expression only do the work of\n * creating the Template the first time.\n *\n * Templates are usually cached by TemplateResult.strings and\n * TemplateResult.type, but may be cached by other keys if this function\n * modifies the template.\n *\n * Note that currently TemplateFactories must not add, remove, or reorder\n * expressions, because there is no way to describe such a modification\n * to render() so that values are interpolated to the correct place in the\n * template instances.\n */\nexport type TemplateFactory = (result: TemplateResult) => Template;\n\n/**\n * The default TemplateFactory which caches Templates keyed on\n * result.type and result.strings.\n */\nexport function templateFactory(result: TemplateResult) {\n  let templateCache = templateCaches.get(result.type);\n  if (templateCache === undefined) {\n    templateCache = {\n      stringsArray: new WeakMap<TemplateStringsArray, Template>(),\n      keyString: new Map<string, Template>()\n    };\n    templateCaches.set(result.type, templateCache);\n  }\n\n  let template = templateCache.stringsArray.get(result.strings);\n  if (template !== undefined) {\n    return template;\n  }\n\n  // If the TemplateStringsArray is new, generate a key from the strings\n  // This key is shared between all templates with identical content\n  const key = result.strings.join(marker);\n\n  // Check if we already have a Template for this key\n  template = templateCache.keyString.get(key);\n  if (template === undefined) {\n    // If we have not seen this key before, create a new Template\n    template = new Template(result, result.getTemplateElement());\n    // Cache the Template for this key\n    templateCache.keyString.set(key, template);\n  }\n\n  // Cache all future queries for this TemplateStringsArray\n  templateCache.stringsArray.set(result.strings, template);\n  return template;\n}\n\n/**\n * The first argument to JS template tags retain identity across multiple\n * calls to a tag for the same literal, so we can cache work done per literal\n * in a Map.\n *\n * Safari currently has a bug which occasionally breaks this behaviour, so we\n * need to cache the Template at two levels. We first cache the\n * TemplateStringsArray, and if that fails, we cache a key constructed by\n * joining the strings array.\n */\nexport type templateCache = {\n  readonly stringsArray: WeakMap<TemplateStringsArray, Template>; //\n  readonly keyString: Map<string, Template>;\n};\n\nexport const templateCaches = new Map<string, templateCache>();\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {removeNodes} from './dom.js';\nimport {NodePart} from './parts.js';\nimport {RenderOptions} from './render-options.js';\nimport {templateFactory} from './template-factory.js';\nimport {TemplateResult} from './template-result.js';\n\nexport const parts = new WeakMap<Node, NodePart>();\n\n/**\n * Renders a template to a container.\n *\n * To update a container with new values, reevaluate the template literal and\n * call `render` with the new result.\n *\n * @param result a TemplateResult created by evaluating a template tag like\n *     `html` or `svg`.\n * @param container A DOM parent to render to. The entire contents are either\n *     replaced, or efficiently updated if the same result type was previous\n *     rendered there.\n * @param options RenderOptions for the entire render tree rendered to this\n *     container. Render options must *not* change between renders to the same\n *     container, as those changes will not effect previously rendered DOM.\n */\nexport const render =\n    (result: TemplateResult,\n     container: Element|DocumentFragment,\n     options?: Partial<RenderOptions>) => {\n      let part = parts.get(container);\n      if (part === undefined) {\n        removeNodes(container, container.firstChild);\n        parts.set(container, part = new NodePart({\n                               templateFactory,\n                               ...options,\n                             }));\n        part.appendInto(container);\n      }\n      part.setValue(result);\n      part.commit();\n    };\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n *\n * Main lit-html module.\n *\n * Main exports:\n *\n * -  [[html]]\n * -  [[svg]]\n * -  [[render]]\n *\n * @module lit-html\n * @preferred\n */\n\n/**\n * Do not remove this comment; it keeps typedoc from misplacing the module\n * docs.\n */\nimport {defaultTemplateProcessor} from './lib/default-template-processor.js';\nimport {SVGTemplateResult, TemplateResult} from './lib/template-result.js';\n\nexport {DefaultTemplateProcessor, defaultTemplateProcessor} from './lib/default-template-processor.js';\nexport {directive, DirectiveFn, isDirective} from './lib/directive.js';\n// TODO(justinfagnani): remove line when we get NodePart moving methods\nexport {removeNodes, reparentNodes} from './lib/dom.js';\nexport {noChange, nothing, Part} from './lib/part.js';\nexport {AttributeCommitter, AttributePart, BooleanAttributePart, EventPart, isIterable, isPrimitive, NodePart, PropertyCommitter, PropertyPart} from './lib/parts.js';\nexport {RenderOptions} from './lib/render-options.js';\nexport {parts, render} from './lib/render.js';\nexport {templateCaches, templateFactory} from './lib/template-factory.js';\nexport {TemplateInstance} from './lib/template-instance.js';\nexport {TemplateProcessor} from './lib/template-processor.js';\nexport {SVGTemplateResult, TemplateResult} from './lib/template-result.js';\nexport {createMarker, isTemplatePartActive, Template} from './lib/template.js';\n\ndeclare global {\n  interface Window {\n    litHtmlVersions: string[];\n  }\n}\n\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for lit-html usage.\n// TODO(justinfagnani): inject version number at build time\n(window['litHtmlVersions'] || (window['litHtmlVersions'] = [])).push('1.0.0');\n\n/**\n * Interprets a template literal as an HTML template that can efficiently\n * render to and update a container.\n */\nexport const html = (strings: TemplateStringsArray, ...values: unknown[]) =>\n    new TemplateResult(strings, values, 'html', defaultTemplateProcessor);\n\n/**\n * Interprets a template literal as an SVG template that can efficiently\n * render to and update a container.\n */\nexport const svg = (strings: TemplateStringsArray, ...values: unknown[]) =>\n    new SVGTemplateResult(strings, values, 'svg', defaultTemplateProcessor);\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module shady-render\n */\n\nimport {isTemplatePartActive, Template, TemplatePart} from './template.js';\n\nconst walkerNodeFilter = 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */;\n\n/**\n * Removes the list of nodes from a Template safely. In addition to removing\n * nodes from the Template, the Template part indices are updated to match\n * the mutated Template DOM.\n *\n * As the template is walked the removal state is tracked and\n * part indices are adjusted as needed.\n *\n * div\n *   div#1 (remove) <-- start removing (removing node is div#1)\n *     div\n *       div#2 (remove)  <-- continue removing (removing node is still div#1)\n *         div\n * div <-- stop removing since previous sibling is the removing node (div#1,\n * removed 4 nodes)\n */\nexport function removeNodesFromTemplate(\n    template: Template, nodesToRemove: Set<Node>) {\n  const {element: {content}, parts} = template;\n  const walker =\n      document.createTreeWalker(content, walkerNodeFilter, null, false);\n  let partIndex = nextActiveIndexInTemplateParts(parts);\n  let part = parts[partIndex];\n  let nodeIndex = -1;\n  let removeCount = 0;\n  const nodesToRemoveInTemplate = [];\n  let currentRemovingNode: Node|null = null;\n  while (walker.nextNode()) {\n    nodeIndex++;\n    const node = walker.currentNode as Element;\n    // End removal if stepped past the removing node\n    if (node.previousSibling === currentRemovingNode) {\n      currentRemovingNode = null;\n    }\n    // A node to remove was found in the template\n    if (nodesToRemove.has(node)) {\n      nodesToRemoveInTemplate.push(node);\n      // Track node we're removing\n      if (currentRemovingNode === null) {\n        currentRemovingNode = node;\n      }\n    }\n    // When removing, increment count by which to adjust subsequent part indices\n    if (currentRemovingNode !== null) {\n      removeCount++;\n    }\n    while (part !== undefined && part.index === nodeIndex) {\n      // If part is in a removed node deactivate it by setting index to -1 or\n      // adjust the index as needed.\n      part.index = currentRemovingNode !== null ? -1 : part.index - removeCount;\n      // go to the next active part.\n      partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n      part = parts[partIndex];\n    }\n  }\n  nodesToRemoveInTemplate.forEach((n) => n.parentNode!.removeChild(n));\n}\n\nconst countNodes = (node: Node) => {\n  let count = (node.nodeType === 11 /* Node.DOCUMENT_FRAGMENT_NODE */) ? 0 : 1;\n  const walker = document.createTreeWalker(node, walkerNodeFilter, null, false);\n  while (walker.nextNode()) {\n    count++;\n  }\n  return count;\n};\n\nconst nextActiveIndexInTemplateParts =\n    (parts: TemplatePart[], startIndex: number = -1) => {\n      for (let i = startIndex + 1; i < parts.length; i++) {\n        const part = parts[i];\n        if (isTemplatePartActive(part)) {\n          return i;\n        }\n      }\n      return -1;\n    };\n\n/**\n * Inserts the given node into the Template, optionally before the given\n * refNode. In addition to inserting the node into the Template, the Template\n * part indices are updated to match the mutated Template DOM.\n */\nexport function insertNodeIntoTemplate(\n    template: Template, node: Node, refNode: Node|null = null) {\n  const {element: {content}, parts} = template;\n  // If there's no refNode, then put node at end of template.\n  // No part indices need to be shifted in this case.\n  if (refNode === null || refNode === undefined) {\n    content.appendChild(node);\n    return;\n  }\n  const walker =\n      document.createTreeWalker(content, walkerNodeFilter, null, false);\n  let partIndex = nextActiveIndexInTemplateParts(parts);\n  let insertCount = 0;\n  let walkerIndex = -1;\n  while (walker.nextNode()) {\n    walkerIndex++;\n    const walkerNode = walker.currentNode as Element;\n    if (walkerNode === refNode) {\n      insertCount = countNodes(node);\n      refNode.parentNode!.insertBefore(node, refNode);\n    }\n    while (partIndex !== -1 && parts[partIndex].index === walkerIndex) {\n      // If we've inserted the node, simply adjust all subsequent parts\n      if (insertCount > 0) {\n        while (partIndex !== -1) {\n          parts[partIndex].index += insertCount;\n          partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n        }\n        return;\n      }\n      partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n    }\n  }\n}\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * Module to add shady DOM/shady CSS polyfill support to lit-html template\n * rendering. See the [[render]] method for details.\n *\n * @module shady-render\n * @preferred\n */\n\n/**\n * Do not remove this comment; it keeps typedoc from misplacing the module\n * docs.\n */\nimport {removeNodes} from './dom.js';\nimport {insertNodeIntoTemplate, removeNodesFromTemplate} from './modify-template.js';\nimport {RenderOptions} from './render-options.js';\nimport {parts, render as litRender} from './render.js';\nimport {templateCaches} from './template-factory.js';\nimport {TemplateInstance} from './template-instance.js';\nimport {TemplateResult} from './template-result.js';\nimport {marker, Template} from './template.js';\n\nexport {html, svg, TemplateResult} from '../lit-html.js';\n\n// Get a key to lookup in `templateCaches`.\nconst getTemplateCacheKey = (type: string, scopeName: string) =>\n    `${type}--${scopeName}`;\n\nlet compatibleShadyCSSVersion = true;\n\nif (typeof window.ShadyCSS === 'undefined') {\n  compatibleShadyCSSVersion = false;\n} else if (typeof window.ShadyCSS.prepareTemplateDom === 'undefined') {\n  console.warn(\n      `Incompatible ShadyCSS version detected. ` +\n      `Please update to at least @webcomponents/webcomponentsjs@2.0.2 and ` +\n      `@webcomponents/shadycss@1.3.1.`);\n  compatibleShadyCSSVersion = false;\n}\n\n/**\n * Template factory which scopes template DOM using ShadyCSS.\n * @param scopeName {string}\n */\nconst shadyTemplateFactory = (scopeName: string) =>\n    (result: TemplateResult) => {\n      const cacheKey = getTemplateCacheKey(result.type, scopeName);\n      let templateCache = templateCaches.get(cacheKey);\n      if (templateCache === undefined) {\n        templateCache = {\n          stringsArray: new WeakMap<TemplateStringsArray, Template>(),\n          keyString: new Map<string, Template>()\n        };\n        templateCaches.set(cacheKey, templateCache);\n      }\n\n      let template = templateCache.stringsArray.get(result.strings);\n      if (template !== undefined) {\n        return template;\n      }\n\n      const key = result.strings.join(marker);\n      template = templateCache.keyString.get(key);\n      if (template === undefined) {\n        const element = result.getTemplateElement();\n        if (compatibleShadyCSSVersion) {\n          window.ShadyCSS!.prepareTemplateDom(element, scopeName);\n        }\n        template = new Template(result, element);\n        templateCache.keyString.set(key, template);\n      }\n      templateCache.stringsArray.set(result.strings, template);\n      return template;\n    };\n\nconst TEMPLATE_TYPES = ['html', 'svg'];\n\n/**\n * Removes all style elements from Templates for the given scopeName.\n */\nconst removeStylesFromLitTemplates = (scopeName: string) => {\n  TEMPLATE_TYPES.forEach((type) => {\n    const templates = templateCaches.get(getTemplateCacheKey(type, scopeName));\n    if (templates !== undefined) {\n      templates.keyString.forEach((template) => {\n        const {element: {content}} = template;\n        // IE 11 doesn't support the iterable param Set constructor\n        const styles = new Set<Element>();\n        Array.from(content.querySelectorAll('style')).forEach((s: Element) => {\n          styles.add(s);\n        });\n        removeNodesFromTemplate(template, styles);\n      });\n    }\n  });\n};\n\nconst shadyRenderSet = new Set<string>();\n\n/**\n * For the given scope name, ensures that ShadyCSS style scoping is performed.\n * This is done just once per scope name so the fragment and template cannot\n * be modified.\n * (1) extracts styles from the rendered fragment and hands them to ShadyCSS\n * to be scoped and appended to the document\n * (2) removes style elements from all lit-html Templates for this scope name.\n *\n * Note, <style> elements can only be placed into templates for the\n * initial rendering of the scope. If <style> elements are included in templates\n * dynamically rendered to the scope (after the first scope render), they will\n * not be scoped and the <style> will be left in the template and rendered\n * output.\n */\nconst prepareTemplateStyles =\n    (renderedDOM: DocumentFragment, template: Template, scopeName: string) => {\n      shadyRenderSet.add(scopeName);\n      // Move styles out of rendered DOM and store.\n      const styles = renderedDOM.querySelectorAll('style');\n      const {length} = styles;\n      // If there are no styles, skip unnecessary work\n      if (length === 0) {\n        // Ensure prepareTemplateStyles is called to support adding\n        // styles via `prepareAdoptedCssText` since that requires that\n        // `prepareTemplateStyles` is called.\n        window.ShadyCSS!.prepareTemplateStyles(template.element, scopeName);\n        return;\n      }\n      const condensedStyle = document.createElement('style');\n      // Collect styles into a single style. This helps us make sure ShadyCSS\n      // manipulations will not prevent us from being able to fix up template\n      // part indices.\n      // NOTE: collecting styles is inefficient for browsers but ShadyCSS\n      // currently does this anyway. When it does not, this should be changed.\n      for (let i = 0; i < length; i++) {\n        const style = styles[i];\n        style.parentNode!.removeChild(style);\n        condensedStyle.textContent! += style.textContent;\n      }\n      // Remove styles from nested templates in this scope.\n      removeStylesFromLitTemplates(scopeName);\n      // And then put the condensed style into the \"root\" template passed in as\n      // `template`.\n      const content = template.element.content;\n      insertNodeIntoTemplate(template, condensedStyle, content.firstChild);\n      // Note, it's important that ShadyCSS gets the template that `lit-html`\n      // will actually render so that it can update the style inside when\n      // needed (e.g. @apply native Shadow DOM case).\n      window.ShadyCSS!.prepareTemplateStyles(template.element, scopeName);\n      const style = content.querySelector('style');\n      if (window.ShadyCSS!.nativeShadow && style !== null) {\n        // When in native Shadow DOM, ensure the style created by ShadyCSS is\n        // included in initially rendered output (`renderedDOM`).\n        renderedDOM.insertBefore(style.cloneNode(true), renderedDOM.firstChild);\n      } else {\n        // When no style is left in the template, parts will be broken as a\n        // result. To fix this, we put back the style node ShadyCSS removed\n        // and then tell lit to remove that node from the template.\n        // There can be no style in the template in 2 cases (1) when Shady DOM\n        // is in use, ShadyCSS removes all styles, (2) when native Shadow DOM\n        // is in use ShadyCSS removes the style if it contains no content.\n        // NOTE, ShadyCSS creates its own style so we can safely add/remove\n        // `condensedStyle` here.\n        content.insertBefore(condensedStyle, content.firstChild);\n        const removes = new Set();\n        removes.add(condensedStyle);\n        removeNodesFromTemplate(template, removes);\n      }\n    };\n\nexport interface ShadyRenderOptions extends Partial<RenderOptions> {\n  scopeName: string;\n}\n\n/**\n * Extension to the standard `render` method which supports rendering\n * to ShadowRoots when the ShadyDOM (https://github.com/webcomponents/shadydom)\n * and ShadyCSS (https://github.com/webcomponents/shadycss) polyfills are used\n * or when the webcomponentsjs\n * (https://github.com/webcomponents/webcomponentsjs) polyfill is used.\n *\n * Adds a `scopeName` option which is used to scope element DOM and stylesheets\n * when native ShadowDOM is unavailable. The `scopeName` will be added to\n * the class attribute of all rendered DOM. In addition, any style elements will\n * be automatically re-written with this `scopeName` selector and moved out\n * of the rendered DOM and into the document `<head>`.\n *\n * It is common to use this render method in conjunction with a custom element\n * which renders a shadowRoot. When this is done, typically the element's\n * `localName` should be used as the `scopeName`.\n *\n * In addition to DOM scoping, ShadyCSS also supports a basic shim for css\n * custom properties (needed only on older browsers like IE11) and a shim for\n * a deprecated feature called `@apply` that supports applying a set of css\n * custom properties to a given location.\n *\n * Usage considerations:\n *\n * * Part values in `<style>` elements are only applied the first time a given\n * `scopeName` renders. Subsequent changes to parts in style elements will have\n * no effect. Because of this, parts in style elements should only be used for\n * values that will never change, for example parts that set scope-wide theme\n * values or parts which render shared style elements.\n *\n * * Note, due to a limitation of the ShadyDOM polyfill, rendering in a\n * custom element's `constructor` is not supported. Instead rendering should\n * either done asynchronously, for example at microtask timing (for example\n * `Promise.resolve()`), or be deferred until the first time the element's\n * `connectedCallback` runs.\n *\n * Usage considerations when using shimmed custom properties or `@apply`:\n *\n * * Whenever any dynamic changes are made which affect\n * css custom properties, `ShadyCSS.styleElement(element)` must be called\n * to update the element. There are two cases when this is needed:\n * (1) the element is connected to a new parent, (2) a class is added to the\n * element that causes it to match different custom properties.\n * To address the first case when rendering a custom element, `styleElement`\n * should be called in the element's `connectedCallback`.\n *\n * * Shimmed custom properties may only be defined either for an entire\n * shadowRoot (for example, in a `:host` rule) or via a rule that directly\n * matches an element with a shadowRoot. In other words, instead of flowing from\n * parent to child as do native css custom properties, shimmed custom properties\n * flow only from shadowRoots to nested shadowRoots.\n *\n * * When using `@apply` mixing css shorthand property names with\n * non-shorthand names (for example `border` and `border-width`) is not\n * supported.\n */\nexport const render =\n    (result: TemplateResult,\n     container: Element|DocumentFragment|ShadowRoot,\n     options: ShadyRenderOptions) => {\n      const scopeName = options.scopeName;\n      const hasRendered = parts.has(container);\n      const needsScoping = compatibleShadyCSSVersion &&\n          container.nodeType === 11 /* Node.DOCUMENT_FRAGMENT_NODE */ &&\n          !!(container as ShadowRoot).host && result instanceof TemplateResult;\n      // Handle first render to a scope specially...\n      const firstScopeRender = needsScoping && !shadyRenderSet.has(scopeName);\n      // On first scope render, render into a fragment; this cannot be a single\n      // fragment that is reused since nested renders can occur synchronously.\n      const renderContainer =\n          firstScopeRender ? document.createDocumentFragment() : container;\n      litRender(\n          result,\n          renderContainer,\n          {templateFactory: shadyTemplateFactory(scopeName), ...options} as\n              RenderOptions);\n      // When performing first scope render,\n      // (1) We've rendered into a fragment so that there's a chance to\n      // `prepareTemplateStyles` before sub-elements hit the DOM\n      // (which might cause them to render based on a common pattern of\n      // rendering in a custom element's `connectedCallback`);\n      // (2) Scope the template with ShadyCSS one time only for this scope.\n      // (3) Render the fragment into the container and make sure the\n      // container knows its `part` is the one we just rendered. This ensures\n      // DOM will be re-used on subsequent renders.\n      if (firstScopeRender) {\n        const part = parts.get(renderContainer)!;\n        parts.delete(renderContainer);\n        if (part.value instanceof TemplateInstance) {\n          prepareTemplateStyles(\n              renderContainer as DocumentFragment,\n              part.value.template,\n              scopeName);\n        }\n        removeNodes(container, container.firstChild);\n        container.appendChild(renderContainer);\n        parts.set(container, part);\n      }\n      // After elements have hit the DOM, update styling if this is the\n      // initial render to this container.\n      // This is needed whenever dynamic changes are made so it would be\n      // safest to do every render; however, this would regress performance\n      // so we leave it up to the user to call `ShadyCSSS.styleElement`\n      // for dynamic changes.\n      if (!hasRendered && needsScoping) {\n        window.ShadyCSS!.styleElement((container as ShadowRoot).host);\n      }\n    };\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * When using Closure Compiler, JSCompiler_renameProperty(property, object) is\n * replaced at compile time by the munged name for object[property]. We cannot\n * alias this function, so we have to use a small shim that has the same\n * behavior when not compiling.\n */\nwindow.JSCompiler_renameProperty =\n    <P extends PropertyKey>(prop: P, _obj: unknown): P => prop;\n\ndeclare global {\n  var JSCompiler_renameProperty: <P extends PropertyKey>(\n      prop: P, _obj: unknown) => P;\n\n  interface Window {\n    JSCompiler_renameProperty: typeof JSCompiler_renameProperty;\n  }\n}\n\n/**\n * Converts property values to and from attribute values.\n */\nexport interface ComplexAttributeConverter<Type = unknown, TypeHint = unknown> {\n  /**\n   * Function called to convert an attribute value to a property\n   * value.\n   */\n  fromAttribute?(value: string|null, type?: TypeHint): Type;\n\n  /**\n   * Function called to convert a property value to an attribute\n   * value.\n   *\n   * It returns unknown instead of string, to be compatible with\n   * https://github.com/WICG/trusted-types (and similar efforts).\n   */\n  toAttribute?(value: Type, type?: TypeHint): unknown;\n}\n\ntype AttributeConverter<Type = unknown, TypeHint = unknown> =\n    ComplexAttributeConverter<Type>|((value: string, type?: TypeHint) => Type);\n\n/**\n * Defines options for a property accessor.\n */\nexport interface PropertyDeclaration<Type = unknown, TypeHint = unknown> {\n  /**\n   * Indicates how and whether the property becomes an observed attribute.\n   * If the value is `false`, the property is not added to `observedAttributes`.\n   * If true or absent, the lowercased property name is observed (e.g. `fooBar`\n   * becomes `foobar`). If a string, the string value is observed (e.g\n   * `attribute: 'foo-bar'`).\n   */\n  readonly attribute?: boolean|string;\n\n  /**\n   * Indicates the type of the property. This is used only as a hint for the\n   * `converter` to determine how to convert the attribute\n   * to/from a property.\n   */\n  readonly type?: TypeHint;\n\n  /**\n   * Indicates how to convert the attribute to/from a property. If this value\n   * is a function, it is used to convert the attribute value a the property\n   * value. If it's an object, it can have keys for `fromAttribute` and\n   * `toAttribute`. If no `toAttribute` function is provided and\n   * `reflect` is set to `true`, the property value is set directly to the\n   * attribute. A default `converter` is used if none is provided; it supports\n   * `Boolean`, `String`, `Number`, `Object`, and `Array`. Note,\n   * when a property changes and the converter is used to update the attribute,\n   * the property is never updated again as a result of the attribute changing,\n   * and vice versa.\n   */\n  readonly converter?: AttributeConverter<Type, TypeHint>;\n\n  /**\n   * Indicates if the property should reflect to an attribute.\n   * If `true`, when the property is set, the attribute is set using the\n   * attribute name determined according to the rules for the `attribute`\n   * property option and the value of the property converted using the rules\n   * from the `converter` property option.\n   */\n  readonly reflect?: boolean;\n\n  /**\n   * A function that indicates if a property should be considered changed when\n   * it is set. The function should take the `newValue` and `oldValue` and\n   * return `true` if an update should be requested.\n   */\n  hasChanged?(value: Type, oldValue: Type): boolean;\n\n  /**\n   * Indicates whether an accessor will be created for this property. By\n   * default, an accessor will be generated for this property that requests an\n   * update when set. If this flag is `true`, no accessor will be created, and\n   * it will be the user's responsibility to call\n   * `this.requestUpdate(propertyName, oldValue)` to request an update when\n   * the property changes.\n   */\n  readonly noAccessor?: boolean;\n}\n\n/**\n * Map of properties to PropertyDeclaration options. For each property an\n * accessor is made, and the property is processed according to the\n * PropertyDeclaration options.\n */\nexport interface PropertyDeclarations {\n  readonly [key: string]: PropertyDeclaration;\n}\n\ntype PropertyDeclarationMap = Map<PropertyKey, PropertyDeclaration>;\n\ntype AttributeMap = Map<string, PropertyKey>;\n\nexport type PropertyValues = Map<PropertyKey, unknown>;\n\nexport const defaultConverter: ComplexAttributeConverter = {\n\n  toAttribute(value: unknown, type?: unknown): unknown {\n    switch (type) {\n      case Boolean:\n        return value ? '' : null;\n      case Object:\n      case Array:\n        // if the value is `null` or `undefined` pass this through\n        // to allow removing/no change behavior.\n        return value == null ? value : JSON.stringify(value);\n    }\n    return value;\n  },\n\n  fromAttribute(value: string|null, type?: unknown) {\n    switch (type) {\n      case Boolean:\n        return value !== null;\n      case Number:\n        return value === null ? null : Number(value);\n      case Object:\n      case Array:\n        return JSON.parse(value!);\n    }\n    return value;\n  }\n\n};\n\nexport interface HasChanged {\n  (value: unknown, old: unknown): boolean;\n}\n\n/**\n * Change function that returns true if `value` is different from `oldValue`.\n * This method is used as the default for a property's `hasChanged` function.\n */\nexport const notEqual: HasChanged = (value: unknown, old: unknown): boolean => {\n  // This ensures (old==NaN, value==NaN) always returns false\n  return old !== value && (old === old || value === value);\n};\n\nconst defaultPropertyDeclaration: PropertyDeclaration = {\n  attribute: true,\n  type: String,\n  converter: defaultConverter,\n  reflect: false,\n  hasChanged: notEqual\n};\n\nconst microtaskPromise = Promise.resolve(true);\n\nconst STATE_HAS_UPDATED = 1;\nconst STATE_UPDATE_REQUESTED = 1 << 2;\nconst STATE_IS_REFLECTING_TO_ATTRIBUTE = 1 << 3;\nconst STATE_IS_REFLECTING_TO_PROPERTY = 1 << 4;\nconst STATE_HAS_CONNECTED = 1 << 5;\ntype UpdateState = typeof STATE_HAS_UPDATED|typeof STATE_UPDATE_REQUESTED|\n    typeof STATE_IS_REFLECTING_TO_ATTRIBUTE|\n    typeof STATE_IS_REFLECTING_TO_PROPERTY|typeof STATE_HAS_CONNECTED;\n\n/**\n * Base element class which manages element properties and attributes. When\n * properties change, the `update` method is asynchronously called. This method\n * should be supplied by subclassers to render updates as desired.\n */\nexport abstract class UpdatingElement extends HTMLElement {\n  /*\n   * Due to closure compiler ES6 compilation bugs, @nocollapse is required on\n   * all static methods and properties with initializers.  Reference:\n   * - https://github.com/google/closure-compiler/issues/1776\n   */\n\n  /**\n   * Maps attribute names to properties; for example `foobar` attribute to\n   * `fooBar` property. Created lazily on user subclasses when finalizing the\n   * class.\n   */\n  private static _attributeToPropertyMap: AttributeMap;\n\n  /**\n   * Marks class as having finished creating properties.\n   */\n  protected static finalized = true;\n\n  /**\n   * Memoized list of all class properties, including any superclass properties.\n   * Created lazily on user subclasses when finalizing the class.\n   */\n  private static _classProperties?: PropertyDeclarationMap;\n\n  /**\n   * User-supplied object that maps property names to `PropertyDeclaration`\n   * objects containing options for configuring the property.\n   */\n  static properties: PropertyDeclarations;\n\n  /**\n   * Returns a list of attributes corresponding to the registered properties.\n   * @nocollapse\n   */\n  static get observedAttributes() {\n    // note: piggy backing on this to ensure we're finalized.\n    this.finalize();\n    const attributes: string[] = [];\n    // Use forEach so this works even if for/of loops are compiled to for loops\n    // expecting arrays\n    this._classProperties!.forEach((v, p) => {\n      const attr = this._attributeNameForProperty(p, v);\n      if (attr !== undefined) {\n        this._attributeToPropertyMap.set(attr, p);\n        attributes.push(attr);\n      }\n    });\n    return attributes;\n  }\n\n  /**\n   * Ensures the private `_classProperties` property metadata is created.\n   * In addition to `finalize` this is also called in `createProperty` to\n   * ensure the `@property` decorator can add property metadata.\n   */\n  /** @nocollapse */\n  private static _ensureClassProperties() {\n    // ensure private storage for property declarations.\n    if (!this.hasOwnProperty(\n            JSCompiler_renameProperty('_classProperties', this))) {\n      this._classProperties = new Map();\n      // NOTE: Workaround IE11 not supporting Map constructor argument.\n      const superProperties: PropertyDeclarationMap =\n          Object.getPrototypeOf(this)._classProperties;\n      if (superProperties !== undefined) {\n        superProperties.forEach(\n            (v: PropertyDeclaration, k: PropertyKey) =>\n                this._classProperties!.set(k, v));\n      }\n    }\n  }\n\n  /**\n   * Creates a property accessor on the element prototype if one does not exist.\n   * The property setter calls the property's `hasChanged` property option\n   * or uses a strict identity check to determine whether or not to request\n   * an update.\n   * @nocollapse\n   */\n  static createProperty(\n      name: PropertyKey,\n      options: PropertyDeclaration = defaultPropertyDeclaration) {\n    // Note, since this can be called by the `@property` decorator which\n    // is called before `finalize`, we ensure storage exists for property\n    // metadata.\n    this._ensureClassProperties();\n    this._classProperties!.set(name, options);\n    // Do not generate an accessor if the prototype already has one, since\n    // it would be lost otherwise and that would never be the user's intention;\n    // Instead, we expect users to call `requestUpdate` themselves from\n    // user-defined accessors. Note that if the super has an accessor we will\n    // still overwrite it\n    if (options.noAccessor || this.prototype.hasOwnProperty(name)) {\n      return;\n    }\n    const key = typeof name === 'symbol' ? Symbol() : `__${name}`;\n    Object.defineProperty(this.prototype, name, {\n      // tslint:disable-next-line:no-any no symbol in index\n      get(): any {\n        return this[key];\n      },\n      set(this: UpdatingElement, value: unknown) {\n        // tslint:disable-next-line:no-any no symbol in index\n        const oldValue = (this as any)[name];\n        // tslint:disable-next-line:no-any no symbol in index\n        (this as any)[key] = value;\n        this._requestUpdate(name, oldValue);\n      },\n      configurable: true,\n      enumerable: true\n    });\n  }\n\n  /**\n   * Creates property accessors for registered properties and ensures\n   * any superclasses are also finalized.\n   * @nocollapse\n   */\n  protected static finalize() {\n    if (this.hasOwnProperty(JSCompiler_renameProperty('finalized', this)) &&\n        this.finalized) {\n      return;\n    }\n    // finalize any superclasses\n    const superCtor = Object.getPrototypeOf(this);\n    if (typeof superCtor.finalize === 'function') {\n      superCtor.finalize();\n    }\n    this.finalized = true;\n    this._ensureClassProperties();\n    // initialize Map populated in observedAttributes\n    this._attributeToPropertyMap = new Map();\n    // make any properties\n    // Note, only process \"own\" properties since this element will inherit\n    // any properties defined on the superClass, and finalization ensures\n    // the entire prototype chain is finalized.\n    if (this.hasOwnProperty(JSCompiler_renameProperty('properties', this))) {\n      const props = this.properties;\n      // support symbols in properties (IE11 does not support this)\n      const propKeys = [\n        ...Object.getOwnPropertyNames(props),\n        ...(typeof Object.getOwnPropertySymbols === 'function') ?\n            Object.getOwnPropertySymbols(props) :\n            []\n      ];\n      // This for/of is ok because propKeys is an array\n      for (const p of propKeys) {\n        // note, use of `any` is due to TypeSript lack of support for symbol in\n        // index types\n        // tslint:disable-next-line:no-any no symbol in index\n        this.createProperty(p, (props as any)[p]);\n      }\n    }\n  }\n\n  /**\n   * Returns the property name for the given attribute `name`.\n   * @nocollapse\n   */\n  private static _attributeNameForProperty(\n      name: PropertyKey, options: PropertyDeclaration) {\n    const attribute = options.attribute;\n    return attribute === false ?\n        undefined :\n        (typeof attribute === 'string' ?\n             attribute :\n             (typeof name === 'string' ? name.toLowerCase() : undefined));\n  }\n\n  /**\n   * Returns true if a property should request an update.\n   * Called when a property value is set and uses the `hasChanged`\n   * option for the property if present or a strict identity check.\n   * @nocollapse\n   */\n  private static _valueHasChanged(\n      value: unknown, old: unknown, hasChanged: HasChanged = notEqual) {\n    return hasChanged(value, old);\n  }\n\n  /**\n   * Returns the property value for the given attribute value.\n   * Called via the `attributeChangedCallback` and uses the property's\n   * `converter` or `converter.fromAttribute` property option.\n   * @nocollapse\n   */\n  private static _propertyValueFromAttribute(\n      value: string|null, options: PropertyDeclaration) {\n    const type = options.type;\n    const converter = options.converter || defaultConverter;\n    const fromAttribute =\n        (typeof converter === 'function' ? converter : converter.fromAttribute);\n    return fromAttribute ? fromAttribute(value, type) : value;\n  }\n\n  /**\n   * Returns the attribute value for the given property value. If this\n   * returns undefined, the property will *not* be reflected to an attribute.\n   * If this returns null, the attribute will be removed, otherwise the\n   * attribute will be set to the value.\n   * This uses the property's `reflect` and `type.toAttribute` property options.\n   * @nocollapse\n   */\n  private static _propertyValueToAttribute(\n      value: unknown, options: PropertyDeclaration) {\n    if (options.reflect === undefined) {\n      return;\n    }\n    const type = options.type;\n    const converter = options.converter;\n    const toAttribute =\n        converter && (converter as ComplexAttributeConverter).toAttribute ||\n        defaultConverter.toAttribute;\n    return toAttribute!(value, type);\n  }\n\n  private _updateState: UpdateState = 0;\n  private _instanceProperties: PropertyValues|undefined = undefined;\n  private _updatePromise: Promise<unknown> = microtaskPromise;\n  private _hasConnectedResolver: (() => void)|undefined = undefined;\n\n  /**\n   * Map with keys for any properties that have changed since the last\n   * update cycle with previous values.\n   */\n  private _changedProperties: PropertyValues = new Map();\n\n  /**\n   * Map with keys of properties that should be reflected when updated.\n   */\n  private _reflectingProperties: Map<PropertyKey, PropertyDeclaration>|\n      undefined = undefined;\n\n  constructor() {\n    super();\n    this.initialize();\n  }\n\n  /**\n   * Performs element initialization. By default captures any pre-set values for\n   * registered properties.\n   */\n  protected initialize() {\n    this._saveInstanceProperties();\n    // ensures first update will be caught by an early access of `updateComplete`\n    this._requestUpdate();\n  }\n\n  /**\n   * Fixes any properties set on the instance before upgrade time.\n   * Otherwise these would shadow the accessor and break these properties.\n   * The properties are stored in a Map which is played back after the\n   * constructor runs. Note, on very old versions of Safari (<=9) or Chrome\n   * (<=41), properties created for native platform properties like (`id` or\n   * `name`) may not have default values set in the element constructor. On\n   * these browsers native properties appear on instances and therefore their\n   * default value will overwrite any element default (e.g. if the element sets\n   * this.id = 'id' in the constructor, the 'id' will become '' since this is\n   * the native platform default).\n   */\n  private _saveInstanceProperties() {\n    // Use forEach so this works even if for/of loops are compiled to for loops\n    // expecting arrays\n    (this.constructor as typeof UpdatingElement)\n        ._classProperties!.forEach((_v, p) => {\n          if (this.hasOwnProperty(p)) {\n            const value = this[p as keyof this];\n            delete this[p as keyof this];\n            if (!this._instanceProperties) {\n              this._instanceProperties = new Map();\n            }\n            this._instanceProperties.set(p, value);\n          }\n        });\n  }\n\n  /**\n   * Applies previously saved instance properties.\n   */\n  private _applyInstanceProperties() {\n    // Use forEach so this works even if for/of loops are compiled to for loops\n    // expecting arrays\n    // tslint:disable-next-line:no-any\n    this._instanceProperties!.forEach((v, p) => (this as any)[p] = v);\n    this._instanceProperties = undefined;\n  }\n\n  connectedCallback() {\n    this._updateState = this._updateState | STATE_HAS_CONNECTED;\n    // Ensure first connection completes an update. Updates cannot complete before\n    // connection and if one is pending connection the `_hasConnectionResolver`\n    // will exist. If so, resolve it to complete the update, otherwise\n    // requestUpdate.\n    if (this._hasConnectedResolver) {\n      this._hasConnectedResolver();\n      this._hasConnectedResolver = undefined;\n    }\n  }\n\n  /**\n   * Allows for `super.disconnectedCallback()` in extensions while\n   * reserving the possibility of making non-breaking feature additions\n   * when disconnecting at some point in the future.\n   */\n  disconnectedCallback() {\n  }\n\n  /**\n   * Synchronizes property values when attributes change.\n   */\n  attributeChangedCallback(name: string, old: string|null, value: string|null) {\n    if (old !== value) {\n      this._attributeToProperty(name, value);\n    }\n  }\n\n  private _propertyToAttribute(\n      name: PropertyKey, value: unknown,\n      options: PropertyDeclaration = defaultPropertyDeclaration) {\n    const ctor = (this.constructor as typeof UpdatingElement);\n    const attr = ctor._attributeNameForProperty(name, options);\n    if (attr !== undefined) {\n      const attrValue = ctor._propertyValueToAttribute(value, options);\n      // an undefined value does not change the attribute.\n      if (attrValue === undefined) {\n        return;\n      }\n      // Track if the property is being reflected to avoid\n      // setting the property again via `attributeChangedCallback`. Note:\n      // 1. this takes advantage of the fact that the callback is synchronous.\n      // 2. will behave incorrectly if multiple attributes are in the reaction\n      // stack at time of calling. However, since we process attributes\n      // in `update` this should not be possible (or an extreme corner case\n      // that we'd like to discover).\n      // mark state reflecting\n      this._updateState = this._updateState | STATE_IS_REFLECTING_TO_ATTRIBUTE;\n      if (attrValue == null) {\n        this.removeAttribute(attr);\n      } else {\n        this.setAttribute(attr, attrValue as string);\n      }\n      // mark state not reflecting\n      this._updateState = this._updateState & ~STATE_IS_REFLECTING_TO_ATTRIBUTE;\n    }\n  }\n\n  private _attributeToProperty(name: string, value: string|null) {\n    // Use tracking info to avoid deserializing attribute value if it was\n    // just set from a property setter.\n    if (this._updateState & STATE_IS_REFLECTING_TO_ATTRIBUTE) {\n      return;\n    }\n    const ctor = (this.constructor as typeof UpdatingElement);\n    const propName = ctor._attributeToPropertyMap.get(name);\n    if (propName !== undefined) {\n      const options =\n          ctor._classProperties!.get(propName) || defaultPropertyDeclaration;\n      // mark state reflecting\n      this._updateState = this._updateState | STATE_IS_REFLECTING_TO_PROPERTY;\n      this[propName as keyof this] =\n          // tslint:disable-next-line:no-any\n          ctor._propertyValueFromAttribute(value, options) as any;\n      // mark state not reflecting\n      this._updateState = this._updateState & ~STATE_IS_REFLECTING_TO_PROPERTY;\n    }\n  }\n\n  /**\n   * This private version of `requestUpdate` does not access or return the\n   * `updateComplete` promise. This promise can be overridden and is therefore\n   * not free to access.\n   */\n  private _requestUpdate(name?: PropertyKey, oldValue?: unknown) {\n    let shouldRequestUpdate = true;\n    // If we have a property key, perform property update steps.\n    if (name !== undefined) {\n      const ctor = this.constructor as typeof UpdatingElement;\n      const options =\n          ctor._classProperties!.get(name) || defaultPropertyDeclaration;\n      if (ctor._valueHasChanged(\n              this[name as keyof this], oldValue, options.hasChanged)) {\n        if (!this._changedProperties.has(name)) {\n          this._changedProperties.set(name, oldValue);\n        }\n        // Add to reflecting properties set.\n        // Note, it's important that every change has a chance to add the\n        // property to `_reflectingProperties`. This ensures setting\n        // attribute + property reflects correctly.\n        if (options.reflect === true &&\n            !(this._updateState & STATE_IS_REFLECTING_TO_PROPERTY)) {\n          if (this._reflectingProperties === undefined) {\n            this._reflectingProperties = new Map();\n          }\n          this._reflectingProperties.set(name, options);\n        }\n      } else {\n        // Abort the request if the property should not be considered changed.\n        shouldRequestUpdate = false;\n      }\n    }\n    if (!this._hasRequestedUpdate && shouldRequestUpdate) {\n      this._enqueueUpdate();\n    }\n  }\n\n  /**\n   * Requests an update which is processed asynchronously. This should\n   * be called when an element should update based on some state not triggered\n   * by setting a property. In this case, pass no arguments. It should also be\n   * called when manually implementing a property setter. In this case, pass the\n   * property `name` and `oldValue` to ensure that any configured property\n   * options are honored. Returns the `updateComplete` Promise which is resolved\n   * when the update completes.\n   *\n   * @param name {PropertyKey} (optional) name of requesting property\n   * @param oldValue {any} (optional) old value of requesting property\n   * @returns {Promise} A Promise that is resolved when the update completes.\n   */\n  requestUpdate(name?: PropertyKey, oldValue?: unknown) {\n    this._requestUpdate(name, oldValue);\n    return this.updateComplete;\n  }\n\n  /**\n   * Sets up the element to asynchronously update.\n   */\n  private async _enqueueUpdate() {\n    // Mark state updating...\n    this._updateState = this._updateState | STATE_UPDATE_REQUESTED;\n    let resolve!: (r: boolean) => void;\n    let reject!: (e: Error) => void;\n    const previousUpdatePromise = this._updatePromise;\n    this._updatePromise = new Promise((res, rej) => {\n      resolve = res;\n      reject = rej;\n    });\n    try {\n      // Ensure any previous update has resolved before updating.\n      // This `await` also ensures that property changes are batched.\n      await previousUpdatePromise;\n    } catch (e) {\n      // Ignore any previous errors. We only care that the previous cycle is\n      // done. Any error should have been handled in the previous update.\n    }\n    // Make sure the element has connected before updating.\n    if (!this._hasConnected) {\n      await new Promise((res) => this._hasConnectedResolver = res);\n    }\n    try {\n      const result = this.performUpdate();\n      // If `performUpdate` returns a Promise, we await it. This is done to\n      // enable coordinating updates with a scheduler. Note, the result is\n      // checked to avoid delaying an additional microtask unless we need to.\n      if (result != null) {\n        await result;\n      }\n    } catch (e) {\n      reject(e);\n    }\n    resolve(!this._hasRequestedUpdate);\n  }\n\n  private get _hasConnected() {\n    return (this._updateState & STATE_HAS_CONNECTED);\n  }\n\n  private get _hasRequestedUpdate() {\n    return (this._updateState & STATE_UPDATE_REQUESTED);\n  }\n\n  protected get hasUpdated() {\n    return (this._updateState & STATE_HAS_UPDATED);\n  }\n\n  /**\n   * Performs an element update. Note, if an exception is thrown during the\n   * update, `firstUpdated` and `updated` will not be called.\n   *\n   * You can override this method to change the timing of updates. If this\n   * method is overridden, `super.performUpdate()` must be called.\n   *\n   * For instance, to schedule updates to occur just before the next frame:\n   *\n   * ```\n   * protected async performUpdate(): Promise<unknown> {\n   *   await new Promise((resolve) => requestAnimationFrame(() => resolve()));\n   *   super.performUpdate();\n   * }\n   * ```\n   */\n  protected performUpdate(): void|Promise<unknown> {\n    // Mixin instance properties once, if they exist.\n    if (this._instanceProperties) {\n      this._applyInstanceProperties();\n    }\n    let shouldUpdate = false;\n    const changedProperties = this._changedProperties;\n    try {\n      shouldUpdate = this.shouldUpdate(changedProperties);\n      if (shouldUpdate) {\n        this.update(changedProperties);\n      }\n    } catch (e) {\n      // Prevent `firstUpdated` and `updated` from running when there's an\n      // update exception.\n      shouldUpdate = false;\n      throw e;\n    } finally {\n      // Ensure element can accept additional updates after an exception.\n      this._markUpdated();\n    }\n    if (shouldUpdate) {\n      if (!(this._updateState & STATE_HAS_UPDATED)) {\n        this._updateState = this._updateState | STATE_HAS_UPDATED;\n        this.firstUpdated(changedProperties);\n      }\n      this.updated(changedProperties);\n    }\n  }\n\n  private _markUpdated() {\n    this._changedProperties = new Map();\n    this._updateState = this._updateState & ~STATE_UPDATE_REQUESTED;\n  }\n\n  /**\n   * Returns a Promise that resolves when the element has completed updating.\n   * The Promise value is a boolean that is `true` if the element completed the\n   * update without triggering another update. The Promise result is `false` if\n   * a property was set inside `updated()`. If the Promise is rejected, an\n   * exception was thrown during the update. This getter can be implemented to\n   * await additional state. For example, it is sometimes useful to await a\n   * rendered element before fulfilling this Promise. To do this, first await\n   * `super.updateComplete` then any subsequent state.\n   *\n   * @returns {Promise} The Promise returns a boolean that indicates if the\n   * update resolved without triggering another update.\n   */\n  get updateComplete() {\n    return this._updatePromise;\n  }\n\n  /**\n   * Controls whether or not `update` should be called when the element requests\n   * an update. By default, this method always returns `true`, but this can be\n   * customized to control when to update.\n   *\n   * * @param _changedProperties Map of changed properties with old values\n   */\n  protected shouldUpdate(_changedProperties: PropertyValues): boolean {\n    return true;\n  }\n\n  /**\n   * Updates the element. This method reflects property values to attributes.\n   * It can be overridden to render and keep updated element DOM.\n   * Setting properties inside this method will *not* trigger\n   * another update.\n   *\n   * * @param _changedProperties Map of changed properties with old values\n   */\n  protected update(_changedProperties: PropertyValues) {\n    if (this._reflectingProperties !== undefined &&\n        this._reflectingProperties.size > 0) {\n      // Use forEach so this works even if for/of loops are compiled to for\n      // loops expecting arrays\n      this._reflectingProperties.forEach(\n          (v, k) => this._propertyToAttribute(k, this[k as keyof this], v));\n      this._reflectingProperties = undefined;\n    }\n  }\n\n  /**\n   * Invoked whenever the element is updated. Implement to perform\n   * post-updating tasks via DOM APIs, for example, focusing an element.\n   *\n   * Setting properties inside this method will trigger the element to update\n   * again after this update cycle completes.\n   *\n   * * @param _changedProperties Map of changed properties with old values\n   */\n  protected updated(_changedProperties: PropertyValues) {\n  }\n\n  /**\n   * Invoked when the element is first updated. Implement to perform one time\n   * work on the element after update.\n   *\n   * Setting properties inside this method will trigger the element to update\n   * again after this update cycle completes.\n   *\n   * * @param _changedProperties Map of changed properties with old values\n   */\n  protected firstUpdated(_changedProperties: PropertyValues) {\n  }\n}\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {LitElement} from '../lit-element.js';\n\nimport {PropertyDeclaration, UpdatingElement} from './updating-element.js';\n\nexport type Constructor<T> = {\n  new (...args: unknown[]): T\n};\n\n// From the TC39 Decorators proposal\ninterface ClassDescriptor {\n  kind: 'class';\n  elements: ClassElement[];\n  finisher?: <T>(clazz: Constructor<T>) => undefined | Constructor<T>;\n}\n\n// From the TC39 Decorators proposal\ninterface ClassElement {\n  kind: 'field'|'method';\n  key: PropertyKey;\n  placement: 'static'|'prototype'|'own';\n  initializer?: Function;\n  extras?: ClassElement[];\n  finisher?: <T>(clazz: Constructor<T>) => undefined | Constructor<T>;\n  descriptor?: PropertyDescriptor;\n}\n\nconst legacyCustomElement =\n    (tagName: string, clazz: Constructor<HTMLElement>) => {\n      window.customElements.define(tagName, clazz);\n      // Cast as any because TS doesn't recognize the return type as being a\n      // subtype of the decorated class when clazz is typed as\n      // `Constructor<HTMLElement>` for some reason.\n      // `Constructor<HTMLElement>` is helpful to make sure the decorator is\n      // applied to elements however.\n      // tslint:disable-next-line:no-any\n      return clazz as any;\n    };\n\nconst standardCustomElement =\n    (tagName: string, descriptor: ClassDescriptor) => {\n      const {kind, elements} = descriptor;\n      return {\n        kind,\n        elements,\n        // This callback is called once the class is otherwise fully defined\n        finisher(clazz: Constructor<HTMLElement>) {\n          window.customElements.define(tagName, clazz);\n        }\n      };\n    };\n\n/**\n * Class decorator factory that defines the decorated class as a custom element.\n *\n * @param tagName the name of the custom element to define\n */\nexport const customElement = (tagName: string) =>\n    (classOrDescriptor: Constructor<HTMLElement>|ClassDescriptor) =>\n        (typeof classOrDescriptor === 'function') ?\n    legacyCustomElement(tagName, classOrDescriptor) :\n    standardCustomElement(tagName, classOrDescriptor);\n\nconst standardProperty =\n    (options: PropertyDeclaration, element: ClassElement) => {\n      // When decorating an accessor, pass it through and add property metadata.\n      // Note, the `hasOwnProperty` check in `createProperty` ensures we don't\n      // stomp over the user's accessor.\n      if (element.kind === 'method' && element.descriptor &&\n          !('value' in element.descriptor)) {\n        return {\n          ...element,\n          finisher(clazz: typeof UpdatingElement) {\n            clazz.createProperty(element.key, options);\n          }\n        };\n      } else {\n        // createProperty() takes care of defining the property, but we still\n        // must return some kind of descriptor, so return a descriptor for an\n        // unused prototype field. The finisher calls createProperty().\n        return {\n          kind: 'field',\n          key: Symbol(),\n          placement: 'own',\n          descriptor: {},\n          // When @babel/plugin-proposal-decorators implements initializers,\n          // do this instead of the initializer below. See:\n          // https://github.com/babel/babel/issues/9260 extras: [\n          //   {\n          //     kind: 'initializer',\n          //     placement: 'own',\n          //     initializer: descriptor.initializer,\n          //   }\n          // ],\n          // tslint:disable-next-line:no-any decorator\n          initializer(this: any) {\n            if (typeof element.initializer === 'function') {\n              this[element.key] = element.initializer.call(this);\n            }\n          },\n          finisher(clazz: typeof UpdatingElement) {\n            clazz.createProperty(element.key, options);\n          }\n        };\n      }\n    };\n\nconst legacyProperty =\n    (options: PropertyDeclaration, proto: Object, name: PropertyKey) => {\n      (proto.constructor as typeof UpdatingElement)\n          .createProperty(name, options);\n    };\n\n/**\n * A property decorator which creates a LitElement property which reflects a\n * corresponding attribute value. A `PropertyDeclaration` may optionally be\n * supplied to configure property features.\n *\n * @ExportDecoratedItems\n */\nexport function property(options?: PropertyDeclaration) {\n  // tslint:disable-next-line:no-any decorator\n  return (protoOrDescriptor: Object|ClassElement, name?: PropertyKey): any =>\n             (name !== undefined) ?\n      legacyProperty(options!, protoOrDescriptor as Object, name) :\n      standardProperty(options!, protoOrDescriptor as ClassElement);\n}\n\n/**\n * A property decorator that converts a class property into a getter that\n * executes a querySelector on the element's renderRoot.\n *\n * @ExportDecoratedItems\n */\nexport function query(selector: string) {\n  return (protoOrDescriptor: Object|ClassElement,\n          // tslint:disable-next-line:no-any decorator\n          name?: PropertyKey): any => {\n    const descriptor = {\n      get(this: LitElement) {\n        return this.renderRoot.querySelector(selector);\n      },\n      enumerable: true,\n      configurable: true,\n    };\n    return (name !== undefined) ?\n        legacyQuery(descriptor, protoOrDescriptor as Object, name) :\n        standardQuery(descriptor, protoOrDescriptor as ClassElement);\n  };\n}\n\n/**\n * A property decorator that converts a class property into a getter\n * that executes a querySelectorAll on the element's renderRoot.\n *\n * @ExportDecoratedItems\n */\nexport function queryAll(selector: string) {\n  return (protoOrDescriptor: Object|ClassElement,\n          // tslint:disable-next-line:no-any decorator\n          name?: PropertyKey): any => {\n    const descriptor = {\n      get(this: LitElement) {\n        return this.renderRoot.querySelectorAll(selector);\n      },\n      enumerable: true,\n      configurable: true,\n    };\n    return (name !== undefined) ?\n        legacyQuery(descriptor, protoOrDescriptor as Object, name) :\n        standardQuery(descriptor, protoOrDescriptor as ClassElement);\n  };\n}\n\nconst legacyQuery =\n    (descriptor: PropertyDescriptor, proto: Object, name: PropertyKey) => {\n      Object.defineProperty(proto, name, descriptor);\n    };\n\nconst standardQuery = (descriptor: PropertyDescriptor, element: ClassElement) =>\n    ({\n      kind: 'method',\n      placement: 'prototype',\n      key: element.key,\n      descriptor,\n    });\n\nconst standardEventOptions =\n    (options: AddEventListenerOptions, element: ClassElement) => {\n      return {\n        ...element,\n        finisher(clazz: typeof UpdatingElement) {\n          Object.assign(\n              clazz.prototype[element.key as keyof UpdatingElement], options);\n        }\n      };\n    };\n\nconst legacyEventOptions =\n    // tslint:disable-next-line:no-any legacy decorator\n    (options: AddEventListenerOptions, proto: any, name: PropertyKey) => {\n      Object.assign(proto[name], options);\n    };\n\n/**\n * Adds event listener options to a method used as an event listener in a\n * lit-html template.\n *\n * @param options An object that specifis event listener options as accepted by\n * `EventTarget#addEventListener` and `EventTarget#removeEventListener`.\n *\n * Current browsers support the `capture`, `passive`, and `once` options. See:\n * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Parameters\n *\n * @example\n *\n *     class MyElement {\n *\n *       clicked = false;\n *\n *       render() {\n *         return html`<div @click=${this._onClick}`><button></button></div>`;\n *       }\n *\n *       @eventOptions({capture: true})\n *       _onClick(e) {\n *         this.clicked = true;\n *       }\n *     }\n */\nexport const eventOptions = (options: AddEventListenerOptions) =>\n    // Return value typed as any to prevent TypeScript from complaining that\n    // standard decorator function signature does not match TypeScript decorator\n    // signature\n    // TODO(kschaaf): unclear why it was only failing on this decorator and not\n    // the others\n    ((protoOrDescriptor: Object|ClassElement, name?: string) =>\n         (name !== undefined) ?\n         legacyEventOptions(options, protoOrDescriptor as Object, name) :\n         standardEventOptions(options, protoOrDescriptor as ClassElement)) as\n        // tslint:disable-next-line:no-any decorator\n        any;\n","/**\n@license\nCopyright (c) 2019 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\n\nexport const supportsAdoptingStyleSheets =\n    ('adoptedStyleSheets' in Document.prototype) &&\n    ('replace' in CSSStyleSheet.prototype);\n\nconst constructionToken = Symbol();\n\nexport class CSSResult {\n  _styleSheet?: CSSStyleSheet|null;\n\n  readonly cssText: string;\n\n  constructor(cssText: string, safeToken: symbol) {\n    if (safeToken !== constructionToken) {\n      throw new Error(\n          'CSSResult is not constructable. Use `unsafeCSS` or `css` instead.');\n    }\n    this.cssText = cssText;\n  }\n\n  // Note, this is a getter so that it's lazy. In practice, this means\n  // stylesheets are not created until the first element instance is made.\n  get styleSheet(): CSSStyleSheet|null {\n    if (this._styleSheet === undefined) {\n      // Note, if `adoptedStyleSheets` is supported then we assume CSSStyleSheet\n      // is constructable.\n      if (supportsAdoptingStyleSheets) {\n        this._styleSheet = new CSSStyleSheet();\n        this._styleSheet.replaceSync(this.cssText);\n      } else {\n        this._styleSheet = null;\n      }\n    }\n    return this._styleSheet;\n  }\n\n  toString(): string {\n    return this.cssText;\n  }\n}\n\n/**\n * Wrap a value for interpolation in a css tagged template literal.\n *\n * This is unsafe because untrusted CSS text can be used to phone home\n * or exfiltrate data to an attacker controlled site. Take care to only use\n * this with trusted input.\n */\nexport const unsafeCSS = (value: unknown) => {\n  return new CSSResult(String(value), constructionToken);\n};\n\nconst textFromCSSResult = (value: CSSResult) => {\n  if (value instanceof CSSResult) {\n    return value.cssText;\n  } else {\n    throw new Error(\n        `Value passed to 'css' function must be a 'css' function result: ${\n            value}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`);\n  }\n};\n\n/**\n * Template tag which which can be used with LitElement's `style` property to\n * set element styles. For security reasons, only literal string values may be\n * used. To incorporate non-literal values `unsafeCSS` may be used inside a\n * template string part.\n */\nexport const css = (strings: TemplateStringsArray, ...values: CSSResult[]) => {\n  const cssText = values.reduce(\n      (acc, v, idx) => acc + textFromCSSResult(v) + strings[idx + 1],\n      strings[0]);\n  return new CSSResult(cssText, constructionToken);\n};\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport {TemplateResult} from 'lit-html';\nimport {render} from 'lit-html/lib/shady-render.js';\n\nimport {PropertyValues, UpdatingElement} from './lib/updating-element.js';\n\nexport * from './lib/updating-element.js';\nexport * from './lib/decorators.js';\nexport {html, svg, TemplateResult, SVGTemplateResult} from 'lit-html/lit-html.js';\nimport {supportsAdoptingStyleSheets, CSSResult} from './lib/css-tag.js';\nexport * from './lib/css-tag.js';\n\ndeclare global {\n  interface Window {\n    litElementVersions: string[];\n  }\n}\n\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for LitElement usage.\n// TODO(justinfagnani): inject version number at build time\n(window['litElementVersions'] || (window['litElementVersions'] = []))\n    .push('2.0.1');\n\nexport interface CSSResultArray extends Array<CSSResult|CSSResultArray> {}\n\n/**\n * Minimal implementation of Array.prototype.flat\n * @param arr the array to flatten\n * @param result the accumlated result\n */\nfunction arrayFlat(\n    styles: CSSResultArray, result: CSSResult[] = []): CSSResult[] {\n  for (let i = 0, length = styles.length; i < length; i++) {\n    const value = styles[i];\n    if (Array.isArray(value)) {\n      arrayFlat(value, result);\n    } else {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\n/** Deeply flattens styles array. Uses native flat if available. */\nconst flattenStyles = (styles: CSSResultArray): CSSResult[] =>\n    styles.flat ? styles.flat(Infinity) : arrayFlat(styles);\n\nexport class LitElement extends UpdatingElement {\n  /**\n   * Ensure this class is marked as `finalized` as an optimization ensuring\n   * it will not needlessly try to `finalize`.\n   */\n  protected static finalized = true;\n\n  /**\n   * Render method used to render the lit-html TemplateResult to the element's\n   * DOM.\n   * @param {TemplateResult} Template to render.\n   * @param {Element|DocumentFragment} Node into which to render.\n   * @param {String} Element name.\n   * @nocollapse\n   */\n  static render = render;\n\n  /**\n   * Array of styles to apply to the element. The styles should be defined\n   * using the `css` tag function.\n   */\n  static styles?: CSSResult|CSSResultArray;\n\n  private static _styles: CSSResult[]|undefined;\n\n  /** @nocollapse */\n  protected static finalize() {\n    super.finalize();\n    // Prepare styling that is stamped at first render time. Styling\n    // is built from user provided `styles` or is inherited from the superclass.\n    this._styles =\n        this.hasOwnProperty(JSCompiler_renameProperty('styles', this)) ?\n        this._getUniqueStyles() :\n        this._styles || [];\n  }\n\n  /** @nocollapse */\n  private static _getUniqueStyles(): CSSResult[] {\n    // Take care not to call `this.styles` multiple times since this generates\n    // new CSSResults each time.\n    // TODO(sorvell): Since we do not cache CSSResults by input, any\n    // shared styles will generate new stylesheet objects, which is wasteful.\n    // This should be addressed when a browser ships constructable\n    // stylesheets.\n    const userStyles = this.styles;\n    const styles: CSSResult[] = [];\n    if (Array.isArray(userStyles)) {\n      const flatStyles = flattenStyles(userStyles);\n      // As a performance optimization to avoid duplicated styling that can\n      // occur especially when composing via subclassing, de-duplicate styles\n      // preserving the last item in the list. The last item is kept to\n      // try to preserve cascade order with the assumption that it's most\n      // important that last added styles override previous styles.\n      const styleSet = flatStyles.reduceRight((set, s) => {\n        set.add(s);\n        // on IE set.add does not return the set.\n        return set;\n      }, new Set<CSSResult>());\n      // Array.from does not work on Set in IE\n      styleSet.forEach((v) => styles.unshift(v));\n    } else if (userStyles) {\n      styles.push(userStyles);\n    }\n    return styles;\n  }\n\n  private _needsShimAdoptedStyleSheets?: boolean;\n\n  /**\n   * Node or ShadowRoot into which element DOM should be rendered. Defaults\n   * to an open shadowRoot.\n   */\n  readonly renderRoot!: Element|DocumentFragment;\n\n  /**\n   * Performs element initialization. By default this calls `createRenderRoot`\n   * to create the element `renderRoot` node and captures any pre-set values for\n   * registered properties.\n   */\n  protected initialize() {\n    super.initialize();\n    (this as {renderRoot: Element | DocumentFragment}).renderRoot =\n        this.createRenderRoot();\n    // Note, if renderRoot is not a shadowRoot, styles would/could apply to the\n    // element's getRootNode(). While this could be done, we're choosing not to\n    // support this now since it would require different logic around de-duping.\n    if (window.ShadowRoot && this.renderRoot instanceof window.ShadowRoot) {\n      this.adoptStyles();\n    }\n  }\n\n  /**\n   * Returns the node into which the element should render and by default\n   * creates and returns an open shadowRoot. Implement to customize where the\n   * element's DOM is rendered. For example, to render into the element's\n   * childNodes, return `this`.\n   * @returns {Element|DocumentFragment} Returns a node into which to render.\n   */\n  protected createRenderRoot(): Element|ShadowRoot {\n    return this.attachShadow({mode: 'open'});\n  }\n\n  /**\n   * Applies styling to the element shadowRoot using the `static get styles`\n   * property. Styling will apply using `shadowRoot.adoptedStyleSheets` where\n   * available and will fallback otherwise. When Shadow DOM is polyfilled,\n   * ShadyCSS scopes styles and adds them to the document. When Shadow DOM\n   * is available but `adoptedStyleSheets` is not, styles are appended to the\n   * end of the `shadowRoot` to [mimic spec\n   * behavior](https://wicg.github.io/construct-stylesheets/#using-constructed-stylesheets).\n   */\n  protected adoptStyles() {\n    const styles = (this.constructor as typeof LitElement)._styles!;\n    if (styles.length === 0) {\n      return;\n    }\n    // There are three separate cases here based on Shadow DOM support.\n    // (1) shadowRoot polyfilled: use ShadyCSS\n    // (2) shadowRoot.adoptedStyleSheets available: use it.\n    // (3) shadowRoot.adoptedStyleSheets polyfilled: append styles after\n    // rendering\n    if (window.ShadyCSS !== undefined && !window.ShadyCSS.nativeShadow) {\n      window.ShadyCSS.ScopingShim.prepareAdoptedCssText(\n          styles.map((s) => s.cssText), this.localName);\n    } else if (supportsAdoptingStyleSheets) {\n      (this.renderRoot as ShadowRoot).adoptedStyleSheets =\n          styles.map((s) => s.styleSheet!);\n    } else {\n      // This must be done after rendering so the actual style insertion is done\n      // in `update`.\n      this._needsShimAdoptedStyleSheets = true;\n    }\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    // Note, first update/render handles styleElement so we only call this if\n    // connected after first update.\n    if (this.hasUpdated && window.ShadyCSS !== undefined) {\n      window.ShadyCSS.styleElement(this);\n    }\n  }\n\n  /**\n   * Updates the element. This method reflects property values to attributes\n   * and calls `render` to render DOM via lit-html. Setting properties inside\n   * this method will *not* trigger another update.\n   * * @param _changedProperties Map of changed properties with old values\n   */\n  protected update(changedProperties: PropertyValues) {\n    super.update(changedProperties);\n    const templateResult = this.render() as unknown;\n    if (templateResult instanceof TemplateResult) {\n      (this.constructor as typeof LitElement)\n          .render(\n              templateResult,\n              this.renderRoot,\n              {scopeName: this.localName, eventContext: this});\n    }\n    // When native Shadow DOM is used but adoptedStyles are not supported,\n    // insert styling after rendering to ensure adoptedStyles have highest\n    // priority.\n    if (this._needsShimAdoptedStyleSheets) {\n      this._needsShimAdoptedStyleSheets = false;\n      (this.constructor as typeof LitElement)._styles!.forEach((s) => {\n        const style = document.createElement('style');\n        style.textContent = s.cssText;\n        this.renderRoot.appendChild(style);\n      });\n    }\n  }\n\n  /**\n   * Invoked on each update to perform rendering tasks. This method must return\n   * a lit-html TemplateResult. Setting properties inside this method will *not*\n   * trigger the element to update.\n   */\n  protected render(): TemplateResult|void {\n  }\n}\n","import axios from 'axios';\nimport { html } from 'lit-html';\n/** Get the value for a named cookie */\nexport const getCookie = (name) => {\n    for (const cookie of document.cookie.split(';')) {\n        const idx = cookie.indexOf('=');\n        let key = cookie.substr(0, idx);\n        let value = cookie.substr(idx + 1);\n        // no spaces allowed\n        key = key.trim();\n        value = value.trim();\n        if (key === name) {\n            return value;\n        }\n    }\n    return null;\n};\nexport const getClasses = (map) => {\n    const classNames = [];\n    Object.keys(map).forEach((className) => {\n        if (map[className]) {\n            classNames.push(className);\n        }\n    });\n    let result = classNames.join(' ');\n    if (result.trim().length > 0) {\n        result = ' ' + result;\n    }\n    return result;\n};\nexport const getUrl = (url, cancelToken = null) => {\n    const csrf = getCookie('csrftoken');\n    const headers = csrf ? { 'X-CSRFToken': csrf } : {};\n    const config = { headers };\n    if (cancelToken) {\n        config.cancelToken = cancelToken;\n    }\n    return axios.get(url, config);\n};\nexport const postUrl = (url, payload) => {\n    const csrf = getCookie('csrftoken');\n    const headers = csrf ? { 'X-CSRFToken': csrf } : {};\n    return axios.post(url, payload, { headers });\n};\n/**\n */\nexport const renderIf = (predicate) => (then, otherwise) => {\n    return predicate ? then() : otherwise ? otherwise() : html ``;\n};\nexport const hexToRgb = (hex) => {\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result\n        ? {\n            r: parseInt(result[1], 16),\n            g: parseInt(result[2], 16),\n            b: parseInt(result[3], 16)\n        }\n        : null;\n};\nexport const getElementOffset = (ele) => {\n    const rect = ele.getBoundingClientRect();\n    const scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;\n    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n    return {\n        top: rect.top + scrollTop,\n        left: rect.left + scrollLeft,\n        bottom: rect.top + rect.height,\n        right: rect.left + rect.width,\n        width: rect.width,\n        height: rect.height\n    };\n};\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { css, customElement, html, LitElement, property } from 'lit-element';\nimport { getUrl, postUrl } from '../utils';\nimport autosize from 'autosize';\nlet AliasEditor = class AliasEditor extends LitElement {\n    constructor() {\n        super();\n        this.path = [];\n    }\n    static get styles() {\n        return css `\n\n      :host {\n        line-height: normal;\n      }\n\n      textarea {\n        border-radius: 5px;\n        border-color: var(--color-borders);\n        padding: 10px;\n        color: var(--color-text);\n        font-size: 14px;\n        resize: none;\n      }\n\n      textarea:focus {\n        box-shadow: none;\n        outline: none;\n      }\n\n      #left-column {\n        display: inline-block;\n        margin-left: 10px;\n        width: 300px;\n        z-index: 100;\n      }\n\n      .search {\n        margin-bottom: 10px;\n      }\n\n      .feature {\n        padding: 4px 14px;\n        font-size: 16px;\n      }\n\n      .level-0 {\n        margin-left: 0px;\n      }\n\n      .level-1 {\n        margin-left: 5px;\n        font-size: 95%;\n      }\n\n      .level-2 {\n        margin-left: 10px;\n        font-size: 90%;\n      }\n\n      .level-3 {\n        margin-left: 15px;\n        font-size: 85%;\n      }\n\n      .feature-name {\n        display: inline-block;\n      }\n\n      .clickable {\n        text-decoration: none;\n        cursor: pointer;\n        color: var(--color-link-primary);\n      }\n\n      .clickable.secondary {\n        color: var(--color-link-secondary);\n      }\n\n      .clickable:hover {\n        text-decoration: underline;\n        color: var(--color-link-primary-hover);\n      }\n\n      .feature:hover .showonhover {\n        visibility: visible;\n      }\n\n      .showonhover {\n        visibility: hidden;\n      }\n\n      .aliases {\n        color: #bbb;\n        font-size: 80%;\n        display: inline;\n        margin-left: 5px;\n      }\n\n      rp-label {\n        margin-right: 3px;\n        margin-bottom: 3px;\n        vertical-align: top;\n      }\n\n      .selected {\n        display: flex;\n        flex-direction: column;\n        padding: 15px;\n      }\n\n      .selected .name {\n        font-size: 18px;\n        padding: 5px;\n      }\n\n      .selected .help {\n        padding: 5px 2px;\n        font-size: 11px;\n        color: var(--color-secondary-light);\n      }\n\n      #right-column {\n        vertical-align: top;\n        margin-left: 20px;\n        display: inline-block;\n      }\n\n      leaflet-map {\n        height: 250px;\n        width: 450px;\n        border: 0px solid #999;\n        border-radius: 5px;\n      }\n\n      .edit {\n        display: inline-block;\n        margin-right: 0px;\n      }\n\n   `;\n    }\n    updated(changedProperties) {\n        if (changedProperties.has(\"osmId\")) {\n            // going up the tree doesn't require a fetch\n            const newPath = [];\n            for (let feature of this.path) {\n                newPath.push(feature);\n                if (feature.osm_id === this.osmId) {\n                    this.path = [...newPath];\n                    this.hideAliasDialog();\n                    return;\n                }\n            }\n            this.fetchFeature();\n        }\n    }\n    fetchFeature() {\n        getUrl(this.getEndpoint() + \"boundaries/\" + this.osmId + \"/\").then((response) => {\n            this.path = response.data;\n            this.hideAliasDialog();\n        });\n    }\n    /*\n     Makes sure our textarea grows with us\n     */\n    fireTextareaAutosize() {\n        window.setTimeout(() => {\n            autosize(this.shadowRoot.querySelector('textarea'));\n            autosize.update(this.shadowRoot.querySelector('textarea'));\n        }, 0);\n    }\n    handleMapClicked(feature) {\n        this.hovered = null;\n        if (!feature || feature.osm_id !== this.osmId) {\n            this.osmId = feature.osm_id;\n        }\n    }\n    handlePlaceClicked(feature) {\n        this.osmId = feature.osm_id;\n    }\n    handleSearchSelection(evt) {\n        const selection = evt.detail.selected;\n        this.showAliasDialog(selection);\n    }\n    renderFeature(feature, remainingPath) {\n        const selectedFeature = this.path[this.path.length - 1];\n        const clickable = ((feature.has_children || feature.level === 0) && feature !== selectedFeature);\n        const renderedFeature = html `\n      <div class=\"feature\">\n        <div \n          @mouseover=${() => { if (feature.level > 0) {\n            this.hovered = feature;\n        } }}\n          @mouseout=${() => { this.hovered = null; }}\n          class=\"level-${feature.level}\"\n        >\n\n \n\n        <div class=\"feature-name ${clickable ? 'clickable' : ''}\" \n          @click=${() => { if (clickable) {\n            this.handlePlaceClicked(feature);\n        } }}>\n          ${feature.name}\n        </div>\n\n        <div class=\"aliases\">\n          ${feature.aliases.split('\\n').map((alias) => alias.trim().length > 0 ? html `\n            <rp-label class=\"alias\" @click=${() => { this.showAliasDialog(feature); }} light clickable>${alias}</rp-label>\n          ` : null)}\n\n          ${feature.level > 0 ? html `\n          <div class=\"edit clickable showonhover\" @click=${(evt) => { this.showAliasDialog(feature); evt.preventDefault(); evt.stopPropagation(); }}>\n            <rp-icon name=\"register\" size=\"12\"></rp-icon>\n          </div>` : ''}\n        </div>\n\n      </div>\n        \n      </div>\n      `;\n        const renderedChildren = (feature.children || []).map((child) => {\n            if (remainingPath.length > 0 && (remainingPath[0].osm_id === child.osm_id)) {\n                return this.renderFeature(remainingPath[0], remainingPath.slice(1));\n            }\n            if (remainingPath.length === 0 || remainingPath[0].children.length === 0) {\n                return this.renderFeature(child, remainingPath);\n            }\n            return null;\n        });\n        return html `\n      ${renderedFeature}\n      ${renderedChildren}\n    `;\n    }\n    showAliasDialog(feature) {\n        this.editFeature = feature;\n        const aliasDialog = this.shadowRoot.getElementById(\"alias-dialog\");\n        if (aliasDialog) {\n            this.fireTextareaAutosize();\n            aliasDialog.setAttribute('open', '');\n        }\n    }\n    hideAliasDialog() {\n        const aliasDialog = this.shadowRoot.getElementById(\"alias-dialog\");\n        if (aliasDialog) {\n            aliasDialog.removeAttribute(\"open\");\n        }\n        this.requestUpdate();\n    }\n    getEndpoint() {\n        return this.endpoint + (!this.endpoint.endsWith('/') ? '/' : '');\n    }\n    handleDialogClick(button) {\n        if (button.name === \"Save\") {\n            button.setProgress(true);\n            const textarea = this.shadowRoot.getElementById(this.editFeature.osm_id);\n            const aliases = textarea.value;\n            const payload = { \"osm_id\": this.editFeature.osm_id, aliases };\n            postUrl(this.getEndpoint() + \"boundaries/\" + this.editFeature.osm_id + \"/\", payload).then((response) => {\n                this.fetchFeature();\n            });\n        }\n        if (button.name === \"Cancel\") {\n            this.hideAliasDialog();\n        }\n    }\n    renderOptionDetail(option, selected) {\n        const style = html `\n      <style>\n        rp-label {\n          margin-top: 3px;\n          margin-right: 3px;\n        }\n      </style>\n    `;\n        const aliasList = option.aliases.split('\\n');\n        const aliases = aliasList.map((alias) => alias.trim().length > 0 ? html `<rp-label class=\"alias\" dark>${alias}</rp-label>` : null);\n        return html `${style}<div class=\"path\">${option.path.replace(/>/gi, \"\")}</div><div class=\"aliases\">${aliases}</div>`;\n    }\n    render() {\n        if (this.path.length === 0) {\n            return html ``;\n        }\n        // if we are a leaf, have our map show the level above\n        const selectedFeature = this.path[this.path.length - 1];\n        const mapFeature = selectedFeature.children.length === 0 ? this.path[this.path.length - 2] : selectedFeature;\n        const editFeatureId = this.editFeature ? this.editFeature.osm_id : null;\n        const editFeatureName = this.editFeature ? this.editFeature.name : null;\n        const editFeatureAliases = this.editFeature ? this.editFeature.aliases : null;\n        return html `\n      <div id=\"left-column\">\n        <div class=\"search\">\n          <rp-select \n            placeholder=\"Search\" \n            endpoint=\"${this.getEndpoint()}boundaries/${this.path[0].osm_id}/?q=\"\n            .renderOptionDetail=${this.renderOptionDetail}\n            @rp-selection=${this.handleSearchSelection.bind(this)}\n          ></rp-select>\n      </div>\n        <div class=\"feature-tree\">\n          ${this.renderFeature(this.path[0], this.path.slice(1))}\n        </div>\n      </div>\n\n      <div id=\"right-column\">\n        <leaflet-map \n          endpoint=${this.getEndpoint()}\n          .feature=${mapFeature}\n          .osmId=${mapFeature.osm_id}\n          .hovered=${this.hovered}\n          .onFeatureClicked=${this.handleMapClicked.bind(this)}>\n        </leaflet-map>\n      </div>\n\n      <rp-dialog id=\"alias-dialog\" \n        title=\"Aliases for ${editFeatureName}\" \n        primaryButtonName=\"Save\"\n        .onButtonClicked=${this.handleDialogClick.bind(this)}>\n\n        <div class=\"selected\">\n          <textarea id=\"${editFeatureId}\" .value=${editFeatureAliases}></textarea>\n          <div class=\"help\">\n            Enter other aliases for ${editFeatureName}, one per line\n          </div>\n        </div>\n      </rp-dialog>             \n\n    `;\n    }\n};\n__decorate([\n    property({ type: Array, attribute: false })\n], AliasEditor.prototype, \"path\", void 0);\n__decorate([\n    property()\n], AliasEditor.prototype, \"endpoint\", void 0);\n__decorate([\n    property()\n], AliasEditor.prototype, \"osmId\", void 0);\n__decorate([\n    property({ type: Object })\n], AliasEditor.prototype, \"hovered\", void 0);\n__decorate([\n    property({ type: Object })\n], AliasEditor.prototype, \"editFeature\", void 0);\nAliasEditor = __decorate([\n    customElement(\"alias-editor\")\n], AliasEditor);\nexport default AliasEditor;\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { LitElement, html, css, customElement, property } from 'lit-element';\nimport { getClasses } from '../utils';\nlet Button = class Button extends LitElement {\n    static get styles() {\n        return css `\n      .button {\n        background: blue;\n        color: #fff;\n        cursor: pointer;\n        display: inline-block;\n        border-radius: var(--curvature);\n        outline: none;\n      }\n\n      .button:focus {\n        outline: none;\n        margin: 0;\n      }\n\n      .button:focus .mask{\n        background: rgb(0,0,0,.1);\n        box-shadow: 0 0 0px 2px var(--color-button-primary);\n      }\n\n      .button.secondary:focus .mask{\n        border: 1px solid var(--color-button-secondary);\n        background: transparent;\n        box-shadow: 0 0 0px 2px var(--color-button-secondary);\n      }\n\n      .mask {\n        padding: 5px 10px;\n        border-radius: var(--curvature);\n        border: 1px solid transparent;\n      }\n\n      .primary {\n        background: var(--color-button-primary);\n        color: var(--color-button-primary-text);\n      }\n\n      .secondary {\n        background: transparent;\n        color: var(--color-button-secondary);\n      }\n\n      .secondary:hover .mask{\n        border: 1px solid var(--color-button-secondary);\n      }\n\n      .button.progress{\n        background: #ddd;\n      }\n\n      .button.progress:focus .mask {\n        box-shadow: 0 0 0px 2px var(--color-button-secondary);\n      }\n\n      .mask:hover {\n        background: rgb(0,0,0,.1);\n      }\n\n      .secondary .mask:hover {\n        background: transparent;\n      }\n\n  `;\n    }\n    setProgress(progress) {\n        this.isProgress = progress;\n    }\n    handleKeyUp(event) {\n        if (event.key === \"Enter\") {\n            this.click();\n        }\n    }\n    render() {\n        return html `\n        <div class=\"button \n          ${getClasses({\n            \"progress\": this.isProgress,\n            \"primary\": this.primary,\n            \"secondary\": this.secondary\n        })}\"\n          tabindex=\"0\"\n          @keyup=${this.handleKeyUp}\n        >\n          <div class=\"mask\">\n            ${this.isProgress ? this.inProgessName || this.name : this.name}\n          </div>\n        </div>\n      `;\n    }\n};\n__decorate([\n    property({ type: Boolean })\n], Button.prototype, \"primary\", void 0);\n__decorate([\n    property({ type: Boolean })\n], Button.prototype, \"secondary\", void 0);\n__decorate([\n    property()\n], Button.prototype, \"name\", void 0);\n__decorate([\n    property()\n], Button.prototype, \"inProgessName\", void 0);\n__decorate([\n    property({ type: Boolean })\n], Button.prototype, \"isProgress\", void 0);\nButton = __decorate([\n    customElement(\"rp-button\")\n], Button);\nexport default Button;\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { customElement, property } from 'lit-element/lib/decorators';\nimport { LitElement, html, css } from 'lit-element';\nlet Dialog = class Dialog extends LitElement {\n    constructor() {\n        super();\n        this.primaryButtonName = \"Ok\";\n        this.cancelButtonName = \"Cancel\";\n        this.inProgressName = \"Saving\";\n    }\n    static get styles() {\n        return css `\n\n      .mask {\n        width: 100%;\n        background: rgba(0, 0, 0, .5);\n        opacity: 0;\n        visibility: hidden;\n        position: fixed;\n        top:0px;\n        left:0px;\n        z-index: 2000;\n        transition: all ease-in 250ms;\n      }\n\n      .dialog {\n        background: #fff;\n        width: 500px;\n        margin: 0px auto; \n        top: -200px;\n        position: relative;\n        transition: top ease-in-out 200ms;\n        border-radius: var(--curvature);\n        overflow: hidden;\n        box-shadow: 0px 0px 0px 4px rgba(0,0,0,.04);\n      }\n\n      .mask.open {\n        opacity: 1;\n        visibility: visible;\n      }\n\n      .title {\n        padding: 10px 20px;\n        font-size: 18px;\n        color: var(--color-text-light);\n        background: var(--color-primary-dark);\n      }\n\n      .footer {\n        background: var(--color-primary-light);\n        padding: 10px;\n        display: flex;\n        flex-flow: row-reverse;\n      }\n\n      rp-button {\n        margin-left: 5px;\n      }\n  `;\n    }\n    updated(changedProperties) {\n        if (changedProperties.has(\"open\")) {\n            // make sure our buttons aren't in progress on show\n            if (this.open) {\n                this.shadowRoot.querySelectorAll(\"rp-button\").forEach((button) => button.setProgress(false));\n                const inputs = this.querySelectorAll(\"textarea,input\");\n                if (inputs.length > 0) {\n                    window.setTimeout(() => {\n                        inputs[0].focus();\n                    }, 100);\n                }\n            }\n        }\n    }\n    handleClick(evt) {\n        const button = evt.currentTarget;\n        if (!button.isProgress) {\n            this.onButtonClicked(button);\n        }\n    }\n    getDocumentHeight() {\n        const body = document.body;\n        const html = document.documentElement;\n        return Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);\n    }\n    handleKeyUp(event) {\n        if (event.key === \"Escape\") {\n            // find our cancel button and click it\n            this.shadowRoot.querySelectorAll(\"rp-button\").forEach((button) => { if (button.name === this.cancelButtonName) {\n                button.click();\n            } });\n        }\n    }\n    render() {\n        const height = this.getDocumentHeight();\n        return html `\n        <style>\n          .mask {\n            height: ${height + 100}px;\n          }\n          .mask.open > .dialog {\n            top: 100px;\n          }\n        </style>\n        <div class=\"mask ${this.open ? 'open' : ''}\">\n          <div @keyup=${this.handleKeyUp} class=\"dialog\">\n            <div class=\"header\">\n              <div class=\"title\">${this.title}</div>\n            </div>\n            <div class=\"body\" @keypress=${this.handleKeyUp}>${this.body ? this.body : html `<slot></slot>`}</div>\n            <div class=\"footer\">\n              <rp-button @click=${this.handleClick} name=${this.primaryButtonName} inProgessName=${this.inProgressName} primary>}</rp-button>\n              <rp-button @click=${this.handleClick} name=${this.cancelButtonName} secondary></rp-button>\n            </div>\n          </div>      \n        </div>\n\n    `;\n    }\n};\n__decorate([\n    property({ type: Boolean })\n], Dialog.prototype, \"open\", void 0);\n__decorate([\n    property()\n], Dialog.prototype, \"title\", void 0);\n__decorate([\n    property()\n], Dialog.prototype, \"body\", void 0);\n__decorate([\n    property()\n], Dialog.prototype, \"primaryButtonName\", void 0);\n__decorate([\n    property({ type: String })\n], Dialog.prototype, \"cancelButtonName\", void 0);\n__decorate([\n    property()\n], Dialog.prototype, \"inProgressName\", void 0);\n__decorate([\n    property({ attribute: false })\n], Dialog.prototype, \"onButtonClicked\", void 0);\nDialog = __decorate([\n    customElement(\"rp-dialog\")\n], Dialog);\nexport default Dialog;\n","export var CustomEventType;\n(function (CustomEventType) {\n    CustomEventType[\"Canceled\"] = \"rp-canceled\";\n    CustomEventType[\"CursorChanged\"] = \"rp-cursor-changed\";\n    CustomEventType[\"Selection\"] = \"rp-selection\";\n})(CustomEventType || (CustomEventType = {}));\n","import { LitElement } from 'lit-element';\nexport default class RapidElement extends LitElement {\n    getEventHandlers() {\n        return [];\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        for (const handler of this.getEventHandlers()) {\n            document.addEventListener(handler.event, handler.method.bind(this));\n        }\n    }\n    disconnectedCallback() {\n        for (const handler of this.getEventHandlers()) {\n            document.removeEventListener(handler.event, handler.method);\n        }\n        super.disconnectedCallback();\n    }\n    fireEvent(type, detail = {}) {\n        const event = new CustomEvent(type, {\n            detail,\n            bubbles: true,\n            composed: true\n        });\n        this.dispatchEvent(event);\n    }\n    ;\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { customElement, html, property, css } from 'lit-element';\nimport { CustomEventType } from '../interfaces';\nimport RapidElement from '../RapidElement';\nlet Options = class Options extends RapidElement {\n    constructor() {\n        super(...arguments);\n        this.cursorIndex = 0;\n    }\n    static get styles() {\n        return css `\n      .options {\n        overflow-y: scroll;\n        background: #fff;\n        border-radius: 5px;\n        position: absolute;\n        border: 1px solid var(--color-borders);\n        box-shadow: 0px 0px 3px 1px rgba(0,0,0,.06);\n        transition: opacity ease-in-out 200ms, top ease-in-out 100ms; \n        max-height: 300px;\n        opacity: 0;\n        visibility: hidden;\n      }\n\n      .show {\n        opacity: 1;\n        visibility: visible;\n      }\n\n      .option {\n        font-size: 14px;\n        padding: 10px 20px;\n        border-radius: 5px;\n        margin: 5px;\n        cursor: pointer;\n        color: var(--color-text);\n      }\n\n      .option.focused {\n        background: rgba(var(--primary-rgb), .8);\n        color: var(--color-text-light);\n      }\n\n      .option .detail {\n        font-size: 80%;\n        color: rgba(255,255,255,.6);\n      }\n    `;\n    }\n    updated(changedProperties) {\n        super.updated(changedProperties);\n        // if our cursor changed, lets make sure our scrollbox is showing it\n        if (changedProperties.has(\"cursorIndex\")) {\n            const focusedEle = this.shadowRoot.querySelector(\".focused\");\n            if (focusedEle) {\n                const scrollBox = this.shadowRoot.querySelector(\".options\");\n                const scrollBoxHeight = scrollBox.getBoundingClientRect().height;\n                const focusedEleHeight = focusedEle.getBoundingClientRect().height;\n                if (focusedEle.offsetTop + focusedEleHeight > scrollBox.scrollTop + scrollBoxHeight - 5) {\n                    const scrollTo = focusedEle.offsetTop - scrollBoxHeight + focusedEleHeight + 5;\n                    scrollBox.scrollTo({ top: scrollTo });\n                }\n                else if (focusedEle.offsetTop < scrollBox.scrollTop) {\n                    const scrollTo = focusedEle.offsetTop - 5;\n                    scrollBox.scrollTo({ top: scrollTo });\n                }\n            }\n        }\n        if (changedProperties.has(\"options\")) {\n            this.calculatePosition();\n        }\n    }\n    renderOptionDefault(option, selected) {\n        const renderOptionName = (this.renderOptionName || this.renderOptionNameDefault);\n        const renderOptionDetail = (this.renderOptionDetail || this.renderOptionDetailDefault);\n        if (selected) {\n            return html `<div class=\"name\">${renderOptionName(option, selected)}</div><div class=\"detail\">${renderOptionDetail(option, selected)}</div>`;\n        }\n        else {\n            return html `<div class=\"name\">${renderOptionName(option, selected)}</div>`;\n        }\n    }\n    renderOptionNameDefault(option, selected) {\n        return html `${option.name}`;\n    }\n    renderOptionDetailDefault(option, selected) {\n        return html `${option.detail}`;\n    }\n    handleSelection() {\n        const selected = this.options[this.cursorIndex];\n        this.fireEvent(CustomEventType.Selection, { selected });\n    }\n    moveCursor(direction) {\n        const newIndex = Math.max(Math.min(this.cursorIndex + direction, this.options.length - 1), 0);\n        this.setCursor(newIndex);\n    }\n    setCursor(newIndex) {\n        if (newIndex !== this.cursorIndex) {\n            this.cursorIndex = newIndex;\n            this.fireEvent(CustomEventType.CursorChanged, { index: newIndex });\n        }\n    }\n    handleKeyDown(evt) {\n        if (this.visible) {\n            if ((evt.ctrlKey && evt.key === \"n\") || evt.key === \"ArrowDown\") {\n                this.moveCursor(1);\n                evt.preventDefault();\n            }\n            else if ((evt.ctrlKey && evt.key === \"p\") || evt.key === \"ArrowUp\") {\n                this.moveCursor(-1);\n                evt.preventDefault();\n            }\n            else if (evt.key === \"Enter\") {\n                this.handleSelection();\n            }\n            if (evt.key === \"Escape\") {\n                this.fireEvent(CustomEventType.Canceled);\n            }\n        }\n    }\n    calculatePosition() {\n        const optionsBounds = this.shadowRoot.querySelector('.options').getBoundingClientRect();\n        if (this.anchorTo) {\n            const anchorBounds = this.anchorTo.getBoundingClientRect();\n            const topTop = anchorBounds.top - optionsBounds.height;\n            if (topTop > 0 && anchorBounds.bottom + optionsBounds.height > window.innerHeight) {\n                this.top = topTop + window.pageYOffset;\n            }\n            else {\n                this.top = anchorBounds.bottom + window.pageYOffset;\n            }\n            this.width = anchorBounds.width;\n        }\n    }\n    getEventHandlers() {\n        return [\n            { event: 'keydown', method: this.handleKeyDown },\n            { event: 'scroll', method: this.calculatePosition }\n        ];\n    }\n    render() {\n        const renderOption = (this.renderOption || this.renderOptionDefault).bind(this);\n        return html `\n      <style>\n        .options {\n          top: ${this.top}px;\n          width: ${this.width}px;\n        }\n      </style>\n      <div class=\"options ${this.visible ? \"show\" : \"\"}\">\n        ${this.options.map((option, index) => html `\n          <div \n            @mousemove=${() => { this.setCursor(index); }}\n            @click=${() => { this.handleSelection(); }}\n            class=\"option ${index == this.cursorIndex ? 'focused' : ''}\">\n              ${renderOption(option, index == this.cursorIndex)}\n          </div>\n        `)}\n      </div>`;\n    }\n};\n__decorate([\n    property({ type: Number })\n], Options.prototype, \"top\", void 0);\n__decorate([\n    property({ type: Number })\n], Options.prototype, \"width\", void 0);\n__decorate([\n    property({ type: Object })\n], Options.prototype, \"anchorTo\", void 0);\n__decorate([\n    property({ type: Boolean })\n], Options.prototype, \"visible\", void 0);\n__decorate([\n    property({ type: Number })\n], Options.prototype, \"cursorIndex\", void 0);\n__decorate([\n    property({ type: Array })\n], Options.prototype, \"options\", void 0);\n__decorate([\n    property({ attribute: false })\n], Options.prototype, \"renderOption\", void 0);\n__decorate([\n    property({ attribute: false })\n], Options.prototype, \"renderOptionName\", void 0);\n__decorate([\n    property({ attribute: false })\n], Options.prototype, \"renderOptionDetail\", void 0);\nOptions = __decorate([\n    customElement(\"rp-options\")\n], Options);\nexport default Options;\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { customElement, html, css, property } from 'lit-element';\nimport { getUrl } from '../utils';\nimport axios from 'axios';\nimport '../options/Options';\nimport RapidElement from '../RapidElement';\nimport { CustomEventType } from '../interfaces';\nconst LOOK_AHEAD = 20;\nlet Select = class Select extends RapidElement {\n    constructor() {\n        super();\n        this.selected = [];\n        this.placeholder = '';\n        this.input = '';\n        this.options = [];\n        this.quietMillis = 200;\n        this.renderOptionDetail = () => { };\n    }\n    static get styles() {\n        return css `\n      :host {\n        display: flex;\n        flex-direction: column;\n      }\n    `;\n    }\n    updated(changedProperties) {\n        super.updated(changedProperties);\n        if (changedProperties.has(\"selected\")) {\n            this.input = \"\";\n            this.shadowRoot.querySelector(\"input\").blur();\n        }\n        if (changedProperties.has(\"input\") && !changedProperties.has(\"selected\")) {\n            if (!this.input) {\n                this.options = [];\n                return;\n            }\n            if (this.lastQuery) {\n                window.clearTimeout(this.lastQuery);\n            }\n            this.lastQuery = window.setTimeout(() => {\n                this.fetchOptions(this.input);\n            }, this.quietMillis);\n        }\n        // if our cursor changed, lets make sure our scrollbox is showing it\n        if (changedProperties.has(\"cursorIndex\")) {\n            if (this.options.length > 0 &&\n                this.query &&\n                !this.complete &&\n                this.cursorIndex > this.options.length - LOOK_AHEAD) {\n                this.fetchOptions(this.query, this.page + 1);\n            }\n        }\n    }\n    handleOptionSelection(event) {\n        const selected = event.detail.selected;\n        this.selected = [selected];\n        this.options = [];\n        this.input = selected.name;\n    }\n    fetchOptions(query, page = 0) {\n        if (!this.fetching) {\n            // make sure we cancel any previous request\n            if (this.cancelToken) {\n                this.cancelToken.cancel();\n            }\n            const CancelToken = axios.CancelToken;\n            this.cancelToken = CancelToken.source();\n            this.fetching = true;\n            getUrl(this.endpoint + encodeURIComponent(query) + \"&page=\" + page, this.cancelToken.token).then((response) => {\n                if (page === 0) {\n                    this.options = response.data.filter((option) => option.level > 0);\n                    this.cursorIndex = 0;\n                    this.query = query;\n                    this.complete = this.options.length === 0;\n                }\n                else {\n                    const newResults = response.data.filter((option) => option.level > 0);\n                    if (newResults.length > 0) {\n                        this.options = [...this.options, ...newResults];\n                    }\n                    this.complete = newResults.length === 0;\n                }\n                this.fetching = false;\n                this.page = page;\n            }).catch((reason) => {\n                // cancelled\n            });\n        }\n    }\n    handleBlur() {\n        // we don't do this immediately so we can handle click events outside of our input\n        window.setTimeout(() => { this.options = []; }, 100);\n    }\n    handleFocus() {\n    }\n    handleKeyUp(evt) {\n        const ele = evt.currentTarget;\n        this.input = ele.value.trim();\n    }\n    handleCancel() {\n        this.options = [];\n    }\n    handleCursorChanged(event) {\n        this.cursorIndex = event.detail.index;\n    }\n    getEventHandlers() {\n        return [\n            { event: CustomEventType.Canceled, method: this.handleCancel },\n            { event: CustomEventType.CursorChanged, method: this.handleCursorChanged },\n            { event: CustomEventType.Selection, method: this.handleOptionSelection },\n        ];\n    }\n    firstUpdated(changedProperties) {\n        this.anchorElement = this.shadowRoot.querySelector(\"rp-textinput\");\n    }\n    render() {\n        return html `\n      <rp-textinput\n        @keyup=${this.handleKeyUp}\n        @blur=${this.handleBlur} \n        @focus=${this.handleFocus} \n        .value=${this.input}  \n        placeholder=${this.placeholder}\n      ></rp-textinput>\n      <rp-options\n        cursorIndex=${this.cursorIndex}\n        .renderOptionDetail=${this.renderOptionDetail}\n        .renderOptionName=${this.renderOptionName}\n        .renderOption=${this.renderOption}\n        .anchorTo=${this.anchorElement}\n        .options=${this.options}\n        ?visible=${this.input.length > 0 && this.options.length > 0}\n      ></rp-options>\n    `;\n    }\n};\n__decorate([\n    property({ type: Array })\n], Select.prototype, \"selected\", void 0);\n__decorate([\n    property()\n], Select.prototype, \"placeholder\", void 0);\n__decorate([\n    property()\n], Select.prototype, \"endpoint\", void 0);\n__decorate([\n    property({ type: String })\n], Select.prototype, \"input\", void 0);\n__decorate([\n    property({ type: Array })\n], Select.prototype, \"options\", void 0);\n__decorate([\n    property({ type: Number })\n], Select.prototype, \"quietMillis\", void 0);\n__decorate([\n    property({ type: Boolean })\n], Select.prototype, \"fetching\", void 0);\n__decorate([\n    property({ attribute: false })\n], Select.prototype, \"cursorIndex\", void 0);\n__decorate([\n    property({ attribute: false })\n], Select.prototype, \"anchorElement\", void 0);\n__decorate([\n    property({ attribute: false })\n], Select.prototype, \"renderOption\", void 0);\n__decorate([\n    property({ attribute: false })\n], Select.prototype, \"renderOptionName\", void 0);\n__decorate([\n    property({ attribute: false })\n], Select.prototype, \"renderOptionDetail\", void 0);\nSelect = __decorate([\n    customElement(\"rp-select\")\n], Select);\nexport default Select;\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { customElement, html, css, property } from 'lit-element';\nimport RapidElement from '../RapidElement';\nlet TextInput = class TextInput extends RapidElement {\n    constructor() {\n        super(...arguments);\n        this.value = '';\n        this.placeholder = '';\n    }\n    static get styles() {\n        return css `\n      \n      .input-container {\n        border-radius: 5px;\n        overflow: hidden;\n        cursor: pointer;\n        background: var(--color-widget-bg);\n        border: 1px solid var(--color-widget-border);\n        box-shadow: none;\n        transition: all ease-in-out 200ms;\n      }\n\n      .input-container:focus-within {\n        border-color: var(--color-widget-border);\n        background: var(--color-widget-bg-focused);\n        box-shadow: var(--color-widget-shadow-focused) 1px 1px 6px 0px inset;\n      }\n\n      .input-container:hover {\n        background: var(--color-widget-bg-focused);\n      }\n\n      textarea {\n        height: 85%;\n      }\n\n      .textinput {\n        padding: 8px;\n        border: none;\n        width: 100%;\n        margin: 0;\n        background: transparent;\n        color: var(--color-text);\n        font-size: 13px;\n        cursor: pointer;\n        resize: none;\n      }\n\n      .textinput:focus {\n        outline: none;\n        cursor: text;\n      }\n\n    `;\n    }\n    handleKeyDown(evt) {\n        this.value = evt.target.value.trim();\n    }\n    render() {\n        console.log(\"placeholder:\", this.placeholder);\n        return html `\n    <style>\n      .input-container {\n        height: ${this.textarea ? '100%' : 'auto'};\n      }\n    </style>\n    <div class=\"input-container\" @click=${() => { this.shadowRoot.querySelector(\".textinput\").focus(); }}>\\\n      ${this.textarea ? html `\n        <textarea class=\"textinput\" \n          .value=${this.value} \n          @keyDown=${this.handleKeyDown} \n          placeholder=${this.placeholder}>\n        </textarea>\n      ` : html `\n        <input class=\"textinput\" \n          .value=${this.value} \n          @keyDown=${this.handleKeyDown} \n          placeholder=${this.placeholder}>\n      `}\n    </div>\n    `;\n    }\n};\n__decorate([\n    property({ type: Boolean })\n], TextInput.prototype, \"textarea\", void 0);\n__decorate([\n    property({ type: String })\n], TextInput.prototype, \"value\", void 0);\n__decorate([\n    property({ type: String })\n], TextInput.prototype, \"placeholder\", void 0);\nTextInput = __decorate([\n    customElement(\"rp-textinput\")\n], TextInput);\nexport default TextInput;\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { customElement, html, css, property } from 'lit-element';\nimport RapidElement from '../RapidElement';\nlet Completion = class Completion extends RapidElement {\n    static get styles() {\n        return css ``;\n    }\n    render() {\n        return html `<rp-textinput placeholder=${this.placeholder}></rp-textinput>`;\n    }\n};\n__decorate([\n    property({ type: String })\n], Completion.prototype, \"placeholder\", void 0);\nCompletion = __decorate([\n    customElement(\"rp-completion\")\n], Completion);\nexport default Completion;\n"],"sourceRoot":""}