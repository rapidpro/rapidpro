!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["rp-components"]=t():e["rp-components"]=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=29)}([function(e,t,n){"use strict";var r=n(5),i=n(11),o=Object.prototype.toString;function s(e){return"[object Array]"===o.call(e)}function a(e){return null!==e&&"object"==typeof e}function l(e){return"[object Function]"===o.call(e)}function c(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),s(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:i,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:l,isStream:function(e){return a(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,i=arguments.length;r<i;r++)c(arguments[r],n);return t},extend:function(e,t,n){return c(t,function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){e.exports=n(10)},function(e,t,n){"use strict";var r=n(0),i=n(13),o={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,l={adapter:("undefined"!=typeof XMLHttpRequest?a=n(6):"undefined"!=typeof process&&(a=n(6)),a),transformRequest:[function(e,t){return i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};l.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],function(e){l.headers[e]={}}),r.forEach(["post","put","patch"],function(e){l.headers[e]=r.merge(o)}),e.exports=l},function(e,t,n){var r,i,o;i=[e,t],void 0===(o="function"==typeof(r=function(e,t){"use strict";var n,r,i="function"==typeof Map?new Map:(n=[],r=[],{has:function(e){return n.indexOf(e)>-1},get:function(e){return r[n.indexOf(e)]},set:function(e,t){-1===n.indexOf(e)&&(n.push(e),r.push(t))},delete:function(e){var t=n.indexOf(e);t>-1&&(n.splice(t,1),r.splice(t,1))}}),o=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){o=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function s(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!i.has(e)){var t=null,n=null,r=null,s=function(){e.clientWidth!==n&&u()},a=function(t){window.removeEventListener("resize",s,!1),e.removeEventListener("input",u,!1),e.removeEventListener("keyup",u,!1),e.removeEventListener("autosize:destroy",a,!1),e.removeEventListener("autosize:update",u,!1),Object.keys(t).forEach(function(n){e.style[n]=t[n]}),i.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",a,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",u,!1),window.addEventListener("resize",s,!1),e.addEventListener("input",u,!1),e.addEventListener("autosize:update",u,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",i.set(e,{destroy:a,update:u}),"vertical"===(l=window.getComputedStyle(e,null)).resize?e.style.resize="none":"both"===l.resize&&(e.style.resize="horizontal"),t="content-box"===l.boxSizing?-(parseFloat(l.paddingTop)+parseFloat(l.paddingBottom)):parseFloat(l.borderTopWidth)+parseFloat(l.borderBottomWidth),isNaN(t)&&(t=0),u()}var l;function c(t){var n=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=n,e.style.overflowY=t}function p(){if(0!==e.scrollHeight){var r=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),i=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+t+"px",n=e.clientWidth,r.forEach(function(e){e.node.scrollTop=e.scrollTop}),i&&(document.documentElement.scrollTop=i)}}function u(){p();var t=Math.round(parseFloat(e.style.height)),n=window.getComputedStyle(e,null),i="content-box"===n.boxSizing?Math.round(parseFloat(n.height)):e.offsetHeight;if(i<t?"hidden"===n.overflowY&&(c("scroll"),p(),i="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==n.overflowY&&(c("hidden"),p(),i="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),r!==i){r=i;var s=o("autosize:resized");try{e.dispatchEvent(s)}catch(e){}}}}function a(e){var t=i.get(e);t&&t.destroy()}function l(e){var t=i.get(e);t&&t.update()}var c=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((c=function(e){return e}).destroy=function(e){return e},c.update=function(e){return e}):((c=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return s(e)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],a),e},c.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],l),e}),t.default=c,e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){!function(){var t=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],n="undefined"!=typeof window,r=n&&null!=window.mozInnerScreenX;function i(e,i,o){if(!n)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var s=o&&o.debug||!1;if(s){var a=document.querySelector("#input-textarea-caret-position-mirror-div");a&&a.parentNode.removeChild(a)}var l=document.createElement("div");l.id="input-textarea-caret-position-mirror-div",document.body.appendChild(l);var c=l.style,p=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,u="INPUT"===e.nodeName;c.whiteSpace="pre-wrap",u||(c.wordWrap="break-word"),c.position="absolute",s||(c.visibility="hidden"),t.forEach(function(e){u&&"lineHeight"===e?c.lineHeight=p.height:c[e]=p[e]}),r?e.scrollHeight>parseInt(p.height)&&(c.overflowY="scroll"):c.overflow="hidden",l.textContent=e.value.substring(0,i),u&&(l.textContent=l.textContent.replace(/\s/g," "));var h=document.createElement("span");h.textContent=e.value.substring(i)||".",l.appendChild(h);var d={top:h.offsetTop+parseInt(p.borderTopWidth),left:h.offsetLeft+parseInt(p.borderLeftWidth),height:parseInt(p.lineHeight)};return s?h.style.backgroundColor="#aaa":document.body.removeChild(l),d}void 0!==e.exports?e.exports=i:n&&(window.getCaretCoordinates=i)}()},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(0),i=n(14),o=n(16),s=n(17),a=n(18),l=n(7),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(19);e.exports=function(e){return new Promise(function(t,p){var u=e.data,h=e.headers;r.isFormData(u)&&delete h["Content-Type"];var d=new XMLHttpRequest,f="onreadystatechange",g=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in d||a(e.url)||(d=new window.XDomainRequest,f="onload",g=!0,d.onprogress=function(){},d.ontimeout=function(){}),e.auth){var m=e.auth.username||"",y=e.auth.password||"";h.Authorization="Basic "+c(m+":"+y)}if(d.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d[f]=function(){if(d&&(4===d.readyState||g)&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?s(d.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:n,config:e,request:d};i(t,p,r),d=null}},d.onerror=function(){p(l("Network Error",e,null,d)),d=null},d.ontimeout=function(){p(l("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var v=n(20),b=(e.withCredentials||a(e.url))&&e.xsrfCookieName?v.read(e.xsrfCookieName):void 0;b&&(h[e.xsrfHeaderName]=b)}if("setRequestHeader"in d&&r.forEach(h,function(e,t){void 0===u&&"content-type"===t.toLowerCase()?delete h[t]:d.setRequestHeader(t,e)}),e.withCredentials&&(d.withCredentials=!0),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){d&&(d.abort(),p(e),d=null)}),void 0===u&&(u=null),d.send(u)})}},function(e,t,n){"use strict";var r=n(15);e.exports=function(e,t,n,i,o){var s=new Error(e);return r(s,t,n,i,o)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";var r=n(0),i=n(5),o=n(12),s=n(2);function a(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var l=a(s);l.Axios=o,l.create=function(e){return a(r.merge(s,e))},l.Cancel=n(9),l.CancelToken=n(26),l.isCancel=n(8),l.all=function(e){return Promise.all(e)},l.spread=n(27),e.exports=l,e.exports.default=l},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(21),s=n(22);function a(e){this.defaults=e,this.interceptors={request:new o,response:new o}}a.prototype.request=function(e){"string"==typeof e&&(e=i.merge({url:arguments[0]},arguments[1])),(e=i.merge(r,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[s,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},i.forEach(["delete","get","head","options"],function(e){a.prototype[e]=function(t,n){return this.request(i.merge(n||{},{method:e,url:t}))}}),i.forEach(["post","put","patch"],function(e){a.prototype[e]=function(t,n,r){return this.request(i.merge(r||{},{method:e,url:t,data:n}))}}),e.exports=a},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){"use strict";var r=n(7);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e}},function(e,t,n){"use strict";var r=n(0);function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var s=[];r.forEach(t,function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))}))}),o=s.join("&")}return o&&(e+=(-1===e.indexOf("?")?"?":"&")+o),e}},function(e,t,n){"use strict";var r=n(0),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,s={};return e?(r.forEach(e.split("\n"),function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}}),s):s}},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function i(){this.message="String contains an invalid character"}i.prototype=new Error,i.prototype.code=5,i.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,n,o=String(e),s="",a=0,l=r;o.charAt(0|a)||(l="=",a%1);s+=l.charAt(63&t>>8-a%1*8)){if((n=o.charCodeAt(a+=.75))>255)throw new i;t=t<<8|n}return s}},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(0);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=i},function(e,t,n){"use strict";var r=n(0),i=n(23),o=n(8),s=n(2),a=n(24),l=n(25);function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.baseURL&&!a(e.url)&&(e.url=l(e.baseURL,e.url)),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||s.adapter)(e).then(function(t){return c(e),t.data=i(t.data,t.headers,e.transformResponse),t},function(t){return o(t)||(c(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(9);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i(function(t){e=t}),cancel:e}},e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){!function(t){"use strict";var n={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}|~{3,})([^`~\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:m,table:m,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/};function r(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||k.defaults,this.rules=n.normal,this.options.pedantic?this.rules=n.pedantic:this.options.gfm&&(this.rules=n.gfm)}n._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,n._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,n.def=h(n.def).replace("label",n._label).replace("title",n._title).getRegex(),n.bullet=/(?:[*+-]|\d{1,9}\.)/,n.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,n.item=h(n.item,"gm").replace(/bull/g,n.bullet).getRegex(),n.list=h(n.list).replace(/bull/g,n.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+n.def.source+")").getRegex(),n._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",n._comment=/<!--(?!-?>)[\s\S]*?-->/,n.html=h(n.html,"i").replace("comment",n._comment).replace("tag",n._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),n.paragraph=h(n._paragraph).replace("hr",n.hr).replace("heading"," {0,3}#{1,6} +").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}|~{3,})[^`\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",n._tag).getRegex(),n.blockquote=h(n.blockquote).replace("paragraph",n.paragraph).getRegex(),n.normal=y({},n),n.gfm=y({},n.normal,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),n.pedantic=y({},n.normal,{html:h("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",n._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:m,paragraph:h(n.normal._paragraph).replace("hr",n.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",n.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()}),r.rules=n,r.lex=function(e,t){return new r(t).lex(e)},r.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},r.prototype.token=function(e,t){var r,i,o,s,a,l,c,u,h,d,f,g,m,y,x,w;for(e=e.replace(/^ +$/gm,"");e;)if((o=this.rules.newline.exec(e))&&(e=e.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(e)){var k=this.tokens[this.tokens.length-1];e=e.substring(o[0].length),k&&"paragraph"===k.type?k.text+="\n"+o[0].trimRight():(o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",codeBlockStyle:"indented",text:this.options.pedantic?o:b(o,"\n")}))}else if(o=this.rules.fences.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"code",lang:o[2]?o[2].trim():o[2],text:o[3]||""});else if(o=this.rules.heading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if((o=this.rules.nptable.exec(e))&&(l={type:"table",header:v(o[1].replace(/^ *| *\| *$/g,"")),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3]?o[3].replace(/\n$/,"").split("\n"):[]}).header.length===l.align.length){for(e=e.substring(o[0].length),f=0;f<l.align.length;f++)/^ *-+: *$/.test(l.align[f])?l.align[f]="right":/^ *:-+: *$/.test(l.align[f])?l.align[f]="center":/^ *:-+ *$/.test(l.align[f])?l.align[f]="left":l.align[f]=null;for(f=0;f<l.cells.length;f++)l.cells[f]=v(l.cells[f],l.header.length);this.tokens.push(l)}else if(o=this.rules.hr.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,t),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(e)){for(e=e.substring(o[0].length),c={type:"list_start",ordered:y=(s=o[2]).length>1,start:y?+s:"",loose:!1},this.tokens.push(c),u=[],r=!1,m=(o=o[0].match(this.rules.item)).length,f=0;f<m;f++)d=(l=o[f]).length,~(l=l.replace(/^ *([*+-]|\d+\.) */,"")).indexOf("\n ")&&(d-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+d+"}","gm"),"")),f!==m-1&&(a=n.bullet.exec(o[f+1])[0],(s.length>1?1===a.length:a.length>1||this.options.smartLists&&a!==s)&&(e=o.slice(f+1).join("\n")+e,f=m-1)),i=r||/\n\n(?!\s*$)/.test(l),f!==m-1&&(r="\n"===l.charAt(l.length-1),i||(i=r)),i&&(c.loose=!0),w=void 0,(x=/^\[[ xX]\] /.test(l))&&(w=" "!==l[1],l=l.replace(/^\[[ xX]\] +/,"")),h={type:"list_item_start",task:x,checked:w,loose:i},u.push(h),this.tokens.push(h),this.token(l,!1),this.tokens.push({type:"list_item_end"});if(c.loose)for(m=u.length,f=0;f<m;f++)u[f].loose=!0;this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(e))e=e.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):p(o[0]):o[0]});else if(t&&(o=this.rules.def.exec(e)))e=e.substring(o[0].length),o[3]&&(o[3]=o[3].substring(1,o[3].length-1)),g=o[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[g]||(this.tokens.links[g]={href:o[2],title:o[3]});else if((o=this.rules.table.exec(e))&&(l={type:"table",header:v(o[1].replace(/^ *| *\| *$/g,"")),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3]?o[3].replace(/\n$/,"").split("\n"):[]}).header.length===l.align.length){for(e=e.substring(o[0].length),f=0;f<l.align.length;f++)/^ *-+: *$/.test(l.align[f])?l.align[f]="right":/^ *:-+: *$/.test(l.align[f])?l.align[f]="center":/^ *:-+ *$/.test(l.align[f])?l.align[f]="left":l.align[f]=null;for(f=0;f<l.cells.length;f++)l.cells[f]=v(l.cells[f].replace(/^ *\| *| *\| *$/g,""),l.header.length);this.tokens.push(l)}else if(o=this.rules.lheading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2].charAt(0)?1:2,text:o[1]});else if(t&&(o=this.rules.paragraph.exec(e)))e=e.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var i={escape:/^\\([!"#$%&'()*+,\-.\/:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:m,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*<\[])\*(?!\*)|^_([^\s<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s<"][\s\S]*?[^\s\*])\*(?!\*|[^\spunctuation])|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:m,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/};function o(e,t){if(this.options=t||k.defaults,this.links=e,this.rules=i.normal,this.renderer=this.options.renderer||new s,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=i.pedantic:this.options.gfm&&(this.options.breaks?this.rules=i.breaks:this.rules=i.gfm)}function s(e){this.options=e||k.defaults}function a(){}function l(e){this.tokens=[],this.token=null,this.options=e||k.defaults,this.options.renderer=this.options.renderer||new s,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new c}function c(){this.seen={}}function p(e,t){if(t){if(p.escapeTest.test(e))return e.replace(p.escapeReplace,function(e){return p.replacements[e]})}else if(p.escapeTestNoEncode.test(e))return e.replace(p.escapeReplaceNoEncode,function(e){return p.replacements[e]});return e}function u(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function h(e,t){return e=e.source||e,t=t||"",{replace:function(t,n){return n=(n=n.source||n).replace(/(^|[^\[])\^/g,"$1"),e=e.replace(t,n),this},getRegex:function(){return new RegExp(e,t)}}}function d(e,t,n){if(e){try{var r=decodeURIComponent(u(n)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}t&&!g.test(n)&&(n=function(e,t){f[" "+e]||(/^[^:]+:\/*[^\/]*$/.test(e)?f[" "+e]=e+"/":f[" "+e]=b(e,"/",!0));return e=f[" "+e],"//"===t.slice(0,2)?e.replace(/:[\s\S]*/,":")+t:"/"===t.charAt(0)?e.replace(/(:\/*[^\/]*)[\s\S]*/,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}i._punctuation="!\"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~",i.em=h(i.em).replace(/punctuation/g,i._punctuation).getRegex(),i._escapes=/\\([!"#$%&'()*+,\-.\/:;<=>?@\[\]\\^_`{|}~])/g,i._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,i._email=/[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,i.autolink=h(i.autolink).replace("scheme",i._scheme).replace("email",i._email).getRegex(),i._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,i.tag=h(i.tag).replace("comment",n._comment).replace("attribute",i._attribute).getRegex(),i._label=/(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,i._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,i._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,i.link=h(i.link).replace("label",i._label).replace("href",i._href).replace("title",i._title).getRegex(),i.reflink=h(i.reflink).replace("label",i._label).getRegex(),i.normal=y({},i),i.pedantic=y({},i.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:h(/^!?\[(label)\]\((.*?)\)/).replace("label",i._label).getRegex(),reflink:h(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",i._label).getRegex()}),i.gfm=y({},i.normal,{escape:h(i.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),i.gfm.url=h(i.gfm.url,"i").replace("email",i.gfm._extended_email).getRegex(),i.breaks=y({},i.gfm,{br:h(i.br).replace("{2,}","*").getRegex(),text:h(i.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),o.rules=i,o.output=function(e,t,n){return new o(t,n).output(e)},o.prototype.output=function(e){for(var t,n,r,i,s,a,l="";e;)if(s=this.rules.escape.exec(e))e=e.substring(s[0].length),l+=p(s[1]);else if(s=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(s[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(s[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(s[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(s[0])&&(this.inRawBlock=!1),e=e.substring(s[0].length),l+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(s[0]):p(s[0]):s[0];else if(s=this.rules.link.exec(e)){var c=x(s[2],"()");if(c>-1){var u=4+s[1].length+c;s[2]=s[2].substring(0,c),s[0]=s[0].substring(0,u).trim(),s[3]=""}e=e.substring(s[0].length),this.inLink=!0,r=s[2],this.options.pedantic?(t=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r))?(r=t[1],i=t[3]):i="":i=s[3]?s[3].slice(1,-1):"",r=r.trim().replace(/^<([\s\S]*)>$/,"$1"),l+=this.outputLink(s,{href:o.escapes(r),title:o.escapes(i)}),this.inLink=!1}else if((s=this.rules.reflink.exec(e))||(s=this.rules.nolink.exec(e))){if(e=e.substring(s[0].length),t=(s[2]||s[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){l+=s[0].charAt(0),e=s[0].substring(1)+e;continue}this.inLink=!0,l+=this.outputLink(s,t),this.inLink=!1}else if(s=this.rules.strong.exec(e))e=e.substring(s[0].length),l+=this.renderer.strong(this.output(s[4]||s[3]||s[2]||s[1]));else if(s=this.rules.em.exec(e))e=e.substring(s[0].length),l+=this.renderer.em(this.output(s[6]||s[5]||s[4]||s[3]||s[2]||s[1]));else if(s=this.rules.code.exec(e))e=e.substring(s[0].length),l+=this.renderer.codespan(p(s[2].trim(),!0));else if(s=this.rules.br.exec(e))e=e.substring(s[0].length),l+=this.renderer.br();else if(s=this.rules.del.exec(e))e=e.substring(s[0].length),l+=this.renderer.del(this.output(s[1]));else if(s=this.rules.autolink.exec(e))e=e.substring(s[0].length),r="@"===s[2]?"mailto:"+(n=p(this.mangle(s[1]))):n=p(s[1]),l+=this.renderer.link(r,null,n);else if(this.inLink||!(s=this.rules.url.exec(e))){if(s=this.rules.text.exec(e))e=e.substring(s[0].length),this.inRawBlock?l+=this.renderer.text(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(s[0]):p(s[0]):s[0]):l+=this.renderer.text(p(this.smartypants(s[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else{if("@"===s[2])r="mailto:"+(n=p(s[0]));else{do{a=s[0],s[0]=this.rules._backpedal.exec(s[0])[0]}while(a!==s[0]);n=p(s[0]),r="www."===s[1]?"http://"+n:n}e=e.substring(s[0].length),l+=this.renderer.link(r,null,n)}return l},o.escapes=function(e){return e?e.replace(o.rules._escapes,"$1"):e},o.prototype.outputLink=function(e,t){var n=t.href,r=t.title?p(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,p(e[1]))},o.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},o.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",r=e.length,i=0;i<r;i++)t=e.charCodeAt(i),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},s.prototype.code=function(e,t,n){var r=(t||"").match(/\S*/)[0];if(this.options.highlight){var i=this.options.highlight(e,r);null!=i&&i!==e&&(n=!0,e=i)}return r?'<pre><code class="'+this.options.langPrefix+p(r,!0)+'">'+(n?e:p(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:p(e,!0))+"</code></pre>"},s.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},s.prototype.html=function(e){return e},s.prototype.heading=function(e,t,n,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},s.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},s.prototype.list=function(e,t,n){var r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"},s.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},s.prototype.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},s.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},s.prototype.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},s.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},s.prototype.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},s.prototype.strong=function(e){return"<strong>"+e+"</strong>"},s.prototype.em=function(e){return"<em>"+e+"</em>"},s.prototype.codespan=function(e){return"<code>"+e+"</code>"},s.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},s.prototype.del=function(e){return"<del>"+e+"</del>"},s.prototype.link=function(e,t,n){if(null===(e=d(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<a href="'+p(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>"},s.prototype.image=function(e,t,n){if(null===(e=d(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},s.prototype.text=function(e){return e},a.prototype.strong=a.prototype.em=a.prototype.codespan=a.prototype.del=a.prototype.text=function(e){return e},a.prototype.link=a.prototype.image=function(e,t,n){return""+n},a.prototype.br=function(){return""},l.parse=function(e,t){return new l(t).parse(e)},l.prototype.parse=function(e){this.inline=new o(e.links,this.options),this.inlineText=new o(e.links,y({},this.options,{renderer:new a})),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},l.prototype.next=function(){return this.token=this.tokens.pop(),this.token},l.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},l.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},l.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,u(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,r,i="",o="";for(n="",e=0;e<this.token.header.length;e++)n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(i+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",r=0;r<t.length;r++)n+=this.renderer.tablecell(this.inline.output(t[r]),{header:!1,align:this.token.align[r]});o+=this.renderer.tablerow(n)}return this.renderer.table(i,o);case"blockquote_start":for(o="";"blockquote_end"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o);case"list_start":o="";for(var s=this.token.ordered,a=this.token.start;"list_end"!==this.next().type;)o+=this.tok();return this.renderer.list(o,s,a);case"list_item_start":o="";var l=this.token.loose,c=this.token.checked,p=this.token.task;for(this.token.task&&(o+=this.renderer.checkbox(c));"list_item_end"!==this.next().type;)o+=l||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(o,p,c);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:var h='Token with "'+this.token.type+'" type was not found.';if(!this.options.silent)throw new Error(h);console.log(h)}},c.prototype.slug=function(e){var t=e.toLowerCase().trim().replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,.\/:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(t)){var n=t;do{this.seen[n]++,t=n+"-"+this.seen[n]}while(this.seen.hasOwnProperty(t))}return this.seen[t]=0,t},p.escapeTest=/[&<>"']/,p.escapeReplace=/[&<>"']/g,p.replacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},p.escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/,p.escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g;var f={},g=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function m(){}function y(e){for(var t,n,r=1;r<arguments.length;r++)for(n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function v(e,t){var n=e.replace(/\|/g,function(e,t,n){for(var r=!1,i=t;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"}).split(/ \|/),r=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function b(e,t,n){if(0===e.length)return"";for(var r=0;r<e.length;){var i=e.charAt(e.length-r-1);if(i!==t||n){if(i===t||!n)break;r++}else r++}return e.substr(0,e.length-r)}function x(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=0,r=0;r<e.length;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&--n<0)return r;return-1}function w(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function k(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(n||"function"==typeof t){n||(n=t,t=null),w(t=y({},k.defaults,t||{}));var i,o,s=t.highlight,a=0;try{i=r.lex(e,t)}catch(e){return n(e)}o=i.length;var c=function(e){if(e)return t.highlight=s,n(e);var r;try{r=l.parse(i,t)}catch(t){e=t}return t.highlight=s,e?n(e):n(null,r)};if(!s||s.length<3)return c();if(delete t.highlight,!o)return c();for(;a<i.length;a++)!function(e){"code"!==e.type?--o||c():s(e.text,e.lang,function(t,n){return t?c(t):null==n||n===e.text?--o||c():(e.text=n,e.escaped=!0,void(--o||c()))})}(i[a])}else try{return t&&(t=y({},k.defaults,t)),w(t),l.parse(r.lex(e,t),t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(t||k.defaults).silent)return"<p>An error occurred:</p><pre>"+p(e.message+"",!0)+"</pre>";throw e}}m.exec=m,k.options=k.setOptions=function(e){return y(k.defaults,e),k},k.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new s,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,xhtml:!1}},k.defaults=k.getDefaults(),k.Parser=l,k.parser=l.parse,k.Renderer=s,k.TextRenderer=a,k.Lexer=r,k.lexer=r.lex,k.InlineLexer=o,k.inlineLexer=o.output,k.Slugger=c,k.parse=k,e.exports=k}(this||("undefined"!=typeof window?window:global))},function(e,t,n){"use strict";n.r(t);const r=new WeakMap,i=e=>(function(){const t=e(...arguments);return r.set(t,!0),t}),o=e=>"function"==typeof e&&r.has(e),s=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;for(;t!==n;){const n=t.nextSibling;e.removeChild(t),t=n}},l={},c={},p=`{{lit-${String(Math.random()).slice(2)}}}`,u=`\x3c!--${p}--\x3e`,h=new RegExp(`${p}|${u}`),d="$lit$";class f{constructor(e,t){this.parts=[],this.element=t;const n=[],r=[],i=document.createTreeWalker(t.content,133,null,!1);let o=0,s=-1,a=0;const{strings:l,values:{length:c}}=e;for(;a<c;){const e=i.nextNode();if(null!==e){if(s++,1===e.nodeType){if(e.hasAttributes()){const t=e.attributes,{length:n}=t;let r=0;for(let e=0;e<n;e++)g(t[e].name,d)&&r++;for(;r-- >0;){const t=l[a],n=v.exec(t)[2],r=n.toLowerCase()+d,i=e.getAttribute(r);e.removeAttribute(r);const o=i.split(h);this.parts.push({type:"attribute",index:s,name:n,strings:o}),a+=o.length-1}}"TEMPLATE"===e.tagName&&(r.push(e),i.currentNode=e.content)}else if(3===e.nodeType){const t=e.data;if(t.indexOf(p)>=0){const r=e.parentNode,i=t.split(h),o=i.length-1;for(let t=0;t<o;t++){let n,o=i[t];if(""===o)n=y();else{const e=v.exec(o);null!==e&&g(e[2],d)&&(o=o.slice(0,e.index)+e[1]+e[2].slice(0,-d.length)+e[3]),n=document.createTextNode(o)}r.insertBefore(n,e),this.parts.push({type:"node",index:++s})}""===i[o]?(r.insertBefore(y(),e),n.push(e)):e.data=i[o],a+=o}}else if(8===e.nodeType)if(e.data===p){const t=e.parentNode;null!==e.previousSibling&&s!==o||(s++,t.insertBefore(y(),e)),o=s,this.parts.push({type:"node",index:s}),null===e.nextSibling?e.data="":(n.push(e),s--),a++}else{let t=-1;for(;-1!==(t=e.data.indexOf(p,t+1));)this.parts.push({type:"node",index:-1}),a++}}else i.currentNode=r.pop()}for(const e of n)e.parentNode.removeChild(e)}}const g=(e,t)=>{const n=e.length-t.length;return n>=0&&e.slice(n)===t},m=e=>-1!==e.index,y=()=>document.createComment(""),v=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=\/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;class b{constructor(e,t,n){this.__parts=[],this.template=e,this.processor=t,this.options=n}update(e){let t=0;for(const n of this.__parts)void 0!==n&&n.setValue(e[t]),t++;for(const e of this.__parts)void 0!==e&&e.commit()}_clone(){const e=s?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),t=[],n=this.template.parts,r=document.createTreeWalker(e,133,null,!1);let i,o=0,a=0,l=r.nextNode();for(;o<n.length;)if(i=n[o],m(i)){for(;a<i.index;)a++,"TEMPLATE"===l.nodeName&&(t.push(l),r.currentNode=l.content),null===(l=r.nextNode())&&(r.currentNode=t.pop(),l=r.nextNode());if("node"===i.type){const e=this.processor.handleTextExpression(this.options);e.insertAfterNode(l.previousSibling),this.__parts.push(e)}else this.__parts.push(...this.processor.handleAttributeExpressions(l,i.name,i.strings,this.options));o++}else this.__parts.push(void 0),o++;return s&&(document.adoptNode(e),customElements.upgrade(e)),e}}class x{constructor(e,t,n,r){this.strings=e,this.values=t,this.type=n,this.processor=r}getHTML(){const e=this.strings.length-1;let t="",n=!1;for(let r=0;r<e;r++){const e=this.strings[r],i=e.lastIndexOf("\x3c!--");n=(i>-1||n)&&-1===e.indexOf("--\x3e",i+1);const o=v.exec(e);t+=null===o?e+(n?p:u):e.substr(0,o.index)+o[1]+o[2]+d+o[3]+p}return t+=this.strings[e]}getTemplateElement(){const e=document.createElement("template");return e.innerHTML=this.getHTML(),e}}const w=e=>null===e||!("object"==typeof e||"function"==typeof e),k=e=>Array.isArray(e)||!(!e||!e[Symbol.iterator]);class _{constructor(e,t,n){this.dirty=!0,this.element=e,this.name=t,this.strings=n,this.parts=[];for(let e=0;e<n.length-1;e++)this.parts[e]=this._createPart()}_createPart(){return new S(this)}_getValue(){const e=this.strings,t=e.length-1;let n="";for(let r=0;r<t;r++){n+=e[r];const t=this.parts[r];if(void 0!==t){const e=t.value;if(w(e)||!k(e))n+="string"==typeof e?e:String(e);else for(const t of e)n+="string"==typeof t?t:String(t)}}return n+=e[t]}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class S{constructor(e){this.value=void 0,this.committer=e}setValue(e){e===l||w(e)&&e===this.value||(this.value=e,o(e)||(this.committer.dirty=!0))}commit(){for(;o(this.value);){const e=this.value;this.value=l,e(this)}this.value!==l&&this.committer.commit()}}class C{constructor(e){this.value=void 0,this.__pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(y()),this.endNode=e.appendChild(y())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e.__insert(this.startNode=y()),e.__insert(this.endNode=y())}insertAfterPart(e){e.__insert(this.startNode=y()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this.__pendingValue=e}commit(){for(;o(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=l,e(this)}const e=this.__pendingValue;e!==l&&(w(e)?e!==this.value&&this.__commitText(e):e instanceof x?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):k(e)?this.__commitIterable(e):e===c?(this.value=c,this.clear()):this.__commitText(e))}__insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}__commitNode(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}__commitText(e){const t=this.startNode.nextSibling;e=null==e?"":e,t===this.endNode.previousSibling&&3===t.nodeType?t.data=e:this.__commitNode(document.createTextNode("string"==typeof e?e:String(e))),this.value=e}__commitTemplateResult(e){const t=this.options.templateFactory(e);if(this.value instanceof b&&this.value.template===t)this.value.update(e.values);else{const n=new b(t,e.processor,this.options),r=n._clone();n.update(e.values),this.__commitNode(r),this.value=n}}__commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const t=this.value;let n,r=0;for(const i of e)void 0===(n=t[r])&&(n=new C(this.options),t.push(n),0===r?n.appendIntoPart(this):n.insertAfterPart(t[r-1])),n.setValue(i),n.commit(),r++;r<t.length&&(t.length=r,this.clear(n&&n.endNode))}clear(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.startNode;a(this.startNode.parentNode,e.nextSibling,this.endNode)}}class E{constructor(e,t,n){if(this.value=void 0,this.__pendingValue=void 0,2!==n.length||""!==n[0]||""!==n[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=t,this.strings=n}setValue(e){this.__pendingValue=e}commit(){for(;o(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=l,e(this)}if(this.__pendingValue===l)return;const e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=l}}class $ extends _{constructor(e,t,n){super(e,t,n),this.single=2===n.length&&""===n[0]&&""===n[1]}_createPart(){return new A(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class A extends S{}let P=!1;try{const e={get capture(){return P=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){}class T{constructor(e,t,n){this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=t,this.eventContext=n,this.__boundHandleEvent=(e=>this.handleEvent(e))}setValue(e){this.__pendingValue=e}commit(){for(;o(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=l,e(this)}if(this.__pendingValue===l)return;const e=this.__pendingValue,t=this.value,n=null==e||null!=t&&(e.capture!==t.capture||e.once!==t.once||e.passive!==t.passive),r=null!=e&&(null==t||n);n&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),r&&(this.__options=O(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=l}handleEvent(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}const O=e=>e&&(P?{capture:e.capture,passive:e.passive,once:e.once}:e.capture);const R=new class{handleAttributeExpressions(e,t,n,r){const i=t[0];return"."===i?new $(e,t.slice(1),n).parts:"@"===i?[new T(e,t.slice(1),r.eventContext)]:"?"===i?[new E(e,t.slice(1),n)]:new _(e,t,n).parts}handleTextExpression(e){return new C(e)}};function N(e){let t=z.get(e.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},z.set(e.type,t));let n=t.stringsArray.get(e.strings);if(void 0!==n)return n;const r=e.strings.join(p);return void 0===(n=t.keyString.get(r))&&(n=new f(e,e.getTemplateElement()),t.keyString.set(r,n)),t.stringsArray.set(e.strings,n),n}const z=new Map,j=new WeakMap;(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.0.0");const q=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new x(e,n,"html",R)},L=133;function B(e,t){const{element:{content:n},parts:r}=e,i=document.createTreeWalker(n,L,null,!1);let o=I(r),s=r[o],a=-1,l=0;const c=[];let p=null;for(;i.nextNode();){a++;const e=i.currentNode;for(e.previousSibling===p&&(p=null),t.has(e)&&(c.push(e),null===p&&(p=e)),null!==p&&l++;void 0!==s&&s.index===a;)s.index=null!==p?-1:s.index-l,s=r[o=I(r,o)]}c.forEach(e=>e.parentNode.removeChild(e))}const D=e=>{let t=11===e.nodeType?0:1;const n=document.createTreeWalker(e,L,null,!1);for(;n.nextNode();)t++;return t},I=function(e){for(let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1)+1;t<e.length;t++){const n=e[t];if(m(n))return t}return-1};const U=(e,t)=>`${e}--${t}`;let F=!0;void 0===window.ShadyCSS?F=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),F=!1);const M=e=>t=>{const n=U(t.type,e);let r=z.get(n);void 0===r&&(r={stringsArray:new WeakMap,keyString:new Map},z.set(n,r));let i=r.stringsArray.get(t.strings);if(void 0!==i)return i;const o=t.strings.join(p);if(void 0===(i=r.keyString.get(o))){const n=t.getTemplateElement();F&&window.ShadyCSS.prepareTemplateDom(n,e),i=new f(t,n),r.keyString.set(o,i)}return r.stringsArray.set(t.strings,i),i},V=["html","svg"],H=new Set,W=(e,t,n)=>{H.add(n);const r=e.querySelectorAll("style"),{length:i}=r;if(0===i)return void window.ShadyCSS.prepareTemplateStyles(t.element,n);const o=document.createElement("style");for(let e=0;e<i;e++){const t=r[e];t.parentNode.removeChild(t),o.textContent+=t.textContent}(e=>{V.forEach(t=>{const n=z.get(U(t,e));void 0!==n&&n.keyString.forEach(e=>{const{element:{content:t}}=e,n=new Set;Array.from(t.querySelectorAll("style")).forEach(e=>{n.add(e)}),B(e,n)})})})(n);const s=t.element.content;!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const{element:{content:r},parts:i}=e;if(null==n)return void r.appendChild(t);const o=document.createTreeWalker(r,L,null,!1);let s=I(i),a=0,l=-1;for(;o.nextNode();)for(l++,o.currentNode===n&&(a=D(t),n.parentNode.insertBefore(t,n));-1!==s&&i[s].index===l;){if(a>0){for(;-1!==s;)i[s].index+=a,s=I(i,s);return}s=I(i,s)}}(t,o,s.firstChild),window.ShadyCSS.prepareTemplateStyles(t.element,n);const a=s.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==a)e.insertBefore(a.cloneNode(!0),e.firstChild);else{s.insertBefore(o,s.firstChild);const e=new Set;e.add(o),B(t,e)}};window.JSCompiler_renameProperty=((e,t)=>e);const Z={toAttribute(e,t){switch(t){case Boolean:return e?"":null;case Object:case Array:return null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){switch(t){case Boolean:return null!==e;case Number:return null===e?null:Number(e);case Object:case Array:return JSON.parse(e)}return e}},X=(e,t)=>t!==e&&(t==t||e==e),K={attribute:!0,type:String,converter:Z,reflect:!1,hasChanged:X},J=Promise.resolve(!0),Q=1,Y=4,G=8,ee=16,te=32;class ne extends HTMLElement{constructor(){super(),this._updateState=0,this._instanceProperties=void 0,this._updatePromise=J,this._hasConnectedResolver=void 0,this._changedProperties=new Map,this._reflectingProperties=void 0,this.initialize()}static get observedAttributes(){this.finalize();const e=[];return this._classProperties.forEach((t,n)=>{const r=this._attributeNameForProperty(n,t);void 0!==r&&(this._attributeToPropertyMap.set(r,n),e.push(r))}),e}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const e=Object.getPrototypeOf(this)._classProperties;void 0!==e&&e.forEach((e,t)=>this._classProperties.set(t,e))}}static createProperty(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:K;if(this._ensureClassProperties(),this._classProperties.set(e,t),t.noAccessor||this.prototype.hasOwnProperty(e))return;const n="symbol"==typeof e?Symbol():`__${e}`;Object.defineProperty(this.prototype,e,{get(){return this[n]},set(t){const r=this[e];this[n]=t,this._requestUpdate(e,r)},configurable:!0,enumerable:!0})}static finalize(){if(this.hasOwnProperty(JSCompiler_renameProperty("finalized",this))&&this.finalized)return;const e=Object.getPrototypeOf(this);if("function"==typeof e.finalize&&e.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const e=this.properties,t=[...Object.getOwnPropertyNames(e),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[]];for(const n of t)this.createProperty(n,e[n])}}static _attributeNameForProperty(e,t){const n=t.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof e?e.toLowerCase():void 0}static _valueHasChanged(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:X)(e,t)}static _propertyValueFromAttribute(e,t){const n=t.type,r=t.converter||Z,i="function"==typeof r?r:r.fromAttribute;return i?i(e,n):e}static _propertyValueToAttribute(e,t){if(void 0===t.reflect)return;const n=t.type,r=t.converter;return(r&&r.toAttribute||Z.toAttribute)(e,n)}initialize(){this._saveInstanceProperties(),this._requestUpdate()}_saveInstanceProperties(){this.constructor._classProperties.forEach((e,t)=>{if(this.hasOwnProperty(t)){const e=this[t];delete this[t],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(t,e)}})}_applyInstanceProperties(){this._instanceProperties.forEach((e,t)=>this[t]=e),this._instanceProperties=void 0}connectedCallback(){this._updateState=this._updateState|te,this._hasConnectedResolver&&(this._hasConnectedResolver(),this._hasConnectedResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(e,t,n){t!==n&&this._attributeToProperty(e,n)}_propertyToAttribute(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:K;const r=this.constructor,i=r._attributeNameForProperty(e,n);if(void 0!==i){const e=r._propertyValueToAttribute(t,n);if(void 0===e)return;this._updateState=this._updateState|G,null==e?this.removeAttribute(i):this.setAttribute(i,e),this._updateState=this._updateState&~G}}_attributeToProperty(e,t){if(this._updateState&G)return;const n=this.constructor,r=n._attributeToPropertyMap.get(e);if(void 0!==r){const e=n._classProperties.get(r)||K;this._updateState=this._updateState|ee,this[r]=n._propertyValueFromAttribute(t,e),this._updateState=this._updateState&~ee}}_requestUpdate(e,t){let n=!0;if(void 0!==e){const r=this.constructor,i=r._classProperties.get(e)||K;r._valueHasChanged(this[e],t,i.hasChanged)?(this._changedProperties.has(e)||this._changedProperties.set(e,t),!0!==i.reflect||this._updateState&ee||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(e,i))):n=!1}!this._hasRequestedUpdate&&n&&this._enqueueUpdate()}requestUpdate(e,t){return this._requestUpdate(e,t),this.updateComplete}async _enqueueUpdate(){let e,t;this._updateState=this._updateState|Y;const n=this._updatePromise;this._updatePromise=new Promise((n,r)=>{e=n,t=r});try{await n}catch(e){}this._hasConnected||await new Promise(e=>this._hasConnectedResolver=e);try{const e=this.performUpdate();null!=e&&await e}catch(e){t(e)}e(!this._hasRequestedUpdate)}get _hasConnected(){return this._updateState&te}get _hasRequestedUpdate(){return this._updateState&Y}get hasUpdated(){return this._updateState&Q}performUpdate(){this._instanceProperties&&this._applyInstanceProperties();let e=!1;const t=this._changedProperties;try{(e=this.shouldUpdate(t))&&this.update(t)}catch(t){throw e=!1,t}finally{this._markUpdated()}e&&(this._updateState&Q||(this._updateState=this._updateState|Q,this.firstUpdated(t)),this.updated(t))}_markUpdated(){this._changedProperties=new Map,this._updateState=this._updateState&~Y}get updateComplete(){return this._updatePromise}shouldUpdate(e){return!0}update(e){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((e,t)=>this._propertyToAttribute(t,this[t],e)),this._reflectingProperties=void 0)}updated(e){}firstUpdated(e){}}ne.finalized=!0;const re=e=>t=>"function"==typeof t?((e,t)=>(window.customElements.define(e,t),t))(e,t):((e,t)=>{const{kind:n,elements:r}=t;return{kind:n,elements:r,finisher(t){window.customElements.define(e,t)}}})(e,t),ie=(e,t)=>"method"!==t.kind||!t.descriptor||"value"in t.descriptor?{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(n){n.createProperty(t.key,e)}}:Object.assign({},t,{finisher(n){n.createProperty(t.key,e)}}),oe=(e,t,n)=>{t.constructor.createProperty(n,e)};function se(e){return(t,n)=>void 0!==n?oe(e,t,n):ie(e,t)}const ae="adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,le=Symbol();class ce{constructor(e,t){if(t!==le)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){return void 0===this._styleSheet&&(ae?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}const pe=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.reduce((t,n,r)=>t+(e=>{if(e instanceof ce)return e.cssText;throw new Error(`Value passed to 'css' function must be a 'css' function result: ${e}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`)})(n)+e[r+1],e[0]);return new ce(i,le)};(window.litElementVersions||(window.litElementVersions=[])).push("2.0.1");const ue=e=>e.flat?e.flat(1/0):function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(let r=0,i=t.length;r<i;r++){const i=t[r];Array.isArray(i)?e(i,n):n.push(i)}return n}(e);class he extends ne{static finalize(){super.finalize(),this._styles=this.hasOwnProperty(JSCompiler_renameProperty("styles",this))?this._getUniqueStyles():this._styles||[]}static _getUniqueStyles(){const e=this.styles,t=[];if(Array.isArray(e)){ue(e).reduceRight((e,t)=>(e.add(t),e),new Set).forEach(e=>t.unshift(e))}else e&&t.push(e);return t}initialize(){super.initialize(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){const e=this.constructor._styles;0!==e.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?ae?this.renderRoot.adoptedStyleSheets=e.map(e=>e.styleSheet):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(e.map(e=>e.cssText),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(e){super.update(e);const t=this.render();t instanceof x&&this.constructor.render(t,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(e=>{const t=document.createElement("style");t.textContent=e.cssText,this.renderRoot.appendChild(t)}))}render(){}}he.finalized=!0,he.render=((e,t,n)=>{const r=n.scopeName,i=j.has(t),o=F&&11===t.nodeType&&!!t.host&&e instanceof x,s=o&&!H.has(r),l=s?document.createDocumentFragment():t;if(((e,t,n)=>{let r=j.get(t);void 0===r&&(a(t,t.firstChild),j.set(t,r=new C(Object.assign({templateFactory:N},n))),r.appendInto(t)),r.setValue(e),r.commit()})(e,l,Object.assign({templateFactory:M(r)},n)),s){const e=j.get(l);j.delete(l),e.value instanceof b&&W(l,e.value.template,r),a(t,t.firstChild),t.appendChild(l),j.set(t,e)}!i&&o&&window.ShadyCSS.styleElement(t.host)});var de=n(1),fe=n.n(de);const ge=e=>{for(const t of document.cookie.split(";")){const n=t.indexOf("=");let r=t.substr(0,n),i=t.substr(n+1);if(r=r.trim(),i=i.trim(),r===e)return i}return null},me=e=>{const t=[];Object.keys(e).forEach(n=>{e[n]&&t.push(n)});let n=t.join(" ");return n.trim().length>0&&(n=" "+n),n},ye=e=>new Promise((t,n)=>{ve(e).then(e=>{t({assets:e.data.results,next:e.data.next})}).catch(e=>n(e))}),ve=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=ge("csrftoken"),r={headers:n?{"X-CSRFToken":n}:{}};return t&&(r.cancelToken=t),fe.a.get(e,r)};var be=n(3),xe=n.n(be),we=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};let ke=class extends he{constructor(){super(),this.path=[]}static get styles(){return pe`:host{line-height:normal}rp-textinput{height:150px}#left-column{display:inline-block;margin-left:10px;width:300px;z-index:100}.search{margin-bottom:10px}.feature{padding:4px 14px;font-size:16px}.level-0{margin-left:0}.level-1{margin-left:5px;font-size:95%}.level-2{margin-left:10px;font-size:90%}.level-3{margin-left:15px;font-size:85%}.feature-name{display:inline-block}.clickable{text-decoration:none;cursor:pointer;color:var(--color-link-primary)}.clickable.secondary{color:var(--color-link-secondary)}.clickable:hover{text-decoration:underline;color:var(--color-link-primary-hover)}.feature:hover .showonhover{visibility:visible}.showonhover{visibility:hidden}.aliases{color:#bbb;font-size:80%;display:inline;margin-left:5px}rp-label{margin-right:3px;margin-bottom:3px;vertical-align:top}.selected{display:flex;flex-direction:column;padding:15px}.selected .name{font-size:18px;padding:5px}.selected .help{padding:5px 2px;font-size:11px;color:var(--color-secondary-light)}#right-column{vertical-align:top;margin-left:20px;display:inline-block}leaflet-map{height:250px;width:450px;border:0 solid #999;border-radius:5px}.edit{display:inline-block;margin-right:0}`}updated(e){if(e.has("osmId")){const e=[];for(let t of this.path)if(e.push(t),t.osm_id===this.osmId)return this.path=[...e],void this.hideAliasDialog();this.fetchFeature()}}fetchFeature(){ve(this.getEndpoint()+"boundaries/"+this.osmId+"/").then(e=>{this.path=e.data,this.hideAliasDialog()})}fireTextareaAutosize(){window.setTimeout(()=>{xe()(this.shadowRoot.querySelector("textarea")),xe.a.update(this.shadowRoot.querySelector("textarea"))},0)}handleMapClicked(e){this.hovered=null,e&&e.osm_id===this.osmId||(this.osmId=e.osm_id)}handlePlaceClicked(e){this.osmId=e.osm_id}handleSearchSelection(e){const t=e.detail.selected;this.showAliasDialog(t)}renderFeature(e,t){const n=this.path[this.path.length-1],r=(e.has_children||0===e.level)&&e!==n,i=q`<div class="feature"><div @mouseover="${()=>{e.level>0&&(this.hovered=e)}}" @mouseout="${()=>{this.hovered=null}}" class="level-${e.level}"><div class="feature-name ${r?"clickable":""}" @click="${()=>{r&&this.handlePlaceClicked(e)}}">${e.name}</div><div class="aliases">${e.aliases.split("\n").map(t=>t.trim().length>0?q`<rp-label class="alias" @click="${()=>{this.showAliasDialog(e)}}" light clickable>${t}</rp-label>`:null)} ${e.level>0?q`<div class="edit clickable showonhover" @click="${t=>{this.showAliasDialog(e),t.preventDefault(),t.stopPropagation()}}"><rp-icon name="register" size="12"></rp-icon></div>`:""}</div></div></div>`,o=(e.children||[]).map(e=>t.length>0&&t[0].osm_id===e.osm_id?this.renderFeature(t[0],t.slice(1)):0===t.length||0===t[0].children.length?this.renderFeature(e,t):null);return q`${i} ${o}`}showAliasDialog(e){this.editFeature=e;const t=this.shadowRoot.getElementById("alias-dialog");t&&(this.fireTextareaAutosize(),t.setAttribute("open",""))}hideAliasDialog(){const e=this.shadowRoot.getElementById("alias-dialog");e&&e.removeAttribute("open"),this.requestUpdate()}getEndpoint(){return this.endpoint+(this.endpoint.endsWith("/")?"":"/")}handleDialogClick(e){const t=e.detail.button;if("Save"===t.name){t.setProgress(!0);const e=this.shadowRoot.getElementById(this.editFeature.osm_id).inputElement.value,n={osm_id:this.editFeature.osm_id,aliases:e};((e,t)=>{const n=ge("csrftoken"),r=n?{"X-CSRFToken":n}:{};return fe.a.post(e,t,{headers:r})})(this.getEndpoint()+"boundaries/"+this.editFeature.osm_id+"/",n).then(e=>{this.fetchFeature()})}"Cancel"===t.name&&this.hideAliasDialog()}renderOptionDetail(e,t){const n=q`<style>rp-label{margin-top:3px;margin-right:3px}</style>`,r=e.aliases.split("\n").map(e=>e.trim().length>0?q`<rp-label class="alias" dark>${e}</rp-label>`:null);return q`${n}<div class="path">${e.path.replace(/>/gi,"‣")}</div><div class="aliases">${r}</div>`}render(){if(0===this.path.length)return q``;const e=this.path[this.path.length-1],t=0===e.children.length?this.path[this.path.length-2]:e,n=this.editFeature?this.editFeature.osm_id:null,r=this.editFeature?this.editFeature.name:null,i=this.editFeature?this.editFeature.aliases:null;return q`<div id="left-column"><div class="search"><rp-select placeholder="Search" endpoint="${this.getEndpoint()}boundaries/${this.path[0].osm_id}/?q=" .renderOptionDetail="${this.renderOptionDetail}" @rp-selection="${this.handleSearchSelection.bind(this)}"></rp-select></div><div class="feature-tree">${this.renderFeature(this.path[0],this.path.slice(1))}</div></div><div id="right-column"><leaflet-map endpoint="${this.getEndpoint()}" .feature="${t}" .osmId="${t.osm_id}" .hovered="${this.hovered}" .onFeatureClicked="${this.handleMapClicked.bind(this)}"></leaflet-map></div><rp-dialog id="alias-dialog" title="Aliases for ${r}" primaryButtonName="Save" @rp-button-clicked="${this.handleDialogClick.bind(this)}"><div class="selected"><rp-textinput name="aliases" id="${n}" .value="${i}" textarea></rp-textinput><div class="help">Enter other aliases for ${r}, one per line</div></div></rp-dialog>`}};we([se({type:Array,attribute:!1})],ke.prototype,"path",void 0),we([se()],ke.prototype,"endpoint",void 0),we([se()],ke.prototype,"osmId",void 0),we([se({type:Object})],ke.prototype,"hovered",void 0),we([se({type:Object})],ke.prototype,"editFeature",void 0);ke=we([re("alias-editor")],ke);var _e=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};let Se=class extends he{static get styles(){return pe`.button{background:#00f;color:#fff;cursor:pointer;display:inline-block;border-radius:var(--curvature);outline:0}.button:focus{outline:0;margin:0}.button:focus .mask{background:rgb(0,0,0,.1);box-shadow:0 0 0 2px var(--color-button-primary)}.button.secondary:focus .mask{border:1px solid var(--color-button-secondary);background:0 0;box-shadow:0 0 0 2px var(--color-button-secondary)}.mask{padding:5px 10px;border-radius:var(--curvature);border:1px solid transparent}.primary{background:var(--color-button-primary);color:var(--color-button-primary-text)}.secondary{background:0 0;color:var(--color-button-secondary)}.secondary:hover .mask{border:1px solid var(--color-button-secondary)}.button.progress{background:#ddd}.button.progress:focus .mask{box-shadow:0 0 0 2px var(--color-button-secondary)}.mask:hover{background:rgb(0,0,0,.1)}.secondary .mask:hover{background:0 0}`}setProgress(e){this.isProgress=e}handleKeyUp(e){"Enter"===e.key&&this.click()}render(){return q`<div class="button ${me({progress:this.isProgress,primary:this.primary,secondary:this.secondary})}" tabindex="0" @keyup="${this.handleKeyUp}"><div class="mask">${this.isProgress&&this.inProgessName||this.name}</div></div>`}};_e([se({type:Boolean})],Se.prototype,"primary",void 0),_e([se({type:Boolean})],Se.prototype,"secondary",void 0),_e([se()],Se.prototype,"name",void 0),_e([se()],Se.prototype,"inProgessName",void 0),_e([se({type:Boolean})],Se.prototype,"isProgress",void 0);var Ce;Se=_e([re("rp-button")],Se);class Ee extends he{getEventHandlers(){return[]}connectedCallback(){super.connectedCallback();for(const e of this.getEventHandlers())document.addEventListener(e.event,e.method.bind(this))}disconnectedCallback(){for(const e of this.getEventHandlers())document.removeEventListener(e.event,e.method);super.disconnectedCallback()}fireEvent(e){this.dispatchEvent(new Event(e,{bubbles:!0,composed:!0}))}fireCustomEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new CustomEvent(e,{detail:t,bubbles:!0,composed:!0});this.dispatchEvent(n)}}!function(e){e.Canceled="rp-canceled",e.CursorChanged="rp-cursor-changed",e.Selection="rp-selection",e.ButtonClicked="rp-button-clicked"}(Ce||(Ce={}));const $e=new WeakMap,Ae=i(e=>t=>{if(!(t instanceof S)||t instanceof A||"style"!==t.committer.name||t.committer.parts.length>1)throw new Error("The `styleMap` directive must be used in the style attribute and must be the only part in the attribute.");const{committer:n}=t,{style:r}=n.element;$e.has(t)||(r.cssText=n.strings.join(" "));const i=$e.get(t);for(const t in i)t in e||(-1===t.indexOf("-")?r[t]=null:r.removeProperty(t));for(const t in e)-1===t.indexOf("-")?r[t]=e[t]:r.setProperty(t,e[t]);$e.set(t,e)});var Pe=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};let Te=class extends Ee{constructor(){super(),this.primaryButtonName="Ok",this.cancelButtonName="Cancel",this.inProgressName="Saving"}static get styles(){return pe`.mask{width:100%;background:rgba(0,0,0,.5);opacity:0;visibility:hidden;position:fixed;top:0;left:0;transition:all ease-in 250ms}.dialog{width:500px;margin:0 auto;top:-200px;position:relative;transition:top ease-in-out .2s;border-radius:var(--curvature);box-shadow:0 0 0 4px rgba(0,0,0,.04);overflow:hidden}.body{background:#fff}.mask.open{opacity:1;visibility:visible}.mask.open > .dialog{top:100px}.title{padding:10px 20px;font-size:18px;color:var(--color-text-light);background:var(--color-primary-dark)}.footer{background:var(--color-primary-light);padding:10px;display:flex;flex-flow:row-reverse}rp-button{margin-left:5px}`}updated(e){if(e.has("open")&&this.open){this.shadowRoot.querySelectorAll("rp-button").forEach(e=>e.setProgress(!1));const e=this.querySelectorAll("textarea,input");e.length>0&&window.setTimeout(()=>{e[0].focus()},100)}}handleClick(e){const t=e.currentTarget;t.isProgress||this.fireCustomEvent(Ce.ButtonClicked,{button:t})}getDocumentHeight(){const e=document.body,t=document.documentElement;return Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)}handleKeyUp(e){"Escape"===e.key&&this.shadowRoot.querySelectorAll("rp-button").forEach(e=>{e.name===this.cancelButtonName&&e.click()})}render(){const e={height:`${this.getDocumentHeight()+100}px`};return q`<div class="mask ${this.open?"open":""}" style="${Ae(e)}"><div @keyup="${this.handleKeyUp}" class="dialog"><div class="header"><div class="title">${this.title}</div></div><div class="body" @keypress="${this.handleKeyUp}">${this.body?this.body:q`<slot></slot>`}</div><div class="footer"><rp-button @click="${this.handleClick}" name="${this.primaryButtonName}" inProgessName="${this.inProgressName}" primary>}</rp-button><rp-button @click="${this.handleClick}" name="${this.cancelButtonName}" secondary></rp-button></div></div></div>`}};Pe([se({type:Boolean})],Te.prototype,"open",void 0),Pe([se()],Te.prototype,"title",void 0),Pe([se()],Te.prototype,"body",void 0),Pe([se()],Te.prototype,"primaryButtonName",void 0),Pe([se({type:String})],Te.prototype,"cancelButtonName",void 0),Pe([se()],Te.prototype,"inProgressName",void 0),Pe([se({attribute:!1})],Te.prototype,"onButtonClicked",void 0);Te=Pe([re("rp-dialog")],Te);var Oe=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};let Re=class extends Ee{constructor(){super(...arguments),this.placeholder="",this.value="",this.name=""}static get styles(){return pe`.input-container{border-radius:var(--curvature);overflow:hidden;cursor:text;background:var(--color-widget-bg);border:1px solid var(--color-widget-border);box-shadow:none;transition:all ease-in-out .2s;display:flex;flex-direction:row;align-items:stretch}.input-container:focus-within{border-color:var(--color-widget-border);background:var(--color-widget-bg-focused);box-shadow:var(--color-widget-shadow-focused) 0 0 3px 0}.input-container:hover{background:var(--color-widget-bg-focused)}textarea{height:85%}.textinput{padding:8px;border:0 solid red;flex:1;margin:0;background:0 0;color:var(--color-text);font-size:13px;cursor:text;resize:none;box-shadow:var(--color-widget-shadow-focused) 0 1px 1px 0 inset}.textinput:focus{outline:0;box-shadow:none;cursor:text}.textinput::placeholder{color:rgba(0,0,0,.15)}`}firstUpdated(e){super.firstUpdated(e),this.inputElement=this.shadowRoot.querySelector(".textinput")}render(){const e={height:`${this.textarea?"100%":"auto"}`};return q`<div class="input-container" style="${Ae(e)}" @click="${()=>{this.shadowRoot.querySelector(".textinput").focus()}}">${this.textarea?q`<textarea class="textinput" name="${this.name}" placeholder="${this.placeholder}" .value="${this.value}">
        </textarea>`:q`<input class="textinput" name="${this.name}" type="text" placeholder="${this.placeholder}" .value="${this.value}">`}</div>`}};Oe([se({type:Boolean})],Re.prototype,"textarea",void 0),Oe([se({type:String})],Re.prototype,"placeholder",void 0),Oe([se({type:String})],Re.prototype,"value",void 0),Oe([se({type:String})],Re.prototype,"name",void 0),Oe([se({type:Object})],Re.prototype,"inputElement",void 0);Re=Oe([re("rp-textinput")],Re);var Ne=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};let ze=class extends he{static get styles(){return pe`:host{display:inline-block}.mask{padding:3px 6px;border-radius:var(--curvature)}.label.clickable .mask:hover{background:rgb(0,0,0,.05)}.label{border-radius:2px;font-size:80%;font-weight:400;border-radius:var(--curvature);background:tomato;color:#fff;text-shadow:0 .04em .04em rgba(0,0,0,.35)}.primary{background:var(--color-label-primary);color:var(--color-label-primary-text)}.secondary{background:var(--color-label-secondary);color:var(--color-label-secondary-text);text-shadow:none}.light{background:var(--color-overlay-light);color:var(--color-overlay-light-text);text-shadow:none}.dark{background:var(--color-overlay-dark);color:var(--color-overlay-dark-text);text-shadow:none}.clickable{cursor:pointer}`}render(){const e=this.backgroundColor&&this.textColor?{background:`${this.backgroundColor}`,color:`${this.textColor}`}:{};return q`<div class="label ${me({clickable:this.clickable,primary:this.primary,secondary:this.secondary,light:this.light,dark:this.dark})}" style="${Ae(e)}"><div class="mask"><slot></slot></div></div>`}};Ne([se({type:Boolean})],ze.prototype,"clickable",void 0),Ne([se({type:Boolean})],ze.prototype,"primary",void 0),Ne([se({type:Boolean})],ze.prototype,"secondary",void 0),Ne([se({type:Boolean})],ze.prototype,"light",void 0),Ne([se({type:Boolean})],ze.prototype,"dark",void 0),Ne([se()],ze.prototype,"backgroundColor",void 0),Ne([se()],ze.prototype,"textColor",void 0);ze=Ne([re("rp-label")],ze);var je=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};let qe=class extends Ee{constructor(){super(...arguments),this.cursorIndex=0}static get styles(){return pe`.options-container{visibility:hidden;position:fixed;border-radius:var(--curvature);border:0 solid var(--color-borders);box-shadow:0 0 2px 0 #ccc;background:#fff;z-index:1}.options{border-radius:var(--curvature);background:#fff;overflow-y:scroll;max-height:225px;border:none}.show{visibility:visible}.option{font-size:14px;padding:7px 14px;border-radius:var(--curvature);margin:3px;cursor:pointer;color:var(--color-text)}.option.focused{background:var(--color-selection);color:var(--color-text-light)}.option .detail{font-size:85%;color:rgba(255,255,255,.9)}code{background:rgba(0,0,0,.15);padding:1px 5px;border-radius:var(--curvature)}`}updated(e){if(super.updated(e),e.has("cursorIndex")){const e=this.shadowRoot.querySelector(".focused");if(e){const t=this.shadowRoot.querySelector(".options"),n=t.getBoundingClientRect().height,r=e.getBoundingClientRect().height;if(e.offsetTop+r>t.scrollTop+n-5){const i=e.offsetTop-n+r+5;t.scrollTop=i}else if(e.offsetTop<t.scrollTop){const n=e.offsetTop-5;t.scrollTop=n}}}e.has("options")&&(this.calculatePosition(),this.cursorIndex=0)}renderOptionDefault(e,t){const n=this.renderOptionName||this.renderOptionNameDefault,r=this.renderOptionDetail||this.renderOptionDetailDefault;return t?q`<div class="name">${n(e,t)}</div><div class="detail">${r(e,t)}</div>`:q`<div class="name">${n(e,t)}</div>`}renderOptionNameDefault(e,t){return q`${e.name}`}renderOptionDetailDefault(e,t){return q`${e.detail}`}handleSelection(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.options[this.cursorIndex];this.fireCustomEvent(Ce.Selection,{selected:t,tabbed:e})}moveCursor(e){const t=Math.max(Math.min(this.cursorIndex+e,this.options.length-1),0);this.setCursor(t)}setCursor(e){e!==this.cursorIndex&&(this.cursorIndex=e,this.fireCustomEvent(Ce.CursorChanged,{index:e}))}handleKeyDown(e){this.visible&&(e.ctrlKey&&"n"===e.key||"ArrowDown"===e.key?(this.moveCursor(1),e.preventDefault()):e.ctrlKey&&"p"===e.key||"ArrowUp"===e.key?(this.moveCursor(-1),e.preventDefault()):"Enter"!==e.key&&"Tab"!==e.key||(this.handleSelection("Tab"===e.key),e.preventDefault()),"Escape"===e.key&&this.fireCustomEvent(Ce.Canceled))}calculatePosition(){const e=this.shadowRoot.querySelector(".options-container").getBoundingClientRect();if(this.anchorTo){const t=this.anchorTo.getBoundingClientRect(),n=t.top-e.height;n>0&&t.bottom+e.height>window.innerHeight?this.top=n:this.top=t.bottom,this.left=t.left,this.width=t.width}}getEventHandlers(){return[{event:"keydown",method:this.handleKeyDown},{event:"scroll",method:this.calculatePosition}]}render(){const e=(this.renderOption||this.renderOptionDefault).bind(this),t={top:`${this.top}px`,left:`${this.left}px`,width:`${this.width}px`},n={width:`${this.width}px`};return q`<div class="options-container ${this.visible?"show":""}" style="${Ae(t)}"><div class="options" style="${Ae(n)}">${this.options.map((t,n)=>q`<div @mouseover="${e=>{Math.abs(e.movementX)+Math.abs(e.movementY)>0&&this.setCursor(n)}}" @click="${()=>{this.handleSelection()}}" class="option ${n==this.cursorIndex?"focused":""}">${e(t,n==this.cursorIndex)}</div>`)}</div><slot></slot></div>`}};je([se({type:Number})],qe.prototype,"top",void 0),je([se({type:Number})],qe.prototype,"left",void 0),je([se({type:Number})],qe.prototype,"width",void 0),je([se({type:Object})],qe.prototype,"anchorTo",void 0),je([se({type:Boolean})],qe.prototype,"visible",void 0),je([se({type:Number})],qe.prototype,"cursorIndex",void 0),je([se({type:Array})],qe.prototype,"options",void 0),je([se({attribute:!1})],qe.prototype,"renderOption",void 0),je([se({attribute:!1})],qe.prototype,"renderOptionName",void 0),je([se({attribute:!1})],qe.prototype,"renderOptionDetail",void 0);qe=je([re("rp-options")],qe);var Le=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};let Be=class extends Ee{constructor(){super(),this.selected=[],this.placeholder="",this.input="",this.options=[],this.quietMillis=200,this.renderOptionDetail=(()=>{})}static get styles(){return pe`:host{display:flex;flex-direction:column}`}updated(e){if(super.updated(e),e.has("selected")&&(this.input="",this.shadowRoot.querySelector("input").blur()),e.has("input")&&!e.has("selected")){if(!this.input)return void(this.options=[]);this.lastQuery&&window.clearTimeout(this.lastQuery),this.lastQuery=window.setTimeout(()=>{this.fetchOptions(this.input)},this.quietMillis)}e.has("cursorIndex")&&this.options.length>0&&this.query&&!this.complete&&this.cursorIndex>this.options.length-20&&this.fetchOptions(this.query,this.page+1)}handleOptionSelection(e){const t=e.detail.selected;this.selected=[t],this.options=[],this.input=t.name}fetchOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!this.fetching){this.cancelToken&&this.cancelToken.cancel();const n=fe.a.CancelToken;this.cancelToken=n.source(),this.fetching=!0,ve(this.endpoint+encodeURIComponent(e)+"&page="+t,this.cancelToken.token).then(n=>{if(0===t)this.options=n.data.filter(e=>e.level>0),this.cursorIndex=0,this.query=e,this.complete=0===this.options.length;else{const e=n.data.filter(e=>e.level>0);e.length>0&&(this.options=[...this.options,...e]),this.complete=0===e.length}this.fetching=!1,this.page=t}).catch(e=>{})}}handleBlur(){window.setTimeout(()=>{this.options=[]},100)}handleFocus(){}handleKeyUp(e){const t=e.currentTarget;this.input=t.inputElement.value.trim()}handleCancel(){this.options=[]}handleCursorChanged(e){this.cursorIndex=e.detail.index}getEventHandlers(){return[{event:Ce.Canceled,method:this.handleCancel},{event:Ce.CursorChanged,method:this.handleCursorChanged}]}firstUpdated(e){this.anchorElement=this.shadowRoot.querySelector("rp-textinput")}render(){return q`<rp-textinput @keyup="${this.handleKeyUp}" @blur="${this.handleBlur}" @focus="${this.handleFocus}" .value="${this.input}" placeholder="${this.placeholder}"></rp-textinput><rp-options cursorIndex="${this.cursorIndex}" @rp-selection="${this.handleOptionSelection}" .renderOptionDetail="${this.renderOptionDetail}" .renderOptionName="${this.renderOptionName}" .renderOption="${this.renderOption}" .anchorTo="${this.anchorElement}" .options="${this.options}" ?visible="${this.input.length>0&&this.options.length>0}"></rp-options>`}};Le([se({type:Array})],Be.prototype,"selected",void 0),Le([se()],Be.prototype,"placeholder",void 0),Le([se()],Be.prototype,"endpoint",void 0),Le([se({type:String})],Be.prototype,"input",void 0),Le([se({type:Array})],Be.prototype,"options",void 0),Le([se({type:Number})],Be.prototype,"quietMillis",void 0),Le([se({type:Boolean})],Be.prototype,"fetching",void 0),Le([se({attribute:!1})],Be.prototype,"cursorIndex",void 0),Le([se({attribute:!1})],Be.prototype,"anchorElement",void 0),Le([se({attribute:!1})],Be.prototype,"renderOption",void 0),Le([se({attribute:!1})],Be.prototype,"renderOptionName",void 0),Le([se({attribute:!1})],Be.prototype,"renderOptionDetail",void 0);Be=Le([re("rp-select")],Be);const De=0,Ie=1,Ue=2,Fe=3,Me=4,Ve=5,He=6,We=(e,t)=>0===e.indexOf(t,0),Ze=(e,t,n)=>{const r=e.substring(1);if("("===r[0])return!0;{const e=r.split(".")[0].toLowerCase();if(!n)return t.indexOf(e)>=0;for(const n of t)if(We(n,e))return!0;return!1}},Xe=e=>e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||"_"===e,Ke=e=>{let t=0;for(const n of e)'"'===n&&t++;return t%2!=0};const Je=(e,t)=>t?e.filter(e=>!!e.signature&&0===e.signature.indexOf(t)):e,Qe=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(t||"").split(".");let i=e.root_no_session,o="",s="";for(;r.length>0;)if(s=r.shift()){const t=i.find(e=>e.key===s);if(!t){i=i.filter(e=>e.key.startsWith(s.toLowerCase()));break}{const r=e.types.find(e=>e.name===t.type);if(r&&r.properties)i=r.properties,o+=s+".";else{if(!r||!r.property_template){i=i.filter(e=>e.key.startsWith(s.toLowerCase()));break}{o+=s+".";const e=r.property_template;i=n[r.name]?n[r.name].map(t=>({key:e.key.replace("{key}",t),help:e.help.replace("{key}",t),type:e.type})):[]}}}}return i.map(e=>{return{name:"__default__"===e.key?o.substr(0,o.length-1):o+e.key,summary:e.help}})};var Ye=n(4),Ge=n.n(Ye);const et=new WeakMap,tt=i(e=>t=>{if(!(t instanceof C))throw new Error("unsafeHTML can only be used in text bindings");const n=et.get(t);if(void 0!==n&&w(e)&&e===n.value&&t.value===n.fragment)return;const r=document.createElement("template");r.innerHTML=e;const i=document.importNode(r.content,!0);t.setValue(i),et.set(t,{value:e,fragment:i})});var nt,rt=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};const it=n(28),ot=i(e=>t=>{t.setValue(tt(it(e)))});let st=nt=class extends Ee{constructor(){super(...arguments),this.anchorPosition={left:0,top:0},this.placeholder="",this.options=[],this.name="",this.value=""}static get styles(){return pe`:host{display:block}.comp-container{position:relative;height:100%}#anchor{position:absolute;visibility:hidden;width:250px;height:20px}.fn-marker{font-weight:700;font-size:42px}.option-slot{background:#fff}.current-fn{padding:10px;margin:5px;background:var(--color-primary-light);color:rgba(0,0,0,.5);border-radius:var(--curvature);font-size:90%}.footer{padding:5px 10px;background:var(--color-primary-light);color:rgba(0,0,0,.5);font-size:80%}code{background:rgba(0,0,0,.1);padding:1px 5px;border-radius:var(--curvature)}`}firstUpdated(e){this.textInputElement=this.shadowRoot.querySelector("rp-textinput"),this.anchorElement=this.shadowRoot.querySelector("#anchor"),this.completionsEndpoint&&ve(this.completionsEndpoint).then(e=>{this.schema=e.data}),this.functionsEndpoint&&ve(this.functionsEndpoint).then(e=>{this.functions=e.data}),this.fieldsEndpoint&&(async e=>{if(!e)return new Promise((e,t)=>e([]));let t=[],n=e;for(;n;){const e=await ye(n);t=t.concat(e.assets),n=e.next}return t})(this.fieldsEndpoint).then(e=>{this.keyedAssets={fields:e.map(e=>e.key)}}),this.hiddenElement=document.createElement("input"),this.hiddenElement.setAttribute("type","hidden"),this.hiddenElement.setAttribute("name",this.getAttribute("name")),this.hiddenElement.setAttribute("value",this.getAttribute("value")||""),this.appendChild(this.hiddenElement)}handleKeyUp(e){if(this.options.length>0){if("ArrowUp"===e.key||"ArrowDown"===e.key)return;if(e.ctrlKey&&("n"===e.key||"p"===e.key))return;if("Enter"===e.key||"Escape"===e.key||"Tab"===e.key||e.key.startsWith("Control"))return;this.executeQuery(e.currentTarget)}}handleClick(e){this.executeQuery(e.currentTarget)}executeQuery(e){if(this.inputElement=e.inputElement,this.currentFunction=null,this.schema){const n=e.inputElement.selectionStart,r=e.inputElement.value.substring(0,n),i=nt.parser.findExpressions(r).find(e=>e.start<=n&&(e.end>n||e.end===n&&!e.closed));if(i){const n=i.text.indexOf("(")>-1;if(n){const e=nt.parser.functionContext(i.text);if(e){const t=Je(this.functions,e);t.length>0&&(this.currentFunction=t[0])}}for(let r=i.text.length;r>=0;r--){const o=i.text[r];if("@"===o||"("===o||" "===o||","===o||")"===o||0===r){"("!==o&&" "!==o&&","!==o&&")"!==o&&"@"!==o||r++;var t=Ge()(e.inputElement,i.start+r);return this.anchorPosition={left:t.left-2-this.inputElement.scrollLeft,top:t.top-this.inputElement.scrollTop},this.query=i.text.substr(r,i.text.length-r),void(this.options=[...Qe(this.schema,this.query,this.keyedAssets),...n?Je(this.functions,this.query):[]])}}}else this.options=[],this.query=""}}updated(e){super.updated(e),e.has("value")&&this.hiddenElement.setAttribute("value",this.value)}handleInput(e){const t=e.currentTarget;this.executeQuery(t),this.value=t.inputElement.value}handleOptionCanceled(e){this.options=[],this.query=""}handleOptionSelection(e){const t=e.detail.selected,n=e.detail.tabbed;let r="";if(r=t.signature?t.signature.substr(0,t.signature.indexOf("(")+1):t.name,this.inputElement){let e=this.inputElement.value;const t=this.inputElement.selectionStart-this.query.length,n=e.substr(0,t),i=e.substr(t+this.query.length),o=n.length+r.length;this.inputElement.value=n+r+i,this.inputElement.setSelectionRange(o,o);const s=Ge()(this.inputElement,o);s.left>this.inputElement.width&&(this.inputElement.scrollLeft=s.left)}this.query="",this.options=[],n&&this.executeQuery(this.textInputElement)}renderCompletionOption(e,t){if(e.signature){const n=e.signature.indexOf("("),r=e.signature.substr(0,n),i=e.signature.substr(n);return q`<div style="${t?"font-weight: 400":""}"><div style="display:inline-block;">ƒ</div><div style="display:inline-block">${r}</div>${t?q`<div style="display:inline-block; font-weight: 300; font-size: 85%">${i}</div><div class="detail">${ot(e.summary)}</div>`:null}</div>`}return q`<div><div style="${t?"font-weight: 400":""}">${e.name}</div>${t?q`<div style="font-size: 85%">${e.summary}</div>`:null}</div>`}render(){const e={top:`${this.anchorPosition.top}px`,left:`${this.anchorPosition.left}px`};return q`<div class="comp-container"><div id="anchor" style="${Ae(e)}"></div><rp-textinput name="${this.name}" placeholder="${this.placeholder}" @keyup="${this.handleKeyUp}" @click="${this.handleClick}" @input="${this.handleInput}" .value="${this.value}" ?textarea="${this.textarea}"></rp-textinput><rp-options @rp-selection="${this.handleOptionSelection}" @rp-canceled="${this.handleOptionCanceled}" .anchorTo="${this.anchorElement}" .options="${this.options}" .renderOption="${this.renderCompletionOption}" ?visible="${this.options.length>0}">${this.currentFunction?q`<div class="current-fn">${this.renderCompletionOption(this.currentFunction,!0)}</div>`:null}<div class="footer">Tab to complete, enter to select</div></rp-options></div>`}};st.parser=new class{constructor(e,t){this.expressionPrefix=e,this.allowedTopLevels=t}expressionContext(e){const t=this.findExpressions(e);if(0===t.length)return null;const n=t[t.length-1];return n.end<e.length||n.closed?null:n.text.substring(1)}autoCompleteContext(e){if(Ke(e))return null;const t=[];let n="",r=!1,i=!1,o="";for(let s=e.length-1;s>=0;s--){const a=e[s];if(" "===a&&(r=!0),","===a&&(r=!0,"("!==t[t.length-1]&&t.push("(")),")"!==a||i||(r=!0,t.push("("),t.push("(")),'"'===a&&(i=!i),r&&("("!==a||i||("("===t[t.length-1]&&t.pop(),0===t.length&&(r=!1))),"("===a&&""===n&&(o="#"),!(r||i||"("===a&&""===n)){if(!Xe(a)&&"."!==a)break;n=a+n}}return n.match(/[A-Za-z][\w]*(\.[\w]+)*/)?o+n:null}functionContext(e){let t=Ke(e)?Me:He,n="",r="("===e[-1]?0:1;for(let i=e.length-1;i>=0;i--){const o=e[i];if("@"===o)return"";if(t===He)0!==r||!Xe(o)&&"."!==o?'"'===o?t=Me:"("===o?r--:")"===o&&r++:(t=Ue,n=o+n);else if(t===Ue){if(!Xe(o)&&"."!==o)return n;n=o+n}else t===Me&&'"'===o&&(t=He)}return""}getContactFields(e){const t={},n=/((parent|child\.)*contact\.)*fields\.([a-z0-9_]+)/g,r=this.findExpressions(e);for(const e of r){let r;for(;r=n.exec(e.text);)t[r[3]]=!0}return Object.keys(t)}findExpressions(e){const t=[];let n=De,r=null,i=0;for(let o=0;o<e.length;o++){const s=e[o],a=o<e.length-1?e[o+1]:0,l=o<e.length-2?e[o+2]:0;if(n===De?s!==this.expressionPrefix||!Xe(a)&&"("!==a?s===this.expressionPrefix&&a===this.expressionPrefix&&(n=Ve):(n=Ie,r={start:o,end:null,text:s,closed:!1}):n===Ie?(Xe(s)?n=Ue:"("===s&&(n=Fe,i+=1),r.text+=s):n===Ue?r.text+=s:n===Fe?("("===s?i+=1:")"===s?i-=1:'"'===s&&(n=Me),r.text+=s,0===i&&(r.end=o+1)):n===Me?('"'===s&&(n=Fe),r.text+=s):n===Ve&&(n=De),n===Ue&&(!Xe(a)&&"."!==a||"."===a&&!Xe(l))&&(r.end=o+1),null!=r&&(null!=r.end||0===a)){const e=0===a;Ze(r.text,this.allowedTopLevels,e)&&(r.closed="("===r.text[1]&&0===i,r.end=o+1,t.push(r)),r=null,n=De}}return t}}("@",["contact","fields","urns"]),rt([se({type:Object})],st.prototype,"anchorPosition",void 0),rt([se({attribute:!1})],st.prototype,"currentFunction",void 0),rt([se({type:String})],st.prototype,"placeholder",void 0),rt([se({attribute:!1})],st.prototype,"textInputElement",void 0),rt([se({attribute:!1})],st.prototype,"anchorElement",void 0),rt([se({type:Array})],st.prototype,"options",void 0),rt([se({type:String})],st.prototype,"name",void 0),rt([se({type:String})],st.prototype,"value",void 0),rt([se({type:String})],st.prototype,"completionsEndpoint",void 0),rt([se({type:String})],st.prototype,"functionsEndpoint",void 0),rt([se({type:String})],st.prototype,"fieldsEndpoint",void 0),rt([se({type:Boolean})],st.prototype,"textarea",void 0);st=nt=rt([re("rp-completion")],st)}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL3V0aWxzLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvZGVmYXVsdHMuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9hdXRvc2l6ZS9kaXN0L2F1dG9zaXplLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvdGV4dGFyZWEtY2FyZXQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9iaW5kLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2FkYXB0ZXJzL3hoci5qcyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2NyZWF0ZUVycm9yLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NhbmNlbC9pc0NhbmNlbC5qcyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvQ2FuY2VsLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2F4aW9zLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvaXMtYnVmZmVyL2luZGV4LmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvQXhpb3MuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9ub3JtYWxpemVIZWFkZXJOYW1lLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvc2V0dGxlLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvZW5oYW5jZUVycm9yLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvYnVpbGRVUkwuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9wYXJzZUhlYWRlcnMuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9pc1VSTFNhbWVPcmlnaW4uanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9idG9hLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvY29va2llcy5qcyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL0ludGVyY2VwdG9yTWFuYWdlci5qcyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2Rpc3BhdGNoUmVxdWVzdC5qcyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL3RyYW5zZm9ybURhdGEuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9pc0Fic29sdXRlVVJMLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvY29tYmluZVVSTHMuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY2FuY2VsL0NhbmNlbFRva2VuLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvc3ByZWFkLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvbWFya2VkL2xpYi9tYXJrZWQuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uLi9zcmMvbGliL2RpcmVjdGl2ZS50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4uL3NyYy9saWIvZG9tLnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi4vc3JjL2xpYi9wYXJ0LnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi4vc3JjL2xpYi90ZW1wbGF0ZS50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4uL3NyYy9saWIvdGVtcGxhdGUtaW5zdGFuY2UudHMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uLi9zcmMvbGliL3RlbXBsYXRlLXJlc3VsdC50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4uL3NyYy9saWIvcGFydHMudHMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uLi9zcmMvbGliL2RlZmF1bHQtdGVtcGxhdGUtcHJvY2Vzc29yLnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi4vc3JjL2xpYi90ZW1wbGF0ZS1mYWN0b3J5LnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi4vc3JjL2xpYi9yZW5kZXIudHMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy9zcmMvbGl0LWh0bWwudHMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uLi9zcmMvbGliL21vZGlmeS10ZW1wbGF0ZS50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4uL3NyYy9saWIvc2hhZHktcmVuZGVyLnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi4vc3JjL2xpYi91cGRhdGluZy1lbGVtZW50LnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi4vc3JjL2xpYi9kZWNvcmF0b3JzLnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi4vc3JjL2xpYi9jc3MtdGFnLnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvc3JjL2xpdC1lbGVtZW50LnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9zcmMvdXRpbHMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL3NyYy9hbGlhc2VkaXRvci9BbGlhc0VkaXRvci50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vc3JjL2J1dHRvbi9CdXR0b24udHMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL3NyYy9pbnRlcmZhY2VzLnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9zcmMvUmFwaWRFbGVtZW50LnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi4vc3JjL2RpcmVjdGl2ZXMvc3R5bGUtbWFwLnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9zcmMvZGlhbG9nL0RpYWxvZy50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vc3JjL3RleHRpbnB1dC9UZXh0SW5wdXQudHMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL3NyYy9sYWJlbC9MYWJlbC50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vc3JjL29wdGlvbnMvT3B0aW9ucy50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vc3JjL3NlbGVjdC9TZWxlY3QudHMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL3NyYy9jb21wbGV0aW9uL0V4Y2VsbGVudFBhcnNlci50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vc3JjL2NvbXBsZXRpb24vaGVscGVycy50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4uL3NyYy9kaXJlY3RpdmVzL3Vuc2FmZS1odG1sLnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9zcmMvY29tcGxldGlvbi9Db21wbGV0aW9uLnRzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsIndpbmRvdyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJyZXF1aXJlIiwiaXNCdWZmZXIiLCJ0b1N0cmluZyIsImlzQXJyYXkiLCJ2YWwiLCJpc09iamVjdCIsImlzRnVuY3Rpb24iLCJmb3JFYWNoIiwib2JqIiwiZm4iLCJsZW5ndGgiLCJpc0FycmF5QnVmZmVyIiwiaXNGb3JtRGF0YSIsIkZvcm1EYXRhIiwiaXNBcnJheUJ1ZmZlclZpZXciLCJBcnJheUJ1ZmZlciIsImlzVmlldyIsImJ1ZmZlciIsImlzU3RyaW5nIiwiaXNOdW1iZXIiLCJpc1VuZGVmaW5lZCIsImlzRGF0ZSIsImlzRmlsZSIsImlzQmxvYiIsImlzU3RyZWFtIiwicGlwZSIsImlzVVJMU2VhcmNoUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwiaXNTdGFuZGFyZEJyb3dzZXJFbnYiLCJuYXZpZ2F0b3IiLCJwcm9kdWN0IiwiZG9jdW1lbnQiLCJtZXJnZSIsInJlc3VsdCIsImFzc2lnblZhbHVlIiwiYXJndW1lbnRzIiwiZXh0ZW5kIiwiYSIsImIiLCJ0aGlzQXJnIiwidHJpbSIsInN0ciIsInJlcGxhY2UiLCJ1dGlscyIsIm5vcm1hbGl6ZUhlYWRlck5hbWUiLCJERUZBVUxUX0NPTlRFTlRfVFlQRSIsIkNvbnRlbnQtVHlwZSIsInNldENvbnRlbnRUeXBlSWZVbnNldCIsImhlYWRlcnMiLCJhZGFwdGVyIiwiZGVmYXVsdHMiLCJYTUxIdHRwUmVxdWVzdCIsInByb2Nlc3MiLCJ0cmFuc2Zvcm1SZXF1ZXN0IiwiZGF0YSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0cmFuc2Zvcm1SZXNwb25zZSIsInBhcnNlIiwiZSIsInRpbWVvdXQiLCJ4c3JmQ29va2llTmFtZSIsInhzcmZIZWFkZXJOYW1lIiwibWF4Q29udGVudExlbmd0aCIsInZhbGlkYXRlU3RhdHVzIiwic3RhdHVzIiwiY29tbW9uIiwiQWNjZXB0IiwibWV0aG9kIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyIsIl9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fIiwidW5kZWZpbmVkIiwia2V5cyIsInZhbHVlcyIsIm1hcCIsIk1hcCIsImhhcyIsImluZGV4T2YiLCJzZXQiLCJwdXNoIiwiZGVsZXRlIiwiaW5kZXgiLCJzcGxpY2UiLCJjcmVhdGVFdmVudCIsIkV2ZW50IiwiYnViYmxlcyIsImV2dCIsImluaXRFdmVudCIsImFzc2lnbiIsInRhIiwibm9kZU5hbWUiLCJoZWlnaHRPZmZzZXQiLCJjbGllbnRXaWR0aCIsImNhY2hlZEhlaWdodCIsInBhZ2VSZXNpemUiLCJ1cGRhdGUiLCJkZXN0cm95Iiwic3R5bGUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGVpZ2h0IiwicmVzaXplIiwib3ZlcmZsb3dZIiwib3ZlcmZsb3dYIiwid29yZFdyYXAiLCJhZGRFdmVudExpc3RlbmVyIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImJveFNpemluZyIsInBhcnNlRmxvYXQiLCJwYWRkaW5nVG9wIiwicGFkZGluZ0JvdHRvbSIsImJvcmRlclRvcFdpZHRoIiwiYm9yZGVyQm90dG9tV2lkdGgiLCJpc05hTiIsImNoYW5nZU92ZXJmbG93Iiwid2lkdGgiLCJvZmZzZXRXaWR0aCIsInNjcm9sbEhlaWdodCIsIm92ZXJmbG93cyIsImVsIiwiYXJyIiwicGFyZW50Tm9kZSIsIkVsZW1lbnQiLCJzY3JvbGxUb3AiLCJub2RlIiwiZ2V0UGFyZW50T3ZlcmZsb3dzIiwiZG9jVG9wIiwiZG9jdW1lbnRFbGVtZW50Iiwic3R5bGVIZWlnaHQiLCJNYXRoIiwicm91bmQiLCJjb21wdXRlZCIsImFjdHVhbEhlaWdodCIsIm9mZnNldEhlaWdodCIsImRpc3BhdGNoRXZlbnQiLCJlcnIiLCJtZXRob2RzIiwiYXV0b3NpemUiLCJvcHRpb25zIiwiQXJyYXkiLCJ4IiwiZGVmYXVsdCIsImFwcGx5IiwicHJvcGVydGllcyIsImlzQnJvd3NlciIsImlzRmlyZWZveCIsIm1veklubmVyU2NyZWVuWCIsImdldENhcmV0Q29vcmRpbmF0ZXMiLCJlbGVtZW50IiwicG9zaXRpb24iLCJFcnJvciIsImRlYnVnIiwicXVlcnlTZWxlY3RvciIsInJlbW92ZUNoaWxkIiwiZGl2IiwiY3JlYXRlRWxlbWVudCIsImlkIiwiYm9keSIsImFwcGVuZENoaWxkIiwiY3VycmVudFN0eWxlIiwiaXNJbnB1dCIsIndoaXRlU3BhY2UiLCJ2aXNpYmlsaXR5IiwicHJvcCIsImxpbmVIZWlnaHQiLCJwYXJzZUludCIsIm92ZXJmbG93IiwidGV4dENvbnRlbnQiLCJzdWJzdHJpbmciLCJzcGFuIiwiY29vcmRpbmF0ZXMiLCJ0b3AiLCJvZmZzZXRUb3AiLCJsZWZ0Iiwib2Zmc2V0TGVmdCIsImJhY2tncm91bmRDb2xvciIsImFyZ3MiLCJzZXR0bGUiLCJidWlsZFVSTCIsInBhcnNlSGVhZGVycyIsImlzVVJMU2FtZU9yaWdpbiIsImNyZWF0ZUVycm9yIiwiYnRvYSIsImNvbmZpZyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVxdWVzdERhdGEiLCJyZXF1ZXN0SGVhZGVycyIsInJlcXVlc3QiLCJsb2FkRXZlbnQiLCJ4RG9tYWluIiwiWERvbWFpblJlcXVlc3QiLCJ1cmwiLCJvbnByb2dyZXNzIiwib250aW1lb3V0IiwiYXV0aCIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJBdXRob3JpemF0aW9uIiwib3BlbiIsInRvVXBwZXJDYXNlIiwicGFyYW1zIiwicGFyYW1zU2VyaWFsaXplciIsInJlYWR5U3RhdGUiLCJyZXNwb25zZVVSTCIsInJlc3BvbnNlSGVhZGVycyIsImdldEFsbFJlc3BvbnNlSGVhZGVycyIsInJlc3BvbnNlIiwicmVzcG9uc2VUeXBlIiwicmVzcG9uc2VUZXh0Iiwic3RhdHVzVGV4dCIsIm9uZXJyb3IiLCJjb29raWVzIiwieHNyZlZhbHVlIiwid2l0aENyZWRlbnRpYWxzIiwicmVhZCIsInRvTG93ZXJDYXNlIiwic2V0UmVxdWVzdEhlYWRlciIsIm9uRG93bmxvYWRQcm9ncmVzcyIsIm9uVXBsb2FkUHJvZ3Jlc3MiLCJ1cGxvYWQiLCJjYW5jZWxUb2tlbiIsInByb21pc2UiLCJ0aGVuIiwiY2FuY2VsIiwiYWJvcnQiLCJzZW5kIiwiZW5oYW5jZUVycm9yIiwibWVzc2FnZSIsImNvZGUiLCJlcnJvciIsIl9fQ0FOQ0VMX18iLCJDYW5jZWwiLCJ0aGlzIiwiQXhpb3MiLCJjcmVhdGVJbnN0YW5jZSIsImRlZmF1bHRDb25maWciLCJjb250ZXh0IiwiaW5zdGFuY2UiLCJheGlvcyIsImluc3RhbmNlQ29uZmlnIiwiQ2FuY2VsVG9rZW4iLCJpc0NhbmNlbCIsImFsbCIsInByb21pc2VzIiwic3ByZWFkIiwiY29uc3RydWN0b3IiLCJyZWFkRmxvYXRMRSIsInNsaWNlIiwiaXNTbG93QnVmZmVyIiwiX2lzQnVmZmVyIiwiSW50ZXJjZXB0b3JNYW5hZ2VyIiwiZGlzcGF0Y2hSZXF1ZXN0IiwiaW50ZXJjZXB0b3JzIiwiY2hhaW4iLCJpbnRlcmNlcHRvciIsInVuc2hpZnQiLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsInNoaWZ0Iiwibm9ybWFsaXplZE5hbWUiLCJlbmNvZGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJzZXJpYWxpemVkUGFyYW1zIiwicGFydHMiLCJ2IiwidG9JU09TdHJpbmciLCJqb2luIiwiaWdub3JlRHVwbGljYXRlT2YiLCJwYXJzZWQiLCJzcGxpdCIsImxpbmUiLCJzdWJzdHIiLCJjb25jYXQiLCJvcmlnaW5VUkwiLCJtc2llIiwidGVzdCIsInVzZXJBZ2VudCIsInVybFBhcnNpbmdOb2RlIiwicmVzb2x2ZVVSTCIsImhyZWYiLCJzZXRBdHRyaWJ1dGUiLCJwcm90b2NvbCIsImhvc3QiLCJzZWFyY2giLCJoYXNoIiwiaG9zdG5hbWUiLCJwb3J0IiwicGF0aG5hbWUiLCJjaGFyQXQiLCJsb2NhdGlvbiIsInJlcXVlc3RVUkwiLCJjaGFycyIsIkUiLCJpbnB1dCIsImJsb2NrIiwiY2hhckNvZGUiLCJTdHJpbmciLCJvdXRwdXQiLCJpZHgiLCJjaGFyQ29kZUF0Iiwid3JpdGUiLCJleHBpcmVzIiwicGF0aCIsImRvbWFpbiIsInNlY3VyZSIsImNvb2tpZSIsIkRhdGUiLCJ0b0dNVFN0cmluZyIsIm1hdGNoIiwiUmVnRXhwIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwicmVtb3ZlIiwibm93IiwiaGFuZGxlcnMiLCJ1c2UiLCJlamVjdCIsImgiLCJ0cmFuc2Zvcm1EYXRhIiwiaXNBYnNvbHV0ZVVSTCIsImNvbWJpbmVVUkxzIiwidGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZCIsInRocm93SWZSZXF1ZXN0ZWQiLCJiYXNlVVJMIiwicmVhc29uIiwiZm5zIiwicmVsYXRpdmVVUkwiLCJleGVjdXRvciIsIlR5cGVFcnJvciIsInJlc29sdmVQcm9taXNlIiwidG9rZW4iLCJzb3VyY2UiLCJjYWxsYmFjayIsIm5ld2xpbmUiLCJmZW5jZXMiLCJociIsImhlYWRpbmciLCJibG9ja3F1b3RlIiwibGlzdCIsImh0bWwiLCJkZWYiLCJucHRhYmxlIiwibm9vcCIsInRhYmxlIiwibGhlYWRpbmciLCJfcGFyYWdyYXBoIiwidGV4dCIsIkxleGVyIiwidG9rZW5zIiwibGlua3MiLCJtYXJrZWQiLCJydWxlcyIsIm5vcm1hbCIsInBlZGFudGljIiwiZ2ZtIiwiX2xhYmVsIiwiX3RpdGxlIiwiZWRpdCIsImdldFJlZ2V4IiwiYnVsbGV0IiwiaXRlbSIsIl90YWciLCJfY29tbWVudCIsInBhcmFncmFwaCIsImxleCIsInNyYyIsIm5leHQiLCJsb29zZSIsImNhcCIsImJ1bGwiLCJsaXN0U3RhcnQiLCJsaXN0SXRlbXMiLCJzcGFjZSIsInRhZyIsImlzb3JkZXJlZCIsImlzdGFzayIsImlzY2hlY2tlZCIsImV4ZWMiLCJ0eXBlIiwibGFzdFRva2VuIiwidHJpbVJpZ2h0IiwiY29kZUJsb2NrU3R5bGUiLCJydHJpbSIsImxhbmciLCJkZXB0aCIsImhlYWRlciIsInNwbGl0Q2VsbHMiLCJhbGlnbiIsImNlbGxzIiwib3JkZXJlZCIsInN0YXJ0Iiwic21hcnRMaXN0cyIsInRhc2siLCJjaGVja2VkIiwic2FuaXRpemUiLCJwcmUiLCJzYW5pdGl6ZXIiLCJlc2NhcGUiLCJ0aXRsZSIsImlubGluZSIsImF1dG9saW5rIiwibGluayIsInJlZmxpbmsiLCJub2xpbmsiLCJzdHJvbmciLCJlbSIsImJyIiwiZGVsIiwiSW5saW5lTGV4ZXIiLCJyZW5kZXJlciIsIlJlbmRlcmVyIiwiYnJlYWtzIiwiVGV4dFJlbmRlcmVyIiwiUGFyc2VyIiwic2x1Z2dlciIsIlNsdWdnZXIiLCJzZWVuIiwiZXNjYXBlVGVzdCIsImVzY2FwZVJlcGxhY2UiLCJjaCIsInJlcGxhY2VtZW50cyIsImVzY2FwZVRlc3ROb0VuY29kZSIsImVzY2FwZVJlcGxhY2VOb0VuY29kZSIsInVuZXNjYXBlIiwiXyIsImZyb21DaGFyQ29kZSIsInJlZ2V4Iiwib3B0IiwiY2xlYW5VcmwiLCJiYXNlIiwicHJvdCIsIm9yaWdpbkluZGVwZW5kZW50VXJsIiwiYmFzZVVybHMiLCJyZXNvbHZlVXJsIiwiZW5jb2RlVVJJIiwiX3B1bmN0dWF0aW9uIiwiX2VzY2FwZXMiLCJfc2NoZW1lIiwiX2VtYWlsIiwiX2F0dHJpYnV0ZSIsIl9ocmVmIiwiX2V4dGVuZGVkX2VtYWlsIiwiX2JhY2twZWRhbCIsInByZXZDYXBaZXJvIiwib3V0IiwiaW5MaW5rIiwiaW5SYXdCbG9jayIsImxhc3RQYXJlbkluZGV4IiwiZmluZENsb3NpbmdCcmFja2V0IiwibGlua0xlbiIsIm91dHB1dExpbmsiLCJlc2NhcGVzIiwiY29kZXNwYW4iLCJtYW5nbGUiLCJzbWFydHlwYW50cyIsImltYWdlIiwicmFuZG9tIiwiaW5mb3N0cmluZyIsImVzY2FwZWQiLCJoaWdobGlnaHQiLCJsYW5nUHJlZml4IiwicXVvdGUiLCJsZXZlbCIsInJhdyIsImhlYWRlcklkcyIsImhlYWRlclByZWZpeCIsInNsdWciLCJ4aHRtbCIsImxpc3RpdGVtIiwiY2hlY2tib3giLCJ0YWJsZXJvdyIsImNvbnRlbnQiLCJ0YWJsZWNlbGwiLCJmbGFncyIsImJhc2VVcmwiLCJpbmxpbmVUZXh0IiwicmV2ZXJzZSIsInRvayIsInBvcCIsInBlZWsiLCJwYXJzZVRleHQiLCJyb3ciLCJjZWxsIiwiaiIsImVyck1zZyIsInNpbGVudCIsImNvbnNvbGUiLCJsb2ciLCJvcmlnaW5hbFNsdWciLCImIiwiPCIsIj4iLCJcIiIsIiciLCJ0YXJnZXQiLCJ0YWJsZVJvdyIsImNvdW50Iiwib2Zmc2V0IiwiY3VyciIsImludmVydCIsInN1ZmZMZW4iLCJjdXJyQ2hhciIsImNoZWNrU2FuaXRpemVEZXByZWNhdGlvbiIsIndhcm4iLCJwZW5kaW5nIiwiZG9uZSIsInNldE9wdGlvbnMiLCJnZXREZWZhdWx0cyIsInBhcnNlciIsImxleGVyIiwiaW5saW5lTGV4ZXIiLCJnbG9iYWwiLCJkaXJlY3RpdmVzIiwiV2Vha01hcCIsImRpcmVjdGl2ZV9kaXJlY3RpdmUiLCJmIiwiaXNEaXJlY3RpdmUiLCJpc0NFUG9seWZpbGwiLCJjdXN0b21FbGVtZW50cyIsInBvbHlmaWxsV3JhcEZsdXNoQ2FsbGJhY2siLCJyZW1vdmVOb2RlcyIsImNvbnRhaW5lciIsImVuZCIsIm5leHRTaWJsaW5nIiwibm9DaGFuZ2UiLCJub3RoaW5nIiwibWFya2VyIiwibm9kZU1hcmtlciIsIm1hcmtlclJlZ2V4IiwiYm91bmRBdHRyaWJ1dGVTdWZmaXgiLCJUZW1wbGF0ZSIsIltvYmplY3QgT2JqZWN0XSIsIm5vZGVzVG9SZW1vdmUiLCJzdGFjayIsIndhbGtlciIsImNyZWF0ZVRyZWVXYWxrZXIiLCJsYXN0UGFydEluZGV4IiwicGFydEluZGV4Iiwic3RyaW5ncyIsIm5leHROb2RlIiwibm9kZVR5cGUiLCJoYXNBdHRyaWJ1dGVzIiwiYXR0cmlidXRlcyIsImVuZHNXaXRoIiwic3RyaW5nRm9yUGFydCIsImxhc3RBdHRyaWJ1dGVOYW1lUmVnZXgiLCJhdHRyaWJ1dGVMb29rdXBOYW1lIiwiYXR0cmlidXRlVmFsdWUiLCJnZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzdGF0aWNzIiwidGFnTmFtZSIsImN1cnJlbnROb2RlIiwicGFyZW50IiwibGFzdEluZGV4IiwiaW5zZXJ0IiwiY3JlYXRlTWFya2VyIiwiY3JlYXRlVGV4dE5vZGUiLCJpbnNlcnRCZWZvcmUiLCJwcmV2aW91c1NpYmxpbmciLCJzdWZmaXgiLCJpc1RlbXBsYXRlUGFydEFjdGl2ZSIsInBhcnQiLCJjcmVhdGVDb21tZW50IiwidGVtcGxhdGVfaW5zdGFuY2VfVGVtcGxhdGVJbnN0YW5jZSIsInRlbXBsYXRlIiwicHJvY2Vzc29yIiwiX19wYXJ0cyIsInNldFZhbHVlIiwiY29tbWl0IiwiZnJhZ21lbnQiLCJjbG9uZU5vZGUiLCJpbXBvcnROb2RlIiwibm9kZUluZGV4IiwiaGFuZGxlVGV4dEV4cHJlc3Npb24iLCJpbnNlcnRBZnRlck5vZGUiLCJoYW5kbGVBdHRyaWJ1dGVFeHByZXNzaW9ucyIsImFkb3B0Tm9kZSIsInVwZ3JhZGUiLCJ0ZW1wbGF0ZV9yZXN1bHRfVGVtcGxhdGVSZXN1bHQiLCJpc0NvbW1lbnRCaW5kaW5nIiwiY29tbWVudE9wZW4iLCJsYXN0SW5kZXhPZiIsImF0dHJpYnV0ZU1hdGNoIiwiaW5uZXJIVE1MIiwiZ2V0SFRNTCIsImlzUHJpbWl0aXZlIiwiaXNJdGVyYWJsZSIsIml0ZXJhdG9yIiwiQXR0cmlidXRlQ29tbWl0dGVyIiwiZGlydHkiLCJfY3JlYXRlUGFydCIsInBhcnRzX0F0dHJpYnV0ZVBhcnQiLCJfZ2V0VmFsdWUiLCJjb21taXR0ZXIiLCJkaXJlY3RpdmUiLCJwYXJ0c19Ob2RlUGFydCIsIl9fcGVuZGluZ1ZhbHVlIiwic3RhcnROb2RlIiwiZW5kTm9kZSIsInJlZiIsIl9faW5zZXJ0IiwiX19jb21taXRUZXh0IiwiX19jb21taXRUZW1wbGF0ZVJlc3VsdCIsIk5vZGUiLCJfX2NvbW1pdE5vZGUiLCJfX2NvbW1pdEl0ZXJhYmxlIiwiY2xlYXIiLCJ0ZW1wbGF0ZUZhY3RvcnkiLCJfY2xvbmUiLCJpdGVtUGFydHMiLCJpdGVtUGFydCIsImFwcGVuZEludG9QYXJ0IiwiaW5zZXJ0QWZ0ZXJQYXJ0IiwicGFydHNfQm9vbGVhbkF0dHJpYnV0ZVBhcnQiLCJQcm9wZXJ0eUNvbW1pdHRlciIsInN1cGVyIiwic2luZ2xlIiwiUHJvcGVydHlQYXJ0IiwiZXZlbnRPcHRpb25zU3VwcG9ydGVkIiwiY2FwdHVyZSIsIl9lIiwicGFydHNfRXZlbnRQYXJ0IiwiZXZlbnROYW1lIiwiZXZlbnRDb250ZXh0IiwiX19ib3VuZEhhbmRsZUV2ZW50IiwiaGFuZGxlRXZlbnQiLCJuZXdMaXN0ZW5lciIsIm9sZExpc3RlbmVyIiwic2hvdWxkUmVtb3ZlTGlzdGVuZXIiLCJvbmNlIiwicGFzc2l2ZSIsInNob3VsZEFkZExpc3RlbmVyIiwiX19vcHRpb25zIiwiZ2V0T3B0aW9ucyIsImV2ZW50IiwiZGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yIiwicHJlZml4IiwidGVtcGxhdGVDYWNoZSIsInRlbXBsYXRlQ2FjaGVzIiwic3RyaW5nc0FycmF5Iiwia2V5U3RyaW5nIiwiZ2V0VGVtcGxhdGVFbGVtZW50IiwicmVuZGVyX3BhcnRzIiwibGl0X2h0bWxfaHRtbCIsIl9sZW4iLCJfa2V5Iiwid2Fsa2VyTm9kZUZpbHRlciIsInJlbW92ZU5vZGVzRnJvbVRlbXBsYXRlIiwibW9kaWZ5X3RlbXBsYXRlX25leHRBY3RpdmVJbmRleEluVGVtcGxhdGVQYXJ0cyIsInJlbW92ZUNvdW50Iiwibm9kZXNUb1JlbW92ZUluVGVtcGxhdGUiLCJjdXJyZW50UmVtb3ZpbmdOb2RlIiwiY291bnROb2RlcyIsImdldFRlbXBsYXRlQ2FjaGVLZXkiLCJzY29wZU5hbWUiLCJjb21wYXRpYmxlU2hhZHlDU1NWZXJzaW9uIiwiU2hhZHlDU1MiLCJwcmVwYXJlVGVtcGxhdGVEb20iLCJzaGFkeVRlbXBsYXRlRmFjdG9yeSIsImNhY2hlS2V5IiwiVEVNUExBVEVfVFlQRVMiLCJzaGFkeVJlbmRlclNldCIsIlNldCIsInByZXBhcmVUZW1wbGF0ZVN0eWxlcyIsInJlbmRlcmVkRE9NIiwiYWRkIiwic3R5bGVzIiwicXVlcnlTZWxlY3RvckFsbCIsImNvbmRlbnNlZFN0eWxlIiwidGVtcGxhdGVzIiwiZnJvbSIsInJlbW92ZVN0eWxlc0Zyb21MaXRUZW1wbGF0ZXMiLCJyZWZOb2RlIiwiaW5zZXJ0Q291bnQiLCJ3YWxrZXJJbmRleCIsImluc2VydE5vZGVJbnRvVGVtcGxhdGUiLCJmaXJzdENoaWxkIiwibmF0aXZlU2hhZG93IiwicmVtb3ZlcyIsIkpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkiLCJfb2JqIiwiZGVmYXVsdENvbnZlcnRlciIsIkJvb2xlYW4iLCJOdW1iZXIiLCJub3RFcXVhbCIsIm9sZCIsImRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uIiwiYXR0cmlidXRlIiwiY29udmVydGVyIiwicmVmbGVjdCIsImhhc0NoYW5nZWQiLCJtaWNyb3Rhc2tQcm9taXNlIiwiU1RBVEVfSEFTX1VQREFURUQiLCJTVEFURV9VUERBVEVfUkVRVUVTVEVEIiwiU1RBVEVfSVNfUkVGTEVDVElOR19UT19BVFRSSUJVVEUiLCJTVEFURV9JU19SRUZMRUNUSU5HX1RPX1BST1BFUlRZIiwiU1RBVEVfSEFTX0NPTk5FQ1RFRCIsIlVwZGF0aW5nRWxlbWVudCIsIkhUTUxFbGVtZW50IiwiX3VwZGF0ZVN0YXRlIiwiX2luc3RhbmNlUHJvcGVydGllcyIsIl91cGRhdGVQcm9taXNlIiwiX2hhc0Nvbm5lY3RlZFJlc29sdmVyIiwiX2NoYW5nZWRQcm9wZXJ0aWVzIiwiX3JlZmxlY3RpbmdQcm9wZXJ0aWVzIiwiaW5pdGlhbGl6ZSIsIm9ic2VydmVkQXR0cmlidXRlcyIsImZpbmFsaXplIiwiX2NsYXNzUHJvcGVydGllcyIsImF0dHIiLCJfYXR0cmlidXRlTmFtZUZvclByb3BlcnR5IiwiX2F0dHJpYnV0ZVRvUHJvcGVydHlNYXAiLCJzdXBlclByb3BlcnRpZXMiLCJnZXRQcm90b3R5cGVPZiIsImsiLCJfZW5zdXJlQ2xhc3NQcm9wZXJ0aWVzIiwibm9BY2Nlc3NvciIsIm9sZFZhbHVlIiwiX3JlcXVlc3RVcGRhdGUiLCJjb25maWd1cmFibGUiLCJmaW5hbGl6ZWQiLCJzdXBlckN0b3IiLCJwcm9wcyIsInByb3BLZXlzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImNyZWF0ZVByb3BlcnR5IiwiZnJvbUF0dHJpYnV0ZSIsInRvQXR0cmlidXRlIiwiX3NhdmVJbnN0YW5jZVByb3BlcnRpZXMiLCJfdiIsIl9hdHRyaWJ1dGVUb1Byb3BlcnR5IiwiY3RvciIsImF0dHJWYWx1ZSIsIl9wcm9wZXJ0eVZhbHVlVG9BdHRyaWJ1dGUiLCJwcm9wTmFtZSIsIl9wcm9wZXJ0eVZhbHVlRnJvbUF0dHJpYnV0ZSIsInNob3VsZFJlcXVlc3RVcGRhdGUiLCJfdmFsdWVIYXNDaGFuZ2VkIiwiX2hhc1JlcXVlc3RlZFVwZGF0ZSIsIl9lbnF1ZXVlVXBkYXRlIiwidXBkYXRlQ29tcGxldGUiLCJwcmV2aW91c1VwZGF0ZVByb21pc2UiLCJyZXMiLCJyZWoiLCJfaGFzQ29ubmVjdGVkIiwicGVyZm9ybVVwZGF0ZSIsImhhc1VwZGF0ZWQiLCJfYXBwbHlJbnN0YW5jZVByb3BlcnRpZXMiLCJzaG91bGRVcGRhdGUiLCJjaGFuZ2VkUHJvcGVydGllcyIsIl9tYXJrVXBkYXRlZCIsImZpcnN0VXBkYXRlZCIsInVwZGF0ZWQiLCJzaXplIiwiX3Byb3BlcnR5VG9BdHRyaWJ1dGUiLCJjdXN0b21FbGVtZW50IiwiY2xhc3NPckRlc2NyaXB0b3IiLCJjbGF6eiIsImxlZ2FjeUN1c3RvbUVsZW1lbnQiLCJkZXNjcmlwdG9yIiwia2luZCIsImVsZW1lbnRzIiwic3RhbmRhcmRDdXN0b21FbGVtZW50Iiwic3RhbmRhcmRQcm9wZXJ0eSIsInBsYWNlbWVudCIsImluaXRpYWxpemVyIiwibGVnYWN5UHJvcGVydHkiLCJwcm90byIsInByb3RvT3JEZXNjcmlwdG9yIiwic3VwcG9ydHNBZG9wdGluZ1N0eWxlU2hlZXRzIiwiRG9jdW1lbnQiLCJDU1NTdHlsZVNoZWV0IiwiY29uc3RydWN0aW9uVG9rZW4iLCJDU1NSZXN1bHQiLCJjc3NUZXh0Iiwic2FmZVRva2VuIiwic3R5bGVTaGVldCIsIl9zdHlsZVNoZWV0IiwicmVwbGFjZVN5bmMiLCJjc3MiLCJyZWR1Y2UiLCJhY2MiLCJ0ZXh0RnJvbUNTU1Jlc3VsdCIsImZsYXR0ZW5TdHlsZXMiLCJmbGF0IiwiSW5maW5pdHkiLCJhcnJheUZsYXQiLCJsaXRfZWxlbWVudF9MaXRFbGVtZW50IiwiX3N0eWxlcyIsIl9nZXRVbmlxdWVTdHlsZXMiLCJ1c2VyU3R5bGVzIiwicmVkdWNlUmlnaHQiLCJyZW5kZXJSb290IiwiY3JlYXRlUmVuZGVyUm9vdCIsIlNoYWRvd1Jvb3QiLCJhZG9wdFN0eWxlcyIsImF0dGFjaFNoYWRvdyIsImFkb3B0ZWRTdHlsZVNoZWV0cyIsIl9uZWVkc1NoaW1BZG9wdGVkU3R5bGVTaGVldHMiLCJTY29waW5nU2hpbSIsInByZXBhcmVBZG9wdGVkQ3NzVGV4dCIsImxvY2FsTmFtZSIsImNvbm5lY3RlZENhbGxiYWNrIiwic3R5bGVFbGVtZW50IiwidGVtcGxhdGVSZXN1bHQiLCJyZW5kZXIiLCJoYXNSZW5kZXJlZCIsIm5lZWRzU2NvcGluZyIsImZpcnN0U2NvcGVSZW5kZXIiLCJyZW5kZXJDb250YWluZXIiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiYXBwZW5kSW50byIsImdldENvb2tpZSIsImdldENsYXNzZXMiLCJjbGFzc05hbWVzIiwiY2xhc3NOYW1lIiwiZ2V0QXNzZXRQYWdlIiwidXRpbHNfZ2V0VXJsIiwiYXNzZXRzIiwicmVzdWx0cyIsImNhdGNoIiwiY3NyZiIsIlgtQ1NSRlRva2VuIiwiYXhpb3NfZGVmYXVsdCIsIkFsaWFzRWRpdG9yX0FsaWFzRWRpdG9yIiwibmV3UGF0aCIsImZlYXR1cmUiLCJvc21faWQiLCJvc21JZCIsImhpZGVBbGlhc0RpYWxvZyIsImZldGNoRmVhdHVyZSIsImdldEVuZHBvaW50Iiwic2V0VGltZW91dCIsImF1dG9zaXplX2RlZmF1bHQiLCJzaGFkb3dSb290IiwiaG92ZXJlZCIsInNlbGVjdGlvbiIsImRldGFpbCIsInNlbGVjdGVkIiwic2hvd0FsaWFzRGlhbG9nIiwicmVtYWluaW5nUGF0aCIsInNlbGVjdGVkRmVhdHVyZSIsImNsaWNrYWJsZSIsImhhc19jaGlsZHJlbiIsInJlbmRlcmVkRmVhdHVyZSIsImhhbmRsZVBsYWNlQ2xpY2tlZCIsImFsaWFzZXMiLCJhbGlhcyIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwicmVuZGVyZWRDaGlsZHJlbiIsImNoaWxkcmVuIiwiY2hpbGQiLCJyZW5kZXJGZWF0dXJlIiwiZWRpdEZlYXR1cmUiLCJhbGlhc0RpYWxvZyIsImdldEVsZW1lbnRCeUlkIiwiZmlyZVRleHRhcmVhQXV0b3NpemUiLCJyZXF1ZXN0VXBkYXRlIiwiZW5kcG9pbnQiLCJidXR0b24iLCJzZXRQcm9ncmVzcyIsImlucHV0RWxlbWVudCIsInBheWxvYWQiLCJwb3N0IiwicG9zdFVybCIsIm9wdGlvbiIsIm1hcEZlYXR1cmUiLCJlZGl0RmVhdHVyZUlkIiwiZWRpdEZlYXR1cmVOYW1lIiwiZWRpdEZlYXR1cmVBbGlhc2VzIiwicmVuZGVyT3B0aW9uRGV0YWlsIiwiaGFuZGxlU2VhcmNoU2VsZWN0aW9uIiwiaGFuZGxlTWFwQ2xpY2tlZCIsImhhbmRsZURpYWxvZ0NsaWNrIiwiX19kZWNvcmF0ZSIsIkJ1dHRvbl9CdXR0b24iLCJwcm9ncmVzcyIsImlzUHJvZ3Jlc3MiLCJjbGljayIsInByaW1hcnkiLCJzZWNvbmRhcnkiLCJoYW5kbGVLZXlVcCIsImluUHJvZ2Vzc05hbWUiLCJCdXR0b25fZGVjb3JhdGUiLCJDdXN0b21FdmVudFR5cGUiLCJSYXBpZEVsZW1lbnRfUmFwaWRFbGVtZW50IiwiaGFuZGxlciIsImdldEV2ZW50SGFuZGxlcnMiLCJkaXNjb25uZWN0ZWRDYWxsYmFjayIsImNvbXBvc2VkIiwiQ3VzdG9tRXZlbnQiLCJzdHlsZU1hcENhY2hlIiwic3R5bGVNYXAiLCJzdHlsZUluZm8iLCJvbGRJbmZvIiwicmVtb3ZlUHJvcGVydHkiLCJzZXRQcm9wZXJ0eSIsIkRpYWxvZ19EaWFsb2ciLCJwcmltYXJ5QnV0dG9uTmFtZSIsImNhbmNlbEJ1dHRvbk5hbWUiLCJpblByb2dyZXNzTmFtZSIsImlucHV0cyIsImZvY3VzIiwiY3VycmVudFRhcmdldCIsImZpcmVDdXN0b21FdmVudCIsIkJ1dHRvbkNsaWNrZWQiLCJtYXgiLCJjbGllbnRIZWlnaHQiLCJtYXNrU3R5bGUiLCJnZXREb2N1bWVudEhlaWdodCIsImhhbmRsZUNsaWNrIiwiRGlhbG9nX2RlY29yYXRlIiwiVGV4dElucHV0X1RleHRJbnB1dCIsInBsYWNlaG9sZGVyIiwiY2hhbmdlcyIsImNvbnRhaW5lclN0eWxlIiwidGV4dGFyZWEiLCJUZXh0SW5wdXRfZGVjb3JhdGUiLCJMYWJlbF9MYWJlbCIsImxhYmVsU3R5bGUiLCJ0ZXh0Q29sb3IiLCJiYWNrZ3JvdW5kIiwiY29sb3IiLCJsaWdodCIsImRhcmsiLCJMYWJlbF9kZWNvcmF0ZSIsIk9wdGlvbnNfT3B0aW9ucyIsImN1cnNvckluZGV4IiwiZm9jdXNlZEVsZSIsInNjcm9sbEJveCIsInNjcm9sbEJveEhlaWdodCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImZvY3VzZWRFbGVIZWlnaHQiLCJzY3JvbGxUbyIsImNhbGN1bGF0ZVBvc2l0aW9uIiwicmVuZGVyT3B0aW9uTmFtZSIsInJlbmRlck9wdGlvbk5hbWVEZWZhdWx0IiwicmVuZGVyT3B0aW9uRGV0YWlsRGVmYXVsdCIsInRhYmJlZCIsIlNlbGVjdGlvbiIsImRpcmVjdGlvbiIsIm5ld0luZGV4IiwibWluIiwic2V0Q3Vyc29yIiwiQ3Vyc29yQ2hhbmdlZCIsInZpc2libGUiLCJjdHJsS2V5IiwibW92ZUN1cnNvciIsImhhbmRsZVNlbGVjdGlvbiIsIkNhbmNlbGVkIiwib3B0aW9uc0JvdW5kcyIsImFuY2hvclRvIiwiYW5jaG9yQm91bmRzIiwidG9wVG9wIiwiYm90dG9tIiwiaW5uZXJIZWlnaHQiLCJoYW5kbGVLZXlEb3duIiwicmVuZGVyT3B0aW9uIiwicmVuZGVyT3B0aW9uRGVmYXVsdCIsIm9wdGlvbnNTdHlsZSIsImFicyIsIm1vdmVtZW50WCIsIm1vdmVtZW50WSIsIk9wdGlvbnNfZGVjb3JhdGUiLCJTZWxlY3RfU2VsZWN0IiwicXVpZXRNaWxsaXMiLCJibHVyIiwibGFzdFF1ZXJ5IiwiY2xlYXJUaW1lb3V0IiwiZmV0Y2hPcHRpb25zIiwicXVlcnkiLCJjb21wbGV0ZSIsInBhZ2UiLCJmZXRjaGluZyIsImZpbHRlciIsIm5ld1Jlc3VsdHMiLCJlbGUiLCJoYW5kbGVDYW5jZWwiLCJoYW5kbGVDdXJzb3JDaGFuZ2VkIiwiYW5jaG9yRWxlbWVudCIsImhhbmRsZUJsdXIiLCJoYW5kbGVGb2N1cyIsImhhbmRsZU9wdGlvblNlbGVjdGlvbiIsIlNlbGVjdF9kZWNvcmF0ZSIsIlNUQVRFX0JPRFkiLCJTVEFURV9QUkVGSVgiLCJTVEFURV9JREVOVElGSUVSIiwiU1RBVEVfQkFMQU5DRUQiLCJTVEFURV9TVFJJTkdfTElURVJBTCIsIlNUQVRFX0VTQ0FQRURfUFJFRklYIiwiU1RBVEVfSUdOT1JFIiwic3RhcnRzV2l0aCIsImlzVmFsaWRTdGFydCIsInBhcnRpYWxFeHByZXNzaW9uIiwiYWxsb3dlZFRvcExldmVscyIsImFsbG93SW5jb21wbGV0ZSIsInRvcExldmVsIiwiYWxsb3dlZCIsImlzV29yZENoYXIiLCJpc0luU3RyaW5nTGl0ZXJhbCIsIm51bVF1b3RlcyIsInBvcyIsImdldEZ1bmN0aW9ucyIsImZ1bmN0aW9ucyIsInNpZ25hdHVyZSIsImdldENvbXBsZXRpb25zIiwic2NoZW1hIiwiZG90UXVlcnkiLCJrZXllZEFzc2V0cyIsImN1cnJlbnRQcm9wcyIsInJvb3Rfbm9fc2Vzc2lvbiIsIm5leHRQcm9wIiwiZmluZCIsIm5leHRUeXBlIiwidHlwZXMiLCJwcm9wZXJ0eV90ZW1wbGF0ZSIsImhlbHAiLCJzdW1tYXJ5IiwicHJldmlvdXNWYWx1ZXMiLCJ1bnNhZmVIVE1MIiwicHJldmlvdXNWYWx1ZSIsIm1hcmtlZFJlbmRlciIsImNvbnRlbnRzIiwiQ29tcGxldGlvbl9Db21wbGV0aW9uIiwiQ29tcGxldGlvbl8xIiwiYW5jaG9yUG9zaXRpb24iLCJ0ZXh0SW5wdXRFbGVtZW50IiwiY29tcGxldGlvbnNFbmRwb2ludCIsImZ1bmN0aW9uc0VuZHBvaW50IiwiZmllbGRzRW5kcG9pbnQiLCJhc3luYyIsInBhZ2VVcmwiLCJhc3NldFBhZ2UiLCJnZXRBc3NldHMiLCJmaWVsZHMiLCJhc3NldCIsImhpZGRlbkVsZW1lbnQiLCJleGVjdXRlUXVlcnkiLCJjdXJyZW50RnVuY3Rpb24iLCJjdXJzb3IiLCJzZWxlY3Rpb25TdGFydCIsImN1cnJlbnRFeHByZXNzaW9uIiwiZmluZEV4cHJlc3Npb25zIiwiZXhwciIsImNsb3NlZCIsImluY2x1ZGVGdW5jdGlvbnMiLCJmdW5jdGlvblF1ZXJ5IiwiZnVuY3Rpb25Db250ZXh0IiwiY2FyZXQiLCJ0ZXh0YXJlYV9jYXJldF9kZWZhdWx0Iiwic2Nyb2xsTGVmdCIsImluc2VydFRleHQiLCJpbnNlcnRpb25Qb2ludCIsImxlZnRTaWRlIiwicmVtYWluaW5nIiwic2V0U2VsZWN0aW9uUmFuZ2UiLCJhcmdTdGFydCIsImFuY2hvclN0eWxlcyIsImhhbmRsZUlucHV0IiwiaGFuZGxlT3B0aW9uQ2FuY2VsZWQiLCJyZW5kZXJDb21wbGV0aW9uT3B0aW9uIiwiZXhwcmVzc2lvblByZWZpeCIsInRleHRUb0NhcmV0IiwiZXhwcmVzc2lvbnMiLCJsYXN0RXhwcmVzc2lvbiIsIm5lZWRlZFBhcmVudGhlc2VzIiwic2tpcENoYXIiLCJpblF1b3RlcyIsInByZXBlbmRGbGFnIiwic3RhdGUiLCJpZGVudGlmaWVyIiwicGFyZW50aGVzZXNMZXZlbCIsInJlIiwiZXhwcmVzc2lvbiIsIm5leHRDaCIsIm5leHROZXh0Q2giLCJDb21wbGV0aW9uX2RlY29yYXRlIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxHQUNBLGlCQUFBQyxTQUFBLGlCQUFBQyxPQUNBQSxPQUFBRCxRQUFBRCxJQUNBLG1CQUFBRyxlQUFBQyxJQUNBRCxPQUFBLEdBQUFILEdBQ0EsaUJBQUFDLFFBQ0FBLFFBQUEsaUJBQUFELElBRUFELEVBQUEsaUJBQUFDLElBUkEsQ0FTQ0ssT0FBQSxXQUNELG1CQ1RBLElBQUFDLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQVAsUUFHQSxJQUFBQyxFQUFBSSxFQUFBRSxHQUFBLENBQ0FDLEVBQUFELEVBQ0FFLEdBQUEsRUFDQVQsUUFBQSxJQVVBLE9BTkFVLEVBQUFILEdBQUFJLEtBQUFWLEVBQUFELFFBQUFDLElBQUFELFFBQUFNLEdBR0FMLEVBQUFRLEdBQUEsRUFHQVIsRUFBQUQsUUEwREEsT0FyREFNLEVBQUFNLEVBQUFGLEVBR0FKLEVBQUFPLEVBQUFSLEVBR0FDLEVBQUFRLEVBQUEsU0FBQWQsRUFBQWUsRUFBQUMsR0FDQVYsRUFBQVcsRUFBQWpCLEVBQUFlLElBQ0FHLE9BQUFDLGVBQUFuQixFQUFBZSxFQUFBLENBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDVixFQUFBZ0IsRUFBQSxTQUFBdEIsR0FDQSxvQkFB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S0FDOUQ4QyxFQUFrQkcsT0FBdUMsTUFBOUJILEVBQWtCMXJCLEtBQUssSUFBbUMsSUFBckJ3dEIsRUFDaEU5QixFQUFrQjFnQixJQUFNa2UsRUFBTSxFQUM5QjhELEVBQVkzOUIsS0FBS3E4QixJQUduQkEsRUFBb0IsS0FDcEI0QixFQUFRckYsSUFJWixPQUFPK0UsSUc1TzJCLElBQUssQ0FDdkMsVUFDQSxTQUNBLFNBWUZhLEdBQUEsQ0FEQzdqQyxHQUFTLENBQUVnWSxLQUFNalosZ0RBSWxCOGtDLEdBQUEsQ0FEQzdqQyxHQUFTLENBQUNzckIsV0FBVyw0Q0FJdEJ1WSxHQUFBLENBREM3akMsR0FBUyxDQUFDZ1ksS0FBTWpGLDZDQUlqQjh3QixHQUFBLENBREM3akMsR0FBUyxDQUFDc3JCLFdBQVcsNkNBSXRCdVksR0FBQSxDQURDN2pDLEdBQVMsQ0FBQ3NyQixXQUFXLDBDQUl0QnVZLEdBQUEsQ0FEQzdqQyxHQUFTLENBQUNnWSxLQUFNaFAsd0NBSWpCNjZCLEdBQUEsQ0FEQzdqQyxHQUFTLENBQUNnWSxLQUFNakYsc0NBSWpCOHdCLEdBQUEsQ0FEQzdqQyxHQUFTLENBQUNnWSxLQUFNakYsdUNBSWpCOHdCLEdBQUEsQ0FEQzdqQyxHQUFTLENBQUNnWSxLQUFNakYscURBSWpCOHdCLEdBQUEsQ0FEQzdqQyxHQUFTLENBQUNnWSxLQUFNakYsbURBSWpCOHdCLEdBQUEsQ0FEQzdqQyxHQUFTLENBQUNnWSxLQUFNakYsZ0RBSWpCOHdCLEdBQUEsQ0FEQzdqQyxHQUFTLENBQUNnWSxLQUFNaVQsMkNBckdFdVYsR0FBVUMsR0FBQW9ELEdBQUEsQ0FEOUJsVSxHQUFjLGtCQUNNNlEiLCJmaWxlIjoicnAtY29tcG9uZW50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcInJwLWNvbXBvbmVudHNcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wicnAtY29tcG9uZW50c1wiXSA9IGZhY3RvcnkoKTtcbn0pKHdpbmRvdywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDI5KTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGJpbmQgPSByZXF1aXJlKCcuL2hlbHBlcnMvYmluZCcpO1xudmFyIGlzQnVmZmVyID0gcmVxdWlyZSgnaXMtYnVmZmVyJyk7XG5cbi8qZ2xvYmFsIHRvU3RyaW5nOnRydWUqL1xuXG4vLyB1dGlscyBpcyBhIGxpYnJhcnkgb2YgZ2VuZXJpYyBoZWxwZXIgZnVuY3Rpb25zIG5vbi1zcGVjaWZpYyB0byBheGlvc1xuXG52YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIEFycmF5XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gQXJyYXksIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5KHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBBcnJheV0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIEFycmF5QnVmZmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gQXJyYXlCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRm9ybURhdGFcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBGb3JtRGF0YSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRm9ybURhdGEodmFsKSB7XG4gIHJldHVybiAodHlwZW9mIEZvcm1EYXRhICE9PSAndW5kZWZpbmVkJykgJiYgKHZhbCBpbnN0YW5jZW9mIEZvcm1EYXRhKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyVmlldyh2YWwpIHtcbiAgdmFyIHJlc3VsdDtcbiAgaWYgKCh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnKSAmJiAoQXJyYXlCdWZmZXIuaXNWaWV3KSkge1xuICAgIHJlc3VsdCA9IEFycmF5QnVmZmVyLmlzVmlldyh2YWwpO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdCA9ICh2YWwpICYmICh2YWwuYnVmZmVyKSAmJiAodmFsLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyaW5nXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJpbmcsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N0cmluZyh2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgTnVtYmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBOdW1iZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc051bWJlcih2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdudW1iZXInO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIHVuZGVmaW5lZFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSB2YWx1ZSBpcyB1bmRlZmluZWQsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIE9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIE9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbCkge1xuICByZXR1cm4gdmFsICE9PSBudWxsICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRGF0ZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRGF0ZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRGF0ZSh2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRmlsZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRmlsZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRmlsZSh2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRmlsZV0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgQmxvYlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgQmxvYiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQmxvYih2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgQmxvYl0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRnVuY3Rpb25cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZ1bmN0aW9uLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFN0cmVhbVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgU3RyZWFtLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTdHJlYW0odmFsKSB7XG4gIHJldHVybiBpc09iamVjdCh2YWwpICYmIGlzRnVuY3Rpb24odmFsLnBpcGUpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzVVJMU2VhcmNoUGFyYW1zKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIFVSTFNlYXJjaFBhcmFtcyAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsIGluc3RhbmNlb2YgVVJMU2VhcmNoUGFyYW1zO1xufVxuXG4vKipcbiAqIFRyaW0gZXhjZXNzIHdoaXRlc3BhY2Ugb2ZmIHRoZSBiZWdpbm5pbmcgYW5kIGVuZCBvZiBhIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgVGhlIFN0cmluZyB0byB0cmltXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgU3RyaW5nIGZyZWVkIG9mIGV4Y2VzcyB3aGl0ZXNwYWNlXG4gKi9cbmZ1bmN0aW9uIHRyaW0oc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvXlxccyovLCAnJykucmVwbGFjZSgvXFxzKiQvLCAnJyk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50XG4gKlxuICogVGhpcyBhbGxvd3MgYXhpb3MgdG8gcnVuIGluIGEgd2ViIHdvcmtlciwgYW5kIHJlYWN0LW5hdGl2ZS5cbiAqIEJvdGggZW52aXJvbm1lbnRzIHN1cHBvcnQgWE1MSHR0cFJlcXVlc3QsIGJ1dCBub3QgZnVsbHkgc3RhbmRhcmQgZ2xvYmFscy5cbiAqXG4gKiB3ZWIgd29ya2VyczpcbiAqICB0eXBlb2Ygd2luZG93IC0+IHVuZGVmaW5lZFxuICogIHR5cGVvZiBkb2N1bWVudCAtPiB1bmRlZmluZWRcbiAqXG4gKiByZWFjdC1uYXRpdmU6XG4gKiAgbmF2aWdhdG9yLnByb2R1Y3QgLT4gJ1JlYWN0TmF0aXZlJ1xuICovXG5mdW5jdGlvbiBpc1N0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci5wcm9kdWN0ID09PSAnUmVhY3ROYXRpdmUnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnXG4gICk7XG59XG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGFuIEFycmF5IG9yIGFuIE9iamVjdCBpbnZva2luZyBhIGZ1bmN0aW9uIGZvciBlYWNoIGl0ZW0uXG4gKlxuICogSWYgYG9iamAgaXMgYW4gQXJyYXkgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgcGFzc2luZ1xuICogdGhlIHZhbHVlLCBpbmRleCwgYW5kIGNvbXBsZXRlIGFycmF5IGZvciBlYWNoIGl0ZW0uXG4gKlxuICogSWYgJ29iaicgaXMgYW4gT2JqZWN0IGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHBhc3NpbmdcbiAqIHRoZSB2YWx1ZSwga2V5LCBhbmQgY29tcGxldGUgb2JqZWN0IGZvciBlYWNoIHByb3BlcnR5LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBvYmogVGhlIG9iamVjdCB0byBpdGVyYXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgY2FsbGJhY2sgdG8gaW52b2tlIGZvciBlYWNoIGl0ZW1cbiAqL1xuZnVuY3Rpb24gZm9yRWFjaChvYmosIGZuKSB7XG4gIC8vIERvbid0IGJvdGhlciBpZiBubyB2YWx1ZSBwcm92aWRlZFxuICBpZiAob2JqID09PSBudWxsIHx8IHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gRm9yY2UgYW4gYXJyYXkgaWYgbm90IGFscmVhZHkgc29tZXRoaW5nIGl0ZXJhYmxlXG4gIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAgIG9iaiA9IFtvYmpdO1xuICB9XG5cbiAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgIC8vIEl0ZXJhdGUgb3ZlciBhcnJheSB2YWx1ZXNcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IG9iai5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGZuLmNhbGwobnVsbCwgb2JqW2ldLCBpLCBvYmopO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBJdGVyYXRlIG92ZXIgb2JqZWN0IGtleXNcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICBmbi5jYWxsKG51bGwsIG9ialtrZXldLCBrZXksIG9iaik7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQWNjZXB0cyB2YXJhcmdzIGV4cGVjdGluZyBlYWNoIGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCwgdGhlblxuICogaW1tdXRhYmx5IG1lcmdlcyB0aGUgcHJvcGVydGllcyBvZiBlYWNoIG9iamVjdCBhbmQgcmV0dXJucyByZXN1bHQuXG4gKlxuICogV2hlbiBtdWx0aXBsZSBvYmplY3RzIGNvbnRhaW4gdGhlIHNhbWUga2V5IHRoZSBsYXRlciBvYmplY3QgaW5cbiAqIHRoZSBhcmd1bWVudHMgbGlzdCB3aWxsIHRha2UgcHJlY2VkZW5jZS5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgcmVzdWx0ID0gbWVyZ2Uoe2ZvbzogMTIzfSwge2ZvbzogNDU2fSk7XG4gKiBjb25zb2xlLmxvZyhyZXN1bHQuZm9vKTsgLy8gb3V0cHV0cyA0NTZcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmoxIE9iamVjdCB0byBtZXJnZVxuICogQHJldHVybnMge09iamVjdH0gUmVzdWx0IG9mIGFsbCBtZXJnZSBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIG1lcmdlKC8qIG9iajEsIG9iajIsIG9iajMsIC4uLiAqLykge1xuICB2YXIgcmVzdWx0ID0ge307XG4gIGZ1bmN0aW9uIGFzc2lnblZhbHVlKHZhbCwga2V5KSB7XG4gICAgaWYgKHR5cGVvZiByZXN1bHRba2V5XSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gbWVyZ2UocmVzdWx0W2tleV0sIHZhbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdFtrZXldID0gdmFsO1xuICAgIH1cbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGZvckVhY2goYXJndW1lbnRzW2ldLCBhc3NpZ25WYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBFeHRlbmRzIG9iamVjdCBhIGJ5IG11dGFibHkgYWRkaW5nIHRvIGl0IHRoZSBwcm9wZXJ0aWVzIG9mIG9iamVjdCBiLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhIFRoZSBvYmplY3QgdG8gYmUgZXh0ZW5kZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBiIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGZyb21cbiAqIEBwYXJhbSB7T2JqZWN0fSB0aGlzQXJnIFRoZSBvYmplY3QgdG8gYmluZCBmdW5jdGlvbiB0b1xuICogQHJldHVybiB7T2JqZWN0fSBUaGUgcmVzdWx0aW5nIHZhbHVlIG9mIG9iamVjdCBhXG4gKi9cbmZ1bmN0aW9uIGV4dGVuZChhLCBiLCB0aGlzQXJnKSB7XG4gIGZvckVhY2goYiwgZnVuY3Rpb24gYXNzaWduVmFsdWUodmFsLCBrZXkpIHtcbiAgICBpZiAodGhpc0FyZyAmJiB0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBhW2tleV0gPSBiaW5kKHZhbCwgdGhpc0FyZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFba2V5XSA9IHZhbDtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gYTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGlzQXJyYXk6IGlzQXJyYXksXG4gIGlzQXJyYXlCdWZmZXI6IGlzQXJyYXlCdWZmZXIsXG4gIGlzQnVmZmVyOiBpc0J1ZmZlcixcbiAgaXNGb3JtRGF0YTogaXNGb3JtRGF0YSxcbiAgaXNBcnJheUJ1ZmZlclZpZXc6IGlzQXJyYXlCdWZmZXJWaWV3LFxuICBpc1N0cmluZzogaXNTdHJpbmcsXG4gIGlzTnVtYmVyOiBpc051bWJlcixcbiAgaXNPYmplY3Q6IGlzT2JqZWN0LFxuICBpc1VuZGVmaW5lZDogaXNVbmRlZmluZWQsXG4gIGlzRGF0ZTogaXNEYXRlLFxuICBpc0ZpbGU6IGlzRmlsZSxcbiAgaXNCbG9iOiBpc0Jsb2IsXG4gIGlzRnVuY3Rpb246IGlzRnVuY3Rpb24sXG4gIGlzU3RyZWFtOiBpc1N0cmVhbSxcbiAgaXNVUkxTZWFyY2hQYXJhbXM6IGlzVVJMU2VhcmNoUGFyYW1zLFxuICBpc1N0YW5kYXJkQnJvd3NlckVudjogaXNTdGFuZGFyZEJyb3dzZXJFbnYsXG4gIGZvckVhY2g6IGZvckVhY2gsXG4gIG1lcmdlOiBtZXJnZSxcbiAgZXh0ZW5kOiBleHRlbmQsXG4gIHRyaW06IHRyaW1cbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vbGliL2F4aW9zJyk7IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG52YXIgbm9ybWFsaXplSGVhZGVyTmFtZSA9IHJlcXVpcmUoJy4vaGVscGVycy9ub3JtYWxpemVIZWFkZXJOYW1lJyk7XG5cbnZhciBERUZBVUxUX0NPTlRFTlRfVFlQRSA9IHtcbiAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnXG59O1xuXG5mdW5jdGlvbiBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgdmFsdWUpIHtcbiAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChoZWFkZXJzKSAmJiB1dGlscy5pc1VuZGVmaW5lZChoZWFkZXJzWydDb250ZW50LVR5cGUnXSkpIHtcbiAgICBoZWFkZXJzWydDb250ZW50LVR5cGUnXSA9IHZhbHVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldERlZmF1bHRBZGFwdGVyKCkge1xuICB2YXIgYWRhcHRlcjtcbiAgaWYgKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAvLyBGb3IgYnJvd3NlcnMgdXNlIFhIUiBhZGFwdGVyXG4gICAgYWRhcHRlciA9IHJlcXVpcmUoJy4vYWRhcHRlcnMveGhyJyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gRm9yIG5vZGUgdXNlIEhUVFAgYWRhcHRlclxuICAgIGFkYXB0ZXIgPSByZXF1aXJlKCcuL2FkYXB0ZXJzL2h0dHAnKTtcbiAgfVxuICByZXR1cm4gYWRhcHRlcjtcbn1cblxudmFyIGRlZmF1bHRzID0ge1xuICBhZGFwdGVyOiBnZXREZWZhdWx0QWRhcHRlcigpLFxuXG4gIHRyYW5zZm9ybVJlcXVlc3Q6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXF1ZXN0KGRhdGEsIGhlYWRlcnMpIHtcbiAgICBub3JtYWxpemVIZWFkZXJOYW1lKGhlYWRlcnMsICdDb250ZW50LVR5cGUnKTtcbiAgICBpZiAodXRpbHMuaXNGb3JtRGF0YShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNBcnJheUJ1ZmZlcihkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNCdWZmZXIoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzU3RyZWFtKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0ZpbGUoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQmxvYihkYXRhKVxuICAgICkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc0FycmF5QnVmZmVyVmlldyhkYXRhKSkge1xuICAgICAgcmV0dXJuIGRhdGEuYnVmZmVyO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNVUkxTZWFyY2hQYXJhbXMoZGF0YSkpIHtcbiAgICAgIHNldENvbnRlbnRUeXBlSWZVbnNldChoZWFkZXJzLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9dXRmLTgnKTtcbiAgICAgIHJldHVybiBkYXRhLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc09iamVjdChkYXRhKSkge1xuICAgICAgc2V0Q29udGVudFR5cGVJZlVuc2V0KGhlYWRlcnMsICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTgnKTtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1dLFxuXG4gIHRyYW5zZm9ybVJlc3BvbnNlOiBbZnVuY3Rpb24gdHJhbnNmb3JtUmVzcG9uc2UoZGF0YSkge1xuICAgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgfSBjYXRjaCAoZSkgeyAvKiBJZ25vcmUgKi8gfVxuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfV0sXG5cbiAgLyoqXG4gICAqIEEgdGltZW91dCBpbiBtaWxsaXNlY29uZHMgdG8gYWJvcnQgYSByZXF1ZXN0LiBJZiBzZXQgdG8gMCAoZGVmYXVsdCkgYVxuICAgKiB0aW1lb3V0IGlzIG5vdCBjcmVhdGVkLlxuICAgKi9cbiAgdGltZW91dDogMCxcblxuICB4c3JmQ29va2llTmFtZTogJ1hTUkYtVE9LRU4nLFxuICB4c3JmSGVhZGVyTmFtZTogJ1gtWFNSRi1UT0tFTicsXG5cbiAgbWF4Q29udGVudExlbmd0aDogLTEsXG5cbiAgdmFsaWRhdGVTdGF0dXM6IGZ1bmN0aW9uIHZhbGlkYXRlU3RhdHVzKHN0YXR1cykge1xuICAgIHJldHVybiBzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMDtcbiAgfVxufTtcblxuZGVmYXVsdHMuaGVhZGVycyA9IHtcbiAgY29tbW9uOiB7XG4gICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLyonXG4gIH1cbn07XG5cbnV0aWxzLmZvckVhY2goWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZE5vRGF0YShtZXRob2QpIHtcbiAgZGVmYXVsdHMuaGVhZGVyc1ttZXRob2RdID0ge307XG59KTtcblxudXRpbHMuZm9yRWFjaChbJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2RXaXRoRGF0YShtZXRob2QpIHtcbiAgZGVmYXVsdHMuaGVhZGVyc1ttZXRob2RdID0gdXRpbHMubWVyZ2UoREVGQVVMVF9DT05URU5UX1RZUEUpO1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZGVmYXVsdHM7XG4iLCIvKiFcblx0YXV0b3NpemUgNC4wLjJcblx0bGljZW5zZTogTUlUXG5cdGh0dHA6Ly93d3cuamFja2xtb29yZS5jb20vYXV0b3NpemVcbiovXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuXHRpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcblx0XHRkZWZpbmUoWydtb2R1bGUnLCAnZXhwb3J0cyddLCBmYWN0b3J5KTtcblx0fSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdGZhY3RvcnkobW9kdWxlLCBleHBvcnRzKTtcblx0fSBlbHNlIHtcblx0XHR2YXIgbW9kID0ge1xuXHRcdFx0ZXhwb3J0czoge31cblx0XHR9O1xuXHRcdGZhY3RvcnkobW9kLCBtb2QuZXhwb3J0cyk7XG5cdFx0Z2xvYmFsLmF1dG9zaXplID0gbW9kLmV4cG9ydHM7XG5cdH1cbn0pKHRoaXMsIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBtYXAgPSB0eXBlb2YgTWFwID09PSBcImZ1bmN0aW9uXCIgPyBuZXcgTWFwKCkgOiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIGtleXMgPSBbXTtcblx0XHR2YXIgdmFsdWVzID0gW107XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0aGFzOiBmdW5jdGlvbiBoYXMoa2V5KSB7XG5cdFx0XHRcdHJldHVybiBrZXlzLmluZGV4T2Yoa2V5KSA+IC0xO1xuXHRcdFx0fSxcblx0XHRcdGdldDogZnVuY3Rpb24gZ2V0KGtleSkge1xuXHRcdFx0XHRyZXR1cm4gdmFsdWVzW2tleXMuaW5kZXhPZihrZXkpXTtcblx0XHRcdH0sXG5cdFx0XHRzZXQ6IGZ1bmN0aW9uIHNldChrZXksIHZhbHVlKSB7XG5cdFx0XHRcdGlmIChrZXlzLmluZGV4T2Yoa2V5KSA9PT0gLTEpIHtcblx0XHRcdFx0XHRrZXlzLnB1c2goa2V5KTtcblx0XHRcdFx0XHR2YWx1ZXMucHVzaCh2YWx1ZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRkZWxldGU6IGZ1bmN0aW9uIF9kZWxldGUoa2V5KSB7XG5cdFx0XHRcdHZhciBpbmRleCA9IGtleXMuaW5kZXhPZihrZXkpO1xuXHRcdFx0XHRpZiAoaW5kZXggPiAtMSkge1xuXHRcdFx0XHRcdGtleXMuc3BsaWNlKGluZGV4LCAxKTtcblx0XHRcdFx0XHR2YWx1ZXMuc3BsaWNlKGluZGV4LCAxKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdH0oKTtcblxuXHR2YXIgY3JlYXRlRXZlbnQgPSBmdW5jdGlvbiBjcmVhdGVFdmVudChuYW1lKSB7XG5cdFx0cmV0dXJuIG5ldyBFdmVudChuYW1lLCB7IGJ1YmJsZXM6IHRydWUgfSk7XG5cdH07XG5cdHRyeSB7XG5cdFx0bmV3IEV2ZW50KCd0ZXN0Jyk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHQvLyBJRSBkb2VzIG5vdCBzdXBwb3J0IGBuZXcgRXZlbnQoKWBcblx0XHRjcmVhdGVFdmVudCA9IGZ1bmN0aW9uIGNyZWF0ZUV2ZW50KG5hbWUpIHtcblx0XHRcdHZhciBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcblx0XHRcdGV2dC5pbml0RXZlbnQobmFtZSwgdHJ1ZSwgZmFsc2UpO1xuXHRcdFx0cmV0dXJuIGV2dDtcblx0XHR9O1xuXHR9XG5cblx0ZnVuY3Rpb24gYXNzaWduKHRhKSB7XG5cdFx0aWYgKCF0YSB8fCAhdGEubm9kZU5hbWUgfHwgdGEubm9kZU5hbWUgIT09ICdURVhUQVJFQScgfHwgbWFwLmhhcyh0YSkpIHJldHVybjtcblxuXHRcdHZhciBoZWlnaHRPZmZzZXQgPSBudWxsO1xuXHRcdHZhciBjbGllbnRXaWR0aCA9IG51bGw7XG5cdFx0dmFyIGNhY2hlZEhlaWdodCA9IG51bGw7XG5cblx0XHRmdW5jdGlvbiBpbml0KCkge1xuXHRcdFx0dmFyIHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGEsIG51bGwpO1xuXG5cdFx0XHRpZiAoc3R5bGUucmVzaXplID09PSAndmVydGljYWwnKSB7XG5cdFx0XHRcdHRhLnN0eWxlLnJlc2l6ZSA9ICdub25lJztcblx0XHRcdH0gZWxzZSBpZiAoc3R5bGUucmVzaXplID09PSAnYm90aCcpIHtcblx0XHRcdFx0dGEuc3R5bGUucmVzaXplID0gJ2hvcml6b250YWwnO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoc3R5bGUuYm94U2l6aW5nID09PSAnY29udGVudC1ib3gnKSB7XG5cdFx0XHRcdGhlaWdodE9mZnNldCA9IC0ocGFyc2VGbG9hdChzdHlsZS5wYWRkaW5nVG9wKSArIHBhcnNlRmxvYXQoc3R5bGUucGFkZGluZ0JvdHRvbSkpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aGVpZ2h0T2Zmc2V0ID0gcGFyc2VGbG9hdChzdHlsZS5ib3JkZXJUb3BXaWR0aCkgKyBwYXJzZUZsb2F0KHN0eWxlLmJvcmRlckJvdHRvbVdpZHRoKTtcblx0XHRcdH1cblx0XHRcdC8vIEZpeCB3aGVuIGEgdGV4dGFyZWEgaXMgbm90IG9uIGRvY3VtZW50IGJvZHkgYW5kIGhlaWdodE9mZnNldCBpcyBOb3QgYSBOdW1iZXJcblx0XHRcdGlmIChpc05hTihoZWlnaHRPZmZzZXQpKSB7XG5cdFx0XHRcdGhlaWdodE9mZnNldCA9IDA7XG5cdFx0XHR9XG5cblx0XHRcdHVwZGF0ZSgpO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGNoYW5nZU92ZXJmbG93KHZhbHVlKSB7XG5cdFx0XHR7XG5cdFx0XHRcdC8vIENocm9tZS9TYWZhcmktc3BlY2lmaWMgZml4OlxuXHRcdFx0XHQvLyBXaGVuIHRoZSB0ZXh0YXJlYSB5LW92ZXJmbG93IGlzIGhpZGRlbiwgQ2hyb21lL1NhZmFyaSBkbyBub3QgcmVmbG93IHRoZSB0ZXh0IHRvIGFjY291bnQgZm9yIHRoZSBzcGFjZVxuXHRcdFx0XHQvLyBtYWRlIGF2YWlsYWJsZSBieSByZW1vdmluZyB0aGUgc2Nyb2xsYmFyLiBUaGUgZm9sbG93aW5nIGZvcmNlcyB0aGUgbmVjZXNzYXJ5IHRleHQgcmVmbG93LlxuXHRcdFx0XHR2YXIgd2lkdGggPSB0YS5zdHlsZS53aWR0aDtcblx0XHRcdFx0dGEuc3R5bGUud2lkdGggPSAnMHB4Jztcblx0XHRcdFx0Ly8gRm9yY2UgcmVmbG93OlxuXHRcdFx0XHQvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5cdFx0XHRcdHRhLm9mZnNldFdpZHRoO1xuXHRcdFx0XHQvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXHRcdFx0XHR0YS5zdHlsZS53aWR0aCA9IHdpZHRoO1xuXHRcdFx0fVxuXG5cdFx0XHR0YS5zdHlsZS5vdmVyZmxvd1kgPSB2YWx1ZTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBnZXRQYXJlbnRPdmVyZmxvd3MoZWwpIHtcblx0XHRcdHZhciBhcnIgPSBbXTtcblxuXHRcdFx0d2hpbGUgKGVsICYmIGVsLnBhcmVudE5vZGUgJiYgZWwucGFyZW50Tm9kZSBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcblx0XHRcdFx0aWYgKGVsLnBhcmVudE5vZGUuc2Nyb2xsVG9wKSB7XG5cdFx0XHRcdFx0YXJyLnB1c2goe1xuXHRcdFx0XHRcdFx0bm9kZTogZWwucGFyZW50Tm9kZSxcblx0XHRcdFx0XHRcdHNjcm9sbFRvcDogZWwucGFyZW50Tm9kZS5zY3JvbGxUb3Bcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbCA9IGVsLnBhcmVudE5vZGU7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBhcnI7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gcmVzaXplKCkge1xuXHRcdFx0aWYgKHRhLnNjcm9sbEhlaWdodCA9PT0gMCkge1xuXHRcdFx0XHQvLyBJZiB0aGUgc2Nyb2xsSGVpZ2h0IGlzIDAsIHRoZW4gdGhlIGVsZW1lbnQgcHJvYmFibHkgaGFzIGRpc3BsYXk6bm9uZSBvciBpcyBkZXRhY2hlZCBmcm9tIHRoZSBET00uXG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dmFyIG92ZXJmbG93cyA9IGdldFBhcmVudE92ZXJmbG93cyh0YSk7XG5cdFx0XHR2YXIgZG9jVG9wID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7IC8vIE5lZWRlZCBmb3IgTW9iaWxlIElFICh0aWNrZXQgIzI0MClcblxuXHRcdFx0dGEuc3R5bGUuaGVpZ2h0ID0gJyc7XG5cdFx0XHR0YS5zdHlsZS5oZWlnaHQgPSB0YS5zY3JvbGxIZWlnaHQgKyBoZWlnaHRPZmZzZXQgKyAncHgnO1xuXG5cdFx0XHQvLyB1c2VkIHRvIGNoZWNrIGlmIGFuIHVwZGF0ZSBpcyBhY3R1YWxseSBuZWNlc3Nhcnkgb24gd2luZG93LnJlc2l6ZVxuXHRcdFx0Y2xpZW50V2lkdGggPSB0YS5jbGllbnRXaWR0aDtcblxuXHRcdFx0Ly8gcHJldmVudHMgc2Nyb2xsLXBvc2l0aW9uIGp1bXBpbmdcblx0XHRcdG92ZXJmbG93cy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuXHRcdFx0XHRlbC5ub2RlLnNjcm9sbFRvcCA9IGVsLnNjcm9sbFRvcDtcblx0XHRcdH0pO1xuXG5cdFx0XHRpZiAoZG9jVG9wKSB7XG5cdFx0XHRcdGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPSBkb2NUb3A7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gdXBkYXRlKCkge1xuXHRcdFx0cmVzaXplKCk7XG5cblx0XHRcdHZhciBzdHlsZUhlaWdodCA9IE1hdGgucm91bmQocGFyc2VGbG9hdCh0YS5zdHlsZS5oZWlnaHQpKTtcblx0XHRcdHZhciBjb21wdXRlZCA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRhLCBudWxsKTtcblxuXHRcdFx0Ly8gVXNpbmcgb2Zmc2V0SGVpZ2h0IGFzIGEgcmVwbGFjZW1lbnQgZm9yIGNvbXB1dGVkLmhlaWdodCBpbiBJRSwgYmVjYXVzZSBJRSBkb2VzIG5vdCBhY2NvdW50IHVzZSBvZiBib3JkZXItYm94XG5cdFx0XHR2YXIgYWN0dWFsSGVpZ2h0ID0gY29tcHV0ZWQuYm94U2l6aW5nID09PSAnY29udGVudC1ib3gnID8gTWF0aC5yb3VuZChwYXJzZUZsb2F0KGNvbXB1dGVkLmhlaWdodCkpIDogdGEub2Zmc2V0SGVpZ2h0O1xuXG5cdFx0XHQvLyBUaGUgYWN0dWFsIGhlaWdodCBub3QgbWF0Y2hpbmcgdGhlIHN0eWxlIGhlaWdodCAoc2V0IHZpYSB0aGUgcmVzaXplIG1ldGhvZCkgaW5kaWNhdGVzIHRoYXQgXG5cdFx0XHQvLyB0aGUgbWF4LWhlaWdodCBoYXMgYmVlbiBleGNlZWRlZCwgaW4gd2hpY2ggY2FzZSB0aGUgb3ZlcmZsb3cgc2hvdWxkIGJlIGFsbG93ZWQuXG5cdFx0XHRpZiAoYWN0dWFsSGVpZ2h0IDwgc3R5bGVIZWlnaHQpIHtcblx0XHRcdFx0aWYgKGNvbXB1dGVkLm92ZXJmbG93WSA9PT0gJ2hpZGRlbicpIHtcblx0XHRcdFx0XHRjaGFuZ2VPdmVyZmxvdygnc2Nyb2xsJyk7XG5cdFx0XHRcdFx0cmVzaXplKCk7XG5cdFx0XHRcdFx0YWN0dWFsSGVpZ2h0ID0gY29tcHV0ZWQuYm94U2l6aW5nID09PSAnY29udGVudC1ib3gnID8gTWF0aC5yb3VuZChwYXJzZUZsb2F0KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRhLCBudWxsKS5oZWlnaHQpKSA6IHRhLm9mZnNldEhlaWdodDtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gTm9ybWFsbHkga2VlcCBvdmVyZmxvdyBzZXQgdG8gaGlkZGVuLCB0byBhdm9pZCBmbGFzaCBvZiBzY3JvbGxiYXIgYXMgdGhlIHRleHRhcmVhIGV4cGFuZHMuXG5cdFx0XHRcdGlmIChjb21wdXRlZC5vdmVyZmxvd1kgIT09ICdoaWRkZW4nKSB7XG5cdFx0XHRcdFx0Y2hhbmdlT3ZlcmZsb3coJ2hpZGRlbicpO1xuXHRcdFx0XHRcdHJlc2l6ZSgpO1xuXHRcdFx0XHRcdGFjdHVhbEhlaWdodCA9IGNvbXB1dGVkLmJveFNpemluZyA9PT0gJ2NvbnRlbnQtYm94JyA/IE1hdGgucm91bmQocGFyc2VGbG9hdCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0YSwgbnVsbCkuaGVpZ2h0KSkgOiB0YS5vZmZzZXRIZWlnaHQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKGNhY2hlZEhlaWdodCAhPT0gYWN0dWFsSGVpZ2h0KSB7XG5cdFx0XHRcdGNhY2hlZEhlaWdodCA9IGFjdHVhbEhlaWdodDtcblx0XHRcdFx0dmFyIGV2dCA9IGNyZWF0ZUV2ZW50KCdhdXRvc2l6ZTpyZXNpemVkJyk7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0dGEuZGlzcGF0Y2hFdmVudChldnQpO1xuXHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0XHQvLyBGaXJlZm94IHdpbGwgdGhyb3cgYW4gZXJyb3Igb24gZGlzcGF0Y2hFdmVudCBmb3IgYSBkZXRhY2hlZCBlbGVtZW50XG5cdFx0XHRcdFx0Ly8gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9ODg5Mzc2XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHR2YXIgcGFnZVJlc2l6ZSA9IGZ1bmN0aW9uIHBhZ2VSZXNpemUoKSB7XG5cdFx0XHRpZiAodGEuY2xpZW50V2lkdGggIT09IGNsaWVudFdpZHRoKSB7XG5cdFx0XHRcdHVwZGF0ZSgpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHR2YXIgZGVzdHJveSA9IGZ1bmN0aW9uIChzdHlsZSkge1xuXHRcdFx0d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHBhZ2VSZXNpemUsIGZhbHNlKTtcblx0XHRcdHRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2lucHV0JywgdXBkYXRlLCBmYWxzZSk7XG5cdFx0XHR0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIHVwZGF0ZSwgZmFsc2UpO1xuXHRcdFx0dGEucmVtb3ZlRXZlbnRMaXN0ZW5lcignYXV0b3NpemU6ZGVzdHJveScsIGRlc3Ryb3ksIGZhbHNlKTtcblx0XHRcdHRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2F1dG9zaXplOnVwZGF0ZScsIHVwZGF0ZSwgZmFsc2UpO1xuXG5cdFx0XHRPYmplY3Qua2V5cyhzdHlsZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0XHRcdHRhLnN0eWxlW2tleV0gPSBzdHlsZVtrZXldO1xuXHRcdFx0fSk7XG5cblx0XHRcdG1hcC5kZWxldGUodGEpO1xuXHRcdH0uYmluZCh0YSwge1xuXHRcdFx0aGVpZ2h0OiB0YS5zdHlsZS5oZWlnaHQsXG5cdFx0XHRyZXNpemU6IHRhLnN0eWxlLnJlc2l6ZSxcblx0XHRcdG92ZXJmbG93WTogdGEuc3R5bGUub3ZlcmZsb3dZLFxuXHRcdFx0b3ZlcmZsb3dYOiB0YS5zdHlsZS5vdmVyZmxvd1gsXG5cdFx0XHR3b3JkV3JhcDogdGEuc3R5bGUud29yZFdyYXBcblx0XHR9KTtcblxuXHRcdHRhLmFkZEV2ZW50TGlzdGVuZXIoJ2F1dG9zaXplOmRlc3Ryb3knLCBkZXN0cm95LCBmYWxzZSk7XG5cblx0XHQvLyBJRTkgZG9lcyBub3QgZmlyZSBvbnByb3BlcnR5Y2hhbmdlIG9yIG9uaW5wdXQgZm9yIGRlbGV0aW9ucyxcblx0XHQvLyBzbyBiaW5kaW5nIHRvIG9ua2V5dXAgdG8gY2F0Y2ggbW9zdCBvZiB0aG9zZSBldmVudHMuXG5cdFx0Ly8gVGhlcmUgaXMgbm8gd2F5IHRoYXQgSSBrbm93IG9mIHRvIGRldGVjdCBzb21ldGhpbmcgbGlrZSAnY3V0JyBpbiBJRTkuXG5cdFx0aWYgKCdvbnByb3BlcnR5Y2hhbmdlJyBpbiB0YSAmJiAnb25pbnB1dCcgaW4gdGEpIHtcblx0XHRcdHRhLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdXBkYXRlLCBmYWxzZSk7XG5cdFx0fVxuXG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHBhZ2VSZXNpemUsIGZhbHNlKTtcblx0XHR0YS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHVwZGF0ZSwgZmFsc2UpO1xuXHRcdHRhLmFkZEV2ZW50TGlzdGVuZXIoJ2F1dG9zaXplOnVwZGF0ZScsIHVwZGF0ZSwgZmFsc2UpO1xuXHRcdHRhLnN0eWxlLm92ZXJmbG93WCA9ICdoaWRkZW4nO1xuXHRcdHRhLnN0eWxlLndvcmRXcmFwID0gJ2JyZWFrLXdvcmQnO1xuXG5cdFx0bWFwLnNldCh0YSwge1xuXHRcdFx0ZGVzdHJveTogZGVzdHJveSxcblx0XHRcdHVwZGF0ZTogdXBkYXRlXG5cdFx0fSk7XG5cblx0XHRpbml0KCk7XG5cdH1cblxuXHRmdW5jdGlvbiBkZXN0cm95KHRhKSB7XG5cdFx0dmFyIG1ldGhvZHMgPSBtYXAuZ2V0KHRhKTtcblx0XHRpZiAobWV0aG9kcykge1xuXHRcdFx0bWV0aG9kcy5kZXN0cm95KCk7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gdXBkYXRlKHRhKSB7XG5cdFx0dmFyIG1ldGhvZHMgPSBtYXAuZ2V0KHRhKTtcblx0XHRpZiAobWV0aG9kcykge1xuXHRcdFx0bWV0aG9kcy51cGRhdGUoKTtcblx0XHR9XG5cdH1cblxuXHR2YXIgYXV0b3NpemUgPSBudWxsO1xuXG5cdC8vIERvIG5vdGhpbmcgaW4gTm9kZS5qcyBlbnZpcm9ubWVudCBhbmQgSUU4IChvciBsb3dlcilcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSAhPT0gJ2Z1bmN0aW9uJykge1xuXHRcdGF1dG9zaXplID0gZnVuY3Rpb24gYXV0b3NpemUoZWwpIHtcblx0XHRcdHJldHVybiBlbDtcblx0XHR9O1xuXHRcdGF1dG9zaXplLmRlc3Ryb3kgPSBmdW5jdGlvbiAoZWwpIHtcblx0XHRcdHJldHVybiBlbDtcblx0XHR9O1xuXHRcdGF1dG9zaXplLnVwZGF0ZSA9IGZ1bmN0aW9uIChlbCkge1xuXHRcdFx0cmV0dXJuIGVsO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0YXV0b3NpemUgPSBmdW5jdGlvbiBhdXRvc2l6ZShlbCwgb3B0aW9ucykge1xuXHRcdFx0aWYgKGVsKSB7XG5cdFx0XHRcdEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZWwubGVuZ3RoID8gZWwgOiBbZWxdLCBmdW5jdGlvbiAoeCkge1xuXHRcdFx0XHRcdHJldHVybiBhc3NpZ24oeCwgb3B0aW9ucyk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGVsO1xuXHRcdH07XG5cdFx0YXV0b3NpemUuZGVzdHJveSA9IGZ1bmN0aW9uIChlbCkge1xuXHRcdFx0aWYgKGVsKSB7XG5cdFx0XHRcdEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZWwubGVuZ3RoID8gZWwgOiBbZWxdLCBkZXN0cm95KTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBlbDtcblx0XHR9O1xuXHRcdGF1dG9zaXplLnVwZGF0ZSA9IGZ1bmN0aW9uIChlbCkge1xuXHRcdFx0aWYgKGVsKSB7XG5cdFx0XHRcdEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZWwubGVuZ3RoID8gZWwgOiBbZWxdLCB1cGRhdGUpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGVsO1xuXHRcdH07XG5cdH1cblxuXHRleHBvcnRzLmRlZmF1bHQgPSBhdXRvc2l6ZTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG59KTsiLCIvKiBqc2hpbnQgYnJvd3NlcjogdHJ1ZSAqL1xuXG4oZnVuY3Rpb24gKCkge1xuXG4vLyBXZSdsbCBjb3B5IHRoZSBwcm9wZXJ0aWVzIGJlbG93IGludG8gdGhlIG1pcnJvciBkaXYuXG4vLyBOb3RlIHRoYXQgc29tZSBicm93c2Vycywgc3VjaCBhcyBGaXJlZm94LCBkbyBub3QgY29uY2F0ZW5hdGUgcHJvcGVydGllc1xuLy8gaW50byB0aGVpciBzaG9ydGhhbmQgKGUuZy4gcGFkZGluZy10b3AsIHBhZGRpbmctYm90dG9tIGV0Yy4gLT4gcGFkZGluZyksXG4vLyBzbyB3ZSBoYXZlIHRvIGxpc3QgZXZlcnkgc2luZ2xlIHByb3BlcnR5IGV4cGxpY2l0bHkuXG52YXIgcHJvcGVydGllcyA9IFtcbiAgJ2RpcmVjdGlvbicsICAvLyBSVEwgc3VwcG9ydFxuICAnYm94U2l6aW5nJyxcbiAgJ3dpZHRoJywgIC8vIG9uIENocm9tZSBhbmQgSUUsIGV4Y2x1ZGUgdGhlIHNjcm9sbGJhciwgc28gdGhlIG1pcnJvciBkaXYgd3JhcHMgZXhhY3RseSBhcyB0aGUgdGV4dGFyZWEgZG9lc1xuICAnaGVpZ2h0JyxcbiAgJ292ZXJmbG93WCcsXG4gICdvdmVyZmxvd1knLCAgLy8gY29weSB0aGUgc2Nyb2xsYmFyIGZvciBJRVxuXG4gICdib3JkZXJUb3BXaWR0aCcsXG4gICdib3JkZXJSaWdodFdpZHRoJyxcbiAgJ2JvcmRlckJvdHRvbVdpZHRoJyxcbiAgJ2JvcmRlckxlZnRXaWR0aCcsXG4gICdib3JkZXJTdHlsZScsXG5cbiAgJ3BhZGRpbmdUb3AnLFxuICAncGFkZGluZ1JpZ2h0JyxcbiAgJ3BhZGRpbmdCb3R0b20nLFxuICAncGFkZGluZ0xlZnQnLFxuXG4gIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9mb250XG4gICdmb250U3R5bGUnLFxuICAnZm9udFZhcmlhbnQnLFxuICAnZm9udFdlaWdodCcsXG4gICdmb250U3RyZXRjaCcsXG4gICdmb250U2l6ZScsXG4gICdmb250U2l6ZUFkanVzdCcsXG4gICdsaW5lSGVpZ2h0JyxcbiAgJ2ZvbnRGYW1pbHknLFxuXG4gICd0ZXh0QWxpZ24nLFxuICAndGV4dFRyYW5zZm9ybScsXG4gICd0ZXh0SW5kZW50JyxcbiAgJ3RleHREZWNvcmF0aW9uJywgIC8vIG1pZ2h0IG5vdCBtYWtlIGEgZGlmZmVyZW5jZSwgYnV0IGJldHRlciBiZSBzYWZlXG5cbiAgJ2xldHRlclNwYWNpbmcnLFxuICAnd29yZFNwYWNpbmcnLFxuXG4gICd0YWJTaXplJyxcbiAgJ01velRhYlNpemUnXG5cbl07XG5cbnZhciBpc0Jyb3dzZXIgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpO1xudmFyIGlzRmlyZWZveCA9IChpc0Jyb3dzZXIgJiYgd2luZG93Lm1veklubmVyU2NyZWVuWCAhPSBudWxsKTtcblxuZnVuY3Rpb24gZ2V0Q2FyZXRDb29yZGluYXRlcyhlbGVtZW50LCBwb3NpdGlvbiwgb3B0aW9ucykge1xuICBpZiAoIWlzQnJvd3Nlcikge1xuICAgIHRocm93IG5ldyBFcnJvcigndGV4dGFyZWEtY2FyZXQtcG9zaXRpb24jZ2V0Q2FyZXRDb29yZGluYXRlcyBzaG91bGQgb25seSBiZSBjYWxsZWQgaW4gYSBicm93c2VyJyk7XG4gIH1cblxuICB2YXIgZGVidWcgPSBvcHRpb25zICYmIG9wdGlvbnMuZGVidWcgfHwgZmFsc2U7XG4gIGlmIChkZWJ1Zykge1xuICAgIHZhciBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNpbnB1dC10ZXh0YXJlYS1jYXJldC1wb3NpdGlvbi1taXJyb3ItZGl2Jyk7XG4gICAgaWYgKGVsKSBlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKTtcbiAgfVxuXG4gIC8vIFRoZSBtaXJyb3IgZGl2IHdpbGwgcmVwbGljYXRlIHRoZSB0ZXh0YXJlYSdzIHN0eWxlXG4gIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZGl2LmlkID0gJ2lucHV0LXRleHRhcmVhLWNhcmV0LXBvc2l0aW9uLW1pcnJvci1kaXYnO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdik7XG5cbiAgdmFyIHN0eWxlID0gZGl2LnN0eWxlO1xuICB2YXIgY29tcHV0ZWQgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSA/IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpIDogZWxlbWVudC5jdXJyZW50U3R5bGU7ICAvLyBjdXJyZW50U3R5bGUgZm9yIElFIDwgOVxuICB2YXIgaXNJbnB1dCA9IGVsZW1lbnQubm9kZU5hbWUgPT09ICdJTlBVVCc7XG5cbiAgLy8gRGVmYXVsdCB0ZXh0YXJlYSBzdHlsZXNcbiAgc3R5bGUud2hpdGVTcGFjZSA9ICdwcmUtd3JhcCc7XG4gIGlmICghaXNJbnB1dClcbiAgICBzdHlsZS53b3JkV3JhcCA9ICdicmVhay13b3JkJzsgIC8vIG9ubHkgZm9yIHRleHRhcmVhLXNcblxuICAvLyBQb3NpdGlvbiBvZmYtc2NyZWVuXG4gIHN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJzsgIC8vIHJlcXVpcmVkIHRvIHJldHVybiBjb29yZGluYXRlcyBwcm9wZXJseVxuICBpZiAoIWRlYnVnKVxuICAgIHN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJzsgIC8vIG5vdCAnZGlzcGxheTogbm9uZScgYmVjYXVzZSB3ZSB3YW50IHJlbmRlcmluZ1xuXG4gIC8vIFRyYW5zZmVyIHRoZSBlbGVtZW50J3MgcHJvcGVydGllcyB0byB0aGUgZGl2XG4gIHByb3BlcnRpZXMuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgIGlmIChpc0lucHV0ICYmIHByb3AgPT09ICdsaW5lSGVpZ2h0Jykge1xuICAgICAgLy8gU3BlY2lhbCBjYXNlIGZvciA8aW5wdXQ+cyBiZWNhdXNlIHRleHQgaXMgcmVuZGVyZWQgY2VudGVyZWQgYW5kIGxpbmUgaGVpZ2h0IG1heSBiZSAhPSBoZWlnaHRcbiAgICAgIHN0eWxlLmxpbmVIZWlnaHQgPSBjb21wdXRlZC5oZWlnaHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlW3Byb3BdID0gY29tcHV0ZWRbcHJvcF07XG4gICAgfVxuICB9KTtcblxuICBpZiAoaXNGaXJlZm94KSB7XG4gICAgLy8gRmlyZWZveCBsaWVzIGFib3V0IHRoZSBvdmVyZmxvdyBwcm9wZXJ0eSBmb3IgdGV4dGFyZWFzOiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD05ODQyNzVcbiAgICBpZiAoZWxlbWVudC5zY3JvbGxIZWlnaHQgPiBwYXJzZUludChjb21wdXRlZC5oZWlnaHQpKVxuICAgICAgc3R5bGUub3ZlcmZsb3dZID0gJ3Njcm9sbCc7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJzsgIC8vIGZvciBDaHJvbWUgdG8gbm90IHJlbmRlciBhIHNjcm9sbGJhcjsgSUUga2VlcHMgb3ZlcmZsb3dZID0gJ3Njcm9sbCdcbiAgfVxuXG4gIGRpdi50ZXh0Q29udGVudCA9IGVsZW1lbnQudmFsdWUuc3Vic3RyaW5nKDAsIHBvc2l0aW9uKTtcbiAgLy8gVGhlIHNlY29uZCBzcGVjaWFsIGhhbmRsaW5nIGZvciBpbnB1dCB0eXBlPVwidGV4dFwiIHZzIHRleHRhcmVhOlxuICAvLyBzcGFjZXMgbmVlZCB0byBiZSByZXBsYWNlZCB3aXRoIG5vbi1icmVha2luZyBzcGFjZXMgLSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMzQwMjAzNS8xMjY5MDM3XG4gIGlmIChpc0lucHV0KVxuICAgIGRpdi50ZXh0Q29udGVudCA9IGRpdi50ZXh0Q29udGVudC5yZXBsYWNlKC9cXHMvZywgJ1xcdTAwYTAnKTtcblxuICB2YXIgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgLy8gV3JhcHBpbmcgbXVzdCBiZSByZXBsaWNhdGVkICpleGFjdGx5KiwgaW5jbHVkaW5nIHdoZW4gYSBsb25nIHdvcmQgZ2V0c1xuICAvLyBvbnRvIHRoZSBuZXh0IGxpbmUsIHdpdGggd2hpdGVzcGFjZSBhdCB0aGUgZW5kIG9mIHRoZSBsaW5lIGJlZm9yZSAoIzcpLlxuICAvLyBUaGUgICpvbmx5KiByZWxpYWJsZSB3YXkgdG8gZG8gdGhhdCBpcyB0byBjb3B5IHRoZSAqZW50aXJlKiByZXN0IG9mIHRoZVxuICAvLyB0ZXh0YXJlYSdzIGNvbnRlbnQgaW50byB0aGUgPHNwYW4+IGNyZWF0ZWQgYXQgdGhlIGNhcmV0IHBvc2l0aW9uLlxuICAvLyBGb3IgaW5wdXRzLCBqdXN0ICcuJyB3b3VsZCBiZSBlbm91Z2gsIGJ1dCBubyBuZWVkIHRvIGJvdGhlci5cbiAgc3Bhbi50ZXh0Q29udGVudCA9IGVsZW1lbnQudmFsdWUuc3Vic3RyaW5nKHBvc2l0aW9uKSB8fCAnLic7ICAvLyB8fCBiZWNhdXNlIGEgY29tcGxldGVseSBlbXB0eSBmYXV4IHNwYW4gZG9lc24ndCByZW5kZXIgYXQgYWxsXG4gIGRpdi5hcHBlbmRDaGlsZChzcGFuKTtcblxuICB2YXIgY29vcmRpbmF0ZXMgPSB7XG4gICAgdG9wOiBzcGFuLm9mZnNldFRvcCArIHBhcnNlSW50KGNvbXB1dGVkWydib3JkZXJUb3BXaWR0aCddKSxcbiAgICBsZWZ0OiBzcGFuLm9mZnNldExlZnQgKyBwYXJzZUludChjb21wdXRlZFsnYm9yZGVyTGVmdFdpZHRoJ10pLFxuICAgIGhlaWdodDogcGFyc2VJbnQoY29tcHV0ZWRbJ2xpbmVIZWlnaHQnXSlcbiAgfTtcblxuICBpZiAoZGVidWcpIHtcbiAgICBzcGFuLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjYWFhJztcbiAgfSBlbHNlIHtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGRpdik7XG4gIH1cblxuICByZXR1cm4gY29vcmRpbmF0ZXM7XG59XG5cbmlmICh0eXBlb2YgbW9kdWxlICE9ICd1bmRlZmluZWQnICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyAhPSAndW5kZWZpbmVkJykge1xuICBtb2R1bGUuZXhwb3J0cyA9IGdldENhcmV0Q29vcmRpbmF0ZXM7XG59IGVsc2UgaWYoaXNCcm93c2VyKSB7XG4gIHdpbmRvdy5nZXRDYXJldENvb3JkaW5hdGVzID0gZ2V0Q2FyZXRDb29yZGluYXRlcztcbn1cblxufSgpKTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBiaW5kKGZuLCB0aGlzQXJnKSB7XG4gIHJldHVybiBmdW5jdGlvbiB3cmFwKCkge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICB9O1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIHNldHRsZSA9IHJlcXVpcmUoJy4vLi4vY29yZS9zZXR0bGUnKTtcbnZhciBidWlsZFVSTCA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9idWlsZFVSTCcpO1xudmFyIHBhcnNlSGVhZGVycyA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9wYXJzZUhlYWRlcnMnKTtcbnZhciBpc1VSTFNhbWVPcmlnaW4gPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvaXNVUkxTYW1lT3JpZ2luJyk7XG52YXIgY3JlYXRlRXJyb3IgPSByZXF1aXJlKCcuLi9jb3JlL2NyZWF0ZUVycm9yJyk7XG52YXIgYnRvYSA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuYnRvYSAmJiB3aW5kb3cuYnRvYS5iaW5kKHdpbmRvdykpIHx8IHJlcXVpcmUoJy4vLi4vaGVscGVycy9idG9hJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24geGhyQWRhcHRlcihjb25maWcpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIGRpc3BhdGNoWGhyUmVxdWVzdChyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgcmVxdWVzdERhdGEgPSBjb25maWcuZGF0YTtcbiAgICB2YXIgcmVxdWVzdEhlYWRlcnMgPSBjb25maWcuaGVhZGVycztcblxuICAgIGlmICh1dGlscy5pc0Zvcm1EYXRhKHJlcXVlc3REYXRhKSkge1xuICAgICAgZGVsZXRlIHJlcXVlc3RIZWFkZXJzWydDb250ZW50LVR5cGUnXTsgLy8gTGV0IHRoZSBicm93c2VyIHNldCBpdFxuICAgIH1cblxuICAgIHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgdmFyIGxvYWRFdmVudCA9ICdvbnJlYWR5c3RhdGVjaGFuZ2UnO1xuICAgIHZhciB4RG9tYWluID0gZmFsc2U7XG5cbiAgICAvLyBGb3IgSUUgOC85IENPUlMgc3VwcG9ydFxuICAgIC8vIE9ubHkgc3VwcG9ydHMgUE9TVCBhbmQgR0VUIGNhbGxzIGFuZCBkb2Vzbid0IHJldHVybnMgdGhlIHJlc3BvbnNlIGhlYWRlcnMuXG4gICAgLy8gRE9OJ1QgZG8gdGhpcyBmb3IgdGVzdGluZyBiL2MgWE1MSHR0cFJlcXVlc3QgaXMgbW9ja2VkLCBub3QgWERvbWFpblJlcXVlc3QuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAndGVzdCcgJiZcbiAgICAgICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgd2luZG93LlhEb21haW5SZXF1ZXN0ICYmICEoJ3dpdGhDcmVkZW50aWFscycgaW4gcmVxdWVzdCkgJiZcbiAgICAgICAgIWlzVVJMU2FtZU9yaWdpbihjb25maWcudXJsKSkge1xuICAgICAgcmVxdWVzdCA9IG5ldyB3aW5kb3cuWERvbWFpblJlcXVlc3QoKTtcbiAgICAgIGxvYWRFdmVudCA9ICdvbmxvYWQnO1xuICAgICAgeERvbWFpbiA9IHRydWU7XG4gICAgICByZXF1ZXN0Lm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbiBoYW5kbGVQcm9ncmVzcygpIHt9O1xuICAgICAgcmVxdWVzdC5vbnRpbWVvdXQgPSBmdW5jdGlvbiBoYW5kbGVUaW1lb3V0KCkge307XG4gICAgfVxuXG4gICAgLy8gSFRUUCBiYXNpYyBhdXRoZW50aWNhdGlvblxuICAgIGlmIChjb25maWcuYXV0aCkge1xuICAgICAgdmFyIHVzZXJuYW1lID0gY29uZmlnLmF1dGgudXNlcm5hbWUgfHwgJyc7XG4gICAgICB2YXIgcGFzc3dvcmQgPSBjb25maWcuYXV0aC5wYXNzd29yZCB8fCAnJztcbiAgICAgIHJlcXVlc3RIZWFkZXJzLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArIGJ0b2EodXNlcm5hbWUgKyAnOicgKyBwYXNzd29yZCk7XG4gICAgfVxuXG4gICAgcmVxdWVzdC5vcGVuKGNvbmZpZy5tZXRob2QudG9VcHBlckNhc2UoKSwgYnVpbGRVUkwoY29uZmlnLnVybCwgY29uZmlnLnBhcmFtcywgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIpLCB0cnVlKTtcblxuICAgIC8vIFNldCB0aGUgcmVxdWVzdCB0aW1lb3V0IGluIE1TXG4gICAgcmVxdWVzdC50aW1lb3V0ID0gY29uZmlnLnRpbWVvdXQ7XG5cbiAgICAvLyBMaXN0ZW4gZm9yIHJlYWR5IHN0YXRlXG4gICAgcmVxdWVzdFtsb2FkRXZlbnRdID0gZnVuY3Rpb24gaGFuZGxlTG9hZCgpIHtcbiAgICAgIGlmICghcmVxdWVzdCB8fCAocmVxdWVzdC5yZWFkeVN0YXRlICE9PSA0ICYmICF4RG9tYWluKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSByZXF1ZXN0IGVycm9yZWQgb3V0IGFuZCB3ZSBkaWRuJ3QgZ2V0IGEgcmVzcG9uc2UsIHRoaXMgd2lsbCBiZVxuICAgICAgLy8gaGFuZGxlZCBieSBvbmVycm9yIGluc3RlYWRcbiAgICAgIC8vIFdpdGggb25lIGV4Y2VwdGlvbjogcmVxdWVzdCB0aGF0IHVzaW5nIGZpbGU6IHByb3RvY29sLCBtb3N0IGJyb3dzZXJzXG4gICAgICAvLyB3aWxsIHJldHVybiBzdGF0dXMgYXMgMCBldmVuIHRob3VnaCBpdCdzIGEgc3VjY2Vzc2Z1bCByZXF1ZXN0XG4gICAgICBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDAgJiYgIShyZXF1ZXN0LnJlc3BvbnNlVVJMICYmIHJlcXVlc3QucmVzcG9uc2VVUkwuaW5kZXhPZignZmlsZTonKSA9PT0gMCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBQcmVwYXJlIHRoZSByZXNwb25zZVxuICAgICAgdmFyIHJlc3BvbnNlSGVhZGVycyA9ICdnZXRBbGxSZXNwb25zZUhlYWRlcnMnIGluIHJlcXVlc3QgPyBwYXJzZUhlYWRlcnMocmVxdWVzdC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkgOiBudWxsO1xuICAgICAgdmFyIHJlc3BvbnNlRGF0YSA9ICFjb25maWcucmVzcG9uc2VUeXBlIHx8IGNvbmZpZy5yZXNwb25zZVR5cGUgPT09ICd0ZXh0JyA/IHJlcXVlc3QucmVzcG9uc2VUZXh0IDogcmVxdWVzdC5yZXNwb25zZTtcbiAgICAgIHZhciByZXNwb25zZSA9IHtcbiAgICAgICAgZGF0YTogcmVzcG9uc2VEYXRhLFxuICAgICAgICAvLyBJRSBzZW5kcyAxMjIzIGluc3RlYWQgb2YgMjA0IChodHRwczovL2dpdGh1Yi5jb20vYXhpb3MvYXhpb3MvaXNzdWVzLzIwMSlcbiAgICAgICAgc3RhdHVzOiByZXF1ZXN0LnN0YXR1cyA9PT0gMTIyMyA/IDIwNCA6IHJlcXVlc3Quc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiByZXF1ZXN0LnN0YXR1cyA9PT0gMTIyMyA/ICdObyBDb250ZW50JyA6IHJlcXVlc3Quc3RhdHVzVGV4dCxcbiAgICAgICAgaGVhZGVyczogcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICBjb25maWc6IGNvbmZpZyxcbiAgICAgICAgcmVxdWVzdDogcmVxdWVzdFxuICAgICAgfTtcblxuICAgICAgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgcmVzcG9uc2UpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIGxvdyBsZXZlbCBuZXR3b3JrIGVycm9yc1xuICAgIHJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uIGhhbmRsZUVycm9yKCkge1xuICAgICAgLy8gUmVhbCBlcnJvcnMgYXJlIGhpZGRlbiBmcm9tIHVzIGJ5IHRoZSBicm93c2VyXG4gICAgICAvLyBvbmVycm9yIHNob3VsZCBvbmx5IGZpcmUgaWYgaXQncyBhIG5ldHdvcmsgZXJyb3JcbiAgICAgIHJlamVjdChjcmVhdGVFcnJvcignTmV0d29yayBFcnJvcicsIGNvbmZpZywgbnVsbCwgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIHRpbWVvdXRcbiAgICByZXF1ZXN0Lm9udGltZW91dCA9IGZ1bmN0aW9uIGhhbmRsZVRpbWVvdXQoKSB7XG4gICAgICByZWplY3QoY3JlYXRlRXJyb3IoJ3RpbWVvdXQgb2YgJyArIGNvbmZpZy50aW1lb3V0ICsgJ21zIGV4Y2VlZGVkJywgY29uZmlnLCAnRUNPTk5BQk9SVEVEJyxcbiAgICAgICAgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gQWRkIHhzcmYgaGVhZGVyXG4gICAgLy8gVGhpcyBpcyBvbmx5IGRvbmUgaWYgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgZW52aXJvbm1lbnQuXG4gICAgLy8gU3BlY2lmaWNhbGx5IG5vdCBpZiB3ZSdyZSBpbiBhIHdlYiB3b3JrZXIsIG9yIHJlYWN0LW5hdGl2ZS5cbiAgICBpZiAodXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSkge1xuICAgICAgdmFyIGNvb2tpZXMgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvY29va2llcycpO1xuXG4gICAgICAvLyBBZGQgeHNyZiBoZWFkZXJcbiAgICAgIHZhciB4c3JmVmFsdWUgPSAoY29uZmlnLndpdGhDcmVkZW50aWFscyB8fCBpc1VSTFNhbWVPcmlnaW4oY29uZmlnLnVybCkpICYmIGNvbmZpZy54c3JmQ29va2llTmFtZSA/XG4gICAgICAgICAgY29va2llcy5yZWFkKGNvbmZpZy54c3JmQ29va2llTmFtZSkgOlxuICAgICAgICAgIHVuZGVmaW5lZDtcblxuICAgICAgaWYgKHhzcmZWYWx1ZSkge1xuICAgICAgICByZXF1ZXN0SGVhZGVyc1tjb25maWcueHNyZkhlYWRlck5hbWVdID0geHNyZlZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFkZCBoZWFkZXJzIHRvIHRoZSByZXF1ZXN0XG4gICAgaWYgKCdzZXRSZXF1ZXN0SGVhZGVyJyBpbiByZXF1ZXN0KSB7XG4gICAgICB1dGlscy5mb3JFYWNoKHJlcXVlc3RIZWFkZXJzLCBmdW5jdGlvbiBzZXRSZXF1ZXN0SGVhZGVyKHZhbCwga2V5KSB7XG4gICAgICAgIGlmICh0eXBlb2YgcmVxdWVzdERhdGEgPT09ICd1bmRlZmluZWQnICYmIGtleS50b0xvd2VyQ2FzZSgpID09PSAnY29udGVudC10eXBlJykge1xuICAgICAgICAgIC8vIFJlbW92ZSBDb250ZW50LVR5cGUgaWYgZGF0YSBpcyB1bmRlZmluZWRcbiAgICAgICAgICBkZWxldGUgcmVxdWVzdEhlYWRlcnNba2V5XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBPdGhlcndpc2UgYWRkIGhlYWRlciB0byB0aGUgcmVxdWVzdFxuICAgICAgICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcihrZXksIHZhbCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEFkZCB3aXRoQ3JlZGVudGlhbHMgdG8gcmVxdWVzdCBpZiBuZWVkZWRcbiAgICBpZiAoY29uZmlnLndpdGhDcmVkZW50aWFscykge1xuICAgICAgcmVxdWVzdC53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIEFkZCByZXNwb25zZVR5cGUgdG8gcmVxdWVzdCBpZiBuZWVkZWRcbiAgICBpZiAoY29uZmlnLnJlc3BvbnNlVHlwZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmVxdWVzdC5yZXNwb25zZVR5cGUgPSBjb25maWcucmVzcG9uc2VUeXBlO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBFeHBlY3RlZCBET01FeGNlcHRpb24gdGhyb3duIGJ5IGJyb3dzZXJzIG5vdCBjb21wYXRpYmxlIFhNTEh0dHBSZXF1ZXN0IExldmVsIDIuXG4gICAgICAgIC8vIEJ1dCwgdGhpcyBjYW4gYmUgc3VwcHJlc3NlZCBmb3IgJ2pzb24nIHR5cGUgYXMgaXQgY2FuIGJlIHBhcnNlZCBieSBkZWZhdWx0ICd0cmFuc2Zvcm1SZXNwb25zZScgZnVuY3Rpb24uXG4gICAgICAgIGlmIChjb25maWcucmVzcG9uc2VUeXBlICE9PSAnanNvbicpIHtcbiAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHByb2dyZXNzIGlmIG5lZWRlZFxuICAgIGlmICh0eXBlb2YgY29uZmlnLm9uRG93bmxvYWRQcm9ncmVzcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIGNvbmZpZy5vbkRvd25sb2FkUHJvZ3Jlc3MpO1xuICAgIH1cblxuICAgIC8vIE5vdCBhbGwgYnJvd3NlcnMgc3VwcG9ydCB1cGxvYWQgZXZlbnRzXG4gICAgaWYgKHR5cGVvZiBjb25maWcub25VcGxvYWRQcm9ncmVzcyA9PT0gJ2Z1bmN0aW9uJyAmJiByZXF1ZXN0LnVwbG9hZCkge1xuICAgICAgcmVxdWVzdC51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBjb25maWcub25VcGxvYWRQcm9ncmVzcyk7XG4gICAgfVxuXG4gICAgaWYgKGNvbmZpZy5jYW5jZWxUb2tlbikge1xuICAgICAgLy8gSGFuZGxlIGNhbmNlbGxhdGlvblxuICAgICAgY29uZmlnLmNhbmNlbFRva2VuLnByb21pc2UudGhlbihmdW5jdGlvbiBvbkNhbmNlbGVkKGNhbmNlbCkge1xuICAgICAgICBpZiAoIXJlcXVlc3QpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICByZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgIHJlamVjdChjYW5jZWwpO1xuICAgICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHJlcXVlc3REYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJlcXVlc3REYXRhID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBTZW5kIHRoZSByZXF1ZXN0XG4gICAgcmVxdWVzdC5zZW5kKHJlcXVlc3REYXRhKTtcbiAgfSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZW5oYW5jZUVycm9yID0gcmVxdWlyZSgnLi9lbmhhbmNlRXJyb3InKTtcblxuLyoqXG4gKiBDcmVhdGUgYW4gRXJyb3Igd2l0aCB0aGUgc3BlY2lmaWVkIG1lc3NhZ2UsIGNvbmZpZywgZXJyb3IgY29kZSwgcmVxdWVzdCBhbmQgcmVzcG9uc2UuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWcuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2NvZGVdIFRoZSBlcnJvciBjb2RlIChmb3IgZXhhbXBsZSwgJ0VDT05OQUJPUlRFRCcpLlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXF1ZXN0XSBUaGUgcmVxdWVzdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVzcG9uc2VdIFRoZSByZXNwb25zZS5cbiAqIEByZXR1cm5zIHtFcnJvcn0gVGhlIGNyZWF0ZWQgZXJyb3IuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3JlYXRlRXJyb3IobWVzc2FnZSwgY29uZmlnLCBjb2RlLCByZXF1ZXN0LCByZXNwb25zZSkge1xuICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIHJldHVybiBlbmhhbmNlRXJyb3IoZXJyb3IsIGNvbmZpZywgY29kZSwgcmVxdWVzdCwgcmVzcG9uc2UpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0NhbmNlbCh2YWx1ZSkge1xuICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWUuX19DQU5DRUxfXyk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEEgYENhbmNlbGAgaXMgYW4gb2JqZWN0IHRoYXQgaXMgdGhyb3duIHdoZW4gYW4gb3BlcmF0aW9uIGlzIGNhbmNlbGVkLlxuICpcbiAqIEBjbGFzc1xuICogQHBhcmFtIHtzdHJpbmc9fSBtZXNzYWdlIFRoZSBtZXNzYWdlLlxuICovXG5mdW5jdGlvbiBDYW5jZWwobWVzc2FnZSkge1xuICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xufVxuXG5DYW5jZWwucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gIHJldHVybiAnQ2FuY2VsJyArICh0aGlzLm1lc3NhZ2UgPyAnOiAnICsgdGhpcy5tZXNzYWdlIDogJycpO1xufTtcblxuQ2FuY2VsLnByb3RvdHlwZS5fX0NBTkNFTF9fID0gdHJ1ZTtcblxubW9kdWxlLmV4cG9ydHMgPSBDYW5jZWw7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcbnZhciBiaW5kID0gcmVxdWlyZSgnLi9oZWxwZXJzL2JpbmQnKTtcbnZhciBBeGlvcyA9IHJlcXVpcmUoJy4vY29yZS9BeGlvcycpO1xudmFyIGRlZmF1bHRzID0gcmVxdWlyZSgnLi9kZWZhdWx0cycpO1xuXG4vKipcbiAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiBBeGlvc1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBkZWZhdWx0Q29uZmlnIFRoZSBkZWZhdWx0IGNvbmZpZyBmb3IgdGhlIGluc3RhbmNlXG4gKiBAcmV0dXJuIHtBeGlvc30gQSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3NcbiAqL1xuZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2UoZGVmYXVsdENvbmZpZykge1xuICB2YXIgY29udGV4dCA9IG5ldyBBeGlvcyhkZWZhdWx0Q29uZmlnKTtcbiAgdmFyIGluc3RhbmNlID0gYmluZChBeGlvcy5wcm90b3R5cGUucmVxdWVzdCwgY29udGV4dCk7XG5cbiAgLy8gQ29weSBheGlvcy5wcm90b3R5cGUgdG8gaW5zdGFuY2VcbiAgdXRpbHMuZXh0ZW5kKGluc3RhbmNlLCBBeGlvcy5wcm90b3R5cGUsIGNvbnRleHQpO1xuXG4gIC8vIENvcHkgY29udGV4dCB0byBpbnN0YW5jZVxuICB1dGlscy5leHRlbmQoaW5zdGFuY2UsIGNvbnRleHQpO1xuXG4gIHJldHVybiBpbnN0YW5jZTtcbn1cblxuLy8gQ3JlYXRlIHRoZSBkZWZhdWx0IGluc3RhbmNlIHRvIGJlIGV4cG9ydGVkXG52YXIgYXhpb3MgPSBjcmVhdGVJbnN0YW5jZShkZWZhdWx0cyk7XG5cbi8vIEV4cG9zZSBBeGlvcyBjbGFzcyB0byBhbGxvdyBjbGFzcyBpbmhlcml0YW5jZVxuYXhpb3MuQXhpb3MgPSBBeGlvcztcblxuLy8gRmFjdG9yeSBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlc1xuYXhpb3MuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKGluc3RhbmNlQ29uZmlnKSB7XG4gIHJldHVybiBjcmVhdGVJbnN0YW5jZSh1dGlscy5tZXJnZShkZWZhdWx0cywgaW5zdGFuY2VDb25maWcpKTtcbn07XG5cbi8vIEV4cG9zZSBDYW5jZWwgJiBDYW5jZWxUb2tlblxuYXhpb3MuQ2FuY2VsID0gcmVxdWlyZSgnLi9jYW5jZWwvQ2FuY2VsJyk7XG5heGlvcy5DYW5jZWxUb2tlbiA9IHJlcXVpcmUoJy4vY2FuY2VsL0NhbmNlbFRva2VuJyk7XG5heGlvcy5pc0NhbmNlbCA9IHJlcXVpcmUoJy4vY2FuY2VsL2lzQ2FuY2VsJyk7XG5cbi8vIEV4cG9zZSBhbGwvc3ByZWFkXG5heGlvcy5hbGwgPSBmdW5jdGlvbiBhbGwocHJvbWlzZXMpIHtcbiAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKTtcbn07XG5heGlvcy5zcHJlYWQgPSByZXF1aXJlKCcuL2hlbHBlcnMvc3ByZWFkJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gYXhpb3M7XG5cbi8vIEFsbG93IHVzZSBvZiBkZWZhdWx0IGltcG9ydCBzeW50YXggaW4gVHlwZVNjcmlwdFxubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IGF4aW9zO1xuIiwiLyohXG4gKiBEZXRlcm1pbmUgaWYgYW4gb2JqZWN0IGlzIGEgQnVmZmVyXG4gKlxuICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHBzOi8vZmVyb3NzLm9yZz5cbiAqIEBsaWNlbnNlICBNSVRcbiAqL1xuXG4vLyBUaGUgX2lzQnVmZmVyIGNoZWNrIGlzIGZvciBTYWZhcmkgNS03IHN1cHBvcnQsIGJlY2F1c2UgaXQncyBtaXNzaW5nXG4vLyBPYmplY3QucHJvdG90eXBlLmNvbnN0cnVjdG9yLiBSZW1vdmUgdGhpcyBldmVudHVhbGx5XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIG9iaiAhPSBudWxsICYmIChpc0J1ZmZlcihvYmopIHx8IGlzU2xvd0J1ZmZlcihvYmopIHx8ICEhb2JqLl9pc0J1ZmZlcilcbn1cblxuZnVuY3Rpb24gaXNCdWZmZXIgKG9iaikge1xuICByZXR1cm4gISFvYmouY29uc3RydWN0b3IgJiYgdHlwZW9mIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlciA9PT0gJ2Z1bmN0aW9uJyAmJiBvYmouY29uc3RydWN0b3IuaXNCdWZmZXIob2JqKVxufVxuXG4vLyBGb3IgTm9kZSB2MC4xMCBzdXBwb3J0LiBSZW1vdmUgdGhpcyBldmVudHVhbGx5LlxuZnVuY3Rpb24gaXNTbG93QnVmZmVyIChvYmopIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmoucmVhZEZsb2F0TEUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIG9iai5zbGljZSA9PT0gJ2Z1bmN0aW9uJyAmJiBpc0J1ZmZlcihvYmouc2xpY2UoMCwgMCkpXG59XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBkZWZhdWx0cyA9IHJlcXVpcmUoJy4vLi4vZGVmYXVsdHMnKTtcbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcbnZhciBJbnRlcmNlcHRvck1hbmFnZXIgPSByZXF1aXJlKCcuL0ludGVyY2VwdG9yTWFuYWdlcicpO1xudmFyIGRpc3BhdGNoUmVxdWVzdCA9IHJlcXVpcmUoJy4vZGlzcGF0Y2hSZXF1ZXN0Jyk7XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlQ29uZmlnIFRoZSBkZWZhdWx0IGNvbmZpZyBmb3IgdGhlIGluc3RhbmNlXG4gKi9cbmZ1bmN0aW9uIEF4aW9zKGluc3RhbmNlQ29uZmlnKSB7XG4gIHRoaXMuZGVmYXVsdHMgPSBpbnN0YW5jZUNvbmZpZztcbiAgdGhpcy5pbnRlcmNlcHRvcnMgPSB7XG4gICAgcmVxdWVzdDogbmV3IEludGVyY2VwdG9yTWFuYWdlcigpLFxuICAgIHJlc3BvbnNlOiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKClcbiAgfTtcbn1cblxuLyoqXG4gKiBEaXNwYXRjaCBhIHJlcXVlc3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWcgc3BlY2lmaWMgZm9yIHRoaXMgcmVxdWVzdCAobWVyZ2VkIHdpdGggdGhpcy5kZWZhdWx0cylcbiAqL1xuQXhpb3MucHJvdG90eXBlLnJlcXVlc3QgPSBmdW5jdGlvbiByZXF1ZXN0KGNvbmZpZykge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgLy8gQWxsb3cgZm9yIGF4aW9zKCdleGFtcGxlL3VybCdbLCBjb25maWddKSBhIGxhIGZldGNoIEFQSVxuICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycpIHtcbiAgICBjb25maWcgPSB1dGlscy5tZXJnZSh7XG4gICAgICB1cmw6IGFyZ3VtZW50c1swXVxuICAgIH0sIGFyZ3VtZW50c1sxXSk7XG4gIH1cblxuICBjb25maWcgPSB1dGlscy5tZXJnZShkZWZhdWx0cywge21ldGhvZDogJ2dldCd9LCB0aGlzLmRlZmF1bHRzLCBjb25maWcpO1xuICBjb25maWcubWV0aG9kID0gY29uZmlnLm1ldGhvZC50b0xvd2VyQ2FzZSgpO1xuXG4gIC8vIEhvb2sgdXAgaW50ZXJjZXB0b3JzIG1pZGRsZXdhcmVcbiAgdmFyIGNoYWluID0gW2Rpc3BhdGNoUmVxdWVzdCwgdW5kZWZpbmVkXTtcbiAgdmFyIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoY29uZmlnKTtcblxuICB0aGlzLmludGVyY2VwdG9ycy5yZXF1ZXN0LmZvckVhY2goZnVuY3Rpb24gdW5zaGlmdFJlcXVlc3RJbnRlcmNlcHRvcnMoaW50ZXJjZXB0b3IpIHtcbiAgICBjaGFpbi51bnNoaWZ0KGludGVyY2VwdG9yLmZ1bGZpbGxlZCwgaW50ZXJjZXB0b3IucmVqZWN0ZWQpO1xuICB9KTtcblxuICB0aGlzLmludGVyY2VwdG9ycy5yZXNwb25zZS5mb3JFYWNoKGZ1bmN0aW9uIHB1c2hSZXNwb25zZUludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuICAgIGNoYWluLnB1c2goaW50ZXJjZXB0b3IuZnVsZmlsbGVkLCBpbnRlcmNlcHRvci5yZWplY3RlZCk7XG4gIH0pO1xuXG4gIHdoaWxlIChjaGFpbi5sZW5ndGgpIHtcbiAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKGNoYWluLnNoaWZ0KCksIGNoYWluLnNoaWZ0KCkpO1xuICB9XG5cbiAgcmV0dXJuIHByb21pc2U7XG59O1xuXG4vLyBQcm92aWRlIGFsaWFzZXMgZm9yIHN1cHBvcnRlZCByZXF1ZXN0IG1ldGhvZHNcbnV0aWxzLmZvckVhY2goWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAnb3B0aW9ucyddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kTm9EYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKHVybCwgY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCh1dGlscy5tZXJnZShjb25maWcgfHwge30sIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgdXJsOiB1cmxcbiAgICB9KSk7XG4gIH07XG59KTtcblxudXRpbHMuZm9yRWFjaChbJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2RXaXRoRGF0YShtZXRob2QpIHtcbiAgLyplc2xpbnQgZnVuYy1uYW1lczowKi9cbiAgQXhpb3MucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbih1cmwsIGRhdGEsIGNvbmZpZykge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QodXRpbHMubWVyZ2UoY29uZmlnIHx8IHt9LCB7XG4gICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgIHVybDogdXJsLFxuICAgICAgZGF0YTogZGF0YVxuICAgIH0pKTtcbiAgfTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEF4aW9zO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG5vcm1hbGl6ZUhlYWRlck5hbWUoaGVhZGVycywgbm9ybWFsaXplZE5hbWUpIHtcbiAgdXRpbHMuZm9yRWFjaChoZWFkZXJzLCBmdW5jdGlvbiBwcm9jZXNzSGVhZGVyKHZhbHVlLCBuYW1lKSB7XG4gICAgaWYgKG5hbWUgIT09IG5vcm1hbGl6ZWROYW1lICYmIG5hbWUudG9VcHBlckNhc2UoKSA9PT0gbm9ybWFsaXplZE5hbWUudG9VcHBlckNhc2UoKSkge1xuICAgICAgaGVhZGVyc1tub3JtYWxpemVkTmFtZV0gPSB2YWx1ZTtcbiAgICAgIGRlbGV0ZSBoZWFkZXJzW25hbWVdO1xuICAgIH1cbiAgfSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY3JlYXRlRXJyb3IgPSByZXF1aXJlKCcuL2NyZWF0ZUVycm9yJyk7XG5cbi8qKlxuICogUmVzb2x2ZSBvciByZWplY3QgYSBQcm9taXNlIGJhc2VkIG9uIHJlc3BvbnNlIHN0YXR1cy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZXNvbHZlIEEgZnVuY3Rpb24gdGhhdCByZXNvbHZlcyB0aGUgcHJvbWlzZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdCBBIGZ1bmN0aW9uIHRoYXQgcmVqZWN0cyB0aGUgcHJvbWlzZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSByZXNwb25zZSBUaGUgcmVzcG9uc2UuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgcmVzcG9uc2UpIHtcbiAgdmFyIHZhbGlkYXRlU3RhdHVzID0gcmVzcG9uc2UuY29uZmlnLnZhbGlkYXRlU3RhdHVzO1xuICAvLyBOb3RlOiBzdGF0dXMgaXMgbm90IGV4cG9zZWQgYnkgWERvbWFpblJlcXVlc3RcbiAgaWYgKCFyZXNwb25zZS5zdGF0dXMgfHwgIXZhbGlkYXRlU3RhdHVzIHx8IHZhbGlkYXRlU3RhdHVzKHJlc3BvbnNlLnN0YXR1cykpIHtcbiAgICByZXNvbHZlKHJlc3BvbnNlKTtcbiAgfSBlbHNlIHtcbiAgICByZWplY3QoY3JlYXRlRXJyb3IoXG4gICAgICAnUmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZSAnICsgcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgcmVzcG9uc2UuY29uZmlnLFxuICAgICAgbnVsbCxcbiAgICAgIHJlc3BvbnNlLnJlcXVlc3QsXG4gICAgICByZXNwb25zZVxuICAgICkpO1xuICB9XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFVwZGF0ZSBhbiBFcnJvciB3aXRoIHRoZSBzcGVjaWZpZWQgY29uZmlnLCBlcnJvciBjb2RlLCBhbmQgcmVzcG9uc2UuXG4gKlxuICogQHBhcmFtIHtFcnJvcn0gZXJyb3IgVGhlIGVycm9yIHRvIHVwZGF0ZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbY29kZV0gVGhlIGVycm9yIGNvZGUgKGZvciBleGFtcGxlLCAnRUNPTk5BQk9SVEVEJykuXG4gKiBAcGFyYW0ge09iamVjdH0gW3JlcXVlc3RdIFRoZSByZXF1ZXN0LlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXNwb25zZV0gVGhlIHJlc3BvbnNlLlxuICogQHJldHVybnMge0Vycm9yfSBUaGUgZXJyb3IuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZW5oYW5jZUVycm9yKGVycm9yLCBjb25maWcsIGNvZGUsIHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gIGVycm9yLmNvbmZpZyA9IGNvbmZpZztcbiAgaWYgKGNvZGUpIHtcbiAgICBlcnJvci5jb2RlID0gY29kZTtcbiAgfVxuICBlcnJvci5yZXF1ZXN0ID0gcmVxdWVzdDtcbiAgZXJyb3IucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgcmV0dXJuIGVycm9yO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5mdW5jdGlvbiBlbmNvZGUodmFsKSB7XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQodmFsKS5cbiAgICByZXBsYWNlKC8lNDAvZ2ksICdAJykuXG4gICAgcmVwbGFjZSgvJTNBL2dpLCAnOicpLlxuICAgIHJlcGxhY2UoLyUyNC9nLCAnJCcpLlxuICAgIHJlcGxhY2UoLyUyQy9naSwgJywnKS5cbiAgICByZXBsYWNlKC8lMjAvZywgJysnKS5cbiAgICByZXBsYWNlKC8lNUIvZ2ksICdbJykuXG4gICAgcmVwbGFjZSgvJTVEL2dpLCAnXScpO1xufVxuXG4vKipcbiAqIEJ1aWxkIGEgVVJMIGJ5IGFwcGVuZGluZyBwYXJhbXMgdG8gdGhlIGVuZFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIGJhc2Ugb2YgdGhlIHVybCAoZS5nLiwgaHR0cDovL3d3dy5nb29nbGUuY29tKVxuICogQHBhcmFtIHtvYmplY3R9IFtwYXJhbXNdIFRoZSBwYXJhbXMgdG8gYmUgYXBwZW5kZWRcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBmb3JtYXR0ZWQgdXJsXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYnVpbGRVUkwodXJsLCBwYXJhbXMsIHBhcmFtc1NlcmlhbGl6ZXIpIHtcbiAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gIGlmICghcGFyYW1zKSB7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuXG4gIHZhciBzZXJpYWxpemVkUGFyYW1zO1xuICBpZiAocGFyYW1zU2VyaWFsaXplcikge1xuICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSBwYXJhbXNTZXJpYWxpemVyKHBhcmFtcyk7XG4gIH0gZWxzZSBpZiAodXRpbHMuaXNVUkxTZWFyY2hQYXJhbXMocGFyYW1zKSkge1xuICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSBwYXJhbXMudG9TdHJpbmcoKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgcGFydHMgPSBbXTtcblxuICAgIHV0aWxzLmZvckVhY2gocGFyYW1zLCBmdW5jdGlvbiBzZXJpYWxpemUodmFsLCBrZXkpIHtcbiAgICAgIGlmICh2YWwgPT09IG51bGwgfHwgdHlwZW9mIHZhbCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodXRpbHMuaXNBcnJheSh2YWwpKSB7XG4gICAgICAgIGtleSA9IGtleSArICdbXSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWwgPSBbdmFsXTtcbiAgICAgIH1cblxuICAgICAgdXRpbHMuZm9yRWFjaCh2YWwsIGZ1bmN0aW9uIHBhcnNlVmFsdWUodikge1xuICAgICAgICBpZiAodXRpbHMuaXNEYXRlKHYpKSB7XG4gICAgICAgICAgdiA9IHYudG9JU09TdHJpbmcoKTtcbiAgICAgICAgfSBlbHNlIGlmICh1dGlscy5pc09iamVjdCh2KSkge1xuICAgICAgICAgIHYgPSBKU09OLnN0cmluZ2lmeSh2KTtcbiAgICAgICAgfVxuICAgICAgICBwYXJ0cy5wdXNoKGVuY29kZShrZXkpICsgJz0nICsgZW5jb2RlKHYpKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHBhcnRzLmpvaW4oJyYnKTtcbiAgfVxuXG4gIGlmIChzZXJpYWxpemVkUGFyYW1zKSB7XG4gICAgdXJsICs9ICh1cmwuaW5kZXhPZignPycpID09PSAtMSA/ICc/JyA6ICcmJykgKyBzZXJpYWxpemVkUGFyYW1zO1xuICB9XG5cbiAgcmV0dXJuIHVybDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuLy8gSGVhZGVycyB3aG9zZSBkdXBsaWNhdGVzIGFyZSBpZ25vcmVkIGJ5IG5vZGVcbi8vIGMuZi4gaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9odHRwLmh0bWwjaHR0cF9tZXNzYWdlX2hlYWRlcnNcbnZhciBpZ25vcmVEdXBsaWNhdGVPZiA9IFtcbiAgJ2FnZScsICdhdXRob3JpemF0aW9uJywgJ2NvbnRlbnQtbGVuZ3RoJywgJ2NvbnRlbnQtdHlwZScsICdldGFnJyxcbiAgJ2V4cGlyZXMnLCAnZnJvbScsICdob3N0JywgJ2lmLW1vZGlmaWVkLXNpbmNlJywgJ2lmLXVubW9kaWZpZWQtc2luY2UnLFxuICAnbGFzdC1tb2RpZmllZCcsICdsb2NhdGlvbicsICdtYXgtZm9yd2FyZHMnLCAncHJveHktYXV0aG9yaXphdGlvbicsXG4gICdyZWZlcmVyJywgJ3JldHJ5LWFmdGVyJywgJ3VzZXItYWdlbnQnXG5dO1xuXG4vKipcbiAqIFBhcnNlIGhlYWRlcnMgaW50byBhbiBvYmplY3RcbiAqXG4gKiBgYGBcbiAqIERhdGU6IFdlZCwgMjcgQXVnIDIwMTQgMDg6NTg6NDkgR01UXG4gKiBDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb25cbiAqIENvbm5lY3Rpb246IGtlZXAtYWxpdmVcbiAqIFRyYW5zZmVyLUVuY29kaW5nOiBjaHVua2VkXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gaGVhZGVycyBIZWFkZXJzIG5lZWRpbmcgdG8gYmUgcGFyc2VkXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBIZWFkZXJzIHBhcnNlZCBpbnRvIGFuIG9iamVjdFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHBhcnNlSGVhZGVycyhoZWFkZXJzKSB7XG4gIHZhciBwYXJzZWQgPSB7fTtcbiAgdmFyIGtleTtcbiAgdmFyIHZhbDtcbiAgdmFyIGk7XG5cbiAgaWYgKCFoZWFkZXJzKSB7IHJldHVybiBwYXJzZWQ7IH1cblxuICB1dGlscy5mb3JFYWNoKGhlYWRlcnMuc3BsaXQoJ1xcbicpLCBmdW5jdGlvbiBwYXJzZXIobGluZSkge1xuICAgIGkgPSBsaW5lLmluZGV4T2YoJzonKTtcbiAgICBrZXkgPSB1dGlscy50cmltKGxpbmUuc3Vic3RyKDAsIGkpKS50b0xvd2VyQ2FzZSgpO1xuICAgIHZhbCA9IHV0aWxzLnRyaW0obGluZS5zdWJzdHIoaSArIDEpKTtcblxuICAgIGlmIChrZXkpIHtcbiAgICAgIGlmIChwYXJzZWRba2V5XSAmJiBpZ25vcmVEdXBsaWNhdGVPZi5pbmRleE9mKGtleSkgPj0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoa2V5ID09PSAnc2V0LWNvb2tpZScpIHtcbiAgICAgICAgcGFyc2VkW2tleV0gPSAocGFyc2VkW2tleV0gPyBwYXJzZWRba2V5XSA6IFtdKS5jb25jYXQoW3ZhbF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyc2VkW2tleV0gPSBwYXJzZWRba2V5XSA/IHBhcnNlZFtrZXldICsgJywgJyArIHZhbCA6IHZhbDtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBwYXJzZWQ7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gKFxuICB1dGlscy5pc1N0YW5kYXJkQnJvd3NlckVudigpID9cblxuICAvLyBTdGFuZGFyZCBicm93c2VyIGVudnMgaGF2ZSBmdWxsIHN1cHBvcnQgb2YgdGhlIEFQSXMgbmVlZGVkIHRvIHRlc3RcbiAgLy8gd2hldGhlciB0aGUgcmVxdWVzdCBVUkwgaXMgb2YgdGhlIHNhbWUgb3JpZ2luIGFzIGN1cnJlbnQgbG9jYXRpb24uXG4gIChmdW5jdGlvbiBzdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgdmFyIG1zaWUgPSAvKG1zaWV8dHJpZGVudCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgIHZhciB1cmxQYXJzaW5nTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICB2YXIgb3JpZ2luVVJMO1xuXG4gICAgLyoqXG4gICAgKiBQYXJzZSBhIFVSTCB0byBkaXNjb3ZlciBpdCdzIGNvbXBvbmVudHNcbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIFRoZSBVUkwgdG8gYmUgcGFyc2VkXG4gICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICovXG4gICAgZnVuY3Rpb24gcmVzb2x2ZVVSTCh1cmwpIHtcbiAgICAgIHZhciBocmVmID0gdXJsO1xuXG4gICAgICBpZiAobXNpZSkge1xuICAgICAgICAvLyBJRSBuZWVkcyBhdHRyaWJ1dGUgc2V0IHR3aWNlIHRvIG5vcm1hbGl6ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYpO1xuICAgICAgICBocmVmID0gdXJsUGFyc2luZ05vZGUuaHJlZjtcbiAgICAgIH1cblxuICAgICAgdXJsUGFyc2luZ05vZGUuc2V0QXR0cmlidXRlKCdocmVmJywgaHJlZik7XG5cbiAgICAgIC8vIHVybFBhcnNpbmdOb2RlIHByb3ZpZGVzIHRoZSBVcmxVdGlscyBpbnRlcmZhY2UgLSBodHRwOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jdXJsdXRpbHNcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGhyZWY6IHVybFBhcnNpbmdOb2RlLmhyZWYsXG4gICAgICAgIHByb3RvY29sOiB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbCA/IHVybFBhcnNpbmdOb2RlLnByb3RvY29sLnJlcGxhY2UoLzokLywgJycpIDogJycsXG4gICAgICAgIGhvc3Q6IHVybFBhcnNpbmdOb2RlLmhvc3QsXG4gICAgICAgIHNlYXJjaDogdXJsUGFyc2luZ05vZGUuc2VhcmNoID8gdXJsUGFyc2luZ05vZGUuc2VhcmNoLnJlcGxhY2UoL15cXD8vLCAnJykgOiAnJyxcbiAgICAgICAgaGFzaDogdXJsUGFyc2luZ05vZGUuaGFzaCA/IHVybFBhcnNpbmdOb2RlLmhhc2gucmVwbGFjZSgvXiMvLCAnJykgOiAnJyxcbiAgICAgICAgaG9zdG5hbWU6IHVybFBhcnNpbmdOb2RlLmhvc3RuYW1lLFxuICAgICAgICBwb3J0OiB1cmxQYXJzaW5nTm9kZS5wb3J0LFxuICAgICAgICBwYXRobmFtZTogKHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nKSA/XG4gICAgICAgICAgICAgICAgICB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZSA6XG4gICAgICAgICAgICAgICAgICAnLycgKyB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBvcmlnaW5VUkwgPSByZXNvbHZlVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcblxuICAgIC8qKlxuICAgICogRGV0ZXJtaW5lIGlmIGEgVVJMIHNoYXJlcyB0aGUgc2FtZSBvcmlnaW4gYXMgdGhlIGN1cnJlbnQgbG9jYXRpb25cbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gcmVxdWVzdFVSTCBUaGUgVVJMIHRvIHRlc3RcbiAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIFVSTCBzaGFyZXMgdGhlIHNhbWUgb3JpZ2luLCBvdGhlcndpc2UgZmFsc2VcbiAgICAqL1xuICAgIHJldHVybiBmdW5jdGlvbiBpc1VSTFNhbWVPcmlnaW4ocmVxdWVzdFVSTCkge1xuICAgICAgdmFyIHBhcnNlZCA9ICh1dGlscy5pc1N0cmluZyhyZXF1ZXN0VVJMKSkgPyByZXNvbHZlVVJMKHJlcXVlc3RVUkwpIDogcmVxdWVzdFVSTDtcbiAgICAgIHJldHVybiAocGFyc2VkLnByb3RvY29sID09PSBvcmlnaW5VUkwucHJvdG9jb2wgJiZcbiAgICAgICAgICAgIHBhcnNlZC5ob3N0ID09PSBvcmlnaW5VUkwuaG9zdCk7XG4gICAgfTtcbiAgfSkoKSA6XG5cbiAgLy8gTm9uIHN0YW5kYXJkIGJyb3dzZXIgZW52cyAod2ViIHdvcmtlcnMsIHJlYWN0LW5hdGl2ZSkgbGFjayBuZWVkZWQgc3VwcG9ydC5cbiAgKGZ1bmN0aW9uIG5vblN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gaXNVUkxTYW1lT3JpZ2luKCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgfSkoKVxuKTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLy8gYnRvYSBwb2x5ZmlsbCBmb3IgSUU8MTAgY291cnRlc3kgaHR0cHM6Ly9naXRodWIuY29tL2RhdmlkY2hhbWJlcnMvQmFzZTY0LmpzXG5cbnZhciBjaGFycyA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPSc7XG5cbmZ1bmN0aW9uIEUoKSB7XG4gIHRoaXMubWVzc2FnZSA9ICdTdHJpbmcgY29udGFpbnMgYW4gaW52YWxpZCBjaGFyYWN0ZXInO1xufVxuRS5wcm90b3R5cGUgPSBuZXcgRXJyb3I7XG5FLnByb3RvdHlwZS5jb2RlID0gNTtcbkUucHJvdG90eXBlLm5hbWUgPSAnSW52YWxpZENoYXJhY3RlckVycm9yJztcblxuZnVuY3Rpb24gYnRvYShpbnB1dCkge1xuICB2YXIgc3RyID0gU3RyaW5nKGlucHV0KTtcbiAgdmFyIG91dHB1dCA9ICcnO1xuICBmb3IgKFxuICAgIC8vIGluaXRpYWxpemUgcmVzdWx0IGFuZCBjb3VudGVyXG4gICAgdmFyIGJsb2NrLCBjaGFyQ29kZSwgaWR4ID0gMCwgbWFwID0gY2hhcnM7XG4gICAgLy8gaWYgdGhlIG5leHQgc3RyIGluZGV4IGRvZXMgbm90IGV4aXN0OlxuICAgIC8vICAgY2hhbmdlIHRoZSBtYXBwaW5nIHRhYmxlIHRvIFwiPVwiXG4gICAgLy8gICBjaGVjayBpZiBkIGhhcyBubyBmcmFjdGlvbmFsIGRpZ2l0c1xuICAgIHN0ci5jaGFyQXQoaWR4IHwgMCkgfHwgKG1hcCA9ICc9JywgaWR4ICUgMSk7XG4gICAgLy8gXCI4IC0gaWR4ICUgMSAqIDhcIiBnZW5lcmF0ZXMgdGhlIHNlcXVlbmNlIDIsIDQsIDYsIDhcbiAgICBvdXRwdXQgKz0gbWFwLmNoYXJBdCg2MyAmIGJsb2NrID4+IDggLSBpZHggJSAxICogOClcbiAgKSB7XG4gICAgY2hhckNvZGUgPSBzdHIuY2hhckNvZGVBdChpZHggKz0gMyAvIDQpO1xuICAgIGlmIChjaGFyQ29kZSA+IDB4RkYpIHtcbiAgICAgIHRocm93IG5ldyBFKCk7XG4gICAgfVxuICAgIGJsb2NrID0gYmxvY2sgPDwgOCB8IGNoYXJDb2RlO1xuICB9XG4gIHJldHVybiBvdXRwdXQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYnRvYTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgdXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSA/XG5cbiAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIHN1cHBvcnQgZG9jdW1lbnQuY29va2llXG4gIChmdW5jdGlvbiBzdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZShuYW1lLCB2YWx1ZSwgZXhwaXJlcywgcGF0aCwgZG9tYWluLCBzZWN1cmUpIHtcbiAgICAgICAgdmFyIGNvb2tpZSA9IFtdO1xuICAgICAgICBjb29raWUucHVzaChuYW1lICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSk7XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzTnVtYmVyKGV4cGlyZXMpKSB7XG4gICAgICAgICAgY29va2llLnB1c2goJ2V4cGlyZXM9JyArIG5ldyBEYXRlKGV4cGlyZXMpLnRvR01UU3RyaW5nKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKHBhdGgpKSB7XG4gICAgICAgICAgY29va2llLnB1c2goJ3BhdGg9JyArIHBhdGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKGRvbWFpbikpIHtcbiAgICAgICAgICBjb29raWUucHVzaCgnZG9tYWluPScgKyBkb21haW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlY3VyZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGNvb2tpZS5wdXNoKCdzZWN1cmUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZS5qb2luKCc7ICcpO1xuICAgICAgfSxcblxuICAgICAgcmVhZDogZnVuY3Rpb24gcmVhZChuYW1lKSB7XG4gICAgICAgIHZhciBtYXRjaCA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChuZXcgUmVnRXhwKCcoXnw7XFxcXHMqKSgnICsgbmFtZSArICcpPShbXjtdKiknKSk7XG4gICAgICAgIHJldHVybiAobWF0Y2ggPyBkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbM10pIDogbnVsbCk7XG4gICAgICB9LFxuXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShuYW1lKSB7XG4gICAgICAgIHRoaXMud3JpdGUobmFtZSwgJycsIERhdGUubm93KCkgLSA4NjQwMDAwMCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSkoKSA6XG5cbiAgLy8gTm9uIHN0YW5kYXJkIGJyb3dzZXIgZW52ICh3ZWIgd29ya2VycywgcmVhY3QtbmF0aXZlKSBsYWNrIG5lZWRlZCBzdXBwb3J0LlxuICAoZnVuY3Rpb24gbm9uU3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgIHJldHVybiB7XG4gICAgICB3cml0ZTogZnVuY3Rpb24gd3JpdGUoKSB7fSxcbiAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQoKSB7IHJldHVybiBudWxsOyB9LFxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuICAgIH07XG4gIH0pKClcbik7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gSW50ZXJjZXB0b3JNYW5hZ2VyKCkge1xuICB0aGlzLmhhbmRsZXJzID0gW107XG59XG5cbi8qKlxuICogQWRkIGEgbmV3IGludGVyY2VwdG9yIHRvIHRoZSBzdGFja1xuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bGZpbGxlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGB0aGVuYCBmb3IgYSBgUHJvbWlzZWBcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdGVkIFRoZSBmdW5jdGlvbiB0byBoYW5kbGUgYHJlamVjdGAgZm9yIGEgYFByb21pc2VgXG4gKlxuICogQHJldHVybiB7TnVtYmVyfSBBbiBJRCB1c2VkIHRvIHJlbW92ZSBpbnRlcmNlcHRvciBsYXRlclxuICovXG5JbnRlcmNlcHRvck1hbmFnZXIucHJvdG90eXBlLnVzZSA9IGZ1bmN0aW9uIHVzZShmdWxmaWxsZWQsIHJlamVjdGVkKSB7XG4gIHRoaXMuaGFuZGxlcnMucHVzaCh7XG4gICAgZnVsZmlsbGVkOiBmdWxmaWxsZWQsXG4gICAgcmVqZWN0ZWQ6IHJlamVjdGVkXG4gIH0pO1xuICByZXR1cm4gdGhpcy5oYW5kbGVycy5sZW5ndGggLSAxO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYW4gaW50ZXJjZXB0b3IgZnJvbSB0aGUgc3RhY2tcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gaWQgVGhlIElEIHRoYXQgd2FzIHJldHVybmVkIGJ5IGB1c2VgXG4gKi9cbkludGVyY2VwdG9yTWFuYWdlci5wcm90b3R5cGUuZWplY3QgPSBmdW5jdGlvbiBlamVjdChpZCkge1xuICBpZiAodGhpcy5oYW5kbGVyc1tpZF0pIHtcbiAgICB0aGlzLmhhbmRsZXJzW2lkXSA9IG51bGw7XG4gIH1cbn07XG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGFsbCB0aGUgcmVnaXN0ZXJlZCBpbnRlcmNlcHRvcnNcbiAqXG4gKiBUaGlzIG1ldGhvZCBpcyBwYXJ0aWN1bGFybHkgdXNlZnVsIGZvciBza2lwcGluZyBvdmVyIGFueVxuICogaW50ZXJjZXB0b3JzIHRoYXQgbWF5IGhhdmUgYmVjb21lIGBudWxsYCBjYWxsaW5nIGBlamVjdGAuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggaW50ZXJjZXB0b3JcbiAqL1xuSW50ZXJjZXB0b3JNYW5hZ2VyLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gZm9yRWFjaChmbikge1xuICB1dGlscy5mb3JFYWNoKHRoaXMuaGFuZGxlcnMsIGZ1bmN0aW9uIGZvckVhY2hIYW5kbGVyKGgpIHtcbiAgICBpZiAoaCAhPT0gbnVsbCkge1xuICAgICAgZm4oaCk7XG4gICAgfVxuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gSW50ZXJjZXB0b3JNYW5hZ2VyO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG52YXIgdHJhbnNmb3JtRGF0YSA9IHJlcXVpcmUoJy4vdHJhbnNmb3JtRGF0YScpO1xudmFyIGlzQ2FuY2VsID0gcmVxdWlyZSgnLi4vY2FuY2VsL2lzQ2FuY2VsJyk7XG52YXIgZGVmYXVsdHMgPSByZXF1aXJlKCcuLi9kZWZhdWx0cycpO1xudmFyIGlzQWJzb2x1dGVVUkwgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTCcpO1xudmFyIGNvbWJpbmVVUkxzID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2NvbWJpbmVVUkxzJyk7XG5cbi8qKlxuICogVGhyb3dzIGEgYENhbmNlbGAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAqL1xuZnVuY3Rpb24gdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpIHtcbiAgaWYgKGNvbmZpZy5jYW5jZWxUb2tlbikge1xuICAgIGNvbmZpZy5jYW5jZWxUb2tlbi50aHJvd0lmUmVxdWVzdGVkKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBEaXNwYXRjaCBhIHJlcXVlc3QgdG8gdGhlIHNlcnZlciB1c2luZyB0aGUgY29uZmlndXJlZCBhZGFwdGVyLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyB0aGF0IGlzIHRvIGJlIHVzZWQgZm9yIHRoZSByZXF1ZXN0XG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gVGhlIFByb21pc2UgdG8gYmUgZnVsZmlsbGVkXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGlzcGF0Y2hSZXF1ZXN0KGNvbmZpZykge1xuICB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZyk7XG5cbiAgLy8gU3VwcG9ydCBiYXNlVVJMIGNvbmZpZ1xuICBpZiAoY29uZmlnLmJhc2VVUkwgJiYgIWlzQWJzb2x1dGVVUkwoY29uZmlnLnVybCkpIHtcbiAgICBjb25maWcudXJsID0gY29tYmluZVVSTHMoY29uZmlnLmJhc2VVUkwsIGNvbmZpZy51cmwpO1xuICB9XG5cbiAgLy8gRW5zdXJlIGhlYWRlcnMgZXhpc3RcbiAgY29uZmlnLmhlYWRlcnMgPSBjb25maWcuaGVhZGVycyB8fCB7fTtcblxuICAvLyBUcmFuc2Zvcm0gcmVxdWVzdCBkYXRhXG4gIGNvbmZpZy5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICBjb25maWcuZGF0YSxcbiAgICBjb25maWcuaGVhZGVycyxcbiAgICBjb25maWcudHJhbnNmb3JtUmVxdWVzdFxuICApO1xuXG4gIC8vIEZsYXR0ZW4gaGVhZGVyc1xuICBjb25maWcuaGVhZGVycyA9IHV0aWxzLm1lcmdlKFxuICAgIGNvbmZpZy5oZWFkZXJzLmNvbW1vbiB8fCB7fSxcbiAgICBjb25maWcuaGVhZGVyc1tjb25maWcubWV0aG9kXSB8fCB7fSxcbiAgICBjb25maWcuaGVhZGVycyB8fCB7fVxuICApO1xuXG4gIHV0aWxzLmZvckVhY2goXG4gICAgWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAncG9zdCcsICdwdXQnLCAncGF0Y2gnLCAnY29tbW9uJ10sXG4gICAgZnVuY3Rpb24gY2xlYW5IZWFkZXJDb25maWcobWV0aG9kKSB7XG4gICAgICBkZWxldGUgY29uZmlnLmhlYWRlcnNbbWV0aG9kXTtcbiAgICB9XG4gICk7XG5cbiAgdmFyIGFkYXB0ZXIgPSBjb25maWcuYWRhcHRlciB8fCBkZWZhdWx0cy5hZGFwdGVyO1xuXG4gIHJldHVybiBhZGFwdGVyKGNvbmZpZykudGhlbihmdW5jdGlvbiBvbkFkYXB0ZXJSZXNvbHV0aW9uKHJlc3BvbnNlKSB7XG4gICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgLy8gVHJhbnNmb3JtIHJlc3BvbnNlIGRhdGFcbiAgICByZXNwb25zZS5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICAgIHJlc3BvbnNlLmRhdGEsXG4gICAgICByZXNwb25zZS5oZWFkZXJzLFxuICAgICAgY29uZmlnLnRyYW5zZm9ybVJlc3BvbnNlXG4gICAgKTtcblxuICAgIHJldHVybiByZXNwb25zZTtcbiAgfSwgZnVuY3Rpb24gb25BZGFwdGVyUmVqZWN0aW9uKHJlYXNvbikge1xuICAgIGlmICghaXNDYW5jZWwocmVhc29uKSkge1xuICAgICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2UgZGF0YVxuICAgICAgaWYgKHJlYXNvbiAmJiByZWFzb24ucmVzcG9uc2UpIHtcbiAgICAgICAgcmVhc29uLnJlc3BvbnNlLmRhdGEgPSB0cmFuc2Zvcm1EYXRhKFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZS5kYXRhLFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZWFzb24pO1xuICB9KTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuLyoqXG4gKiBUcmFuc2Zvcm0gdGhlIGRhdGEgZm9yIGEgcmVxdWVzdCBvciBhIHJlc3BvbnNlXG4gKlxuICogQHBhcmFtIHtPYmplY3R8U3RyaW5nfSBkYXRhIFRoZSBkYXRhIHRvIGJlIHRyYW5zZm9ybWVkXG4gKiBAcGFyYW0ge0FycmF5fSBoZWFkZXJzIFRoZSBoZWFkZXJzIGZvciB0aGUgcmVxdWVzdCBvciByZXNwb25zZVxuICogQHBhcmFtIHtBcnJheXxGdW5jdGlvbn0gZm5zIEEgc2luZ2xlIGZ1bmN0aW9uIG9yIEFycmF5IG9mIGZ1bmN0aW9uc1xuICogQHJldHVybnMgeyp9IFRoZSByZXN1bHRpbmcgdHJhbnNmb3JtZWQgZGF0YVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHRyYW5zZm9ybURhdGEoZGF0YSwgaGVhZGVycywgZm5zKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICB1dGlscy5mb3JFYWNoKGZucywgZnVuY3Rpb24gdHJhbnNmb3JtKGZuKSB7XG4gICAgZGF0YSA9IGZuKGRhdGEsIGhlYWRlcnMpO1xuICB9KTtcblxuICByZXR1cm4gZGF0YTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0Fic29sdXRlVVJMKHVybCkge1xuICAvLyBBIFVSTCBpcyBjb25zaWRlcmVkIGFic29sdXRlIGlmIGl0IGJlZ2lucyB3aXRoIFwiPHNjaGVtZT46Ly9cIiBvciBcIi8vXCIgKHByb3RvY29sLXJlbGF0aXZlIFVSTCkuXG4gIC8vIFJGQyAzOTg2IGRlZmluZXMgc2NoZW1lIG5hbWUgYXMgYSBzZXF1ZW5jZSBvZiBjaGFyYWN0ZXJzIGJlZ2lubmluZyB3aXRoIGEgbGV0dGVyIGFuZCBmb2xsb3dlZFxuICAvLyBieSBhbnkgY29tYmluYXRpb24gb2YgbGV0dGVycywgZGlnaXRzLCBwbHVzLCBwZXJpb2QsIG9yIGh5cGhlbi5cbiAgcmV0dXJuIC9eKFthLXpdW2EtelxcZFxcK1xcLVxcLl0qOik/XFwvXFwvL2kudGVzdCh1cmwpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFVSTCBieSBjb21iaW5pbmcgdGhlIHNwZWNpZmllZCBVUkxzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVUkwgVGhlIGJhc2UgVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVsYXRpdmVVUkwgVGhlIHJlbGF0aXZlIFVSTFxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGNvbWJpbmVkIFVSTFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNvbWJpbmVVUkxzKGJhc2VVUkwsIHJlbGF0aXZlVVJMKSB7XG4gIHJldHVybiByZWxhdGl2ZVVSTFxuICAgID8gYmFzZVVSTC5yZXBsYWNlKC9cXC8rJC8sICcnKSArICcvJyArIHJlbGF0aXZlVVJMLnJlcGxhY2UoL15cXC8rLywgJycpXG4gICAgOiBiYXNlVVJMO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIENhbmNlbCA9IHJlcXVpcmUoJy4vQ2FuY2VsJyk7XG5cbi8qKlxuICogQSBgQ2FuY2VsVG9rZW5gIGlzIGFuIG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIHRvIHJlcXVlc3QgY2FuY2VsbGF0aW9uIG9mIGFuIG9wZXJhdGlvbi5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGV4ZWN1dG9yIFRoZSBleGVjdXRvciBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gQ2FuY2VsVG9rZW4oZXhlY3V0b3IpIHtcbiAgaWYgKHR5cGVvZiBleGVjdXRvciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2V4ZWN1dG9yIG11c3QgYmUgYSBmdW5jdGlvbi4nKTtcbiAgfVxuXG4gIHZhciByZXNvbHZlUHJvbWlzZTtcbiAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gcHJvbWlzZUV4ZWN1dG9yKHJlc29sdmUpIHtcbiAgICByZXNvbHZlUHJvbWlzZSA9IHJlc29sdmU7XG4gIH0pO1xuXG4gIHZhciB0b2tlbiA9IHRoaXM7XG4gIGV4ZWN1dG9yKGZ1bmN0aW9uIGNhbmNlbChtZXNzYWdlKSB7XG4gICAgaWYgKHRva2VuLnJlYXNvbikge1xuICAgICAgLy8gQ2FuY2VsbGF0aW9uIGhhcyBhbHJlYWR5IGJlZW4gcmVxdWVzdGVkXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdG9rZW4ucmVhc29uID0gbmV3IENhbmNlbChtZXNzYWdlKTtcbiAgICByZXNvbHZlUHJvbWlzZSh0b2tlbi5yZWFzb24pO1xuICB9KTtcbn1cblxuLyoqXG4gKiBUaHJvd3MgYSBgQ2FuY2VsYCBpZiBjYW5jZWxsYXRpb24gaGFzIGJlZW4gcmVxdWVzdGVkLlxuICovXG5DYW5jZWxUb2tlbi5wcm90b3R5cGUudGhyb3dJZlJlcXVlc3RlZCA9IGZ1bmN0aW9uIHRocm93SWZSZXF1ZXN0ZWQoKSB7XG4gIGlmICh0aGlzLnJlYXNvbikge1xuICAgIHRocm93IHRoaXMucmVhc29uO1xuICB9XG59O1xuXG4vKipcbiAqIFJldHVybnMgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgYSBuZXcgYENhbmNlbFRva2VuYCBhbmQgYSBmdW5jdGlvbiB0aGF0LCB3aGVuIGNhbGxlZCxcbiAqIGNhbmNlbHMgdGhlIGBDYW5jZWxUb2tlbmAuXG4gKi9cbkNhbmNlbFRva2VuLnNvdXJjZSA9IGZ1bmN0aW9uIHNvdXJjZSgpIHtcbiAgdmFyIGNhbmNlbDtcbiAgdmFyIHRva2VuID0gbmV3IENhbmNlbFRva2VuKGZ1bmN0aW9uIGV4ZWN1dG9yKGMpIHtcbiAgICBjYW5jZWwgPSBjO1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICB0b2tlbjogdG9rZW4sXG4gICAgY2FuY2VsOiBjYW5jZWxcbiAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQ2FuY2VsVG9rZW47XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogU3ludGFjdGljIHN1Z2FyIGZvciBpbnZva2luZyBhIGZ1bmN0aW9uIGFuZCBleHBhbmRpbmcgYW4gYXJyYXkgZm9yIGFyZ3VtZW50cy5cbiAqXG4gKiBDb21tb24gdXNlIGNhc2Ugd291bGQgYmUgdG8gdXNlIGBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHlgLlxuICpcbiAqICBgYGBqc1xuICogIGZ1bmN0aW9uIGYoeCwgeSwgeikge31cbiAqICB2YXIgYXJncyA9IFsxLCAyLCAzXTtcbiAqICBmLmFwcGx5KG51bGwsIGFyZ3MpO1xuICogIGBgYFxuICpcbiAqIFdpdGggYHNwcmVhZGAgdGhpcyBleGFtcGxlIGNhbiBiZSByZS13cml0dGVuLlxuICpcbiAqICBgYGBqc1xuICogIHNwcmVhZChmdW5jdGlvbih4LCB5LCB6KSB7fSkoWzEsIDIsIDNdKTtcbiAqICBgYGBcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNwcmVhZChjYWxsYmFjaykge1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcChhcnIpIHtcbiAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkobnVsbCwgYXJyKTtcbiAgfTtcbn07XG4iLCIvKipcbiAqIG1hcmtlZCAtIGEgbWFya2Rvd24gcGFyc2VyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTEtMjAxOCwgQ2hyaXN0b3BoZXIgSmVmZnJleS4gKE1JVCBMaWNlbnNlZClcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXJrZWRqcy9tYXJrZWRcbiAqL1xuXG47KGZ1bmN0aW9uKHJvb3QpIHtcbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBCbG9jay1MZXZlbCBHcmFtbWFyXG4gKi9cblxudmFyIGJsb2NrID0ge1xuICBuZXdsaW5lOiAvXlxcbisvLFxuICBjb2RlOiAvXiggezR9W15cXG5dK1xcbiopKy8sXG4gIGZlbmNlczogL14gezAsM30oYHszLH18fnszLH0pKFteYH5cXG5dKilcXG4oPzp8KFtcXHNcXFNdKj8pXFxuKSg/OiB7MCwzfVxcMVt+YF0qICooPzpcXG4rfCQpfCQpLyxcbiAgaHI6IC9eIHswLDN9KCg/Oi0gKil7Myx9fCg/Ol8gKil7Myx9fCg/OlxcKiAqKXszLH0pKD86XFxuK3wkKS8sXG4gIGhlYWRpbmc6IC9eIHswLDN9KCN7MSw2fSkgKyhbXlxcbl0qPykoPzogKyMrKT8gKig/Olxcbit8JCkvLFxuICBibG9ja3F1b3RlOiAvXiggezAsM30+ID8ocGFyYWdyYXBofFteXFxuXSopKD86XFxufCQpKSsvLFxuICBsaXN0OiAvXiggezAsM30pKGJ1bGwpIFtcXHNcXFNdKz8oPzpocnxkZWZ8XFxuezIsfSg/ISApKD8hXFwxYnVsbCApXFxuKnxcXHMqJCkvLFxuICBodG1sOiAnXiB7MCwzfSg/OicgLy8gb3B0aW9uYWwgaW5kZW50YXRpb25cbiAgICArICc8KHNjcmlwdHxwcmV8c3R5bGUpW1xcXFxzPl1bXFxcXHNcXFxcU10qPyg/OjwvXFxcXDE+W15cXFxcbl0qXFxcXG4rfCQpJyAvLyAoMSlcbiAgICArICd8Y29tbWVudFteXFxcXG5dKihcXFxcbit8JCknIC8vICgyKVxuICAgICsgJ3w8XFxcXD9bXFxcXHNcXFxcU10qP1xcXFw/PlxcXFxuKicgLy8gKDMpXG4gICAgKyAnfDwhW0EtWl1bXFxcXHNcXFxcU10qPz5cXFxcbionIC8vICg0KVxuICAgICsgJ3w8IVxcXFxbQ0RBVEFcXFxcW1tcXFxcc1xcXFxTXSo/XFxcXF1cXFxcXT5cXFxcbionIC8vICg1KVxuICAgICsgJ3w8Lz8odGFnKSg/OiArfFxcXFxufC8/PilbXFxcXHNcXFxcU10qPyg/OlxcXFxuezIsfXwkKScgLy8gKDYpXG4gICAgKyAnfDwoPyFzY3JpcHR8cHJlfHN0eWxlKShbYS16XVtcXFxcdy1dKikoPzphdHRyaWJ1dGUpKj8gKi8/Pig/PVsgXFxcXHRdKig/OlxcXFxufCQpKVtcXFxcc1xcXFxTXSo/KD86XFxcXG57Mix9fCQpJyAvLyAoNykgb3BlbiB0YWdcbiAgICArICd8PC8oPyFzY3JpcHR8cHJlfHN0eWxlKVthLXpdW1xcXFx3LV0qXFxcXHMqPig/PVsgXFxcXHRdKig/OlxcXFxufCQpKVtcXFxcc1xcXFxTXSo/KD86XFxcXG57Mix9fCQpJyAvLyAoNykgY2xvc2luZyB0YWdcbiAgICArICcpJyxcbiAgZGVmOiAvXiB7MCwzfVxcWyhsYWJlbClcXF06ICpcXG4/ICo8PyhbXlxccz5dKyk+Pyg/Oig/OiArXFxuPyAqfCAqXFxuICopKHRpdGxlKSk/ICooPzpcXG4rfCQpLyxcbiAgbnB0YWJsZTogbm9vcCxcbiAgdGFibGU6IG5vb3AsXG4gIGxoZWFkaW5nOiAvXihbXlxcbl0rKVxcbiB7MCwzfSg9K3wtKykgKig/Olxcbit8JCkvLFxuICAvLyByZWdleCB0ZW1wbGF0ZSwgcGxhY2Vob2xkZXJzIHdpbGwgYmUgcmVwbGFjZWQgYWNjb3JkaW5nIHRvIGRpZmZlcmVudCBwYXJhZ3JhcGhcbiAgLy8gaW50ZXJydXB0aW9uIHJ1bGVzIG9mIGNvbW1vbm1hcmsgYW5kIHRoZSBvcmlnaW5hbCBtYXJrZG93biBzcGVjOlxuICBfcGFyYWdyYXBoOiAvXihbXlxcbl0rKD86XFxuKD8haHJ8aGVhZGluZ3xsaGVhZGluZ3xibG9ja3F1b3RlfGZlbmNlc3xsaXN0fGh0bWwpW15cXG5dKykqKS8sXG4gIHRleHQ6IC9eW15cXG5dKy9cbn07XG5cbmJsb2NrLl9sYWJlbCA9IC8oPyFcXHMqXFxdKSg/OlxcXFxbXFxbXFxdXXxbXlxcW1xcXV0pKy87XG5ibG9jay5fdGl0bGUgPSAvKD86XCIoPzpcXFxcXCI/fFteXCJcXFxcXSkqXCJ8J1teJ1xcbl0qKD86XFxuW14nXFxuXSspKlxcbj8nfFxcKFteKCldKlxcKSkvO1xuYmxvY2suZGVmID0gZWRpdChibG9jay5kZWYpXG4gIC5yZXBsYWNlKCdsYWJlbCcsIGJsb2NrLl9sYWJlbClcbiAgLnJlcGxhY2UoJ3RpdGxlJywgYmxvY2suX3RpdGxlKVxuICAuZ2V0UmVnZXgoKTtcblxuYmxvY2suYnVsbGV0ID0gLyg/OlsqKy1dfFxcZHsxLDl9XFwuKS87XG5ibG9jay5pdGVtID0gL14oICopKGJ1bGwpID9bXlxcbl0qKD86XFxuKD8hXFwxYnVsbCA/KVteXFxuXSopKi87XG5ibG9jay5pdGVtID0gZWRpdChibG9jay5pdGVtLCAnZ20nKVxuICAucmVwbGFjZSgvYnVsbC9nLCBibG9jay5idWxsZXQpXG4gIC5nZXRSZWdleCgpO1xuXG5ibG9jay5saXN0ID0gZWRpdChibG9jay5saXN0KVxuICAucmVwbGFjZSgvYnVsbC9nLCBibG9jay5idWxsZXQpXG4gIC5yZXBsYWNlKCdocicsICdcXFxcbisoPz1cXFxcMT8oPzooPzotICopezMsfXwoPzpfICopezMsfXwoPzpcXFxcKiAqKXszLH0pKD86XFxcXG4rfCQpKScpXG4gIC5yZXBsYWNlKCdkZWYnLCAnXFxcXG4rKD89JyArIGJsb2NrLmRlZi5zb3VyY2UgKyAnKScpXG4gIC5nZXRSZWdleCgpO1xuXG5ibG9jay5fdGFnID0gJ2FkZHJlc3N8YXJ0aWNsZXxhc2lkZXxiYXNlfGJhc2Vmb250fGJsb2NrcXVvdGV8Ym9keXxjYXB0aW9uJ1xuICArICd8Y2VudGVyfGNvbHxjb2xncm91cHxkZHxkZXRhaWxzfGRpYWxvZ3xkaXJ8ZGl2fGRsfGR0fGZpZWxkc2V0fGZpZ2NhcHRpb24nXG4gICsgJ3xmaWd1cmV8Zm9vdGVyfGZvcm18ZnJhbWV8ZnJhbWVzZXR8aFsxLTZdfGhlYWR8aGVhZGVyfGhyfGh0bWx8aWZyYW1lJ1xuICArICd8bGVnZW5kfGxpfGxpbmt8bWFpbnxtZW51fG1lbnVpdGVtfG1ldGF8bmF2fG5vZnJhbWVzfG9sfG9wdGdyb3VwfG9wdGlvbidcbiAgKyAnfHB8cGFyYW18c2VjdGlvbnxzb3VyY2V8c3VtbWFyeXx0YWJsZXx0Ym9keXx0ZHx0Zm9vdHx0aHx0aGVhZHx0aXRsZXx0cidcbiAgKyAnfHRyYWNrfHVsJztcbmJsb2NrLl9jb21tZW50ID0gLzwhLS0oPyEtPz4pW1xcc1xcU10qPy0tPi87XG5ibG9jay5odG1sID0gZWRpdChibG9jay5odG1sLCAnaScpXG4gIC5yZXBsYWNlKCdjb21tZW50JywgYmxvY2suX2NvbW1lbnQpXG4gIC5yZXBsYWNlKCd0YWcnLCBibG9jay5fdGFnKVxuICAucmVwbGFjZSgnYXR0cmlidXRlJywgLyArW2EtekEtWjpfXVtcXHcuOi1dKig/OiAqPSAqXCJbXlwiXFxuXSpcInwgKj0gKidbXidcXG5dKid8ICo9ICpbXlxcc1wiJz08PmBdKyk/LylcbiAgLmdldFJlZ2V4KCk7XG5cbmJsb2NrLnBhcmFncmFwaCA9IGVkaXQoYmxvY2suX3BhcmFncmFwaClcbiAgLnJlcGxhY2UoJ2hyJywgYmxvY2suaHIpXG4gIC5yZXBsYWNlKCdoZWFkaW5nJywgJyB7MCwzfSN7MSw2fSArJylcbiAgLnJlcGxhY2UoJ3xsaGVhZGluZycsICcnKSAvLyBzZXRleCBoZWFkaW5ncyBkb24ndCBpbnRlcnJ1cHQgY29tbW9ubWFyayBwYXJhZ3JhcGhzXG4gIC5yZXBsYWNlKCdibG9ja3F1b3RlJywgJyB7MCwzfT4nKVxuICAucmVwbGFjZSgnZmVuY2VzJywgJyB7MCwzfSg/OmB7Myx9fH57Myx9KVteYFxcXFxuXSpcXFxcbicpXG4gIC5yZXBsYWNlKCdsaXN0JywgJyB7MCwzfSg/OlsqKy1dfDFbLildKSAnKSAvLyBvbmx5IGxpc3RzIHN0YXJ0aW5nIGZyb20gMSBjYW4gaW50ZXJydXB0XG4gIC5yZXBsYWNlKCdodG1sJywgJzwvPyg/OnRhZykoPzogK3xcXFxcbnwvPz4pfDwoPzpzY3JpcHR8cHJlfHN0eWxlfCEtLSknKVxuICAucmVwbGFjZSgndGFnJywgYmxvY2suX3RhZykgLy8gcGFycyBjYW4gYmUgaW50ZXJydXB0ZWQgYnkgdHlwZSAoNikgaHRtbCBibG9ja3NcbiAgLmdldFJlZ2V4KCk7XG5cbmJsb2NrLmJsb2NrcXVvdGUgPSBlZGl0KGJsb2NrLmJsb2NrcXVvdGUpXG4gIC5yZXBsYWNlKCdwYXJhZ3JhcGgnLCBibG9jay5wYXJhZ3JhcGgpXG4gIC5nZXRSZWdleCgpO1xuXG4vKipcbiAqIE5vcm1hbCBCbG9jayBHcmFtbWFyXG4gKi9cblxuYmxvY2subm9ybWFsID0gbWVyZ2Uoe30sIGJsb2NrKTtcblxuLyoqXG4gKiBHRk0gQmxvY2sgR3JhbW1hclxuICovXG5cbmJsb2NrLmdmbSA9IG1lcmdlKHt9LCBibG9jay5ub3JtYWwsIHtcbiAgbnB0YWJsZTogL14gKihbXnxcXG4gXS4qXFx8LiopXFxuICooWy06XSsgKlxcfFstfCA6XSopKD86XFxuKCg/Oi4qW14+XFxuIF0uKig/OlxcbnwkKSkqKVxcbip8JCkvLFxuICB0YWJsZTogL14gKlxcfCguKylcXG4gKlxcfD8oICpbLTpdK1stfCA6XSopKD86XFxuKCg/OiAqW14+XFxuIF0uKig/OlxcbnwkKSkqKVxcbip8JCkvXG59KTtcblxuLyoqXG4gKiBQZWRhbnRpYyBncmFtbWFyIChvcmlnaW5hbCBKb2huIEdydWJlcidzIGxvb3NlIG1hcmtkb3duIHNwZWNpZmljYXRpb24pXG4gKi9cblxuYmxvY2sucGVkYW50aWMgPSBtZXJnZSh7fSwgYmxvY2subm9ybWFsLCB7XG4gIGh0bWw6IGVkaXQoXG4gICAgJ14gKig/OmNvbW1lbnQgKig/OlxcXFxufFxcXFxzKiQpJ1xuICAgICsgJ3w8KHRhZylbXFxcXHNcXFxcU10rPzwvXFxcXDE+ICooPzpcXFxcbnsyLH18XFxcXHMqJCknIC8vIGNsb3NlZCB0YWdcbiAgICArICd8PHRhZyg/OlwiW15cIl0qXCJ8XFwnW15cXCddKlxcJ3xcXFxcc1teXFwnXCIvPlxcXFxzXSopKj8vPz4gKig/OlxcXFxuezIsfXxcXFxccyokKSknKVxuICAgIC5yZXBsYWNlKCdjb21tZW50JywgYmxvY2suX2NvbW1lbnQpXG4gICAgLnJlcGxhY2UoL3RhZy9nLCAnKD8hKD86J1xuICAgICAgKyAnYXxlbXxzdHJvbmd8c21hbGx8c3xjaXRlfHF8ZGZufGFiYnJ8ZGF0YXx0aW1lfGNvZGV8dmFyfHNhbXB8a2JkfHN1YidcbiAgICAgICsgJ3xzdXB8aXxifHV8bWFya3xydWJ5fHJ0fHJwfGJkaXxiZG98c3Bhbnxicnx3YnJ8aW5zfGRlbHxpbWcpJ1xuICAgICAgKyAnXFxcXGIpXFxcXHcrKD8hOnxbXlxcXFx3XFxcXHNAXSpAKVxcXFxiJylcbiAgICAuZ2V0UmVnZXgoKSxcbiAgZGVmOiAvXiAqXFxbKFteXFxdXSspXFxdOiAqPD8oW15cXHM+XSspPj8oPzogKyhbXCIoXVteXFxuXStbXCIpXSkpPyAqKD86XFxuK3wkKS8sXG4gIGhlYWRpbmc6IC9eICooI3sxLDZ9KSAqKFteXFxuXSs/KSAqKD86IysgKik/KD86XFxuK3wkKS8sXG4gIGZlbmNlczogbm9vcCwgLy8gZmVuY2VzIG5vdCBzdXBwb3J0ZWRcbiAgcGFyYWdyYXBoOiBlZGl0KGJsb2NrLm5vcm1hbC5fcGFyYWdyYXBoKVxuICAgIC5yZXBsYWNlKCdocicsIGJsb2NrLmhyKVxuICAgIC5yZXBsYWNlKCdoZWFkaW5nJywgJyAqI3sxLDZ9ICpbXlxcbl0nKVxuICAgIC5yZXBsYWNlKCdsaGVhZGluZycsIGJsb2NrLmxoZWFkaW5nKVxuICAgIC5yZXBsYWNlKCdibG9ja3F1b3RlJywgJyB7MCwzfT4nKVxuICAgIC5yZXBsYWNlKCd8ZmVuY2VzJywgJycpXG4gICAgLnJlcGxhY2UoJ3xsaXN0JywgJycpXG4gICAgLnJlcGxhY2UoJ3xodG1sJywgJycpXG4gICAgLmdldFJlZ2V4KClcbn0pO1xuXG4vKipcbiAqIEJsb2NrIExleGVyXG4gKi9cblxuZnVuY3Rpb24gTGV4ZXIob3B0aW9ucykge1xuICB0aGlzLnRva2VucyA9IFtdO1xuICB0aGlzLnRva2Vucy5saW5rcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwgbWFya2VkLmRlZmF1bHRzO1xuICB0aGlzLnJ1bGVzID0gYmxvY2subm9ybWFsO1xuXG4gIGlmICh0aGlzLm9wdGlvbnMucGVkYW50aWMpIHtcbiAgICB0aGlzLnJ1bGVzID0gYmxvY2sucGVkYW50aWM7XG4gIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLmdmbSkge1xuICAgIHRoaXMucnVsZXMgPSBibG9jay5nZm07XG4gIH1cbn1cblxuLyoqXG4gKiBFeHBvc2UgQmxvY2sgUnVsZXNcbiAqL1xuXG5MZXhlci5ydWxlcyA9IGJsb2NrO1xuXG4vKipcbiAqIFN0YXRpYyBMZXggTWV0aG9kXG4gKi9cblxuTGV4ZXIubGV4ID0gZnVuY3Rpb24oc3JjLCBvcHRpb25zKSB7XG4gIHZhciBsZXhlciA9IG5ldyBMZXhlcihvcHRpb25zKTtcbiAgcmV0dXJuIGxleGVyLmxleChzcmMpO1xufTtcblxuLyoqXG4gKiBQcmVwcm9jZXNzaW5nXG4gKi9cblxuTGV4ZXIucHJvdG90eXBlLmxleCA9IGZ1bmN0aW9uKHNyYykge1xuICBzcmMgPSBzcmNcbiAgICAucmVwbGFjZSgvXFxyXFxufFxcci9nLCAnXFxuJylcbiAgICAucmVwbGFjZSgvXFx0L2csICcgICAgJylcbiAgICAucmVwbGFjZSgvXFx1MDBhMC9nLCAnICcpXG4gICAgLnJlcGxhY2UoL1xcdTI0MjQvZywgJ1xcbicpO1xuXG4gIHJldHVybiB0aGlzLnRva2VuKHNyYywgdHJ1ZSk7XG59O1xuXG4vKipcbiAqIExleGluZ1xuICovXG5cbkxleGVyLnByb3RvdHlwZS50b2tlbiA9IGZ1bmN0aW9uKHNyYywgdG9wKSB7XG4gIHNyYyA9IHNyYy5yZXBsYWNlKC9eICskL2dtLCAnJyk7XG4gIHZhciBuZXh0LFxuICAgICAgbG9vc2UsXG4gICAgICBjYXAsXG4gICAgICBidWxsLFxuICAgICAgYixcbiAgICAgIGl0ZW0sXG4gICAgICBsaXN0U3RhcnQsXG4gICAgICBsaXN0SXRlbXMsXG4gICAgICB0LFxuICAgICAgc3BhY2UsXG4gICAgICBpLFxuICAgICAgdGFnLFxuICAgICAgbCxcbiAgICAgIGlzb3JkZXJlZCxcbiAgICAgIGlzdGFzayxcbiAgICAgIGlzY2hlY2tlZDtcblxuICB3aGlsZSAoc3JjKSB7XG4gICAgLy8gbmV3bGluZVxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLm5ld2xpbmUuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgaWYgKGNhcFswXS5sZW5ndGggPiAxKSB7XG4gICAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICAgIHR5cGU6ICdzcGFjZSdcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gY29kZVxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmNvZGUuZXhlYyhzcmMpKSB7XG4gICAgICB2YXIgbGFzdFRva2VuID0gdGhpcy50b2tlbnNbdGhpcy50b2tlbnMubGVuZ3RoIC0gMV07XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgLy8gQW4gaW5kZW50ZWQgY29kZSBibG9jayBjYW5ub3QgaW50ZXJydXB0IGEgcGFyYWdyYXBoLlxuICAgICAgaWYgKGxhc3RUb2tlbiAmJiBsYXN0VG9rZW4udHlwZSA9PT0gJ3BhcmFncmFwaCcpIHtcbiAgICAgICAgbGFzdFRva2VuLnRleHQgKz0gJ1xcbicgKyBjYXBbMF0udHJpbVJpZ2h0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYXAgPSBjYXBbMF0ucmVwbGFjZSgvXiB7NH0vZ20sICcnKTtcbiAgICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgICAgdHlwZTogJ2NvZGUnLFxuICAgICAgICAgIGNvZGVCbG9ja1N0eWxlOiAnaW5kZW50ZWQnLFxuICAgICAgICAgIHRleHQ6ICF0aGlzLm9wdGlvbnMucGVkYW50aWNcbiAgICAgICAgICAgID8gcnRyaW0oY2FwLCAnXFxuJylcbiAgICAgICAgICAgIDogY2FwXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gZmVuY2VzXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuZmVuY2VzLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICB0eXBlOiAnY29kZScsXG4gICAgICAgIGxhbmc6IGNhcFsyXSA/IGNhcFsyXS50cmltKCkgOiBjYXBbMl0sXG4gICAgICAgIHRleHQ6IGNhcFszXSB8fCAnJ1xuICAgICAgfSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBoZWFkaW5nXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuaGVhZGluZy5leGVjKHNyYykpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgICAgdHlwZTogJ2hlYWRpbmcnLFxuICAgICAgICBkZXB0aDogY2FwWzFdLmxlbmd0aCxcbiAgICAgICAgdGV4dDogY2FwWzJdXG4gICAgICB9KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIHRhYmxlIG5vIGxlYWRpbmcgcGlwZSAoZ2ZtKVxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLm5wdGFibGUuZXhlYyhzcmMpKSB7XG4gICAgICBpdGVtID0ge1xuICAgICAgICB0eXBlOiAndGFibGUnLFxuICAgICAgICBoZWFkZXI6IHNwbGl0Q2VsbHMoY2FwWzFdLnJlcGxhY2UoL14gKnwgKlxcfCAqJC9nLCAnJykpLFxuICAgICAgICBhbGlnbjogY2FwWzJdLnJlcGxhY2UoL14gKnxcXHwgKiQvZywgJycpLnNwbGl0KC8gKlxcfCAqLyksXG4gICAgICAgIGNlbGxzOiBjYXBbM10gPyBjYXBbM10ucmVwbGFjZSgvXFxuJC8sICcnKS5zcGxpdCgnXFxuJykgOiBbXVxuICAgICAgfTtcblxuICAgICAgaWYgKGl0ZW0uaGVhZGVyLmxlbmd0aCA9PT0gaXRlbS5hbGlnbi5sZW5ndGgpIHtcbiAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaXRlbS5hbGlnbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmICgvXiAqLSs6ICokLy50ZXN0KGl0ZW0uYWxpZ25baV0pKSB7XG4gICAgICAgICAgICBpdGVtLmFsaWduW2ldID0gJ3JpZ2h0JztcbiAgICAgICAgICB9IGVsc2UgaWYgKC9eICo6LSs6ICokLy50ZXN0KGl0ZW0uYWxpZ25baV0pKSB7XG4gICAgICAgICAgICBpdGVtLmFsaWduW2ldID0gJ2NlbnRlcic7XG4gICAgICAgICAgfSBlbHNlIGlmICgvXiAqOi0rICokLy50ZXN0KGl0ZW0uYWxpZ25baV0pKSB7XG4gICAgICAgICAgICBpdGVtLmFsaWduW2ldID0gJ2xlZnQnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpdGVtLmFsaWduW2ldID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaXRlbS5jZWxscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGl0ZW0uY2VsbHNbaV0gPSBzcGxpdENlbGxzKGl0ZW0uY2VsbHNbaV0sIGl0ZW0uaGVhZGVyLmxlbmd0aCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRva2Vucy5wdXNoKGl0ZW0pO1xuXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGhyXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuaHIuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgIHR5cGU6ICdocidcbiAgICAgIH0pO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gYmxvY2txdW90ZVxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrcXVvdGUuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuXG4gICAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgICAgdHlwZTogJ2Jsb2NrcXVvdGVfc3RhcnQnXG4gICAgICB9KTtcblxuICAgICAgY2FwID0gY2FwWzBdLnJlcGxhY2UoL14gKj4gPy9nbSwgJycpO1xuXG4gICAgICAvLyBQYXNzIGB0b3BgIHRvIGtlZXAgdGhlIGN1cnJlbnRcbiAgICAgIC8vIFwidG9wbGV2ZWxcIiBzdGF0ZS4gVGhpcyBpcyBleGFjdGx5XG4gICAgICAvLyBob3cgbWFya2Rvd24ucGwgd29ya3MuXG4gICAgICB0aGlzLnRva2VuKGNhcCwgdG9wKTtcblxuICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgIHR5cGU6ICdibG9ja3F1b3RlX2VuZCdcbiAgICAgIH0pO1xuXG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBsaXN0XG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMubGlzdC5leGVjKHNyYykpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICBidWxsID0gY2FwWzJdO1xuICAgICAgaXNvcmRlcmVkID0gYnVsbC5sZW5ndGggPiAxO1xuXG4gICAgICBsaXN0U3RhcnQgPSB7XG4gICAgICAgIHR5cGU6ICdsaXN0X3N0YXJ0JyxcbiAgICAgICAgb3JkZXJlZDogaXNvcmRlcmVkLFxuICAgICAgICBzdGFydDogaXNvcmRlcmVkID8gK2J1bGwgOiAnJyxcbiAgICAgICAgbG9vc2U6IGZhbHNlXG4gICAgICB9O1xuXG4gICAgICB0aGlzLnRva2Vucy5wdXNoKGxpc3RTdGFydCk7XG5cbiAgICAgIC8vIEdldCBlYWNoIHRvcC1sZXZlbCBpdGVtLlxuICAgICAgY2FwID0gY2FwWzBdLm1hdGNoKHRoaXMucnVsZXMuaXRlbSk7XG5cbiAgICAgIGxpc3RJdGVtcyA9IFtdO1xuICAgICAgbmV4dCA9IGZhbHNlO1xuICAgICAgbCA9IGNhcC5sZW5ndGg7XG4gICAgICBpID0gMDtcblxuICAgICAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgaXRlbSA9IGNhcFtpXTtcblxuICAgICAgICAvLyBSZW1vdmUgdGhlIGxpc3QgaXRlbSdzIGJ1bGxldFxuICAgICAgICAvLyBzbyBpdCBpcyBzZWVuIGFzIHRoZSBuZXh0IHRva2VuLlxuICAgICAgICBzcGFjZSA9IGl0ZW0ubGVuZ3RoO1xuICAgICAgICBpdGVtID0gaXRlbS5yZXBsYWNlKC9eICooWyorLV18XFxkK1xcLikgKi8sICcnKTtcblxuICAgICAgICAvLyBPdXRkZW50IHdoYXRldmVyIHRoZVxuICAgICAgICAvLyBsaXN0IGl0ZW0gY29udGFpbnMuIEhhY2t5LlxuICAgICAgICBpZiAofml0ZW0uaW5kZXhPZignXFxuICcpKSB7XG4gICAgICAgICAgc3BhY2UgLT0gaXRlbS5sZW5ndGg7XG4gICAgICAgICAgaXRlbSA9ICF0aGlzLm9wdGlvbnMucGVkYW50aWNcbiAgICAgICAgICAgID8gaXRlbS5yZXBsYWNlKG5ldyBSZWdFeHAoJ14gezEsJyArIHNwYWNlICsgJ30nLCAnZ20nKSwgJycpXG4gICAgICAgICAgICA6IGl0ZW0ucmVwbGFjZSgvXiB7MSw0fS9nbSwgJycpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGV0ZXJtaW5lIHdoZXRoZXIgdGhlIG5leHQgbGlzdCBpdGVtIGJlbG9uZ3MgaGVyZS5cbiAgICAgICAgLy8gQmFja3BlZGFsIGlmIGl0IGRvZXMgbm90IGJlbG9uZyBpbiB0aGlzIGxpc3QuXG4gICAgICAgIGlmIChpICE9PSBsIC0gMSkge1xuICAgICAgICAgIGIgPSBibG9jay5idWxsZXQuZXhlYyhjYXBbaSArIDFdKVswXTtcbiAgICAgICAgICBpZiAoYnVsbC5sZW5ndGggPiAxID8gYi5sZW5ndGggPT09IDFcbiAgICAgICAgICAgIDogKGIubGVuZ3RoID4gMSB8fCAodGhpcy5vcHRpb25zLnNtYXJ0TGlzdHMgJiYgYiAhPT0gYnVsbCkpKSB7XG4gICAgICAgICAgICBzcmMgPSBjYXAuc2xpY2UoaSArIDEpLmpvaW4oJ1xcbicpICsgc3JjO1xuICAgICAgICAgICAgaSA9IGwgLSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERldGVybWluZSB3aGV0aGVyIGl0ZW0gaXMgbG9vc2Ugb3Igbm90LlxuICAgICAgICAvLyBVc2U6IC8oXnxcXG4pKD8hIClbXlxcbl0rXFxuXFxuKD8hXFxzKiQpL1xuICAgICAgICAvLyBmb3IgZGlzY291bnQgYmVoYXZpb3IuXG4gICAgICAgIGxvb3NlID0gbmV4dCB8fCAvXFxuXFxuKD8hXFxzKiQpLy50ZXN0KGl0ZW0pO1xuICAgICAgICBpZiAoaSAhPT0gbCAtIDEpIHtcbiAgICAgICAgICBuZXh0ID0gaXRlbS5jaGFyQXQoaXRlbS5sZW5ndGggLSAxKSA9PT0gJ1xcbic7XG4gICAgICAgICAgaWYgKCFsb29zZSkgbG9vc2UgPSBuZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxvb3NlKSB7XG4gICAgICAgICAgbGlzdFN0YXJ0Lmxvb3NlID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGZvciB0YXNrIGxpc3QgaXRlbXNcbiAgICAgICAgaXN0YXNrID0gL15cXFtbIHhYXVxcXSAvLnRlc3QoaXRlbSk7XG4gICAgICAgIGlzY2hlY2tlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGlzdGFzaykge1xuICAgICAgICAgIGlzY2hlY2tlZCA9IGl0ZW1bMV0gIT09ICcgJztcbiAgICAgICAgICBpdGVtID0gaXRlbS5yZXBsYWNlKC9eXFxbWyB4WF1cXF0gKy8sICcnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHQgPSB7XG4gICAgICAgICAgdHlwZTogJ2xpc3RfaXRlbV9zdGFydCcsXG4gICAgICAgICAgdGFzazogaXN0YXNrLFxuICAgICAgICAgIGNoZWNrZWQ6IGlzY2hlY2tlZCxcbiAgICAgICAgICBsb29zZTogbG9vc2VcbiAgICAgICAgfTtcblxuICAgICAgICBsaXN0SXRlbXMucHVzaCh0KTtcbiAgICAgICAgdGhpcy50b2tlbnMucHVzaCh0KTtcblxuICAgICAgICAvLyBSZWN1cnNlLlxuICAgICAgICB0aGlzLnRva2VuKGl0ZW0sIGZhbHNlKTtcblxuICAgICAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgICAgICB0eXBlOiAnbGlzdF9pdGVtX2VuZCdcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChsaXN0U3RhcnQubG9vc2UpIHtcbiAgICAgICAgbCA9IGxpc3RJdGVtcy5sZW5ndGg7XG4gICAgICAgIGkgPSAwO1xuICAgICAgICBmb3IgKDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgIGxpc3RJdGVtc1tpXS5sb29zZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgIHR5cGU6ICdsaXN0X2VuZCdcbiAgICAgIH0pO1xuXG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBodG1sXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuaHRtbC5leGVjKHNyYykpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgICAgdHlwZTogdGhpcy5vcHRpb25zLnNhbml0aXplXG4gICAgICAgICAgPyAncGFyYWdyYXBoJ1xuICAgICAgICAgIDogJ2h0bWwnLFxuICAgICAgICBwcmU6ICF0aGlzLm9wdGlvbnMuc2FuaXRpemVyXG4gICAgICAgICAgJiYgKGNhcFsxXSA9PT0gJ3ByZScgfHwgY2FwWzFdID09PSAnc2NyaXB0JyB8fCBjYXBbMV0gPT09ICdzdHlsZScpLFxuICAgICAgICB0ZXh0OiB0aGlzLm9wdGlvbnMuc2FuaXRpemUgPyAodGhpcy5vcHRpb25zLnNhbml0aXplciA/IHRoaXMub3B0aW9ucy5zYW5pdGl6ZXIoY2FwWzBdKSA6IGVzY2FwZShjYXBbMF0pKSA6IGNhcFswXVxuICAgICAgfSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBkZWZcbiAgICBpZiAodG9wICYmIChjYXAgPSB0aGlzLnJ1bGVzLmRlZi5leGVjKHNyYykpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgaWYgKGNhcFszXSkgY2FwWzNdID0gY2FwWzNdLnN1YnN0cmluZygxLCBjYXBbM10ubGVuZ3RoIC0gMSk7XG4gICAgICB0YWcgPSBjYXBbMV0udG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXHMrL2csICcgJyk7XG4gICAgICBpZiAoIXRoaXMudG9rZW5zLmxpbmtzW3RhZ10pIHtcbiAgICAgICAgdGhpcy50b2tlbnMubGlua3NbdGFnXSA9IHtcbiAgICAgICAgICBocmVmOiBjYXBbMl0sXG4gICAgICAgICAgdGl0bGU6IGNhcFszXVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gdGFibGUgKGdmbSlcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy50YWJsZS5leGVjKHNyYykpIHtcbiAgICAgIGl0ZW0gPSB7XG4gICAgICAgIHR5cGU6ICd0YWJsZScsXG4gICAgICAgIGhlYWRlcjogc3BsaXRDZWxscyhjYXBbMV0ucmVwbGFjZSgvXiAqfCAqXFx8ICokL2csICcnKSksXG4gICAgICAgIGFsaWduOiBjYXBbMl0ucmVwbGFjZSgvXiAqfFxcfCAqJC9nLCAnJykuc3BsaXQoLyAqXFx8ICovKSxcbiAgICAgICAgY2VsbHM6IGNhcFszXSA/IGNhcFszXS5yZXBsYWNlKC9cXG4kLywgJycpLnNwbGl0KCdcXG4nKSA6IFtdXG4gICAgICB9O1xuXG4gICAgICBpZiAoaXRlbS5oZWFkZXIubGVuZ3RoID09PSBpdGVtLmFsaWduLmxlbmd0aCkge1xuICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBpdGVtLmFsaWduLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKC9eICotKzogKiQvLnRlc3QoaXRlbS5hbGlnbltpXSkpIHtcbiAgICAgICAgICAgIGl0ZW0uYWxpZ25baV0gPSAncmlnaHQnO1xuICAgICAgICAgIH0gZWxzZSBpZiAoL14gKjotKzogKiQvLnRlc3QoaXRlbS5hbGlnbltpXSkpIHtcbiAgICAgICAgICAgIGl0ZW0uYWxpZ25baV0gPSAnY2VudGVyJztcbiAgICAgICAgICB9IGVsc2UgaWYgKC9eICo6LSsgKiQvLnRlc3QoaXRlbS5hbGlnbltpXSkpIHtcbiAgICAgICAgICAgIGl0ZW0uYWxpZ25baV0gPSAnbGVmdCc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGl0ZW0uYWxpZ25baV0gPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBpdGVtLmNlbGxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaXRlbS5jZWxsc1tpXSA9IHNwbGl0Q2VsbHMoXG4gICAgICAgICAgICBpdGVtLmNlbGxzW2ldLnJlcGxhY2UoL14gKlxcfCAqfCAqXFx8ICokL2csICcnKSxcbiAgICAgICAgICAgIGl0ZW0uaGVhZGVyLmxlbmd0aCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRva2Vucy5wdXNoKGl0ZW0pO1xuXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGxoZWFkaW5nXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMubGhlYWRpbmcuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgIHR5cGU6ICdoZWFkaW5nJyxcbiAgICAgICAgZGVwdGg6IGNhcFsyXS5jaGFyQXQoMCkgPT09ICc9JyA/IDEgOiAyLFxuICAgICAgICB0ZXh0OiBjYXBbMV1cbiAgICAgIH0pO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gdG9wLWxldmVsIHBhcmFncmFwaFxuICAgIGlmICh0b3AgJiYgKGNhcCA9IHRoaXMucnVsZXMucGFyYWdyYXBoLmV4ZWMoc3JjKSkpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgICAgdHlwZTogJ3BhcmFncmFwaCcsXG4gICAgICAgIHRleHQ6IGNhcFsxXS5jaGFyQXQoY2FwWzFdLmxlbmd0aCAtIDEpID09PSAnXFxuJ1xuICAgICAgICAgID8gY2FwWzFdLnNsaWNlKDAsIC0xKVxuICAgICAgICAgIDogY2FwWzFdXG4gICAgICB9KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIHRleHRcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy50ZXh0LmV4ZWMoc3JjKSkge1xuICAgICAgLy8gVG9wLWxldmVsIHNob3VsZCBuZXZlciByZWFjaCBoZXJlLlxuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgIHRleHQ6IGNhcFswXVxuICAgICAgfSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoc3JjKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0luZmluaXRlIGxvb3Agb24gYnl0ZTogJyArIHNyYy5jaGFyQ29kZUF0KDApKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcy50b2tlbnM7XG59O1xuXG4vKipcbiAqIElubGluZS1MZXZlbCBHcmFtbWFyXG4gKi9cblxudmFyIGlubGluZSA9IHtcbiAgZXNjYXBlOiAvXlxcXFwoWyFcIiMkJSYnKCkqKyxcXC0uLzo7PD0+P0BcXFtcXF1cXFxcXl9ge3x9fl0pLyxcbiAgYXV0b2xpbms6IC9ePChzY2hlbWU6W15cXHNcXHgwMC1cXHgxZjw+XSp8ZW1haWwpPi8sXG4gIHVybDogbm9vcCxcbiAgdGFnOiAnXmNvbW1lbnQnXG4gICAgKyAnfF48L1thLXpBLVpdW1xcXFx3Oi1dKlxcXFxzKj4nIC8vIHNlbGYtY2xvc2luZyB0YWdcbiAgICArICd8XjxbYS16QS1aXVtcXFxcdy1dKig/OmF0dHJpYnV0ZSkqP1xcXFxzKi8/PicgLy8gb3BlbiB0YWdcbiAgICArICd8XjxcXFxcP1tcXFxcc1xcXFxTXSo/XFxcXD8+JyAvLyBwcm9jZXNzaW5nIGluc3RydWN0aW9uLCBlLmcuIDw/cGhwID8+XG4gICAgKyAnfF48IVthLXpBLVpdK1xcXFxzW1xcXFxzXFxcXFNdKj8+JyAvLyBkZWNsYXJhdGlvbiwgZS5nLiA8IURPQ1RZUEUgaHRtbD5cbiAgICArICd8XjwhXFxcXFtDREFUQVxcXFxbW1xcXFxzXFxcXFNdKj9cXFxcXVxcXFxdPicsIC8vIENEQVRBIHNlY3Rpb25cbiAgbGluazogL14hP1xcWyhsYWJlbClcXF1cXChcXHMqKGhyZWYpKD86XFxzKyh0aXRsZSkpP1xccypcXCkvLFxuICByZWZsaW5rOiAvXiE/XFxbKGxhYmVsKVxcXVxcWyg/IVxccypcXF0pKCg/OlxcXFxbXFxbXFxdXT98W15cXFtcXF1cXFxcXSkrKVxcXS8sXG4gIG5vbGluazogL14hP1xcWyg/IVxccypcXF0pKCg/OlxcW1teXFxbXFxdXSpcXF18XFxcXFtcXFtcXF1dfFteXFxbXFxdXSkqKVxcXSg/OlxcW1xcXSk/LyxcbiAgc3Ryb25nOiAvXl9fKFteXFxzX10pX18oPyFfKXxeXFwqXFwqKFteXFxzKl0pXFwqXFwqKD8hXFwqKXxeX18oW15cXHNdW1xcc1xcU10qP1teXFxzXSlfXyg/IV8pfF5cXCpcXCooW15cXHNdW1xcc1xcU10qP1teXFxzXSlcXCpcXCooPyFcXCopLyxcbiAgZW06IC9eXyhbXlxcc19dKV8oPyFfKXxeXFwqKFteXFxzKjxcXFtdKVxcKig/IVxcKil8Xl8oW15cXHM8XVtcXHNcXFNdKj9bXlxcc19dKV8oPyFffFteXFxzcHVuY3R1YXRpb25dKXxeXyhbXlxcc188XVtcXHNcXFNdKj9bXlxcc10pXyg/IV98W15cXHNwdW5jdHVhdGlvbl0pfF5cXCooW15cXHM8XCJdW1xcc1xcU10qP1teXFxzXFwqXSlcXCooPyFcXCp8W15cXHNwdW5jdHVhdGlvbl0pfF5cXCooW15cXHMqXCI8XFxbXVtcXHNcXFNdKj9bXlxcc10pXFwqKD8hXFwqKS8sXG4gIGNvZGU6IC9eKGArKShbXmBdfFteYF1bXFxzXFxTXSo/W15gXSlcXDEoPyFgKS8sXG4gIGJyOiAvXiggezIsfXxcXFxcKVxcbig/IVxccyokKS8sXG4gIGRlbDogbm9vcCxcbiAgdGV4dDogL14oYCt8W15gXSkoPzpbXFxzXFxTXSo/KD86KD89W1xcXFw8IVxcW2AqXXxcXGJffCQpfFteIF0oPz0gezIsfVxcbikpfCg/PSB7Mix9XFxuKSkvXG59O1xuXG4vLyBsaXN0IG9mIHB1bmN0dWF0aW9uIG1hcmtzIGZyb20gY29tbW9uIG1hcmsgc3BlY1xuLy8gd2l0aG91dCBgIGFuZCBdIHRvIHdvcmthcm91bmQgUnVsZSAxNyAoaW5saW5lIGNvZGUgYmxvY2tzL2xpbmtzKVxuaW5saW5lLl9wdW5jdHVhdGlvbiA9ICchXCIjJCUmXFwnKCkqKyxcXFxcLS4vOjs8PT4/QFxcXFxbXl97fH1+JztcbmlubGluZS5lbSA9IGVkaXQoaW5saW5lLmVtKS5yZXBsYWNlKC9wdW5jdHVhdGlvbi9nLCBpbmxpbmUuX3B1bmN0dWF0aW9uKS5nZXRSZWdleCgpO1xuXG5pbmxpbmUuX2VzY2FwZXMgPSAvXFxcXChbIVwiIyQlJicoKSorLFxcLS4vOjs8PT4/QFxcW1xcXVxcXFxeX2B7fH1+XSkvZztcblxuaW5saW5lLl9zY2hlbWUgPSAvW2EtekEtWl1bYS16QS1aMC05Ky4tXXsxLDMxfS87XG5pbmxpbmUuX2VtYWlsID0gL1thLXpBLVowLTkuISMkJSYnKisvPT9eX2B7fH1+LV0rKEApW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KD86XFwuW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KSsoPyFbLV9dKS87XG5pbmxpbmUuYXV0b2xpbmsgPSBlZGl0KGlubGluZS5hdXRvbGluaylcbiAgLnJlcGxhY2UoJ3NjaGVtZScsIGlubGluZS5fc2NoZW1lKVxuICAucmVwbGFjZSgnZW1haWwnLCBpbmxpbmUuX2VtYWlsKVxuICAuZ2V0UmVnZXgoKTtcblxuaW5saW5lLl9hdHRyaWJ1dGUgPSAvXFxzK1thLXpBLVo6X11bXFx3LjotXSooPzpcXHMqPVxccypcIlteXCJdKlwifFxccyo9XFxzKidbXiddKid8XFxzKj1cXHMqW15cXHNcIic9PD5gXSspPy87XG5cbmlubGluZS50YWcgPSBlZGl0KGlubGluZS50YWcpXG4gIC5yZXBsYWNlKCdjb21tZW50JywgYmxvY2suX2NvbW1lbnQpXG4gIC5yZXBsYWNlKCdhdHRyaWJ1dGUnLCBpbmxpbmUuX2F0dHJpYnV0ZSlcbiAgLmdldFJlZ2V4KCk7XG5cbmlubGluZS5fbGFiZWwgPSAvKD86XFxbW15cXFtcXF1dKlxcXXxcXFxcLnxgW15gXSpgfFteXFxbXFxdXFxcXGBdKSo/LztcbmlubGluZS5faHJlZiA9IC88KD86XFxcXFs8Pl0/fFteXFxzPD5cXFxcXSkqPnxbXlxcc1xceDAwLVxceDFmXSovO1xuaW5saW5lLl90aXRsZSA9IC9cIig/OlxcXFxcIj98W15cIlxcXFxdKSpcInwnKD86XFxcXCc/fFteJ1xcXFxdKSonfFxcKCg/OlxcXFxcXCk/fFteKVxcXFxdKSpcXCkvO1xuXG5pbmxpbmUubGluayA9IGVkaXQoaW5saW5lLmxpbmspXG4gIC5yZXBsYWNlKCdsYWJlbCcsIGlubGluZS5fbGFiZWwpXG4gIC5yZXBsYWNlKCdocmVmJywgaW5saW5lLl9ocmVmKVxuICAucmVwbGFjZSgndGl0bGUnLCBpbmxpbmUuX3RpdGxlKVxuICAuZ2V0UmVnZXgoKTtcblxuaW5saW5lLnJlZmxpbmsgPSBlZGl0KGlubGluZS5yZWZsaW5rKVxuICAucmVwbGFjZSgnbGFiZWwnLCBpbmxpbmUuX2xhYmVsKVxuICAuZ2V0UmVnZXgoKTtcblxuLyoqXG4gKiBOb3JtYWwgSW5saW5lIEdyYW1tYXJcbiAqL1xuXG5pbmxpbmUubm9ybWFsID0gbWVyZ2Uoe30sIGlubGluZSk7XG5cbi8qKlxuICogUGVkYW50aWMgSW5saW5lIEdyYW1tYXJcbiAqL1xuXG5pbmxpbmUucGVkYW50aWMgPSBtZXJnZSh7fSwgaW5saW5lLm5vcm1hbCwge1xuICBzdHJvbmc6IC9eX18oPz1cXFMpKFtcXHNcXFNdKj9cXFMpX18oPyFfKXxeXFwqXFwqKD89XFxTKShbXFxzXFxTXSo/XFxTKVxcKlxcKig/IVxcKikvLFxuICBlbTogL15fKD89XFxTKShbXFxzXFxTXSo/XFxTKV8oPyFfKXxeXFwqKD89XFxTKShbXFxzXFxTXSo/XFxTKVxcKig/IVxcKikvLFxuICBsaW5rOiBlZGl0KC9eIT9cXFsobGFiZWwpXFxdXFwoKC4qPylcXCkvKVxuICAgIC5yZXBsYWNlKCdsYWJlbCcsIGlubGluZS5fbGFiZWwpXG4gICAgLmdldFJlZ2V4KCksXG4gIHJlZmxpbms6IGVkaXQoL14hP1xcWyhsYWJlbClcXF1cXHMqXFxbKFteXFxdXSopXFxdLylcbiAgICAucmVwbGFjZSgnbGFiZWwnLCBpbmxpbmUuX2xhYmVsKVxuICAgIC5nZXRSZWdleCgpXG59KTtcblxuLyoqXG4gKiBHRk0gSW5saW5lIEdyYW1tYXJcbiAqL1xuXG5pbmxpbmUuZ2ZtID0gbWVyZ2Uoe30sIGlubGluZS5ub3JtYWwsIHtcbiAgZXNjYXBlOiBlZGl0KGlubGluZS5lc2NhcGUpLnJlcGxhY2UoJ10pJywgJ358XSknKS5nZXRSZWdleCgpLFxuICBfZXh0ZW5kZWRfZW1haWw6IC9bQS1aYS16MC05Ll8rLV0rKEApW2EtekEtWjAtOS1fXSsoPzpcXC5bYS16QS1aMC05LV9dKlthLXpBLVowLTldKSsoPyFbLV9dKS8sXG4gIHVybDogL14oKD86ZnRwfGh0dHBzPyk6XFwvXFwvfHd3d1xcLikoPzpbYS16QS1aMC05XFwtXStcXC4/KStbXlxcczxdKnxeZW1haWwvLFxuICBfYmFja3BlZGFsOiAvKD86W14/IS4sOjsqX34oKSZdK3xcXChbXildKlxcKXwmKD8hW2EtekEtWjAtOV0rOyQpfFs/IS4sOjsqX34pXSsoPyEkKSkrLyxcbiAgZGVsOiAvXn4rKD89XFxTKShbXFxzXFxTXSo/XFxTKX4rLyxcbiAgdGV4dDogL14oYCt8W15gXSkoPzpbXFxzXFxTXSo/KD86KD89W1xcXFw8IVxcW2Aqfl18XFxiX3xodHRwcz86XFwvXFwvfGZ0cDpcXC9cXC98d3d3XFwufCQpfFteIF0oPz0gezIsfVxcbil8W15hLXpBLVowLTkuISMkJSYnKitcXC89P19ge1xcfH1+LV0oPz1bYS16QS1aMC05LiEjJCUmJyorXFwvPT9fYHtcXHx9fi1dK0ApKXwoPz0gezIsfVxcbnxbYS16QS1aMC05LiEjJCUmJyorXFwvPT9fYHtcXHx9fi1dK0ApKS9cbn0pO1xuXG5pbmxpbmUuZ2ZtLnVybCA9IGVkaXQoaW5saW5lLmdmbS51cmwsICdpJylcbiAgLnJlcGxhY2UoJ2VtYWlsJywgaW5saW5lLmdmbS5fZXh0ZW5kZWRfZW1haWwpXG4gIC5nZXRSZWdleCgpO1xuLyoqXG4gKiBHRk0gKyBMaW5lIEJyZWFrcyBJbmxpbmUgR3JhbW1hclxuICovXG5cbmlubGluZS5icmVha3MgPSBtZXJnZSh7fSwgaW5saW5lLmdmbSwge1xuICBicjogZWRpdChpbmxpbmUuYnIpLnJlcGxhY2UoJ3syLH0nLCAnKicpLmdldFJlZ2V4KCksXG4gIHRleHQ6IGVkaXQoaW5saW5lLmdmbS50ZXh0KVxuICAgIC5yZXBsYWNlKCdcXFxcYl8nLCAnXFxcXGJffCB7Mix9XFxcXG4nKVxuICAgIC5yZXBsYWNlKC9cXHsyLFxcfS9nLCAnKicpXG4gICAgLmdldFJlZ2V4KClcbn0pO1xuXG4vKipcbiAqIElubGluZSBMZXhlciAmIENvbXBpbGVyXG4gKi9cblxuZnVuY3Rpb24gSW5saW5lTGV4ZXIobGlua3MsIG9wdGlvbnMpIHtcbiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCBtYXJrZWQuZGVmYXVsdHM7XG4gIHRoaXMubGlua3MgPSBsaW5rcztcbiAgdGhpcy5ydWxlcyA9IGlubGluZS5ub3JtYWw7XG4gIHRoaXMucmVuZGVyZXIgPSB0aGlzLm9wdGlvbnMucmVuZGVyZXIgfHwgbmV3IFJlbmRlcmVyKCk7XG4gIHRoaXMucmVuZGVyZXIub3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICBpZiAoIXRoaXMubGlua3MpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1Rva2VucyBhcnJheSByZXF1aXJlcyBhIGBsaW5rc2AgcHJvcGVydHkuJyk7XG4gIH1cblxuICBpZiAodGhpcy5vcHRpb25zLnBlZGFudGljKSB7XG4gICAgdGhpcy5ydWxlcyA9IGlubGluZS5wZWRhbnRpYztcbiAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMuZ2ZtKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5icmVha3MpIHtcbiAgICAgIHRoaXMucnVsZXMgPSBpbmxpbmUuYnJlYWtzO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJ1bGVzID0gaW5saW5lLmdmbTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBFeHBvc2UgSW5saW5lIFJ1bGVzXG4gKi9cblxuSW5saW5lTGV4ZXIucnVsZXMgPSBpbmxpbmU7XG5cbi8qKlxuICogU3RhdGljIExleGluZy9Db21waWxpbmcgTWV0aG9kXG4gKi9cblxuSW5saW5lTGV4ZXIub3V0cHV0ID0gZnVuY3Rpb24oc3JjLCBsaW5rcywgb3B0aW9ucykge1xuICB2YXIgaW5saW5lID0gbmV3IElubGluZUxleGVyKGxpbmtzLCBvcHRpb25zKTtcbiAgcmV0dXJuIGlubGluZS5vdXRwdXQoc3JjKTtcbn07XG5cbi8qKlxuICogTGV4aW5nL0NvbXBpbGluZ1xuICovXG5cbklubGluZUxleGVyLnByb3RvdHlwZS5vdXRwdXQgPSBmdW5jdGlvbihzcmMpIHtcbiAgdmFyIG91dCA9ICcnLFxuICAgICAgbGluayxcbiAgICAgIHRleHQsXG4gICAgICBocmVmLFxuICAgICAgdGl0bGUsXG4gICAgICBjYXAsXG4gICAgICBwcmV2Q2FwWmVybztcblxuICB3aGlsZSAoc3JjKSB7XG4gICAgLy8gZXNjYXBlXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuZXNjYXBlLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIG91dCArPSBlc2NhcGUoY2FwWzFdKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIHRhZ1xuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLnRhZy5leGVjKHNyYykpIHtcbiAgICAgIGlmICghdGhpcy5pbkxpbmsgJiYgL148YSAvaS50ZXN0KGNhcFswXSkpIHtcbiAgICAgICAgdGhpcy5pbkxpbmsgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmluTGluayAmJiAvXjxcXC9hPi9pLnRlc3QoY2FwWzBdKSkge1xuICAgICAgICB0aGlzLmluTGluayA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLmluUmF3QmxvY2sgJiYgL148KHByZXxjb2RlfGtiZHxzY3JpcHQpKFxcc3w+KS9pLnRlc3QoY2FwWzBdKSkge1xuICAgICAgICB0aGlzLmluUmF3QmxvY2sgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmluUmF3QmxvY2sgJiYgL148XFwvKHByZXxjb2RlfGtiZHxzY3JpcHQpKFxcc3w+KS9pLnRlc3QoY2FwWzBdKSkge1xuICAgICAgICB0aGlzLmluUmF3QmxvY2sgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIG91dCArPSB0aGlzLm9wdGlvbnMuc2FuaXRpemVcbiAgICAgICAgPyB0aGlzLm9wdGlvbnMuc2FuaXRpemVyXG4gICAgICAgICAgPyB0aGlzLm9wdGlvbnMuc2FuaXRpemVyKGNhcFswXSlcbiAgICAgICAgICA6IGVzY2FwZShjYXBbMF0pXG4gICAgICAgIDogY2FwWzBdO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gbGlua1xuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmxpbmsuZXhlYyhzcmMpKSB7XG4gICAgICB2YXIgbGFzdFBhcmVuSW5kZXggPSBmaW5kQ2xvc2luZ0JyYWNrZXQoY2FwWzJdLCAnKCknKTtcbiAgICAgIGlmIChsYXN0UGFyZW5JbmRleCA+IC0xKSB7XG4gICAgICAgIHZhciBsaW5rTGVuID0gNCArIGNhcFsxXS5sZW5ndGggKyBsYXN0UGFyZW5JbmRleDtcbiAgICAgICAgY2FwWzJdID0gY2FwWzJdLnN1YnN0cmluZygwLCBsYXN0UGFyZW5JbmRleCk7XG4gICAgICAgIGNhcFswXSA9IGNhcFswXS5zdWJzdHJpbmcoMCwgbGlua0xlbikudHJpbSgpO1xuICAgICAgICBjYXBbM10gPSAnJztcbiAgICAgIH1cbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICB0aGlzLmluTGluayA9IHRydWU7XG4gICAgICBocmVmID0gY2FwWzJdO1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5wZWRhbnRpYykge1xuICAgICAgICBsaW5rID0gL14oW14nXCJdKlteXFxzXSlcXHMrKFsnXCJdKSguKilcXDIvLmV4ZWMoaHJlZik7XG5cbiAgICAgICAgaWYgKGxpbmspIHtcbiAgICAgICAgICBocmVmID0gbGlua1sxXTtcbiAgICAgICAgICB0aXRsZSA9IGxpbmtbM107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGl0bGUgPSAnJztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGl0bGUgPSBjYXBbM10gPyBjYXBbM10uc2xpY2UoMSwgLTEpIDogJyc7XG4gICAgICB9XG4gICAgICBocmVmID0gaHJlZi50cmltKCkucmVwbGFjZSgvXjwoW1xcc1xcU10qKT4kLywgJyQxJyk7XG4gICAgICBvdXQgKz0gdGhpcy5vdXRwdXRMaW5rKGNhcCwge1xuICAgICAgICBocmVmOiBJbmxpbmVMZXhlci5lc2NhcGVzKGhyZWYpLFxuICAgICAgICB0aXRsZTogSW5saW5lTGV4ZXIuZXNjYXBlcyh0aXRsZSlcbiAgICAgIH0pO1xuICAgICAgdGhpcy5pbkxpbmsgPSBmYWxzZTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIHJlZmxpbmssIG5vbGlua1xuICAgIGlmICgoY2FwID0gdGhpcy5ydWxlcy5yZWZsaW5rLmV4ZWMoc3JjKSlcbiAgICAgICAgfHwgKGNhcCA9IHRoaXMucnVsZXMubm9saW5rLmV4ZWMoc3JjKSkpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICBsaW5rID0gKGNhcFsyXSB8fCBjYXBbMV0pLnJlcGxhY2UoL1xccysvZywgJyAnKTtcbiAgICAgIGxpbmsgPSB0aGlzLmxpbmtzW2xpbmsudG9Mb3dlckNhc2UoKV07XG4gICAgICBpZiAoIWxpbmsgfHwgIWxpbmsuaHJlZikge1xuICAgICAgICBvdXQgKz0gY2FwWzBdLmNoYXJBdCgwKTtcbiAgICAgICAgc3JjID0gY2FwWzBdLnN1YnN0cmluZygxKSArIHNyYztcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB0aGlzLmluTGluayA9IHRydWU7XG4gICAgICBvdXQgKz0gdGhpcy5vdXRwdXRMaW5rKGNhcCwgbGluayk7XG4gICAgICB0aGlzLmluTGluayA9IGZhbHNlO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gc3Ryb25nXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuc3Ryb25nLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLnN0cm9uZyh0aGlzLm91dHB1dChjYXBbNF0gfHwgY2FwWzNdIHx8IGNhcFsyXSB8fCBjYXBbMV0pKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGVtXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuZW0uZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIuZW0odGhpcy5vdXRwdXQoY2FwWzZdIHx8IGNhcFs1XSB8fCBjYXBbNF0gfHwgY2FwWzNdIHx8IGNhcFsyXSB8fCBjYXBbMV0pKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGNvZGVcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5jb2RlLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmNvZGVzcGFuKGVzY2FwZShjYXBbMl0udHJpbSgpLCB0cnVlKSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBiclxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmJyLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmJyKCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBkZWwgKGdmbSlcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5kZWwuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIuZGVsKHRoaXMub3V0cHV0KGNhcFsxXSkpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gYXV0b2xpbmtcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5hdXRvbGluay5leGVjKHNyYykpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICBpZiAoY2FwWzJdID09PSAnQCcpIHtcbiAgICAgICAgdGV4dCA9IGVzY2FwZSh0aGlzLm1hbmdsZShjYXBbMV0pKTtcbiAgICAgICAgaHJlZiA9ICdtYWlsdG86JyArIHRleHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0ZXh0ID0gZXNjYXBlKGNhcFsxXSk7XG4gICAgICAgIGhyZWYgPSB0ZXh0O1xuICAgICAgfVxuICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIubGluayhocmVmLCBudWxsLCB0ZXh0KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIHVybCAoZ2ZtKVxuICAgIGlmICghdGhpcy5pbkxpbmsgJiYgKGNhcCA9IHRoaXMucnVsZXMudXJsLmV4ZWMoc3JjKSkpIHtcbiAgICAgIGlmIChjYXBbMl0gPT09ICdAJykge1xuICAgICAgICB0ZXh0ID0gZXNjYXBlKGNhcFswXSk7XG4gICAgICAgIGhyZWYgPSAnbWFpbHRvOicgKyB0ZXh0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZG8gZXh0ZW5kZWQgYXV0b2xpbmsgcGF0aCB2YWxpZGF0aW9uXG4gICAgICAgIGRvIHtcbiAgICAgICAgICBwcmV2Q2FwWmVybyA9IGNhcFswXTtcbiAgICAgICAgICBjYXBbMF0gPSB0aGlzLnJ1bGVzLl9iYWNrcGVkYWwuZXhlYyhjYXBbMF0pWzBdO1xuICAgICAgICB9IHdoaWxlIChwcmV2Q2FwWmVybyAhPT0gY2FwWzBdKTtcbiAgICAgICAgdGV4dCA9IGVzY2FwZShjYXBbMF0pO1xuICAgICAgICBpZiAoY2FwWzFdID09PSAnd3d3LicpIHtcbiAgICAgICAgICBocmVmID0gJ2h0dHA6Ly8nICsgdGV4dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBocmVmID0gdGV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmxpbmsoaHJlZiwgbnVsbCwgdGV4dCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyB0ZXh0XG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMudGV4dC5leGVjKHNyYykpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICBpZiAodGhpcy5pblJhd0Jsb2NrKSB7XG4gICAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLnRleHQodGhpcy5vcHRpb25zLnNhbml0aXplID8gKHRoaXMub3B0aW9ucy5zYW5pdGl6ZXIgPyB0aGlzLm9wdGlvbnMuc2FuaXRpemVyKGNhcFswXSkgOiBlc2NhcGUoY2FwWzBdKSkgOiBjYXBbMF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIudGV4dChlc2NhcGUodGhpcy5zbWFydHlwYW50cyhjYXBbMF0pKSk7XG4gICAgICB9XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoc3JjKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0luZmluaXRlIGxvb3Agb24gYnl0ZTogJyArIHNyYy5jaGFyQ29kZUF0KDApKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb3V0O1xufTtcblxuSW5saW5lTGV4ZXIuZXNjYXBlcyA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgcmV0dXJuIHRleHQgPyB0ZXh0LnJlcGxhY2UoSW5saW5lTGV4ZXIucnVsZXMuX2VzY2FwZXMsICckMScpIDogdGV4dDtcbn07XG5cbi8qKlxuICogQ29tcGlsZSBMaW5rXG4gKi9cblxuSW5saW5lTGV4ZXIucHJvdG90eXBlLm91dHB1dExpbmsgPSBmdW5jdGlvbihjYXAsIGxpbmspIHtcbiAgdmFyIGhyZWYgPSBsaW5rLmhyZWYsXG4gICAgICB0aXRsZSA9IGxpbmsudGl0bGUgPyBlc2NhcGUobGluay50aXRsZSkgOiBudWxsO1xuXG4gIHJldHVybiBjYXBbMF0uY2hhckF0KDApICE9PSAnISdcbiAgICA/IHRoaXMucmVuZGVyZXIubGluayhocmVmLCB0aXRsZSwgdGhpcy5vdXRwdXQoY2FwWzFdKSlcbiAgICA6IHRoaXMucmVuZGVyZXIuaW1hZ2UoaHJlZiwgdGl0bGUsIGVzY2FwZShjYXBbMV0pKTtcbn07XG5cbi8qKlxuICogU21hcnR5cGFudHMgVHJhbnNmb3JtYXRpb25zXG4gKi9cblxuSW5saW5lTGV4ZXIucHJvdG90eXBlLnNtYXJ0eXBhbnRzID0gZnVuY3Rpb24odGV4dCkge1xuICBpZiAoIXRoaXMub3B0aW9ucy5zbWFydHlwYW50cykgcmV0dXJuIHRleHQ7XG4gIHJldHVybiB0ZXh0XG4gICAgLy8gZW0tZGFzaGVzXG4gICAgLnJlcGxhY2UoLy0tLS9nLCAnXFx1MjAxNCcpXG4gICAgLy8gZW4tZGFzaGVzXG4gICAgLnJlcGxhY2UoLy0tL2csICdcXHUyMDEzJylcbiAgICAvLyBvcGVuaW5nIHNpbmdsZXNcbiAgICAucmVwbGFjZSgvKF58Wy1cXHUyMDE0LyhcXFt7XCJcXHNdKScvZywgJyQxXFx1MjAxOCcpXG4gICAgLy8gY2xvc2luZyBzaW5nbGVzICYgYXBvc3Ryb3BoZXNcbiAgICAucmVwbGFjZSgvJy9nLCAnXFx1MjAxOScpXG4gICAgLy8gb3BlbmluZyBkb3VibGVzXG4gICAgLnJlcGxhY2UoLyhefFstXFx1MjAxNC8oXFxbe1xcdTIwMThcXHNdKVwiL2csICckMVxcdTIwMWMnKVxuICAgIC8vIGNsb3NpbmcgZG91Ymxlc1xuICAgIC5yZXBsYWNlKC9cIi9nLCAnXFx1MjAxZCcpXG4gICAgLy8gZWxsaXBzZXNcbiAgICAucmVwbGFjZSgvXFwuezN9L2csICdcXHUyMDI2Jyk7XG59O1xuXG4vKipcbiAqIE1hbmdsZSBMaW5rc1xuICovXG5cbklubGluZUxleGVyLnByb3RvdHlwZS5tYW5nbGUgPSBmdW5jdGlvbih0ZXh0KSB7XG4gIGlmICghdGhpcy5vcHRpb25zLm1hbmdsZSkgcmV0dXJuIHRleHQ7XG4gIHZhciBvdXQgPSAnJyxcbiAgICAgIGwgPSB0ZXh0Lmxlbmd0aCxcbiAgICAgIGkgPSAwLFxuICAgICAgY2g7XG5cbiAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICBjaCA9IHRleHQuY2hhckNvZGVBdChpKTtcbiAgICBpZiAoTWF0aC5yYW5kb20oKSA+IDAuNSkge1xuICAgICAgY2ggPSAneCcgKyBjaC50b1N0cmluZygxNik7XG4gICAgfVxuICAgIG91dCArPSAnJiMnICsgY2ggKyAnOyc7XG4gIH1cblxuICByZXR1cm4gb3V0O1xufTtcblxuLyoqXG4gKiBSZW5kZXJlclxuICovXG5cbmZ1bmN0aW9uIFJlbmRlcmVyKG9wdGlvbnMpIHtcbiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCBtYXJrZWQuZGVmYXVsdHM7XG59XG5cblJlbmRlcmVyLnByb3RvdHlwZS5jb2RlID0gZnVuY3Rpb24oY29kZSwgaW5mb3N0cmluZywgZXNjYXBlZCkge1xuICB2YXIgbGFuZyA9IChpbmZvc3RyaW5nIHx8ICcnKS5tYXRjaCgvXFxTKi8pWzBdO1xuICBpZiAodGhpcy5vcHRpb25zLmhpZ2hsaWdodCkge1xuICAgIHZhciBvdXQgPSB0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0KGNvZGUsIGxhbmcpO1xuICAgIGlmIChvdXQgIT0gbnVsbCAmJiBvdXQgIT09IGNvZGUpIHtcbiAgICAgIGVzY2FwZWQgPSB0cnVlO1xuICAgICAgY29kZSA9IG91dDtcbiAgICB9XG4gIH1cblxuICBpZiAoIWxhbmcpIHtcbiAgICByZXR1cm4gJzxwcmU+PGNvZGU+J1xuICAgICAgKyAoZXNjYXBlZCA/IGNvZGUgOiBlc2NhcGUoY29kZSwgdHJ1ZSkpXG4gICAgICArICc8L2NvZGU+PC9wcmU+JztcbiAgfVxuXG4gIHJldHVybiAnPHByZT48Y29kZSBjbGFzcz1cIidcbiAgICArIHRoaXMub3B0aW9ucy5sYW5nUHJlZml4XG4gICAgKyBlc2NhcGUobGFuZywgdHJ1ZSlcbiAgICArICdcIj4nXG4gICAgKyAoZXNjYXBlZCA/IGNvZGUgOiBlc2NhcGUoY29kZSwgdHJ1ZSkpXG4gICAgKyAnPC9jb2RlPjwvcHJlPlxcbic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUuYmxvY2txdW90ZSA9IGZ1bmN0aW9uKHF1b3RlKSB7XG4gIHJldHVybiAnPGJsb2NrcXVvdGU+XFxuJyArIHF1b3RlICsgJzwvYmxvY2txdW90ZT5cXG4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmh0bWwgPSBmdW5jdGlvbihodG1sKSB7XG4gIHJldHVybiBodG1sO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmhlYWRpbmcgPSBmdW5jdGlvbih0ZXh0LCBsZXZlbCwgcmF3LCBzbHVnZ2VyKSB7XG4gIGlmICh0aGlzLm9wdGlvbnMuaGVhZGVySWRzKSB7XG4gICAgcmV0dXJuICc8aCdcbiAgICAgICsgbGV2ZWxcbiAgICAgICsgJyBpZD1cIidcbiAgICAgICsgdGhpcy5vcHRpb25zLmhlYWRlclByZWZpeFxuICAgICAgKyBzbHVnZ2VyLnNsdWcocmF3KVxuICAgICAgKyAnXCI+J1xuICAgICAgKyB0ZXh0XG4gICAgICArICc8L2gnXG4gICAgICArIGxldmVsXG4gICAgICArICc+XFxuJztcbiAgfVxuICAvLyBpZ25vcmUgSURzXG4gIHJldHVybiAnPGgnICsgbGV2ZWwgKyAnPicgKyB0ZXh0ICsgJzwvaCcgKyBsZXZlbCArICc+XFxuJztcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS5ociA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5vcHRpb25zLnhodG1sID8gJzxoci8+XFxuJyA6ICc8aHI+XFxuJztcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS5saXN0ID0gZnVuY3Rpb24oYm9keSwgb3JkZXJlZCwgc3RhcnQpIHtcbiAgdmFyIHR5cGUgPSBvcmRlcmVkID8gJ29sJyA6ICd1bCcsXG4gICAgICBzdGFydGF0dCA9IChvcmRlcmVkICYmIHN0YXJ0ICE9PSAxKSA/ICgnIHN0YXJ0PVwiJyArIHN0YXJ0ICsgJ1wiJykgOiAnJztcbiAgcmV0dXJuICc8JyArIHR5cGUgKyBzdGFydGF0dCArICc+XFxuJyArIGJvZHkgKyAnPC8nICsgdHlwZSArICc+XFxuJztcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS5saXN0aXRlbSA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgcmV0dXJuICc8bGk+JyArIHRleHQgKyAnPC9saT5cXG4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmNoZWNrYm94ID0gZnVuY3Rpb24oY2hlY2tlZCkge1xuICByZXR1cm4gJzxpbnB1dCAnXG4gICAgKyAoY2hlY2tlZCA/ICdjaGVja2VkPVwiXCIgJyA6ICcnKVxuICAgICsgJ2Rpc2FibGVkPVwiXCIgdHlwZT1cImNoZWNrYm94XCInXG4gICAgKyAodGhpcy5vcHRpb25zLnhodG1sID8gJyAvJyA6ICcnKVxuICAgICsgJz4gJztcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS5wYXJhZ3JhcGggPSBmdW5jdGlvbih0ZXh0KSB7XG4gIHJldHVybiAnPHA+JyArIHRleHQgKyAnPC9wPlxcbic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUudGFibGUgPSBmdW5jdGlvbihoZWFkZXIsIGJvZHkpIHtcbiAgaWYgKGJvZHkpIGJvZHkgPSAnPHRib2R5PicgKyBib2R5ICsgJzwvdGJvZHk+JztcblxuICByZXR1cm4gJzx0YWJsZT5cXG4nXG4gICAgKyAnPHRoZWFkPlxcbidcbiAgICArIGhlYWRlclxuICAgICsgJzwvdGhlYWQ+XFxuJ1xuICAgICsgYm9keVxuICAgICsgJzwvdGFibGU+XFxuJztcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS50YWJsZXJvdyA9IGZ1bmN0aW9uKGNvbnRlbnQpIHtcbiAgcmV0dXJuICc8dHI+XFxuJyArIGNvbnRlbnQgKyAnPC90cj5cXG4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLnRhYmxlY2VsbCA9IGZ1bmN0aW9uKGNvbnRlbnQsIGZsYWdzKSB7XG4gIHZhciB0eXBlID0gZmxhZ3MuaGVhZGVyID8gJ3RoJyA6ICd0ZCc7XG4gIHZhciB0YWcgPSBmbGFncy5hbGlnblxuICAgID8gJzwnICsgdHlwZSArICcgYWxpZ249XCInICsgZmxhZ3MuYWxpZ24gKyAnXCI+J1xuICAgIDogJzwnICsgdHlwZSArICc+JztcbiAgcmV0dXJuIHRhZyArIGNvbnRlbnQgKyAnPC8nICsgdHlwZSArICc+XFxuJztcbn07XG5cbi8vIHNwYW4gbGV2ZWwgcmVuZGVyZXJcblJlbmRlcmVyLnByb3RvdHlwZS5zdHJvbmcgPSBmdW5jdGlvbih0ZXh0KSB7XG4gIHJldHVybiAnPHN0cm9uZz4nICsgdGV4dCArICc8L3N0cm9uZz4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmVtID0gZnVuY3Rpb24odGV4dCkge1xuICByZXR1cm4gJzxlbT4nICsgdGV4dCArICc8L2VtPic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUuY29kZXNwYW4gPSBmdW5jdGlvbih0ZXh0KSB7XG4gIHJldHVybiAnPGNvZGU+JyArIHRleHQgKyAnPC9jb2RlPic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUuYnIgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMub3B0aW9ucy54aHRtbCA/ICc8YnIvPicgOiAnPGJyPic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUuZGVsID0gZnVuY3Rpb24odGV4dCkge1xuICByZXR1cm4gJzxkZWw+JyArIHRleHQgKyAnPC9kZWw+Jztcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS5saW5rID0gZnVuY3Rpb24oaHJlZiwgdGl0bGUsIHRleHQpIHtcbiAgaHJlZiA9IGNsZWFuVXJsKHRoaXMub3B0aW9ucy5zYW5pdGl6ZSwgdGhpcy5vcHRpb25zLmJhc2VVcmwsIGhyZWYpO1xuICBpZiAoaHJlZiA9PT0gbnVsbCkge1xuICAgIHJldHVybiB0ZXh0O1xuICB9XG4gIHZhciBvdXQgPSAnPGEgaHJlZj1cIicgKyBlc2NhcGUoaHJlZikgKyAnXCInO1xuICBpZiAodGl0bGUpIHtcbiAgICBvdXQgKz0gJyB0aXRsZT1cIicgKyB0aXRsZSArICdcIic7XG4gIH1cbiAgb3V0ICs9ICc+JyArIHRleHQgKyAnPC9hPic7XG4gIHJldHVybiBvdXQ7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUuaW1hZ2UgPSBmdW5jdGlvbihocmVmLCB0aXRsZSwgdGV4dCkge1xuICBocmVmID0gY2xlYW5VcmwodGhpcy5vcHRpb25zLnNhbml0aXplLCB0aGlzLm9wdGlvbnMuYmFzZVVybCwgaHJlZik7XG4gIGlmIChocmVmID09PSBudWxsKSB7XG4gICAgcmV0dXJuIHRleHQ7XG4gIH1cblxuICB2YXIgb3V0ID0gJzxpbWcgc3JjPVwiJyArIGhyZWYgKyAnXCIgYWx0PVwiJyArIHRleHQgKyAnXCInO1xuICBpZiAodGl0bGUpIHtcbiAgICBvdXQgKz0gJyB0aXRsZT1cIicgKyB0aXRsZSArICdcIic7XG4gIH1cbiAgb3V0ICs9IHRoaXMub3B0aW9ucy54aHRtbCA/ICcvPicgOiAnPic7XG4gIHJldHVybiBvdXQ7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUudGV4dCA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgcmV0dXJuIHRleHQ7XG59O1xuXG4vKipcbiAqIFRleHRSZW5kZXJlclxuICogcmV0dXJucyBvbmx5IHRoZSB0ZXh0dWFsIHBhcnQgb2YgdGhlIHRva2VuXG4gKi9cblxuZnVuY3Rpb24gVGV4dFJlbmRlcmVyKCkge31cblxuLy8gbm8gbmVlZCBmb3IgYmxvY2sgbGV2ZWwgcmVuZGVyZXJzXG5cblRleHRSZW5kZXJlci5wcm90b3R5cGUuc3Ryb25nID1cblRleHRSZW5kZXJlci5wcm90b3R5cGUuZW0gPVxuVGV4dFJlbmRlcmVyLnByb3RvdHlwZS5jb2Rlc3BhbiA9XG5UZXh0UmVuZGVyZXIucHJvdG90eXBlLmRlbCA9XG5UZXh0UmVuZGVyZXIucHJvdG90eXBlLnRleHQgPSBmdW5jdGlvbih0ZXh0KSB7XG4gIHJldHVybiB0ZXh0O1xufTtcblxuVGV4dFJlbmRlcmVyLnByb3RvdHlwZS5saW5rID1cblRleHRSZW5kZXJlci5wcm90b3R5cGUuaW1hZ2UgPSBmdW5jdGlvbihocmVmLCB0aXRsZSwgdGV4dCkge1xuICByZXR1cm4gJycgKyB0ZXh0O1xufTtcblxuVGV4dFJlbmRlcmVyLnByb3RvdHlwZS5iciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gJyc7XG59O1xuXG4vKipcbiAqIFBhcnNpbmcgJiBDb21waWxpbmdcbiAqL1xuXG5mdW5jdGlvbiBQYXJzZXIob3B0aW9ucykge1xuICB0aGlzLnRva2VucyA9IFtdO1xuICB0aGlzLnRva2VuID0gbnVsbDtcbiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCBtYXJrZWQuZGVmYXVsdHM7XG4gIHRoaXMub3B0aW9ucy5yZW5kZXJlciA9IHRoaXMub3B0aW9ucy5yZW5kZXJlciB8fCBuZXcgUmVuZGVyZXIoKTtcbiAgdGhpcy5yZW5kZXJlciA9IHRoaXMub3B0aW9ucy5yZW5kZXJlcjtcbiAgdGhpcy5yZW5kZXJlci5vcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICB0aGlzLnNsdWdnZXIgPSBuZXcgU2x1Z2dlcigpO1xufVxuXG4vKipcbiAqIFN0YXRpYyBQYXJzZSBNZXRob2RcbiAqL1xuXG5QYXJzZXIucGFyc2UgPSBmdW5jdGlvbihzcmMsIG9wdGlvbnMpIHtcbiAgdmFyIHBhcnNlciA9IG5ldyBQYXJzZXIob3B0aW9ucyk7XG4gIHJldHVybiBwYXJzZXIucGFyc2Uoc3JjKTtcbn07XG5cbi8qKlxuICogUGFyc2UgTG9vcFxuICovXG5cblBhcnNlci5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbihzcmMpIHtcbiAgdGhpcy5pbmxpbmUgPSBuZXcgSW5saW5lTGV4ZXIoc3JjLmxpbmtzLCB0aGlzLm9wdGlvbnMpO1xuICAvLyB1c2UgYW4gSW5saW5lTGV4ZXIgd2l0aCBhIFRleHRSZW5kZXJlciB0byBleHRyYWN0IHB1cmUgdGV4dFxuICB0aGlzLmlubGluZVRleHQgPSBuZXcgSW5saW5lTGV4ZXIoXG4gICAgc3JjLmxpbmtzLFxuICAgIG1lcmdlKHt9LCB0aGlzLm9wdGlvbnMsIHsgcmVuZGVyZXI6IG5ldyBUZXh0UmVuZGVyZXIoKSB9KVxuICApO1xuICB0aGlzLnRva2VucyA9IHNyYy5yZXZlcnNlKCk7XG5cbiAgdmFyIG91dCA9ICcnO1xuICB3aGlsZSAodGhpcy5uZXh0KCkpIHtcbiAgICBvdXQgKz0gdGhpcy50b2soKTtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59O1xuXG4vKipcbiAqIE5leHQgVG9rZW5cbiAqL1xuXG5QYXJzZXIucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy50b2tlbiA9IHRoaXMudG9rZW5zLnBvcCgpO1xuICByZXR1cm4gdGhpcy50b2tlbjtcbn07XG5cbi8qKlxuICogUHJldmlldyBOZXh0IFRva2VuXG4gKi9cblxuUGFyc2VyLnByb3RvdHlwZS5wZWVrID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnRva2Vuc1t0aGlzLnRva2Vucy5sZW5ndGggLSAxXSB8fCAwO1xufTtcblxuLyoqXG4gKiBQYXJzZSBUZXh0IFRva2Vuc1xuICovXG5cblBhcnNlci5wcm90b3R5cGUucGFyc2VUZXh0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBib2R5ID0gdGhpcy50b2tlbi50ZXh0O1xuXG4gIHdoaWxlICh0aGlzLnBlZWsoKS50eXBlID09PSAndGV4dCcpIHtcbiAgICBib2R5ICs9ICdcXG4nICsgdGhpcy5uZXh0KCkudGV4dDtcbiAgfVxuXG4gIHJldHVybiB0aGlzLmlubGluZS5vdXRwdXQoYm9keSk7XG59O1xuXG4vKipcbiAqIFBhcnNlIEN1cnJlbnQgVG9rZW5cbiAqL1xuXG5QYXJzZXIucHJvdG90eXBlLnRvayA9IGZ1bmN0aW9uKCkge1xuICBzd2l0Y2ggKHRoaXMudG9rZW4udHlwZSkge1xuICAgIGNhc2UgJ3NwYWNlJzoge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBjYXNlICdocic6IHtcbiAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmhyKCk7XG4gICAgfVxuICAgIGNhc2UgJ2hlYWRpbmcnOiB7XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5oZWFkaW5nKFxuICAgICAgICB0aGlzLmlubGluZS5vdXRwdXQodGhpcy50b2tlbi50ZXh0KSxcbiAgICAgICAgdGhpcy50b2tlbi5kZXB0aCxcbiAgICAgICAgdW5lc2NhcGUodGhpcy5pbmxpbmVUZXh0Lm91dHB1dCh0aGlzLnRva2VuLnRleHQpKSxcbiAgICAgICAgdGhpcy5zbHVnZ2VyKTtcbiAgICB9XG4gICAgY2FzZSAnY29kZSc6IHtcbiAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmNvZGUodGhpcy50b2tlbi50ZXh0LFxuICAgICAgICB0aGlzLnRva2VuLmxhbmcsXG4gICAgICAgIHRoaXMudG9rZW4uZXNjYXBlZCk7XG4gICAgfVxuICAgIGNhc2UgJ3RhYmxlJzoge1xuICAgICAgdmFyIGhlYWRlciA9ICcnLFxuICAgICAgICAgIGJvZHkgPSAnJyxcbiAgICAgICAgICBpLFxuICAgICAgICAgIHJvdyxcbiAgICAgICAgICBjZWxsLFxuICAgICAgICAgIGo7XG5cbiAgICAgIC8vIGhlYWRlclxuICAgICAgY2VsbCA9ICcnO1xuICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMudG9rZW4uaGVhZGVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNlbGwgKz0gdGhpcy5yZW5kZXJlci50YWJsZWNlbGwoXG4gICAgICAgICAgdGhpcy5pbmxpbmUub3V0cHV0KHRoaXMudG9rZW4uaGVhZGVyW2ldKSxcbiAgICAgICAgICB7IGhlYWRlcjogdHJ1ZSwgYWxpZ246IHRoaXMudG9rZW4uYWxpZ25baV0gfVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaGVhZGVyICs9IHRoaXMucmVuZGVyZXIudGFibGVyb3coY2VsbCk7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLnRva2VuLmNlbGxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJvdyA9IHRoaXMudG9rZW4uY2VsbHNbaV07XG5cbiAgICAgICAgY2VsbCA9ICcnO1xuICAgICAgICBmb3IgKGogPSAwOyBqIDwgcm93Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgY2VsbCArPSB0aGlzLnJlbmRlcmVyLnRhYmxlY2VsbChcbiAgICAgICAgICAgIHRoaXMuaW5saW5lLm91dHB1dChyb3dbal0pLFxuICAgICAgICAgICAgeyBoZWFkZXI6IGZhbHNlLCBhbGlnbjogdGhpcy50b2tlbi5hbGlnbltqXSB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJvZHkgKz0gdGhpcy5yZW5kZXJlci50YWJsZXJvdyhjZWxsKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLnRhYmxlKGhlYWRlciwgYm9keSk7XG4gICAgfVxuICAgIGNhc2UgJ2Jsb2NrcXVvdGVfc3RhcnQnOiB7XG4gICAgICBib2R5ID0gJyc7XG5cbiAgICAgIHdoaWxlICh0aGlzLm5leHQoKS50eXBlICE9PSAnYmxvY2txdW90ZV9lbmQnKSB7XG4gICAgICAgIGJvZHkgKz0gdGhpcy50b2soKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuYmxvY2txdW90ZShib2R5KTtcbiAgICB9XG4gICAgY2FzZSAnbGlzdF9zdGFydCc6IHtcbiAgICAgIGJvZHkgPSAnJztcbiAgICAgIHZhciBvcmRlcmVkID0gdGhpcy50b2tlbi5vcmRlcmVkLFxuICAgICAgICAgIHN0YXJ0ID0gdGhpcy50b2tlbi5zdGFydDtcblxuICAgICAgd2hpbGUgKHRoaXMubmV4dCgpLnR5cGUgIT09ICdsaXN0X2VuZCcpIHtcbiAgICAgICAgYm9keSArPSB0aGlzLnRvaygpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5saXN0KGJvZHksIG9yZGVyZWQsIHN0YXJ0KTtcbiAgICB9XG4gICAgY2FzZSAnbGlzdF9pdGVtX3N0YXJ0Jzoge1xuICAgICAgYm9keSA9ICcnO1xuICAgICAgdmFyIGxvb3NlID0gdGhpcy50b2tlbi5sb29zZTtcbiAgICAgIHZhciBjaGVja2VkID0gdGhpcy50b2tlbi5jaGVja2VkO1xuICAgICAgdmFyIHRhc2sgPSB0aGlzLnRva2VuLnRhc2s7XG5cbiAgICAgIGlmICh0aGlzLnRva2VuLnRhc2spIHtcbiAgICAgICAgYm9keSArPSB0aGlzLnJlbmRlcmVyLmNoZWNrYm94KGNoZWNrZWQpO1xuICAgICAgfVxuXG4gICAgICB3aGlsZSAodGhpcy5uZXh0KCkudHlwZSAhPT0gJ2xpc3RfaXRlbV9lbmQnKSB7XG4gICAgICAgIGJvZHkgKz0gIWxvb3NlICYmIHRoaXMudG9rZW4udHlwZSA9PT0gJ3RleHQnXG4gICAgICAgICAgPyB0aGlzLnBhcnNlVGV4dCgpXG4gICAgICAgICAgOiB0aGlzLnRvaygpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIubGlzdGl0ZW0oYm9keSwgdGFzaywgY2hlY2tlZCk7XG4gICAgfVxuICAgIGNhc2UgJ2h0bWwnOiB7XG4gICAgICAvLyBUT0RPIHBhcnNlIGlubGluZSBjb250ZW50IGlmIHBhcmFtZXRlciBtYXJrZG93bj0xXG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5odG1sKHRoaXMudG9rZW4udGV4dCk7XG4gICAgfVxuICAgIGNhc2UgJ3BhcmFncmFwaCc6IHtcbiAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLnBhcmFncmFwaCh0aGlzLmlubGluZS5vdXRwdXQodGhpcy50b2tlbi50ZXh0KSk7XG4gICAgfVxuICAgIGNhc2UgJ3RleHQnOiB7XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5wYXJhZ3JhcGgodGhpcy5wYXJzZVRleHQoKSk7XG4gICAgfVxuICAgIGRlZmF1bHQ6IHtcbiAgICAgIHZhciBlcnJNc2cgPSAnVG9rZW4gd2l0aCBcIicgKyB0aGlzLnRva2VuLnR5cGUgKyAnXCIgdHlwZSB3YXMgbm90IGZvdW5kLic7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLnNpbGVudCkge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJNc2cpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyck1zZyk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIFNsdWdnZXIgZ2VuZXJhdGVzIGhlYWRlciBpZFxuICovXG5cbmZ1bmN0aW9uIFNsdWdnZXIoKSB7XG4gIHRoaXMuc2VlbiA9IHt9O1xufVxuXG4vKipcbiAqIENvbnZlcnQgc3RyaW5nIHRvIHVuaXF1ZSBpZFxuICovXG5cblNsdWdnZXIucHJvdG90eXBlLnNsdWcgPSBmdW5jdGlvbih2YWx1ZSkge1xuICB2YXIgc2x1ZyA9IHZhbHVlXG4gICAgLnRvTG93ZXJDYXNlKClcbiAgICAudHJpbSgpXG4gICAgLnJlcGxhY2UoL1tcXHUyMDAwLVxcdTIwNkZcXHUyRTAwLVxcdTJFN0ZcXFxcJyFcIiMkJSYoKSorLC4vOjs8PT4/QFtcXF1eYHt8fX5dL2csICcnKVxuICAgIC5yZXBsYWNlKC9cXHMvZywgJy0nKTtcblxuICBpZiAodGhpcy5zZWVuLmhhc093blByb3BlcnR5KHNsdWcpKSB7XG4gICAgdmFyIG9yaWdpbmFsU2x1ZyA9IHNsdWc7XG4gICAgZG8ge1xuICAgICAgdGhpcy5zZWVuW29yaWdpbmFsU2x1Z10rKztcbiAgICAgIHNsdWcgPSBvcmlnaW5hbFNsdWcgKyAnLScgKyB0aGlzLnNlZW5bb3JpZ2luYWxTbHVnXTtcbiAgICB9IHdoaWxlICh0aGlzLnNlZW4uaGFzT3duUHJvcGVydHkoc2x1ZykpO1xuICB9XG4gIHRoaXMuc2VlbltzbHVnXSA9IDA7XG5cbiAgcmV0dXJuIHNsdWc7XG59O1xuXG4vKipcbiAqIEhlbHBlcnNcbiAqL1xuXG5mdW5jdGlvbiBlc2NhcGUoaHRtbCwgZW5jb2RlKSB7XG4gIGlmIChlbmNvZGUpIHtcbiAgICBpZiAoZXNjYXBlLmVzY2FwZVRlc3QudGVzdChodG1sKSkge1xuICAgICAgcmV0dXJuIGh0bWwucmVwbGFjZShlc2NhcGUuZXNjYXBlUmVwbGFjZSwgZnVuY3Rpb24oY2gpIHsgcmV0dXJuIGVzY2FwZS5yZXBsYWNlbWVudHNbY2hdOyB9KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGVzY2FwZS5lc2NhcGVUZXN0Tm9FbmNvZGUudGVzdChodG1sKSkge1xuICAgICAgcmV0dXJuIGh0bWwucmVwbGFjZShlc2NhcGUuZXNjYXBlUmVwbGFjZU5vRW5jb2RlLCBmdW5jdGlvbihjaCkgeyByZXR1cm4gZXNjYXBlLnJlcGxhY2VtZW50c1tjaF07IH0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBodG1sO1xufVxuXG5lc2NhcGUuZXNjYXBlVGVzdCA9IC9bJjw+XCInXS87XG5lc2NhcGUuZXNjYXBlUmVwbGFjZSA9IC9bJjw+XCInXS9nO1xuZXNjYXBlLnJlcGxhY2VtZW50cyA9IHtcbiAgJyYnOiAnJmFtcDsnLFxuICAnPCc6ICcmbHQ7JyxcbiAgJz4nOiAnJmd0OycsXG4gICdcIic6ICcmcXVvdDsnLFxuICBcIidcIjogJyYjMzk7J1xufTtcblxuZXNjYXBlLmVzY2FwZVRlc3ROb0VuY29kZSA9IC9bPD5cIiddfCYoPyEjP1xcdys7KS87XG5lc2NhcGUuZXNjYXBlUmVwbGFjZU5vRW5jb2RlID0gL1s8PlwiJ118Jig/ISM/XFx3KzspL2c7XG5cbmZ1bmN0aW9uIHVuZXNjYXBlKGh0bWwpIHtcbiAgLy8gZXhwbGljaXRseSBtYXRjaCBkZWNpbWFsLCBoZXgsIGFuZCBuYW1lZCBIVE1MIGVudGl0aWVzXG4gIHJldHVybiBodG1sLnJlcGxhY2UoLyYoIyg/OlxcZCspfCg/OiN4WzAtOUEtRmEtZl0rKXwoPzpcXHcrKSk7Py9pZywgZnVuY3Rpb24oXywgbikge1xuICAgIG4gPSBuLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKG4gPT09ICdjb2xvbicpIHJldHVybiAnOic7XG4gICAgaWYgKG4uY2hhckF0KDApID09PSAnIycpIHtcbiAgICAgIHJldHVybiBuLmNoYXJBdCgxKSA9PT0gJ3gnXG4gICAgICAgID8gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChuLnN1YnN0cmluZygyKSwgMTYpKVxuICAgICAgICA6IFN0cmluZy5mcm9tQ2hhckNvZGUoK24uc3Vic3RyaW5nKDEpKTtcbiAgICB9XG4gICAgcmV0dXJuICcnO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gZWRpdChyZWdleCwgb3B0KSB7XG4gIHJlZ2V4ID0gcmVnZXguc291cmNlIHx8IHJlZ2V4O1xuICBvcHQgPSBvcHQgfHwgJyc7XG4gIHJldHVybiB7XG4gICAgcmVwbGFjZTogZnVuY3Rpb24obmFtZSwgdmFsKSB7XG4gICAgICB2YWwgPSB2YWwuc291cmNlIHx8IHZhbDtcbiAgICAgIHZhbCA9IHZhbC5yZXBsYWNlKC8oXnxbXlxcW10pXFxeL2csICckMScpO1xuICAgICAgcmVnZXggPSByZWdleC5yZXBsYWNlKG5hbWUsIHZhbCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIGdldFJlZ2V4OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBuZXcgUmVnRXhwKHJlZ2V4LCBvcHQpO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gY2xlYW5Vcmwoc2FuaXRpemUsIGJhc2UsIGhyZWYpIHtcbiAgaWYgKHNhbml0aXplKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBwcm90ID0gZGVjb2RlVVJJQ29tcG9uZW50KHVuZXNjYXBlKGhyZWYpKVxuICAgICAgICAucmVwbGFjZSgvW15cXHc6XS9nLCAnJylcbiAgICAgICAgLnRvTG93ZXJDYXNlKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChwcm90LmluZGV4T2YoJ2phdmFzY3JpcHQ6JykgPT09IDAgfHwgcHJvdC5pbmRleE9mKCd2YnNjcmlwdDonKSA9PT0gMCB8fCBwcm90LmluZGV4T2YoJ2RhdGE6JykgPT09IDApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuICBpZiAoYmFzZSAmJiAhb3JpZ2luSW5kZXBlbmRlbnRVcmwudGVzdChocmVmKSkge1xuICAgIGhyZWYgPSByZXNvbHZlVXJsKGJhc2UsIGhyZWYpO1xuICB9XG4gIHRyeSB7XG4gICAgaHJlZiA9IGVuY29kZVVSSShocmVmKS5yZXBsYWNlKC8lMjUvZywgJyUnKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBocmVmO1xufVxuXG5mdW5jdGlvbiByZXNvbHZlVXJsKGJhc2UsIGhyZWYpIHtcbiAgaWYgKCFiYXNlVXJsc1snICcgKyBiYXNlXSkge1xuICAgIC8vIHdlIGNhbiBpZ25vcmUgZXZlcnl0aGluZyBpbiBiYXNlIGFmdGVyIHRoZSBsYXN0IHNsYXNoIG9mIGl0cyBwYXRoIGNvbXBvbmVudCxcbiAgICAvLyBidXQgd2UgbWlnaHQgbmVlZCB0byBhZGQgX3RoYXRfXG4gICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM5ODYjc2VjdGlvbi0zXG4gICAgaWYgKC9eW146XSs6XFwvKlteL10qJC8udGVzdChiYXNlKSkge1xuICAgICAgYmFzZVVybHNbJyAnICsgYmFzZV0gPSBiYXNlICsgJy8nO1xuICAgIH0gZWxzZSB7XG4gICAgICBiYXNlVXJsc1snICcgKyBiYXNlXSA9IHJ0cmltKGJhc2UsICcvJywgdHJ1ZSk7XG4gICAgfVxuICB9XG4gIGJhc2UgPSBiYXNlVXJsc1snICcgKyBiYXNlXTtcblxuICBpZiAoaHJlZi5zbGljZSgwLCAyKSA9PT0gJy8vJykge1xuICAgIHJldHVybiBiYXNlLnJlcGxhY2UoLzpbXFxzXFxTXSovLCAnOicpICsgaHJlZjtcbiAgfSBlbHNlIGlmIChocmVmLmNoYXJBdCgwKSA9PT0gJy8nKSB7XG4gICAgcmV0dXJuIGJhc2UucmVwbGFjZSgvKDpcXC8qW14vXSopW1xcc1xcU10qLywgJyQxJykgKyBocmVmO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBiYXNlICsgaHJlZjtcbiAgfVxufVxudmFyIGJhc2VVcmxzID0ge307XG52YXIgb3JpZ2luSW5kZXBlbmRlbnRVcmwgPSAvXiR8XlthLXpdW2EtejAtOSsuLV0qOnxeWz8jXS9pO1xuXG5mdW5jdGlvbiBub29wKCkge31cbm5vb3AuZXhlYyA9IG5vb3A7XG5cbmZ1bmN0aW9uIG1lcmdlKG9iaikge1xuICB2YXIgaSA9IDEsXG4gICAgICB0YXJnZXQsXG4gICAgICBrZXk7XG5cbiAgZm9yICg7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICB0YXJnZXQgPSBhcmd1bWVudHNbaV07XG4gICAgZm9yIChrZXkgaW4gdGFyZ2V0KSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhcmdldCwga2V5KSkge1xuICAgICAgICBvYmpba2V5XSA9IHRhcmdldFtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIHNwbGl0Q2VsbHModGFibGVSb3csIGNvdW50KSB7XG4gIC8vIGVuc3VyZSB0aGF0IGV2ZXJ5IGNlbGwtZGVsaW1pdGluZyBwaXBlIGhhcyBhIHNwYWNlXG4gIC8vIGJlZm9yZSBpdCB0byBkaXN0aW5ndWlzaCBpdCBmcm9tIGFuIGVzY2FwZWQgcGlwZVxuICB2YXIgcm93ID0gdGFibGVSb3cucmVwbGFjZSgvXFx8L2csIGZ1bmN0aW9uKG1hdGNoLCBvZmZzZXQsIHN0cikge1xuICAgICAgICB2YXIgZXNjYXBlZCA9IGZhbHNlLFxuICAgICAgICAgICAgY3VyciA9IG9mZnNldDtcbiAgICAgICAgd2hpbGUgKC0tY3VyciA+PSAwICYmIHN0cltjdXJyXSA9PT0gJ1xcXFwnKSBlc2NhcGVkID0gIWVzY2FwZWQ7XG4gICAgICAgIGlmIChlc2NhcGVkKSB7XG4gICAgICAgICAgLy8gb2RkIG51bWJlciBvZiBzbGFzaGVzIG1lYW5zIHwgaXMgZXNjYXBlZFxuICAgICAgICAgIC8vIHNvIHdlIGxlYXZlIGl0IGFsb25lXG4gICAgICAgICAgcmV0dXJuICd8JztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBhZGQgc3BhY2UgYmVmb3JlIHVuZXNjYXBlZCB8XG4gICAgICAgICAgcmV0dXJuICcgfCc7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgY2VsbHMgPSByb3cuc3BsaXQoLyBcXHwvKSxcbiAgICAgIGkgPSAwO1xuXG4gIGlmIChjZWxscy5sZW5ndGggPiBjb3VudCkge1xuICAgIGNlbGxzLnNwbGljZShjb3VudCk7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKGNlbGxzLmxlbmd0aCA8IGNvdW50KSBjZWxscy5wdXNoKCcnKTtcbiAgfVxuXG4gIGZvciAoOyBpIDwgY2VsbHMubGVuZ3RoOyBpKyspIHtcbiAgICAvLyBsZWFkaW5nIG9yIHRyYWlsaW5nIHdoaXRlc3BhY2UgaXMgaWdub3JlZCBwZXIgdGhlIGdmbSBzcGVjXG4gICAgY2VsbHNbaV0gPSBjZWxsc1tpXS50cmltKCkucmVwbGFjZSgvXFxcXFxcfC9nLCAnfCcpO1xuICB9XG4gIHJldHVybiBjZWxscztcbn1cblxuLy8gUmVtb3ZlIHRyYWlsaW5nICdjJ3MuIEVxdWl2YWxlbnQgdG8gc3RyLnJlcGxhY2UoL2MqJC8sICcnKS5cbi8vIC9jKiQvIGlzIHZ1bG5lcmFibGUgdG8gUkVET1MuXG4vLyBpbnZlcnQ6IFJlbW92ZSBzdWZmaXggb2Ygbm9uLWMgY2hhcnMgaW5zdGVhZC4gRGVmYXVsdCBmYWxzZXkuXG5mdW5jdGlvbiBydHJpbShzdHIsIGMsIGludmVydCkge1xuICBpZiAoc3RyLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIC8vIExlbmd0aCBvZiBzdWZmaXggbWF0Y2hpbmcgdGhlIGludmVydCBjb25kaXRpb24uXG4gIHZhciBzdWZmTGVuID0gMDtcblxuICAvLyBTdGVwIGxlZnQgdW50aWwgd2UgZmFpbCB0byBtYXRjaCB0aGUgaW52ZXJ0IGNvbmRpdGlvbi5cbiAgd2hpbGUgKHN1ZmZMZW4gPCBzdHIubGVuZ3RoKSB7XG4gICAgdmFyIGN1cnJDaGFyID0gc3RyLmNoYXJBdChzdHIubGVuZ3RoIC0gc3VmZkxlbiAtIDEpO1xuICAgIGlmIChjdXJyQ2hhciA9PT0gYyAmJiAhaW52ZXJ0KSB7XG4gICAgICBzdWZmTGVuKys7XG4gICAgfSBlbHNlIGlmIChjdXJyQ2hhciAhPT0gYyAmJiBpbnZlcnQpIHtcbiAgICAgIHN1ZmZMZW4rKztcbiAgICB9IGVsc2Uge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHN0ci5zdWJzdHIoMCwgc3RyLmxlbmd0aCAtIHN1ZmZMZW4pO1xufVxuXG5mdW5jdGlvbiBmaW5kQ2xvc2luZ0JyYWNrZXQoc3RyLCBiKSB7XG4gIGlmIChzdHIuaW5kZXhPZihiWzFdKSA9PT0gLTEpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cbiAgdmFyIGxldmVsID0gMDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3RyW2ldID09PSAnXFxcXCcpIHtcbiAgICAgIGkrKztcbiAgICB9IGVsc2UgaWYgKHN0cltpXSA9PT0gYlswXSkge1xuICAgICAgbGV2ZWwrKztcbiAgICB9IGVsc2UgaWYgKHN0cltpXSA9PT0gYlsxXSkge1xuICAgICAgbGV2ZWwtLTtcbiAgICAgIGlmIChsZXZlbCA8IDApIHtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxuZnVuY3Rpb24gY2hlY2tTYW5pdGl6ZURlcHJlY2F0aW9uKG9wdCkge1xuICBpZiAob3B0ICYmIG9wdC5zYW5pdGl6ZSAmJiAhb3B0LnNpbGVudCkge1xuICAgIGNvbnNvbGUud2FybignbWFya2VkKCk6IHNhbml0aXplIGFuZCBzYW5pdGl6ZXIgcGFyYW1ldGVycyBhcmUgZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDAuNy4wLCBzaG91bGQgbm90IGJlIHVzZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLiBSZWFkIG1vcmUgaGVyZTogaHR0cHM6Ly9tYXJrZWQuanMub3JnLyMvVVNJTkdfQURWQU5DRUQubWQjb3B0aW9ucycpO1xuICB9XG59XG5cbi8qKlxuICogTWFya2VkXG4gKi9cblxuZnVuY3Rpb24gbWFya2VkKHNyYywgb3B0LCBjYWxsYmFjaykge1xuICAvLyB0aHJvdyBlcnJvciBpbiBjYXNlIG9mIG5vbiBzdHJpbmcgaW5wdXRcbiAgaWYgKHR5cGVvZiBzcmMgPT09ICd1bmRlZmluZWQnIHx8IHNyYyA9PT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBFcnJvcignbWFya2VkKCk6IGlucHV0IHBhcmFtZXRlciBpcyB1bmRlZmluZWQgb3IgbnVsbCcpO1xuICB9XG4gIGlmICh0eXBlb2Ygc3JjICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBFcnJvcignbWFya2VkKCk6IGlucHV0IHBhcmFtZXRlciBpcyBvZiB0eXBlICdcbiAgICAgICsgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHNyYykgKyAnLCBzdHJpbmcgZXhwZWN0ZWQnKTtcbiAgfVxuXG4gIGlmIChjYWxsYmFjayB8fCB0eXBlb2Ygb3B0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaWYgKCFjYWxsYmFjaykge1xuICAgICAgY2FsbGJhY2sgPSBvcHQ7XG4gICAgICBvcHQgPSBudWxsO1xuICAgIH1cblxuICAgIG9wdCA9IG1lcmdlKHt9LCBtYXJrZWQuZGVmYXVsdHMsIG9wdCB8fCB7fSk7XG4gICAgY2hlY2tTYW5pdGl6ZURlcHJlY2F0aW9uKG9wdCk7XG5cbiAgICB2YXIgaGlnaGxpZ2h0ID0gb3B0LmhpZ2hsaWdodCxcbiAgICAgICAgdG9rZW5zLFxuICAgICAgICBwZW5kaW5nLFxuICAgICAgICBpID0gMDtcblxuICAgIHRyeSB7XG4gICAgICB0b2tlbnMgPSBMZXhlci5sZXgoc3JjLCBvcHQpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhlKTtcbiAgICB9XG5cbiAgICBwZW5kaW5nID0gdG9rZW5zLmxlbmd0aDtcblxuICAgIHZhciBkb25lID0gZnVuY3Rpb24oZXJyKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIG9wdC5oaWdobGlnaHQgPSBoaWdobGlnaHQ7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgfVxuXG4gICAgICB2YXIgb3V0O1xuXG4gICAgICB0cnkge1xuICAgICAgICBvdXQgPSBQYXJzZXIucGFyc2UodG9rZW5zLCBvcHQpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBlcnIgPSBlO1xuICAgICAgfVxuXG4gICAgICBvcHQuaGlnaGxpZ2h0ID0gaGlnaGxpZ2h0O1xuXG4gICAgICByZXR1cm4gZXJyXG4gICAgICAgID8gY2FsbGJhY2soZXJyKVxuICAgICAgICA6IGNhbGxiYWNrKG51bGwsIG91dCk7XG4gICAgfTtcblxuICAgIGlmICghaGlnaGxpZ2h0IHx8IGhpZ2hsaWdodC5sZW5ndGggPCAzKSB7XG4gICAgICByZXR1cm4gZG9uZSgpO1xuICAgIH1cblxuICAgIGRlbGV0ZSBvcHQuaGlnaGxpZ2h0O1xuXG4gICAgaWYgKCFwZW5kaW5nKSByZXR1cm4gZG9uZSgpO1xuXG4gICAgZm9yICg7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIChmdW5jdGlvbih0b2tlbikge1xuICAgICAgICBpZiAodG9rZW4udHlwZSAhPT0gJ2NvZGUnKSB7XG4gICAgICAgICAgcmV0dXJuIC0tcGVuZGluZyB8fCBkb25lKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhpZ2hsaWdodCh0b2tlbi50ZXh0LCB0b2tlbi5sYW5nLCBmdW5jdGlvbihlcnIsIGNvZGUpIHtcbiAgICAgICAgICBpZiAoZXJyKSByZXR1cm4gZG9uZShlcnIpO1xuICAgICAgICAgIGlmIChjb2RlID09IG51bGwgfHwgY29kZSA9PT0gdG9rZW4udGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIC0tcGVuZGluZyB8fCBkb25lKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRva2VuLnRleHQgPSBjb2RlO1xuICAgICAgICAgIHRva2VuLmVzY2FwZWQgPSB0cnVlO1xuICAgICAgICAgIC0tcGVuZGluZyB8fCBkb25lKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSkodG9rZW5zW2ldKTtcbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH1cbiAgdHJ5IHtcbiAgICBpZiAob3B0KSBvcHQgPSBtZXJnZSh7fSwgbWFya2VkLmRlZmF1bHRzLCBvcHQpO1xuICAgIGNoZWNrU2FuaXRpemVEZXByZWNhdGlvbihvcHQpO1xuICAgIHJldHVybiBQYXJzZXIucGFyc2UoTGV4ZXIubGV4KHNyYywgb3B0KSwgb3B0KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGUubWVzc2FnZSArPSAnXFxuUGxlYXNlIHJlcG9ydCB0aGlzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXJrZWRqcy9tYXJrZWQuJztcbiAgICBpZiAoKG9wdCB8fCBtYXJrZWQuZGVmYXVsdHMpLnNpbGVudCkge1xuICAgICAgcmV0dXJuICc8cD5BbiBlcnJvciBvY2N1cnJlZDo8L3A+PHByZT4nXG4gICAgICAgICsgZXNjYXBlKGUubWVzc2FnZSArICcnLCB0cnVlKVxuICAgICAgICArICc8L3ByZT4nO1xuICAgIH1cbiAgICB0aHJvdyBlO1xuICB9XG59XG5cbi8qKlxuICogT3B0aW9uc1xuICovXG5cbm1hcmtlZC5vcHRpb25zID1cbm1hcmtlZC5zZXRPcHRpb25zID0gZnVuY3Rpb24ob3B0KSB7XG4gIG1lcmdlKG1hcmtlZC5kZWZhdWx0cywgb3B0KTtcbiAgcmV0dXJuIG1hcmtlZDtcbn07XG5cbm1hcmtlZC5nZXREZWZhdWx0cyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIGJhc2VVcmw6IG51bGwsXG4gICAgYnJlYWtzOiBmYWxzZSxcbiAgICBnZm06IHRydWUsXG4gICAgaGVhZGVySWRzOiB0cnVlLFxuICAgIGhlYWRlclByZWZpeDogJycsXG4gICAgaGlnaGxpZ2h0OiBudWxsLFxuICAgIGxhbmdQcmVmaXg6ICdsYW5ndWFnZS0nLFxuICAgIG1hbmdsZTogdHJ1ZSxcbiAgICBwZWRhbnRpYzogZmFsc2UsXG4gICAgcmVuZGVyZXI6IG5ldyBSZW5kZXJlcigpLFxuICAgIHNhbml0aXplOiBmYWxzZSxcbiAgICBzYW5pdGl6ZXI6IG51bGwsXG4gICAgc2lsZW50OiBmYWxzZSxcbiAgICBzbWFydExpc3RzOiBmYWxzZSxcbiAgICBzbWFydHlwYW50czogZmFsc2UsXG4gICAgeGh0bWw6IGZhbHNlXG4gIH07XG59O1xuXG5tYXJrZWQuZGVmYXVsdHMgPSBtYXJrZWQuZ2V0RGVmYXVsdHMoKTtcblxuLyoqXG4gKiBFeHBvc2VcbiAqL1xuXG5tYXJrZWQuUGFyc2VyID0gUGFyc2VyO1xubWFya2VkLnBhcnNlciA9IFBhcnNlci5wYXJzZTtcblxubWFya2VkLlJlbmRlcmVyID0gUmVuZGVyZXI7XG5tYXJrZWQuVGV4dFJlbmRlcmVyID0gVGV4dFJlbmRlcmVyO1xuXG5tYXJrZWQuTGV4ZXIgPSBMZXhlcjtcbm1hcmtlZC5sZXhlciA9IExleGVyLmxleDtcblxubWFya2VkLklubGluZUxleGVyID0gSW5saW5lTGV4ZXI7XG5tYXJrZWQuaW5saW5lTGV4ZXIgPSBJbmxpbmVMZXhlci5vdXRwdXQ7XG5cbm1hcmtlZC5TbHVnZ2VyID0gU2x1Z2dlcjtcblxubWFya2VkLnBhcnNlID0gbWFya2VkO1xuXG5pZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gbWFya2VkO1xufSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgZGVmaW5lKGZ1bmN0aW9uKCkgeyByZXR1cm4gbWFya2VkOyB9KTtcbn0gZWxzZSB7XG4gIHJvb3QubWFya2VkID0gbWFya2VkO1xufVxufSkodGhpcyB8fCAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiBnbG9iYWwpKTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cblxuLyoqXG4gKiBAbW9kdWxlIGxpdC1odG1sXG4gKi9cblxuaW1wb3J0IHtQYXJ0fSBmcm9tICcuL3BhcnQuanMnO1xuXG5jb25zdCBkaXJlY3RpdmVzID0gbmV3IFdlYWtNYXA8b2JqZWN0LCB0cnVlPigpO1xuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG5leHBvcnQgdHlwZSBEaXJlY3RpdmVGYWN0b3J5ID0gKC4uLmFyZ3M6IGFueVtdKSA9PiBvYmplY3Q7XG5cbmV4cG9ydCB0eXBlIERpcmVjdGl2ZUZuID0gKHBhcnQ6IFBhcnQpID0+IHZvaWQ7XG5cbi8qKlxuICogQnJhbmRzIGEgZnVuY3Rpb24gYXMgYSBkaXJlY3RpdmUgZmFjdG9yeSBmdW5jdGlvbiBzbyB0aGF0IGxpdC1odG1sIHdpbGwgY2FsbFxuICogdGhlIGZ1bmN0aW9uIGR1cmluZyB0ZW1wbGF0ZSByZW5kZXJpbmcsIHJhdGhlciB0aGFuIHBhc3NpbmcgYXMgYSB2YWx1ZS5cbiAqXG4gKiBBIF9kaXJlY3RpdmVfIGlzIGEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIFBhcnQgYXMgYW4gYXJndW1lbnQuIEl0IGhhcyB0aGVcbiAqIHNpZ25hdHVyZTogYChwYXJ0OiBQYXJ0KSA9PiB2b2lkYC5cbiAqXG4gKiBBIGRpcmVjdGl2ZSBfZmFjdG9yeV8gaXMgYSBmdW5jdGlvbiB0aGF0IHRha2VzIGFyZ3VtZW50cyBmb3IgZGF0YSBhbmRcbiAqIGNvbmZpZ3VyYXRpb24gYW5kIHJldHVybnMgYSBkaXJlY3RpdmUuIFVzZXJzIG9mIGRpcmVjdGl2ZSB1c3VhbGx5IHJlZmVyIHRvXG4gKiB0aGUgZGlyZWN0aXZlIGZhY3RvcnkgYXMgdGhlIGRpcmVjdGl2ZS4gRm9yIGV4YW1wbGUsIFwiVGhlIHJlcGVhdCBkaXJlY3RpdmVcIi5cbiAqXG4gKiBVc3VhbGx5IGEgdGVtcGxhdGUgYXV0aG9yIHdpbGwgaW52b2tlIGEgZGlyZWN0aXZlIGZhY3RvcnkgaW4gdGhlaXIgdGVtcGxhdGVcbiAqIHdpdGggcmVsZXZhbnQgYXJndW1lbnRzLCB3aGljaCB3aWxsIHRoZW4gcmV0dXJuIGEgZGlyZWN0aXZlIGZ1bmN0aW9uLlxuICpcbiAqIEhlcmUncyBhbiBleGFtcGxlIG9mIHVzaW5nIHRoZSBgcmVwZWF0KClgIGRpcmVjdGl2ZSBmYWN0b3J5IHRoYXQgdGFrZXMgYW5cbiAqIGFycmF5IGFuZCBhIGZ1bmN0aW9uIHRvIHJlbmRlciBhbiBpdGVtOlxuICpcbiAqIGBgYGpzXG4gKiBodG1sYDx1bD48JHtyZXBlYXQoaXRlbXMsIChpdGVtKSA9PiBodG1sYDxsaT4ke2l0ZW19PC9saT5gKX08L3VsPmBcbiAqIGBgYFxuICpcbiAqIFdoZW4gYHJlcGVhdGAgaXMgaW52b2tlZCwgaXQgcmV0dXJucyBhIGRpcmVjdGl2ZSBmdW5jdGlvbiB0aGF0IGNsb3NlcyBvdmVyXG4gKiBgaXRlbXNgIGFuZCB0aGUgdGVtcGxhdGUgZnVuY3Rpb24uIFdoZW4gdGhlIG91dGVyIHRlbXBsYXRlIGlzIHJlbmRlcmVkLCB0aGVcbiAqIHJldHVybiBkaXJlY3RpdmUgZnVuY3Rpb24gaXMgY2FsbGVkIHdpdGggdGhlIFBhcnQgZm9yIHRoZSBleHByZXNzaW9uLlxuICogYHJlcGVhdGAgdGhlbiBwZXJmb3JtcyBpdCdzIGN1c3RvbSBsb2dpYyB0byByZW5kZXIgbXVsdGlwbGUgaXRlbXMuXG4gKlxuICogQHBhcmFtIGYgVGhlIGRpcmVjdGl2ZSBmYWN0b3J5IGZ1bmN0aW9uLiBNdXN0IGJlIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFcbiAqIGZ1bmN0aW9uIG9mIHRoZSBzaWduYXR1cmUgYChwYXJ0OiBQYXJ0KSA9PiB2b2lkYC4gVGhlIHJldHVybmVkIGZ1bmN0aW9uIHdpbGxcbiAqIGJlIGNhbGxlZCB3aXRoIHRoZSBwYXJ0IG9iamVjdC5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGltcG9ydCB7ZGlyZWN0aXZlLCBodG1sfSBmcm9tICdsaXQtaHRtbCc7XG4gKlxuICogY29uc3QgaW1tdXRhYmxlID0gZGlyZWN0aXZlKCh2KSA9PiAocGFydCkgPT4ge1xuICogICBpZiAocGFydC52YWx1ZSAhPT0gdikge1xuICogICAgIHBhcnQuc2V0VmFsdWUodilcbiAqICAgfVxuICogfSk7XG4gKi9cbmV4cG9ydCBjb25zdCBkaXJlY3RpdmUgPSA8RiBleHRlbmRzIERpcmVjdGl2ZUZhY3Rvcnk+KGY6IEYpOiBGID0+XG4gICAgKCguLi5hcmdzOiB1bmtub3duW10pID0+IHtcbiAgICAgIGNvbnN0IGQgPSBmKC4uLmFyZ3MpO1xuICAgICAgZGlyZWN0aXZlcy5zZXQoZCwgdHJ1ZSk7XG4gICAgICByZXR1cm4gZDtcbiAgICB9KSBhcyBGO1xuXG5leHBvcnQgY29uc3QgaXNEaXJlY3RpdmUgPSAobzogdW5rbm93bik6IG8gaXMgRGlyZWN0aXZlRm4gPT4ge1xuICByZXR1cm4gdHlwZW9mIG8gPT09ICdmdW5jdGlvbicgJiYgZGlyZWN0aXZlcy5oYXMobyk7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuXG4vKipcbiAqIEBtb2R1bGUgbGl0LWh0bWxcbiAqL1xuXG5pbnRlcmZhY2UgTWF5YmVQb2x5ZmlsbGVkQ2UgZXh0ZW5kcyBDdXN0b21FbGVtZW50UmVnaXN0cnkge1xuICByZWFkb25seSBwb2x5ZmlsbFdyYXBGbHVzaENhbGxiYWNrPzogb2JqZWN0O1xufVxuXG4vKipcbiAqIFRydWUgaWYgdGhlIGN1c3RvbSBlbGVtZW50cyBwb2x5ZmlsbCBpcyBpbiB1c2UuXG4gKi9cbmV4cG9ydCBjb25zdCBpc0NFUG9seWZpbGwgPSB3aW5kb3cuY3VzdG9tRWxlbWVudHMgIT09IHVuZGVmaW5lZCAmJlxuICAgICh3aW5kb3cuY3VzdG9tRWxlbWVudHMgYXMgTWF5YmVQb2x5ZmlsbGVkQ2UpLnBvbHlmaWxsV3JhcEZsdXNoQ2FsbGJhY2sgIT09XG4gICAgICAgIHVuZGVmaW5lZDtcblxuLyoqXG4gKiBSZXBhcmVudHMgbm9kZXMsIHN0YXJ0aW5nIGZyb20gYHN0YXJ0YCAoaW5jbHVzaXZlKSB0byBgZW5kYCAoZXhjbHVzaXZlKSxcbiAqIGludG8gYW5vdGhlciBjb250YWluZXIgKGNvdWxkIGJlIHRoZSBzYW1lIGNvbnRhaW5lciksIGJlZm9yZSBgYmVmb3JlYC4gSWZcbiAqIGBiZWZvcmVgIGlzIG51bGwsIGl0IGFwcGVuZHMgdGhlIG5vZGVzIHRvIHRoZSBjb250YWluZXIuXG4gKi9cbmV4cG9ydCBjb25zdCByZXBhcmVudE5vZGVzID1cbiAgICAoY29udGFpbmVyOiBOb2RlLFxuICAgICBzdGFydDogTm9kZXxudWxsLFxuICAgICBlbmQ6IE5vZGV8bnVsbCA9IG51bGwsXG4gICAgIGJlZm9yZTogTm9kZXxudWxsID0gbnVsbCk6IHZvaWQgPT4ge1xuICAgICAgd2hpbGUgKHN0YXJ0ICE9PSBlbmQpIHtcbiAgICAgICAgY29uc3QgbiA9IHN0YXJ0IS5uZXh0U2libGluZztcbiAgICAgICAgY29udGFpbmVyLmluc2VydEJlZm9yZShzdGFydCEsIGJlZm9yZSk7XG4gICAgICAgIHN0YXJ0ID0gbjtcbiAgICAgIH1cbiAgICB9O1xuXG4vKipcbiAqIFJlbW92ZXMgbm9kZXMsIHN0YXJ0aW5nIGZyb20gYHN0YXJ0YCAoaW5jbHVzaXZlKSB0byBgZW5kYCAoZXhjbHVzaXZlKSwgZnJvbVxuICogYGNvbnRhaW5lcmAuXG4gKi9cbmV4cG9ydCBjb25zdCByZW1vdmVOb2RlcyA9XG4gICAgKGNvbnRhaW5lcjogTm9kZSwgc3RhcnQ6IE5vZGV8bnVsbCwgZW5kOiBOb2RlfG51bGwgPSBudWxsKTogdm9pZCA9PiB7XG4gICAgICB3aGlsZSAoc3RhcnQgIT09IGVuZCkge1xuICAgICAgICBjb25zdCBuID0gc3RhcnQhLm5leHRTaWJsaW5nO1xuICAgICAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQoc3RhcnQhKTtcbiAgICAgICAgc3RhcnQgPSBuO1xuICAgICAgfVxuICAgIH07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTggVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5cbi8qKlxuICogVGhlIFBhcnQgaW50ZXJmYWNlIHJlcHJlc2VudHMgYSBkeW5hbWljIHBhcnQgb2YgYSB0ZW1wbGF0ZSBpbnN0YW5jZSByZW5kZXJlZFxuICogYnkgbGl0LWh0bWwuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGFydCB7XG4gIHJlYWRvbmx5IHZhbHVlOiB1bmtub3duO1xuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBjdXJyZW50IHBhcnQgdmFsdWUsIGJ1dCBkb2VzIG5vdCB3cml0ZSBpdCB0byB0aGUgRE9NLlxuICAgKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRoYXQgd2lsbCBiZSBjb21taXR0ZWQuXG4gICAqL1xuICBzZXRWYWx1ZSh2YWx1ZTogdW5rbm93bik6IHZvaWQ7XG5cbiAgLyoqXG4gICAqIENvbW1pdHMgdGhlIGN1cnJlbnQgcGFydCB2YWx1ZSwgY2F1c2luZyBpdCB0byBhY3R1YWxseSBiZSB3cml0dGVuIHRvIHRoZVxuICAgKiBET00uXG4gICAqXG4gICAqIERpcmVjdGl2ZXMgYXJlIHJ1biBhdCB0aGUgc3RhcnQgb2YgYGNvbW1pdGAsIHNvIHRoYXQgaWYgdGhleSBjYWxsXG4gICAqIGBwYXJ0LnNldFZhbHVlKC4uLilgIHN5bmNocm9ub3VzbHkgdGhhdCB2YWx1ZSB3aWxsIGJlIHVzZWQgaW4gdGhlIGN1cnJlbnRcbiAgICogY29tbWl0LCBhbmQgdGhlcmUncyBubyBuZWVkIHRvIGNhbGwgYHBhcnQuY29tbWl0KClgIHdpdGhpbiB0aGUgZGlyZWN0aXZlLlxuICAgKiBJZiBkaXJlY3RpdmVzIHNldCBhIHBhcnQgdmFsdWUgYXN5bmNocm9ub3VzbHksIHRoZW4gdGhleSBtdXN0IGNhbGxcbiAgICogYHBhcnQuY29tbWl0KClgIG1hbnVhbGx5LlxuICAgKi9cbiAgY29tbWl0KCk6IHZvaWQ7XG59XG5cbi8qKlxuICogQSBzZW50aW5lbCB2YWx1ZSB0aGF0IHNpZ25hbHMgdGhhdCBhIHZhbHVlIHdhcyBoYW5kbGVkIGJ5IGEgZGlyZWN0aXZlIGFuZFxuICogc2hvdWxkIG5vdCBiZSB3cml0dGVuIHRvIHRoZSBET00uXG4gKi9cbmV4cG9ydCBjb25zdCBub0NoYW5nZSA9IHt9O1xuXG4vKipcbiAqIEEgc2VudGluZWwgdmFsdWUgdGhhdCBzaWduYWxzIGEgTm9kZVBhcnQgdG8gZnVsbHkgY2xlYXIgaXRzIGNvbnRlbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBub3RoaW5nID0ge307XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5cbmltcG9ydCB7VGVtcGxhdGVSZXN1bHR9IGZyb20gJy4vdGVtcGxhdGUtcmVzdWx0LmpzJztcblxuLyoqXG4gKiBBbiBleHByZXNzaW9uIG1hcmtlciB3aXRoIGVtYmVkZGVkIHVuaXF1ZSBrZXkgdG8gYXZvaWQgY29sbGlzaW9uIHdpdGhcbiAqIHBvc3NpYmxlIHRleHQgaW4gdGVtcGxhdGVzLlxuICovXG5leHBvcnQgY29uc3QgbWFya2VyID0gYHt7bGl0LSR7U3RyaW5nKE1hdGgucmFuZG9tKCkpLnNsaWNlKDIpfX19YDtcblxuLyoqXG4gKiBBbiBleHByZXNzaW9uIG1hcmtlciB1c2VkIHRleHQtcG9zaXRpb25zLCBtdWx0aS1iaW5kaW5nIGF0dHJpYnV0ZXMsIGFuZFxuICogYXR0cmlidXRlcyB3aXRoIG1hcmt1cC1saWtlIHRleHQgdmFsdWVzLlxuICovXG5leHBvcnQgY29uc3Qgbm9kZU1hcmtlciA9IGA8IS0tJHttYXJrZXJ9LS0+YDtcblxuZXhwb3J0IGNvbnN0IG1hcmtlclJlZ2V4ID0gbmV3IFJlZ0V4cChgJHttYXJrZXJ9fCR7bm9kZU1hcmtlcn1gKTtcblxuLyoqXG4gKiBTdWZmaXggYXBwZW5kZWQgdG8gYWxsIGJvdW5kIGF0dHJpYnV0ZSBuYW1lcy5cbiAqL1xuZXhwb3J0IGNvbnN0IGJvdW5kQXR0cmlidXRlU3VmZml4ID0gJyRsaXQkJztcblxuLyoqXG4gKiBBbiB1cGRhdGVhYmxlIFRlbXBsYXRlIHRoYXQgdHJhY2tzIHRoZSBsb2NhdGlvbiBvZiBkeW5hbWljIHBhcnRzLlxuICovXG5leHBvcnQgY2xhc3MgVGVtcGxhdGUge1xuICByZWFkb25seSBwYXJ0czogVGVtcGxhdGVQYXJ0W10gPSBbXTtcbiAgcmVhZG9ubHkgZWxlbWVudDogSFRNTFRlbXBsYXRlRWxlbWVudDtcblxuICBjb25zdHJ1Y3RvcihyZXN1bHQ6IFRlbXBsYXRlUmVzdWx0LCBlbGVtZW50OiBIVE1MVGVtcGxhdGVFbGVtZW50KSB7XG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcblxuICAgIGNvbnN0IG5vZGVzVG9SZW1vdmU6IE5vZGVbXSA9IFtdO1xuICAgIGNvbnN0IHN0YWNrOiBOb2RlW10gPSBbXTtcbiAgICAvLyBFZGdlIG5lZWRzIGFsbCA0IHBhcmFtZXRlcnMgcHJlc2VudDsgSUUxMSBuZWVkcyAzcmQgcGFyYW1ldGVyIHRvIGJlIG51bGxcbiAgICBjb25zdCB3YWxrZXIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKFxuICAgICAgICBlbGVtZW50LmNvbnRlbnQsXG4gICAgICAgIDEzMyAvKiBOb2RlRmlsdGVyLlNIT1dfe0VMRU1FTlR8Q09NTUVOVHxURVhUfSAqLyxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgZmFsc2UpO1xuICAgIC8vIEtlZXBzIHRyYWNrIG9mIHRoZSBsYXN0IGluZGV4IGFzc29jaWF0ZWQgd2l0aCBhIHBhcnQuIFdlIHRyeSB0byBkZWxldGVcbiAgICAvLyB1bm5lY2Vzc2FyeSBub2RlcywgYnV0IHdlIG5ldmVyIHdhbnQgdG8gYXNzb2NpYXRlIHR3byBkaWZmZXJlbnQgcGFydHNcbiAgICAvLyB0byB0aGUgc2FtZSBpbmRleC4gVGhleSBtdXN0IGhhdmUgYSBjb25zdGFudCBub2RlIGJldHdlZW4uXG4gICAgbGV0IGxhc3RQYXJ0SW5kZXggPSAwO1xuICAgIGxldCBpbmRleCA9IC0xO1xuICAgIGxldCBwYXJ0SW5kZXggPSAwO1xuICAgIGNvbnN0IHtzdHJpbmdzLCB2YWx1ZXM6IHtsZW5ndGh9fSA9IHJlc3VsdDtcbiAgICB3aGlsZSAocGFydEluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBjb25zdCBub2RlID0gd2Fsa2VyLm5leHROb2RlKCkgYXMgRWxlbWVudCB8IENvbW1lbnQgfCBUZXh0IHwgbnVsbDtcbiAgICAgIGlmIChub2RlID09PSBudWxsKSB7XG4gICAgICAgIC8vIFdlJ3ZlIGV4aGF1c3RlZCB0aGUgY29udGVudCBpbnNpZGUgYSBuZXN0ZWQgdGVtcGxhdGUgZWxlbWVudC5cbiAgICAgICAgLy8gQmVjYXVzZSB3ZSBzdGlsbCBoYXZlIHBhcnRzICh0aGUgb3V0ZXIgZm9yLWxvb3ApLCB3ZSBrbm93OlxuICAgICAgICAvLyAtIFRoZXJlIGlzIGEgdGVtcGxhdGUgaW4gdGhlIHN0YWNrXG4gICAgICAgIC8vIC0gVGhlIHdhbGtlciB3aWxsIGZpbmQgYSBuZXh0Tm9kZSBvdXRzaWRlIHRoZSB0ZW1wbGF0ZVxuICAgICAgICB3YWxrZXIuY3VycmVudE5vZGUgPSBzdGFjay5wb3AoKSE7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaW5kZXgrKztcblxuICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDEgLyogTm9kZS5FTEVNRU5UX05PREUgKi8pIHtcbiAgICAgICAgaWYgKChub2RlIGFzIEVsZW1lbnQpLmhhc0F0dHJpYnV0ZXMoKSkge1xuICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSAobm9kZSBhcyBFbGVtZW50KS5hdHRyaWJ1dGVzO1xuICAgICAgICAgIGNvbnN0IHtsZW5ndGh9ID0gYXR0cmlidXRlcztcbiAgICAgICAgICAvLyBQZXJcbiAgICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTmFtZWROb2RlTWFwLFxuICAgICAgICAgIC8vIGF0dHJpYnV0ZXMgYXJlIG5vdCBndWFyYW50ZWVkIHRvIGJlIHJldHVybmVkIGluIGRvY3VtZW50IG9yZGVyLlxuICAgICAgICAgIC8vIEluIHBhcnRpY3VsYXIsIEVkZ2UvSUUgY2FuIHJldHVybiB0aGVtIG91dCBvZiBvcmRlciwgc28gd2UgY2Fubm90XG4gICAgICAgICAgLy8gYXNzdW1lIGEgY29ycmVzcG9uZGVuY2UgYmV0d2VlbiBwYXJ0IGluZGV4IGFuZCBhdHRyaWJ1dGUgaW5kZXguXG4gICAgICAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZW5kc1dpdGgoYXR0cmlidXRlc1tpXS5uYW1lLCBib3VuZEF0dHJpYnV0ZVN1ZmZpeCkpIHtcbiAgICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgd2hpbGUgKGNvdW50LS0gPiAwKSB7XG4gICAgICAgICAgICAvLyBHZXQgdGhlIHRlbXBsYXRlIGxpdGVyYWwgc2VjdGlvbiBsZWFkaW5nIHVwIHRvIHRoZSBmaXJzdFxuICAgICAgICAgICAgLy8gZXhwcmVzc2lvbiBpbiB0aGlzIGF0dHJpYnV0ZVxuICAgICAgICAgICAgY29uc3Qgc3RyaW5nRm9yUGFydCA9IHN0cmluZ3NbcGFydEluZGV4XTtcbiAgICAgICAgICAgIC8vIEZpbmQgdGhlIGF0dHJpYnV0ZSBuYW1lXG4gICAgICAgICAgICBjb25zdCBuYW1lID0gbGFzdEF0dHJpYnV0ZU5hbWVSZWdleC5leGVjKHN0cmluZ0ZvclBhcnQpIVsyXTtcbiAgICAgICAgICAgIC8vIEZpbmQgdGhlIGNvcnJlc3BvbmRpbmcgYXR0cmlidXRlXG4gICAgICAgICAgICAvLyBBbGwgYm91bmQgYXR0cmlidXRlcyBoYXZlIGhhZCBhIHN1ZmZpeCBhZGRlZCBpblxuICAgICAgICAgICAgLy8gVGVtcGxhdGVSZXN1bHQjZ2V0SFRNTCB0byBvcHQgb3V0IG9mIHNwZWNpYWwgYXR0cmlidXRlXG4gICAgICAgICAgICAvLyBoYW5kbGluZy4gVG8gbG9vayB1cCB0aGUgYXR0cmlidXRlIHZhbHVlIHdlIGFsc28gbmVlZCB0byBhZGRcbiAgICAgICAgICAgIC8vIHRoZSBzdWZmaXguXG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVMb29rdXBOYW1lID1cbiAgICAgICAgICAgICAgICBuYW1lLnRvTG93ZXJDYXNlKCkgKyBib3VuZEF0dHJpYnV0ZVN1ZmZpeDtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZVZhbHVlID1cbiAgICAgICAgICAgICAgICAobm9kZSBhcyBFbGVtZW50KS5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlTG9va3VwTmFtZSkhO1xuICAgICAgICAgICAgKG5vZGUgYXMgRWxlbWVudCkucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZUxvb2t1cE5hbWUpO1xuICAgICAgICAgICAgY29uc3Qgc3RhdGljcyA9IGF0dHJpYnV0ZVZhbHVlLnNwbGl0KG1hcmtlclJlZ2V4KTtcbiAgICAgICAgICAgIHRoaXMucGFydHMucHVzaCh7dHlwZTogJ2F0dHJpYnV0ZScsIGluZGV4LCBuYW1lLCBzdHJpbmdzOiBzdGF0aWNzfSk7XG4gICAgICAgICAgICBwYXJ0SW5kZXggKz0gc3RhdGljcy5sZW5ndGggLSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoKG5vZGUgYXMgRWxlbWVudCkudGFnTmFtZSA9PT0gJ1RFTVBMQVRFJykge1xuICAgICAgICAgIHN0YWNrLnB1c2gobm9kZSk7XG4gICAgICAgICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gKG5vZGUgYXMgSFRNTFRlbXBsYXRlRWxlbWVudCkuY29udGVudDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChub2RlLm5vZGVUeXBlID09PSAzIC8qIE5vZGUuVEVYVF9OT0RFICovKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSAobm9kZSBhcyBUZXh0KS5kYXRhO1xuICAgICAgICBpZiAoZGF0YS5pbmRleE9mKG1hcmtlcikgPj0gMCkge1xuICAgICAgICAgIGNvbnN0IHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZSE7XG4gICAgICAgICAgY29uc3Qgc3RyaW5ncyA9IGRhdGEuc3BsaXQobWFya2VyUmVnZXgpO1xuICAgICAgICAgIGNvbnN0IGxhc3RJbmRleCA9IHN0cmluZ3MubGVuZ3RoIC0gMTtcbiAgICAgICAgICAvLyBHZW5lcmF0ZSBhIG5ldyB0ZXh0IG5vZGUgZm9yIGVhY2ggbGl0ZXJhbCBzZWN0aW9uXG4gICAgICAgICAgLy8gVGhlc2Ugbm9kZXMgYXJlIGFsc28gdXNlZCBhcyB0aGUgbWFya2VycyBmb3Igbm9kZSBwYXJ0c1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGFzdEluZGV4OyBpKyspIHtcbiAgICAgICAgICAgIGxldCBpbnNlcnQ6IE5vZGU7XG4gICAgICAgICAgICBsZXQgcyA9IHN0cmluZ3NbaV07XG4gICAgICAgICAgICBpZiAocyA9PT0gJycpIHtcbiAgICAgICAgICAgICAgaW5zZXJ0ID0gY3JlYXRlTWFya2VyKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zdCBtYXRjaCA9IGxhc3RBdHRyaWJ1dGVOYW1lUmVnZXguZXhlYyhzKTtcbiAgICAgICAgICAgICAgaWYgKG1hdGNoICE9PSBudWxsICYmIGVuZHNXaXRoKG1hdGNoWzJdLCBib3VuZEF0dHJpYnV0ZVN1ZmZpeCkpIHtcbiAgICAgICAgICAgICAgICBzID0gcy5zbGljZSgwLCBtYXRjaC5pbmRleCkgKyBtYXRjaFsxXSArXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoWzJdLnNsaWNlKDAsIC1ib3VuZEF0dHJpYnV0ZVN1ZmZpeC5sZW5ndGgpICsgbWF0Y2hbM107XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaW5zZXJ0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUocyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGluc2VydCwgbm9kZSk7XG4gICAgICAgICAgICB0aGlzLnBhcnRzLnB1c2goe3R5cGU6ICdub2RlJywgaW5kZXg6ICsraW5kZXh9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gSWYgdGhlcmUncyBubyB0ZXh0LCB3ZSBtdXN0IGluc2VydCBhIGNvbW1lbnQgdG8gbWFyayBvdXIgcGxhY2UuXG4gICAgICAgICAgLy8gRWxzZSwgd2UgY2FuIHRydXN0IGl0IHdpbGwgc3RpY2sgYXJvdW5kIGFmdGVyIGNsb25pbmcuXG4gICAgICAgICAgaWYgKHN0cmluZ3NbbGFzdEluZGV4XSA9PT0gJycpIHtcbiAgICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoY3JlYXRlTWFya2VyKCksIG5vZGUpO1xuICAgICAgICAgICAgbm9kZXNUb1JlbW92ZS5wdXNoKG5vZGUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAobm9kZSBhcyBUZXh0KS5kYXRhID0gc3RyaW5nc1tsYXN0SW5kZXhdO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBXZSBoYXZlIGEgcGFydCBmb3IgZWFjaCBtYXRjaCBmb3VuZFxuICAgICAgICAgIHBhcnRJbmRleCArPSBsYXN0SW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobm9kZS5ub2RlVHlwZSA9PT0gOCAvKiBOb2RlLkNPTU1FTlRfTk9ERSAqLykge1xuICAgICAgICBpZiAoKG5vZGUgYXMgQ29tbWVudCkuZGF0YSA9PT0gbWFya2VyKSB7XG4gICAgICAgICAgY29uc3QgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlITtcbiAgICAgICAgICAvLyBBZGQgYSBuZXcgbWFya2VyIG5vZGUgdG8gYmUgdGhlIHN0YXJ0Tm9kZSBvZiB0aGUgUGFydCBpZiBhbnkgb2ZcbiAgICAgICAgICAvLyB0aGUgZm9sbG93aW5nIGFyZSB0cnVlOlxuICAgICAgICAgIC8vICAqIFdlIGRvbid0IGhhdmUgYSBwcmV2aW91c1NpYmxpbmdcbiAgICAgICAgICAvLyAgKiBUaGUgcHJldmlvdXNTaWJsaW5nIGlzIGFscmVhZHkgdGhlIHN0YXJ0IG9mIGEgcHJldmlvdXMgcGFydFxuICAgICAgICAgIGlmIChub2RlLnByZXZpb3VzU2libGluZyA9PT0gbnVsbCB8fCBpbmRleCA9PT0gbGFzdFBhcnRJbmRleCkge1xuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoY3JlYXRlTWFya2VyKCksIG5vZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsYXN0UGFydEluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgdGhpcy5wYXJ0cy5wdXNoKHt0eXBlOiAnbm9kZScsIGluZGV4fSk7XG4gICAgICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhIG5leHRTaWJsaW5nLCBrZWVwIHRoaXMgbm9kZSBzbyB3ZSBoYXZlIGFuIGVuZC5cbiAgICAgICAgICAvLyBFbHNlLCB3ZSBjYW4gcmVtb3ZlIGl0IHRvIHNhdmUgZnV0dXJlIGNvc3RzLlxuICAgICAgICAgIGlmIChub2RlLm5leHRTaWJsaW5nID09PSBudWxsKSB7XG4gICAgICAgICAgICAobm9kZSBhcyBDb21tZW50KS5kYXRhID0gJyc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5vZGVzVG9SZW1vdmUucHVzaChub2RlKTtcbiAgICAgICAgICAgIGluZGV4LS07XG4gICAgICAgICAgfVxuICAgICAgICAgIHBhcnRJbmRleCsrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxldCBpID0gLTE7XG4gICAgICAgICAgd2hpbGUgKChpID0gKG5vZGUgYXMgQ29tbWVudCkuZGF0YS5pbmRleE9mKG1hcmtlciwgaSArIDEpKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIC8vIENvbW1lbnQgbm9kZSBoYXMgYSBiaW5kaW5nIG1hcmtlciBpbnNpZGUsIG1ha2UgYW4gaW5hY3RpdmUgcGFydFxuICAgICAgICAgICAgLy8gVGhlIGJpbmRpbmcgd29uJ3Qgd29yaywgYnV0IHN1YnNlcXVlbnQgYmluZGluZ3Mgd2lsbFxuICAgICAgICAgICAgLy8gVE9ETyAoanVzdGluZmFnbmFuaSk6IGNvbnNpZGVyIHdoZXRoZXIgaXQncyBldmVuIHdvcnRoIGl0IHRvXG4gICAgICAgICAgICAvLyBtYWtlIGJpbmRpbmdzIGluIGNvbW1lbnRzIHdvcmtcbiAgICAgICAgICAgIHRoaXMucGFydHMucHVzaCh7dHlwZTogJ25vZGUnLCBpbmRleDogLTF9KTtcbiAgICAgICAgICAgIHBhcnRJbmRleCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJlbW92ZSB0ZXh0IGJpbmRpbmcgbm9kZXMgYWZ0ZXIgdGhlIHdhbGsgdG8gbm90IGRpc3R1cmIgdGhlIFRyZWVXYWxrZXJcbiAgICBmb3IgKGNvbnN0IG4gb2Ygbm9kZXNUb1JlbW92ZSkge1xuICAgICAgbi5wYXJlbnROb2RlIS5yZW1vdmVDaGlsZChuKTtcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgZW5kc1dpdGggPSAoc3RyOiBzdHJpbmcsIHN1ZmZpeDogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gIGNvbnN0IGluZGV4ID0gc3RyLmxlbmd0aCAtIHN1ZmZpeC5sZW5ndGg7XG4gIHJldHVybiBpbmRleCA+PSAwICYmIHN0ci5zbGljZShpbmRleCkgPT09IHN1ZmZpeDtcbn07XG5cbi8qKlxuICogQSBwbGFjZWhvbGRlciBmb3IgYSBkeW5hbWljIGV4cHJlc3Npb24gaW4gYW4gSFRNTCB0ZW1wbGF0ZS5cbiAqXG4gKiBUaGVyZSBhcmUgdHdvIGJ1aWx0LWluIHBhcnQgdHlwZXM6IEF0dHJpYnV0ZVBhcnQgYW5kIE5vZGVQYXJ0LiBOb2RlUGFydHNcbiAqIGFsd2F5cyByZXByZXNlbnQgYSBzaW5nbGUgZHluYW1pYyBleHByZXNzaW9uLCB3aGlsZSBBdHRyaWJ1dGVQYXJ0cyBtYXlcbiAqIHJlcHJlc2VudCBhcyBtYW55IGV4cHJlc3Npb25zIGFyZSBjb250YWluZWQgaW4gdGhlIGF0dHJpYnV0ZS5cbiAqXG4gKiBBIFRlbXBsYXRlJ3MgcGFydHMgYXJlIG11dGFibGUsIHNvIHBhcnRzIGNhbiBiZSByZXBsYWNlZCBvciBtb2RpZmllZFxuICogKHBvc3NpYmx5IHRvIGltcGxlbWVudCBkaWZmZXJlbnQgdGVtcGxhdGUgc2VtYW50aWNzKS4gVGhlIGNvbnRyYWN0IGlzIHRoYXRcbiAqIHBhcnRzIGNhbiBvbmx5IGJlIHJlcGxhY2VkLCBub3QgcmVtb3ZlZCwgYWRkZWQgb3IgcmVvcmRlcmVkLCBhbmQgcGFydHMgbXVzdFxuICogYWx3YXlzIGNvbnN1bWUgdGhlIGNvcnJlY3QgbnVtYmVyIG9mIHZhbHVlcyBpbiB0aGVpciBgdXBkYXRlKClgIG1ldGhvZC5cbiAqXG4gKiBUT0RPKGp1c3RpbmZhZ25hbmkpOiBUaGF0IHJlcXVpcmVtZW50IGlzIGEgbGl0dGxlIGZyYWdpbGUuIEFcbiAqIFRlbXBsYXRlSW5zdGFuY2UgY291bGQgaW5zdGVhZCBiZSBtb3JlIGNhcmVmdWwgYWJvdXQgd2hpY2ggdmFsdWVzIGl0IGdpdmVzXG4gKiB0byBQYXJ0LnVwZGF0ZSgpLlxuICovXG5leHBvcnQgdHlwZSBUZW1wbGF0ZVBhcnQgPSB7XG4gIHJlYWRvbmx5IHR5cGU6ICdub2RlJyxcbiAgaW5kZXg6IG51bWJlclxufXx7cmVhZG9ubHkgdHlwZTogJ2F0dHJpYnV0ZScsIGluZGV4OiBudW1iZXIsIHJlYWRvbmx5IG5hbWU6IHN0cmluZywgcmVhZG9ubHkgc3RyaW5nczogUmVhZG9ubHlBcnJheTxzdHJpbmc+fTtcblxuZXhwb3J0IGNvbnN0IGlzVGVtcGxhdGVQYXJ0QWN0aXZlID0gKHBhcnQ6IFRlbXBsYXRlUGFydCkgPT4gcGFydC5pbmRleCAhPT0gLTE7XG5cbi8vIEFsbG93cyBgZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgnJylgIHRvIGJlIHJlbmFtZWQgZm9yIGFcbi8vIHNtYWxsIG1hbnVhbCBzaXplLXNhdmluZ3MuXG5leHBvcnQgY29uc3QgY3JlYXRlTWFya2VyID0gKCkgPT4gZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgnJyk7XG5cbi8qKlxuICogVGhpcyByZWdleCBleHRyYWN0cyB0aGUgYXR0cmlidXRlIG5hbWUgcHJlY2VkaW5nIGFuIGF0dHJpYnV0ZS1wb3NpdGlvblxuICogZXhwcmVzc2lvbi4gSXQgZG9lcyB0aGlzIGJ5IG1hdGNoaW5nIHRoZSBzeW50YXggYWxsb3dlZCBmb3IgYXR0cmlidXRlc1xuICogYWdhaW5zdCB0aGUgc3RyaW5nIGxpdGVyYWwgZGlyZWN0bHkgcHJlY2VkaW5nIHRoZSBleHByZXNzaW9uLCBhc3N1bWluZyB0aGF0XG4gKiB0aGUgZXhwcmVzc2lvbiBpcyBpbiBhbiBhdHRyaWJ1dGUtdmFsdWUgcG9zaXRpb24uXG4gKlxuICogU2VlIGF0dHJpYnV0ZXMgaW4gdGhlIEhUTUwgc3BlYzpcbiAqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9zeW50YXguaHRtbCNlbGVtZW50cy1hdHRyaWJ1dGVzXG4gKlxuICogXCIgXFx4MDlcXHgwYVxceDBjXFx4MGRcIiBhcmUgSFRNTCBzcGFjZSBjaGFyYWN0ZXJzOlxuICogaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L2luZnJhc3RydWN0dXJlLmh0bWwjc3BhY2UtY2hhcmFjdGVyc1xuICpcbiAqIFwiXFwwLVxceDFGXFx4N0YtXFx4OUZcIiBhcmUgVW5pY29kZSBjb250cm9sIGNoYXJhY3RlcnMsIHdoaWNoIGluY2x1ZGVzIGV2ZXJ5XG4gKiBzcGFjZSBjaGFyYWN0ZXIgZXhjZXB0IFwiIFwiLlxuICpcbiAqIFNvIGFuIGF0dHJpYnV0ZSBpczpcbiAqICAqIFRoZSBuYW1lOiBhbnkgY2hhcmFjdGVyIGV4Y2VwdCBhIGNvbnRyb2wgY2hhcmFjdGVyLCBzcGFjZSBjaGFyYWN0ZXIsICgnKSxcbiAqICAgIChcIiksIFwiPlwiLCBcIj1cIiwgb3IgXCIvXCJcbiAqICAqIEZvbGxvd2VkIGJ5IHplcm8gb3IgbW9yZSBzcGFjZSBjaGFyYWN0ZXJzXG4gKiAgKiBGb2xsb3dlZCBieSBcIj1cIlxuICogICogRm9sbG93ZWQgYnkgemVybyBvciBtb3JlIHNwYWNlIGNoYXJhY3RlcnNcbiAqICAqIEZvbGxvd2VkIGJ5OlxuICogICAgKiBBbnkgY2hhcmFjdGVyIGV4Y2VwdCBzcGFjZSwgKCcpLCAoXCIpLCBcIjxcIiwgXCI+XCIsIFwiPVwiLCAoYCksIG9yXG4gKiAgICAqIChcIikgdGhlbiBhbnkgbm9uLShcIiksIG9yXG4gKiAgICAqICgnKSB0aGVuIGFueSBub24tKCcpXG4gKi9cbmV4cG9ydCBjb25zdCBsYXN0QXR0cmlidXRlTmFtZVJlZ2V4ID1cbiAgICAvKFsgXFx4MDlcXHgwYVxceDBjXFx4MGRdKShbXlxcMC1cXHgxRlxceDdGLVxceDlGIFwiJz49L10rKShbIFxceDA5XFx4MGFcXHgwY1xceDBkXSo9WyBcXHgwOVxceDBhXFx4MGNcXHgwZF0qKD86W14gXFx4MDlcXHgwYVxceDBjXFx4MGRcIidgPD49XSp8XCJbXlwiXSp8J1teJ10qKSkkLztcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cblxuLyoqXG4gKiBAbW9kdWxlIGxpdC1odG1sXG4gKi9cblxuaW1wb3J0IHtpc0NFUG9seWZpbGx9IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7UGFydH0gZnJvbSAnLi9wYXJ0LmpzJztcbmltcG9ydCB7UmVuZGVyT3B0aW9uc30gZnJvbSAnLi9yZW5kZXItb3B0aW9ucy5qcyc7XG5pbXBvcnQge1RlbXBsYXRlUHJvY2Vzc29yfSBmcm9tICcuL3RlbXBsYXRlLXByb2Nlc3Nvci5qcyc7XG5pbXBvcnQge2lzVGVtcGxhdGVQYXJ0QWN0aXZlLCBUZW1wbGF0ZSwgVGVtcGxhdGVQYXJ0fSBmcm9tICcuL3RlbXBsYXRlLmpzJztcblxuLyoqXG4gKiBBbiBpbnN0YW5jZSBvZiBhIGBUZW1wbGF0ZWAgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gdGhlIERPTSBhbmQgdXBkYXRlZFxuICogd2l0aCBuZXcgdmFsdWVzLlxuICovXG5leHBvcnQgY2xhc3MgVGVtcGxhdGVJbnN0YW5jZSB7XG4gIHByaXZhdGUgcmVhZG9ubHkgX19wYXJ0czogQXJyYXk8UGFydHx1bmRlZmluZWQ+ID0gW107XG4gIHJlYWRvbmx5IHByb2Nlc3NvcjogVGVtcGxhdGVQcm9jZXNzb3I7XG4gIHJlYWRvbmx5IG9wdGlvbnM6IFJlbmRlck9wdGlvbnM7XG4gIHJlYWRvbmx5IHRlbXBsYXRlOiBUZW1wbGF0ZTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICAgIHRlbXBsYXRlOiBUZW1wbGF0ZSwgcHJvY2Vzc29yOiBUZW1wbGF0ZVByb2Nlc3NvcixcbiAgICAgIG9wdGlvbnM6IFJlbmRlck9wdGlvbnMpIHtcbiAgICB0aGlzLnRlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgdGhpcy5wcm9jZXNzb3IgPSBwcm9jZXNzb3I7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgfVxuXG4gIHVwZGF0ZSh2YWx1ZXM6IFJlYWRvbmx5QXJyYXk8dW5rbm93bj4pIHtcbiAgICBsZXQgaSA9IDA7XG4gICAgZm9yIChjb25zdCBwYXJ0IG9mIHRoaXMuX19wYXJ0cykge1xuICAgICAgaWYgKHBhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwYXJ0LnNldFZhbHVlKHZhbHVlc1tpXSk7XG4gICAgICB9XG4gICAgICBpKys7XG4gICAgfVxuICAgIGZvciAoY29uc3QgcGFydCBvZiB0aGlzLl9fcGFydHMpIHtcbiAgICAgIGlmIChwYXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcGFydC5jb21taXQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfY2xvbmUoKTogRG9jdW1lbnRGcmFnbWVudCB7XG4gICAgLy8gVGhlcmUgYXJlIGEgbnVtYmVyIG9mIHN0ZXBzIGluIHRoZSBsaWZlY3ljbGUgb2YgYSB0ZW1wbGF0ZSBpbnN0YW5jZSdzXG4gICAgLy8gRE9NIGZyYWdtZW50OlxuICAgIC8vICAxLiBDbG9uZSAtIGNyZWF0ZSB0aGUgaW5zdGFuY2UgZnJhZ21lbnRcbiAgICAvLyAgMi4gQWRvcHQgLSBhZG9wdCBpbnRvIHRoZSBtYWluIGRvY3VtZW50XG4gICAgLy8gIDMuIFByb2Nlc3MgLSBmaW5kIHBhcnQgbWFya2VycyBhbmQgY3JlYXRlIHBhcnRzXG4gICAgLy8gIDQuIFVwZ3JhZGUgLSB1cGdyYWRlIGN1c3RvbSBlbGVtZW50c1xuICAgIC8vICA1LiBVcGRhdGUgLSBzZXQgbm9kZSwgYXR0cmlidXRlLCBwcm9wZXJ0eSwgZXRjLiwgdmFsdWVzXG4gICAgLy8gIDYuIENvbm5lY3QgLSBjb25uZWN0IHRvIHRoZSBkb2N1bWVudC4gT3B0aW9uYWwgYW5kIG91dHNpZGUgb2YgdGhpc1xuICAgIC8vICAgICBtZXRob2QuXG4gICAgLy9cbiAgICAvLyBXZSBoYXZlIGEgZmV3IGNvbnN0cmFpbnRzIG9uIHRoZSBvcmRlcmluZyBvZiB0aGVzZSBzdGVwczpcbiAgICAvLyAgKiBXZSBuZWVkIHRvIHVwZ3JhZGUgYmVmb3JlIHVwZGF0aW5nLCBzbyB0aGF0IHByb3BlcnR5IHZhbHVlcyB3aWxsIHBhc3NcbiAgICAvLyAgICB0aHJvdWdoIGFueSBwcm9wZXJ0eSBzZXR0ZXJzLlxuICAgIC8vICAqIFdlIHdvdWxkIGxpa2UgdG8gcHJvY2VzcyBiZWZvcmUgdXBncmFkaW5nIHNvIHRoYXQgd2UncmUgc3VyZSB0aGF0IHRoZVxuICAgIC8vICAgIGNsb25lZCBmcmFnbWVudCBpcyBpbmVydCBhbmQgbm90IGRpc3R1cmJlZCBieSBzZWxmLW1vZGlmeWluZyBET00uXG4gICAgLy8gICogV2Ugd2FudCBjdXN0b20gZWxlbWVudHMgdG8gdXBncmFkZSBldmVuIGluIGRpc2Nvbm5lY3RlZCBmcmFnbWVudHMuXG4gICAgLy9cbiAgICAvLyBHaXZlbiB0aGVzZSBjb25zdHJhaW50cywgd2l0aCBmdWxsIGN1c3RvbSBlbGVtZW50cyBzdXBwb3J0IHdlIHdvdWxkXG4gICAgLy8gcHJlZmVyIHRoZSBvcmRlcjogQ2xvbmUsIFByb2Nlc3MsIEFkb3B0LCBVcGdyYWRlLCBVcGRhdGUsIENvbm5lY3RcbiAgICAvL1xuICAgIC8vIEJ1dCBTYWZhcmkgZG9vZXMgbm90IGltcGxlbWVudCBDdXN0b21FbGVtZW50UmVnaXN0cnkjdXBncmFkZSwgc28gd2VcbiAgICAvLyBjYW4gbm90IGltcGxlbWVudCB0aGF0IG9yZGVyIGFuZCBzdGlsbCBoYXZlIHVwZ3JhZGUtYmVmb3JlLXVwZGF0ZSBhbmRcbiAgICAvLyB1cGdyYWRlIGRpc2Nvbm5lY3RlZCBmcmFnbWVudHMuIFNvIHdlIGluc3RlYWQgc2FjcmlmaWNlIHRoZVxuICAgIC8vIHByb2Nlc3MtYmVmb3JlLXVwZ3JhZGUgY29uc3RyYWludCwgc2luY2UgaW4gQ3VzdG9tIEVsZW1lbnRzIHYxIGVsZW1lbnRzXG4gICAgLy8gbXVzdCBub3QgbW9kaWZ5IHRoZWlyIGxpZ2h0IERPTSBpbiB0aGUgY29uc3RydWN0b3IuIFdlIHN0aWxsIGhhdmUgaXNzdWVzXG4gICAgLy8gd2hlbiBjby1leGlzdGluZyB3aXRoIENFdjAgZWxlbWVudHMgbGlrZSBQb2x5bWVyIDEsIGFuZCB3aXRoIHBvbHlmaWxsc1xuICAgIC8vIHRoYXQgZG9uJ3Qgc3RyaWN0bHkgYWRoZXJlIHRvIHRoZSBuby1tb2RpZmljYXRpb24gcnVsZSBiZWNhdXNlIHNoYWRvd1xuICAgIC8vIERPTSwgd2hpY2ggbWF5IGJlIGNyZWF0ZWQgaW4gdGhlIGNvbnN0cnVjdG9yLCBpcyBlbXVsYXRlZCBieSBiZWluZyBwbGFjZWRcbiAgICAvLyBpbiB0aGUgbGlnaHQgRE9NLlxuICAgIC8vXG4gICAgLy8gVGhlIHJlc3VsdGluZyBvcmRlciBpcyBvbiBuYXRpdmUgaXM6IENsb25lLCBBZG9wdCwgVXBncmFkZSwgUHJvY2VzcyxcbiAgICAvLyBVcGRhdGUsIENvbm5lY3QuIGRvY3VtZW50LmltcG9ydE5vZGUoKSBwZXJmb3JtcyBDbG9uZSwgQWRvcHQsIGFuZCBVcGdyYWRlXG4gICAgLy8gaW4gb25lIHN0ZXAuXG4gICAgLy9cbiAgICAvLyBUaGUgQ3VzdG9tIEVsZW1lbnRzIHYxIHBvbHlmaWxsIHN1cHBvcnRzIHVwZ3JhZGUoKSwgc28gdGhlIG9yZGVyIHdoZW5cbiAgICAvLyBwb2x5ZmlsbGVkIGlzIHRoZSBtb3JlIGlkZWFsOiBDbG9uZSwgUHJvY2VzcywgQWRvcHQsIFVwZ3JhZGUsIFVwZGF0ZSxcbiAgICAvLyBDb25uZWN0LlxuXG4gICAgY29uc3QgZnJhZ21lbnQgPSBpc0NFUG9seWZpbGwgP1xuICAgICAgICB0aGlzLnRlbXBsYXRlLmVsZW1lbnQuY29udGVudC5jbG9uZU5vZGUodHJ1ZSkgYXMgRG9jdW1lbnRGcmFnbWVudCA6XG4gICAgICAgIGRvY3VtZW50LmltcG9ydE5vZGUodGhpcy50ZW1wbGF0ZS5lbGVtZW50LmNvbnRlbnQsIHRydWUpO1xuXG4gICAgY29uc3Qgc3RhY2s6IE5vZGVbXSA9IFtdO1xuICAgIGNvbnN0IHBhcnRzID0gdGhpcy50ZW1wbGF0ZS5wYXJ0cztcbiAgICAvLyBFZGdlIG5lZWRzIGFsbCA0IHBhcmFtZXRlcnMgcHJlc2VudDsgSUUxMSBuZWVkcyAzcmQgcGFyYW1ldGVyIHRvIGJlIG51bGxcbiAgICBjb25zdCB3YWxrZXIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKFxuICAgICAgICBmcmFnbWVudCxcbiAgICAgICAgMTMzIC8qIE5vZGVGaWx0ZXIuU0hPV197RUxFTUVOVHxDT01NRU5UfFRFWFR9ICovLFxuICAgICAgICBudWxsLFxuICAgICAgICBmYWxzZSk7XG4gICAgbGV0IHBhcnRJbmRleCA9IDA7XG4gICAgbGV0IG5vZGVJbmRleCA9IDA7XG4gICAgbGV0IHBhcnQ6IFRlbXBsYXRlUGFydDtcbiAgICBsZXQgbm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpO1xuICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgdGhlIG5vZGVzIGFuZCBwYXJ0cyBvZiBhIHRlbXBsYXRlXG4gICAgd2hpbGUgKHBhcnRJbmRleCA8IHBhcnRzLmxlbmd0aCkge1xuICAgICAgcGFydCA9IHBhcnRzW3BhcnRJbmRleF07XG4gICAgICBpZiAoIWlzVGVtcGxhdGVQYXJ0QWN0aXZlKHBhcnQpKSB7XG4gICAgICAgIHRoaXMuX19wYXJ0cy5wdXNoKHVuZGVmaW5lZCk7XG4gICAgICAgIHBhcnRJbmRleCsrO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gUHJvZ3Jlc3MgdGhlIHRyZWUgd2Fsa2VyIHVudGlsIHdlIGZpbmQgb3VyIG5leHQgcGFydCdzIG5vZGUuXG4gICAgICAvLyBOb3RlIHRoYXQgbXVsdGlwbGUgcGFydHMgbWF5IHNoYXJlIHRoZSBzYW1lIG5vZGUgKGF0dHJpYnV0ZSBwYXJ0c1xuICAgICAgLy8gb24gYSBzaW5nbGUgZWxlbWVudCksIHNvIHRoaXMgbG9vcCBtYXkgbm90IHJ1biBhdCBhbGwuXG4gICAgICB3aGlsZSAobm9kZUluZGV4IDwgcGFydC5pbmRleCkge1xuICAgICAgICBub2RlSW5kZXgrKztcbiAgICAgICAgaWYgKG5vZGUhLm5vZGVOYW1lID09PSAnVEVNUExBVEUnKSB7XG4gICAgICAgICAgc3RhY2sucHVzaChub2RlISk7XG4gICAgICAgICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gKG5vZGUgYXMgSFRNTFRlbXBsYXRlRWxlbWVudCkuY29udGVudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKSkgPT09IG51bGwpIHtcbiAgICAgICAgICAvLyBXZSd2ZSBleGhhdXN0ZWQgdGhlIGNvbnRlbnQgaW5zaWRlIGEgbmVzdGVkIHRlbXBsYXRlIGVsZW1lbnQuXG4gICAgICAgICAgLy8gQmVjYXVzZSB3ZSBzdGlsbCBoYXZlIHBhcnRzICh0aGUgb3V0ZXIgZm9yLWxvb3ApLCB3ZSBrbm93OlxuICAgICAgICAgIC8vIC0gVGhlcmUgaXMgYSB0ZW1wbGF0ZSBpbiB0aGUgc3RhY2tcbiAgICAgICAgICAvLyAtIFRoZSB3YWxrZXIgd2lsbCBmaW5kIGEgbmV4dE5vZGUgb3V0c2lkZSB0aGUgdGVtcGxhdGVcbiAgICAgICAgICB3YWxrZXIuY3VycmVudE5vZGUgPSBzdGFjay5wb3AoKSE7XG4gICAgICAgICAgbm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFdlJ3ZlIGFycml2ZWQgYXQgb3VyIHBhcnQncyBub2RlLlxuICAgICAgaWYgKHBhcnQudHlwZSA9PT0gJ25vZGUnKSB7XG4gICAgICAgIGNvbnN0IHBhcnQgPSB0aGlzLnByb2Nlc3Nvci5oYW5kbGVUZXh0RXhwcmVzc2lvbih0aGlzLm9wdGlvbnMpO1xuICAgICAgICBwYXJ0Lmluc2VydEFmdGVyTm9kZShub2RlIS5wcmV2aW91c1NpYmxpbmchKTtcbiAgICAgICAgdGhpcy5fX3BhcnRzLnB1c2gocGFydCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9fcGFydHMucHVzaCguLi50aGlzLnByb2Nlc3Nvci5oYW5kbGVBdHRyaWJ1dGVFeHByZXNzaW9ucyhcbiAgICAgICAgICAgIG5vZGUgYXMgRWxlbWVudCwgcGFydC5uYW1lLCBwYXJ0LnN0cmluZ3MsIHRoaXMub3B0aW9ucykpO1xuICAgICAgfVxuICAgICAgcGFydEluZGV4Kys7XG4gICAgfVxuXG4gICAgaWYgKGlzQ0VQb2x5ZmlsbCkge1xuICAgICAgZG9jdW1lbnQuYWRvcHROb2RlKGZyYWdtZW50KTtcbiAgICAgIGN1c3RvbUVsZW1lbnRzLnVwZ3JhZGUoZnJhZ21lbnQpO1xuICAgIH1cbiAgICByZXR1cm4gZnJhZ21lbnQ7XG4gIH1cbn1cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cblxuLyoqXG4gKiBAbW9kdWxlIGxpdC1odG1sXG4gKi9cblxuaW1wb3J0IHtyZXBhcmVudE5vZGVzfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQge1RlbXBsYXRlUHJvY2Vzc29yfSBmcm9tICcuL3RlbXBsYXRlLXByb2Nlc3Nvci5qcyc7XG5pbXBvcnQge2JvdW5kQXR0cmlidXRlU3VmZml4LCBsYXN0QXR0cmlidXRlTmFtZVJlZ2V4LCBtYXJrZXIsIG5vZGVNYXJrZXJ9IGZyb20gJy4vdGVtcGxhdGUuanMnO1xuXG4vKipcbiAqIFRoZSByZXR1cm4gdHlwZSBvZiBgaHRtbGAsIHdoaWNoIGhvbGRzIGEgVGVtcGxhdGUgYW5kIHRoZSB2YWx1ZXMgZnJvbVxuICogaW50ZXJwb2xhdGVkIGV4cHJlc3Npb25zLlxuICovXG5leHBvcnQgY2xhc3MgVGVtcGxhdGVSZXN1bHQge1xuICByZWFkb25seSBzdHJpbmdzOiBUZW1wbGF0ZVN0cmluZ3NBcnJheTtcbiAgcmVhZG9ubHkgdmFsdWVzOiBSZWFkb25seUFycmF5PHVua25vd24+O1xuICByZWFkb25seSB0eXBlOiBzdHJpbmc7XG4gIHJlYWRvbmx5IHByb2Nlc3NvcjogVGVtcGxhdGVQcm9jZXNzb3I7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgICBzdHJpbmdzOiBUZW1wbGF0ZVN0cmluZ3NBcnJheSwgdmFsdWVzOiBSZWFkb25seUFycmF5PHVua25vd24+LFxuICAgICAgdHlwZTogc3RyaW5nLCBwcm9jZXNzb3I6IFRlbXBsYXRlUHJvY2Vzc29yKSB7XG4gICAgdGhpcy5zdHJpbmdzID0gc3RyaW5ncztcbiAgICB0aGlzLnZhbHVlcyA9IHZhbHVlcztcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIHRoaXMucHJvY2Vzc29yID0gcHJvY2Vzc29yO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBzdHJpbmcgb2YgSFRNTCB1c2VkIHRvIGNyZWF0ZSBhIGA8dGVtcGxhdGU+YCBlbGVtZW50LlxuICAgKi9cbiAgZ2V0SFRNTCgpOiBzdHJpbmcge1xuICAgIGNvbnN0IGwgPSB0aGlzLnN0cmluZ3MubGVuZ3RoIC0gMTtcbiAgICBsZXQgaHRtbCA9ICcnO1xuICAgIGxldCBpc0NvbW1lbnRCaW5kaW5nID0gZmFsc2U7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgY29uc3QgcyA9IHRoaXMuc3RyaW5nc1tpXTtcbiAgICAgIC8vIEZvciBlYWNoIGJpbmRpbmcgd2Ugd2FudCB0byBkZXRlcm1pbmUgdGhlIGtpbmQgb2YgbWFya2VyIHRvIGluc2VydFxuICAgICAgLy8gaW50byB0aGUgdGVtcGxhdGUgc291cmNlIGJlZm9yZSBpdCdzIHBhcnNlZCBieSB0aGUgYnJvd3NlcidzIEhUTUxcbiAgICAgIC8vIHBhcnNlci4gVGhlIG1hcmtlciB0eXBlIGlzIGJhc2VkIG9uIHdoZXRoZXIgdGhlIGV4cHJlc3Npb24gaXMgaW4gYW5cbiAgICAgIC8vIGF0dHJpYnV0ZSwgdGV4dCwgb3IgY29tbWVudCBwb2lzaXRpb24uXG4gICAgICAvLyAgICogRm9yIG5vZGUtcG9zaXRpb24gYmluZGluZ3Mgd2UgaW5zZXJ0IGEgY29tbWVudCB3aXRoIHRoZSBtYXJrZXJcbiAgICAgIC8vICAgICBzZW50aW5lbCBhcyBpdHMgdGV4dCBjb250ZW50LCBsaWtlIDwhLS17e2xpdC1ndWlkfX0tLT4uXG4gICAgICAvLyAgICogRm9yIGF0dHJpYnV0ZSBiaW5kaW5ncyB3ZSBpbnNlcnQganVzdCB0aGUgbWFya2VyIHNlbnRpbmVsIGZvciB0aGVcbiAgICAgIC8vICAgICBmaXJzdCBiaW5kaW5nLCBzbyB0aGF0IHdlIHN1cHBvcnQgdW5xdW90ZWQgYXR0cmlidXRlIGJpbmRpbmdzLlxuICAgICAgLy8gICAgIFN1YnNlcXVlbnQgYmluZGluZ3MgY2FuIHVzZSBhIGNvbW1lbnQgbWFya2VyIGJlY2F1c2UgbXVsdGktYmluZGluZ1xuICAgICAgLy8gICAgIGF0dHJpYnV0ZXMgbXVzdCBiZSBxdW90ZWQuXG4gICAgICAvLyAgICogRm9yIGNvbW1lbnQgYmluZGluZ3Mgd2UgaW5zZXJ0IGp1c3QgdGhlIG1hcmtlciBzZW50aW5lbCBzbyB3ZSBkb24ndFxuICAgICAgLy8gICAgIGNsb3NlIHRoZSBjb21tZW50LlxuICAgICAgLy9cbiAgICAgIC8vIFRoZSBmb2xsb3dpbmcgY29kZSBzY2FucyB0aGUgdGVtcGxhdGUgc291cmNlLCBidXQgaXMgKm5vdCogYW4gSFRNTFxuICAgICAgLy8gcGFyc2VyLiBXZSBkb24ndCBuZWVkIHRvIHRyYWNrIHRoZSB0cmVlIHN0cnVjdHVyZSBvZiB0aGUgSFRNTCwgb25seVxuICAgICAgLy8gd2hldGhlciBhIGJpbmRpbmcgaXMgaW5zaWRlIGEgY29tbWVudCwgYW5kIGlmIG5vdCwgaWYgaXQgYXBwZWFycyB0byBiZVxuICAgICAgLy8gdGhlIGZpcnN0IGJpbmRpbmcgaW4gYW4gYXR0cmlidXRlLlxuICAgICAgY29uc3QgY29tbWVudE9wZW4gPSBzLmxhc3RJbmRleE9mKCc8IS0tJyk7XG4gICAgICAvLyBXZSdyZSBpbiBjb21tZW50IHBvc2l0aW9uIGlmIHdlIGhhdmUgYSBjb21tZW50IG9wZW4gd2l0aCBubyBmb2xsb3dpbmdcbiAgICAgIC8vIGNvbW1lbnQgY2xvc2UuIEJlY2F1c2UgPC0tIGNhbiBhcHBlYXIgaW4gYW4gYXR0cmlidXRlIHZhbHVlIHRoZXJlIGNhblxuICAgICAgLy8gYmUgZmFsc2UgcG9zaXRpdmVzLlxuICAgICAgaXNDb21tZW50QmluZGluZyA9IChjb21tZW50T3BlbiA+IC0xIHx8IGlzQ29tbWVudEJpbmRpbmcpICYmXG4gICAgICAgICAgcy5pbmRleE9mKCctLT4nLCBjb21tZW50T3BlbiArIDEpID09PSAtMTtcbiAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiB3ZSBoYXZlIGFuIGF0dHJpYnV0ZS1saWtlIHNlcXVlbmNlIHByZWNlZWRpbmcgdGhlXG4gICAgICAvLyBleHByZXNzaW9uLiBUaGlzIGNhbiBtYXRjaCBcIm5hbWU9dmFsdWVcIiBsaWtlIHN0cnVjdHVyZXMgaW4gdGV4dCxcbiAgICAgIC8vIGNvbW1lbnRzLCBhbmQgYXR0cmlidXRlIHZhbHVlcywgc28gdGhlcmUgY2FuIGJlIGZhbHNlLXBvc2l0aXZlcy5cbiAgICAgIGNvbnN0IGF0dHJpYnV0ZU1hdGNoID0gbGFzdEF0dHJpYnV0ZU5hbWVSZWdleC5leGVjKHMpO1xuICAgICAgaWYgKGF0dHJpYnV0ZU1hdGNoID09PSBudWxsKSB7XG4gICAgICAgIC8vIFdlJ3JlIG9ubHkgaW4gdGhpcyBicmFuY2ggaWYgd2UgZG9uJ3QgaGF2ZSBhIGF0dHJpYnV0ZS1saWtlXG4gICAgICAgIC8vIHByZWNlZWRpbmcgc2VxdWVuY2UuIEZvciBjb21tZW50cywgdGhpcyBndWFyZHMgYWdhaW5zdCB1bnVzdWFsXG4gICAgICAgIC8vIGF0dHJpYnV0ZSB2YWx1ZXMgbGlrZSA8ZGl2IGZvbz1cIjwhLS0keydiYXInfVwiPi4gQ2FzZXMgbGlrZVxuICAgICAgICAvLyA8IS0tIGZvbz0keydiYXInfS0tPiBhcmUgaGFuZGxlZCBjb3JyZWN0bHkgaW4gdGhlIGF0dHJpYnV0ZSBicmFuY2hcbiAgICAgICAgLy8gYmVsb3cuXG4gICAgICAgIGh0bWwgKz0gcyArIChpc0NvbW1lbnRCaW5kaW5nID8gbWFya2VyIDogbm9kZU1hcmtlcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGb3IgYXR0cmlidXRlcyB3ZSB1c2UganVzdCBhIG1hcmtlciBzZW50aW5lbCwgYW5kIGFsc28gYXBwZW5kIGFcbiAgICAgICAgLy8gJGxpdCQgc3VmZml4IHRvIHRoZSBuYW1lIHRvIG9wdC1vdXQgb2YgYXR0cmlidXRlLXNwZWNpZmljIHBhcnNpbmdcbiAgICAgICAgLy8gdGhhdCBJRSBhbmQgRWRnZSBkbyBmb3Igc3R5bGUgYW5kIGNlcnRhaW4gU1ZHIGF0dHJpYnV0ZXMuXG4gICAgICAgIGh0bWwgKz0gcy5zdWJzdHIoMCwgYXR0cmlidXRlTWF0Y2guaW5kZXgpICsgYXR0cmlidXRlTWF0Y2hbMV0gK1xuICAgICAgICAgICAgYXR0cmlidXRlTWF0Y2hbMl0gKyBib3VuZEF0dHJpYnV0ZVN1ZmZpeCArIGF0dHJpYnV0ZU1hdGNoWzNdICtcbiAgICAgICAgICAgIG1hcmtlcjtcbiAgICAgIH1cbiAgICB9XG4gICAgaHRtbCArPSB0aGlzLnN0cmluZ3NbbF07XG4gICAgcmV0dXJuIGh0bWw7XG4gIH1cblxuICBnZXRUZW1wbGF0ZUVsZW1lbnQoKTogSFRNTFRlbXBsYXRlRWxlbWVudCB7XG4gICAgY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuICAgIHRlbXBsYXRlLmlubmVySFRNTCA9IHRoaXMuZ2V0SFRNTCgpO1xuICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgfVxufVxuXG4vKipcbiAqIEEgVGVtcGxhdGVSZXN1bHQgZm9yIFNWRyBmcmFnbWVudHMuXG4gKlxuICogVGhpcyBjbGFzcyB3cmFwcyBIVE1MIGluIGFuIGA8c3ZnPmAgdGFnIGluIG9yZGVyIHRvIHBhcnNlIGl0cyBjb250ZW50cyBpbiB0aGVcbiAqIFNWRyBuYW1lc3BhY2UsIHRoZW4gbW9kaWZpZXMgdGhlIHRlbXBsYXRlIHRvIHJlbW92ZSB0aGUgYDxzdmc+YCB0YWcgc28gdGhhdFxuICogY2xvbmVzIG9ubHkgY29udGFpbmVyIHRoZSBvcmlnaW5hbCBmcmFnbWVudC5cbiAqL1xuZXhwb3J0IGNsYXNzIFNWR1RlbXBsYXRlUmVzdWx0IGV4dGVuZHMgVGVtcGxhdGVSZXN1bHQge1xuICBnZXRIVE1MKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGA8c3ZnPiR7c3VwZXIuZ2V0SFRNTCgpfTwvc3ZnPmA7XG4gIH1cblxuICBnZXRUZW1wbGF0ZUVsZW1lbnQoKTogSFRNTFRlbXBsYXRlRWxlbWVudCB7XG4gICAgY29uc3QgdGVtcGxhdGUgPSBzdXBlci5nZXRUZW1wbGF0ZUVsZW1lbnQoKTtcbiAgICBjb25zdCBjb250ZW50ID0gdGVtcGxhdGUuY29udGVudDtcbiAgICBjb25zdCBzdmdFbGVtZW50ID0gY29udGVudC5maXJzdENoaWxkITtcbiAgICBjb250ZW50LnJlbW92ZUNoaWxkKHN2Z0VsZW1lbnQpO1xuICAgIHJlcGFyZW50Tm9kZXMoY29udGVudCwgc3ZnRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICByZXR1cm4gdGVtcGxhdGU7XG4gIH1cbn1cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cblxuLyoqXG4gKiBAbW9kdWxlIGxpdC1odG1sXG4gKi9cblxuaW1wb3J0IHtpc0RpcmVjdGl2ZX0gZnJvbSAnLi9kaXJlY3RpdmUuanMnO1xuaW1wb3J0IHtyZW1vdmVOb2Rlc30gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHtub0NoYW5nZSwgbm90aGluZywgUGFydH0gZnJvbSAnLi9wYXJ0LmpzJztcbmltcG9ydCB7UmVuZGVyT3B0aW9uc30gZnJvbSAnLi9yZW5kZXItb3B0aW9ucy5qcyc7XG5pbXBvcnQge1RlbXBsYXRlSW5zdGFuY2V9IGZyb20gJy4vdGVtcGxhdGUtaW5zdGFuY2UuanMnO1xuaW1wb3J0IHtUZW1wbGF0ZVJlc3VsdH0gZnJvbSAnLi90ZW1wbGF0ZS1yZXN1bHQuanMnO1xuaW1wb3J0IHtjcmVhdGVNYXJrZXJ9IGZyb20gJy4vdGVtcGxhdGUuanMnO1xuXG4vLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy10eXBlb2Ytb3BlcmF0b3JcbmV4cG9ydCB0eXBlIFByaW1pdGl2ZSA9IG51bGx8dW5kZWZpbmVkfGJvb2xlYW58bnVtYmVyfHN0cmluZ3xTeW1ib2x8YmlnaW50O1xuZXhwb3J0IGNvbnN0IGlzUHJpbWl0aXZlID0gKHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgUHJpbWl0aXZlID0+IHtcbiAgcmV0dXJuIChcbiAgICAgIHZhbHVlID09PSBudWxsIHx8XG4gICAgICAhKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSk7XG59O1xuZXhwb3J0IGNvbnN0IGlzSXRlcmFibGUgPSAodmFsdWU6IHVua25vd24pOiB2YWx1ZSBpcyBJdGVyYWJsZTx1bmtub3duPiA9PiB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSB8fFxuICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueVxuICAgICAgISEodmFsdWUgJiYgKHZhbHVlIGFzIGFueSlbU3ltYm9sLml0ZXJhdG9yXSk7XG59O1xuXG4vKipcbiAqIFdyaXRlcyBhdHRyaWJ1dGUgdmFsdWVzIHRvIHRoZSBET00gZm9yIGEgZ3JvdXAgb2YgQXR0cmlidXRlUGFydHMgYm91bmQgdG8gYVxuICogc2luZ2xlIGF0dGlidXRlLiBUaGUgdmFsdWUgaXMgb25seSBzZXQgb25jZSBldmVuIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSBwYXJ0c1xuICogZm9yIGFuIGF0dHJpYnV0ZS5cbiAqL1xuZXhwb3J0IGNsYXNzIEF0dHJpYnV0ZUNvbW1pdHRlciB7XG4gIHJlYWRvbmx5IGVsZW1lbnQ6IEVsZW1lbnQ7XG4gIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcbiAgcmVhZG9ubHkgc3RyaW5nczogUmVhZG9ubHlBcnJheTxzdHJpbmc+O1xuICByZWFkb25seSBwYXJ0czogUmVhZG9ubHlBcnJheTxBdHRyaWJ1dGVQYXJ0PjtcbiAgZGlydHkgPSB0cnVlO1xuXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQ6IEVsZW1lbnQsIG5hbWU6IHN0cmluZywgc3RyaW5nczogUmVhZG9ubHlBcnJheTxzdHJpbmc+KSB7XG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMuc3RyaW5ncyA9IHN0cmluZ3M7XG4gICAgdGhpcy5wYXJ0cyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyaW5ncy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICh0aGlzLnBhcnRzIGFzIEF0dHJpYnV0ZVBhcnRbXSlbaV0gPSB0aGlzLl9jcmVhdGVQYXJ0KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBzaW5nbGUgcGFydC4gT3ZlcnJpZGUgdGhpcyB0byBjcmVhdGUgYSBkaWZmZXJudCB0eXBlIG9mIHBhcnQuXG4gICAqL1xuICBwcm90ZWN0ZWQgX2NyZWF0ZVBhcnQoKTogQXR0cmlidXRlUGFydCB7XG4gICAgcmV0dXJuIG5ldyBBdHRyaWJ1dGVQYXJ0KHRoaXMpO1xuICB9XG5cbiAgcHJvdGVjdGVkIF9nZXRWYWx1ZSgpOiB1bmtub3duIHtcbiAgICBjb25zdCBzdHJpbmdzID0gdGhpcy5zdHJpbmdzO1xuICAgIGNvbnN0IGwgPSBzdHJpbmdzLmxlbmd0aCAtIDE7XG4gICAgbGV0IHRleHQgPSAnJztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICB0ZXh0ICs9IHN0cmluZ3NbaV07XG4gICAgICBjb25zdCBwYXJ0ID0gdGhpcy5wYXJ0c1tpXTtcbiAgICAgIGlmIChwYXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgdiA9IHBhcnQudmFsdWU7XG4gICAgICAgIGlmIChpc1ByaW1pdGl2ZSh2KSB8fCAhaXNJdGVyYWJsZSh2KSkge1xuICAgICAgICAgIHRleHQgKz0gdHlwZW9mIHYgPT09ICdzdHJpbmcnID8gdiA6IFN0cmluZyh2KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IHQgb2Ygdikge1xuICAgICAgICAgICAgdGV4dCArPSB0eXBlb2YgdCA9PT0gJ3N0cmluZycgPyB0IDogU3RyaW5nKHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRleHQgKz0gc3RyaW5nc1tsXTtcbiAgICByZXR1cm4gdGV4dDtcbiAgfVxuXG4gIGNvbW1pdCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5kaXJ0eSkge1xuICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSh0aGlzLm5hbWUsIHRoaXMuX2dldFZhbHVlKCkgYXMgc3RyaW5nKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBBIFBhcnQgdGhhdCBjb250cm9scyBhbGwgb3IgcGFydCBvZiBhbiBhdHRyaWJ1dGUgdmFsdWUuXG4gKi9cbmV4cG9ydCBjbGFzcyBBdHRyaWJ1dGVQYXJ0IGltcGxlbWVudHMgUGFydCB7XG4gIHJlYWRvbmx5IGNvbW1pdHRlcjogQXR0cmlidXRlQ29tbWl0dGVyO1xuICB2YWx1ZTogdW5rbm93biA9IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3Rvcihjb21taXR0ZXI6IEF0dHJpYnV0ZUNvbW1pdHRlcikge1xuICAgIHRoaXMuY29tbWl0dGVyID0gY29tbWl0dGVyO1xuICB9XG5cbiAgc2V0VmFsdWUodmFsdWU6IHVua25vd24pOiB2b2lkIHtcbiAgICBpZiAodmFsdWUgIT09IG5vQ2hhbmdlICYmICghaXNQcmltaXRpdmUodmFsdWUpIHx8IHZhbHVlICE9PSB0aGlzLnZhbHVlKSkge1xuICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgLy8gSWYgdGhlIHZhbHVlIGlzIGEgbm90IGEgZGlyZWN0aXZlLCBkaXJ0eSB0aGUgY29tbWl0dGVyIHNvIHRoYXQgaXQnbGxcbiAgICAgIC8vIGNhbGwgc2V0QXR0cmlidXRlLiBJZiB0aGUgdmFsdWUgaXMgYSBkaXJlY3RpdmUsIGl0J2xsIGRpcnR5IHRoZVxuICAgICAgLy8gY29tbWl0dGVyIGlmIGl0IGNhbGxzIHNldFZhbHVlKCkuXG4gICAgICBpZiAoIWlzRGlyZWN0aXZlKHZhbHVlKSkge1xuICAgICAgICB0aGlzLmNvbW1pdHRlci5kaXJ0eSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29tbWl0KCkge1xuICAgIHdoaWxlIChpc0RpcmVjdGl2ZSh0aGlzLnZhbHVlKSkge1xuICAgICAgY29uc3QgZGlyZWN0aXZlID0gdGhpcy52YWx1ZTtcbiAgICAgIHRoaXMudmFsdWUgPSBub0NoYW5nZTtcbiAgICAgIGRpcmVjdGl2ZSh0aGlzKTtcbiAgICB9XG4gICAgaWYgKHRoaXMudmFsdWUgPT09IG5vQ2hhbmdlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuY29tbWl0dGVyLmNvbW1pdCgpO1xuICB9XG59XG5cbi8qKlxuICogQSBQYXJ0IHRoYXQgY29udHJvbHMgYSBsb2NhdGlvbiB3aXRoaW4gYSBOb2RlIHRyZWUuIExpa2UgYSBSYW5nZSwgTm9kZVBhcnRcbiAqIGhhcyBzdGFydCBhbmQgZW5kIGxvY2F0aW9ucyBhbmQgY2FuIHNldCBhbmQgdXBkYXRlIHRoZSBOb2RlcyBiZXR3ZWVuIHRob3NlXG4gKiBsb2NhdGlvbnMuXG4gKlxuICogTm9kZVBhcnRzIHN1cHBvcnQgc2V2ZXJhbCB2YWx1ZSB0eXBlczogcHJpbWl0aXZlcywgTm9kZXMsIFRlbXBsYXRlUmVzdWx0cyxcbiAqIGFzIHdlbGwgYXMgYXJyYXlzIGFuZCBpdGVyYWJsZXMgb2YgdGhvc2UgdHlwZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBOb2RlUGFydCBpbXBsZW1lbnRzIFBhcnQge1xuICByZWFkb25seSBvcHRpb25zOiBSZW5kZXJPcHRpb25zO1xuICBzdGFydE5vZGUhOiBOb2RlO1xuICBlbmROb2RlITogTm9kZTtcbiAgdmFsdWU6IHVua25vd24gPSB1bmRlZmluZWQ7XG4gIHByaXZhdGUgX19wZW5kaW5nVmFsdWU6IHVua25vd24gPSB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3Iob3B0aW9uczogUmVuZGVyT3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gIH1cblxuICAvKipcbiAgICogQXBwZW5kcyB0aGlzIHBhcnQgaW50byBhIGNvbnRhaW5lci5cbiAgICpcbiAgICogVGhpcyBwYXJ0IG11c3QgYmUgZW1wdHksIGFzIGl0cyBjb250ZW50cyBhcmUgbm90IGF1dG9tYXRpY2FsbHkgbW92ZWQuXG4gICAqL1xuICBhcHBlbmRJbnRvKGNvbnRhaW5lcjogTm9kZSkge1xuICAgIHRoaXMuc3RhcnROb2RlID0gY29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZU1hcmtlcigpKTtcbiAgICB0aGlzLmVuZE5vZGUgPSBjb250YWluZXIuYXBwZW5kQ2hpbGQoY3JlYXRlTWFya2VyKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluc2VydHMgdGhpcyBwYXJ0IGFmdGVyIHRoZSBgcmVmYCBub2RlIChiZXR3ZWVuIGByZWZgIGFuZCBgcmVmYCdzIG5leHRcbiAgICogc2libGluZykuIEJvdGggYHJlZmAgYW5kIGl0cyBuZXh0IHNpYmxpbmcgbXVzdCBiZSBzdGF0aWMsIHVuY2hhbmdpbmcgbm9kZXNcbiAgICogc3VjaCBhcyB0aG9zZSB0aGF0IGFwcGVhciBpbiBhIGxpdGVyYWwgc2VjdGlvbiBvZiBhIHRlbXBsYXRlLlxuICAgKlxuICAgKiBUaGlzIHBhcnQgbXVzdCBiZSBlbXB0eSwgYXMgaXRzIGNvbnRlbnRzIGFyZSBub3QgYXV0b21hdGljYWxseSBtb3ZlZC5cbiAgICovXG4gIGluc2VydEFmdGVyTm9kZShyZWY6IE5vZGUpIHtcbiAgICB0aGlzLnN0YXJ0Tm9kZSA9IHJlZjtcbiAgICB0aGlzLmVuZE5vZGUgPSByZWYubmV4dFNpYmxpbmchO1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGVuZHMgdGhpcyBwYXJ0IGludG8gYSBwYXJlbnQgcGFydC5cbiAgICpcbiAgICogVGhpcyBwYXJ0IG11c3QgYmUgZW1wdHksIGFzIGl0cyBjb250ZW50cyBhcmUgbm90IGF1dG9tYXRpY2FsbHkgbW92ZWQuXG4gICAqL1xuICBhcHBlbmRJbnRvUGFydChwYXJ0OiBOb2RlUGFydCkge1xuICAgIHBhcnQuX19pbnNlcnQodGhpcy5zdGFydE5vZGUgPSBjcmVhdGVNYXJrZXIoKSk7XG4gICAgcGFydC5fX2luc2VydCh0aGlzLmVuZE5vZGUgPSBjcmVhdGVNYXJrZXIoKSk7XG4gIH1cblxuICAvKipcbiAgICogSW5zZXJ0cyB0aGlzIHBhcnQgYWZ0ZXIgdGhlIGByZWZgIHBhcnQuXG4gICAqXG4gICAqIFRoaXMgcGFydCBtdXN0IGJlIGVtcHR5LCBhcyBpdHMgY29udGVudHMgYXJlIG5vdCBhdXRvbWF0aWNhbGx5IG1vdmVkLlxuICAgKi9cbiAgaW5zZXJ0QWZ0ZXJQYXJ0KHJlZjogTm9kZVBhcnQpIHtcbiAgICByZWYuX19pbnNlcnQodGhpcy5zdGFydE5vZGUgPSBjcmVhdGVNYXJrZXIoKSk7XG4gICAgdGhpcy5lbmROb2RlID0gcmVmLmVuZE5vZGU7XG4gICAgcmVmLmVuZE5vZGUgPSB0aGlzLnN0YXJ0Tm9kZTtcbiAgfVxuXG4gIHNldFZhbHVlKHZhbHVlOiB1bmtub3duKTogdm9pZCB7XG4gICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IHZhbHVlO1xuICB9XG5cbiAgY29tbWl0KCkge1xuICAgIHdoaWxlIChpc0RpcmVjdGl2ZSh0aGlzLl9fcGVuZGluZ1ZhbHVlKSkge1xuICAgICAgY29uc3QgZGlyZWN0aXZlID0gdGhpcy5fX3BlbmRpbmdWYWx1ZTtcbiAgICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSBub0NoYW5nZTtcbiAgICAgIGRpcmVjdGl2ZSh0aGlzKTtcbiAgICB9XG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLl9fcGVuZGluZ1ZhbHVlO1xuICAgIGlmICh2YWx1ZSA9PT0gbm9DaGFuZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGlzUHJpbWl0aXZlKHZhbHVlKSkge1xuICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLnZhbHVlKSB7XG4gICAgICAgIHRoaXMuX19jb21taXRUZXh0KHZhbHVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgVGVtcGxhdGVSZXN1bHQpIHtcbiAgICAgIHRoaXMuX19jb21taXRUZW1wbGF0ZVJlc3VsdCh2YWx1ZSk7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIE5vZGUpIHtcbiAgICAgIHRoaXMuX19jb21taXROb2RlKHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKGlzSXRlcmFibGUodmFsdWUpKSB7XG4gICAgICB0aGlzLl9fY29tbWl0SXRlcmFibGUodmFsdWUpO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgPT09IG5vdGhpbmcpIHtcbiAgICAgIHRoaXMudmFsdWUgPSBub3RoaW5nO1xuICAgICAgdGhpcy5jbGVhcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGYWxsYmFjaywgd2lsbCByZW5kZXIgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgICAgdGhpcy5fX2NvbW1pdFRleHQodmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX19pbnNlcnQobm9kZTogTm9kZSkge1xuICAgIHRoaXMuZW5kTm9kZS5wYXJlbnROb2RlIS5pbnNlcnRCZWZvcmUobm9kZSwgdGhpcy5lbmROb2RlKTtcbiAgfVxuXG4gIHByaXZhdGUgX19jb21taXROb2RlKHZhbHVlOiBOb2RlKTogdm9pZCB7XG4gICAgaWYgKHRoaXMudmFsdWUgPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuY2xlYXIoKTtcbiAgICB0aGlzLl9faW5zZXJ0KHZhbHVlKTtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gIH1cblxuICBwcml2YXRlIF9fY29tbWl0VGV4dCh2YWx1ZTogdW5rbm93bik6IHZvaWQge1xuICAgIGNvbnN0IG5vZGUgPSB0aGlzLnN0YXJ0Tm9kZS5uZXh0U2libGluZyE7XG4gICAgdmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcbiAgICBpZiAobm9kZSA9PT0gdGhpcy5lbmROb2RlLnByZXZpb3VzU2libGluZyAmJlxuICAgICAgICBub2RlLm5vZGVUeXBlID09PSAzIC8qIE5vZGUuVEVYVF9OT0RFICovKSB7XG4gICAgICAvLyBJZiB3ZSBvbmx5IGhhdmUgYSBzaW5nbGUgdGV4dCBub2RlIGJldHdlZW4gdGhlIG1hcmtlcnMsIHdlIGNhbiBqdXN0XG4gICAgICAvLyBzZXQgaXRzIHZhbHVlLCByYXRoZXIgdGhhbiByZXBsYWNpbmcgaXQuXG4gICAgICAvLyBUT0RPKGp1c3RpbmZhZ25hbmkpOiBDYW4gd2UganVzdCBjaGVjayBpZiB0aGlzLnZhbHVlIGlzIHByaW1pdGl2ZT9cbiAgICAgIChub2RlIGFzIFRleHQpLmRhdGEgPSB2YWx1ZSBhcyBzdHJpbmc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX19jb21taXROb2RlKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFxuICAgICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyB2YWx1ZSA6IFN0cmluZyh2YWx1ZSkpKTtcbiAgICB9XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICB9XG5cbiAgcHJpdmF0ZSBfX2NvbW1pdFRlbXBsYXRlUmVzdWx0KHZhbHVlOiBUZW1wbGF0ZVJlc3VsdCk6IHZvaWQge1xuICAgIGNvbnN0IHRlbXBsYXRlID0gdGhpcy5vcHRpb25zLnRlbXBsYXRlRmFjdG9yeSh2YWx1ZSk7XG4gICAgaWYgKHRoaXMudmFsdWUgaW5zdGFuY2VvZiBUZW1wbGF0ZUluc3RhbmNlICYmXG4gICAgICAgIHRoaXMudmFsdWUudGVtcGxhdGUgPT09IHRlbXBsYXRlKSB7XG4gICAgICB0aGlzLnZhbHVlLnVwZGF0ZSh2YWx1ZS52YWx1ZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBNYWtlIHN1cmUgd2UgcHJvcGFnYXRlIHRoZSB0ZW1wbGF0ZSBwcm9jZXNzb3IgZnJvbSB0aGUgVGVtcGxhdGVSZXN1bHRcbiAgICAgIC8vIHNvIHRoYXQgd2UgdXNlIGl0cyBzeW50YXggZXh0ZW5zaW9uLCBldGMuIFRoZSB0ZW1wbGF0ZSBmYWN0b3J5IGNvbWVzXG4gICAgICAvLyBmcm9tIHRoZSByZW5kZXIgZnVuY3Rpb24gb3B0aW9ucyBzbyB0aGF0IGl0IGNhbiBjb250cm9sIHRlbXBsYXRlXG4gICAgICAvLyBjYWNoaW5nIGFuZCBwcmVwcm9jZXNzaW5nLlxuICAgICAgY29uc3QgaW5zdGFuY2UgPVxuICAgICAgICAgIG5ldyBUZW1wbGF0ZUluc3RhbmNlKHRlbXBsYXRlLCB2YWx1ZS5wcm9jZXNzb3IsIHRoaXMub3B0aW9ucyk7XG4gICAgICBjb25zdCBmcmFnbWVudCA9IGluc3RhbmNlLl9jbG9uZSgpO1xuICAgICAgaW5zdGFuY2UudXBkYXRlKHZhbHVlLnZhbHVlcyk7XG4gICAgICB0aGlzLl9fY29tbWl0Tm9kZShmcmFnbWVudCk7XG4gICAgICB0aGlzLnZhbHVlID0gaW5zdGFuY2U7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfX2NvbW1pdEl0ZXJhYmxlKHZhbHVlOiBJdGVyYWJsZTx1bmtub3duPik6IHZvaWQge1xuICAgIC8vIEZvciBhbiBJdGVyYWJsZSwgd2UgY3JlYXRlIGEgbmV3IEluc3RhbmNlUGFydCBwZXIgaXRlbSwgdGhlbiBzZXQgaXRzXG4gICAgLy8gdmFsdWUgdG8gdGhlIGl0ZW0uIFRoaXMgaXMgYSBsaXR0bGUgYml0IG9mIG92ZXJoZWFkIGZvciBldmVyeSBpdGVtIGluXG4gICAgLy8gYW4gSXRlcmFibGUsIGJ1dCBpdCBsZXRzIHVzIHJlY3Vyc2UgZWFzaWx5IGFuZCBlZmZpY2llbnRseSB1cGRhdGUgQXJyYXlzXG4gICAgLy8gb2YgVGVtcGxhdGVSZXN1bHRzIHRoYXQgd2lsbCBiZSBjb21tb25seSByZXR1cm5lZCBmcm9tIGV4cHJlc3Npb25zIGxpa2U6XG4gICAgLy8gYXJyYXkubWFwKChpKSA9PiBodG1sYCR7aX1gKSwgYnkgcmV1c2luZyBleGlzdGluZyBUZW1wbGF0ZUluc3RhbmNlcy5cblxuICAgIC8vIElmIF92YWx1ZSBpcyBhbiBhcnJheSwgdGhlbiB0aGUgcHJldmlvdXMgcmVuZGVyIHdhcyBvZiBhblxuICAgIC8vIGl0ZXJhYmxlIGFuZCBfdmFsdWUgd2lsbCBjb250YWluIHRoZSBOb2RlUGFydHMgZnJvbSB0aGUgcHJldmlvdXNcbiAgICAvLyByZW5kZXIuIElmIF92YWx1ZSBpcyBub3QgYW4gYXJyYXksIGNsZWFyIHRoaXMgcGFydCBhbmQgbWFrZSBhIG5ld1xuICAgIC8vIGFycmF5IGZvciBOb2RlUGFydHMuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMudmFsdWUpKSB7XG4gICAgICB0aGlzLnZhbHVlID0gW107XG4gICAgICB0aGlzLmNsZWFyKCk7XG4gICAgfVxuXG4gICAgLy8gTGV0cyB1cyBrZWVwIHRyYWNrIG9mIGhvdyBtYW55IGl0ZW1zIHdlIHN0YW1wZWQgc28gd2UgY2FuIGNsZWFyIGxlZnRvdmVyXG4gICAgLy8gaXRlbXMgZnJvbSBhIHByZXZpb3VzIHJlbmRlclxuICAgIGNvbnN0IGl0ZW1QYXJ0cyA9IHRoaXMudmFsdWUgYXMgTm9kZVBhcnRbXTtcbiAgICBsZXQgcGFydEluZGV4ID0gMDtcbiAgICBsZXQgaXRlbVBhcnQ6IE5vZGVQYXJ0fHVuZGVmaW5lZDtcblxuICAgIGZvciAoY29uc3QgaXRlbSBvZiB2YWx1ZSkge1xuICAgICAgLy8gVHJ5IHRvIHJldXNlIGFuIGV4aXN0aW5nIHBhcnRcbiAgICAgIGl0ZW1QYXJ0ID0gaXRlbVBhcnRzW3BhcnRJbmRleF07XG5cbiAgICAgIC8vIElmIG5vIGV4aXN0aW5nIHBhcnQsIGNyZWF0ZSBhIG5ldyBvbmVcbiAgICAgIGlmIChpdGVtUGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGl0ZW1QYXJ0ID0gbmV3IE5vZGVQYXJ0KHRoaXMub3B0aW9ucyk7XG4gICAgICAgIGl0ZW1QYXJ0cy5wdXNoKGl0ZW1QYXJ0KTtcbiAgICAgICAgaWYgKHBhcnRJbmRleCA9PT0gMCkge1xuICAgICAgICAgIGl0ZW1QYXJ0LmFwcGVuZEludG9QYXJ0KHRoaXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1QYXJ0Lmluc2VydEFmdGVyUGFydChpdGVtUGFydHNbcGFydEluZGV4IC0gMV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpdGVtUGFydC5zZXRWYWx1ZShpdGVtKTtcbiAgICAgIGl0ZW1QYXJ0LmNvbW1pdCgpO1xuICAgICAgcGFydEluZGV4Kys7XG4gICAgfVxuXG4gICAgaWYgKHBhcnRJbmRleCA8IGl0ZW1QYXJ0cy5sZW5ndGgpIHtcbiAgICAgIC8vIFRydW5jYXRlIHRoZSBwYXJ0cyBhcnJheSBzbyBfdmFsdWUgcmVmbGVjdHMgdGhlIGN1cnJlbnQgc3RhdGVcbiAgICAgIGl0ZW1QYXJ0cy5sZW5ndGggPSBwYXJ0SW5kZXg7XG4gICAgICB0aGlzLmNsZWFyKGl0ZW1QYXJ0ICYmIGl0ZW1QYXJ0LmVuZE5vZGUpO1xuICAgIH1cbiAgfVxuXG4gIGNsZWFyKHN0YXJ0Tm9kZTogTm9kZSA9IHRoaXMuc3RhcnROb2RlKSB7XG4gICAgcmVtb3ZlTm9kZXMoXG4gICAgICAgIHRoaXMuc3RhcnROb2RlLnBhcmVudE5vZGUhLCBzdGFydE5vZGUubmV4dFNpYmxpbmchLCB0aGlzLmVuZE5vZGUpO1xuICB9XG59XG5cbi8qKlxuICogSW1wbGVtZW50cyBhIGJvb2xlYW4gYXR0cmlidXRlLCByb3VnaGx5IGFzIGRlZmluZWQgaW4gdGhlIEhUTUxcbiAqIHNwZWNpZmljYXRpb24uXG4gKlxuICogSWYgdGhlIHZhbHVlIGlzIHRydXRoeSwgdGhlbiB0aGUgYXR0cmlidXRlIGlzIHByZXNlbnQgd2l0aCBhIHZhbHVlIG9mXG4gKiAnJy4gSWYgdGhlIHZhbHVlIGlzIGZhbHNleSwgdGhlIGF0dHJpYnV0ZSBpcyByZW1vdmVkLlxuICovXG5leHBvcnQgY2xhc3MgQm9vbGVhbkF0dHJpYnV0ZVBhcnQgaW1wbGVtZW50cyBQYXJ0IHtcbiAgcmVhZG9ubHkgZWxlbWVudDogRWxlbWVudDtcbiAgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xuICByZWFkb25seSBzdHJpbmdzOiBSZWFkb25seUFycmF5PHN0cmluZz47XG4gIHZhbHVlOiB1bmtub3duID0gdW5kZWZpbmVkO1xuICBwcml2YXRlIF9fcGVuZGluZ1ZhbHVlOiB1bmtub3duID0gdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQ6IEVsZW1lbnQsIG5hbWU6IHN0cmluZywgc3RyaW5nczogUmVhZG9ubHlBcnJheTxzdHJpbmc+KSB7XG4gICAgaWYgKHN0cmluZ3MubGVuZ3RoICE9PSAyIHx8IHN0cmluZ3NbMF0gIT09ICcnIHx8IHN0cmluZ3NbMV0gIT09ICcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ0Jvb2xlYW4gYXR0cmlidXRlcyBjYW4gb25seSBjb250YWluIGEgc2luZ2xlIGV4cHJlc3Npb24nKTtcbiAgICB9XG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMuc3RyaW5ncyA9IHN0cmluZ3M7XG4gIH1cblxuICBzZXRWYWx1ZSh2YWx1ZTogdW5rbm93bik6IHZvaWQge1xuICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSB2YWx1ZTtcbiAgfVxuXG4gIGNvbW1pdCgpIHtcbiAgICB3aGlsZSAoaXNEaXJlY3RpdmUodGhpcy5fX3BlbmRpbmdWYWx1ZSkpIHtcbiAgICAgIGNvbnN0IGRpcmVjdGl2ZSA9IHRoaXMuX19wZW5kaW5nVmFsdWU7XG4gICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gbm9DaGFuZ2U7XG4gICAgICBkaXJlY3RpdmUodGhpcyk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9fcGVuZGluZ1ZhbHVlID09PSBub0NoYW5nZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB2YWx1ZSA9ICEhdGhpcy5fX3BlbmRpbmdWYWx1ZTtcbiAgICBpZiAodGhpcy52YWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKHRoaXMubmFtZSwgJycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSh0aGlzLm5hbWUpO1xuICAgICAgfVxuICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gbm9DaGFuZ2U7XG4gIH1cbn1cblxuLyoqXG4gKiBTZXRzIGF0dHJpYnV0ZSB2YWx1ZXMgZm9yIFByb3BlcnR5UGFydHMsIHNvIHRoYXQgdGhlIHZhbHVlIGlzIG9ubHkgc2V0IG9uY2VcbiAqIGV2ZW4gaWYgdGhlcmUgYXJlIG11bHRpcGxlIHBhcnRzIGZvciBhIHByb3BlcnR5LlxuICpcbiAqIElmIGFuIGV4cHJlc3Npb24gY29udHJvbHMgdGhlIHdob2xlIHByb3BlcnR5IHZhbHVlLCB0aGVuIHRoZSB2YWx1ZSBpcyBzaW1wbHlcbiAqIGFzc2lnbmVkIHRvIHRoZSBwcm9wZXJ0eSB1bmRlciBjb250cm9sLiBJZiB0aGVyZSBhcmUgc3RyaW5nIGxpdGVyYWxzIG9yXG4gKiBtdWx0aXBsZSBleHByZXNzaW9ucywgdGhlbiB0aGUgc3RyaW5ncyBhcmUgZXhwcmVzc2lvbnMgYXJlIGludGVycG9sYXRlZCBpbnRvXG4gKiBhIHN0cmluZyBmaXJzdC5cbiAqL1xuZXhwb3J0IGNsYXNzIFByb3BlcnR5Q29tbWl0dGVyIGV4dGVuZHMgQXR0cmlidXRlQ29tbWl0dGVyIHtcbiAgcmVhZG9ubHkgc2luZ2xlOiBib29sZWFuO1xuXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQ6IEVsZW1lbnQsIG5hbWU6IHN0cmluZywgc3RyaW5nczogUmVhZG9ubHlBcnJheTxzdHJpbmc+KSB7XG4gICAgc3VwZXIoZWxlbWVudCwgbmFtZSwgc3RyaW5ncyk7XG4gICAgdGhpcy5zaW5nbGUgPVxuICAgICAgICAoc3RyaW5ncy5sZW5ndGggPT09IDIgJiYgc3RyaW5nc1swXSA9PT0gJycgJiYgc3RyaW5nc1sxXSA9PT0gJycpO1xuICB9XG5cbiAgcHJvdGVjdGVkIF9jcmVhdGVQYXJ0KCk6IFByb3BlcnR5UGFydCB7XG4gICAgcmV0dXJuIG5ldyBQcm9wZXJ0eVBhcnQodGhpcyk7XG4gIH1cblxuICBwcm90ZWN0ZWQgX2dldFZhbHVlKCkge1xuICAgIGlmICh0aGlzLnNpbmdsZSkge1xuICAgICAgcmV0dXJuIHRoaXMucGFydHNbMF0udmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBzdXBlci5fZ2V0VmFsdWUoKTtcbiAgfVxuXG4gIGNvbW1pdCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5kaXJ0eSkge1xuICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueVxuICAgICAgKHRoaXMuZWxlbWVudCBhcyBhbnkpW3RoaXMubmFtZV0gPSB0aGlzLl9nZXRWYWx1ZSgpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUHJvcGVydHlQYXJ0IGV4dGVuZHMgQXR0cmlidXRlUGFydCB7fVxuXG4vLyBEZXRlY3QgZXZlbnQgbGlzdGVuZXIgb3B0aW9ucyBzdXBwb3J0LiBJZiB0aGUgYGNhcHR1cmVgIHByb3BlcnR5IGlzIHJlYWRcbi8vIGZyb20gdGhlIG9wdGlvbnMgb2JqZWN0LCB0aGVuIG9wdGlvbnMgYXJlIHN1cHBvcnRlZC4gSWYgbm90LCB0aGVuIHRoZSB0aHJpZFxuLy8gYXJndW1lbnQgdG8gYWRkL3JlbW92ZUV2ZW50TGlzdGVuZXIgaXMgaW50ZXJwcmV0ZWQgYXMgdGhlIGJvb2xlYW4gY2FwdHVyZVxuLy8gdmFsdWUgc28gd2Ugc2hvdWxkIG9ubHkgcGFzcyB0aGUgYGNhcHR1cmVgIHByb3BlcnR5LlxubGV0IGV2ZW50T3B0aW9uc1N1cHBvcnRlZCA9IGZhbHNlO1xuXG50cnkge1xuICBjb25zdCBvcHRpb25zID0ge1xuICAgIGdldCBjYXB0dXJlKCkge1xuICAgICAgZXZlbnRPcHRpb25zU3VwcG9ydGVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBvcHRpb25zIGFzIGFueSwgb3B0aW9ucyk7XG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBvcHRpb25zIGFzIGFueSwgb3B0aW9ucyk7XG59IGNhdGNoIChfZSkge1xufVxuXG5cbnR5cGUgRXZlbnRIYW5kbGVyV2l0aE9wdGlvbnMgPVxuICAgIEV2ZW50TGlzdGVuZXJPckV2ZW50TGlzdGVuZXJPYmplY3QmUGFydGlhbDxBZGRFdmVudExpc3RlbmVyT3B0aW9ucz47XG5leHBvcnQgY2xhc3MgRXZlbnRQYXJ0IGltcGxlbWVudHMgUGFydCB7XG4gIHJlYWRvbmx5IGVsZW1lbnQ6IEVsZW1lbnQ7XG4gIHJlYWRvbmx5IGV2ZW50TmFtZTogc3RyaW5nO1xuICByZWFkb25seSBldmVudENvbnRleHQ/OiBFdmVudFRhcmdldDtcbiAgdmFsdWU6IHVuZGVmaW5lZHxFdmVudEhhbmRsZXJXaXRoT3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBfX29wdGlvbnM/OiBBZGRFdmVudExpc3RlbmVyT3B0aW9ucztcbiAgcHJpdmF0ZSBfX3BlbmRpbmdWYWx1ZTogdW5kZWZpbmVkfEV2ZW50SGFuZGxlcldpdGhPcHRpb25zID0gdW5kZWZpbmVkO1xuICBwcml2YXRlIHJlYWRvbmx5IF9fYm91bmRIYW5kbGVFdmVudDogKGV2ZW50OiBFdmVudCkgPT4gdm9pZDtcblxuICBjb25zdHJ1Y3RvcihlbGVtZW50OiBFbGVtZW50LCBldmVudE5hbWU6IHN0cmluZywgZXZlbnRDb250ZXh0PzogRXZlbnRUYXJnZXQpIHtcbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMuZXZlbnROYW1lID0gZXZlbnROYW1lO1xuICAgIHRoaXMuZXZlbnRDb250ZXh0ID0gZXZlbnRDb250ZXh0O1xuICAgIHRoaXMuX19ib3VuZEhhbmRsZUV2ZW50ID0gKGUpID0+IHRoaXMuaGFuZGxlRXZlbnQoZSk7XG4gIH1cblxuICBzZXRWYWx1ZSh2YWx1ZTogdW5kZWZpbmVkfEV2ZW50SGFuZGxlcldpdGhPcHRpb25zKTogdm9pZCB7XG4gICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IHZhbHVlO1xuICB9XG5cbiAgY29tbWl0KCkge1xuICAgIHdoaWxlIChpc0RpcmVjdGl2ZSh0aGlzLl9fcGVuZGluZ1ZhbHVlKSkge1xuICAgICAgY29uc3QgZGlyZWN0aXZlID0gdGhpcy5fX3BlbmRpbmdWYWx1ZTtcbiAgICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSBub0NoYW5nZSBhcyBFdmVudEhhbmRsZXJXaXRoT3B0aW9ucztcbiAgICAgIGRpcmVjdGl2ZSh0aGlzKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX19wZW5kaW5nVmFsdWUgPT09IG5vQ2hhbmdlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbmV3TGlzdGVuZXIgPSB0aGlzLl9fcGVuZGluZ1ZhbHVlO1xuICAgIGNvbnN0IG9sZExpc3RlbmVyID0gdGhpcy52YWx1ZTtcbiAgICBjb25zdCBzaG91bGRSZW1vdmVMaXN0ZW5lciA9IG5ld0xpc3RlbmVyID09IG51bGwgfHxcbiAgICAgICAgb2xkTGlzdGVuZXIgIT0gbnVsbCAmJlxuICAgICAgICAgICAgKG5ld0xpc3RlbmVyLmNhcHR1cmUgIT09IG9sZExpc3RlbmVyLmNhcHR1cmUgfHxcbiAgICAgICAgICAgICBuZXdMaXN0ZW5lci5vbmNlICE9PSBvbGRMaXN0ZW5lci5vbmNlIHx8XG4gICAgICAgICAgICAgbmV3TGlzdGVuZXIucGFzc2l2ZSAhPT0gb2xkTGlzdGVuZXIucGFzc2l2ZSk7XG4gICAgY29uc3Qgc2hvdWxkQWRkTGlzdGVuZXIgPVxuICAgICAgICBuZXdMaXN0ZW5lciAhPSBudWxsICYmIChvbGRMaXN0ZW5lciA9PSBudWxsIHx8IHNob3VsZFJlbW92ZUxpc3RlbmVyKTtcblxuICAgIGlmIChzaG91bGRSZW1vdmVMaXN0ZW5lcikge1xuICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgdGhpcy5ldmVudE5hbWUsIHRoaXMuX19ib3VuZEhhbmRsZUV2ZW50LCB0aGlzLl9fb3B0aW9ucyk7XG4gICAgfVxuICAgIGlmIChzaG91bGRBZGRMaXN0ZW5lcikge1xuICAgICAgdGhpcy5fX29wdGlvbnMgPSBnZXRPcHRpb25zKG5ld0xpc3RlbmVyKTtcbiAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgIHRoaXMuZXZlbnROYW1lLCB0aGlzLl9fYm91bmRIYW5kbGVFdmVudCwgdGhpcy5fX29wdGlvbnMpO1xuICAgIH1cbiAgICB0aGlzLnZhbHVlID0gbmV3TGlzdGVuZXI7XG4gICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IG5vQ2hhbmdlIGFzIEV2ZW50SGFuZGxlcldpdGhPcHRpb25zO1xuICB9XG5cbiAgaGFuZGxlRXZlbnQoZXZlbnQ6IEV2ZW50KSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzLnZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLnZhbHVlLmNhbGwodGhpcy5ldmVudENvbnRleHQgfHwgdGhpcy5lbGVtZW50LCBldmVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICh0aGlzLnZhbHVlIGFzIEV2ZW50TGlzdGVuZXJPYmplY3QpLmhhbmRsZUV2ZW50KGV2ZW50KTtcbiAgICB9XG4gIH1cbn1cblxuLy8gV2UgY29weSBvcHRpb25zIGJlY2F1c2Ugb2YgdGhlIGluY29uc2lzdGVudCBiZWhhdmlvciBvZiBicm93c2VycyB3aGVuIHJlYWRpbmdcbi8vIHRoZSB0aGlyZCBhcmd1bWVudCBvZiBhZGQvcmVtb3ZlRXZlbnRMaXN0ZW5lci4gSUUxMSBkb2Vzbid0IHN1cHBvcnQgb3B0aW9uc1xuLy8gYXQgYWxsLiBDaHJvbWUgNDEgb25seSByZWFkcyBgY2FwdHVyZWAgaWYgdGhlIGFyZ3VtZW50IGlzIGFuIG9iamVjdC5cbmNvbnN0IGdldE9wdGlvbnMgPSAobzogQWRkRXZlbnRMaXN0ZW5lck9wdGlvbnN8dW5kZWZpbmVkKSA9PiBvICYmXG4gICAgKGV2ZW50T3B0aW9uc1N1cHBvcnRlZCA/XG4gICAgICAgICB7Y2FwdHVyZTogby5jYXB0dXJlLCBwYXNzaXZlOiBvLnBhc3NpdmUsIG9uY2U6IG8ub25jZX0gOlxuICAgICAgICAgby5jYXB0dXJlIGFzIEFkZEV2ZW50TGlzdGVuZXJPcHRpb25zKTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cblxuLyoqXG4gKiBAbW9kdWxlIGxpdC1odG1sXG4gKi9cblxuaW1wb3J0IHtQYXJ0fSBmcm9tICcuL3BhcnQuanMnO1xuaW1wb3J0IHtBdHRyaWJ1dGVDb21taXR0ZXIsIEJvb2xlYW5BdHRyaWJ1dGVQYXJ0LCBFdmVudFBhcnQsIE5vZGVQYXJ0LCBQcm9wZXJ0eUNvbW1pdHRlcn0gZnJvbSAnLi9wYXJ0cy5qcyc7XG5pbXBvcnQge1JlbmRlck9wdGlvbnN9IGZyb20gJy4vcmVuZGVyLW9wdGlvbnMuanMnO1xuaW1wb3J0IHtUZW1wbGF0ZVByb2Nlc3Nvcn0gZnJvbSAnLi90ZW1wbGF0ZS1wcm9jZXNzb3IuanMnO1xuXG4vKipcbiAqIENyZWF0ZXMgUGFydHMgd2hlbiBhIHRlbXBsYXRlIGlzIGluc3RhbnRpYXRlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIERlZmF1bHRUZW1wbGF0ZVByb2Nlc3NvciBpbXBsZW1lbnRzIFRlbXBsYXRlUHJvY2Vzc29yIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBwYXJ0cyBmb3IgYW4gYXR0cmlidXRlLXBvc2l0aW9uIGJpbmRpbmcsIGdpdmVuIHRoZSBldmVudCwgYXR0cmlidXRlXG4gICAqIG5hbWUsIGFuZCBzdHJpbmcgbGl0ZXJhbHMuXG4gICAqXG4gICAqIEBwYXJhbSBlbGVtZW50IFRoZSBlbGVtZW50IGNvbnRhaW5pbmcgdGhlIGJpbmRpbmdcbiAgICogQHBhcmFtIG5hbWUgIFRoZSBhdHRyaWJ1dGUgbmFtZVxuICAgKiBAcGFyYW0gc3RyaW5ncyBUaGUgc3RyaW5nIGxpdGVyYWxzLiBUaGVyZSBhcmUgYWx3YXlzIGF0IGxlYXN0IHR3byBzdHJpbmdzLFxuICAgKiAgIGV2ZW50IGZvciBmdWxseS1jb250cm9sbGVkIGJpbmRpbmdzIHdpdGggYSBzaW5nbGUgZXhwcmVzc2lvbi5cbiAgICovXG4gIGhhbmRsZUF0dHJpYnV0ZUV4cHJlc3Npb25zKFxuICAgICAgZWxlbWVudDogRWxlbWVudCwgbmFtZTogc3RyaW5nLCBzdHJpbmdzOiBzdHJpbmdbXSxcbiAgICAgIG9wdGlvbnM6IFJlbmRlck9wdGlvbnMpOiBSZWFkb25seUFycmF5PFBhcnQ+IHtcbiAgICBjb25zdCBwcmVmaXggPSBuYW1lWzBdO1xuICAgIGlmIChwcmVmaXggPT09ICcuJykge1xuICAgICAgY29uc3QgY29tbWl0dGVyID0gbmV3IFByb3BlcnR5Q29tbWl0dGVyKGVsZW1lbnQsIG5hbWUuc2xpY2UoMSksIHN0cmluZ3MpO1xuICAgICAgcmV0dXJuIGNvbW1pdHRlci5wYXJ0cztcbiAgICB9XG4gICAgaWYgKHByZWZpeCA9PT0gJ0AnKSB7XG4gICAgICByZXR1cm4gW25ldyBFdmVudFBhcnQoZWxlbWVudCwgbmFtZS5zbGljZSgxKSwgb3B0aW9ucy5ldmVudENvbnRleHQpXTtcbiAgICB9XG4gICAgaWYgKHByZWZpeCA9PT0gJz8nKSB7XG4gICAgICByZXR1cm4gW25ldyBCb29sZWFuQXR0cmlidXRlUGFydChlbGVtZW50LCBuYW1lLnNsaWNlKDEpLCBzdHJpbmdzKV07XG4gICAgfVxuICAgIGNvbnN0IGNvbW1pdHRlciA9IG5ldyBBdHRyaWJ1dGVDb21taXR0ZXIoZWxlbWVudCwgbmFtZSwgc3RyaW5ncyk7XG4gICAgcmV0dXJuIGNvbW1pdHRlci5wYXJ0cztcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIHBhcnRzIGZvciBhIHRleHQtcG9zaXRpb24gYmluZGluZy5cbiAgICogQHBhcmFtIHRlbXBsYXRlRmFjdG9yeVxuICAgKi9cbiAgaGFuZGxlVGV4dEV4cHJlc3Npb24ob3B0aW9uczogUmVuZGVyT3B0aW9ucykge1xuICAgIHJldHVybiBuZXcgTm9kZVBhcnQob3B0aW9ucyk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRUZW1wbGF0ZVByb2Nlc3NvciA9IG5ldyBEZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IoKTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cblxuLyoqXG4gKiBAbW9kdWxlIGxpdC1odG1sXG4gKi9cblxuaW1wb3J0IHtUZW1wbGF0ZVJlc3VsdH0gZnJvbSAnLi90ZW1wbGF0ZS1yZXN1bHQuanMnO1xuaW1wb3J0IHttYXJrZXIsIFRlbXBsYXRlfSBmcm9tICcuL3RlbXBsYXRlLmpzJztcblxuLyoqXG4gKiBBIGZ1bmN0aW9uIHR5cGUgdGhhdCBjcmVhdGVzIGEgVGVtcGxhdGUgZnJvbSBhIFRlbXBsYXRlUmVzdWx0LlxuICpcbiAqIFRoaXMgaXMgYSBob29rIGludG8gdGhlIHRlbXBsYXRlLWNyZWF0aW9uIHByb2Nlc3MgZm9yIHJlbmRlcmluZyB0aGF0XG4gKiByZXF1aXJlcyBzb21lIG1vZGlmaWNhdGlvbiBvZiB0ZW1wbGF0ZXMgYmVmb3JlIHRoZXkncmUgdXNlZCwgbGlrZSBTaGFkeUNTUyxcbiAqIHdoaWNoIG11c3QgYWRkIGNsYXNzZXMgdG8gZWxlbWVudHMgYW5kIHJlbW92ZSBzdHlsZXMuXG4gKlxuICogVGVtcGxhdGVzIHNob3VsZCBiZSBjYWNoZWQgYXMgYWdncmVzc2l2ZWx5IGFzIHBvc3NpYmxlLCBzbyB0aGF0IG1hbnlcbiAqIFRlbXBsYXRlUmVzdWx0cyBwcm9kdWNlZCBmcm9tIHRoZSBzYW1lIGV4cHJlc3Npb24gb25seSBkbyB0aGUgd29yayBvZlxuICogY3JlYXRpbmcgdGhlIFRlbXBsYXRlIHRoZSBmaXJzdCB0aW1lLlxuICpcbiAqIFRlbXBsYXRlcyBhcmUgdXN1YWxseSBjYWNoZWQgYnkgVGVtcGxhdGVSZXN1bHQuc3RyaW5ncyBhbmRcbiAqIFRlbXBsYXRlUmVzdWx0LnR5cGUsIGJ1dCBtYXkgYmUgY2FjaGVkIGJ5IG90aGVyIGtleXMgaWYgdGhpcyBmdW5jdGlvblxuICogbW9kaWZpZXMgdGhlIHRlbXBsYXRlLlxuICpcbiAqIE5vdGUgdGhhdCBjdXJyZW50bHkgVGVtcGxhdGVGYWN0b3JpZXMgbXVzdCBub3QgYWRkLCByZW1vdmUsIG9yIHJlb3JkZXJcbiAqIGV4cHJlc3Npb25zLCBiZWNhdXNlIHRoZXJlIGlzIG5vIHdheSB0byBkZXNjcmliZSBzdWNoIGEgbW9kaWZpY2F0aW9uXG4gKiB0byByZW5kZXIoKSBzbyB0aGF0IHZhbHVlcyBhcmUgaW50ZXJwb2xhdGVkIHRvIHRoZSBjb3JyZWN0IHBsYWNlIGluIHRoZVxuICogdGVtcGxhdGUgaW5zdGFuY2VzLlxuICovXG5leHBvcnQgdHlwZSBUZW1wbGF0ZUZhY3RvcnkgPSAocmVzdWx0OiBUZW1wbGF0ZVJlc3VsdCkgPT4gVGVtcGxhdGU7XG5cbi8qKlxuICogVGhlIGRlZmF1bHQgVGVtcGxhdGVGYWN0b3J5IHdoaWNoIGNhY2hlcyBUZW1wbGF0ZXMga2V5ZWQgb25cbiAqIHJlc3VsdC50eXBlIGFuZCByZXN1bHQuc3RyaW5ncy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRlbXBsYXRlRmFjdG9yeShyZXN1bHQ6IFRlbXBsYXRlUmVzdWx0KSB7XG4gIGxldCB0ZW1wbGF0ZUNhY2hlID0gdGVtcGxhdGVDYWNoZXMuZ2V0KHJlc3VsdC50eXBlKTtcbiAgaWYgKHRlbXBsYXRlQ2FjaGUgPT09IHVuZGVmaW5lZCkge1xuICAgIHRlbXBsYXRlQ2FjaGUgPSB7XG4gICAgICBzdHJpbmdzQXJyYXk6IG5ldyBXZWFrTWFwPFRlbXBsYXRlU3RyaW5nc0FycmF5LCBUZW1wbGF0ZT4oKSxcbiAgICAgIGtleVN0cmluZzogbmV3IE1hcDxzdHJpbmcsIFRlbXBsYXRlPigpXG4gICAgfTtcbiAgICB0ZW1wbGF0ZUNhY2hlcy5zZXQocmVzdWx0LnR5cGUsIHRlbXBsYXRlQ2FjaGUpO1xuICB9XG5cbiAgbGV0IHRlbXBsYXRlID0gdGVtcGxhdGVDYWNoZS5zdHJpbmdzQXJyYXkuZ2V0KHJlc3VsdC5zdHJpbmdzKTtcbiAgaWYgKHRlbXBsYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdGVtcGxhdGU7XG4gIH1cblxuICAvLyBJZiB0aGUgVGVtcGxhdGVTdHJpbmdzQXJyYXkgaXMgbmV3LCBnZW5lcmF0ZSBhIGtleSBmcm9tIHRoZSBzdHJpbmdzXG4gIC8vIFRoaXMga2V5IGlzIHNoYXJlZCBiZXR3ZWVuIGFsbCB0ZW1wbGF0ZXMgd2l0aCBpZGVudGljYWwgY29udGVudFxuICBjb25zdCBrZXkgPSByZXN1bHQuc3RyaW5ncy5qb2luKG1hcmtlcik7XG5cbiAgLy8gQ2hlY2sgaWYgd2UgYWxyZWFkeSBoYXZlIGEgVGVtcGxhdGUgZm9yIHRoaXMga2V5XG4gIHRlbXBsYXRlID0gdGVtcGxhdGVDYWNoZS5rZXlTdHJpbmcuZ2V0KGtleSk7XG4gIGlmICh0ZW1wbGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gSWYgd2UgaGF2ZSBub3Qgc2VlbiB0aGlzIGtleSBiZWZvcmUsIGNyZWF0ZSBhIG5ldyBUZW1wbGF0ZVxuICAgIHRlbXBsYXRlID0gbmV3IFRlbXBsYXRlKHJlc3VsdCwgcmVzdWx0LmdldFRlbXBsYXRlRWxlbWVudCgpKTtcbiAgICAvLyBDYWNoZSB0aGUgVGVtcGxhdGUgZm9yIHRoaXMga2V5XG4gICAgdGVtcGxhdGVDYWNoZS5rZXlTdHJpbmcuc2V0KGtleSwgdGVtcGxhdGUpO1xuICB9XG5cbiAgLy8gQ2FjaGUgYWxsIGZ1dHVyZSBxdWVyaWVzIGZvciB0aGlzIFRlbXBsYXRlU3RyaW5nc0FycmF5XG4gIHRlbXBsYXRlQ2FjaGUuc3RyaW5nc0FycmF5LnNldChyZXN1bHQuc3RyaW5ncywgdGVtcGxhdGUpO1xuICByZXR1cm4gdGVtcGxhdGU7XG59XG5cbi8qKlxuICogVGhlIGZpcnN0IGFyZ3VtZW50IHRvIEpTIHRlbXBsYXRlIHRhZ3MgcmV0YWluIGlkZW50aXR5IGFjcm9zcyBtdWx0aXBsZVxuICogY2FsbHMgdG8gYSB0YWcgZm9yIHRoZSBzYW1lIGxpdGVyYWwsIHNvIHdlIGNhbiBjYWNoZSB3b3JrIGRvbmUgcGVyIGxpdGVyYWxcbiAqIGluIGEgTWFwLlxuICpcbiAqIFNhZmFyaSBjdXJyZW50bHkgaGFzIGEgYnVnIHdoaWNoIG9jY2FzaW9uYWxseSBicmVha3MgdGhpcyBiZWhhdmlvdXIsIHNvIHdlXG4gKiBuZWVkIHRvIGNhY2hlIHRoZSBUZW1wbGF0ZSBhdCB0d28gbGV2ZWxzLiBXZSBmaXJzdCBjYWNoZSB0aGVcbiAqIFRlbXBsYXRlU3RyaW5nc0FycmF5LCBhbmQgaWYgdGhhdCBmYWlscywgd2UgY2FjaGUgYSBrZXkgY29uc3RydWN0ZWQgYnlcbiAqIGpvaW5pbmcgdGhlIHN0cmluZ3MgYXJyYXkuXG4gKi9cbmV4cG9ydCB0eXBlIHRlbXBsYXRlQ2FjaGUgPSB7XG4gIHJlYWRvbmx5IHN0cmluZ3NBcnJheTogV2Vha01hcDxUZW1wbGF0ZVN0cmluZ3NBcnJheSwgVGVtcGxhdGU+OyAvL1xuICByZWFkb25seSBrZXlTdHJpbmc6IE1hcDxzdHJpbmcsIFRlbXBsYXRlPjtcbn07XG5cbmV4cG9ydCBjb25zdCB0ZW1wbGF0ZUNhY2hlcyA9IG5ldyBNYXA8c3RyaW5nLCB0ZW1wbGF0ZUNhY2hlPigpO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuXG4vKipcbiAqIEBtb2R1bGUgbGl0LWh0bWxcbiAqL1xuXG5pbXBvcnQge3JlbW92ZU5vZGVzfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQge05vZGVQYXJ0fSBmcm9tICcuL3BhcnRzLmpzJztcbmltcG9ydCB7UmVuZGVyT3B0aW9uc30gZnJvbSAnLi9yZW5kZXItb3B0aW9ucy5qcyc7XG5pbXBvcnQge3RlbXBsYXRlRmFjdG9yeX0gZnJvbSAnLi90ZW1wbGF0ZS1mYWN0b3J5LmpzJztcbmltcG9ydCB7VGVtcGxhdGVSZXN1bHR9IGZyb20gJy4vdGVtcGxhdGUtcmVzdWx0LmpzJztcblxuZXhwb3J0IGNvbnN0IHBhcnRzID0gbmV3IFdlYWtNYXA8Tm9kZSwgTm9kZVBhcnQ+KCk7XG5cbi8qKlxuICogUmVuZGVycyBhIHRlbXBsYXRlIHRvIGEgY29udGFpbmVyLlxuICpcbiAqIFRvIHVwZGF0ZSBhIGNvbnRhaW5lciB3aXRoIG5ldyB2YWx1ZXMsIHJlZXZhbHVhdGUgdGhlIHRlbXBsYXRlIGxpdGVyYWwgYW5kXG4gKiBjYWxsIGByZW5kZXJgIHdpdGggdGhlIG5ldyByZXN1bHQuXG4gKlxuICogQHBhcmFtIHJlc3VsdCBhIFRlbXBsYXRlUmVzdWx0IGNyZWF0ZWQgYnkgZXZhbHVhdGluZyBhIHRlbXBsYXRlIHRhZyBsaWtlXG4gKiAgICAgYGh0bWxgIG9yIGBzdmdgLlxuICogQHBhcmFtIGNvbnRhaW5lciBBIERPTSBwYXJlbnQgdG8gcmVuZGVyIHRvLiBUaGUgZW50aXJlIGNvbnRlbnRzIGFyZSBlaXRoZXJcbiAqICAgICByZXBsYWNlZCwgb3IgZWZmaWNpZW50bHkgdXBkYXRlZCBpZiB0aGUgc2FtZSByZXN1bHQgdHlwZSB3YXMgcHJldmlvdXNcbiAqICAgICByZW5kZXJlZCB0aGVyZS5cbiAqIEBwYXJhbSBvcHRpb25zIFJlbmRlck9wdGlvbnMgZm9yIHRoZSBlbnRpcmUgcmVuZGVyIHRyZWUgcmVuZGVyZWQgdG8gdGhpc1xuICogICAgIGNvbnRhaW5lci4gUmVuZGVyIG9wdGlvbnMgbXVzdCAqbm90KiBjaGFuZ2UgYmV0d2VlbiByZW5kZXJzIHRvIHRoZSBzYW1lXG4gKiAgICAgY29udGFpbmVyLCBhcyB0aG9zZSBjaGFuZ2VzIHdpbGwgbm90IGVmZmVjdCBwcmV2aW91c2x5IHJlbmRlcmVkIERPTS5cbiAqL1xuZXhwb3J0IGNvbnN0IHJlbmRlciA9XG4gICAgKHJlc3VsdDogVGVtcGxhdGVSZXN1bHQsXG4gICAgIGNvbnRhaW5lcjogRWxlbWVudHxEb2N1bWVudEZyYWdtZW50LFxuICAgICBvcHRpb25zPzogUGFydGlhbDxSZW5kZXJPcHRpb25zPikgPT4ge1xuICAgICAgbGV0IHBhcnQgPSBwYXJ0cy5nZXQoY29udGFpbmVyKTtcbiAgICAgIGlmIChwYXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmVtb3ZlTm9kZXMoY29udGFpbmVyLCBjb250YWluZXIuZmlyc3RDaGlsZCk7XG4gICAgICAgIHBhcnRzLnNldChjb250YWluZXIsIHBhcnQgPSBuZXcgTm9kZVBhcnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlRmFjdG9yeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgIHBhcnQuYXBwZW5kSW50byhjb250YWluZXIpO1xuICAgICAgfVxuICAgICAgcGFydC5zZXRWYWx1ZShyZXN1bHQpO1xuICAgICAgcGFydC5jb21taXQoKTtcbiAgICB9O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuXG4vKipcbiAqXG4gKiBNYWluIGxpdC1odG1sIG1vZHVsZS5cbiAqXG4gKiBNYWluIGV4cG9ydHM6XG4gKlxuICogLSAgW1todG1sXV1cbiAqIC0gIFtbc3ZnXV1cbiAqIC0gIFtbcmVuZGVyXV1cbiAqXG4gKiBAbW9kdWxlIGxpdC1odG1sXG4gKiBAcHJlZmVycmVkXG4gKi9cblxuLyoqXG4gKiBEbyBub3QgcmVtb3ZlIHRoaXMgY29tbWVudDsgaXQga2VlcHMgdHlwZWRvYyBmcm9tIG1pc3BsYWNpbmcgdGhlIG1vZHVsZVxuICogZG9jcy5cbiAqL1xuaW1wb3J0IHtkZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3J9IGZyb20gJy4vbGliL2RlZmF1bHQtdGVtcGxhdGUtcHJvY2Vzc29yLmpzJztcbmltcG9ydCB7U1ZHVGVtcGxhdGVSZXN1bHQsIFRlbXBsYXRlUmVzdWx0fSBmcm9tICcuL2xpYi90ZW1wbGF0ZS1yZXN1bHQuanMnO1xuXG5leHBvcnQge0RlZmF1bHRUZW1wbGF0ZVByb2Nlc3NvciwgZGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yfSBmcm9tICcuL2xpYi9kZWZhdWx0LXRlbXBsYXRlLXByb2Nlc3Nvci5qcyc7XG5leHBvcnQge2RpcmVjdGl2ZSwgRGlyZWN0aXZlRm4sIGlzRGlyZWN0aXZlfSBmcm9tICcuL2xpYi9kaXJlY3RpdmUuanMnO1xuLy8gVE9ETyhqdXN0aW5mYWduYW5pKTogcmVtb3ZlIGxpbmUgd2hlbiB3ZSBnZXQgTm9kZVBhcnQgbW92aW5nIG1ldGhvZHNcbmV4cG9ydCB7cmVtb3ZlTm9kZXMsIHJlcGFyZW50Tm9kZXN9IGZyb20gJy4vbGliL2RvbS5qcyc7XG5leHBvcnQge25vQ2hhbmdlLCBub3RoaW5nLCBQYXJ0fSBmcm9tICcuL2xpYi9wYXJ0LmpzJztcbmV4cG9ydCB7QXR0cmlidXRlQ29tbWl0dGVyLCBBdHRyaWJ1dGVQYXJ0LCBCb29sZWFuQXR0cmlidXRlUGFydCwgRXZlbnRQYXJ0LCBpc0l0ZXJhYmxlLCBpc1ByaW1pdGl2ZSwgTm9kZVBhcnQsIFByb3BlcnR5Q29tbWl0dGVyLCBQcm9wZXJ0eVBhcnR9IGZyb20gJy4vbGliL3BhcnRzLmpzJztcbmV4cG9ydCB7UmVuZGVyT3B0aW9uc30gZnJvbSAnLi9saWIvcmVuZGVyLW9wdGlvbnMuanMnO1xuZXhwb3J0IHtwYXJ0cywgcmVuZGVyfSBmcm9tICcuL2xpYi9yZW5kZXIuanMnO1xuZXhwb3J0IHt0ZW1wbGF0ZUNhY2hlcywgdGVtcGxhdGVGYWN0b3J5fSBmcm9tICcuL2xpYi90ZW1wbGF0ZS1mYWN0b3J5LmpzJztcbmV4cG9ydCB7VGVtcGxhdGVJbnN0YW5jZX0gZnJvbSAnLi9saWIvdGVtcGxhdGUtaW5zdGFuY2UuanMnO1xuZXhwb3J0IHtUZW1wbGF0ZVByb2Nlc3Nvcn0gZnJvbSAnLi9saWIvdGVtcGxhdGUtcHJvY2Vzc29yLmpzJztcbmV4cG9ydCB7U1ZHVGVtcGxhdGVSZXN1bHQsIFRlbXBsYXRlUmVzdWx0fSBmcm9tICcuL2xpYi90ZW1wbGF0ZS1yZXN1bHQuanMnO1xuZXhwb3J0IHtjcmVhdGVNYXJrZXIsIGlzVGVtcGxhdGVQYXJ0QWN0aXZlLCBUZW1wbGF0ZX0gZnJvbSAnLi9saWIvdGVtcGxhdGUuanMnO1xuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBXaW5kb3cge1xuICAgIGxpdEh0bWxWZXJzaW9uczogc3RyaW5nW107XG4gIH1cbn1cblxuLy8gSU1QT1JUQU5UOiBkbyBub3QgY2hhbmdlIHRoZSBwcm9wZXJ0eSBuYW1lIG9yIHRoZSBhc3NpZ25tZW50IGV4cHJlc3Npb24uXG4vLyBUaGlzIGxpbmUgd2lsbCBiZSB1c2VkIGluIHJlZ2V4ZXMgdG8gc2VhcmNoIGZvciBsaXQtaHRtbCB1c2FnZS5cbi8vIFRPRE8oanVzdGluZmFnbmFuaSk6IGluamVjdCB2ZXJzaW9uIG51bWJlciBhdCBidWlsZCB0aW1lXG4od2luZG93WydsaXRIdG1sVmVyc2lvbnMnXSB8fCAod2luZG93WydsaXRIdG1sVmVyc2lvbnMnXSA9IFtdKSkucHVzaCgnMS4wLjAnKTtcblxuLyoqXG4gKiBJbnRlcnByZXRzIGEgdGVtcGxhdGUgbGl0ZXJhbCBhcyBhbiBIVE1MIHRlbXBsYXRlIHRoYXQgY2FuIGVmZmljaWVudGx5XG4gKiByZW5kZXIgdG8gYW5kIHVwZGF0ZSBhIGNvbnRhaW5lci5cbiAqL1xuZXhwb3J0IGNvbnN0IGh0bWwgPSAoc3RyaW5nczogVGVtcGxhdGVTdHJpbmdzQXJyYXksIC4uLnZhbHVlczogdW5rbm93bltdKSA9PlxuICAgIG5ldyBUZW1wbGF0ZVJlc3VsdChzdHJpbmdzLCB2YWx1ZXMsICdodG1sJywgZGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yKTtcblxuLyoqXG4gKiBJbnRlcnByZXRzIGEgdGVtcGxhdGUgbGl0ZXJhbCBhcyBhbiBTVkcgdGVtcGxhdGUgdGhhdCBjYW4gZWZmaWNpZW50bHlcbiAqIHJlbmRlciB0byBhbmQgdXBkYXRlIGEgY29udGFpbmVyLlxuICovXG5leHBvcnQgY29uc3Qgc3ZnID0gKHN0cmluZ3M6IFRlbXBsYXRlU3RyaW5nc0FycmF5LCAuLi52YWx1ZXM6IHVua25vd25bXSkgPT5cbiAgICBuZXcgU1ZHVGVtcGxhdGVSZXN1bHQoc3RyaW5ncywgdmFsdWVzLCAnc3ZnJywgZGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yKTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cblxuLyoqXG4gKiBAbW9kdWxlIHNoYWR5LXJlbmRlclxuICovXG5cbmltcG9ydCB7aXNUZW1wbGF0ZVBhcnRBY3RpdmUsIFRlbXBsYXRlLCBUZW1wbGF0ZVBhcnR9IGZyb20gJy4vdGVtcGxhdGUuanMnO1xuXG5jb25zdCB3YWxrZXJOb2RlRmlsdGVyID0gMTMzIC8qIE5vZGVGaWx0ZXIuU0hPV197RUxFTUVOVHxDT01NRU5UfFRFWFR9ICovO1xuXG4vKipcbiAqIFJlbW92ZXMgdGhlIGxpc3Qgb2Ygbm9kZXMgZnJvbSBhIFRlbXBsYXRlIHNhZmVseS4gSW4gYWRkaXRpb24gdG8gcmVtb3ZpbmdcbiAqIG5vZGVzIGZyb20gdGhlIFRlbXBsYXRlLCB0aGUgVGVtcGxhdGUgcGFydCBpbmRpY2VzIGFyZSB1cGRhdGVkIHRvIG1hdGNoXG4gKiB0aGUgbXV0YXRlZCBUZW1wbGF0ZSBET00uXG4gKlxuICogQXMgdGhlIHRlbXBsYXRlIGlzIHdhbGtlZCB0aGUgcmVtb3ZhbCBzdGF0ZSBpcyB0cmFja2VkIGFuZFxuICogcGFydCBpbmRpY2VzIGFyZSBhZGp1c3RlZCBhcyBuZWVkZWQuXG4gKlxuICogZGl2XG4gKiAgIGRpdiMxIChyZW1vdmUpIDwtLSBzdGFydCByZW1vdmluZyAocmVtb3Zpbmcgbm9kZSBpcyBkaXYjMSlcbiAqICAgICBkaXZcbiAqICAgICAgIGRpdiMyIChyZW1vdmUpICA8LS0gY29udGludWUgcmVtb3ZpbmcgKHJlbW92aW5nIG5vZGUgaXMgc3RpbGwgZGl2IzEpXG4gKiAgICAgICAgIGRpdlxuICogZGl2IDwtLSBzdG9wIHJlbW92aW5nIHNpbmNlIHByZXZpb3VzIHNpYmxpbmcgaXMgdGhlIHJlbW92aW5nIG5vZGUgKGRpdiMxLFxuICogcmVtb3ZlZCA0IG5vZGVzKVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlTm9kZXNGcm9tVGVtcGxhdGUoXG4gICAgdGVtcGxhdGU6IFRlbXBsYXRlLCBub2Rlc1RvUmVtb3ZlOiBTZXQ8Tm9kZT4pIHtcbiAgY29uc3Qge2VsZW1lbnQ6IHtjb250ZW50fSwgcGFydHN9ID0gdGVtcGxhdGU7XG4gIGNvbnN0IHdhbGtlciA9XG4gICAgICBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKGNvbnRlbnQsIHdhbGtlck5vZGVGaWx0ZXIsIG51bGwsIGZhbHNlKTtcbiAgbGV0IHBhcnRJbmRleCA9IG5leHRBY3RpdmVJbmRleEluVGVtcGxhdGVQYXJ0cyhwYXJ0cyk7XG4gIGxldCBwYXJ0ID0gcGFydHNbcGFydEluZGV4XTtcbiAgbGV0IG5vZGVJbmRleCA9IC0xO1xuICBsZXQgcmVtb3ZlQ291bnQgPSAwO1xuICBjb25zdCBub2Rlc1RvUmVtb3ZlSW5UZW1wbGF0ZSA9IFtdO1xuICBsZXQgY3VycmVudFJlbW92aW5nTm9kZTogTm9kZXxudWxsID0gbnVsbDtcbiAgd2hpbGUgKHdhbGtlci5uZXh0Tm9kZSgpKSB7XG4gICAgbm9kZUluZGV4Kys7XG4gICAgY29uc3Qgbm9kZSA9IHdhbGtlci5jdXJyZW50Tm9kZSBhcyBFbGVtZW50O1xuICAgIC8vIEVuZCByZW1vdmFsIGlmIHN0ZXBwZWQgcGFzdCB0aGUgcmVtb3Zpbmcgbm9kZVxuICAgIGlmIChub2RlLnByZXZpb3VzU2libGluZyA9PT0gY3VycmVudFJlbW92aW5nTm9kZSkge1xuICAgICAgY3VycmVudFJlbW92aW5nTm9kZSA9IG51bGw7XG4gICAgfVxuICAgIC8vIEEgbm9kZSB0byByZW1vdmUgd2FzIGZvdW5kIGluIHRoZSB0ZW1wbGF0ZVxuICAgIGlmIChub2Rlc1RvUmVtb3ZlLmhhcyhub2RlKSkge1xuICAgICAgbm9kZXNUb1JlbW92ZUluVGVtcGxhdGUucHVzaChub2RlKTtcbiAgICAgIC8vIFRyYWNrIG5vZGUgd2UncmUgcmVtb3ZpbmdcbiAgICAgIGlmIChjdXJyZW50UmVtb3ZpbmdOb2RlID09PSBudWxsKSB7XG4gICAgICAgIGN1cnJlbnRSZW1vdmluZ05vZGUgPSBub2RlO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBXaGVuIHJlbW92aW5nLCBpbmNyZW1lbnQgY291bnQgYnkgd2hpY2ggdG8gYWRqdXN0IHN1YnNlcXVlbnQgcGFydCBpbmRpY2VzXG4gICAgaWYgKGN1cnJlbnRSZW1vdmluZ05vZGUgIT09IG51bGwpIHtcbiAgICAgIHJlbW92ZUNvdW50Kys7XG4gICAgfVxuICAgIHdoaWxlIChwYXJ0ICE9PSB1bmRlZmluZWQgJiYgcGFydC5pbmRleCA9PT0gbm9kZUluZGV4KSB7XG4gICAgICAvLyBJZiBwYXJ0IGlzIGluIGEgcmVtb3ZlZCBub2RlIGRlYWN0aXZhdGUgaXQgYnkgc2V0dGluZyBpbmRleCB0byAtMSBvclxuICAgICAgLy8gYWRqdXN0IHRoZSBpbmRleCBhcyBuZWVkZWQuXG4gICAgICBwYXJ0LmluZGV4ID0gY3VycmVudFJlbW92aW5nTm9kZSAhPT0gbnVsbCA/IC0xIDogcGFydC5pbmRleCAtIHJlbW92ZUNvdW50O1xuICAgICAgLy8gZ28gdG8gdGhlIG5leHQgYWN0aXZlIHBhcnQuXG4gICAgICBwYXJ0SW5kZXggPSBuZXh0QWN0aXZlSW5kZXhJblRlbXBsYXRlUGFydHMocGFydHMsIHBhcnRJbmRleCk7XG4gICAgICBwYXJ0ID0gcGFydHNbcGFydEluZGV4XTtcbiAgICB9XG4gIH1cbiAgbm9kZXNUb1JlbW92ZUluVGVtcGxhdGUuZm9yRWFjaCgobikgPT4gbi5wYXJlbnROb2RlIS5yZW1vdmVDaGlsZChuKSk7XG59XG5cbmNvbnN0IGNvdW50Tm9kZXMgPSAobm9kZTogTm9kZSkgPT4ge1xuICBsZXQgY291bnQgPSAobm9kZS5ub2RlVHlwZSA9PT0gMTEgLyogTm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFICovKSA/IDAgOiAxO1xuICBjb25zdCB3YWxrZXIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKG5vZGUsIHdhbGtlck5vZGVGaWx0ZXIsIG51bGwsIGZhbHNlKTtcbiAgd2hpbGUgKHdhbGtlci5uZXh0Tm9kZSgpKSB7XG4gICAgY291bnQrKztcbiAgfVxuICByZXR1cm4gY291bnQ7XG59O1xuXG5jb25zdCBuZXh0QWN0aXZlSW5kZXhJblRlbXBsYXRlUGFydHMgPVxuICAgIChwYXJ0czogVGVtcGxhdGVQYXJ0W10sIHN0YXJ0SW5kZXg6IG51bWJlciA9IC0xKSA9PiB7XG4gICAgICBmb3IgKGxldCBpID0gc3RhcnRJbmRleCArIDE7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBwYXJ0ID0gcGFydHNbaV07XG4gICAgICAgIGlmIChpc1RlbXBsYXRlUGFydEFjdGl2ZShwYXJ0KSkge1xuICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfTtcblxuLyoqXG4gKiBJbnNlcnRzIHRoZSBnaXZlbiBub2RlIGludG8gdGhlIFRlbXBsYXRlLCBvcHRpb25hbGx5IGJlZm9yZSB0aGUgZ2l2ZW5cbiAqIHJlZk5vZGUuIEluIGFkZGl0aW9uIHRvIGluc2VydGluZyB0aGUgbm9kZSBpbnRvIHRoZSBUZW1wbGF0ZSwgdGhlIFRlbXBsYXRlXG4gKiBwYXJ0IGluZGljZXMgYXJlIHVwZGF0ZWQgdG8gbWF0Y2ggdGhlIG11dGF0ZWQgVGVtcGxhdGUgRE9NLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0Tm9kZUludG9UZW1wbGF0ZShcbiAgICB0ZW1wbGF0ZTogVGVtcGxhdGUsIG5vZGU6IE5vZGUsIHJlZk5vZGU6IE5vZGV8bnVsbCA9IG51bGwpIHtcbiAgY29uc3Qge2VsZW1lbnQ6IHtjb250ZW50fSwgcGFydHN9ID0gdGVtcGxhdGU7XG4gIC8vIElmIHRoZXJlJ3Mgbm8gcmVmTm9kZSwgdGhlbiBwdXQgbm9kZSBhdCBlbmQgb2YgdGVtcGxhdGUuXG4gIC8vIE5vIHBhcnQgaW5kaWNlcyBuZWVkIHRvIGJlIHNoaWZ0ZWQgaW4gdGhpcyBjYXNlLlxuICBpZiAocmVmTm9kZSA9PT0gbnVsbCB8fCByZWZOb2RlID09PSB1bmRlZmluZWQpIHtcbiAgICBjb250ZW50LmFwcGVuZENoaWxkKG5vZGUpO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCB3YWxrZXIgPVxuICAgICAgZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihjb250ZW50LCB3YWxrZXJOb2RlRmlsdGVyLCBudWxsLCBmYWxzZSk7XG4gIGxldCBwYXJ0SW5kZXggPSBuZXh0QWN0aXZlSW5kZXhJblRlbXBsYXRlUGFydHMocGFydHMpO1xuICBsZXQgaW5zZXJ0Q291bnQgPSAwO1xuICBsZXQgd2Fsa2VySW5kZXggPSAtMTtcbiAgd2hpbGUgKHdhbGtlci5uZXh0Tm9kZSgpKSB7XG4gICAgd2Fsa2VySW5kZXgrKztcbiAgICBjb25zdCB3YWxrZXJOb2RlID0gd2Fsa2VyLmN1cnJlbnROb2RlIGFzIEVsZW1lbnQ7XG4gICAgaWYgKHdhbGtlck5vZGUgPT09IHJlZk5vZGUpIHtcbiAgICAgIGluc2VydENvdW50ID0gY291bnROb2Rlcyhub2RlKTtcbiAgICAgIHJlZk5vZGUucGFyZW50Tm9kZSEuaW5zZXJ0QmVmb3JlKG5vZGUsIHJlZk5vZGUpO1xuICAgIH1cbiAgICB3aGlsZSAocGFydEluZGV4ICE9PSAtMSAmJiBwYXJ0c1twYXJ0SW5kZXhdLmluZGV4ID09PSB3YWxrZXJJbmRleCkge1xuICAgICAgLy8gSWYgd2UndmUgaW5zZXJ0ZWQgdGhlIG5vZGUsIHNpbXBseSBhZGp1c3QgYWxsIHN1YnNlcXVlbnQgcGFydHNcbiAgICAgIGlmIChpbnNlcnRDb3VudCA+IDApIHtcbiAgICAgICAgd2hpbGUgKHBhcnRJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICBwYXJ0c1twYXJ0SW5kZXhdLmluZGV4ICs9IGluc2VydENvdW50O1xuICAgICAgICAgIHBhcnRJbmRleCA9IG5leHRBY3RpdmVJbmRleEluVGVtcGxhdGVQYXJ0cyhwYXJ0cywgcGFydEluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwYXJ0SW5kZXggPSBuZXh0QWN0aXZlSW5kZXhJblRlbXBsYXRlUGFydHMocGFydHMsIHBhcnRJbmRleCk7XG4gICAgfVxuICB9XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbi8qKlxuICogTW9kdWxlIHRvIGFkZCBzaGFkeSBET00vc2hhZHkgQ1NTIHBvbHlmaWxsIHN1cHBvcnQgdG8gbGl0LWh0bWwgdGVtcGxhdGVcbiAqIHJlbmRlcmluZy4gU2VlIHRoZSBbW3JlbmRlcl1dIG1ldGhvZCBmb3IgZGV0YWlscy5cbiAqXG4gKiBAbW9kdWxlIHNoYWR5LXJlbmRlclxuICogQHByZWZlcnJlZFxuICovXG5cbi8qKlxuICogRG8gbm90IHJlbW92ZSB0aGlzIGNvbW1lbnQ7IGl0IGtlZXBzIHR5cGVkb2MgZnJvbSBtaXNwbGFjaW5nIHRoZSBtb2R1bGVcbiAqIGRvY3MuXG4gKi9cbmltcG9ydCB7cmVtb3ZlTm9kZXN9IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7aW5zZXJ0Tm9kZUludG9UZW1wbGF0ZSwgcmVtb3ZlTm9kZXNGcm9tVGVtcGxhdGV9IGZyb20gJy4vbW9kaWZ5LXRlbXBsYXRlLmpzJztcbmltcG9ydCB7UmVuZGVyT3B0aW9uc30gZnJvbSAnLi9yZW5kZXItb3B0aW9ucy5qcyc7XG5pbXBvcnQge3BhcnRzLCByZW5kZXIgYXMgbGl0UmVuZGVyfSBmcm9tICcuL3JlbmRlci5qcyc7XG5pbXBvcnQge3RlbXBsYXRlQ2FjaGVzfSBmcm9tICcuL3RlbXBsYXRlLWZhY3RvcnkuanMnO1xuaW1wb3J0IHtUZW1wbGF0ZUluc3RhbmNlfSBmcm9tICcuL3RlbXBsYXRlLWluc3RhbmNlLmpzJztcbmltcG9ydCB7VGVtcGxhdGVSZXN1bHR9IGZyb20gJy4vdGVtcGxhdGUtcmVzdWx0LmpzJztcbmltcG9ydCB7bWFya2VyLCBUZW1wbGF0ZX0gZnJvbSAnLi90ZW1wbGF0ZS5qcyc7XG5cbmV4cG9ydCB7aHRtbCwgc3ZnLCBUZW1wbGF0ZVJlc3VsdH0gZnJvbSAnLi4vbGl0LWh0bWwuanMnO1xuXG4vLyBHZXQgYSBrZXkgdG8gbG9va3VwIGluIGB0ZW1wbGF0ZUNhY2hlc2AuXG5jb25zdCBnZXRUZW1wbGF0ZUNhY2hlS2V5ID0gKHR5cGU6IHN0cmluZywgc2NvcGVOYW1lOiBzdHJpbmcpID0+XG4gICAgYCR7dHlwZX0tLSR7c2NvcGVOYW1lfWA7XG5cbmxldCBjb21wYXRpYmxlU2hhZHlDU1NWZXJzaW9uID0gdHJ1ZTtcblxuaWYgKHR5cGVvZiB3aW5kb3cuU2hhZHlDU1MgPT09ICd1bmRlZmluZWQnKSB7XG4gIGNvbXBhdGlibGVTaGFkeUNTU1ZlcnNpb24gPSBmYWxzZTtcbn0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdy5TaGFkeUNTUy5wcmVwYXJlVGVtcGxhdGVEb20gPT09ICd1bmRlZmluZWQnKSB7XG4gIGNvbnNvbGUud2FybihcbiAgICAgIGBJbmNvbXBhdGlibGUgU2hhZHlDU1MgdmVyc2lvbiBkZXRlY3RlZC4gYCArXG4gICAgICBgUGxlYXNlIHVwZGF0ZSB0byBhdCBsZWFzdCBAd2ViY29tcG9uZW50cy93ZWJjb21wb25lbnRzanNAMi4wLjIgYW5kIGAgK1xuICAgICAgYEB3ZWJjb21wb25lbnRzL3NoYWR5Y3NzQDEuMy4xLmApO1xuICBjb21wYXRpYmxlU2hhZHlDU1NWZXJzaW9uID0gZmFsc2U7XG59XG5cbi8qKlxuICogVGVtcGxhdGUgZmFjdG9yeSB3aGljaCBzY29wZXMgdGVtcGxhdGUgRE9NIHVzaW5nIFNoYWR5Q1NTLlxuICogQHBhcmFtIHNjb3BlTmFtZSB7c3RyaW5nfVxuICovXG5jb25zdCBzaGFkeVRlbXBsYXRlRmFjdG9yeSA9IChzY29wZU5hbWU6IHN0cmluZykgPT5cbiAgICAocmVzdWx0OiBUZW1wbGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgY29uc3QgY2FjaGVLZXkgPSBnZXRUZW1wbGF0ZUNhY2hlS2V5KHJlc3VsdC50eXBlLCBzY29wZU5hbWUpO1xuICAgICAgbGV0IHRlbXBsYXRlQ2FjaGUgPSB0ZW1wbGF0ZUNhY2hlcy5nZXQoY2FjaGVLZXkpO1xuICAgICAgaWYgKHRlbXBsYXRlQ2FjaGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0ZW1wbGF0ZUNhY2hlID0ge1xuICAgICAgICAgIHN0cmluZ3NBcnJheTogbmV3IFdlYWtNYXA8VGVtcGxhdGVTdHJpbmdzQXJyYXksIFRlbXBsYXRlPigpLFxuICAgICAgICAgIGtleVN0cmluZzogbmV3IE1hcDxzdHJpbmcsIFRlbXBsYXRlPigpXG4gICAgICAgIH07XG4gICAgICAgIHRlbXBsYXRlQ2FjaGVzLnNldChjYWNoZUtleSwgdGVtcGxhdGVDYWNoZSk7XG4gICAgICB9XG5cbiAgICAgIGxldCB0ZW1wbGF0ZSA9IHRlbXBsYXRlQ2FjaGUuc3RyaW5nc0FycmF5LmdldChyZXN1bHQuc3RyaW5ncyk7XG4gICAgICBpZiAodGVtcGxhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdGVtcGxhdGU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGtleSA9IHJlc3VsdC5zdHJpbmdzLmpvaW4obWFya2VyKTtcbiAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGVDYWNoZS5rZXlTdHJpbmcuZ2V0KGtleSk7XG4gICAgICBpZiAodGVtcGxhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gcmVzdWx0LmdldFRlbXBsYXRlRWxlbWVudCgpO1xuICAgICAgICBpZiAoY29tcGF0aWJsZVNoYWR5Q1NTVmVyc2lvbikge1xuICAgICAgICAgIHdpbmRvdy5TaGFkeUNTUyEucHJlcGFyZVRlbXBsYXRlRG9tKGVsZW1lbnQsIHNjb3BlTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGVtcGxhdGUgPSBuZXcgVGVtcGxhdGUocmVzdWx0LCBlbGVtZW50KTtcbiAgICAgICAgdGVtcGxhdGVDYWNoZS5rZXlTdHJpbmcuc2V0KGtleSwgdGVtcGxhdGUpO1xuICAgICAgfVxuICAgICAgdGVtcGxhdGVDYWNoZS5zdHJpbmdzQXJyYXkuc2V0KHJlc3VsdC5zdHJpbmdzLCB0ZW1wbGF0ZSk7XG4gICAgICByZXR1cm4gdGVtcGxhdGU7XG4gICAgfTtcblxuY29uc3QgVEVNUExBVEVfVFlQRVMgPSBbJ2h0bWwnLCAnc3ZnJ107XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwgc3R5bGUgZWxlbWVudHMgZnJvbSBUZW1wbGF0ZXMgZm9yIHRoZSBnaXZlbiBzY29wZU5hbWUuXG4gKi9cbmNvbnN0IHJlbW92ZVN0eWxlc0Zyb21MaXRUZW1wbGF0ZXMgPSAoc2NvcGVOYW1lOiBzdHJpbmcpID0+IHtcbiAgVEVNUExBVEVfVFlQRVMuZm9yRWFjaCgodHlwZSkgPT4ge1xuICAgIGNvbnN0IHRlbXBsYXRlcyA9IHRlbXBsYXRlQ2FjaGVzLmdldChnZXRUZW1wbGF0ZUNhY2hlS2V5KHR5cGUsIHNjb3BlTmFtZSkpO1xuICAgIGlmICh0ZW1wbGF0ZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGVtcGxhdGVzLmtleVN0cmluZy5mb3JFYWNoKCh0ZW1wbGF0ZSkgPT4ge1xuICAgICAgICBjb25zdCB7ZWxlbWVudDoge2NvbnRlbnR9fSA9IHRlbXBsYXRlO1xuICAgICAgICAvLyBJRSAxMSBkb2Vzbid0IHN1cHBvcnQgdGhlIGl0ZXJhYmxlIHBhcmFtIFNldCBjb25zdHJ1Y3RvclxuICAgICAgICBjb25zdCBzdHlsZXMgPSBuZXcgU2V0PEVsZW1lbnQ+KCk7XG4gICAgICAgIEFycmF5LmZyb20oY29udGVudC5xdWVyeVNlbGVjdG9yQWxsKCdzdHlsZScpKS5mb3JFYWNoKChzOiBFbGVtZW50KSA9PiB7XG4gICAgICAgICAgc3R5bGVzLmFkZChzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJlbW92ZU5vZGVzRnJvbVRlbXBsYXRlKHRlbXBsYXRlLCBzdHlsZXMpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn07XG5cbmNvbnN0IHNoYWR5UmVuZGVyU2V0ID0gbmV3IFNldDxzdHJpbmc+KCk7XG5cbi8qKlxuICogRm9yIHRoZSBnaXZlbiBzY29wZSBuYW1lLCBlbnN1cmVzIHRoYXQgU2hhZHlDU1Mgc3R5bGUgc2NvcGluZyBpcyBwZXJmb3JtZWQuXG4gKiBUaGlzIGlzIGRvbmUganVzdCBvbmNlIHBlciBzY29wZSBuYW1lIHNvIHRoZSBmcmFnbWVudCBhbmQgdGVtcGxhdGUgY2Fubm90XG4gKiBiZSBtb2RpZmllZC5cbiAqICgxKSBleHRyYWN0cyBzdHlsZXMgZnJvbSB0aGUgcmVuZGVyZWQgZnJhZ21lbnQgYW5kIGhhbmRzIHRoZW0gdG8gU2hhZHlDU1NcbiAqIHRvIGJlIHNjb3BlZCBhbmQgYXBwZW5kZWQgdG8gdGhlIGRvY3VtZW50XG4gKiAoMikgcmVtb3ZlcyBzdHlsZSBlbGVtZW50cyBmcm9tIGFsbCBsaXQtaHRtbCBUZW1wbGF0ZXMgZm9yIHRoaXMgc2NvcGUgbmFtZS5cbiAqXG4gKiBOb3RlLCA8c3R5bGU+IGVsZW1lbnRzIGNhbiBvbmx5IGJlIHBsYWNlZCBpbnRvIHRlbXBsYXRlcyBmb3IgdGhlXG4gKiBpbml0aWFsIHJlbmRlcmluZyBvZiB0aGUgc2NvcGUuIElmIDxzdHlsZT4gZWxlbWVudHMgYXJlIGluY2x1ZGVkIGluIHRlbXBsYXRlc1xuICogZHluYW1pY2FsbHkgcmVuZGVyZWQgdG8gdGhlIHNjb3BlIChhZnRlciB0aGUgZmlyc3Qgc2NvcGUgcmVuZGVyKSwgdGhleSB3aWxsXG4gKiBub3QgYmUgc2NvcGVkIGFuZCB0aGUgPHN0eWxlPiB3aWxsIGJlIGxlZnQgaW4gdGhlIHRlbXBsYXRlIGFuZCByZW5kZXJlZFxuICogb3V0cHV0LlxuICovXG5jb25zdCBwcmVwYXJlVGVtcGxhdGVTdHlsZXMgPVxuICAgIChyZW5kZXJlZERPTTogRG9jdW1lbnRGcmFnbWVudCwgdGVtcGxhdGU6IFRlbXBsYXRlLCBzY29wZU5hbWU6IHN0cmluZykgPT4ge1xuICAgICAgc2hhZHlSZW5kZXJTZXQuYWRkKHNjb3BlTmFtZSk7XG4gICAgICAvLyBNb3ZlIHN0eWxlcyBvdXQgb2YgcmVuZGVyZWQgRE9NIGFuZCBzdG9yZS5cbiAgICAgIGNvbnN0IHN0eWxlcyA9IHJlbmRlcmVkRE9NLnF1ZXJ5U2VsZWN0b3JBbGwoJ3N0eWxlJyk7XG4gICAgICBjb25zdCB7bGVuZ3RofSA9IHN0eWxlcztcbiAgICAgIC8vIElmIHRoZXJlIGFyZSBubyBzdHlsZXMsIHNraXAgdW5uZWNlc3Nhcnkgd29ya1xuICAgICAgaWYgKGxlbmd0aCA9PT0gMCkge1xuICAgICAgICAvLyBFbnN1cmUgcHJlcGFyZVRlbXBsYXRlU3R5bGVzIGlzIGNhbGxlZCB0byBzdXBwb3J0IGFkZGluZ1xuICAgICAgICAvLyBzdHlsZXMgdmlhIGBwcmVwYXJlQWRvcHRlZENzc1RleHRgIHNpbmNlIHRoYXQgcmVxdWlyZXMgdGhhdFxuICAgICAgICAvLyBgcHJlcGFyZVRlbXBsYXRlU3R5bGVzYCBpcyBjYWxsZWQuXG4gICAgICAgIHdpbmRvdy5TaGFkeUNTUyEucHJlcGFyZVRlbXBsYXRlU3R5bGVzKHRlbXBsYXRlLmVsZW1lbnQsIHNjb3BlTmFtZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvbmRlbnNlZFN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgIC8vIENvbGxlY3Qgc3R5bGVzIGludG8gYSBzaW5nbGUgc3R5bGUuIFRoaXMgaGVscHMgdXMgbWFrZSBzdXJlIFNoYWR5Q1NTXG4gICAgICAvLyBtYW5pcHVsYXRpb25zIHdpbGwgbm90IHByZXZlbnQgdXMgZnJvbSBiZWluZyBhYmxlIHRvIGZpeCB1cCB0ZW1wbGF0ZVxuICAgICAgLy8gcGFydCBpbmRpY2VzLlxuICAgICAgLy8gTk9URTogY29sbGVjdGluZyBzdHlsZXMgaXMgaW5lZmZpY2llbnQgZm9yIGJyb3dzZXJzIGJ1dCBTaGFkeUNTU1xuICAgICAgLy8gY3VycmVudGx5IGRvZXMgdGhpcyBhbnl3YXkuIFdoZW4gaXQgZG9lcyBub3QsIHRoaXMgc2hvdWxkIGJlIGNoYW5nZWQuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gc3R5bGVzW2ldO1xuICAgICAgICBzdHlsZS5wYXJlbnROb2RlIS5yZW1vdmVDaGlsZChzdHlsZSk7XG4gICAgICAgIGNvbmRlbnNlZFN0eWxlLnRleHRDb250ZW50ISArPSBzdHlsZS50ZXh0Q29udGVudDtcbiAgICAgIH1cbiAgICAgIC8vIFJlbW92ZSBzdHlsZXMgZnJvbSBuZXN0ZWQgdGVtcGxhdGVzIGluIHRoaXMgc2NvcGUuXG4gICAgICByZW1vdmVTdHlsZXNGcm9tTGl0VGVtcGxhdGVzKHNjb3BlTmFtZSk7XG4gICAgICAvLyBBbmQgdGhlbiBwdXQgdGhlIGNvbmRlbnNlZCBzdHlsZSBpbnRvIHRoZSBcInJvb3RcIiB0ZW1wbGF0ZSBwYXNzZWQgaW4gYXNcbiAgICAgIC8vIGB0ZW1wbGF0ZWAuXG4gICAgICBjb25zdCBjb250ZW50ID0gdGVtcGxhdGUuZWxlbWVudC5jb250ZW50O1xuICAgICAgaW5zZXJ0Tm9kZUludG9UZW1wbGF0ZSh0ZW1wbGF0ZSwgY29uZGVuc2VkU3R5bGUsIGNvbnRlbnQuZmlyc3RDaGlsZCk7XG4gICAgICAvLyBOb3RlLCBpdCdzIGltcG9ydGFudCB0aGF0IFNoYWR5Q1NTIGdldHMgdGhlIHRlbXBsYXRlIHRoYXQgYGxpdC1odG1sYFxuICAgICAgLy8gd2lsbCBhY3R1YWxseSByZW5kZXIgc28gdGhhdCBpdCBjYW4gdXBkYXRlIHRoZSBzdHlsZSBpbnNpZGUgd2hlblxuICAgICAgLy8gbmVlZGVkIChlLmcuIEBhcHBseSBuYXRpdmUgU2hhZG93IERPTSBjYXNlKS5cbiAgICAgIHdpbmRvdy5TaGFkeUNTUyEucHJlcGFyZVRlbXBsYXRlU3R5bGVzKHRlbXBsYXRlLmVsZW1lbnQsIHNjb3BlTmFtZSk7XG4gICAgICBjb25zdCBzdHlsZSA9IGNvbnRlbnQucXVlcnlTZWxlY3Rvcignc3R5bGUnKTtcbiAgICAgIGlmICh3aW5kb3cuU2hhZHlDU1MhLm5hdGl2ZVNoYWRvdyAmJiBzdHlsZSAhPT0gbnVsbCkge1xuICAgICAgICAvLyBXaGVuIGluIG5hdGl2ZSBTaGFkb3cgRE9NLCBlbnN1cmUgdGhlIHN0eWxlIGNyZWF0ZWQgYnkgU2hhZHlDU1MgaXNcbiAgICAgICAgLy8gaW5jbHVkZWQgaW4gaW5pdGlhbGx5IHJlbmRlcmVkIG91dHB1dCAoYHJlbmRlcmVkRE9NYCkuXG4gICAgICAgIHJlbmRlcmVkRE9NLmluc2VydEJlZm9yZShzdHlsZS5jbG9uZU5vZGUodHJ1ZSksIHJlbmRlcmVkRE9NLmZpcnN0Q2hpbGQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gV2hlbiBubyBzdHlsZSBpcyBsZWZ0IGluIHRoZSB0ZW1wbGF0ZSwgcGFydHMgd2lsbCBiZSBicm9rZW4gYXMgYVxuICAgICAgICAvLyByZXN1bHQuIFRvIGZpeCB0aGlzLCB3ZSBwdXQgYmFjayB0aGUgc3R5bGUgbm9kZSBTaGFkeUNTUyByZW1vdmVkXG4gICAgICAgIC8vIGFuZCB0aGVuIHRlbGwgbGl0IHRvIHJlbW92ZSB0aGF0IG5vZGUgZnJvbSB0aGUgdGVtcGxhdGUuXG4gICAgICAgIC8vIFRoZXJlIGNhbiBiZSBubyBzdHlsZSBpbiB0aGUgdGVtcGxhdGUgaW4gMiBjYXNlcyAoMSkgd2hlbiBTaGFkeSBET01cbiAgICAgICAgLy8gaXMgaW4gdXNlLCBTaGFkeUNTUyByZW1vdmVzIGFsbCBzdHlsZXMsICgyKSB3aGVuIG5hdGl2ZSBTaGFkb3cgRE9NXG4gICAgICAgIC8vIGlzIGluIHVzZSBTaGFkeUNTUyByZW1vdmVzIHRoZSBzdHlsZSBpZiBpdCBjb250YWlucyBubyBjb250ZW50LlxuICAgICAgICAvLyBOT1RFLCBTaGFkeUNTUyBjcmVhdGVzIGl0cyBvd24gc3R5bGUgc28gd2UgY2FuIHNhZmVseSBhZGQvcmVtb3ZlXG4gICAgICAgIC8vIGBjb25kZW5zZWRTdHlsZWAgaGVyZS5cbiAgICAgICAgY29udGVudC5pbnNlcnRCZWZvcmUoY29uZGVuc2VkU3R5bGUsIGNvbnRlbnQuZmlyc3RDaGlsZCk7XG4gICAgICAgIGNvbnN0IHJlbW92ZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHJlbW92ZXMuYWRkKGNvbmRlbnNlZFN0eWxlKTtcbiAgICAgICAgcmVtb3ZlTm9kZXNGcm9tVGVtcGxhdGUodGVtcGxhdGUsIHJlbW92ZXMpO1xuICAgICAgfVxuICAgIH07XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2hhZHlSZW5kZXJPcHRpb25zIGV4dGVuZHMgUGFydGlhbDxSZW5kZXJPcHRpb25zPiB7XG4gIHNjb3BlTmFtZTogc3RyaW5nO1xufVxuXG4vKipcbiAqIEV4dGVuc2lvbiB0byB0aGUgc3RhbmRhcmQgYHJlbmRlcmAgbWV0aG9kIHdoaWNoIHN1cHBvcnRzIHJlbmRlcmluZ1xuICogdG8gU2hhZG93Um9vdHMgd2hlbiB0aGUgU2hhZHlET00gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJjb21wb25lbnRzL3NoYWR5ZG9tKVxuICogYW5kIFNoYWR5Q1NTIChodHRwczovL2dpdGh1Yi5jb20vd2ViY29tcG9uZW50cy9zaGFkeWNzcykgcG9seWZpbGxzIGFyZSB1c2VkXG4gKiBvciB3aGVuIHRoZSB3ZWJjb21wb25lbnRzanNcbiAqIChodHRwczovL2dpdGh1Yi5jb20vd2ViY29tcG9uZW50cy93ZWJjb21wb25lbnRzanMpIHBvbHlmaWxsIGlzIHVzZWQuXG4gKlxuICogQWRkcyBhIGBzY29wZU5hbWVgIG9wdGlvbiB3aGljaCBpcyB1c2VkIHRvIHNjb3BlIGVsZW1lbnQgRE9NIGFuZCBzdHlsZXNoZWV0c1xuICogd2hlbiBuYXRpdmUgU2hhZG93RE9NIGlzIHVuYXZhaWxhYmxlLiBUaGUgYHNjb3BlTmFtZWAgd2lsbCBiZSBhZGRlZCB0b1xuICogdGhlIGNsYXNzIGF0dHJpYnV0ZSBvZiBhbGwgcmVuZGVyZWQgRE9NLiBJbiBhZGRpdGlvbiwgYW55IHN0eWxlIGVsZW1lbnRzIHdpbGxcbiAqIGJlIGF1dG9tYXRpY2FsbHkgcmUtd3JpdHRlbiB3aXRoIHRoaXMgYHNjb3BlTmFtZWAgc2VsZWN0b3IgYW5kIG1vdmVkIG91dFxuICogb2YgdGhlIHJlbmRlcmVkIERPTSBhbmQgaW50byB0aGUgZG9jdW1lbnQgYDxoZWFkPmAuXG4gKlxuICogSXQgaXMgY29tbW9uIHRvIHVzZSB0aGlzIHJlbmRlciBtZXRob2QgaW4gY29uanVuY3Rpb24gd2l0aCBhIGN1c3RvbSBlbGVtZW50XG4gKiB3aGljaCByZW5kZXJzIGEgc2hhZG93Um9vdC4gV2hlbiB0aGlzIGlzIGRvbmUsIHR5cGljYWxseSB0aGUgZWxlbWVudCdzXG4gKiBgbG9jYWxOYW1lYCBzaG91bGQgYmUgdXNlZCBhcyB0aGUgYHNjb3BlTmFtZWAuXG4gKlxuICogSW4gYWRkaXRpb24gdG8gRE9NIHNjb3BpbmcsIFNoYWR5Q1NTIGFsc28gc3VwcG9ydHMgYSBiYXNpYyBzaGltIGZvciBjc3NcbiAqIGN1c3RvbSBwcm9wZXJ0aWVzIChuZWVkZWQgb25seSBvbiBvbGRlciBicm93c2VycyBsaWtlIElFMTEpIGFuZCBhIHNoaW0gZm9yXG4gKiBhIGRlcHJlY2F0ZWQgZmVhdHVyZSBjYWxsZWQgYEBhcHBseWAgdGhhdCBzdXBwb3J0cyBhcHBseWluZyBhIHNldCBvZiBjc3NcbiAqIGN1c3RvbSBwcm9wZXJ0aWVzIHRvIGEgZ2l2ZW4gbG9jYXRpb24uXG4gKlxuICogVXNhZ2UgY29uc2lkZXJhdGlvbnM6XG4gKlxuICogKiBQYXJ0IHZhbHVlcyBpbiBgPHN0eWxlPmAgZWxlbWVudHMgYXJlIG9ubHkgYXBwbGllZCB0aGUgZmlyc3QgdGltZSBhIGdpdmVuXG4gKiBgc2NvcGVOYW1lYCByZW5kZXJzLiBTdWJzZXF1ZW50IGNoYW5nZXMgdG8gcGFydHMgaW4gc3R5bGUgZWxlbWVudHMgd2lsbCBoYXZlXG4gKiBubyBlZmZlY3QuIEJlY2F1c2Ugb2YgdGhpcywgcGFydHMgaW4gc3R5bGUgZWxlbWVudHMgc2hvdWxkIG9ubHkgYmUgdXNlZCBmb3JcbiAqIHZhbHVlcyB0aGF0IHdpbGwgbmV2ZXIgY2hhbmdlLCBmb3IgZXhhbXBsZSBwYXJ0cyB0aGF0IHNldCBzY29wZS13aWRlIHRoZW1lXG4gKiB2YWx1ZXMgb3IgcGFydHMgd2hpY2ggcmVuZGVyIHNoYXJlZCBzdHlsZSBlbGVtZW50cy5cbiAqXG4gKiAqIE5vdGUsIGR1ZSB0byBhIGxpbWl0YXRpb24gb2YgdGhlIFNoYWR5RE9NIHBvbHlmaWxsLCByZW5kZXJpbmcgaW4gYVxuICogY3VzdG9tIGVsZW1lbnQncyBgY29uc3RydWN0b3JgIGlzIG5vdCBzdXBwb3J0ZWQuIEluc3RlYWQgcmVuZGVyaW5nIHNob3VsZFxuICogZWl0aGVyIGRvbmUgYXN5bmNocm9ub3VzbHksIGZvciBleGFtcGxlIGF0IG1pY3JvdGFzayB0aW1pbmcgKGZvciBleGFtcGxlXG4gKiBgUHJvbWlzZS5yZXNvbHZlKClgKSwgb3IgYmUgZGVmZXJyZWQgdW50aWwgdGhlIGZpcnN0IHRpbWUgdGhlIGVsZW1lbnQnc1xuICogYGNvbm5lY3RlZENhbGxiYWNrYCBydW5zLlxuICpcbiAqIFVzYWdlIGNvbnNpZGVyYXRpb25zIHdoZW4gdXNpbmcgc2hpbW1lZCBjdXN0b20gcHJvcGVydGllcyBvciBgQGFwcGx5YDpcbiAqXG4gKiAqIFdoZW5ldmVyIGFueSBkeW5hbWljIGNoYW5nZXMgYXJlIG1hZGUgd2hpY2ggYWZmZWN0XG4gKiBjc3MgY3VzdG9tIHByb3BlcnRpZXMsIGBTaGFkeUNTUy5zdHlsZUVsZW1lbnQoZWxlbWVudClgIG11c3QgYmUgY2FsbGVkXG4gKiB0byB1cGRhdGUgdGhlIGVsZW1lbnQuIFRoZXJlIGFyZSB0d28gY2FzZXMgd2hlbiB0aGlzIGlzIG5lZWRlZDpcbiAqICgxKSB0aGUgZWxlbWVudCBpcyBjb25uZWN0ZWQgdG8gYSBuZXcgcGFyZW50LCAoMikgYSBjbGFzcyBpcyBhZGRlZCB0byB0aGVcbiAqIGVsZW1lbnQgdGhhdCBjYXVzZXMgaXQgdG8gbWF0Y2ggZGlmZmVyZW50IGN1c3RvbSBwcm9wZXJ0aWVzLlxuICogVG8gYWRkcmVzcyB0aGUgZmlyc3QgY2FzZSB3aGVuIHJlbmRlcmluZyBhIGN1c3RvbSBlbGVtZW50LCBgc3R5bGVFbGVtZW50YFxuICogc2hvdWxkIGJlIGNhbGxlZCBpbiB0aGUgZWxlbWVudCdzIGBjb25uZWN0ZWRDYWxsYmFja2AuXG4gKlxuICogKiBTaGltbWVkIGN1c3RvbSBwcm9wZXJ0aWVzIG1heSBvbmx5IGJlIGRlZmluZWQgZWl0aGVyIGZvciBhbiBlbnRpcmVcbiAqIHNoYWRvd1Jvb3QgKGZvciBleGFtcGxlLCBpbiBhIGA6aG9zdGAgcnVsZSkgb3IgdmlhIGEgcnVsZSB0aGF0IGRpcmVjdGx5XG4gKiBtYXRjaGVzIGFuIGVsZW1lbnQgd2l0aCBhIHNoYWRvd1Jvb3QuIEluIG90aGVyIHdvcmRzLCBpbnN0ZWFkIG9mIGZsb3dpbmcgZnJvbVxuICogcGFyZW50IHRvIGNoaWxkIGFzIGRvIG5hdGl2ZSBjc3MgY3VzdG9tIHByb3BlcnRpZXMsIHNoaW1tZWQgY3VzdG9tIHByb3BlcnRpZXNcbiAqIGZsb3cgb25seSBmcm9tIHNoYWRvd1Jvb3RzIHRvIG5lc3RlZCBzaGFkb3dSb290cy5cbiAqXG4gKiAqIFdoZW4gdXNpbmcgYEBhcHBseWAgbWl4aW5nIGNzcyBzaG9ydGhhbmQgcHJvcGVydHkgbmFtZXMgd2l0aFxuICogbm9uLXNob3J0aGFuZCBuYW1lcyAoZm9yIGV4YW1wbGUgYGJvcmRlcmAgYW5kIGBib3JkZXItd2lkdGhgKSBpcyBub3RcbiAqIHN1cHBvcnRlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IHJlbmRlciA9XG4gICAgKHJlc3VsdDogVGVtcGxhdGVSZXN1bHQsXG4gICAgIGNvbnRhaW5lcjogRWxlbWVudHxEb2N1bWVudEZyYWdtZW50fFNoYWRvd1Jvb3QsXG4gICAgIG9wdGlvbnM6IFNoYWR5UmVuZGVyT3B0aW9ucykgPT4ge1xuICAgICAgY29uc3Qgc2NvcGVOYW1lID0gb3B0aW9ucy5zY29wZU5hbWU7XG4gICAgICBjb25zdCBoYXNSZW5kZXJlZCA9IHBhcnRzLmhhcyhjb250YWluZXIpO1xuICAgICAgY29uc3QgbmVlZHNTY29waW5nID0gY29tcGF0aWJsZVNoYWR5Q1NTVmVyc2lvbiAmJlxuICAgICAgICAgIGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gMTEgLyogTm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFICovICYmXG4gICAgICAgICAgISEoY29udGFpbmVyIGFzIFNoYWRvd1Jvb3QpLmhvc3QgJiYgcmVzdWx0IGluc3RhbmNlb2YgVGVtcGxhdGVSZXN1bHQ7XG4gICAgICAvLyBIYW5kbGUgZmlyc3QgcmVuZGVyIHRvIGEgc2NvcGUgc3BlY2lhbGx5Li4uXG4gICAgICBjb25zdCBmaXJzdFNjb3BlUmVuZGVyID0gbmVlZHNTY29waW5nICYmICFzaGFkeVJlbmRlclNldC5oYXMoc2NvcGVOYW1lKTtcbiAgICAgIC8vIE9uIGZpcnN0IHNjb3BlIHJlbmRlciwgcmVuZGVyIGludG8gYSBmcmFnbWVudDsgdGhpcyBjYW5ub3QgYmUgYSBzaW5nbGVcbiAgICAgIC8vIGZyYWdtZW50IHRoYXQgaXMgcmV1c2VkIHNpbmNlIG5lc3RlZCByZW5kZXJzIGNhbiBvY2N1ciBzeW5jaHJvbm91c2x5LlxuICAgICAgY29uc3QgcmVuZGVyQ29udGFpbmVyID1cbiAgICAgICAgICBmaXJzdFNjb3BlUmVuZGVyID8gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpIDogY29udGFpbmVyO1xuICAgICAgbGl0UmVuZGVyKFxuICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICByZW5kZXJDb250YWluZXIsXG4gICAgICAgICAge3RlbXBsYXRlRmFjdG9yeTogc2hhZHlUZW1wbGF0ZUZhY3Rvcnkoc2NvcGVOYW1lKSwgLi4ub3B0aW9uc30gYXNcbiAgICAgICAgICAgICAgUmVuZGVyT3B0aW9ucyk7XG4gICAgICAvLyBXaGVuIHBlcmZvcm1pbmcgZmlyc3Qgc2NvcGUgcmVuZGVyLFxuICAgICAgLy8gKDEpIFdlJ3ZlIHJlbmRlcmVkIGludG8gYSBmcmFnbWVudCBzbyB0aGF0IHRoZXJlJ3MgYSBjaGFuY2UgdG9cbiAgICAgIC8vIGBwcmVwYXJlVGVtcGxhdGVTdHlsZXNgIGJlZm9yZSBzdWItZWxlbWVudHMgaGl0IHRoZSBET01cbiAgICAgIC8vICh3aGljaCBtaWdodCBjYXVzZSB0aGVtIHRvIHJlbmRlciBiYXNlZCBvbiBhIGNvbW1vbiBwYXR0ZXJuIG9mXG4gICAgICAvLyByZW5kZXJpbmcgaW4gYSBjdXN0b20gZWxlbWVudCdzIGBjb25uZWN0ZWRDYWxsYmFja2ApO1xuICAgICAgLy8gKDIpIFNjb3BlIHRoZSB0ZW1wbGF0ZSB3aXRoIFNoYWR5Q1NTIG9uZSB0aW1lIG9ubHkgZm9yIHRoaXMgc2NvcGUuXG4gICAgICAvLyAoMykgUmVuZGVyIHRoZSBmcmFnbWVudCBpbnRvIHRoZSBjb250YWluZXIgYW5kIG1ha2Ugc3VyZSB0aGVcbiAgICAgIC8vIGNvbnRhaW5lciBrbm93cyBpdHMgYHBhcnRgIGlzIHRoZSBvbmUgd2UganVzdCByZW5kZXJlZC4gVGhpcyBlbnN1cmVzXG4gICAgICAvLyBET00gd2lsbCBiZSByZS11c2VkIG9uIHN1YnNlcXVlbnQgcmVuZGVycy5cbiAgICAgIGlmIChmaXJzdFNjb3BlUmVuZGVyKSB7XG4gICAgICAgIGNvbnN0IHBhcnQgPSBwYXJ0cy5nZXQocmVuZGVyQ29udGFpbmVyKSE7XG4gICAgICAgIHBhcnRzLmRlbGV0ZShyZW5kZXJDb250YWluZXIpO1xuICAgICAgICBpZiAocGFydC52YWx1ZSBpbnN0YW5jZW9mIFRlbXBsYXRlSW5zdGFuY2UpIHtcbiAgICAgICAgICBwcmVwYXJlVGVtcGxhdGVTdHlsZXMoXG4gICAgICAgICAgICAgIHJlbmRlckNvbnRhaW5lciBhcyBEb2N1bWVudEZyYWdtZW50LFxuICAgICAgICAgICAgICBwYXJ0LnZhbHVlLnRlbXBsYXRlLFxuICAgICAgICAgICAgICBzY29wZU5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJlbW92ZU5vZGVzKGNvbnRhaW5lciwgY29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocmVuZGVyQ29udGFpbmVyKTtcbiAgICAgICAgcGFydHMuc2V0KGNvbnRhaW5lciwgcGFydCk7XG4gICAgICB9XG4gICAgICAvLyBBZnRlciBlbGVtZW50cyBoYXZlIGhpdCB0aGUgRE9NLCB1cGRhdGUgc3R5bGluZyBpZiB0aGlzIGlzIHRoZVxuICAgICAgLy8gaW5pdGlhbCByZW5kZXIgdG8gdGhpcyBjb250YWluZXIuXG4gICAgICAvLyBUaGlzIGlzIG5lZWRlZCB3aGVuZXZlciBkeW5hbWljIGNoYW5nZXMgYXJlIG1hZGUgc28gaXQgd291bGQgYmVcbiAgICAgIC8vIHNhZmVzdCB0byBkbyBldmVyeSByZW5kZXI7IGhvd2V2ZXIsIHRoaXMgd291bGQgcmVncmVzcyBwZXJmb3JtYW5jZVxuICAgICAgLy8gc28gd2UgbGVhdmUgaXQgdXAgdG8gdGhlIHVzZXIgdG8gY2FsbCBgU2hhZHlDU1NTLnN0eWxlRWxlbWVudGBcbiAgICAgIC8vIGZvciBkeW5hbWljIGNoYW5nZXMuXG4gICAgICBpZiAoIWhhc1JlbmRlcmVkICYmIG5lZWRzU2NvcGluZykge1xuICAgICAgICB3aW5kb3cuU2hhZHlDU1MhLnN0eWxlRWxlbWVudCgoY29udGFpbmVyIGFzIFNoYWRvd1Jvb3QpLmhvc3QpO1xuICAgICAgfVxuICAgIH07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbi8qKlxuICogV2hlbiB1c2luZyBDbG9zdXJlIENvbXBpbGVyLCBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KHByb3BlcnR5LCBvYmplY3QpIGlzXG4gKiByZXBsYWNlZCBhdCBjb21waWxlIHRpbWUgYnkgdGhlIG11bmdlZCBuYW1lIGZvciBvYmplY3RbcHJvcGVydHldLiBXZSBjYW5ub3RcbiAqIGFsaWFzIHRoaXMgZnVuY3Rpb24sIHNvIHdlIGhhdmUgdG8gdXNlIGEgc21hbGwgc2hpbSB0aGF0IGhhcyB0aGUgc2FtZVxuICogYmVoYXZpb3Igd2hlbiBub3QgY29tcGlsaW5nLlxuICovXG53aW5kb3cuSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSA9XG4gICAgPFAgZXh0ZW5kcyBQcm9wZXJ0eUtleT4ocHJvcDogUCwgX29iajogdW5rbm93bik6IFAgPT4gcHJvcDtcblxuZGVjbGFyZSBnbG9iYWwge1xuICB2YXIgSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eTogPFAgZXh0ZW5kcyBQcm9wZXJ0eUtleT4oXG4gICAgICBwcm9wOiBQLCBfb2JqOiB1bmtub3duKSA9PiBQO1xuXG4gIGludGVyZmFjZSBXaW5kb3cge1xuICAgIEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHk6IHR5cGVvZiBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5O1xuICB9XG59XG5cbi8qKlxuICogQ29udmVydHMgcHJvcGVydHkgdmFsdWVzIHRvIGFuZCBmcm9tIGF0dHJpYnV0ZSB2YWx1ZXMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGxleEF0dHJpYnV0ZUNvbnZlcnRlcjxUeXBlID0gdW5rbm93biwgVHlwZUhpbnQgPSB1bmtub3duPiB7XG4gIC8qKlxuICAgKiBGdW5jdGlvbiBjYWxsZWQgdG8gY29udmVydCBhbiBhdHRyaWJ1dGUgdmFsdWUgdG8gYSBwcm9wZXJ0eVxuICAgKiB2YWx1ZS5cbiAgICovXG4gIGZyb21BdHRyaWJ1dGU/KHZhbHVlOiBzdHJpbmd8bnVsbCwgdHlwZT86IFR5cGVIaW50KTogVHlwZTtcblxuICAvKipcbiAgICogRnVuY3Rpb24gY2FsbGVkIHRvIGNvbnZlcnQgYSBwcm9wZXJ0eSB2YWx1ZSB0byBhbiBhdHRyaWJ1dGVcbiAgICogdmFsdWUuXG4gICAqXG4gICAqIEl0IHJldHVybnMgdW5rbm93biBpbnN0ZWFkIG9mIHN0cmluZywgdG8gYmUgY29tcGF0aWJsZSB3aXRoXG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9XSUNHL3RydXN0ZWQtdHlwZXMgKGFuZCBzaW1pbGFyIGVmZm9ydHMpLlxuICAgKi9cbiAgdG9BdHRyaWJ1dGU/KHZhbHVlOiBUeXBlLCB0eXBlPzogVHlwZUhpbnQpOiB1bmtub3duO1xufVxuXG50eXBlIEF0dHJpYnV0ZUNvbnZlcnRlcjxUeXBlID0gdW5rbm93biwgVHlwZUhpbnQgPSB1bmtub3duPiA9XG4gICAgQ29tcGxleEF0dHJpYnV0ZUNvbnZlcnRlcjxUeXBlPnwoKHZhbHVlOiBzdHJpbmcsIHR5cGU/OiBUeXBlSGludCkgPT4gVHlwZSk7XG5cbi8qKlxuICogRGVmaW5lcyBvcHRpb25zIGZvciBhIHByb3BlcnR5IGFjY2Vzc29yLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFByb3BlcnR5RGVjbGFyYXRpb248VHlwZSA9IHVua25vd24sIFR5cGVIaW50ID0gdW5rbm93bj4ge1xuICAvKipcbiAgICogSW5kaWNhdGVzIGhvdyBhbmQgd2hldGhlciB0aGUgcHJvcGVydHkgYmVjb21lcyBhbiBvYnNlcnZlZCBhdHRyaWJ1dGUuXG4gICAqIElmIHRoZSB2YWx1ZSBpcyBgZmFsc2VgLCB0aGUgcHJvcGVydHkgaXMgbm90IGFkZGVkIHRvIGBvYnNlcnZlZEF0dHJpYnV0ZXNgLlxuICAgKiBJZiB0cnVlIG9yIGFic2VudCwgdGhlIGxvd2VyY2FzZWQgcHJvcGVydHkgbmFtZSBpcyBvYnNlcnZlZCAoZS5nLiBgZm9vQmFyYFxuICAgKiBiZWNvbWVzIGBmb29iYXJgKS4gSWYgYSBzdHJpbmcsIHRoZSBzdHJpbmcgdmFsdWUgaXMgb2JzZXJ2ZWQgKGUuZ1xuICAgKiBgYXR0cmlidXRlOiAnZm9vLWJhcidgKS5cbiAgICovXG4gIHJlYWRvbmx5IGF0dHJpYnV0ZT86IGJvb2xlYW58c3RyaW5nO1xuXG4gIC8qKlxuICAgKiBJbmRpY2F0ZXMgdGhlIHR5cGUgb2YgdGhlIHByb3BlcnR5LiBUaGlzIGlzIHVzZWQgb25seSBhcyBhIGhpbnQgZm9yIHRoZVxuICAgKiBgY29udmVydGVyYCB0byBkZXRlcm1pbmUgaG93IHRvIGNvbnZlcnQgdGhlIGF0dHJpYnV0ZVxuICAgKiB0by9mcm9tIGEgcHJvcGVydHkuXG4gICAqL1xuICByZWFkb25seSB0eXBlPzogVHlwZUhpbnQ7XG5cbiAgLyoqXG4gICAqIEluZGljYXRlcyBob3cgdG8gY29udmVydCB0aGUgYXR0cmlidXRlIHRvL2Zyb20gYSBwcm9wZXJ0eS4gSWYgdGhpcyB2YWx1ZVxuICAgKiBpcyBhIGZ1bmN0aW9uLCBpdCBpcyB1c2VkIHRvIGNvbnZlcnQgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBhIHRoZSBwcm9wZXJ0eVxuICAgKiB2YWx1ZS4gSWYgaXQncyBhbiBvYmplY3QsIGl0IGNhbiBoYXZlIGtleXMgZm9yIGBmcm9tQXR0cmlidXRlYCBhbmRcbiAgICogYHRvQXR0cmlidXRlYC4gSWYgbm8gYHRvQXR0cmlidXRlYCBmdW5jdGlvbiBpcyBwcm92aWRlZCBhbmRcbiAgICogYHJlZmxlY3RgIGlzIHNldCB0byBgdHJ1ZWAsIHRoZSBwcm9wZXJ0eSB2YWx1ZSBpcyBzZXQgZGlyZWN0bHkgdG8gdGhlXG4gICAqIGF0dHJpYnV0ZS4gQSBkZWZhdWx0IGBjb252ZXJ0ZXJgIGlzIHVzZWQgaWYgbm9uZSBpcyBwcm92aWRlZDsgaXQgc3VwcG9ydHNcbiAgICogYEJvb2xlYW5gLCBgU3RyaW5nYCwgYE51bWJlcmAsIGBPYmplY3RgLCBhbmQgYEFycmF5YC4gTm90ZSxcbiAgICogd2hlbiBhIHByb3BlcnR5IGNoYW5nZXMgYW5kIHRoZSBjb252ZXJ0ZXIgaXMgdXNlZCB0byB1cGRhdGUgdGhlIGF0dHJpYnV0ZSxcbiAgICogdGhlIHByb3BlcnR5IGlzIG5ldmVyIHVwZGF0ZWQgYWdhaW4gYXMgYSByZXN1bHQgb2YgdGhlIGF0dHJpYnV0ZSBjaGFuZ2luZyxcbiAgICogYW5kIHZpY2UgdmVyc2EuXG4gICAqL1xuICByZWFkb25seSBjb252ZXJ0ZXI/OiBBdHRyaWJ1dGVDb252ZXJ0ZXI8VHlwZSwgVHlwZUhpbnQ+O1xuXG4gIC8qKlxuICAgKiBJbmRpY2F0ZXMgaWYgdGhlIHByb3BlcnR5IHNob3VsZCByZWZsZWN0IHRvIGFuIGF0dHJpYnV0ZS5cbiAgICogSWYgYHRydWVgLCB3aGVuIHRoZSBwcm9wZXJ0eSBpcyBzZXQsIHRoZSBhdHRyaWJ1dGUgaXMgc2V0IHVzaW5nIHRoZVxuICAgKiBhdHRyaWJ1dGUgbmFtZSBkZXRlcm1pbmVkIGFjY29yZGluZyB0byB0aGUgcnVsZXMgZm9yIHRoZSBgYXR0cmlidXRlYFxuICAgKiBwcm9wZXJ0eSBvcHRpb24gYW5kIHRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHkgY29udmVydGVkIHVzaW5nIHRoZSBydWxlc1xuICAgKiBmcm9tIHRoZSBgY29udmVydGVyYCBwcm9wZXJ0eSBvcHRpb24uXG4gICAqL1xuICByZWFkb25seSByZWZsZWN0PzogYm9vbGVhbjtcblxuICAvKipcbiAgICogQSBmdW5jdGlvbiB0aGF0IGluZGljYXRlcyBpZiBhIHByb3BlcnR5IHNob3VsZCBiZSBjb25zaWRlcmVkIGNoYW5nZWQgd2hlblxuICAgKiBpdCBpcyBzZXQuIFRoZSBmdW5jdGlvbiBzaG91bGQgdGFrZSB0aGUgYG5ld1ZhbHVlYCBhbmQgYG9sZFZhbHVlYCBhbmRcbiAgICogcmV0dXJuIGB0cnVlYCBpZiBhbiB1cGRhdGUgc2hvdWxkIGJlIHJlcXVlc3RlZC5cbiAgICovXG4gIGhhc0NoYW5nZWQ/KHZhbHVlOiBUeXBlLCBvbGRWYWx1ZTogVHlwZSk6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEluZGljYXRlcyB3aGV0aGVyIGFuIGFjY2Vzc29yIHdpbGwgYmUgY3JlYXRlZCBmb3IgdGhpcyBwcm9wZXJ0eS4gQnlcbiAgICogZGVmYXVsdCwgYW4gYWNjZXNzb3Igd2lsbCBiZSBnZW5lcmF0ZWQgZm9yIHRoaXMgcHJvcGVydHkgdGhhdCByZXF1ZXN0cyBhblxuICAgKiB1cGRhdGUgd2hlbiBzZXQuIElmIHRoaXMgZmxhZyBpcyBgdHJ1ZWAsIG5vIGFjY2Vzc29yIHdpbGwgYmUgY3JlYXRlZCwgYW5kXG4gICAqIGl0IHdpbGwgYmUgdGhlIHVzZXIncyByZXNwb25zaWJpbGl0eSB0byBjYWxsXG4gICAqIGB0aGlzLnJlcXVlc3RVcGRhdGUocHJvcGVydHlOYW1lLCBvbGRWYWx1ZSlgIHRvIHJlcXVlc3QgYW4gdXBkYXRlIHdoZW5cbiAgICogdGhlIHByb3BlcnR5IGNoYW5nZXMuXG4gICAqL1xuICByZWFkb25seSBub0FjY2Vzc29yPzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBNYXAgb2YgcHJvcGVydGllcyB0byBQcm9wZXJ0eURlY2xhcmF0aW9uIG9wdGlvbnMuIEZvciBlYWNoIHByb3BlcnR5IGFuXG4gKiBhY2Nlc3NvciBpcyBtYWRlLCBhbmQgdGhlIHByb3BlcnR5IGlzIHByb2Nlc3NlZCBhY2NvcmRpbmcgdG8gdGhlXG4gKiBQcm9wZXJ0eURlY2xhcmF0aW9uIG9wdGlvbnMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUHJvcGVydHlEZWNsYXJhdGlvbnMge1xuICByZWFkb25seSBba2V5OiBzdHJpbmddOiBQcm9wZXJ0eURlY2xhcmF0aW9uO1xufVxuXG50eXBlIFByb3BlcnR5RGVjbGFyYXRpb25NYXAgPSBNYXA8UHJvcGVydHlLZXksIFByb3BlcnR5RGVjbGFyYXRpb24+O1xuXG50eXBlIEF0dHJpYnV0ZU1hcCA9IE1hcDxzdHJpbmcsIFByb3BlcnR5S2V5PjtcblxuZXhwb3J0IHR5cGUgUHJvcGVydHlWYWx1ZXMgPSBNYXA8UHJvcGVydHlLZXksIHVua25vd24+O1xuXG5leHBvcnQgY29uc3QgZGVmYXVsdENvbnZlcnRlcjogQ29tcGxleEF0dHJpYnV0ZUNvbnZlcnRlciA9IHtcblxuICB0b0F0dHJpYnV0ZSh2YWx1ZTogdW5rbm93biwgdHlwZT86IHVua25vd24pOiB1bmtub3duIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgQm9vbGVhbjpcbiAgICAgICAgcmV0dXJuIHZhbHVlID8gJycgOiBudWxsO1xuICAgICAgY2FzZSBPYmplY3Q6XG4gICAgICBjYXNlIEFycmF5OlxuICAgICAgICAvLyBpZiB0aGUgdmFsdWUgaXMgYG51bGxgIG9yIGB1bmRlZmluZWRgIHBhc3MgdGhpcyB0aHJvdWdoXG4gICAgICAgIC8vIHRvIGFsbG93IHJlbW92aW5nL25vIGNoYW5nZSBiZWhhdmlvci5cbiAgICAgICAgcmV0dXJuIHZhbHVlID09IG51bGwgPyB2YWx1ZSA6IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9LFxuXG4gIGZyb21BdHRyaWJ1dGUodmFsdWU6IHN0cmluZ3xudWxsLCB0eXBlPzogdW5rbm93bikge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBCb29sZWFuOlxuICAgICAgICByZXR1cm4gdmFsdWUgIT09IG51bGw7XG4gICAgICBjYXNlIE51bWJlcjpcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsID8gbnVsbCA6IE51bWJlcih2YWx1ZSk7XG4gICAgICBjYXNlIE9iamVjdDpcbiAgICAgIGNhc2UgQXJyYXk6XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKHZhbHVlISk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIEhhc0NoYW5nZWQge1xuICAodmFsdWU6IHVua25vd24sIG9sZDogdW5rbm93bik6IGJvb2xlYW47XG59XG5cbi8qKlxuICogQ2hhbmdlIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0cnVlIGlmIGB2YWx1ZWAgaXMgZGlmZmVyZW50IGZyb20gYG9sZFZhbHVlYC5cbiAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgYXMgdGhlIGRlZmF1bHQgZm9yIGEgcHJvcGVydHkncyBgaGFzQ2hhbmdlZGAgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBub3RFcXVhbDogSGFzQ2hhbmdlZCA9ICh2YWx1ZTogdW5rbm93biwgb2xkOiB1bmtub3duKTogYm9vbGVhbiA9PiB7XG4gIC8vIFRoaXMgZW5zdXJlcyAob2xkPT1OYU4sIHZhbHVlPT1OYU4pIGFsd2F5cyByZXR1cm5zIGZhbHNlXG4gIHJldHVybiBvbGQgIT09IHZhbHVlICYmIChvbGQgPT09IG9sZCB8fCB2YWx1ZSA9PT0gdmFsdWUpO1xufTtcblxuY29uc3QgZGVmYXVsdFByb3BlcnR5RGVjbGFyYXRpb246IFByb3BlcnR5RGVjbGFyYXRpb24gPSB7XG4gIGF0dHJpYnV0ZTogdHJ1ZSxcbiAgdHlwZTogU3RyaW5nLFxuICBjb252ZXJ0ZXI6IGRlZmF1bHRDb252ZXJ0ZXIsXG4gIHJlZmxlY3Q6IGZhbHNlLFxuICBoYXNDaGFuZ2VkOiBub3RFcXVhbFxufTtcblxuY29uc3QgbWljcm90YXNrUHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSh0cnVlKTtcblxuY29uc3QgU1RBVEVfSEFTX1VQREFURUQgPSAxO1xuY29uc3QgU1RBVEVfVVBEQVRFX1JFUVVFU1RFRCA9IDEgPDwgMjtcbmNvbnN0IFNUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fQVRUUklCVVRFID0gMSA8PCAzO1xuY29uc3QgU1RBVEVfSVNfUkVGTEVDVElOR19UT19QUk9QRVJUWSA9IDEgPDwgNDtcbmNvbnN0IFNUQVRFX0hBU19DT05ORUNURUQgPSAxIDw8IDU7XG50eXBlIFVwZGF0ZVN0YXRlID0gdHlwZW9mIFNUQVRFX0hBU19VUERBVEVEfHR5cGVvZiBTVEFURV9VUERBVEVfUkVRVUVTVEVEfFxuICAgIHR5cGVvZiBTVEFURV9JU19SRUZMRUNUSU5HX1RPX0FUVFJJQlVURXxcbiAgICB0eXBlb2YgU1RBVEVfSVNfUkVGTEVDVElOR19UT19QUk9QRVJUWXx0eXBlb2YgU1RBVEVfSEFTX0NPTk5FQ1RFRDtcblxuLyoqXG4gKiBCYXNlIGVsZW1lbnQgY2xhc3Mgd2hpY2ggbWFuYWdlcyBlbGVtZW50IHByb3BlcnRpZXMgYW5kIGF0dHJpYnV0ZXMuIFdoZW5cbiAqIHByb3BlcnRpZXMgY2hhbmdlLCB0aGUgYHVwZGF0ZWAgbWV0aG9kIGlzIGFzeW5jaHJvbm91c2x5IGNhbGxlZC4gVGhpcyBtZXRob2RcbiAqIHNob3VsZCBiZSBzdXBwbGllZCBieSBzdWJjbGFzc2VycyB0byByZW5kZXIgdXBkYXRlcyBhcyBkZXNpcmVkLlxuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgVXBkYXRpbmdFbGVtZW50IGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICAvKlxuICAgKiBEdWUgdG8gY2xvc3VyZSBjb21waWxlciBFUzYgY29tcGlsYXRpb24gYnVncywgQG5vY29sbGFwc2UgaXMgcmVxdWlyZWQgb25cbiAgICogYWxsIHN0YXRpYyBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzIHdpdGggaW5pdGlhbGl6ZXJzLiAgUmVmZXJlbmNlOlxuICAgKiAtIGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvY2xvc3VyZS1jb21waWxlci9pc3N1ZXMvMTc3NlxuICAgKi9cblxuICAvKipcbiAgICogTWFwcyBhdHRyaWJ1dGUgbmFtZXMgdG8gcHJvcGVydGllczsgZm9yIGV4YW1wbGUgYGZvb2JhcmAgYXR0cmlidXRlIHRvXG4gICAqIGBmb29CYXJgIHByb3BlcnR5LiBDcmVhdGVkIGxhemlseSBvbiB1c2VyIHN1YmNsYXNzZXMgd2hlbiBmaW5hbGl6aW5nIHRoZVxuICAgKiBjbGFzcy5cbiAgICovXG4gIHByaXZhdGUgc3RhdGljIF9hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwOiBBdHRyaWJ1dGVNYXA7XG5cbiAgLyoqXG4gICAqIE1hcmtzIGNsYXNzIGFzIGhhdmluZyBmaW5pc2hlZCBjcmVhdGluZyBwcm9wZXJ0aWVzLlxuICAgKi9cbiAgcHJvdGVjdGVkIHN0YXRpYyBmaW5hbGl6ZWQgPSB0cnVlO1xuXG4gIC8qKlxuICAgKiBNZW1vaXplZCBsaXN0IG9mIGFsbCBjbGFzcyBwcm9wZXJ0aWVzLCBpbmNsdWRpbmcgYW55IHN1cGVyY2xhc3MgcHJvcGVydGllcy5cbiAgICogQ3JlYXRlZCBsYXppbHkgb24gdXNlciBzdWJjbGFzc2VzIHdoZW4gZmluYWxpemluZyB0aGUgY2xhc3MuXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBfY2xhc3NQcm9wZXJ0aWVzPzogUHJvcGVydHlEZWNsYXJhdGlvbk1hcDtcblxuICAvKipcbiAgICogVXNlci1zdXBwbGllZCBvYmplY3QgdGhhdCBtYXBzIHByb3BlcnR5IG5hbWVzIHRvIGBQcm9wZXJ0eURlY2xhcmF0aW9uYFxuICAgKiBvYmplY3RzIGNvbnRhaW5pbmcgb3B0aW9ucyBmb3IgY29uZmlndXJpbmcgdGhlIHByb3BlcnR5LlxuICAgKi9cbiAgc3RhdGljIHByb3BlcnRpZXM6IFByb3BlcnR5RGVjbGFyYXRpb25zO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBhdHRyaWJ1dGVzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHJlZ2lzdGVyZWQgcHJvcGVydGllcy5cbiAgICogQG5vY29sbGFwc2VcbiAgICovXG4gIHN0YXRpYyBnZXQgb2JzZXJ2ZWRBdHRyaWJ1dGVzKCkge1xuICAgIC8vIG5vdGU6IHBpZ2d5IGJhY2tpbmcgb24gdGhpcyB0byBlbnN1cmUgd2UncmUgZmluYWxpemVkLlxuICAgIHRoaXMuZmluYWxpemUoKTtcbiAgICBjb25zdCBhdHRyaWJ1dGVzOiBzdHJpbmdbXSA9IFtdO1xuICAgIC8vIFVzZSBmb3JFYWNoIHNvIHRoaXMgd29ya3MgZXZlbiBpZiBmb3Ivb2YgbG9vcHMgYXJlIGNvbXBpbGVkIHRvIGZvciBsb29wc1xuICAgIC8vIGV4cGVjdGluZyBhcnJheXNcbiAgICB0aGlzLl9jbGFzc1Byb3BlcnRpZXMhLmZvckVhY2goKHYsIHApID0+IHtcbiAgICAgIGNvbnN0IGF0dHIgPSB0aGlzLl9hdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkocCwgdik7XG4gICAgICBpZiAoYXR0ciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuX2F0dHJpYnV0ZVRvUHJvcGVydHlNYXAuc2V0KGF0dHIsIHApO1xuICAgICAgICBhdHRyaWJ1dGVzLnB1c2goYXR0cik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGF0dHJpYnV0ZXM7XG4gIH1cblxuICAvKipcbiAgICogRW5zdXJlcyB0aGUgcHJpdmF0ZSBgX2NsYXNzUHJvcGVydGllc2AgcHJvcGVydHkgbWV0YWRhdGEgaXMgY3JlYXRlZC5cbiAgICogSW4gYWRkaXRpb24gdG8gYGZpbmFsaXplYCB0aGlzIGlzIGFsc28gY2FsbGVkIGluIGBjcmVhdGVQcm9wZXJ0eWAgdG9cbiAgICogZW5zdXJlIHRoZSBgQHByb3BlcnR5YCBkZWNvcmF0b3IgY2FuIGFkZCBwcm9wZXJ0eSBtZXRhZGF0YS5cbiAgICovXG4gIC8qKiBAbm9jb2xsYXBzZSAqL1xuICBwcml2YXRlIHN0YXRpYyBfZW5zdXJlQ2xhc3NQcm9wZXJ0aWVzKCkge1xuICAgIC8vIGVuc3VyZSBwcml2YXRlIHN0b3JhZ2UgZm9yIHByb3BlcnR5IGRlY2xhcmF0aW9ucy5cbiAgICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkoXG4gICAgICAgICAgICBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdfY2xhc3NQcm9wZXJ0aWVzJywgdGhpcykpKSB7XG4gICAgICB0aGlzLl9jbGFzc1Byb3BlcnRpZXMgPSBuZXcgTWFwKCk7XG4gICAgICAvLyBOT1RFOiBXb3JrYXJvdW5kIElFMTEgbm90IHN1cHBvcnRpbmcgTWFwIGNvbnN0cnVjdG9yIGFyZ3VtZW50LlxuICAgICAgY29uc3Qgc3VwZXJQcm9wZXJ0aWVzOiBQcm9wZXJ0eURlY2xhcmF0aW9uTWFwID1cbiAgICAgICAgICBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykuX2NsYXNzUHJvcGVydGllcztcbiAgICAgIGlmIChzdXBlclByb3BlcnRpZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzdXBlclByb3BlcnRpZXMuZm9yRWFjaChcbiAgICAgICAgICAgICh2OiBQcm9wZXJ0eURlY2xhcmF0aW9uLCBrOiBQcm9wZXJ0eUtleSkgPT5cbiAgICAgICAgICAgICAgICB0aGlzLl9jbGFzc1Byb3BlcnRpZXMhLnNldChrLCB2KSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBwcm9wZXJ0eSBhY2Nlc3NvciBvbiB0aGUgZWxlbWVudCBwcm90b3R5cGUgaWYgb25lIGRvZXMgbm90IGV4aXN0LlxuICAgKiBUaGUgcHJvcGVydHkgc2V0dGVyIGNhbGxzIHRoZSBwcm9wZXJ0eSdzIGBoYXNDaGFuZ2VkYCBwcm9wZXJ0eSBvcHRpb25cbiAgICogb3IgdXNlcyBhIHN0cmljdCBpZGVudGl0eSBjaGVjayB0byBkZXRlcm1pbmUgd2hldGhlciBvciBub3QgdG8gcmVxdWVzdFxuICAgKiBhbiB1cGRhdGUuXG4gICAqIEBub2NvbGxhcHNlXG4gICAqL1xuICBzdGF0aWMgY3JlYXRlUHJvcGVydHkoXG4gICAgICBuYW1lOiBQcm9wZXJ0eUtleSxcbiAgICAgIG9wdGlvbnM6IFByb3BlcnR5RGVjbGFyYXRpb24gPSBkZWZhdWx0UHJvcGVydHlEZWNsYXJhdGlvbikge1xuICAgIC8vIE5vdGUsIHNpbmNlIHRoaXMgY2FuIGJlIGNhbGxlZCBieSB0aGUgYEBwcm9wZXJ0eWAgZGVjb3JhdG9yIHdoaWNoXG4gICAgLy8gaXMgY2FsbGVkIGJlZm9yZSBgZmluYWxpemVgLCB3ZSBlbnN1cmUgc3RvcmFnZSBleGlzdHMgZm9yIHByb3BlcnR5XG4gICAgLy8gbWV0YWRhdGEuXG4gICAgdGhpcy5fZW5zdXJlQ2xhc3NQcm9wZXJ0aWVzKCk7XG4gICAgdGhpcy5fY2xhc3NQcm9wZXJ0aWVzIS5zZXQobmFtZSwgb3B0aW9ucyk7XG4gICAgLy8gRG8gbm90IGdlbmVyYXRlIGFuIGFjY2Vzc29yIGlmIHRoZSBwcm90b3R5cGUgYWxyZWFkeSBoYXMgb25lLCBzaW5jZVxuICAgIC8vIGl0IHdvdWxkIGJlIGxvc3Qgb3RoZXJ3aXNlIGFuZCB0aGF0IHdvdWxkIG5ldmVyIGJlIHRoZSB1c2VyJ3MgaW50ZW50aW9uO1xuICAgIC8vIEluc3RlYWQsIHdlIGV4cGVjdCB1c2VycyB0byBjYWxsIGByZXF1ZXN0VXBkYXRlYCB0aGVtc2VsdmVzIGZyb21cbiAgICAvLyB1c2VyLWRlZmluZWQgYWNjZXNzb3JzLiBOb3RlIHRoYXQgaWYgdGhlIHN1cGVyIGhhcyBhbiBhY2Nlc3NvciB3ZSB3aWxsXG4gICAgLy8gc3RpbGwgb3ZlcndyaXRlIGl0XG4gICAgaWYgKG9wdGlvbnMubm9BY2Nlc3NvciB8fCB0aGlzLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBrZXkgPSB0eXBlb2YgbmFtZSA9PT0gJ3N5bWJvbCcgPyBTeW1ib2woKSA6IGBfXyR7bmFtZX1gO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLnByb3RvdHlwZSwgbmFtZSwge1xuICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBubyBzeW1ib2wgaW4gaW5kZXhcbiAgICAgIGdldCgpOiBhbnkge1xuICAgICAgICByZXR1cm4gdGhpc1trZXldO1xuICAgICAgfSxcbiAgICAgIHNldCh0aGlzOiBVcGRhdGluZ0VsZW1lbnQsIHZhbHVlOiB1bmtub3duKSB7XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnkgbm8gc3ltYm9sIGluIGluZGV4XG4gICAgICAgIGNvbnN0IG9sZFZhbHVlID0gKHRoaXMgYXMgYW55KVtuYW1lXTtcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBubyBzeW1ib2wgaW4gaW5kZXhcbiAgICAgICAgKHRoaXMgYXMgYW55KVtrZXldID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3JlcXVlc3RVcGRhdGUobmFtZSwgb2xkVmFsdWUpO1xuICAgICAgfSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIHByb3BlcnR5IGFjY2Vzc29ycyBmb3IgcmVnaXN0ZXJlZCBwcm9wZXJ0aWVzIGFuZCBlbnN1cmVzXG4gICAqIGFueSBzdXBlcmNsYXNzZXMgYXJlIGFsc28gZmluYWxpemVkLlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKi9cbiAgcHJvdGVjdGVkIHN0YXRpYyBmaW5hbGl6ZSgpIHtcbiAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdmaW5hbGl6ZWQnLCB0aGlzKSkgJiZcbiAgICAgICAgdGhpcy5maW5hbGl6ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gZmluYWxpemUgYW55IHN1cGVyY2xhc3Nlc1xuICAgIGNvbnN0IHN1cGVyQ3RvciA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKTtcbiAgICBpZiAodHlwZW9mIHN1cGVyQ3Rvci5maW5hbGl6ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgc3VwZXJDdG9yLmZpbmFsaXplKCk7XG4gICAgfVxuICAgIHRoaXMuZmluYWxpemVkID0gdHJ1ZTtcbiAgICB0aGlzLl9lbnN1cmVDbGFzc1Byb3BlcnRpZXMoKTtcbiAgICAvLyBpbml0aWFsaXplIE1hcCBwb3B1bGF0ZWQgaW4gb2JzZXJ2ZWRBdHRyaWJ1dGVzXG4gICAgdGhpcy5fYXR0cmlidXRlVG9Qcm9wZXJ0eU1hcCA9IG5ldyBNYXAoKTtcbiAgICAvLyBtYWtlIGFueSBwcm9wZXJ0aWVzXG4gICAgLy8gTm90ZSwgb25seSBwcm9jZXNzIFwib3duXCIgcHJvcGVydGllcyBzaW5jZSB0aGlzIGVsZW1lbnQgd2lsbCBpbmhlcml0XG4gICAgLy8gYW55IHByb3BlcnRpZXMgZGVmaW5lZCBvbiB0aGUgc3VwZXJDbGFzcywgYW5kIGZpbmFsaXphdGlvbiBlbnN1cmVzXG4gICAgLy8gdGhlIGVudGlyZSBwcm90b3R5cGUgY2hhaW4gaXMgZmluYWxpemVkLlxuICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ3Byb3BlcnRpZXMnLCB0aGlzKSkpIHtcbiAgICAgIGNvbnN0IHByb3BzID0gdGhpcy5wcm9wZXJ0aWVzO1xuICAgICAgLy8gc3VwcG9ydCBzeW1ib2xzIGluIHByb3BlcnRpZXMgKElFMTEgZG9lcyBub3Qgc3VwcG9ydCB0aGlzKVxuICAgICAgY29uc3QgcHJvcEtleXMgPSBbXG4gICAgICAgIC4uLk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHByb3BzKSxcbiAgICAgICAgLi4uKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nKSA/XG4gICAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHByb3BzKSA6XG4gICAgICAgICAgICBbXVxuICAgICAgXTtcbiAgICAgIC8vIFRoaXMgZm9yL29mIGlzIG9rIGJlY2F1c2UgcHJvcEtleXMgaXMgYW4gYXJyYXlcbiAgICAgIGZvciAoY29uc3QgcCBvZiBwcm9wS2V5cykge1xuICAgICAgICAvLyBub3RlLCB1c2Ugb2YgYGFueWAgaXMgZHVlIHRvIFR5cGVTcmlwdCBsYWNrIG9mIHN1cHBvcnQgZm9yIHN5bWJvbCBpblxuICAgICAgICAvLyBpbmRleCB0eXBlc1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55IG5vIHN5bWJvbCBpbiBpbmRleFxuICAgICAgICB0aGlzLmNyZWF0ZVByb3BlcnR5KHAsIChwcm9wcyBhcyBhbnkpW3BdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgcHJvcGVydHkgbmFtZSBmb3IgdGhlIGdpdmVuIGF0dHJpYnV0ZSBgbmFtZWAuXG4gICAqIEBub2NvbGxhcHNlXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBfYXR0cmlidXRlTmFtZUZvclByb3BlcnR5KFxuICAgICAgbmFtZTogUHJvcGVydHlLZXksIG9wdGlvbnM6IFByb3BlcnR5RGVjbGFyYXRpb24pIHtcbiAgICBjb25zdCBhdHRyaWJ1dGUgPSBvcHRpb25zLmF0dHJpYnV0ZTtcbiAgICByZXR1cm4gYXR0cmlidXRlID09PSBmYWxzZSA/XG4gICAgICAgIHVuZGVmaW5lZCA6XG4gICAgICAgICh0eXBlb2YgYXR0cmlidXRlID09PSAnc3RyaW5nJyA/XG4gICAgICAgICAgICAgYXR0cmlidXRlIDpcbiAgICAgICAgICAgICAodHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnID8gbmFtZS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkKSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIGEgcHJvcGVydHkgc2hvdWxkIHJlcXVlc3QgYW4gdXBkYXRlLlxuICAgKiBDYWxsZWQgd2hlbiBhIHByb3BlcnR5IHZhbHVlIGlzIHNldCBhbmQgdXNlcyB0aGUgYGhhc0NoYW5nZWRgXG4gICAqIG9wdGlvbiBmb3IgdGhlIHByb3BlcnR5IGlmIHByZXNlbnQgb3IgYSBzdHJpY3QgaWRlbnRpdHkgY2hlY2suXG4gICAqIEBub2NvbGxhcHNlXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBfdmFsdWVIYXNDaGFuZ2VkKFxuICAgICAgdmFsdWU6IHVua25vd24sIG9sZDogdW5rbm93biwgaGFzQ2hhbmdlZDogSGFzQ2hhbmdlZCA9IG5vdEVxdWFsKSB7XG4gICAgcmV0dXJuIGhhc0NoYW5nZWQodmFsdWUsIG9sZCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUgZm9yIHRoZSBnaXZlbiBhdHRyaWJ1dGUgdmFsdWUuXG4gICAqIENhbGxlZCB2aWEgdGhlIGBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2tgIGFuZCB1c2VzIHRoZSBwcm9wZXJ0eSdzXG4gICAqIGBjb252ZXJ0ZXJgIG9yIGBjb252ZXJ0ZXIuZnJvbUF0dHJpYnV0ZWAgcHJvcGVydHkgb3B0aW9uLlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgX3Byb3BlcnR5VmFsdWVGcm9tQXR0cmlidXRlKFxuICAgICAgdmFsdWU6IHN0cmluZ3xudWxsLCBvcHRpb25zOiBQcm9wZXJ0eURlY2xhcmF0aW9uKSB7XG4gICAgY29uc3QgdHlwZSA9IG9wdGlvbnMudHlwZTtcbiAgICBjb25zdCBjb252ZXJ0ZXIgPSBvcHRpb25zLmNvbnZlcnRlciB8fCBkZWZhdWx0Q29udmVydGVyO1xuICAgIGNvbnN0IGZyb21BdHRyaWJ1dGUgPVxuICAgICAgICAodHlwZW9mIGNvbnZlcnRlciA9PT0gJ2Z1bmN0aW9uJyA/IGNvbnZlcnRlciA6IGNvbnZlcnRlci5mcm9tQXR0cmlidXRlKTtcbiAgICByZXR1cm4gZnJvbUF0dHJpYnV0ZSA/IGZyb21BdHRyaWJ1dGUodmFsdWUsIHR5cGUpIDogdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgYXR0cmlidXRlIHZhbHVlIGZvciB0aGUgZ2l2ZW4gcHJvcGVydHkgdmFsdWUuIElmIHRoaXNcbiAgICogcmV0dXJucyB1bmRlZmluZWQsIHRoZSBwcm9wZXJ0eSB3aWxsICpub3QqIGJlIHJlZmxlY3RlZCB0byBhbiBhdHRyaWJ1dGUuXG4gICAqIElmIHRoaXMgcmV0dXJucyBudWxsLCB0aGUgYXR0cmlidXRlIHdpbGwgYmUgcmVtb3ZlZCwgb3RoZXJ3aXNlIHRoZVxuICAgKiBhdHRyaWJ1dGUgd2lsbCBiZSBzZXQgdG8gdGhlIHZhbHVlLlxuICAgKiBUaGlzIHVzZXMgdGhlIHByb3BlcnR5J3MgYHJlZmxlY3RgIGFuZCBgdHlwZS50b0F0dHJpYnV0ZWAgcHJvcGVydHkgb3B0aW9ucy5cbiAgICogQG5vY29sbGFwc2VcbiAgICovXG4gIHByaXZhdGUgc3RhdGljIF9wcm9wZXJ0eVZhbHVlVG9BdHRyaWJ1dGUoXG4gICAgICB2YWx1ZTogdW5rbm93biwgb3B0aW9uczogUHJvcGVydHlEZWNsYXJhdGlvbikge1xuICAgIGlmIChvcHRpb25zLnJlZmxlY3QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0eXBlID0gb3B0aW9ucy50eXBlO1xuICAgIGNvbnN0IGNvbnZlcnRlciA9IG9wdGlvbnMuY29udmVydGVyO1xuICAgIGNvbnN0IHRvQXR0cmlidXRlID1cbiAgICAgICAgY29udmVydGVyICYmIChjb252ZXJ0ZXIgYXMgQ29tcGxleEF0dHJpYnV0ZUNvbnZlcnRlcikudG9BdHRyaWJ1dGUgfHxcbiAgICAgICAgZGVmYXVsdENvbnZlcnRlci50b0F0dHJpYnV0ZTtcbiAgICByZXR1cm4gdG9BdHRyaWJ1dGUhKHZhbHVlLCB0eXBlKTtcbiAgfVxuXG4gIHByaXZhdGUgX3VwZGF0ZVN0YXRlOiBVcGRhdGVTdGF0ZSA9IDA7XG4gIHByaXZhdGUgX2luc3RhbmNlUHJvcGVydGllczogUHJvcGVydHlWYWx1ZXN8dW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICBwcml2YXRlIF91cGRhdGVQcm9taXNlOiBQcm9taXNlPHVua25vd24+ID0gbWljcm90YXNrUHJvbWlzZTtcbiAgcHJpdmF0ZSBfaGFzQ29ubmVjdGVkUmVzb2x2ZXI6ICgoKSA9PiB2b2lkKXx1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIE1hcCB3aXRoIGtleXMgZm9yIGFueSBwcm9wZXJ0aWVzIHRoYXQgaGF2ZSBjaGFuZ2VkIHNpbmNlIHRoZSBsYXN0XG4gICAqIHVwZGF0ZSBjeWNsZSB3aXRoIHByZXZpb3VzIHZhbHVlcy5cbiAgICovXG4gIHByaXZhdGUgX2NoYW5nZWRQcm9wZXJ0aWVzOiBQcm9wZXJ0eVZhbHVlcyA9IG5ldyBNYXAoKTtcblxuICAvKipcbiAgICogTWFwIHdpdGgga2V5cyBvZiBwcm9wZXJ0aWVzIHRoYXQgc2hvdWxkIGJlIHJlZmxlY3RlZCB3aGVuIHVwZGF0ZWQuXG4gICAqL1xuICBwcml2YXRlIF9yZWZsZWN0aW5nUHJvcGVydGllczogTWFwPFByb3BlcnR5S2V5LCBQcm9wZXJ0eURlY2xhcmF0aW9uPnxcbiAgICAgIHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFBlcmZvcm1zIGVsZW1lbnQgaW5pdGlhbGl6YXRpb24uIEJ5IGRlZmF1bHQgY2FwdHVyZXMgYW55IHByZS1zZXQgdmFsdWVzIGZvclxuICAgKiByZWdpc3RlcmVkIHByb3BlcnRpZXMuXG4gICAqL1xuICBwcm90ZWN0ZWQgaW5pdGlhbGl6ZSgpIHtcbiAgICB0aGlzLl9zYXZlSW5zdGFuY2VQcm9wZXJ0aWVzKCk7XG4gICAgLy8gZW5zdXJlcyBmaXJzdCB1cGRhdGUgd2lsbCBiZSBjYXVnaHQgYnkgYW4gZWFybHkgYWNjZXNzIG9mIGB1cGRhdGVDb21wbGV0ZWBcbiAgICB0aGlzLl9yZXF1ZXN0VXBkYXRlKCk7XG4gIH1cblxuICAvKipcbiAgICogRml4ZXMgYW55IHByb3BlcnRpZXMgc2V0IG9uIHRoZSBpbnN0YW5jZSBiZWZvcmUgdXBncmFkZSB0aW1lLlxuICAgKiBPdGhlcndpc2UgdGhlc2Ugd291bGQgc2hhZG93IHRoZSBhY2Nlc3NvciBhbmQgYnJlYWsgdGhlc2UgcHJvcGVydGllcy5cbiAgICogVGhlIHByb3BlcnRpZXMgYXJlIHN0b3JlZCBpbiBhIE1hcCB3aGljaCBpcyBwbGF5ZWQgYmFjayBhZnRlciB0aGVcbiAgICogY29uc3RydWN0b3IgcnVucy4gTm90ZSwgb24gdmVyeSBvbGQgdmVyc2lvbnMgb2YgU2FmYXJpICg8PTkpIG9yIENocm9tZVxuICAgKiAoPD00MSksIHByb3BlcnRpZXMgY3JlYXRlZCBmb3IgbmF0aXZlIHBsYXRmb3JtIHByb3BlcnRpZXMgbGlrZSAoYGlkYCBvclxuICAgKiBgbmFtZWApIG1heSBub3QgaGF2ZSBkZWZhdWx0IHZhbHVlcyBzZXQgaW4gdGhlIGVsZW1lbnQgY29uc3RydWN0b3IuIE9uXG4gICAqIHRoZXNlIGJyb3dzZXJzIG5hdGl2ZSBwcm9wZXJ0aWVzIGFwcGVhciBvbiBpbnN0YW5jZXMgYW5kIHRoZXJlZm9yZSB0aGVpclxuICAgKiBkZWZhdWx0IHZhbHVlIHdpbGwgb3ZlcndyaXRlIGFueSBlbGVtZW50IGRlZmF1bHQgKGUuZy4gaWYgdGhlIGVsZW1lbnQgc2V0c1xuICAgKiB0aGlzLmlkID0gJ2lkJyBpbiB0aGUgY29uc3RydWN0b3IsIHRoZSAnaWQnIHdpbGwgYmVjb21lICcnIHNpbmNlIHRoaXMgaXNcbiAgICogdGhlIG5hdGl2ZSBwbGF0Zm9ybSBkZWZhdWx0KS5cbiAgICovXG4gIHByaXZhdGUgX3NhdmVJbnN0YW5jZVByb3BlcnRpZXMoKSB7XG4gICAgLy8gVXNlIGZvckVhY2ggc28gdGhpcyB3b3JrcyBldmVuIGlmIGZvci9vZiBsb29wcyBhcmUgY29tcGlsZWQgdG8gZm9yIGxvb3BzXG4gICAgLy8gZXhwZWN0aW5nIGFycmF5c1xuICAgICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBVcGRhdGluZ0VsZW1lbnQpXG4gICAgICAgIC5fY2xhc3NQcm9wZXJ0aWVzIS5mb3JFYWNoKChfdiwgcCkgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KHApKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXNbcCBhcyBrZXlvZiB0aGlzXTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzW3AgYXMga2V5b2YgdGhpc107XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2luc3RhbmNlUHJvcGVydGllcykge1xuICAgICAgICAgICAgICB0aGlzLl9pbnN0YW5jZVByb3BlcnRpZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9pbnN0YW5jZVByb3BlcnRpZXMuc2V0KHAsIHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGxpZXMgcHJldmlvdXNseSBzYXZlZCBpbnN0YW5jZSBwcm9wZXJ0aWVzLlxuICAgKi9cbiAgcHJpdmF0ZSBfYXBwbHlJbnN0YW5jZVByb3BlcnRpZXMoKSB7XG4gICAgLy8gVXNlIGZvckVhY2ggc28gdGhpcyB3b3JrcyBldmVuIGlmIGZvci9vZiBsb29wcyBhcmUgY29tcGlsZWQgdG8gZm9yIGxvb3BzXG4gICAgLy8gZXhwZWN0aW5nIGFycmF5c1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgICB0aGlzLl9pbnN0YW5jZVByb3BlcnRpZXMhLmZvckVhY2goKHYsIHApID0+ICh0aGlzIGFzIGFueSlbcF0gPSB2KTtcbiAgICB0aGlzLl9pbnN0YW5jZVByb3BlcnRpZXMgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLl91cGRhdGVTdGF0ZSA9IHRoaXMuX3VwZGF0ZVN0YXRlIHwgU1RBVEVfSEFTX0NPTk5FQ1RFRDtcbiAgICAvLyBFbnN1cmUgZmlyc3QgY29ubmVjdGlvbiBjb21wbGV0ZXMgYW4gdXBkYXRlLiBVcGRhdGVzIGNhbm5vdCBjb21wbGV0ZSBiZWZvcmVcbiAgICAvLyBjb25uZWN0aW9uIGFuZCBpZiBvbmUgaXMgcGVuZGluZyBjb25uZWN0aW9uIHRoZSBgX2hhc0Nvbm5lY3Rpb25SZXNvbHZlcmBcbiAgICAvLyB3aWxsIGV4aXN0LiBJZiBzbywgcmVzb2x2ZSBpdCB0byBjb21wbGV0ZSB0aGUgdXBkYXRlLCBvdGhlcndpc2VcbiAgICAvLyByZXF1ZXN0VXBkYXRlLlxuICAgIGlmICh0aGlzLl9oYXNDb25uZWN0ZWRSZXNvbHZlcikge1xuICAgICAgdGhpcy5faGFzQ29ubmVjdGVkUmVzb2x2ZXIoKTtcbiAgICAgIHRoaXMuX2hhc0Nvbm5lY3RlZFJlc29sdmVyID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBbGxvd3MgZm9yIGBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpYCBpbiBleHRlbnNpb25zIHdoaWxlXG4gICAqIHJlc2VydmluZyB0aGUgcG9zc2liaWxpdHkgb2YgbWFraW5nIG5vbi1icmVha2luZyBmZWF0dXJlIGFkZGl0aW9uc1xuICAgKiB3aGVuIGRpc2Nvbm5lY3RpbmcgYXQgc29tZSBwb2ludCBpbiB0aGUgZnV0dXJlLlxuICAgKi9cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gIH1cblxuICAvKipcbiAgICogU3luY2hyb25pemVzIHByb3BlcnR5IHZhbHVlcyB3aGVuIGF0dHJpYnV0ZXMgY2hhbmdlLlxuICAgKi9cbiAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKG5hbWU6IHN0cmluZywgb2xkOiBzdHJpbmd8bnVsbCwgdmFsdWU6IHN0cmluZ3xudWxsKSB7XG4gICAgaWYgKG9sZCAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuX2F0dHJpYnV0ZVRvUHJvcGVydHkobmFtZSwgdmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX3Byb3BlcnR5VG9BdHRyaWJ1dGUoXG4gICAgICBuYW1lOiBQcm9wZXJ0eUtleSwgdmFsdWU6IHVua25vd24sXG4gICAgICBvcHRpb25zOiBQcm9wZXJ0eURlY2xhcmF0aW9uID0gZGVmYXVsdFByb3BlcnR5RGVjbGFyYXRpb24pIHtcbiAgICBjb25zdCBjdG9yID0gKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIFVwZGF0aW5nRWxlbWVudCk7XG4gICAgY29uc3QgYXR0ciA9IGN0b3IuX2F0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eShuYW1lLCBvcHRpb25zKTtcbiAgICBpZiAoYXR0ciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBhdHRyVmFsdWUgPSBjdG9yLl9wcm9wZXJ0eVZhbHVlVG9BdHRyaWJ1dGUodmFsdWUsIG9wdGlvbnMpO1xuICAgICAgLy8gYW4gdW5kZWZpbmVkIHZhbHVlIGRvZXMgbm90IGNoYW5nZSB0aGUgYXR0cmlidXRlLlxuICAgICAgaWYgKGF0dHJWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIFRyYWNrIGlmIHRoZSBwcm9wZXJ0eSBpcyBiZWluZyByZWZsZWN0ZWQgdG8gYXZvaWRcbiAgICAgIC8vIHNldHRpbmcgdGhlIHByb3BlcnR5IGFnYWluIHZpYSBgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrYC4gTm90ZTpcbiAgICAgIC8vIDEuIHRoaXMgdGFrZXMgYWR2YW50YWdlIG9mIHRoZSBmYWN0IHRoYXQgdGhlIGNhbGxiYWNrIGlzIHN5bmNocm9ub3VzLlxuICAgICAgLy8gMi4gd2lsbCBiZWhhdmUgaW5jb3JyZWN0bHkgaWYgbXVsdGlwbGUgYXR0cmlidXRlcyBhcmUgaW4gdGhlIHJlYWN0aW9uXG4gICAgICAvLyBzdGFjayBhdCB0aW1lIG9mIGNhbGxpbmcuIEhvd2V2ZXIsIHNpbmNlIHdlIHByb2Nlc3MgYXR0cmlidXRlc1xuICAgICAgLy8gaW4gYHVwZGF0ZWAgdGhpcyBzaG91bGQgbm90IGJlIHBvc3NpYmxlIChvciBhbiBleHRyZW1lIGNvcm5lciBjYXNlXG4gICAgICAvLyB0aGF0IHdlJ2QgbGlrZSB0byBkaXNjb3ZlcikuXG4gICAgICAvLyBtYXJrIHN0YXRlIHJlZmxlY3RpbmdcbiAgICAgIHRoaXMuX3VwZGF0ZVN0YXRlID0gdGhpcy5fdXBkYXRlU3RhdGUgfCBTVEFURV9JU19SRUZMRUNUSU5HX1RPX0FUVFJJQlVURTtcbiAgICAgIGlmIChhdHRyVmFsdWUgPT0gbnVsbCkge1xuICAgICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZShhdHRyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKGF0dHIsIGF0dHJWYWx1ZSBhcyBzdHJpbmcpO1xuICAgICAgfVxuICAgICAgLy8gbWFyayBzdGF0ZSBub3QgcmVmbGVjdGluZ1xuICAgICAgdGhpcy5fdXBkYXRlU3RhdGUgPSB0aGlzLl91cGRhdGVTdGF0ZSAmIH5TVEFURV9JU19SRUZMRUNUSU5HX1RPX0FUVFJJQlVURTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9hdHRyaWJ1dGVUb1Byb3BlcnR5KG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZ3xudWxsKSB7XG4gICAgLy8gVXNlIHRyYWNraW5nIGluZm8gdG8gYXZvaWQgZGVzZXJpYWxpemluZyBhdHRyaWJ1dGUgdmFsdWUgaWYgaXQgd2FzXG4gICAgLy8ganVzdCBzZXQgZnJvbSBhIHByb3BlcnR5IHNldHRlci5cbiAgICBpZiAodGhpcy5fdXBkYXRlU3RhdGUgJiBTVEFURV9JU19SRUZMRUNUSU5HX1RPX0FUVFJJQlVURSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjdG9yID0gKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIFVwZGF0aW5nRWxlbWVudCk7XG4gICAgY29uc3QgcHJvcE5hbWUgPSBjdG9yLl9hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwLmdldChuYW1lKTtcbiAgICBpZiAocHJvcE5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3Qgb3B0aW9ucyA9XG4gICAgICAgICAgY3Rvci5fY2xhc3NQcm9wZXJ0aWVzIS5nZXQocHJvcE5hbWUpIHx8IGRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uO1xuICAgICAgLy8gbWFyayBzdGF0ZSByZWZsZWN0aW5nXG4gICAgICB0aGlzLl91cGRhdGVTdGF0ZSA9IHRoaXMuX3VwZGF0ZVN0YXRlIHwgU1RBVEVfSVNfUkVGTEVDVElOR19UT19QUk9QRVJUWTtcbiAgICAgIHRoaXNbcHJvcE5hbWUgYXMga2V5b2YgdGhpc10gPVxuICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgICAgICAgICBjdG9yLl9wcm9wZXJ0eVZhbHVlRnJvbUF0dHJpYnV0ZSh2YWx1ZSwgb3B0aW9ucykgYXMgYW55O1xuICAgICAgLy8gbWFyayBzdGF0ZSBub3QgcmVmbGVjdGluZ1xuICAgICAgdGhpcy5fdXBkYXRlU3RhdGUgPSB0aGlzLl91cGRhdGVTdGF0ZSAmIH5TVEFURV9JU19SRUZMRUNUSU5HX1RPX1BST1BFUlRZO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIHByaXZhdGUgdmVyc2lvbiBvZiBgcmVxdWVzdFVwZGF0ZWAgZG9lcyBub3QgYWNjZXNzIG9yIHJldHVybiB0aGVcbiAgICogYHVwZGF0ZUNvbXBsZXRlYCBwcm9taXNlLiBUaGlzIHByb21pc2UgY2FuIGJlIG92ZXJyaWRkZW4gYW5kIGlzIHRoZXJlZm9yZVxuICAgKiBub3QgZnJlZSB0byBhY2Nlc3MuXG4gICAqL1xuICBwcml2YXRlIF9yZXF1ZXN0VXBkYXRlKG5hbWU/OiBQcm9wZXJ0eUtleSwgb2xkVmFsdWU/OiB1bmtub3duKSB7XG4gICAgbGV0IHNob3VsZFJlcXVlc3RVcGRhdGUgPSB0cnVlO1xuICAgIC8vIElmIHdlIGhhdmUgYSBwcm9wZXJ0eSBrZXksIHBlcmZvcm0gcHJvcGVydHkgdXBkYXRlIHN0ZXBzLlxuICAgIGlmIChuYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IGN0b3IgPSB0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBVcGRhdGluZ0VsZW1lbnQ7XG4gICAgICBjb25zdCBvcHRpb25zID1cbiAgICAgICAgICBjdG9yLl9jbGFzc1Byb3BlcnRpZXMhLmdldChuYW1lKSB8fCBkZWZhdWx0UHJvcGVydHlEZWNsYXJhdGlvbjtcbiAgICAgIGlmIChjdG9yLl92YWx1ZUhhc0NoYW5nZWQoXG4gICAgICAgICAgICAgIHRoaXNbbmFtZSBhcyBrZXlvZiB0aGlzXSwgb2xkVmFsdWUsIG9wdGlvbnMuaGFzQ2hhbmdlZCkpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jaGFuZ2VkUHJvcGVydGllcy5oYXMobmFtZSkpIHtcbiAgICAgICAgICB0aGlzLl9jaGFuZ2VkUHJvcGVydGllcy5zZXQobmFtZSwgb2xkVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFkZCB0byByZWZsZWN0aW5nIHByb3BlcnRpZXMgc2V0LlxuICAgICAgICAvLyBOb3RlLCBpdCdzIGltcG9ydGFudCB0aGF0IGV2ZXJ5IGNoYW5nZSBoYXMgYSBjaGFuY2UgdG8gYWRkIHRoZVxuICAgICAgICAvLyBwcm9wZXJ0eSB0byBgX3JlZmxlY3RpbmdQcm9wZXJ0aWVzYC4gVGhpcyBlbnN1cmVzIHNldHRpbmdcbiAgICAgICAgLy8gYXR0cmlidXRlICsgcHJvcGVydHkgcmVmbGVjdHMgY29ycmVjdGx5LlxuICAgICAgICBpZiAob3B0aW9ucy5yZWZsZWN0ID09PSB0cnVlICYmXG4gICAgICAgICAgICAhKHRoaXMuX3VwZGF0ZVN0YXRlICYgU1RBVEVfSVNfUkVGTEVDVElOR19UT19QUk9QRVJUWSkpIHtcbiAgICAgICAgICBpZiAodGhpcy5fcmVmbGVjdGluZ1Byb3BlcnRpZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5fcmVmbGVjdGluZ1Byb3BlcnRpZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuX3JlZmxlY3RpbmdQcm9wZXJ0aWVzLnNldChuYW1lLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQWJvcnQgdGhlIHJlcXVlc3QgaWYgdGhlIHByb3BlcnR5IHNob3VsZCBub3QgYmUgY29uc2lkZXJlZCBjaGFuZ2VkLlxuICAgICAgICBzaG91bGRSZXF1ZXN0VXBkYXRlID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghdGhpcy5faGFzUmVxdWVzdGVkVXBkYXRlICYmIHNob3VsZFJlcXVlc3RVcGRhdGUpIHtcbiAgICAgIHRoaXMuX2VucXVldWVVcGRhdGUoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVxdWVzdHMgYW4gdXBkYXRlIHdoaWNoIGlzIHByb2Nlc3NlZCBhc3luY2hyb25vdXNseS4gVGhpcyBzaG91bGRcbiAgICogYmUgY2FsbGVkIHdoZW4gYW4gZWxlbWVudCBzaG91bGQgdXBkYXRlIGJhc2VkIG9uIHNvbWUgc3RhdGUgbm90IHRyaWdnZXJlZFxuICAgKiBieSBzZXR0aW5nIGEgcHJvcGVydHkuIEluIHRoaXMgY2FzZSwgcGFzcyBubyBhcmd1bWVudHMuIEl0IHNob3VsZCBhbHNvIGJlXG4gICAqIGNhbGxlZCB3aGVuIG1hbnVhbGx5IGltcGxlbWVudGluZyBhIHByb3BlcnR5IHNldHRlci4gSW4gdGhpcyBjYXNlLCBwYXNzIHRoZVxuICAgKiBwcm9wZXJ0eSBgbmFtZWAgYW5kIGBvbGRWYWx1ZWAgdG8gZW5zdXJlIHRoYXQgYW55IGNvbmZpZ3VyZWQgcHJvcGVydHlcbiAgICogb3B0aW9ucyBhcmUgaG9ub3JlZC4gUmV0dXJucyB0aGUgYHVwZGF0ZUNvbXBsZXRlYCBQcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkXG4gICAqIHdoZW4gdGhlIHVwZGF0ZSBjb21wbGV0ZXMuXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIHtQcm9wZXJ0eUtleX0gKG9wdGlvbmFsKSBuYW1lIG9mIHJlcXVlc3RpbmcgcHJvcGVydHlcbiAgICogQHBhcmFtIG9sZFZhbHVlIHthbnl9IChvcHRpb25hbCkgb2xkIHZhbHVlIG9mIHJlcXVlc3RpbmcgcHJvcGVydHlcbiAgICogQHJldHVybnMge1Byb21pc2V9IEEgUHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIHdoZW4gdGhlIHVwZGF0ZSBjb21wbGV0ZXMuXG4gICAqL1xuICByZXF1ZXN0VXBkYXRlKG5hbWU/OiBQcm9wZXJ0eUtleSwgb2xkVmFsdWU/OiB1bmtub3duKSB7XG4gICAgdGhpcy5fcmVxdWVzdFVwZGF0ZShuYW1lLCBvbGRWYWx1ZSk7XG4gICAgcmV0dXJuIHRoaXMudXBkYXRlQ29tcGxldGU7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB1cCB0aGUgZWxlbWVudCB0byBhc3luY2hyb25vdXNseSB1cGRhdGUuXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIF9lbnF1ZXVlVXBkYXRlKCkge1xuICAgIC8vIE1hcmsgc3RhdGUgdXBkYXRpbmcuLi5cbiAgICB0aGlzLl91cGRhdGVTdGF0ZSA9IHRoaXMuX3VwZGF0ZVN0YXRlIHwgU1RBVEVfVVBEQVRFX1JFUVVFU1RFRDtcbiAgICBsZXQgcmVzb2x2ZSE6IChyOiBib29sZWFuKSA9PiB2b2lkO1xuICAgIGxldCByZWplY3QhOiAoZTogRXJyb3IpID0+IHZvaWQ7XG4gICAgY29uc3QgcHJldmlvdXNVcGRhdGVQcm9taXNlID0gdGhpcy5fdXBkYXRlUHJvbWlzZTtcbiAgICB0aGlzLl91cGRhdGVQcm9taXNlID0gbmV3IFByb21pc2UoKHJlcywgcmVqKSA9PiB7XG4gICAgICByZXNvbHZlID0gcmVzO1xuICAgICAgcmVqZWN0ID0gcmVqO1xuICAgIH0pO1xuICAgIHRyeSB7XG4gICAgICAvLyBFbnN1cmUgYW55IHByZXZpb3VzIHVwZGF0ZSBoYXMgcmVzb2x2ZWQgYmVmb3JlIHVwZGF0aW5nLlxuICAgICAgLy8gVGhpcyBgYXdhaXRgIGFsc28gZW5zdXJlcyB0aGF0IHByb3BlcnR5IGNoYW5nZXMgYXJlIGJhdGNoZWQuXG4gICAgICBhd2FpdCBwcmV2aW91c1VwZGF0ZVByb21pc2U7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gSWdub3JlIGFueSBwcmV2aW91cyBlcnJvcnMuIFdlIG9ubHkgY2FyZSB0aGF0IHRoZSBwcmV2aW91cyBjeWNsZSBpc1xuICAgICAgLy8gZG9uZS4gQW55IGVycm9yIHNob3VsZCBoYXZlIGJlZW4gaGFuZGxlZCBpbiB0aGUgcHJldmlvdXMgdXBkYXRlLlxuICAgIH1cbiAgICAvLyBNYWtlIHN1cmUgdGhlIGVsZW1lbnQgaGFzIGNvbm5lY3RlZCBiZWZvcmUgdXBkYXRpbmcuXG4gICAgaWYgKCF0aGlzLl9oYXNDb25uZWN0ZWQpIHtcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXMpID0+IHRoaXMuX2hhc0Nvbm5lY3RlZFJlc29sdmVyID0gcmVzKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMucGVyZm9ybVVwZGF0ZSgpO1xuICAgICAgLy8gSWYgYHBlcmZvcm1VcGRhdGVgIHJldHVybnMgYSBQcm9taXNlLCB3ZSBhd2FpdCBpdC4gVGhpcyBpcyBkb25lIHRvXG4gICAgICAvLyBlbmFibGUgY29vcmRpbmF0aW5nIHVwZGF0ZXMgd2l0aCBhIHNjaGVkdWxlci4gTm90ZSwgdGhlIHJlc3VsdCBpc1xuICAgICAgLy8gY2hlY2tlZCB0byBhdm9pZCBkZWxheWluZyBhbiBhZGRpdGlvbmFsIG1pY3JvdGFzayB1bmxlc3Mgd2UgbmVlZCB0by5cbiAgICAgIGlmIChyZXN1bHQgIT0gbnVsbCkge1xuICAgICAgICBhd2FpdCByZXN1bHQ7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH1cbiAgICByZXNvbHZlKCF0aGlzLl9oYXNSZXF1ZXN0ZWRVcGRhdGUpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXQgX2hhc0Nvbm5lY3RlZCgpIHtcbiAgICByZXR1cm4gKHRoaXMuX3VwZGF0ZVN0YXRlICYgU1RBVEVfSEFTX0NPTk5FQ1RFRCk7XG4gIH1cblxuICBwcml2YXRlIGdldCBfaGFzUmVxdWVzdGVkVXBkYXRlKCkge1xuICAgIHJldHVybiAodGhpcy5fdXBkYXRlU3RhdGUgJiBTVEFURV9VUERBVEVfUkVRVUVTVEVEKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBnZXQgaGFzVXBkYXRlZCgpIHtcbiAgICByZXR1cm4gKHRoaXMuX3VwZGF0ZVN0YXRlICYgU1RBVEVfSEFTX1VQREFURUQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFBlcmZvcm1zIGFuIGVsZW1lbnQgdXBkYXRlLiBOb3RlLCBpZiBhbiBleGNlcHRpb24gaXMgdGhyb3duIGR1cmluZyB0aGVcbiAgICogdXBkYXRlLCBgZmlyc3RVcGRhdGVkYCBhbmQgYHVwZGF0ZWRgIHdpbGwgbm90IGJlIGNhbGxlZC5cbiAgICpcbiAgICogWW91IGNhbiBvdmVycmlkZSB0aGlzIG1ldGhvZCB0byBjaGFuZ2UgdGhlIHRpbWluZyBvZiB1cGRhdGVzLiBJZiB0aGlzXG4gICAqIG1ldGhvZCBpcyBvdmVycmlkZGVuLCBgc3VwZXIucGVyZm9ybVVwZGF0ZSgpYCBtdXN0IGJlIGNhbGxlZC5cbiAgICpcbiAgICogRm9yIGluc3RhbmNlLCB0byBzY2hlZHVsZSB1cGRhdGVzIHRvIG9jY3VyIGp1c3QgYmVmb3JlIHRoZSBuZXh0IGZyYW1lOlxuICAgKlxuICAgKiBgYGBcbiAgICogcHJvdGVjdGVkIGFzeW5jIHBlcmZvcm1VcGRhdGUoKTogUHJvbWlzZTx1bmtub3duPiB7XG4gICAqICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiByZXNvbHZlKCkpKTtcbiAgICogICBzdXBlci5wZXJmb3JtVXBkYXRlKCk7XG4gICAqIH1cbiAgICogYGBgXG4gICAqL1xuICBwcm90ZWN0ZWQgcGVyZm9ybVVwZGF0ZSgpOiB2b2lkfFByb21pc2U8dW5rbm93bj4ge1xuICAgIC8vIE1peGluIGluc3RhbmNlIHByb3BlcnRpZXMgb25jZSwgaWYgdGhleSBleGlzdC5cbiAgICBpZiAodGhpcy5faW5zdGFuY2VQcm9wZXJ0aWVzKSB7XG4gICAgICB0aGlzLl9hcHBseUluc3RhbmNlUHJvcGVydGllcygpO1xuICAgIH1cbiAgICBsZXQgc2hvdWxkVXBkYXRlID0gZmFsc2U7XG4gICAgY29uc3QgY2hhbmdlZFByb3BlcnRpZXMgPSB0aGlzLl9jaGFuZ2VkUHJvcGVydGllcztcbiAgICB0cnkge1xuICAgICAgc2hvdWxkVXBkYXRlID0gdGhpcy5zaG91bGRVcGRhdGUoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgaWYgKHNob3VsZFVwZGF0ZSkge1xuICAgICAgICB0aGlzLnVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gUHJldmVudCBgZmlyc3RVcGRhdGVkYCBhbmQgYHVwZGF0ZWRgIGZyb20gcnVubmluZyB3aGVuIHRoZXJlJ3MgYW5cbiAgICAgIC8vIHVwZGF0ZSBleGNlcHRpb24uXG4gICAgICBzaG91bGRVcGRhdGUgPSBmYWxzZTtcbiAgICAgIHRocm93IGU7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIC8vIEVuc3VyZSBlbGVtZW50IGNhbiBhY2NlcHQgYWRkaXRpb25hbCB1cGRhdGVzIGFmdGVyIGFuIGV4Y2VwdGlvbi5cbiAgICAgIHRoaXMuX21hcmtVcGRhdGVkKCk7XG4gICAgfVxuICAgIGlmIChzaG91bGRVcGRhdGUpIHtcbiAgICAgIGlmICghKHRoaXMuX3VwZGF0ZVN0YXRlICYgU1RBVEVfSEFTX1VQREFURUQpKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVN0YXRlID0gdGhpcy5fdXBkYXRlU3RhdGUgfCBTVEFURV9IQVNfVVBEQVRFRDtcbiAgICAgICAgdGhpcy5maXJzdFVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgfVxuICAgICAgdGhpcy51cGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9tYXJrVXBkYXRlZCgpIHtcbiAgICB0aGlzLl9jaGFuZ2VkUHJvcGVydGllcyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLl91cGRhdGVTdGF0ZSA9IHRoaXMuX3VwZGF0ZVN0YXRlICYgflNUQVRFX1VQREFURV9SRVFVRVNURUQ7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBlbGVtZW50IGhhcyBjb21wbGV0ZWQgdXBkYXRpbmcuXG4gICAqIFRoZSBQcm9taXNlIHZhbHVlIGlzIGEgYm9vbGVhbiB0aGF0IGlzIGB0cnVlYCBpZiB0aGUgZWxlbWVudCBjb21wbGV0ZWQgdGhlXG4gICAqIHVwZGF0ZSB3aXRob3V0IHRyaWdnZXJpbmcgYW5vdGhlciB1cGRhdGUuIFRoZSBQcm9taXNlIHJlc3VsdCBpcyBgZmFsc2VgIGlmXG4gICAqIGEgcHJvcGVydHkgd2FzIHNldCBpbnNpZGUgYHVwZGF0ZWQoKWAuIElmIHRoZSBQcm9taXNlIGlzIHJlamVjdGVkLCBhblxuICAgKiBleGNlcHRpb24gd2FzIHRocm93biBkdXJpbmcgdGhlIHVwZGF0ZS4gVGhpcyBnZXR0ZXIgY2FuIGJlIGltcGxlbWVudGVkIHRvXG4gICAqIGF3YWl0IGFkZGl0aW9uYWwgc3RhdGUuIEZvciBleGFtcGxlLCBpdCBpcyBzb21ldGltZXMgdXNlZnVsIHRvIGF3YWl0IGFcbiAgICogcmVuZGVyZWQgZWxlbWVudCBiZWZvcmUgZnVsZmlsbGluZyB0aGlzIFByb21pc2UuIFRvIGRvIHRoaXMsIGZpcnN0IGF3YWl0XG4gICAqIGBzdXBlci51cGRhdGVDb21wbGV0ZWAgdGhlbiBhbnkgc3Vic2VxdWVudCBzdGF0ZS5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9IFRoZSBQcm9taXNlIHJldHVybnMgYSBib29sZWFuIHRoYXQgaW5kaWNhdGVzIGlmIHRoZVxuICAgKiB1cGRhdGUgcmVzb2x2ZWQgd2l0aG91dCB0cmlnZ2VyaW5nIGFub3RoZXIgdXBkYXRlLlxuICAgKi9cbiAgZ2V0IHVwZGF0ZUNvbXBsZXRlKCkge1xuICAgIHJldHVybiB0aGlzLl91cGRhdGVQcm9taXNlO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnRyb2xzIHdoZXRoZXIgb3Igbm90IGB1cGRhdGVgIHNob3VsZCBiZSBjYWxsZWQgd2hlbiB0aGUgZWxlbWVudCByZXF1ZXN0c1xuICAgKiBhbiB1cGRhdGUuIEJ5IGRlZmF1bHQsIHRoaXMgbWV0aG9kIGFsd2F5cyByZXR1cm5zIGB0cnVlYCwgYnV0IHRoaXMgY2FuIGJlXG4gICAqIGN1c3RvbWl6ZWQgdG8gY29udHJvbCB3aGVuIHRvIHVwZGF0ZS5cbiAgICpcbiAgICogKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAqL1xuICBwcm90ZWN0ZWQgc2hvdWxkVXBkYXRlKF9jaGFuZ2VkUHJvcGVydGllczogUHJvcGVydHlWYWx1ZXMpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBlbGVtZW50LiBUaGlzIG1ldGhvZCByZWZsZWN0cyBwcm9wZXJ0eSB2YWx1ZXMgdG8gYXR0cmlidXRlcy5cbiAgICogSXQgY2FuIGJlIG92ZXJyaWRkZW4gdG8gcmVuZGVyIGFuZCBrZWVwIHVwZGF0ZWQgZWxlbWVudCBET00uXG4gICAqIFNldHRpbmcgcHJvcGVydGllcyBpbnNpZGUgdGhpcyBtZXRob2Qgd2lsbCAqbm90KiB0cmlnZ2VyXG4gICAqIGFub3RoZXIgdXBkYXRlLlxuICAgKlxuICAgKiAqIEBwYXJhbSBfY2hhbmdlZFByb3BlcnRpZXMgTWFwIG9mIGNoYW5nZWQgcHJvcGVydGllcyB3aXRoIG9sZCB2YWx1ZXNcbiAgICovXG4gIHByb3RlY3RlZCB1cGRhdGUoX2NoYW5nZWRQcm9wZXJ0aWVzOiBQcm9wZXJ0eVZhbHVlcykge1xuICAgIGlmICh0aGlzLl9yZWZsZWN0aW5nUHJvcGVydGllcyAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIHRoaXMuX3JlZmxlY3RpbmdQcm9wZXJ0aWVzLnNpemUgPiAwKSB7XG4gICAgICAvLyBVc2UgZm9yRWFjaCBzbyB0aGlzIHdvcmtzIGV2ZW4gaWYgZm9yL29mIGxvb3BzIGFyZSBjb21waWxlZCB0byBmb3JcbiAgICAgIC8vIGxvb3BzIGV4cGVjdGluZyBhcnJheXNcbiAgICAgIHRoaXMuX3JlZmxlY3RpbmdQcm9wZXJ0aWVzLmZvckVhY2goXG4gICAgICAgICAgKHYsIGspID0+IHRoaXMuX3Byb3BlcnR5VG9BdHRyaWJ1dGUoaywgdGhpc1trIGFzIGtleW9mIHRoaXNdLCB2KSk7XG4gICAgICB0aGlzLl9yZWZsZWN0aW5nUHJvcGVydGllcyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSW52b2tlZCB3aGVuZXZlciB0aGUgZWxlbWVudCBpcyB1cGRhdGVkLiBJbXBsZW1lbnQgdG8gcGVyZm9ybVxuICAgKiBwb3N0LXVwZGF0aW5nIHRhc2tzIHZpYSBET00gQVBJcywgZm9yIGV4YW1wbGUsIGZvY3VzaW5nIGFuIGVsZW1lbnQuXG4gICAqXG4gICAqIFNldHRpbmcgcHJvcGVydGllcyBpbnNpZGUgdGhpcyBtZXRob2Qgd2lsbCB0cmlnZ2VyIHRoZSBlbGVtZW50IHRvIHVwZGF0ZVxuICAgKiBhZ2FpbiBhZnRlciB0aGlzIHVwZGF0ZSBjeWNsZSBjb21wbGV0ZXMuXG4gICAqXG4gICAqICogQHBhcmFtIF9jaGFuZ2VkUHJvcGVydGllcyBNYXAgb2YgY2hhbmdlZCBwcm9wZXJ0aWVzIHdpdGggb2xkIHZhbHVlc1xuICAgKi9cbiAgcHJvdGVjdGVkIHVwZGF0ZWQoX2NoYW5nZWRQcm9wZXJ0aWVzOiBQcm9wZXJ0eVZhbHVlcykge1xuICB9XG5cbiAgLyoqXG4gICAqIEludm9rZWQgd2hlbiB0aGUgZWxlbWVudCBpcyBmaXJzdCB1cGRhdGVkLiBJbXBsZW1lbnQgdG8gcGVyZm9ybSBvbmUgdGltZVxuICAgKiB3b3JrIG9uIHRoZSBlbGVtZW50IGFmdGVyIHVwZGF0ZS5cbiAgICpcbiAgICogU2V0dGluZyBwcm9wZXJ0aWVzIGluc2lkZSB0aGlzIG1ldGhvZCB3aWxsIHRyaWdnZXIgdGhlIGVsZW1lbnQgdG8gdXBkYXRlXG4gICAqIGFnYWluIGFmdGVyIHRoaXMgdXBkYXRlIGN5Y2xlIGNvbXBsZXRlcy5cbiAgICpcbiAgICogKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAqL1xuICBwcm90ZWN0ZWQgZmlyc3RVcGRhdGVkKF9jaGFuZ2VkUHJvcGVydGllczogUHJvcGVydHlWYWx1ZXMpIHtcbiAgfVxufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuXG5pbXBvcnQge0xpdEVsZW1lbnR9IGZyb20gJy4uL2xpdC1lbGVtZW50LmpzJztcblxuaW1wb3J0IHtQcm9wZXJ0eURlY2xhcmF0aW9uLCBVcGRhdGluZ0VsZW1lbnR9IGZyb20gJy4vdXBkYXRpbmctZWxlbWVudC5qcyc7XG5cbmV4cG9ydCB0eXBlIENvbnN0cnVjdG9yPFQ+ID0ge1xuICBuZXcgKC4uLmFyZ3M6IHVua25vd25bXSk6IFRcbn07XG5cbi8vIEZyb20gdGhlIFRDMzkgRGVjb3JhdG9ycyBwcm9wb3NhbFxuaW50ZXJmYWNlIENsYXNzRGVzY3JpcHRvciB7XG4gIGtpbmQ6ICdjbGFzcyc7XG4gIGVsZW1lbnRzOiBDbGFzc0VsZW1lbnRbXTtcbiAgZmluaXNoZXI/OiA8VD4oY2xheno6IENvbnN0cnVjdG9yPFQ+KSA9PiB1bmRlZmluZWQgfCBDb25zdHJ1Y3RvcjxUPjtcbn1cblxuLy8gRnJvbSB0aGUgVEMzOSBEZWNvcmF0b3JzIHByb3Bvc2FsXG5pbnRlcmZhY2UgQ2xhc3NFbGVtZW50IHtcbiAga2luZDogJ2ZpZWxkJ3wnbWV0aG9kJztcbiAga2V5OiBQcm9wZXJ0eUtleTtcbiAgcGxhY2VtZW50OiAnc3RhdGljJ3wncHJvdG90eXBlJ3wnb3duJztcbiAgaW5pdGlhbGl6ZXI/OiBGdW5jdGlvbjtcbiAgZXh0cmFzPzogQ2xhc3NFbGVtZW50W107XG4gIGZpbmlzaGVyPzogPFQ+KGNsYXp6OiBDb25zdHJ1Y3RvcjxUPikgPT4gdW5kZWZpbmVkIHwgQ29uc3RydWN0b3I8VD47XG4gIGRlc2NyaXB0b3I/OiBQcm9wZXJ0eURlc2NyaXB0b3I7XG59XG5cbmNvbnN0IGxlZ2FjeUN1c3RvbUVsZW1lbnQgPVxuICAgICh0YWdOYW1lOiBzdHJpbmcsIGNsYXp6OiBDb25zdHJ1Y3RvcjxIVE1MRWxlbWVudD4pID0+IHtcbiAgICAgIHdpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUodGFnTmFtZSwgY2xhenopO1xuICAgICAgLy8gQ2FzdCBhcyBhbnkgYmVjYXVzZSBUUyBkb2Vzbid0IHJlY29nbml6ZSB0aGUgcmV0dXJuIHR5cGUgYXMgYmVpbmcgYVxuICAgICAgLy8gc3VidHlwZSBvZiB0aGUgZGVjb3JhdGVkIGNsYXNzIHdoZW4gY2xhenogaXMgdHlwZWQgYXNcbiAgICAgIC8vIGBDb25zdHJ1Y3RvcjxIVE1MRWxlbWVudD5gIGZvciBzb21lIHJlYXNvbi5cbiAgICAgIC8vIGBDb25zdHJ1Y3RvcjxIVE1MRWxlbWVudD5gIGlzIGhlbHBmdWwgdG8gbWFrZSBzdXJlIHRoZSBkZWNvcmF0b3IgaXNcbiAgICAgIC8vIGFwcGxpZWQgdG8gZWxlbWVudHMgaG93ZXZlci5cbiAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgICAgIHJldHVybiBjbGF6eiBhcyBhbnk7XG4gICAgfTtcblxuY29uc3Qgc3RhbmRhcmRDdXN0b21FbGVtZW50ID1cbiAgICAodGFnTmFtZTogc3RyaW5nLCBkZXNjcmlwdG9yOiBDbGFzc0Rlc2NyaXB0b3IpID0+IHtcbiAgICAgIGNvbnN0IHtraW5kLCBlbGVtZW50c30gPSBkZXNjcmlwdG9yO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAga2luZCxcbiAgICAgICAgZWxlbWVudHMsXG4gICAgICAgIC8vIFRoaXMgY2FsbGJhY2sgaXMgY2FsbGVkIG9uY2UgdGhlIGNsYXNzIGlzIG90aGVyd2lzZSBmdWxseSBkZWZpbmVkXG4gICAgICAgIGZpbmlzaGVyKGNsYXp6OiBDb25zdHJ1Y3RvcjxIVE1MRWxlbWVudD4pIHtcbiAgICAgICAgICB3aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKHRhZ05hbWUsIGNsYXp6KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9O1xuXG4vKipcbiAqIENsYXNzIGRlY29yYXRvciBmYWN0b3J5IHRoYXQgZGVmaW5lcyB0aGUgZGVjb3JhdGVkIGNsYXNzIGFzIGEgY3VzdG9tIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHRhZ05hbWUgdGhlIG5hbWUgb2YgdGhlIGN1c3RvbSBlbGVtZW50IHRvIGRlZmluZVxuICovXG5leHBvcnQgY29uc3QgY3VzdG9tRWxlbWVudCA9ICh0YWdOYW1lOiBzdHJpbmcpID0+XG4gICAgKGNsYXNzT3JEZXNjcmlwdG9yOiBDb25zdHJ1Y3RvcjxIVE1MRWxlbWVudD58Q2xhc3NEZXNjcmlwdG9yKSA9PlxuICAgICAgICAodHlwZW9mIGNsYXNzT3JEZXNjcmlwdG9yID09PSAnZnVuY3Rpb24nKSA/XG4gICAgbGVnYWN5Q3VzdG9tRWxlbWVudCh0YWdOYW1lLCBjbGFzc09yRGVzY3JpcHRvcikgOlxuICAgIHN0YW5kYXJkQ3VzdG9tRWxlbWVudCh0YWdOYW1lLCBjbGFzc09yRGVzY3JpcHRvcik7XG5cbmNvbnN0IHN0YW5kYXJkUHJvcGVydHkgPVxuICAgIChvcHRpb25zOiBQcm9wZXJ0eURlY2xhcmF0aW9uLCBlbGVtZW50OiBDbGFzc0VsZW1lbnQpID0+IHtcbiAgICAgIC8vIFdoZW4gZGVjb3JhdGluZyBhbiBhY2Nlc3NvciwgcGFzcyBpdCB0aHJvdWdoIGFuZCBhZGQgcHJvcGVydHkgbWV0YWRhdGEuXG4gICAgICAvLyBOb3RlLCB0aGUgYGhhc093blByb3BlcnR5YCBjaGVjayBpbiBgY3JlYXRlUHJvcGVydHlgIGVuc3VyZXMgd2UgZG9uJ3RcbiAgICAgIC8vIHN0b21wIG92ZXIgdGhlIHVzZXIncyBhY2Nlc3Nvci5cbiAgICAgIGlmIChlbGVtZW50LmtpbmQgPT09ICdtZXRob2QnICYmIGVsZW1lbnQuZGVzY3JpcHRvciAmJlxuICAgICAgICAgICEoJ3ZhbHVlJyBpbiBlbGVtZW50LmRlc2NyaXB0b3IpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uZWxlbWVudCxcbiAgICAgICAgICBmaW5pc2hlcihjbGF6ejogdHlwZW9mIFVwZGF0aW5nRWxlbWVudCkge1xuICAgICAgICAgICAgY2xhenouY3JlYXRlUHJvcGVydHkoZWxlbWVudC5rZXksIG9wdGlvbnMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGNyZWF0ZVByb3BlcnR5KCkgdGFrZXMgY2FyZSBvZiBkZWZpbmluZyB0aGUgcHJvcGVydHksIGJ1dCB3ZSBzdGlsbFxuICAgICAgICAvLyBtdXN0IHJldHVybiBzb21lIGtpbmQgb2YgZGVzY3JpcHRvciwgc28gcmV0dXJuIGEgZGVzY3JpcHRvciBmb3IgYW5cbiAgICAgICAgLy8gdW51c2VkIHByb3RvdHlwZSBmaWVsZC4gVGhlIGZpbmlzaGVyIGNhbGxzIGNyZWF0ZVByb3BlcnR5KCkuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAga2luZDogJ2ZpZWxkJyxcbiAgICAgICAgICBrZXk6IFN5bWJvbCgpLFxuICAgICAgICAgIHBsYWNlbWVudDogJ293bicsXG4gICAgICAgICAgZGVzY3JpcHRvcjoge30sXG4gICAgICAgICAgLy8gV2hlbiBAYmFiZWwvcGx1Z2luLXByb3Bvc2FsLWRlY29yYXRvcnMgaW1wbGVtZW50cyBpbml0aWFsaXplcnMsXG4gICAgICAgICAgLy8gZG8gdGhpcyBpbnN0ZWFkIG9mIHRoZSBpbml0aWFsaXplciBiZWxvdy4gU2VlOlxuICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9iYWJlbC9iYWJlbC9pc3N1ZXMvOTI2MCBleHRyYXM6IFtcbiAgICAgICAgICAvLyAgIHtcbiAgICAgICAgICAvLyAgICAga2luZDogJ2luaXRpYWxpemVyJyxcbiAgICAgICAgICAvLyAgICAgcGxhY2VtZW50OiAnb3duJyxcbiAgICAgICAgICAvLyAgICAgaW5pdGlhbGl6ZXI6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIsXG4gICAgICAgICAgLy8gICB9XG4gICAgICAgICAgLy8gXSxcbiAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55IGRlY29yYXRvclxuICAgICAgICAgIGluaXRpYWxpemVyKHRoaXM6IGFueSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBlbGVtZW50LmluaXRpYWxpemVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgIHRoaXNbZWxlbWVudC5rZXldID0gZWxlbWVudC5pbml0aWFsaXplci5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZmluaXNoZXIoY2xheno6IHR5cGVvZiBVcGRhdGluZ0VsZW1lbnQpIHtcbiAgICAgICAgICAgIGNsYXp6LmNyZWF0ZVByb3BlcnR5KGVsZW1lbnQua2V5LCBvcHRpb25zKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuY29uc3QgbGVnYWN5UHJvcGVydHkgPVxuICAgIChvcHRpb25zOiBQcm9wZXJ0eURlY2xhcmF0aW9uLCBwcm90bzogT2JqZWN0LCBuYW1lOiBQcm9wZXJ0eUtleSkgPT4ge1xuICAgICAgKHByb3RvLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBVcGRhdGluZ0VsZW1lbnQpXG4gICAgICAgICAgLmNyZWF0ZVByb3BlcnR5KG5hbWUsIG9wdGlvbnMpO1xuICAgIH07XG5cbi8qKlxuICogQSBwcm9wZXJ0eSBkZWNvcmF0b3Igd2hpY2ggY3JlYXRlcyBhIExpdEVsZW1lbnQgcHJvcGVydHkgd2hpY2ggcmVmbGVjdHMgYVxuICogY29ycmVzcG9uZGluZyBhdHRyaWJ1dGUgdmFsdWUuIEEgYFByb3BlcnR5RGVjbGFyYXRpb25gIG1heSBvcHRpb25hbGx5IGJlXG4gKiBzdXBwbGllZCB0byBjb25maWd1cmUgcHJvcGVydHkgZmVhdHVyZXMuXG4gKlxuICogQEV4cG9ydERlY29yYXRlZEl0ZW1zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcm9wZXJ0eShvcHRpb25zPzogUHJvcGVydHlEZWNsYXJhdGlvbikge1xuICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55IGRlY29yYXRvclxuICByZXR1cm4gKHByb3RvT3JEZXNjcmlwdG9yOiBPYmplY3R8Q2xhc3NFbGVtZW50LCBuYW1lPzogUHJvcGVydHlLZXkpOiBhbnkgPT5cbiAgICAgICAgICAgICAobmFtZSAhPT0gdW5kZWZpbmVkKSA/XG4gICAgICBsZWdhY3lQcm9wZXJ0eShvcHRpb25zISwgcHJvdG9PckRlc2NyaXB0b3IgYXMgT2JqZWN0LCBuYW1lKSA6XG4gICAgICBzdGFuZGFyZFByb3BlcnR5KG9wdGlvbnMhLCBwcm90b09yRGVzY3JpcHRvciBhcyBDbGFzc0VsZW1lbnQpO1xufVxuXG4vKipcbiAqIEEgcHJvcGVydHkgZGVjb3JhdG9yIHRoYXQgY29udmVydHMgYSBjbGFzcyBwcm9wZXJ0eSBpbnRvIGEgZ2V0dGVyIHRoYXRcbiAqIGV4ZWN1dGVzIGEgcXVlcnlTZWxlY3RvciBvbiB0aGUgZWxlbWVudCdzIHJlbmRlclJvb3QuXG4gKlxuICogQEV4cG9ydERlY29yYXRlZEl0ZW1zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWVyeShzZWxlY3Rvcjogc3RyaW5nKSB7XG4gIHJldHVybiAocHJvdG9PckRlc2NyaXB0b3I6IE9iamVjdHxDbGFzc0VsZW1lbnQsXG4gICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBkZWNvcmF0b3JcbiAgICAgICAgICBuYW1lPzogUHJvcGVydHlLZXkpOiBhbnkgPT4ge1xuICAgIGNvbnN0IGRlc2NyaXB0b3IgPSB7XG4gICAgICBnZXQodGhpczogTGl0RWxlbWVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJSb290LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgfSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgfTtcbiAgICByZXR1cm4gKG5hbWUgIT09IHVuZGVmaW5lZCkgP1xuICAgICAgICBsZWdhY3lRdWVyeShkZXNjcmlwdG9yLCBwcm90b09yRGVzY3JpcHRvciBhcyBPYmplY3QsIG5hbWUpIDpcbiAgICAgICAgc3RhbmRhcmRRdWVyeShkZXNjcmlwdG9yLCBwcm90b09yRGVzY3JpcHRvciBhcyBDbGFzc0VsZW1lbnQpO1xuICB9O1xufVxuXG4vKipcbiAqIEEgcHJvcGVydHkgZGVjb3JhdG9yIHRoYXQgY29udmVydHMgYSBjbGFzcyBwcm9wZXJ0eSBpbnRvIGEgZ2V0dGVyXG4gKiB0aGF0IGV4ZWN1dGVzIGEgcXVlcnlTZWxlY3RvckFsbCBvbiB0aGUgZWxlbWVudCdzIHJlbmRlclJvb3QuXG4gKlxuICogQEV4cG9ydERlY29yYXRlZEl0ZW1zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWVyeUFsbChzZWxlY3Rvcjogc3RyaW5nKSB7XG4gIHJldHVybiAocHJvdG9PckRlc2NyaXB0b3I6IE9iamVjdHxDbGFzc0VsZW1lbnQsXG4gICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBkZWNvcmF0b3JcbiAgICAgICAgICBuYW1lPzogUHJvcGVydHlLZXkpOiBhbnkgPT4ge1xuICAgIGNvbnN0IGRlc2NyaXB0b3IgPSB7XG4gICAgICBnZXQodGhpczogTGl0RWxlbWVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJSb290LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICAgICAgfSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgfTtcbiAgICByZXR1cm4gKG5hbWUgIT09IHVuZGVmaW5lZCkgP1xuICAgICAgICBsZWdhY3lRdWVyeShkZXNjcmlwdG9yLCBwcm90b09yRGVzY3JpcHRvciBhcyBPYmplY3QsIG5hbWUpIDpcbiAgICAgICAgc3RhbmRhcmRRdWVyeShkZXNjcmlwdG9yLCBwcm90b09yRGVzY3JpcHRvciBhcyBDbGFzc0VsZW1lbnQpO1xuICB9O1xufVxuXG5jb25zdCBsZWdhY3lRdWVyeSA9XG4gICAgKGRlc2NyaXB0b3I6IFByb3BlcnR5RGVzY3JpcHRvciwgcHJvdG86IE9iamVjdCwgbmFtZTogUHJvcGVydHlLZXkpID0+IHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90bywgbmFtZSwgZGVzY3JpcHRvcik7XG4gICAgfTtcblxuY29uc3Qgc3RhbmRhcmRRdWVyeSA9IChkZXNjcmlwdG9yOiBQcm9wZXJ0eURlc2NyaXB0b3IsIGVsZW1lbnQ6IENsYXNzRWxlbWVudCkgPT5cbiAgICAoe1xuICAgICAga2luZDogJ21ldGhvZCcsXG4gICAgICBwbGFjZW1lbnQ6ICdwcm90b3R5cGUnLFxuICAgICAga2V5OiBlbGVtZW50LmtleSxcbiAgICAgIGRlc2NyaXB0b3IsXG4gICAgfSk7XG5cbmNvbnN0IHN0YW5kYXJkRXZlbnRPcHRpb25zID1cbiAgICAob3B0aW9uczogQWRkRXZlbnRMaXN0ZW5lck9wdGlvbnMsIGVsZW1lbnQ6IENsYXNzRWxlbWVudCkgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uZWxlbWVudCxcbiAgICAgICAgZmluaXNoZXIoY2xheno6IHR5cGVvZiBVcGRhdGluZ0VsZW1lbnQpIHtcbiAgICAgICAgICBPYmplY3QuYXNzaWduKFxuICAgICAgICAgICAgICBjbGF6ei5wcm90b3R5cGVbZWxlbWVudC5rZXkgYXMga2V5b2YgVXBkYXRpbmdFbGVtZW50XSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcblxuY29uc3QgbGVnYWN5RXZlbnRPcHRpb25zID1cbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55IGxlZ2FjeSBkZWNvcmF0b3JcbiAgICAob3B0aW9uczogQWRkRXZlbnRMaXN0ZW5lck9wdGlvbnMsIHByb3RvOiBhbnksIG5hbWU6IFByb3BlcnR5S2V5KSA9PiB7XG4gICAgICBPYmplY3QuYXNzaWduKHByb3RvW25hbWVdLCBvcHRpb25zKTtcbiAgICB9O1xuXG4vKipcbiAqIEFkZHMgZXZlbnQgbGlzdGVuZXIgb3B0aW9ucyB0byBhIG1ldGhvZCB1c2VkIGFzIGFuIGV2ZW50IGxpc3RlbmVyIGluIGFcbiAqIGxpdC1odG1sIHRlbXBsYXRlLlxuICpcbiAqIEBwYXJhbSBvcHRpb25zIEFuIG9iamVjdCB0aGF0IHNwZWNpZmlzIGV2ZW50IGxpc3RlbmVyIG9wdGlvbnMgYXMgYWNjZXB0ZWQgYnlcbiAqIGBFdmVudFRhcmdldCNhZGRFdmVudExpc3RlbmVyYCBhbmQgYEV2ZW50VGFyZ2V0I3JlbW92ZUV2ZW50TGlzdGVuZXJgLlxuICpcbiAqIEN1cnJlbnQgYnJvd3NlcnMgc3VwcG9ydCB0aGUgYGNhcHR1cmVgLCBgcGFzc2l2ZWAsIGFuZCBgb25jZWAgb3B0aW9ucy4gU2VlOlxuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0V2ZW50VGFyZ2V0L2FkZEV2ZW50TGlzdGVuZXIjUGFyYW1ldGVyc1xuICpcbiAqIEBleGFtcGxlXG4gKlxuICogICAgIGNsYXNzIE15RWxlbWVudCB7XG4gKlxuICogICAgICAgY2xpY2tlZCA9IGZhbHNlO1xuICpcbiAqICAgICAgIHJlbmRlcigpIHtcbiAqICAgICAgICAgcmV0dXJuIGh0bWxgPGRpdiBAY2xpY2s9JHt0aGlzLl9vbkNsaWNrfWA+PGJ1dHRvbj48L2J1dHRvbj48L2Rpdj5gO1xuICogICAgICAgfVxuICpcbiAqICAgICAgIEBldmVudE9wdGlvbnMoe2NhcHR1cmU6IHRydWV9KVxuICogICAgICAgX29uQ2xpY2soZSkge1xuICogICAgICAgICB0aGlzLmNsaWNrZWQgPSB0cnVlO1xuICogICAgICAgfVxuICogICAgIH1cbiAqL1xuZXhwb3J0IGNvbnN0IGV2ZW50T3B0aW9ucyA9IChvcHRpb25zOiBBZGRFdmVudExpc3RlbmVyT3B0aW9ucykgPT5cbiAgICAvLyBSZXR1cm4gdmFsdWUgdHlwZWQgYXMgYW55IHRvIHByZXZlbnQgVHlwZVNjcmlwdCBmcm9tIGNvbXBsYWluaW5nIHRoYXRcbiAgICAvLyBzdGFuZGFyZCBkZWNvcmF0b3IgZnVuY3Rpb24gc2lnbmF0dXJlIGRvZXMgbm90IG1hdGNoIFR5cGVTY3JpcHQgZGVjb3JhdG9yXG4gICAgLy8gc2lnbmF0dXJlXG4gICAgLy8gVE9ETyhrc2NoYWFmKTogdW5jbGVhciB3aHkgaXQgd2FzIG9ubHkgZmFpbGluZyBvbiB0aGlzIGRlY29yYXRvciBhbmQgbm90XG4gICAgLy8gdGhlIG90aGVyc1xuICAgICgocHJvdG9PckRlc2NyaXB0b3I6IE9iamVjdHxDbGFzc0VsZW1lbnQsIG5hbWU/OiBzdHJpbmcpID0+XG4gICAgICAgICAobmFtZSAhPT0gdW5kZWZpbmVkKSA/XG4gICAgICAgICBsZWdhY3lFdmVudE9wdGlvbnMob3B0aW9ucywgcHJvdG9PckRlc2NyaXB0b3IgYXMgT2JqZWN0LCBuYW1lKSA6XG4gICAgICAgICBzdGFuZGFyZEV2ZW50T3B0aW9ucyhvcHRpb25zLCBwcm90b09yRGVzY3JpcHRvciBhcyBDbGFzc0VsZW1lbnQpKSBhc1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55IGRlY29yYXRvclxuICAgICAgICBhbnk7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTkgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG5odHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHQgVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZVxuZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHQgQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXNcbnBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnRcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cblxuZXhwb3J0IGNvbnN0IHN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cyA9XG4gICAgKCdhZG9wdGVkU3R5bGVTaGVldHMnIGluIERvY3VtZW50LnByb3RvdHlwZSkgJiZcbiAgICAoJ3JlcGxhY2UnIGluIENTU1N0eWxlU2hlZXQucHJvdG90eXBlKTtcblxuY29uc3QgY29uc3RydWN0aW9uVG9rZW4gPSBTeW1ib2woKTtcblxuZXhwb3J0IGNsYXNzIENTU1Jlc3VsdCB7XG4gIF9zdHlsZVNoZWV0PzogQ1NTU3R5bGVTaGVldHxudWxsO1xuXG4gIHJlYWRvbmx5IGNzc1RleHQ6IHN0cmluZztcblxuICBjb25zdHJ1Y3Rvcihjc3NUZXh0OiBzdHJpbmcsIHNhZmVUb2tlbjogc3ltYm9sKSB7XG4gICAgaWYgKHNhZmVUb2tlbiAhPT0gY29uc3RydWN0aW9uVG9rZW4pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnQ1NTUmVzdWx0IGlzIG5vdCBjb25zdHJ1Y3RhYmxlLiBVc2UgYHVuc2FmZUNTU2Agb3IgYGNzc2AgaW5zdGVhZC4nKTtcbiAgICB9XG4gICAgdGhpcy5jc3NUZXh0ID0gY3NzVGV4dDtcbiAgfVxuXG4gIC8vIE5vdGUsIHRoaXMgaXMgYSBnZXR0ZXIgc28gdGhhdCBpdCdzIGxhenkuIEluIHByYWN0aWNlLCB0aGlzIG1lYW5zXG4gIC8vIHN0eWxlc2hlZXRzIGFyZSBub3QgY3JlYXRlZCB1bnRpbCB0aGUgZmlyc3QgZWxlbWVudCBpbnN0YW5jZSBpcyBtYWRlLlxuICBnZXQgc3R5bGVTaGVldCgpOiBDU1NTdHlsZVNoZWV0fG51bGwge1xuICAgIGlmICh0aGlzLl9zdHlsZVNoZWV0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIE5vdGUsIGlmIGBhZG9wdGVkU3R5bGVTaGVldHNgIGlzIHN1cHBvcnRlZCB0aGVuIHdlIGFzc3VtZSBDU1NTdHlsZVNoZWV0XG4gICAgICAvLyBpcyBjb25zdHJ1Y3RhYmxlLlxuICAgICAgaWYgKHN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cykge1xuICAgICAgICB0aGlzLl9zdHlsZVNoZWV0ID0gbmV3IENTU1N0eWxlU2hlZXQoKTtcbiAgICAgICAgdGhpcy5fc3R5bGVTaGVldC5yZXBsYWNlU3luYyh0aGlzLmNzc1RleHQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fc3R5bGVTaGVldCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9zdHlsZVNoZWV0O1xuICB9XG5cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5jc3NUZXh0O1xuICB9XG59XG5cbi8qKlxuICogV3JhcCBhIHZhbHVlIGZvciBpbnRlcnBvbGF0aW9uIGluIGEgY3NzIHRhZ2dlZCB0ZW1wbGF0ZSBsaXRlcmFsLlxuICpcbiAqIFRoaXMgaXMgdW5zYWZlIGJlY2F1c2UgdW50cnVzdGVkIENTUyB0ZXh0IGNhbiBiZSB1c2VkIHRvIHBob25lIGhvbWVcbiAqIG9yIGV4ZmlsdHJhdGUgZGF0YSB0byBhbiBhdHRhY2tlciBjb250cm9sbGVkIHNpdGUuIFRha2UgY2FyZSB0byBvbmx5IHVzZVxuICogdGhpcyB3aXRoIHRydXN0ZWQgaW5wdXQuXG4gKi9cbmV4cG9ydCBjb25zdCB1bnNhZmVDU1MgPSAodmFsdWU6IHVua25vd24pID0+IHtcbiAgcmV0dXJuIG5ldyBDU1NSZXN1bHQoU3RyaW5nKHZhbHVlKSwgY29uc3RydWN0aW9uVG9rZW4pO1xufTtcblxuY29uc3QgdGV4dEZyb21DU1NSZXN1bHQgPSAodmFsdWU6IENTU1Jlc3VsdCkgPT4ge1xuICBpZiAodmFsdWUgaW5zdGFuY2VvZiBDU1NSZXN1bHQpIHtcbiAgICByZXR1cm4gdmFsdWUuY3NzVGV4dDtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBWYWx1ZSBwYXNzZWQgdG8gJ2NzcycgZnVuY3Rpb24gbXVzdCBiZSBhICdjc3MnIGZ1bmN0aW9uIHJlc3VsdDogJHtcbiAgICAgICAgICAgIHZhbHVlfS4gVXNlICd1bnNhZmVDU1MnIHRvIHBhc3Mgbm9uLWxpdGVyYWwgdmFsdWVzLCBidXRcbiAgICAgICAgICAgIHRha2UgY2FyZSB0byBlbnN1cmUgcGFnZSBzZWN1cml0eS5gKTtcbiAgfVxufTtcblxuLyoqXG4gKiBUZW1wbGF0ZSB0YWcgd2hpY2ggd2hpY2ggY2FuIGJlIHVzZWQgd2l0aCBMaXRFbGVtZW50J3MgYHN0eWxlYCBwcm9wZXJ0eSB0b1xuICogc2V0IGVsZW1lbnQgc3R5bGVzLiBGb3Igc2VjdXJpdHkgcmVhc29ucywgb25seSBsaXRlcmFsIHN0cmluZyB2YWx1ZXMgbWF5IGJlXG4gKiB1c2VkLiBUbyBpbmNvcnBvcmF0ZSBub24tbGl0ZXJhbCB2YWx1ZXMgYHVuc2FmZUNTU2AgbWF5IGJlIHVzZWQgaW5zaWRlIGFcbiAqIHRlbXBsYXRlIHN0cmluZyBwYXJ0LlxuICovXG5leHBvcnQgY29uc3QgY3NzID0gKHN0cmluZ3M6IFRlbXBsYXRlU3RyaW5nc0FycmF5LCAuLi52YWx1ZXM6IENTU1Jlc3VsdFtdKSA9PiB7XG4gIGNvbnN0IGNzc1RleHQgPSB2YWx1ZXMucmVkdWNlKFxuICAgICAgKGFjYywgdiwgaWR4KSA9PiBhY2MgKyB0ZXh0RnJvbUNTU1Jlc3VsdCh2KSArIHN0cmluZ3NbaWR4ICsgMV0sXG4gICAgICBzdHJpbmdzWzBdKTtcbiAgcmV0dXJuIG5ldyBDU1NSZXN1bHQoY3NzVGV4dCwgY29uc3RydWN0aW9uVG9rZW4pO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbmltcG9ydCB7VGVtcGxhdGVSZXN1bHR9IGZyb20gJ2xpdC1odG1sJztcbmltcG9ydCB7cmVuZGVyfSBmcm9tICdsaXQtaHRtbC9saWIvc2hhZHktcmVuZGVyLmpzJztcblxuaW1wb3J0IHtQcm9wZXJ0eVZhbHVlcywgVXBkYXRpbmdFbGVtZW50fSBmcm9tICcuL2xpYi91cGRhdGluZy1lbGVtZW50LmpzJztcblxuZXhwb3J0ICogZnJvbSAnLi9saWIvdXBkYXRpbmctZWxlbWVudC5qcyc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9kZWNvcmF0b3JzLmpzJztcbmV4cG9ydCB7aHRtbCwgc3ZnLCBUZW1wbGF0ZVJlc3VsdCwgU1ZHVGVtcGxhdGVSZXN1bHR9IGZyb20gJ2xpdC1odG1sL2xpdC1odG1sLmpzJztcbmltcG9ydCB7c3VwcG9ydHNBZG9wdGluZ1N0eWxlU2hlZXRzLCBDU1NSZXN1bHR9IGZyb20gJy4vbGliL2Nzcy10YWcuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9saWIvY3NzLXRhZy5qcyc7XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIFdpbmRvdyB7XG4gICAgbGl0RWxlbWVudFZlcnNpb25zOiBzdHJpbmdbXTtcbiAgfVxufVxuXG4vLyBJTVBPUlRBTlQ6IGRvIG5vdCBjaGFuZ2UgdGhlIHByb3BlcnR5IG5hbWUgb3IgdGhlIGFzc2lnbm1lbnQgZXhwcmVzc2lvbi5cbi8vIFRoaXMgbGluZSB3aWxsIGJlIHVzZWQgaW4gcmVnZXhlcyB0byBzZWFyY2ggZm9yIExpdEVsZW1lbnQgdXNhZ2UuXG4vLyBUT0RPKGp1c3RpbmZhZ25hbmkpOiBpbmplY3QgdmVyc2lvbiBudW1iZXIgYXQgYnVpbGQgdGltZVxuKHdpbmRvd1snbGl0RWxlbWVudFZlcnNpb25zJ10gfHwgKHdpbmRvd1snbGl0RWxlbWVudFZlcnNpb25zJ10gPSBbXSkpXG4gICAgLnB1c2goJzIuMC4xJyk7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ1NTUmVzdWx0QXJyYXkgZXh0ZW5kcyBBcnJheTxDU1NSZXN1bHR8Q1NTUmVzdWx0QXJyYXk+IHt9XG5cbi8qKlxuICogTWluaW1hbCBpbXBsZW1lbnRhdGlvbiBvZiBBcnJheS5wcm90b3R5cGUuZmxhdFxuICogQHBhcmFtIGFyciB0aGUgYXJyYXkgdG8gZmxhdHRlblxuICogQHBhcmFtIHJlc3VsdCB0aGUgYWNjdW1sYXRlZCByZXN1bHRcbiAqL1xuZnVuY3Rpb24gYXJyYXlGbGF0KFxuICAgIHN0eWxlczogQ1NTUmVzdWx0QXJyYXksIHJlc3VsdDogQ1NTUmVzdWx0W10gPSBbXSk6IENTU1Jlc3VsdFtdIHtcbiAgZm9yIChsZXQgaSA9IDAsIGxlbmd0aCA9IHN0eWxlcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHZhbHVlID0gc3R5bGVzW2ldO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgYXJyYXlGbGF0KHZhbHVlLCByZXN1bHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKiBEZWVwbHkgZmxhdHRlbnMgc3R5bGVzIGFycmF5LiBVc2VzIG5hdGl2ZSBmbGF0IGlmIGF2YWlsYWJsZS4gKi9cbmNvbnN0IGZsYXR0ZW5TdHlsZXMgPSAoc3R5bGVzOiBDU1NSZXN1bHRBcnJheSk6IENTU1Jlc3VsdFtdID0+XG4gICAgc3R5bGVzLmZsYXQgPyBzdHlsZXMuZmxhdChJbmZpbml0eSkgOiBhcnJheUZsYXQoc3R5bGVzKTtcblxuZXhwb3J0IGNsYXNzIExpdEVsZW1lbnQgZXh0ZW5kcyBVcGRhdGluZ0VsZW1lbnQge1xuICAvKipcbiAgICogRW5zdXJlIHRoaXMgY2xhc3MgaXMgbWFya2VkIGFzIGBmaW5hbGl6ZWRgIGFzIGFuIG9wdGltaXphdGlvbiBlbnN1cmluZ1xuICAgKiBpdCB3aWxsIG5vdCBuZWVkbGVzc2x5IHRyeSB0byBgZmluYWxpemVgLlxuICAgKi9cbiAgcHJvdGVjdGVkIHN0YXRpYyBmaW5hbGl6ZWQgPSB0cnVlO1xuXG4gIC8qKlxuICAgKiBSZW5kZXIgbWV0aG9kIHVzZWQgdG8gcmVuZGVyIHRoZSBsaXQtaHRtbCBUZW1wbGF0ZVJlc3VsdCB0byB0aGUgZWxlbWVudCdzXG4gICAqIERPTS5cbiAgICogQHBhcmFtIHtUZW1wbGF0ZVJlc3VsdH0gVGVtcGxhdGUgdG8gcmVuZGVyLlxuICAgKiBAcGFyYW0ge0VsZW1lbnR8RG9jdW1lbnRGcmFnbWVudH0gTm9kZSBpbnRvIHdoaWNoIHRvIHJlbmRlci5cbiAgICogQHBhcmFtIHtTdHJpbmd9IEVsZW1lbnQgbmFtZS5cbiAgICogQG5vY29sbGFwc2VcbiAgICovXG4gIHN0YXRpYyByZW5kZXIgPSByZW5kZXI7XG5cbiAgLyoqXG4gICAqIEFycmF5IG9mIHN0eWxlcyB0byBhcHBseSB0byB0aGUgZWxlbWVudC4gVGhlIHN0eWxlcyBzaG91bGQgYmUgZGVmaW5lZFxuICAgKiB1c2luZyB0aGUgYGNzc2AgdGFnIGZ1bmN0aW9uLlxuICAgKi9cbiAgc3RhdGljIHN0eWxlcz86IENTU1Jlc3VsdHxDU1NSZXN1bHRBcnJheTtcblxuICBwcml2YXRlIHN0YXRpYyBfc3R5bGVzOiBDU1NSZXN1bHRbXXx1bmRlZmluZWQ7XG5cbiAgLyoqIEBub2NvbGxhcHNlICovXG4gIHByb3RlY3RlZCBzdGF0aWMgZmluYWxpemUoKSB7XG4gICAgc3VwZXIuZmluYWxpemUoKTtcbiAgICAvLyBQcmVwYXJlIHN0eWxpbmcgdGhhdCBpcyBzdGFtcGVkIGF0IGZpcnN0IHJlbmRlciB0aW1lLiBTdHlsaW5nXG4gICAgLy8gaXMgYnVpbHQgZnJvbSB1c2VyIHByb3ZpZGVkIGBzdHlsZXNgIG9yIGlzIGluaGVyaXRlZCBmcm9tIHRoZSBzdXBlcmNsYXNzLlxuICAgIHRoaXMuX3N0eWxlcyA9XG4gICAgICAgIHRoaXMuaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnc3R5bGVzJywgdGhpcykpID9cbiAgICAgICAgdGhpcy5fZ2V0VW5pcXVlU3R5bGVzKCkgOlxuICAgICAgICB0aGlzLl9zdHlsZXMgfHwgW107XG4gIH1cblxuICAvKiogQG5vY29sbGFwc2UgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgX2dldFVuaXF1ZVN0eWxlcygpOiBDU1NSZXN1bHRbXSB7XG4gICAgLy8gVGFrZSBjYXJlIG5vdCB0byBjYWxsIGB0aGlzLnN0eWxlc2AgbXVsdGlwbGUgdGltZXMgc2luY2UgdGhpcyBnZW5lcmF0ZXNcbiAgICAvLyBuZXcgQ1NTUmVzdWx0cyBlYWNoIHRpbWUuXG4gICAgLy8gVE9ETyhzb3J2ZWxsKTogU2luY2Ugd2UgZG8gbm90IGNhY2hlIENTU1Jlc3VsdHMgYnkgaW5wdXQsIGFueVxuICAgIC8vIHNoYXJlZCBzdHlsZXMgd2lsbCBnZW5lcmF0ZSBuZXcgc3R5bGVzaGVldCBvYmplY3RzLCB3aGljaCBpcyB3YXN0ZWZ1bC5cbiAgICAvLyBUaGlzIHNob3VsZCBiZSBhZGRyZXNzZWQgd2hlbiBhIGJyb3dzZXIgc2hpcHMgY29uc3RydWN0YWJsZVxuICAgIC8vIHN0eWxlc2hlZXRzLlxuICAgIGNvbnN0IHVzZXJTdHlsZXMgPSB0aGlzLnN0eWxlcztcbiAgICBjb25zdCBzdHlsZXM6IENTU1Jlc3VsdFtdID0gW107XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodXNlclN0eWxlcykpIHtcbiAgICAgIGNvbnN0IGZsYXRTdHlsZXMgPSBmbGF0dGVuU3R5bGVzKHVzZXJTdHlsZXMpO1xuICAgICAgLy8gQXMgYSBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24gdG8gYXZvaWQgZHVwbGljYXRlZCBzdHlsaW5nIHRoYXQgY2FuXG4gICAgICAvLyBvY2N1ciBlc3BlY2lhbGx5IHdoZW4gY29tcG9zaW5nIHZpYSBzdWJjbGFzc2luZywgZGUtZHVwbGljYXRlIHN0eWxlc1xuICAgICAgLy8gcHJlc2VydmluZyB0aGUgbGFzdCBpdGVtIGluIHRoZSBsaXN0LiBUaGUgbGFzdCBpdGVtIGlzIGtlcHQgdG9cbiAgICAgIC8vIHRyeSB0byBwcmVzZXJ2ZSBjYXNjYWRlIG9yZGVyIHdpdGggdGhlIGFzc3VtcHRpb24gdGhhdCBpdCdzIG1vc3RcbiAgICAgIC8vIGltcG9ydGFudCB0aGF0IGxhc3QgYWRkZWQgc3R5bGVzIG92ZXJyaWRlIHByZXZpb3VzIHN0eWxlcy5cbiAgICAgIGNvbnN0IHN0eWxlU2V0ID0gZmxhdFN0eWxlcy5yZWR1Y2VSaWdodCgoc2V0LCBzKSA9PiB7XG4gICAgICAgIHNldC5hZGQocyk7XG4gICAgICAgIC8vIG9uIElFIHNldC5hZGQgZG9lcyBub3QgcmV0dXJuIHRoZSBzZXQuXG4gICAgICAgIHJldHVybiBzZXQ7XG4gICAgICB9LCBuZXcgU2V0PENTU1Jlc3VsdD4oKSk7XG4gICAgICAvLyBBcnJheS5mcm9tIGRvZXMgbm90IHdvcmsgb24gU2V0IGluIElFXG4gICAgICBzdHlsZVNldC5mb3JFYWNoKCh2KSA9PiBzdHlsZXMudW5zaGlmdCh2KSk7XG4gICAgfSBlbHNlIGlmICh1c2VyU3R5bGVzKSB7XG4gICAgICBzdHlsZXMucHVzaCh1c2VyU3R5bGVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0eWxlcztcbiAgfVxuXG4gIHByaXZhdGUgX25lZWRzU2hpbUFkb3B0ZWRTdHlsZVNoZWV0cz86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIE5vZGUgb3IgU2hhZG93Um9vdCBpbnRvIHdoaWNoIGVsZW1lbnQgRE9NIHNob3VsZCBiZSByZW5kZXJlZC4gRGVmYXVsdHNcbiAgICogdG8gYW4gb3BlbiBzaGFkb3dSb290LlxuICAgKi9cbiAgcmVhZG9ubHkgcmVuZGVyUm9vdCE6IEVsZW1lbnR8RG9jdW1lbnRGcmFnbWVudDtcblxuICAvKipcbiAgICogUGVyZm9ybXMgZWxlbWVudCBpbml0aWFsaXphdGlvbi4gQnkgZGVmYXVsdCB0aGlzIGNhbGxzIGBjcmVhdGVSZW5kZXJSb290YFxuICAgKiB0byBjcmVhdGUgdGhlIGVsZW1lbnQgYHJlbmRlclJvb3RgIG5vZGUgYW5kIGNhcHR1cmVzIGFueSBwcmUtc2V0IHZhbHVlcyBmb3JcbiAgICogcmVnaXN0ZXJlZCBwcm9wZXJ0aWVzLlxuICAgKi9cbiAgcHJvdGVjdGVkIGluaXRpYWxpemUoKSB7XG4gICAgc3VwZXIuaW5pdGlhbGl6ZSgpO1xuICAgICh0aGlzIGFzIHtyZW5kZXJSb290OiBFbGVtZW50IHwgRG9jdW1lbnRGcmFnbWVudH0pLnJlbmRlclJvb3QgPVxuICAgICAgICB0aGlzLmNyZWF0ZVJlbmRlclJvb3QoKTtcbiAgICAvLyBOb3RlLCBpZiByZW5kZXJSb290IGlzIG5vdCBhIHNoYWRvd1Jvb3QsIHN0eWxlcyB3b3VsZC9jb3VsZCBhcHBseSB0byB0aGVcbiAgICAvLyBlbGVtZW50J3MgZ2V0Um9vdE5vZGUoKS4gV2hpbGUgdGhpcyBjb3VsZCBiZSBkb25lLCB3ZSdyZSBjaG9vc2luZyBub3QgdG9cbiAgICAvLyBzdXBwb3J0IHRoaXMgbm93IHNpbmNlIGl0IHdvdWxkIHJlcXVpcmUgZGlmZmVyZW50IGxvZ2ljIGFyb3VuZCBkZS1kdXBpbmcuXG4gICAgaWYgKHdpbmRvdy5TaGFkb3dSb290ICYmIHRoaXMucmVuZGVyUm9vdCBpbnN0YW5jZW9mIHdpbmRvdy5TaGFkb3dSb290KSB7XG4gICAgICB0aGlzLmFkb3B0U3R5bGVzKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG5vZGUgaW50byB3aGljaCB0aGUgZWxlbWVudCBzaG91bGQgcmVuZGVyIGFuZCBieSBkZWZhdWx0XG4gICAqIGNyZWF0ZXMgYW5kIHJldHVybnMgYW4gb3BlbiBzaGFkb3dSb290LiBJbXBsZW1lbnQgdG8gY3VzdG9taXplIHdoZXJlIHRoZVxuICAgKiBlbGVtZW50J3MgRE9NIGlzIHJlbmRlcmVkLiBGb3IgZXhhbXBsZSwgdG8gcmVuZGVyIGludG8gdGhlIGVsZW1lbnQnc1xuICAgKiBjaGlsZE5vZGVzLCByZXR1cm4gYHRoaXNgLlxuICAgKiBAcmV0dXJucyB7RWxlbWVudHxEb2N1bWVudEZyYWdtZW50fSBSZXR1cm5zIGEgbm9kZSBpbnRvIHdoaWNoIHRvIHJlbmRlci5cbiAgICovXG4gIHByb3RlY3RlZCBjcmVhdGVSZW5kZXJSb290KCk6IEVsZW1lbnR8U2hhZG93Um9vdCB7XG4gICAgcmV0dXJuIHRoaXMuYXR0YWNoU2hhZG93KHttb2RlOiAnb3Blbid9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBsaWVzIHN0eWxpbmcgdG8gdGhlIGVsZW1lbnQgc2hhZG93Um9vdCB1c2luZyB0aGUgYHN0YXRpYyBnZXQgc3R5bGVzYFxuICAgKiBwcm9wZXJ0eS4gU3R5bGluZyB3aWxsIGFwcGx5IHVzaW5nIGBzaGFkb3dSb290LmFkb3B0ZWRTdHlsZVNoZWV0c2Agd2hlcmVcbiAgICogYXZhaWxhYmxlIGFuZCB3aWxsIGZhbGxiYWNrIG90aGVyd2lzZS4gV2hlbiBTaGFkb3cgRE9NIGlzIHBvbHlmaWxsZWQsXG4gICAqIFNoYWR5Q1NTIHNjb3BlcyBzdHlsZXMgYW5kIGFkZHMgdGhlbSB0byB0aGUgZG9jdW1lbnQuIFdoZW4gU2hhZG93IERPTVxuICAgKiBpcyBhdmFpbGFibGUgYnV0IGBhZG9wdGVkU3R5bGVTaGVldHNgIGlzIG5vdCwgc3R5bGVzIGFyZSBhcHBlbmRlZCB0byB0aGVcbiAgICogZW5kIG9mIHRoZSBgc2hhZG93Um9vdGAgdG8gW21pbWljIHNwZWNcbiAgICogYmVoYXZpb3JdKGh0dHBzOi8vd2ljZy5naXRodWIuaW8vY29uc3RydWN0LXN0eWxlc2hlZXRzLyN1c2luZy1jb25zdHJ1Y3RlZC1zdHlsZXNoZWV0cykuXG4gICAqL1xuICBwcm90ZWN0ZWQgYWRvcHRTdHlsZXMoKSB7XG4gICAgY29uc3Qgc3R5bGVzID0gKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIExpdEVsZW1lbnQpLl9zdHlsZXMhO1xuICAgIGlmIChzdHlsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIFRoZXJlIGFyZSB0aHJlZSBzZXBhcmF0ZSBjYXNlcyBoZXJlIGJhc2VkIG9uIFNoYWRvdyBET00gc3VwcG9ydC5cbiAgICAvLyAoMSkgc2hhZG93Um9vdCBwb2x5ZmlsbGVkOiB1c2UgU2hhZHlDU1NcbiAgICAvLyAoMikgc2hhZG93Um9vdC5hZG9wdGVkU3R5bGVTaGVldHMgYXZhaWxhYmxlOiB1c2UgaXQuXG4gICAgLy8gKDMpIHNoYWRvd1Jvb3QuYWRvcHRlZFN0eWxlU2hlZXRzIHBvbHlmaWxsZWQ6IGFwcGVuZCBzdHlsZXMgYWZ0ZXJcbiAgICAvLyByZW5kZXJpbmdcbiAgICBpZiAod2luZG93LlNoYWR5Q1NTICE9PSB1bmRlZmluZWQgJiYgIXdpbmRvdy5TaGFkeUNTUy5uYXRpdmVTaGFkb3cpIHtcbiAgICAgIHdpbmRvdy5TaGFkeUNTUy5TY29waW5nU2hpbS5wcmVwYXJlQWRvcHRlZENzc1RleHQoXG4gICAgICAgICAgc3R5bGVzLm1hcCgocykgPT4gcy5jc3NUZXh0KSwgdGhpcy5sb2NhbE5hbWUpO1xuICAgIH0gZWxzZSBpZiAoc3VwcG9ydHNBZG9wdGluZ1N0eWxlU2hlZXRzKSB7XG4gICAgICAodGhpcy5yZW5kZXJSb290IGFzIFNoYWRvd1Jvb3QpLmFkb3B0ZWRTdHlsZVNoZWV0cyA9XG4gICAgICAgICAgc3R5bGVzLm1hcCgocykgPT4gcy5zdHlsZVNoZWV0ISk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoaXMgbXVzdCBiZSBkb25lIGFmdGVyIHJlbmRlcmluZyBzbyB0aGUgYWN0dWFsIHN0eWxlIGluc2VydGlvbiBpcyBkb25lXG4gICAgICAvLyBpbiBgdXBkYXRlYC5cbiAgICAgIHRoaXMuX25lZWRzU2hpbUFkb3B0ZWRTdHlsZVNoZWV0cyA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAvLyBOb3RlLCBmaXJzdCB1cGRhdGUvcmVuZGVyIGhhbmRsZXMgc3R5bGVFbGVtZW50IHNvIHdlIG9ubHkgY2FsbCB0aGlzIGlmXG4gICAgLy8gY29ubmVjdGVkIGFmdGVyIGZpcnN0IHVwZGF0ZS5cbiAgICBpZiAodGhpcy5oYXNVcGRhdGVkICYmIHdpbmRvdy5TaGFkeUNTUyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB3aW5kb3cuU2hhZHlDU1Muc3R5bGVFbGVtZW50KHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBlbGVtZW50LiBUaGlzIG1ldGhvZCByZWZsZWN0cyBwcm9wZXJ0eSB2YWx1ZXMgdG8gYXR0cmlidXRlc1xuICAgKiBhbmQgY2FsbHMgYHJlbmRlcmAgdG8gcmVuZGVyIERPTSB2aWEgbGl0LWh0bWwuIFNldHRpbmcgcHJvcGVydGllcyBpbnNpZGVcbiAgICogdGhpcyBtZXRob2Qgd2lsbCAqbm90KiB0cmlnZ2VyIGFub3RoZXIgdXBkYXRlLlxuICAgKiAqIEBwYXJhbSBfY2hhbmdlZFByb3BlcnRpZXMgTWFwIG9mIGNoYW5nZWQgcHJvcGVydGllcyB3aXRoIG9sZCB2YWx1ZXNcbiAgICovXG4gIHByb3RlY3RlZCB1cGRhdGUoY2hhbmdlZFByb3BlcnRpZXM6IFByb3BlcnR5VmFsdWVzKSB7XG4gICAgc3VwZXIudXBkYXRlKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICBjb25zdCB0ZW1wbGF0ZVJlc3VsdCA9IHRoaXMucmVuZGVyKCkgYXMgdW5rbm93bjtcbiAgICBpZiAodGVtcGxhdGVSZXN1bHQgaW5zdGFuY2VvZiBUZW1wbGF0ZVJlc3VsdCkge1xuICAgICAgKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIExpdEVsZW1lbnQpXG4gICAgICAgICAgLnJlbmRlcihcbiAgICAgICAgICAgICAgdGVtcGxhdGVSZXN1bHQsXG4gICAgICAgICAgICAgIHRoaXMucmVuZGVyUm9vdCxcbiAgICAgICAgICAgICAge3Njb3BlTmFtZTogdGhpcy5sb2NhbE5hbWUsIGV2ZW50Q29udGV4dDogdGhpc30pO1xuICAgIH1cbiAgICAvLyBXaGVuIG5hdGl2ZSBTaGFkb3cgRE9NIGlzIHVzZWQgYnV0IGFkb3B0ZWRTdHlsZXMgYXJlIG5vdCBzdXBwb3J0ZWQsXG4gICAgLy8gaW5zZXJ0IHN0eWxpbmcgYWZ0ZXIgcmVuZGVyaW5nIHRvIGVuc3VyZSBhZG9wdGVkU3R5bGVzIGhhdmUgaGlnaGVzdFxuICAgIC8vIHByaW9yaXR5LlxuICAgIGlmICh0aGlzLl9uZWVkc1NoaW1BZG9wdGVkU3R5bGVTaGVldHMpIHtcbiAgICAgIHRoaXMuX25lZWRzU2hpbUFkb3B0ZWRTdHlsZVNoZWV0cyA9IGZhbHNlO1xuICAgICAgKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIExpdEVsZW1lbnQpLl9zdHlsZXMhLmZvckVhY2goKHMpID0+IHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgICBzdHlsZS50ZXh0Q29udGVudCA9IHMuY3NzVGV4dDtcbiAgICAgICAgdGhpcy5yZW5kZXJSb290LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJbnZva2VkIG9uIGVhY2ggdXBkYXRlIHRvIHBlcmZvcm0gcmVuZGVyaW5nIHRhc2tzLiBUaGlzIG1ldGhvZCBtdXN0IHJldHVyblxuICAgKiBhIGxpdC1odG1sIFRlbXBsYXRlUmVzdWx0LiBTZXR0aW5nIHByb3BlcnRpZXMgaW5zaWRlIHRoaXMgbWV0aG9kIHdpbGwgKm5vdCpcbiAgICogdHJpZ2dlciB0aGUgZWxlbWVudCB0byB1cGRhdGUuXG4gICAqL1xuICBwcm90ZWN0ZWQgcmVuZGVyKCk6IFRlbXBsYXRlUmVzdWx0fHZvaWQge1xuICB9XG59XG4iLCJpbXBvcnQgYXhpb3MsIHsgQXhpb3NSZXNwb25zZSwgQ2FuY2VsVG9rZW4sIEF4aW9zUmVxdWVzdENvbmZpZyB9IGZyb20gJ2F4aW9zJztcbmltcG9ydCB7IGh0bWwsIFRlbXBsYXRlUmVzdWx0IH0gZnJvbSAnbGl0LWh0bWwnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEFzc2V0IHtcbiAgICBrZXk/OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBBc3NldFBhZ2Uge1xuICAgIGFzc2V0czogQXNzZXRbXTtcbiAgICBuZXh0OiBzdHJpbmc7XG59XG5cbi8qKiBHZXQgdGhlIHZhbHVlIGZvciBhIG5hbWVkIGNvb2tpZSAqL1xuZXhwb3J0IGNvbnN0IGdldENvb2tpZSA9IChuYW1lOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICAgIGZvciAoY29uc3QgY29va2llIG9mIGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOycpKSB7XG4gICAgICAgIGNvbnN0IGlkeCA9IGNvb2tpZS5pbmRleE9mKCc9Jyk7XG4gICAgICAgIGxldCBrZXkgPSBjb29raWUuc3Vic3RyKDAsIGlkeCk7XG4gICAgICAgIGxldCB2YWx1ZSA9IGNvb2tpZS5zdWJzdHIoaWR4ICsgMSk7XG5cbiAgICAgICAgLy8gbm8gc3BhY2VzIGFsbG93ZWRcbiAgICAgICAga2V5ID0ga2V5LnRyaW0oKTtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS50cmltKCk7XG5cbiAgICAgICAgaWYgKGtleSA9PT0gbmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufTtcblxuZXhwb3J0IHR5cGUgQ2xhc3NNYXAgPSB7XG4gICAgW2NsYXNzTmFtZTogc3RyaW5nXTogYm9vbGVhblxufTtcblxuZXhwb3J0IGNvbnN0IGdldENsYXNzZXMgPSAobWFwOiBDbGFzc01hcCk6IHN0cmluZyA9PiB7XG4gICAgY29uc3QgY2xhc3NOYW1lczogc3RyaW5nW10gPSBbXTtcbiAgICBPYmplY3Qua2V5cyhtYXApLmZvckVhY2goKGNsYXNzTmFtZTogc3RyaW5nKSA9PiB7XG4gICAgICAgIGlmIChtYXBbY2xhc3NOYW1lXSkge1xuICAgICAgICAgICAgY2xhc3NOYW1lcy5wdXNoKGNsYXNzTmFtZSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGxldCByZXN1bHQgPSBjbGFzc05hbWVzLmpvaW4oJyAnKTtcbiAgICBpZiAocmVzdWx0LnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJlc3VsdCA9ICcgJyArIHJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRBc3NldFBhZ2UgPSAodXJsOiBzdHJpbmcpOiBQcm9taXNlPEFzc2V0UGFnZT4gPT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZTxBc3NldFBhZ2U+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgZ2V0VXJsKHVybClcbiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZTogQXhpb3NSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoe1xuICAgICAgICAgICAgICAgICAgICBhc3NldHM6IHJlc3BvbnNlLmRhdGEucmVzdWx0cyxcbiAgICAgICAgICAgICAgICAgICAgbmV4dDogcmVzcG9uc2UuZGF0YS5uZXh0XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHJlamVjdChlcnJvcikpO1xuICAgIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEFzc2V0cyA9IGFzeW5jICh1cmw6IHN0cmluZyk6IFByb21pc2U8QXNzZXRbXT4gPT4ge1xuICAgIGlmICghdXJsKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxBc3NldFtdPigocmVzb2x2ZSwgcmVqZWN0KSA9PiByZXNvbHZlKFtdKSk7XG4gICAgfVxuXG4gICAgbGV0IGFzc2V0czogQXNzZXRbXSA9IFtdO1xuICAgIGxldCBwYWdlVXJsID0gdXJsO1xuICAgIHdoaWxlIChwYWdlVXJsKSB7XG4gICAgICAgIGNvbnN0IGFzc2V0UGFnZSA9IGF3YWl0IGdldEFzc2V0UGFnZShwYWdlVXJsKTtcbiAgICAgICAgYXNzZXRzID0gYXNzZXRzLmNvbmNhdChhc3NldFBhZ2UuYXNzZXRzKTtcbiAgICAgICAgcGFnZVVybCA9IGFzc2V0UGFnZS5uZXh0O1xuICAgIH1cbiAgICByZXR1cm4gYXNzZXRzO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFVybCA9IChcbiAgICB1cmw6IHN0cmluZyxcbiAgICBjYW5jZWxUb2tlbjogQ2FuY2VsVG9rZW4gPSBudWxsXG4pOiBQcm9taXNlPEF4aW9zUmVzcG9uc2U+ID0+IHtcbiAgICBjb25zdCBjc3JmID0gZ2V0Q29va2llKCdjc3JmdG9rZW4nKTtcbiAgICBjb25zdCBoZWFkZXJzID0gY3NyZiA/IHsgJ1gtQ1NSRlRva2VuJzogY3NyZiB9IDoge307XG4gICAgY29uc3QgY29uZmlnOiBBeGlvc1JlcXVlc3RDb25maWcgPSB7IGhlYWRlcnMgfTtcbiAgICBpZiAoY2FuY2VsVG9rZW4pIHtcbiAgICAgICAgY29uZmlnLmNhbmNlbFRva2VuID0gY2FuY2VsVG9rZW47XG4gICAgfVxuICAgIHJldHVybiBheGlvcy5nZXQodXJsLCBjb25maWcpO1xufTtcblxuZXhwb3J0IGNvbnN0IHBvc3RVcmwgPSAodXJsOiBzdHJpbmcsIHBheWxvYWQ6IGFueSk6IFByb21pc2U8QXhpb3NSZXNwb25zZT4gPT4ge1xuICAgIGNvbnN0IGNzcmYgPSBnZXRDb29raWUoJ2NzcmZ0b2tlbicpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSBjc3JmID8geyAnWC1DU1JGVG9rZW4nOiBjc3JmIH0gOiB7fTtcbiAgICByZXR1cm4gYXhpb3MucG9zdCh1cmwsIHBheWxvYWQsIHsgaGVhZGVycyB9KTtcbn07XG5cbi8qKlxuICovXG5leHBvcnQgY29uc3QgcmVuZGVySWYgPSAocHJlZGljYXRlOiBib29sZWFuIHwgYW55KSA9PiAoXG4gICAgdGhlbjogKCkgPT4gVGVtcGxhdGVSZXN1bHQsXG4gICAgb3RoZXJ3aXNlPzogKCkgPT4gVGVtcGxhdGVSZXN1bHRcbikgPT4ge1xuICAgIHJldHVybiBwcmVkaWNhdGUgPyB0aGVuKCkgOiBvdGhlcndpc2UgPyBvdGhlcndpc2UoKSA6IGh0bWxgYDtcbn07XG5cbmV4cG9ydCBjb25zdCBoZXhUb1JnYiA9IChoZXg6IHN0cmluZyk6IHsgcjogbnVtYmVyLCBnOiBudW1iZXIsIGI6IG51bWJlciB9ID0+IHtcbiAgICB2YXIgcmVzdWx0ID0gL14jPyhbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KSQvaS5leGVjKGhleCk7XG4gICAgcmV0dXJuIHJlc3VsdFxuICAgICAgICA/IHtcbiAgICAgICAgICAgICAgcjogcGFyc2VJbnQocmVzdWx0WzFdLCAxNiksXG4gICAgICAgICAgICAgIGc6IHBhcnNlSW50KHJlc3VsdFsyXSwgMTYpLFxuICAgICAgICAgICAgICBiOiBwYXJzZUludChyZXN1bHRbM10sIDE2KVxuICAgICAgICAgIH1cbiAgICAgICAgOiBudWxsO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEVsZW1lbnRPZmZzZXQgPSAoXG4gICAgZWxlOiBIVE1MRWxlbWVudFxuKToge1xuICAgIHRvcDogbnVtYmVyLFxuICAgIGxlZnQ6IG51bWJlcixcbiAgICBib3R0b206IG51bWJlcixcbiAgICByaWdodDogbnVtYmVyLFxuICAgIHdpZHRoOiBudW1iZXIsXG4gICAgaGVpZ2h0OiBudW1iZXJcbn0gPT4ge1xuICAgIGNvbnN0IHJlY3QgPSBlbGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3Qgc2Nyb2xsTGVmdCA9XG4gICAgICAgIHdpbmRvdy5wYWdlWE9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdDtcbiAgICBjb25zdCBzY3JvbGxUb3AgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgICByZXR1cm4ge1xuICAgICAgICB0b3A6IHJlY3QudG9wICsgc2Nyb2xsVG9wLFxuICAgICAgICBsZWZ0OiByZWN0LmxlZnQgKyBzY3JvbGxMZWZ0LFxuICAgICAgICBib3R0b206IHJlY3QudG9wICsgcmVjdC5oZWlnaHQsXG4gICAgICAgIHJpZ2h0OiByZWN0LmxlZnQgKyByZWN0LndpZHRoLFxuICAgICAgICB3aWR0aDogcmVjdC53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiByZWN0LmhlaWdodFxuICAgIH07XG59O1xuIiwiaW1wb3J0IHsgQXhpb3NSZXNwb25zZSB9IGZyb20gJ2F4aW9zJztcbmltcG9ydCB7IGNzcywgY3VzdG9tRWxlbWVudCwgaHRtbCwgTGl0RWxlbWVudCwgcHJvcGVydHksIFRlbXBsYXRlUmVzdWx0IH0gZnJvbSAnbGl0LWVsZW1lbnQnO1xuaW1wb3J0IHsgRmVhdHVyZVByb3BlcnRpZXMgfSBmcm9tICcuLi9pbnRlcmZhY2VzJztcbmltcG9ydCB7IGdldFVybCwgcG9zdFVybCB9IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCBhdXRvc2l6ZSBmcm9tICdhdXRvc2l6ZSc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJy4uL2J1dHRvbi9CdXR0b24nO1xuaW1wb3J0IFRleHRJbnB1dCBmcm9tICcuLi90ZXh0aW5wdXQvVGV4dElucHV0JztcblxuXG5AY3VzdG9tRWxlbWVudChcImFsaWFzLWVkaXRvclwiKVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWxpYXNFZGl0b3IgZXh0ZW5kcyBMaXRFbGVtZW50IHtcblxuICBzdGF0aWMgZ2V0IHN0eWxlcygpIHtcbiAgICByZXR1cm4gY3NzYFxuXG4gICAgICA6aG9zdCB7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiBub3JtYWw7XG4gICAgICB9XG5cbiAgICAgIHJwLXRleHRpbnB1dCB7XG4gICAgICAgIGhlaWdodDogMTUwcHg7XG4gICAgICB9XG5cbiAgICAgICNsZWZ0LWNvbHVtbiB7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gICAgICAgIHdpZHRoOiAzMDBweDtcbiAgICAgICAgei1pbmRleDogMTAwO1xuICAgICAgfVxuXG4gICAgICAuc2VhcmNoIHtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgICAgIH1cblxuICAgICAgLmZlYXR1cmUge1xuICAgICAgICBwYWRkaW5nOiA0cHggMTRweDtcbiAgICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgfVxuXG4gICAgICAubGV2ZWwtMCB7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAwcHg7XG4gICAgICB9XG5cbiAgICAgIC5sZXZlbC0xIHtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDVweDtcbiAgICAgICAgZm9udC1zaXplOiA5NSU7XG4gICAgICB9XG5cbiAgICAgIC5sZXZlbC0yIHtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gICAgICAgIGZvbnQtc2l6ZTogOTAlO1xuICAgICAgfVxuXG4gICAgICAubGV2ZWwtMyB7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAxNXB4O1xuICAgICAgICBmb250LXNpemU6IDg1JTtcbiAgICAgIH1cblxuICAgICAgLmZlYXR1cmUtbmFtZSB7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIH1cblxuICAgICAgLmNsaWNrYWJsZSB7XG4gICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICBjb2xvcjogdmFyKC0tY29sb3ItbGluay1wcmltYXJ5KTtcbiAgICAgIH1cblxuICAgICAgLmNsaWNrYWJsZS5zZWNvbmRhcnkge1xuICAgICAgICBjb2xvcjogdmFyKC0tY29sb3ItbGluay1zZWNvbmRhcnkpO1xuICAgICAgfVxuXG4gICAgICAuY2xpY2thYmxlOmhvdmVyIHtcbiAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1jb2xvci1saW5rLXByaW1hcnktaG92ZXIpO1xuICAgICAgfVxuXG4gICAgICAuZmVhdHVyZTpob3ZlciAuc2hvd29uaG92ZXIge1xuICAgICAgICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xuICAgICAgfVxuXG4gICAgICAuc2hvd29uaG92ZXIge1xuICAgICAgICB2aXNpYmlsaXR5OiBoaWRkZW47XG4gICAgICB9XG5cbiAgICAgIC5hbGlhc2VzIHtcbiAgICAgICAgY29sb3I6ICNiYmI7XG4gICAgICAgIGZvbnQtc2l6ZTogODAlO1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmU7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiA1cHg7XG4gICAgICB9XG5cbiAgICAgIHJwLWxhYmVsIHtcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAzcHg7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDNweDtcbiAgICAgICAgdmVydGljYWwtYWxpZ246IHRvcDtcbiAgICAgIH1cblxuICAgICAgLnNlbGVjdGVkIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgcGFkZGluZzogMTVweDtcbiAgICAgIH1cblxuICAgICAgLnNlbGVjdGVkIC5uYW1lIHtcbiAgICAgICAgZm9udC1zaXplOiAxOHB4O1xuICAgICAgICBwYWRkaW5nOiA1cHg7XG4gICAgICB9XG5cbiAgICAgIC5zZWxlY3RlZCAuaGVscCB7XG4gICAgICAgIHBhZGRpbmc6IDVweCAycHg7XG4gICAgICAgIGZvbnQtc2l6ZTogMTFweDtcbiAgICAgICAgY29sb3I6IHZhcigtLWNvbG9yLXNlY29uZGFyeS1saWdodCk7XG4gICAgICB9XG5cbiAgICAgICNyaWdodC1jb2x1bW4ge1xuICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogdG9wO1xuICAgICAgICBtYXJnaW4tbGVmdDogMjBweDtcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgfVxuXG4gICAgICBsZWFmbGV0LW1hcCB7XG4gICAgICAgIGhlaWdodDogMjUwcHg7XG4gICAgICAgIHdpZHRoOiA0NTBweDtcbiAgICAgICAgYm9yZGVyOiAwcHggc29saWQgIzk5OTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgICAgfVxuXG4gICAgICAuZWRpdCB7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAwcHg7XG4gICAgICB9XG5cbiAgIGA7XG4gIH1cblxuICBAcHJvcGVydHkoe3R5cGU6IEFycmF5LCBhdHRyaWJ1dGU6IGZhbHNlfSlcbiAgcGF0aDogRmVhdHVyZVByb3BlcnRpZXNbXSA9IFtdO1xuXG4gIEBwcm9wZXJ0eSgpXG4gIGVuZHBvaW50OiBzdHJpbmc7XG5cbiAgQHByb3BlcnR5KClcbiAgb3NtSWQ6IHN0cmluZztcblxuICBAcHJvcGVydHkoe3R5cGU6IE9iamVjdH0pXG4gIGhvdmVyZWQ6IEZlYXR1cmVQcm9wZXJ0aWVzO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogT2JqZWN0fSlcbiAgZWRpdEZlYXR1cmU6IEZlYXR1cmVQcm9wZXJ0aWVzXG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICBwdWJsaWMgdXBkYXRlZChjaGFuZ2VkUHJvcGVydGllczogTWFwPHN0cmluZywgYW55Pikge1xuXG4gICAgaWYgKGNoYW5nZWRQcm9wZXJ0aWVzLmhhcyhcIm9zbUlkXCIpKSB7XG4gICAgICAvLyBnb2luZyB1cCB0aGUgdHJlZSBkb2Vzbid0IHJlcXVpcmUgYSBmZXRjaFxuICAgICAgY29uc3QgbmV3UGF0aCA9IFtdO1xuICAgICAgZm9yIChsZXQgZmVhdHVyZSBvZiB0aGlzLnBhdGgpIHtcbiAgICAgICAgbmV3UGF0aC5wdXNoKGZlYXR1cmUpO1xuICAgICAgICBpZiAoZmVhdHVyZS5vc21faWQgPT09IHRoaXMub3NtSWQpIHtcbiAgICAgICAgICB0aGlzLnBhdGggPSBbLi4ubmV3UGF0aF07XG4gICAgICAgICAgdGhpcy5oaWRlQWxpYXNEaWFsb2coKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5mZXRjaEZlYXR1cmUoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGZldGNoRmVhdHVyZSgpIHtcbiAgICBnZXRVcmwodGhpcy5nZXRFbmRwb2ludCgpICsgXCJib3VuZGFyaWVzL1wiICsgdGhpcy5vc21JZCArIFwiL1wiKS50aGVuKChyZXNwb25zZTogQXhpb3NSZXNwb25zZSkgPT4ge1xuICAgICAgdGhpcy5wYXRoID0gcmVzcG9uc2UuZGF0YSBhcyBGZWF0dXJlUHJvcGVydGllc1tdO1xuICAgICAgdGhpcy5oaWRlQWxpYXNEaWFsb2coKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qXG4gICBNYWtlcyBzdXJlIG91ciB0ZXh0YXJlYSBncm93cyB3aXRoIHVzXG4gICAqL1xuICBwcml2YXRlIGZpcmVUZXh0YXJlYUF1dG9zaXplKCk6IHZvaWQge1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpPT57XG4gICAgICBhdXRvc2l6ZSh0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcigndGV4dGFyZWEnKSk7XG4gICAgICBhdXRvc2l6ZS51cGRhdGUodGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhJykpO1xuICAgIH0sIDApO1xuICB9XG4gIFxuICBwcml2YXRlIGhhbmRsZU1hcENsaWNrZWQoZmVhdHVyZTogRmVhdHVyZVByb3BlcnRpZXMpOiB2b2lkIHtcbiAgICB0aGlzLmhvdmVyZWQgPSBudWxsO1xuICAgIGlmICghZmVhdHVyZSB8fCBmZWF0dXJlLm9zbV9pZCAhPT0gdGhpcy5vc21JZCkge1xuICAgICAgdGhpcy5vc21JZCA9IGZlYXR1cmUub3NtX2lkO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlUGxhY2VDbGlja2VkKGZlYXR1cmU6IEZlYXR1cmVQcm9wZXJ0aWVzKSB7XG4gICAgdGhpcy5vc21JZCA9IGZlYXR1cmUub3NtX2lkO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVTZWFyY2hTZWxlY3Rpb24oZXZ0OiBDdXN0b21FdmVudCkge1xuICAgIGNvbnN0IHNlbGVjdGlvbiA9IGV2dC5kZXRhaWwuc2VsZWN0ZWQgYXMgRmVhdHVyZVByb3BlcnRpZXM7XG4gICAgdGhpcy5zaG93QWxpYXNEaWFsb2coc2VsZWN0aW9uKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyRmVhdHVyZShmZWF0dXJlOiBGZWF0dXJlUHJvcGVydGllcywgcmVtYWluaW5nUGF0aDogRmVhdHVyZVByb3BlcnRpZXNbXSk6IFRlbXBsYXRlUmVzdWx0IHtcbiAgICBjb25zdCBzZWxlY3RlZEZlYXR1cmUgPSB0aGlzLnBhdGhbdGhpcy5wYXRoLmxlbmd0aCAtIDFdO1xuICAgIGNvbnN0IGNsaWNrYWJsZSA9ICgoZmVhdHVyZS5oYXNfY2hpbGRyZW4gfHwgZmVhdHVyZS5sZXZlbCA9PT0gMCApJiYgZmVhdHVyZSAhPT0gc2VsZWN0ZWRGZWF0dXJlKTtcbiAgICBjb25zdCByZW5kZXJlZEZlYXR1cmUgPSBodG1sYFxuICAgICAgPGRpdiBjbGFzcz1cImZlYXR1cmVcIj5cbiAgICAgICAgPGRpdiBcbiAgICAgICAgICBAbW91c2VvdmVyPSR7KCkgPT4geyBpZiAoZmVhdHVyZS5sZXZlbCA+IDApIHsgdGhpcy5ob3ZlcmVkID0gZmVhdHVyZSB9fX1cbiAgICAgICAgICBAbW91c2VvdXQ9JHsoKSA9PiB7IHRoaXMuaG92ZXJlZCA9IG51bGwgfX1cbiAgICAgICAgICBjbGFzcz1cImxldmVsLSR7ZmVhdHVyZS5sZXZlbH1cIlxuICAgICAgICA+XG5cbiBcblxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmVhdHVyZS1uYW1lICR7IGNsaWNrYWJsZSA/ICdjbGlja2FibGUnIDogJyd9XCIgXG4gICAgICAgICAgQGNsaWNrPSR7KCkgPT4geyBpZiAoY2xpY2thYmxlKSB7dGhpcy5oYW5kbGVQbGFjZUNsaWNrZWQoZmVhdHVyZSkgfX19PlxuICAgICAgICAgICR7ZmVhdHVyZS5uYW1lfVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwiYWxpYXNlc1wiPlxuICAgICAgICAgICR7ZmVhdHVyZS5hbGlhc2VzLnNwbGl0KCdcXG4nKS5tYXAoKGFsaWFzOiBzdHJpbmcpPT5hbGlhcy50cmltKCkubGVuZ3RoID4gMCA/IGh0bWxgXG4gICAgICAgICAgICA8cnAtbGFiZWwgY2xhc3M9XCJhbGlhc1wiIEBjbGljaz0keygpPT57dGhpcy5zaG93QWxpYXNEaWFsb2coZmVhdHVyZSk7fX0gbGlnaHQgY2xpY2thYmxlPiR7YWxpYXN9PC9ycC1sYWJlbD5cbiAgICAgICAgICBgOiBudWxsKX1cblxuICAgICAgICAgICR7ZmVhdHVyZS5sZXZlbCA+IDAgPyBodG1sYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJlZGl0IGNsaWNrYWJsZSBzaG93b25ob3ZlclwiIEBjbGljaz0keyhldnQ6IE1vdXNlRXZlbnQpPT4geyB0aGlzLnNob3dBbGlhc0RpYWxvZyhmZWF0dXJlKTsgZXZ0LnByZXZlbnREZWZhdWx0KCk7IGV2dC5zdG9wUHJvcGFnYXRpb24oKX19PlxuICAgICAgICAgICAgPHJwLWljb24gbmFtZT1cInJlZ2lzdGVyXCIgc2l6ZT1cIjEyXCI+PC9ycC1pY29uPlxuICAgICAgICAgIDwvZGl2PmA6ICcnfVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgPC9kaXY+XG4gICAgICBgO1xuXG4gICAgY29uc3QgcmVuZGVyZWRDaGlsZHJlbiA9IChmZWF0dXJlLmNoaWxkcmVuIHx8IFtdKS5tYXAoKGNoaWxkOiBGZWF0dXJlUHJvcGVydGllcyk9PiB7XG4gICAgXG4gICAgICBpZiAocmVtYWluaW5nUGF0aC5sZW5ndGggPiAwICYmIChyZW1haW5pbmdQYXRoWzBdLm9zbV9pZCA9PT0gY2hpbGQub3NtX2lkKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJGZWF0dXJlKHJlbWFpbmluZ1BhdGhbMF0sIHJlbWFpbmluZ1BhdGguc2xpY2UoMSkpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVtYWluaW5nUGF0aC5sZW5ndGggPT09IDAgfHwgcmVtYWluaW5nUGF0aFswXS5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyRmVhdHVyZShjaGlsZCwgcmVtYWluaW5nUGF0aCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICAke3JlbmRlcmVkRmVhdHVyZX1cbiAgICAgICR7cmVuZGVyZWRDaGlsZHJlbn1cbiAgICBgXG4gIH1cblxuICBwdWJsaWMgc2hvd0FsaWFzRGlhbG9nKGZlYXR1cmU6IEZlYXR1cmVQcm9wZXJ0aWVzKSB7XG4gICAgdGhpcy5lZGl0RmVhdHVyZSA9IGZlYXR1cmU7XG4gICAgY29uc3QgYWxpYXNEaWFsb2cgPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJhbGlhcy1kaWFsb2dcIik7XG4gICAgaWYgKGFsaWFzRGlhbG9nKXtcbiAgICAgIHRoaXMuZmlyZVRleHRhcmVhQXV0b3NpemUoKTtcbiAgICAgIGFsaWFzRGlhbG9nLnNldEF0dHJpYnV0ZSgnb3BlbicsICcnKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgaGlkZUFsaWFzRGlhbG9nKCkge1xuICAgIGNvbnN0IGFsaWFzRGlhbG9nID0gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwiYWxpYXMtZGlhbG9nXCIpO1xuICAgIGlmIChhbGlhc0RpYWxvZykge1xuICAgICAgYWxpYXNEaWFsb2cucmVtb3ZlQXR0cmlidXRlKFwib3BlblwiKTtcbiAgICB9XG5cbiAgICB0aGlzLnJlcXVlc3RVcGRhdGUoKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0RW5kcG9pbnQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5lbmRwb2ludCArICghdGhpcy5lbmRwb2ludC5lbmRzV2l0aCgnLycpID8gJy8nIDogJycpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVEaWFsb2dDbGljayhldnQ6IEN1c3RvbUV2ZW50KSB7XG4gICAgY29uc3QgYnV0dG9uID0gZXZ0LmRldGFpbC5idXR0b247XG4gICAgaWYgKGJ1dHRvbi5uYW1lID09PSBcIlNhdmVcIikge1xuICAgICAgYnV0dG9uLnNldFByb2dyZXNzKHRydWUpO1xuICAgICAgY29uc3QgdGV4dGFyZWEgPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQodGhpcy5lZGl0RmVhdHVyZS5vc21faWQpIGFzIFRleHRJbnB1dDtcbiAgICAgIGNvbnN0IGFsaWFzZXMgPSB0ZXh0YXJlYS5pbnB1dEVsZW1lbnQudmFsdWU7XG4gICAgICBjb25zdCBwYXlsb2FkID0geyBcIm9zbV9pZFwiOiAgdGhpcy5lZGl0RmVhdHVyZS5vc21faWQsIGFsaWFzZXMgfTtcbiAgICAgIHBvc3RVcmwodGhpcy5nZXRFbmRwb2ludCgpICsgXCJib3VuZGFyaWVzL1wiICsgIHRoaXMuZWRpdEZlYXR1cmUub3NtX2lkICsgXCIvXCIsIHBheWxvYWQpLnRoZW4oKHJlc3BvbnNlOiBBeGlvc1Jlc3BvbnNlKSA9PiB7XG4gICAgICAgIHRoaXMuZmV0Y2hGZWF0dXJlKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZihidXR0b24ubmFtZSA9PT0gXCJDYW5jZWxcIikge1xuICAgICAgdGhpcy5oaWRlQWxpYXNEaWFsb2coKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlbmRlck9wdGlvbkRldGFpbChvcHRpb246IEZlYXR1cmVQcm9wZXJ0aWVzLCBzZWxlY3RlZDogYm9vbGVhbik6IFRlbXBsYXRlUmVzdWx0IHtcbiAgICBjb25zdCBzdHlsZSA9IGh0bWxgXG4gICAgICA8c3R5bGU+XG4gICAgICAgIHJwLWxhYmVsIHtcbiAgICAgICAgICBtYXJnaW4tdG9wOiAzcHg7XG4gICAgICAgICAgbWFyZ2luLXJpZ2h0OiAzcHg7XG4gICAgICAgIH1cbiAgICAgIDwvc3R5bGU+XG4gICAgYDtcblxuICAgIGNvbnN0IGFsaWFzTGlzdCA9IG9wdGlvbi5hbGlhc2VzLnNwbGl0KCdcXG4nKTtcbiAgICBjb25zdCBhbGlhc2VzID0gYWxpYXNMaXN0Lm1hcCgoYWxpYXM6IHN0cmluZyk9PmFsaWFzLnRyaW0oKS5sZW5ndGggPiAwID8gaHRtbGA8cnAtbGFiZWwgY2xhc3M9XCJhbGlhc1wiIGRhcms+JHthbGlhc308L3JwLWxhYmVsPmA6IG51bGwpO1xuICAgIHJldHVybiBodG1sYCR7c3R5bGV9PGRpdiBjbGFzcz1cInBhdGhcIj4ke29wdGlvbi5wYXRoLnJlcGxhY2UoLz4vZ2ksIFwi4oCjXCIpfTwvZGl2PjxkaXYgY2xhc3M9XCJhbGlhc2VzXCI+JHthbGlhc2VzfTwvZGl2PmA7ICAgIFxuICB9XG5cbiAgcHVibGljIHJlbmRlcigpOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgaWYgKHRoaXMucGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBodG1sYGA7XG4gICAgfVxuXG4gICAgLy8gaWYgd2UgYXJlIGEgbGVhZiwgaGF2ZSBvdXIgbWFwIHNob3cgdGhlIGxldmVsIGFib3ZlXG4gICAgY29uc3Qgc2VsZWN0ZWRGZWF0dXJlID0gdGhpcy5wYXRoW3RoaXMucGF0aC5sZW5ndGggLSAxXTtcbiAgICBjb25zdCBtYXBGZWF0dXJlID0gc2VsZWN0ZWRGZWF0dXJlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCA/IHRoaXMucGF0aFt0aGlzLnBhdGgubGVuZ3RoIC0gMl0gOiBzZWxlY3RlZEZlYXR1cmU7XG4gICAgXG4gICAgY29uc3QgZWRpdEZlYXR1cmVJZCA9IHRoaXMuZWRpdEZlYXR1cmUgPyB0aGlzLmVkaXRGZWF0dXJlLm9zbV9pZCA6IG51bGw7XG4gICAgY29uc3QgZWRpdEZlYXR1cmVOYW1lID0gdGhpcy5lZGl0RmVhdHVyZSA/IHRoaXMuZWRpdEZlYXR1cmUubmFtZSA6IG51bGw7XG4gICAgY29uc3QgZWRpdEZlYXR1cmVBbGlhc2VzID0gdGhpcy5lZGl0RmVhdHVyZSA/IHRoaXMuZWRpdEZlYXR1cmUuYWxpYXNlcyA6IG51bGw7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8ZGl2IGlkPVwibGVmdC1jb2x1bW5cIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInNlYXJjaFwiPlxuICAgICAgICAgIDxycC1zZWxlY3QgXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlYXJjaFwiIFxuICAgICAgICAgICAgZW5kcG9pbnQ9XCIke3RoaXMuZ2V0RW5kcG9pbnQoKX1ib3VuZGFyaWVzLyR7dGhpcy5wYXRoWzBdLm9zbV9pZH0vP3E9XCJcbiAgICAgICAgICAgIC5yZW5kZXJPcHRpb25EZXRhaWw9JHt0aGlzLnJlbmRlck9wdGlvbkRldGFpbH1cbiAgICAgICAgICAgIEBycC1zZWxlY3Rpb249JHt0aGlzLmhhbmRsZVNlYXJjaFNlbGVjdGlvbi5iaW5kKHRoaXMpfVxuICAgICAgICAgID48L3JwLXNlbGVjdD5cbiAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmVhdHVyZS10cmVlXCI+XG4gICAgICAgICAgJHt0aGlzLnJlbmRlckZlYXR1cmUodGhpcy5wYXRoWzBdLCB0aGlzLnBhdGguc2xpY2UoMSkpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGlkPVwicmlnaHQtY29sdW1uXCI+XG4gICAgICAgIDxsZWFmbGV0LW1hcCBcbiAgICAgICAgICBlbmRwb2ludD0ke3RoaXMuZ2V0RW5kcG9pbnQoKX1cbiAgICAgICAgICAuZmVhdHVyZT0ke21hcEZlYXR1cmV9XG4gICAgICAgICAgLm9zbUlkPSR7bWFwRmVhdHVyZS5vc21faWR9XG4gICAgICAgICAgLmhvdmVyZWQ9JHt0aGlzLmhvdmVyZWR9XG4gICAgICAgICAgLm9uRmVhdHVyZUNsaWNrZWQ9JHt0aGlzLmhhbmRsZU1hcENsaWNrZWQuYmluZCh0aGlzKX0+XG4gICAgICAgIDwvbGVhZmxldC1tYXA+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPHJwLWRpYWxvZyBpZD1cImFsaWFzLWRpYWxvZ1wiIFxuICAgICAgICB0aXRsZT1cIkFsaWFzZXMgZm9yICR7ZWRpdEZlYXR1cmVOYW1lfVwiIFxuICAgICAgICBwcmltYXJ5QnV0dG9uTmFtZT1cIlNhdmVcIlxuICAgICAgICBAcnAtYnV0dG9uLWNsaWNrZWQ9JHt0aGlzLmhhbmRsZURpYWxvZ0NsaWNrLmJpbmQodGhpcyl9PlxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJzZWxlY3RlZFwiPlxuICAgICAgICAgIDxycC10ZXh0aW5wdXQgbmFtZT1cImFsaWFzZXNcIiBpZD0ke2VkaXRGZWF0dXJlSWR9IC52YWx1ZT0ke2VkaXRGZWF0dXJlQWxpYXNlc30gdGV4dGFyZWE+PC9ycC10ZXh0aW5wdXQ+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImhlbHBcIj5cbiAgICAgICAgICAgIEVudGVyIG90aGVyIGFsaWFzZXMgZm9yICR7ZWRpdEZlYXR1cmVOYW1lfSwgb25lIHBlciBsaW5lXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9ycC1kaWFsb2c+ICAgICAgICAgICAgIFxuXG4gICAgYDtcbiAgfVxufSIsImltcG9ydCB7IExpdEVsZW1lbnQsIFRlbXBsYXRlUmVzdWx0LCBodG1sLCBjc3MsIGN1c3RvbUVsZW1lbnQsIHByb3BlcnR5IH0gZnJvbSAnbGl0LWVsZW1lbnQnO1xuaW1wb3J0IHsgZ2V0Q2xhc3NlcyB9IGZyb20gJy4uL3V0aWxzJztcblxuQGN1c3RvbUVsZW1lbnQoXCJycC1idXR0b25cIilcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1dHRvbiBleHRlbmRzIExpdEVsZW1lbnQge1xuXG4gIHN0YXRpYyBnZXQgc3R5bGVzKCkge1xuICAgIHJldHVybiBjc3NgXG4gICAgICAuYnV0dG9uIHtcbiAgICAgICAgYmFja2dyb3VuZDogYmx1ZTtcbiAgICAgICAgY29sb3I6ICNmZmY7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1jdXJ2YXR1cmUpO1xuICAgICAgICBvdXRsaW5lOiBub25lO1xuICAgICAgfVxuXG4gICAgICAuYnV0dG9uOmZvY3VzIHtcbiAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgfVxuXG4gICAgICAuYnV0dG9uOmZvY3VzIC5tYXNre1xuICAgICAgICBiYWNrZ3JvdW5kOiByZ2IoMCwwLDAsLjEpO1xuICAgICAgICBib3gtc2hhZG93OiAwIDAgMHB4IDJweCB2YXIoLS1jb2xvci1idXR0b24tcHJpbWFyeSk7XG4gICAgICB9XG5cbiAgICAgIC5idXR0b24uc2Vjb25kYXJ5OmZvY3VzIC5tYXNre1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1jb2xvci1idXR0b24tc2Vjb25kYXJ5KTtcbiAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gICAgICAgIGJveC1zaGFkb3c6IDAgMCAwcHggMnB4IHZhcigtLWNvbG9yLWJ1dHRvbi1zZWNvbmRhcnkpO1xuICAgICAgfVxuXG4gICAgICAubWFzayB7XG4gICAgICAgIHBhZGRpbmc6IDVweCAxMHB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1jdXJ2YXR1cmUpO1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICAgIH1cblxuICAgICAgLnByaW1hcnkge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2xvci1idXR0b24tcHJpbWFyeSk7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1jb2xvci1idXR0b24tcHJpbWFyeS10ZXh0KTtcbiAgICAgIH1cblxuICAgICAgLnNlY29uZGFyeSB7XG4gICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgICAgICBjb2xvcjogdmFyKC0tY29sb3ItYnV0dG9uLXNlY29uZGFyeSk7XG4gICAgICB9XG5cbiAgICAgIC5zZWNvbmRhcnk6aG92ZXIgLm1hc2t7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWNvbG9yLWJ1dHRvbi1zZWNvbmRhcnkpO1xuICAgICAgfVxuXG4gICAgICAuYnV0dG9uLnByb2dyZXNze1xuICAgICAgICBiYWNrZ3JvdW5kOiAjZGRkO1xuICAgICAgfVxuXG4gICAgICAuYnV0dG9uLnByb2dyZXNzOmZvY3VzIC5tYXNrIHtcbiAgICAgICAgYm94LXNoYWRvdzogMCAwIDBweCAycHggdmFyKC0tY29sb3ItYnV0dG9uLXNlY29uZGFyeSk7XG4gICAgICB9XG5cbiAgICAgIC5tYXNrOmhvdmVyIHtcbiAgICAgICAgYmFja2dyb3VuZDogcmdiKDAsMCwwLC4xKTtcbiAgICAgIH1cblxuICAgICAgLnNlY29uZGFyeSAubWFzazpob3ZlciB7XG4gICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgICAgfVxuXG4gIGA7XG4gIH1cblxuICBAcHJvcGVydHkoe3R5cGU6IEJvb2xlYW59KVxuICBwcmltYXJ5OiBib29sZWFuO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogQm9vbGVhbn0pXG4gIHNlY29uZGFyeTogYm9vbGVhbjtcblxuICBAcHJvcGVydHkoKVxuICBuYW1lOiBzdHJpbmc7XG5cbiAgQHByb3BlcnR5KClcbiAgaW5Qcm9nZXNzTmFtZTogc3RyaW5nO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogQm9vbGVhbn0pXG4gIGlzUHJvZ3Jlc3M6IGJvb2xlYW47XG5cbiAgcHVibGljIHNldFByb2dyZXNzKHByb2dyZXNzOiBib29sZWFuKTogdm9pZCB7XG4gICAgdGhpcy5pc1Byb2dyZXNzID0gcHJvZ3Jlc3M7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUtleVVwKGV2ZW50OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICB0aGlzLmNsaWNrKCk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHJlbmRlcigpOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgICByZXR1cm4gaHRtbGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImJ1dHRvbiBcbiAgICAgICAgICAke2dldENsYXNzZXMoeyBcbiAgICAgICAgICBcInByb2dyZXNzXCI6IHRoaXMuaXNQcm9ncmVzcyxcbiAgICAgICAgICBcInByaW1hcnlcIjogdGhpcy5wcmltYXJ5LFxuICAgICAgICAgIFwic2Vjb25kYXJ5XCI6IHRoaXMuc2Vjb25kYXJ5XG4gICAgICAgICAgfSl9XCJcbiAgICAgICAgICB0YWJpbmRleD1cIjBcIlxuICAgICAgICAgIEBrZXl1cD0ke3RoaXMuaGFuZGxlS2V5VXB9XG4gICAgICAgID5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibWFza1wiPlxuICAgICAgICAgICAgJHt0aGlzLmlzUHJvZ3Jlc3MgPyB0aGlzLmluUHJvZ2Vzc05hbWUgfHwgdGhpcy5uYW1lIDogdGhpcy5uYW1lfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIGA7XG4gIH1cbn0iLCJleHBvcnQgaW50ZXJmYWNlIEZlYXR1cmVQcm9wZXJ0aWVzIHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgb3NtX2lkOiBzdHJpbmc7XG4gICAgbGV2ZWw6IG51bWJlcjtcbiAgICBjaGlsZHJlbj86IEZlYXR1cmVQcm9wZXJ0aWVzW107XG4gICAgaGFzX2NoaWxkcmVuPzogYm9vbGVhbjtcbiAgICBhbGlhc2VzPzogc3RyaW5nO1xuICAgIHBhcmVudF9vc21faWQ/OiBzdHJpbmc7XG4gICAgaWQ/OiBudW1iZXI7XG4gICAgcGF0aD86IHN0cmluZztcbn1cblxuZXhwb3J0IGVudW0gQ3VzdG9tRXZlbnRUeXBlIHtcbiAgICBDYW5jZWxlZCA9ICdycC1jYW5jZWxlZCcsXG4gICAgQ3Vyc29yQ2hhbmdlZCA9ICdycC1jdXJzb3ItY2hhbmdlZCcsXG4gICAgU2VsZWN0aW9uID0gJ3JwLXNlbGVjdGlvbicsXG4gICAgQnV0dG9uQ2xpY2tlZCA9ICdycC1idXR0b24tY2xpY2tlZCdcbn0iLCJpbXBvcnQgeyBMaXRFbGVtZW50IH0gZnJvbSAnbGl0LWVsZW1lbnQnO1xuaW1wb3J0IHsgQ3VzdG9tRXZlbnRUeXBlIH0gZnJvbSAnLi9pbnRlcmZhY2VzJztcblxuZXhwb3J0IGludGVyZmFjZSBFdmVudEhhbmRsZXIge1xuICBldmVudDogc3RyaW5nO1xuICBtZXRob2Q6IEV2ZW50TGlzdGVuZXI7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJhcGlkRWxlbWVudCBleHRlbmRzIExpdEVsZW1lbnQge1xuXG4gIHB1YmxpYyBnZXRFdmVudEhhbmRsZXJzKCk6IEV2ZW50SGFuZGxlcltdIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIGZvciAoY29uc3QgaGFuZGxlciBvZiB0aGlzLmdldEV2ZW50SGFuZGxlcnMoKSkge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihoYW5kbGVyLmV2ZW50LCBoYW5kbGVyLm1ldGhvZC5iaW5kKHRoaXMpKTtcbiAgICB9XG4gIH1cblxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBmb3IgKGNvbnN0IGhhbmRsZXIgb2YgdGhpcy5nZXRFdmVudEhhbmRsZXJzKCkpIHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoaGFuZGxlci5ldmVudCwgaGFuZGxlci5tZXRob2QpO1xuICAgIH1cbiAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICB9XG5cbiAgcHVibGljIGZpcmVFdmVudCh0eXBlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KHR5cGUsIHtcbiAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICBjb21wb3NlZDogdHJ1ZVxuICB9KSlcbiAgfVxuXG4gIHB1YmxpYyBmaXJlQ3VzdG9tRXZlbnQodHlwZTogQ3VzdG9tRXZlbnRUeXBlLCBkZXRhaWw6IGFueSA9IHt9KTogdm9pZCB7XG4gICAgY29uc3QgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQodHlwZSwge1xuICAgICAgICBkZXRhaWwsXG4gICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgIGNvbXBvc2VkOiB0cnVlXG4gICAgfSk7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgfTtcbn0iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTggVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbmltcG9ydCB7QXR0cmlidXRlUGFydCwgZGlyZWN0aXZlLCBQYXJ0LCBQcm9wZXJ0eVBhcnR9IGZyb20gJy4uL2xpdC1odG1sLmpzJztcblxuZXhwb3J0IGludGVyZmFjZSBTdHlsZUluZm8ge1xuICByZWFkb25seSBbbmFtZTogc3RyaW5nXTogc3RyaW5nO1xufVxuXG4vKipcbiAqIFN0b3JlcyB0aGUgU3R5bGVJbmZvIG9iamVjdCBhcHBsaWVkIHRvIGEgZ2l2ZW4gQXR0cmlidXRlUGFydC5cbiAqIFVzZWQgdG8gdW5zZXQgZXhpc3RpbmcgdmFsdWVzIHdoZW4gYSBuZXcgU3R5bGVJbmZvIG9iamVjdCBpcyBhcHBsaWVkLlxuICovXG5jb25zdCBzdHlsZU1hcENhY2hlID0gbmV3IFdlYWtNYXA8QXR0cmlidXRlUGFydCwgU3R5bGVJbmZvPigpO1xuXG4vKipcbiAqIEEgZGlyZWN0aXZlIHRoYXQgYXBwbGllcyBDU1MgcHJvcGVydGllcyB0byBhbiBlbGVtZW50LlxuICpcbiAqIGBzdHlsZU1hcGAgY2FuIG9ubHkgYmUgdXNlZCBpbiB0aGUgYHN0eWxlYCBhdHRyaWJ1dGUgYW5kIG11c3QgYmUgdGhlIG9ubHlcbiAqIGV4cHJlc3Npb24gaW4gdGhlIGF0dHJpYnV0ZS4gSXQgdGFrZXMgdGhlIHByb3BlcnR5IG5hbWVzIGluIHRoZSBgc3R5bGVJbmZvYFxuICogb2JqZWN0IGFuZCBhZGRzIHRoZSBwcm9wZXJ0eSB2YWx1ZXMgYXMgQ1NTIHByb3BlcnRlcy4gUHJvcGVydHkgbmFtZXMgd2l0aFxuICogZGFzaGVzIChgLWApIGFyZSBhc3N1bWVkIHRvIGJlIHZhbGlkIENTUyBwcm9wZXJ0eSBuYW1lcyBhbmQgc2V0IG9uIHRoZVxuICogZWxlbWVudCdzIHN0eWxlIG9iamVjdCB1c2luZyBgc2V0UHJvcGVydHkoKWAuIE5hbWVzIHdpdGhvdXQgZGFzaGVzIGFyZVxuICogYXNzdW1lZCB0byBiZSBjYW1lbENhc2VkIEphdmFTY3JpcHQgcHJvcGVydHkgbmFtZXMgYW5kIHNldCBvbiB0aGUgZWxlbWVudCdzXG4gKiBzdHlsZSBvYmplY3QgdXNpbmcgcHJvcGVydHkgYXNzaWdubWVudCwgYWxsb3dpbmcgdGhlIHN0eWxlIG9iamVjdCB0b1xuICogdHJhbnNsYXRlIEphdmFTY3JpcHQtc3R5bGUgbmFtZXMgdG8gQ1NTIHByb3BlcnR5IG5hbWVzLlxuICpcbiAqIEZvciBleGFtcGxlIGBzdHlsZU1hcCh7YmFja2dyb3VuZENvbG9yOiAncmVkJywgJ2JvcmRlci10b3AnOiAnNXB4JywgJy0tc2l6ZSc6XG4gKiAnMCd9KWAgc2V0cyB0aGUgYGJhY2tncm91bmQtY29sb3JgLCBgYm9yZGVyLXRvcGAgYW5kIGAtLXNpemVgIHByb3BlcnRpZXMuXG4gKlxuICogQHBhcmFtIHN0eWxlSW5mbyB7U3R5bGVJbmZvfVxuICovXG5leHBvcnQgY29uc3Qgc3R5bGVNYXAgPSBkaXJlY3RpdmUoKHN0eWxlSW5mbzogU3R5bGVJbmZvKSA9PiAocGFydDogUGFydCkgPT4ge1xuICBpZiAoIShwYXJ0IGluc3RhbmNlb2YgQXR0cmlidXRlUGFydCkgfHwgKHBhcnQgaW5zdGFuY2VvZiBQcm9wZXJ0eVBhcnQpIHx8XG4gICAgICBwYXJ0LmNvbW1pdHRlci5uYW1lICE9PSAnc3R5bGUnIHx8IHBhcnQuY29tbWl0dGVyLnBhcnRzLmxlbmd0aCA+IDEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdUaGUgYHN0eWxlTWFwYCBkaXJlY3RpdmUgbXVzdCBiZSB1c2VkIGluIHRoZSBzdHlsZSBhdHRyaWJ1dGUgJyArXG4gICAgICAgICdhbmQgbXVzdCBiZSB0aGUgb25seSBwYXJ0IGluIHRoZSBhdHRyaWJ1dGUuJyk7XG4gIH1cblxuICBjb25zdCB7Y29tbWl0dGVyfSA9IHBhcnQ7XG4gIGNvbnN0IHtzdHlsZX0gPSBjb21taXR0ZXIuZWxlbWVudCBhcyBIVE1MRWxlbWVudDtcblxuICAvLyBIYW5kbGUgc3RhdGljIHN0eWxlcyB0aGUgZmlyc3QgdGltZSB3ZSBzZWUgYSBQYXJ0XG4gIGlmICghc3R5bGVNYXBDYWNoZS5oYXMocGFydCkpIHtcbiAgICBzdHlsZS5jc3NUZXh0ID0gY29tbWl0dGVyLnN0cmluZ3Muam9pbignICcpO1xuICB9XG5cbiAgLy8gUmVtb3ZlIG9sZCBwcm9wZXJ0aWVzIHRoYXQgbm8gbG9uZ2VyIGV4aXN0IGluIHN0eWxlSW5mb1xuICBjb25zdCBvbGRJbmZvID0gc3R5bGVNYXBDYWNoZS5nZXQocGFydCk7XG4gIGZvciAoY29uc3QgbmFtZSBpbiBvbGRJbmZvKSB7XG4gICAgaWYgKCEobmFtZSBpbiBzdHlsZUluZm8pKSB7XG4gICAgICBpZiAobmFtZS5pbmRleE9mKCctJykgPT09IC0xKSB7XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgICAgICAgKHN0eWxlIGFzIGFueSlbbmFtZV0gPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3R5bGUucmVtb3ZlUHJvcGVydHkobmFtZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gQWRkIG9yIHVwZGF0ZSBwcm9wZXJ0aWVzXG4gIGZvciAoY29uc3QgbmFtZSBpbiBzdHlsZUluZm8pIHtcbiAgICBpZiAobmFtZS5pbmRleE9mKCctJykgPT09IC0xKSB7XG4gICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG4gICAgICAoc3R5bGUgYXMgYW55KVtuYW1lXSA9IHN0eWxlSW5mb1tuYW1lXTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUuc2V0UHJvcGVydHkobmFtZSwgc3R5bGVJbmZvW25hbWVdKTtcbiAgICB9XG4gIH1cbiAgc3R5bGVNYXBDYWNoZS5zZXQocGFydCwgc3R5bGVJbmZvKTtcbn0pO1xuIiwiaW1wb3J0IHsgY3VzdG9tRWxlbWVudCwgcHJvcGVydHkgfSBmcm9tICdsaXQtZWxlbWVudC9saWIvZGVjb3JhdG9ycyc7XG5pbXBvcnQgeyBMaXRFbGVtZW50LCBUZW1wbGF0ZVJlc3VsdCwgaHRtbCwgY3NzIH0gZnJvbSAnbGl0LWVsZW1lbnQnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICcuLi9idXR0b24vQnV0dG9uJztcbmltcG9ydCBSYXBpZEVsZW1lbnQgZnJvbSAnLi4vUmFwaWRFbGVtZW50JztcbmltcG9ydCB7IEN1c3RvbUV2ZW50VHlwZSB9IGZyb20gJy4uL2ludGVyZmFjZXMnO1xuaW1wb3J0IHsgc3R5bGVNYXAgfSBmcm9tICdsaXQtaHRtbC9kaXJlY3RpdmVzL3N0eWxlLW1hcC5qcyc7XG5cbkBjdXN0b21FbGVtZW50KFwicnAtZGlhbG9nXCIpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEaWFsb2cgZXh0ZW5kcyBSYXBpZEVsZW1lbnQge1xuXG4gIHN0YXRpYyBnZXQgc3R5bGVzKCkge1xuICAgIHJldHVybiBjc3NgXG5cbiAgICAgIC5tYXNrIHtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgLjUpO1xuICAgICAgICBvcGFjaXR5OiAwO1xuICAgICAgICB2aXNpYmlsaXR5OiBoaWRkZW47XG4gICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgICAgdG9wOjBweDtcbiAgICAgICAgbGVmdDowcHg7XG4gICAgICAgIHRyYW5zaXRpb246IGFsbCBlYXNlLWluIDI1MG1zO1xuICAgICAgfVxuXG4gICAgICAuZGlhbG9nIHtcbiAgICAgICAgd2lkdGg6IDUwMHB4O1xuICAgICAgICBtYXJnaW46IDBweCBhdXRvOyBcbiAgICAgICAgdG9wOiAtMjAwcHg7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgdHJhbnNpdGlvbjogdG9wIGVhc2UtaW4tb3V0IDIwMG1zO1xuICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1jdXJ2YXR1cmUpOyBcbiAgICAgICAgYm94LXNoYWRvdzogMHB4IDBweCAwcHggNHB4IHJnYmEoMCwwLDAsLjA0KTtcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgIH1cblxuICAgICAgLmJvZHkge1xuICAgICAgICBiYWNrZ3JvdW5kOiAjZmZmO1xuICAgICAgfVxuXG4gICAgICAubWFzay5vcGVuIHtcbiAgICAgICAgb3BhY2l0eTogMTtcbiAgICAgICAgdmlzaWJpbGl0eTogdmlzaWJsZTtcbiAgICAgIH1cblxuICAgICAgLm1hc2sub3BlbiA+IC5kaWFsb2cge1xuICAgICAgICB0b3A6IDEwMHB4O1xuICAgICAgfVxuXG4gICAgICAudGl0bGUge1xuICAgICAgICBwYWRkaW5nOiAxMHB4IDIwcHg7XG4gICAgICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICAgICAgY29sb3I6IHZhcigtLWNvbG9yLXRleHQtbGlnaHQpO1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2xvci1wcmltYXJ5LWRhcmspO1xuICAgICAgfVxuXG4gICAgICAuZm9vdGVyIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tY29sb3ItcHJpbWFyeS1saWdodCk7XG4gICAgICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZmxvdzogcm93LXJldmVyc2U7XG4gICAgICB9XG5cbiAgICAgIHJwLWJ1dHRvbiB7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiA1cHg7XG4gICAgICB9XG4gIGA7XG4gIH1cblxuXG4gIEBwcm9wZXJ0eSh7dHlwZSA6IEJvb2xlYW59KVxuICBvcGVuOiBib29sZWFuO1xuXG4gIEBwcm9wZXJ0eSgpXG4gIHRpdGxlOiBzdHJpbmc7XG5cbiAgQHByb3BlcnR5KClcbiAgYm9keTogc3RyaW5nO1xuXG4gIEBwcm9wZXJ0eSgpXG4gIHByaW1hcnlCdXR0b25OYW1lOiBzdHJpbmcgPSBcIk9rXCI7XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBTdHJpbmd9KVxuICBjYW5jZWxCdXR0b25OYW1lOiBzdHJpbmcgPSBcIkNhbmNlbFwiO1xuXG4gIEBwcm9wZXJ0eSgpXG4gIGluUHJvZ3Jlc3NOYW1lOiBzdHJpbmcgPSBcIlNhdmluZ1wiO1xuXG4gIEBwcm9wZXJ0eSh7YXR0cmlidXRlOiBmYWxzZX0pXG4gIG9uQnV0dG9uQ2xpY2tlZDogKGJ1dHRvbjogQnV0dG9uKSA9PiB2b2lkO1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgcHVibGljIHVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXM6IE1hcDxzdHJpbmcsIGFueT4pIHtcbiAgICBpZiAoY2hhbmdlZFByb3BlcnRpZXMuaGFzKFwib3BlblwiKSkge1xuICAgICAgLy8gbWFrZSBzdXJlIG91ciBidXR0b25zIGFyZW4ndCBpbiBwcm9ncmVzcyBvbiBzaG93XG4gICAgICBpZiAodGhpcy5vcGVuKSB7XG4gICAgICAgIHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yQWxsKFwicnAtYnV0dG9uXCIpLmZvckVhY2goKGJ1dHRvbjogQnV0dG9uKT0+YnV0dG9uLnNldFByb2dyZXNzKGZhbHNlKSk7XG4gICAgICAgIGNvbnN0IGlucHV0cyA9IHRoaXMucXVlcnlTZWxlY3RvckFsbChcInRleHRhcmVhLGlucHV0XCIpO1xuICAgICAgICBpZiAoaW5wdXRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKT0+e1xuICAgICAgICAgICAgKGlucHV0c1swXSBhcyBhbnkpLmZvY3VzKCk7ICAgICAgICAgICAgXG4gICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBoYW5kbGVDbGljayhldnQ6IE1vdXNlRXZlbnQpIHtcbiAgICBjb25zdCBidXR0b24gPSBldnQuY3VycmVudFRhcmdldCBhcyBCdXR0b247XG4gICAgaWYgKCFidXR0b24uaXNQcm9ncmVzcykge1xuICAgICAgdGhpcy5maXJlQ3VzdG9tRXZlbnQoQ3VzdG9tRXZlbnRUeXBlLkJ1dHRvbkNsaWNrZWQsIHtidXR0b259KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldERvY3VtZW50SGVpZ2h0KCk6IG51bWJlciB7XG4gICAgY29uc3QgYm9keSA9IGRvY3VtZW50LmJvZHk7XG4gICAgY29uc3QgaHRtbCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICByZXR1cm4gTWF0aC5tYXgoYm9keS5zY3JvbGxIZWlnaHQsIGJvZHkub2Zmc2V0SGVpZ2h0LCBodG1sLmNsaWVudEhlaWdodCwgaHRtbC5zY3JvbGxIZWlnaHQsIGh0bWwub2Zmc2V0SGVpZ2h0KTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlS2V5VXAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICAvLyBmaW5kIG91ciBjYW5jZWwgYnV0dG9uIGFuZCBjbGljayBpdFxuICAgICAgdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3JBbGwoXCJycC1idXR0b25cIikuZm9yRWFjaChcbiAgICAgICAgKGJ1dHRvbjogQnV0dG9uKT0+eyBpZiAoYnV0dG9uLm5hbWUgPT09IHRoaXMuY2FuY2VsQnV0dG9uTmFtZSkge2J1dHRvbi5jbGljaygpfX1cbiAgICAgIClcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgcmVuZGVyKCk6IFRlbXBsYXRlUmVzdWx0IHtcblxuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuZ2V0RG9jdW1lbnRIZWlnaHQoKTtcblxuICAgIGNvbnN0IG1hc2tTdHlsZSA9IHsgaGVpZ2h0OiBgJHtoZWlnaHQgKyAxMDB9cHhgfVxuXG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJtYXNrICR7dGhpcy5vcGVuID8gJ29wZW4nIDogJyd9XCIgc3R5bGU9JHtzdHlsZU1hcChtYXNrU3R5bGUpfT5cbiAgICAgICAgICA8ZGl2IEBrZXl1cD0ke3RoaXMuaGFuZGxlS2V5VXB9IGNsYXNzPVwiZGlhbG9nXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0aXRsZVwiPiR7dGhpcy50aXRsZX08L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJvZHlcIiBAa2V5cHJlc3M9JHt0aGlzLmhhbmRsZUtleVVwfT4ke3RoaXMuYm9keSA/IHRoaXMuYm9keSA6IGh0bWxgPHNsb3Q+PC9zbG90PmB9PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9vdGVyXCI+XG4gICAgICAgICAgICAgIDxycC1idXR0b24gQGNsaWNrPSR7dGhpcy5oYW5kbGVDbGlja30gbmFtZT0ke3RoaXMucHJpbWFyeUJ1dHRvbk5hbWV9IGluUHJvZ2Vzc05hbWU9JHt0aGlzLmluUHJvZ3Jlc3NOYW1lfSBwcmltYXJ5Pn08L3JwLWJ1dHRvbj5cbiAgICAgICAgICAgICAgPHJwLWJ1dHRvbiBAY2xpY2s9JHt0aGlzLmhhbmRsZUNsaWNrfSBuYW1lPSR7dGhpcy5jYW5jZWxCdXR0b25OYW1lfSBzZWNvbmRhcnk+PC9ycC1idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj4gICAgICBcbiAgICAgICAgPC9kaXY+XG5cbiAgICBgO1xuICB9XG59IiwiaW1wb3J0IHsgY3VzdG9tRWxlbWVudCwgVGVtcGxhdGVSZXN1bHQsIGh0bWwsIGNzcywgcHJvcGVydHkgfSBmcm9tICdsaXQtZWxlbWVudCc7XG5pbXBvcnQgUmFwaWRFbGVtZW50IGZyb20gJy4uL1JhcGlkRWxlbWVudCc7XG5pbXBvcnQgeyBzdHlsZU1hcCB9IGZyb20gJ2xpdC1odG1sL2RpcmVjdGl2ZXMvc3R5bGUtbWFwLmpzJztcblxuQGN1c3RvbUVsZW1lbnQoXCJycC10ZXh0aW5wdXRcIilcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRleHRJbnB1dCBleHRlbmRzIFJhcGlkRWxlbWVudCB7XG4gIHN0YXRpYyBnZXQgc3R5bGVzKCkge1xuICAgIHJldHVybiBjc3NgXG4gICAgICBcbiAgICAgIC5pbnB1dC1jb250YWluZXIge1xuICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1jdXJ2YXR1cmUpO1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICBjdXJzb3I6IHRleHQ7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWNvbG9yLXdpZGdldC1iZyk7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWNvbG9yLXdpZGdldC1ib3JkZXIpO1xuICAgICAgICBib3gtc2hhZG93OiBub25lO1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgZWFzZS1pbi1vdXQgMjAwbXM7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBzdHJldGNoO1xuICAgICAgfVxuXG4gICAgICAuaW5wdXQtY29udGFpbmVyOmZvY3VzLXdpdGhpbiB7XG4gICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0tY29sb3Itd2lkZ2V0LWJvcmRlcik7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWNvbG9yLXdpZGdldC1iZy1mb2N1c2VkKTtcbiAgICAgICAgXG4gICAgICAgIC8qIGJveC1zaGFkb3c6IHZhcigtLWNvbG9yLXdpZGdldC1zaGFkb3ctZm9jdXNlZCkgMXB4IDFweCAzcHggMHB4IGluc2V0OyAqL1xuICAgICAgICBib3gtc2hhZG93OiB2YXIoLS1jb2xvci13aWRnZXQtc2hhZG93LWZvY3VzZWQpIDBweCAwcHggM3B4IDBweDtcbiAgICAgIH1cblxuICAgICAgLmlucHV0LWNvbnRhaW5lcjpob3ZlciB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWNvbG9yLXdpZGdldC1iZy1mb2N1c2VkKTtcbiAgICAgIH1cblxuICAgICAgdGV4dGFyZWEge1xuICAgICAgICBoZWlnaHQ6IDg1JTtcbiAgICAgIH1cblxuICAgICAgLnRleHRpbnB1dCB7XG4gICAgICAgIHBhZGRpbmc6IDhweDtcbiAgICAgICAgYm9yZGVyOiAwcHggc29saWQgcmVkO1xuICAgICAgICBmbGV4OiAxO1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgIGJhY2tncm91bmQ6IG5vbmU7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1jb2xvci10ZXh0KTtcbiAgICAgICAgZm9udC1zaXplOiAxM3B4O1xuICAgICAgICBjdXJzb3I6IHRleHQ7XG4gICAgICAgIHJlc2l6ZTogbm9uZTtcbiAgICAgICAgYm94LXNoYWRvdzogdmFyKC0tY29sb3Itd2lkZ2V0LXNoYWRvdy1mb2N1c2VkKSAwIDFweCAxcHggMHB4IGluc2V0O1xuICAgICAgfVxuXG4gICAgICAudGV4dGlucHV0OmZvY3VzIHtcbiAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgICAgYm94LXNoYWRvdzogbm9uZTtcbiAgICAgICAgY3Vyc29yOiB0ZXh0O1xuICAgICAgfVxuXG4gICAgICAudGV4dGlucHV0OjpwbGFjZWhvbGRlciB7XG4gICAgICAgIGNvbG9yOiByZ2JhKDAsMCwwLC4xNSk7XG4gICAgICB9XG5cbiAgICBgXG4gIH1cblxuICBAcHJvcGVydHkoe3R5cGU6IEJvb2xlYW59KVxuICB0ZXh0YXJlYTogYm9vbGVhbjtcblxuICBAcHJvcGVydHkoe3R5cGU6IFN0cmluZ30pXG4gIHBsYWNlaG9sZGVyOiBzdHJpbmcgPSBcIlwiO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogU3RyaW5nfSlcbiAgdmFsdWU6IHN0cmluZyA9IFwiXCI7XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBTdHJpbmd9KVxuICBuYW1lOiBzdHJpbmcgPSBcIlwiO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogT2JqZWN0fSlcbiAgaW5wdXRFbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50O1xuXG4gIHB1YmxpYyBmaXJzdFVwZGF0ZWQoY2hhbmdlczogTWFwPHN0cmluZywgYW55Pikge1xuICAgIHN1cGVyLmZpcnN0VXBkYXRlZChjaGFuZ2VzKTtcbiAgICB0aGlzLmlucHV0RWxlbWVudCA9IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKFwiLnRleHRpbnB1dFwiKTtcbiAgfVxuXG4gIHB1YmxpYyByZW5kZXIoKTogVGVtcGxhdGVSZXN1bHQge1xuICAgIGNvbnN0IGNvbnRhaW5lclN0eWxlID0ge1xuICAgICAgaGVpZ2h0OiBgJHt0aGlzLnRleHRhcmVhID8gJzEwMCUnIDogJ2F1dG8nfWBcbiAgICB9XG5cbiAgICByZXR1cm4gaHRtbGBcbiAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtY29udGFpbmVyXCIgc3R5bGU9JHtzdHlsZU1hcChjb250YWluZXJTdHlsZSl9IEBjbGljaz0keygpPT57ICh0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcihcIi50ZXh0aW5wdXRcIikgYXMgSFRNTElucHV0RWxlbWVudCkuZm9jdXMoKX19PlxuICAgICAgJHt0aGlzLnRleHRhcmVhID8gaHRtbGBcbiAgICAgICAgPHRleHRhcmVhIGNsYXNzPVwidGV4dGlucHV0XCIgXG4gICAgICAgICAgbmFtZT0ke3RoaXMubmFtZX1cbiAgICAgICAgICBwbGFjZWhvbGRlcj0ke3RoaXMucGxhY2Vob2xkZXJ9XG4gICAgICAgICAgLnZhbHVlPSR7dGhpcy52YWx1ZX0+XG4gICAgICAgIDwvdGV4dGFyZWE+XG4gICAgICBgIDogaHRtbGBcbiAgICAgICAgPGlucHV0IGNsYXNzPVwidGV4dGlucHV0XCIgXG4gICAgICAgICAgbmFtZT0ke3RoaXMubmFtZX1cbiAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgcGxhY2Vob2xkZXI9JHt0aGlzLnBsYWNlaG9sZGVyfVxuICAgICAgICAgIC52YWx1ZT0ke3RoaXMudmFsdWV9PlxuICAgICAgYH1cbiAgICA8L2Rpdj5cbiAgICBgO1xuICB9XG59XG4iLCJpbXBvcnQgeyBMaXRFbGVtZW50LCBUZW1wbGF0ZVJlc3VsdCwgaHRtbCwgY3NzLCBjdXN0b21FbGVtZW50LCBwcm9wZXJ0eSB9IGZyb20gJ2xpdC1lbGVtZW50JztcbmltcG9ydCB7IGdldENsYXNzZXMgfSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgeyBzdHlsZU1hcCB9IGZyb20gJ2xpdC1odG1sL2RpcmVjdGl2ZXMvc3R5bGUtbWFwLmpzJztcblxuQGN1c3RvbUVsZW1lbnQoXCJycC1sYWJlbFwiKVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGFiZWwgZXh0ZW5kcyBMaXRFbGVtZW50IHtcblxuICBzdGF0aWMgZ2V0IHN0eWxlcygpIHtcbiAgICByZXR1cm4gY3NzYFxuXG4gICAgICA6aG9zdCB7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIH1cblxuICAgICAgLm1hc2sge1xuICAgICAgICBwYWRkaW5nOiAzcHggNnB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1jdXJ2YXR1cmUpO1xuICAgICAgfVxuXG4gICAgICAubGFiZWwuY2xpY2thYmxlIC5tYXNrOmhvdmVyIHtcbiAgICAgICAgYmFja2dyb3VuZDogcmdiKDAsMCwwLC4wNSk7XG4gICAgICB9XG5cbiAgICAgIC5sYWJlbCB7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDJweDtcbiAgICAgICAgZm9udC1zaXplOiA4MCU7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWN1cnZhdHVyZSk7XG4gICAgICAgIGJhY2tncm91bmQ6IHRvbWF0bztcbiAgICAgICAgY29sb3I6ICNmZmY7XG4gICAgICAgIHRleHQtc2hhZG93OiAwIDAuMDRlbSAwLjA0ZW0gcmdiYSgwLDAsMCwwLjM1KTtcbiAgICAgIH1cblxuICAgICAgLnByaW1hcnkge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2xvci1sYWJlbC1wcmltYXJ5KTtcbiAgICAgICAgY29sb3I6IHZhcigtLWNvbG9yLWxhYmVsLXByaW1hcnktdGV4dCk7XG4gICAgICB9XG5cbiAgICAgIC5zZWNvbmRhcnkge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2xvci1sYWJlbC1zZWNvbmRhcnkpO1xuICAgICAgICBjb2xvcjogdmFyKC0tY29sb3ItbGFiZWwtc2Vjb25kYXJ5LXRleHQpO1xuICAgICAgICB0ZXh0LXNoYWRvdzogbm9uZTtcbiAgICAgIH1cblxuICAgICAgLmxpZ2h0IHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tY29sb3Itb3ZlcmxheS1saWdodCk7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1jb2xvci1vdmVybGF5LWxpZ2h0LXRleHQpO1xuICAgICAgICB0ZXh0LXNoYWRvdzogbm9uZTtcbiAgICAgIH1cblxuICAgICAgLmRhcmsge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2xvci1vdmVybGF5LWRhcmspO1xuICAgICAgICBjb2xvcjogdmFyKC0tY29sb3Itb3ZlcmxheS1kYXJrLXRleHQpO1xuICAgICAgICB0ZXh0LXNoYWRvdzogbm9uZTtcbiAgICAgIH1cblxuICAgICAgLmNsaWNrYWJsZSB7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIH1cbiAgYDtcbiAgfVxuXG4gIEBwcm9wZXJ0eSh7dHlwZTogQm9vbGVhbn0pXG4gIGNsaWNrYWJsZTogYm9vbGVhbjtcbiAgXG4gIEBwcm9wZXJ0eSh7dHlwZTogQm9vbGVhbn0pXG4gIHByaW1hcnk6IGJvb2xlYW47XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBCb29sZWFufSlcbiAgc2Vjb25kYXJ5OiBib29sZWFuO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogQm9vbGVhbn0pXG4gIGxpZ2h0OiBib29sZWFuO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogQm9vbGVhbn0pXG4gIGRhcms6IGJvb2xlYW47XG5cbiAgQHByb3BlcnR5KClcbiAgYmFja2dyb3VuZENvbG9yOiBzdHJpbmc7XG5cbiAgQHByb3BlcnR5KClcbiAgdGV4dENvbG9yOiBzdHJpbmc7XG5cbiAgcHVibGljIHJlbmRlcigpOiBUZW1wbGF0ZVJlc3VsdCB7XG5cbiAgICBjb25zdCBsYWJlbFN0eWxlID0gdGhpcy5iYWNrZ3JvdW5kQ29sb3IgJiYgdGhpcy50ZXh0Q29sb3IgPyB7XG4gICAgICBiYWNrZ3JvdW5kOiBgJHt0aGlzLmJhY2tncm91bmRDb2xvcn1gLFxuICAgICAgY29sb3I6IGAke3RoaXMudGV4dENvbG9yfWBcbiAgICB9IDoge307XG5cbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxkaXYgY2xhc3M9XCJsYWJlbCAke2dldENsYXNzZXMoeyBcbiAgICAgICAgXCJjbGlja2FibGVcIjogdGhpcy5jbGlja2FibGUsXG4gICAgICAgIFwicHJpbWFyeVwiOiB0aGlzLnByaW1hcnksXG4gICAgICAgIFwic2Vjb25kYXJ5XCI6IHRoaXMuc2Vjb25kYXJ5LFxuICAgICAgICBcImxpZ2h0XCI6IHRoaXMubGlnaHQsXG4gICAgICAgIFwiZGFya1wiOiB0aGlzLmRhcmtcbiAgICAgICAgfSl9XCJcbiAgICAgICAgc3R5bGU9JHtzdHlsZU1hcChsYWJlbFN0eWxlKX1cbiAgICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtYXNrXCI+XG4gICAgICAgICAgPHNsb3Q+PC9zbG90PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gIH1cbn0iLCJpbXBvcnQgeyBjdXN0b21FbGVtZW50LCBUZW1wbGF0ZVJlc3VsdCwgaHRtbCwgcHJvcGVydHksIGNzcyB9IGZyb20gJ2xpdC1lbGVtZW50JztcbmltcG9ydCB7IEN1c3RvbUV2ZW50VHlwZSB9IGZyb20gJy4uL2ludGVyZmFjZXMnO1xuaW1wb3J0IFJhcGlkRWxlbWVudCwgeyBFdmVudEhhbmRsZXIgfSBmcm9tICcuLi9SYXBpZEVsZW1lbnQnO1xuaW1wb3J0IHsgc3R5bGVNYXAgfSBmcm9tICdsaXQtaHRtbC9kaXJlY3RpdmVzL3N0eWxlLW1hcC5qcyc7XG5cbkBjdXN0b21FbGVtZW50KFwicnAtb3B0aW9uc1wiKVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3B0aW9ucyBleHRlbmRzIFJhcGlkRWxlbWVudCB7XG5cbiAgc3RhdGljIGdldCBzdHlsZXMoKSB7XG4gICAgcmV0dXJuIGNzc2BcbiAgICAgIC5vcHRpb25zLWNvbnRhaW5lciB7XG4gICAgICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcbiAgICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1jdXJ2YXR1cmUpO1xuICAgICAgICBib3JkZXI6IDBweCBzb2xpZCB2YXIoLS1jb2xvci1ib3JkZXJzKTtcbiAgICAgICAgYm94LXNoYWRvdzogMHB4IDBweCAycHggMHB4IHJnYigyMDQsIDIwNCwgMjA0KTtcbiAgICAgICAgYmFja2dyb3VuZDogI2ZmZjtcbiAgICAgICAgei1pbmRleDogMTtcbiAgICAgIH1cblxuICAgICAgLm9wdGlvbnMge1xuICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1jdXJ2YXR1cmUpO1xuICAgICAgICBiYWNrZ3JvdW5kOiAjZmZmO1xuICAgICAgICBvdmVyZmxvdy15OiBzY3JvbGw7XG4gICAgICAgIG1heC1oZWlnaHQ6IDIyNXB4O1xuICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICB9XG5cbiAgICAgIC5zaG93IHtcbiAgICAgICAgdmlzaWJpbGl0eTogdmlzaWJsZTtcbiAgICAgIH1cblxuICAgICAgLm9wdGlvbiB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgcGFkZGluZzogN3B4IDE0cHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWN1cnZhdHVyZSk7XG4gICAgICAgIG1hcmdpbjogM3B4O1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1jb2xvci10ZXh0KTtcbiAgICAgIH1cblxuICAgICAgLm9wdGlvbi5mb2N1c2VkIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tY29sb3Itc2VsZWN0aW9uKTtcbiAgICAgICAgY29sb3I6IHZhcigtLWNvbG9yLXRleHQtbGlnaHQpO1xuICAgICAgfVxuXG4gICAgICAub3B0aW9uIC5kZXRhaWwge1xuICAgICAgICBmb250LXNpemU6IDg1JTtcbiAgICAgICAgY29sb3I6IHJnYmEoMjU1LDI1NSwyNTUsLjkpO1xuICAgICAgfVxuXG4gICAgICBjb2RlIHtcbiAgICAgICAgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwuMTUpO1xuICAgICAgICBwYWRkaW5nOiAxcHggNXB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1jdXJ2YXR1cmUpO1xuICAgICAgfVxuICAgIGBcbiAgfVxuXG4gIEBwcm9wZXJ0eSh7dHlwZTogTnVtYmVyfSlcbiAgdG9wOiBudW1iZXI7XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBOdW1iZXJ9KVxuICBsZWZ0OiBudW1iZXI7XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBOdW1iZXJ9KVxuICB3aWR0aDogbnVtYmVyO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogT2JqZWN0fSlcbiAgYW5jaG9yVG86IEhUTUxFbGVtZW50XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBCb29sZWFufSlcbiAgdmlzaWJsZTogYm9vbGVhbjtcblxuICBAcHJvcGVydHkoe3R5cGU6IE51bWJlcn0pXG4gIGN1cnNvckluZGV4OiBudW1iZXIgPSAwO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogQXJyYXl9KVxuICBvcHRpb25zOiBhbnlbXVxuXG4gIEBwcm9wZXJ0eSh7YXR0cmlidXRlOiBmYWxzZX0pXG4gIHJlbmRlck9wdGlvbjogKG9wdGlvbjogYW55LCBzZWxlY3RlZDogYm9vbGVhbikgPT4gdm9pZDtcblxuICBAcHJvcGVydHkoe2F0dHJpYnV0ZTogZmFsc2V9KVxuICByZW5kZXJPcHRpb25OYW1lOiAob3B0aW9uOiBhbnksIHNlbGVjdGVkOiBib29sZWFuKSA9PiB2b2lkO1xuXG4gIEBwcm9wZXJ0eSh7YXR0cmlidXRlOiBmYWxzZX0pXG4gIHJlbmRlck9wdGlvbkRldGFpbDogKG9wdGlvbjogYW55LCBzZWxlY3RlZDogYm9vbGVhbikgPT4gdm9pZDtcblxuICBwdWJsaWMgdXBkYXRlZChjaGFuZ2VkUHJvcGVydGllczogTWFwPHN0cmluZywgYW55Pikge1xuICAgIHN1cGVyLnVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXMpO1xuXG4gICAgLy8gaWYgb3VyIGN1cnNvciBjaGFuZ2VkLCBsZXRzIG1ha2Ugc3VyZSBvdXIgc2Nyb2xsYm94IGlzIHNob3dpbmcgaXRcbiAgICBpZihjaGFuZ2VkUHJvcGVydGllcy5oYXMoXCJjdXJzb3JJbmRleFwiKSkge1xuICAgICAgY29uc3QgZm9jdXNlZEVsZSA9IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKFwiLmZvY3VzZWRcIikgYXMgSFRNTERpdkVsZW1lbnQ7XG4gICAgICBpZiAoZm9jdXNlZEVsZSkge1xuICAgICAgICBjb25zdCBzY3JvbGxCb3ggPSAgdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoXCIub3B0aW9uc1wiKTtcbiAgICAgICAgY29uc3Qgc2Nyb2xsQm94UmVjdCA9IHNjcm9sbEJveC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3Qgc2Nyb2xsQm94SGVpZ2h0ID0gc2Nyb2xsQm94UmVjdC5oZWlnaHRcbiAgICAgICAgY29uc3QgZm9jdXNlZEVsZUhlaWdodCA9IGZvY3VzZWRFbGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuXG4gICAgICAgIGlmIChmb2N1c2VkRWxlLm9mZnNldFRvcCArIGZvY3VzZWRFbGVIZWlnaHQgPiBzY3JvbGxCb3guc2Nyb2xsVG9wICsgc2Nyb2xsQm94SGVpZ2h0IC0gNSkge1xuICAgICAgICAgIGNvbnN0IHNjcm9sbFRvID0gZm9jdXNlZEVsZS5vZmZzZXRUb3AgLSBzY3JvbGxCb3hIZWlnaHQgKyBmb2N1c2VkRWxlSGVpZ2h0ICsgNTtcbiAgICAgICAgICBzY3JvbGxCb3guc2Nyb2xsVG9wID0gc2Nyb2xsVG87XG4gICAgICAgIH0gZWxzZSBpZiAoZm9jdXNlZEVsZS5vZmZzZXRUb3AgPCBzY3JvbGxCb3guc2Nyb2xsVG9wKSB7XG4gICAgICAgICAgY29uc3Qgc2Nyb2xsVG8gPSBmb2N1c2VkRWxlLm9mZnNldFRvcCAtIDU7XG4gICAgICAgICAgc2Nyb2xsQm94LnNjcm9sbFRvcCA9IHNjcm9sbFRvO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYoY2hhbmdlZFByb3BlcnRpZXMuaGFzKFwib3B0aW9uc1wiKSkge1xuICAgICAgdGhpcy5jYWxjdWxhdGVQb3NpdGlvbigpO1xuICAgICAgdGhpcy5jdXJzb3JJbmRleCA9IDA7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJPcHRpb25EZWZhdWx0KG9wdGlvbjogYW55LCBzZWxlY3RlZDogYm9vbGVhbik6IFRlbXBsYXRlUmVzdWx0IHtcbiAgICBjb25zdCByZW5kZXJPcHRpb25OYW1lID0gKHRoaXMucmVuZGVyT3B0aW9uTmFtZSB8fCB0aGlzLnJlbmRlck9wdGlvbk5hbWVEZWZhdWx0KTtcbiAgICBjb25zdCByZW5kZXJPcHRpb25EZXRhaWwgPSAodGhpcy5yZW5kZXJPcHRpb25EZXRhaWwgfHwgdGhpcy5yZW5kZXJPcHRpb25EZXRhaWxEZWZhdWx0KTtcbiAgICBpZiAoc2VsZWN0ZWQpIHtcbiAgICAgIHJldHVybiBodG1sYDxkaXYgY2xhc3M9XCJuYW1lXCI+JHtyZW5kZXJPcHRpb25OYW1lKG9wdGlvbiwgc2VsZWN0ZWQpfTwvZGl2PjxkaXYgY2xhc3M9XCJkZXRhaWxcIj4ke3JlbmRlck9wdGlvbkRldGFpbChvcHRpb24sIHNlbGVjdGVkKX08L2Rpdj5gO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaHRtbGA8ZGl2IGNsYXNzPVwibmFtZVwiPiR7cmVuZGVyT3B0aW9uTmFtZShvcHRpb24sIHNlbGVjdGVkKX08L2Rpdj5gO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyT3B0aW9uTmFtZURlZmF1bHQob3B0aW9uOiBhbnksIHNlbGVjdGVkOiBib29sZWFuKTogVGVtcGxhdGVSZXN1bHQge1xuICAgIHJldHVybiBodG1sYCR7b3B0aW9uLm5hbWV9YFxuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJPcHRpb25EZXRhaWxEZWZhdWx0KG9wdGlvbjogYW55LCBzZWxlY3RlZDogYm9vbGVhbik6IFRlbXBsYXRlUmVzdWx0IHtcbiAgICByZXR1cm4gaHRtbGAke29wdGlvbi5kZXRhaWx9YFxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVTZWxlY3Rpb24odGFiYmVkOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICBjb25zdCBzZWxlY3RlZCA9IHRoaXMub3B0aW9uc1t0aGlzLmN1cnNvckluZGV4XTtcbiAgICB0aGlzLmZpcmVDdXN0b21FdmVudChDdXN0b21FdmVudFR5cGUuU2VsZWN0aW9uLCB7IHNlbGVjdGVkLCB0YWJiZWQgfSk7XG4gIH1cblxuICBwcml2YXRlIG1vdmVDdXJzb3IoZGlyZWN0aW9uOiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCBuZXdJbmRleCA9IE1hdGgubWF4KE1hdGgubWluKHRoaXMuY3Vyc29ySW5kZXggKyBkaXJlY3Rpb24sIHRoaXMub3B0aW9ucy5sZW5ndGggLSAxKSwgMCk7XG4gICAgdGhpcy5zZXRDdXJzb3IobmV3SW5kZXgpO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXRDdXJzb3IobmV3SW5kZXg6IG51bWJlcik6IHZvaWQge1xuICAgIGlmIChuZXdJbmRleCAhPT0gdGhpcy5jdXJzb3JJbmRleCl7XG4gICAgICB0aGlzLmN1cnNvckluZGV4ID0gbmV3SW5kZXg7XG4gICAgICB0aGlzLmZpcmVDdXN0b21FdmVudChDdXN0b21FdmVudFR5cGUuQ3Vyc29yQ2hhbmdlZCwgeyBpbmRleDogbmV3SW5kZXggfSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVLZXlEb3duKGV2dDogS2V5Ym9hcmRFdmVudCkge1xuICAgIGlmICh0aGlzLnZpc2libGUpIHtcbiAgICAgIGlmICgoZXZ0LmN0cmxLZXkgJiYgZXZ0LmtleSA9PT0gXCJuXCIpIHx8IGV2dC5rZXkgPT09IFwiQXJyb3dEb3duXCIpIHtcbiAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yKDEpO1xuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH0gZWxzZSBpZiAoKGV2dC5jdHJsS2V5ICYmIGV2dC5rZXkgPT09IFwicFwiKSB8fCBldnQua2V5ID09PSBcIkFycm93VXBcIikge1xuICAgICAgICB0aGlzLm1vdmVDdXJzb3IoLTEpO1xuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH0gZWxzZSBpZiAoZXZ0LmtleSA9PT0gXCJFbnRlclwiIHx8IGV2dC5rZXkgPT09IFwiVGFiXCIpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVTZWxlY3Rpb24oZXZ0LmtleSA9PT0gXCJUYWJcIik7XG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuXG4gICAgICBpZihldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICAgIHRoaXMuZmlyZUN1c3RvbUV2ZW50KEN1c3RvbUV2ZW50VHlwZS5DYW5jZWxlZCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjYWxjdWxhdGVQb3NpdGlvbigpIHtcbiAgICBjb25zdCBvcHRpb25zQm91bmRzID0gdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJy5vcHRpb25zLWNvbnRhaW5lcicpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGlmICh0aGlzLmFuY2hvclRvKSB7XG4gICAgICBjb25zdCBhbmNob3JCb3VuZHMgPSB0aGlzLmFuY2hvclRvLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOyAgIFxuICAgICAgY29uc3QgdG9wVG9wID0gYW5jaG9yQm91bmRzLnRvcCAtIG9wdGlvbnNCb3VuZHMuaGVpZ2h0O1xuXG4gICAgICBpZiAodG9wVG9wID4gMCAmJiBhbmNob3JCb3VuZHMuYm90dG9tICsgb3B0aW9uc0JvdW5kcy5oZWlnaHQgPiB3aW5kb3cuaW5uZXJIZWlnaHQpIHtcbiAgICAgICAgdGhpcy50b3AgPSB0b3BUb3A7IC8vICArIHdpbmRvdy5wYWdlWU9mZnNldDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudG9wID0gYW5jaG9yQm91bmRzLmJvdHRvbTsgLy8gICsgd2luZG93LnBhZ2VZT2Zmc2V0O1xuICAgICAgfVxuXG4gICAgICB0aGlzLmxlZnQgPSBhbmNob3JCb3VuZHMubGVmdDtcbiAgICAgIHRoaXMud2lkdGggPSBhbmNob3JCb3VuZHMud2lkdGg7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGdldEV2ZW50SGFuZGxlcnMoKTogRXZlbnRIYW5kbGVyW10ge1xuICAgIHJldHVybiBbXG4gICAgICB7IGV2ZW50OiAna2V5ZG93bicsIG1ldGhvZDogdGhpcy5oYW5kbGVLZXlEb3duIH0sXG4gICAgICB7IGV2ZW50OiAnc2Nyb2xsJywgbWV0aG9kOiB0aGlzLmNhbGN1bGF0ZVBvc2l0aW9uIH1cbiAgICBdXG4gIH1cblxuICBwdWJsaWMgcmVuZGVyKCk6IFRlbXBsYXRlUmVzdWx0IHtcbiAgICBjb25zdCByZW5kZXJPcHRpb24gPSAodGhpcy5yZW5kZXJPcHRpb24gfHwgdGhpcy5yZW5kZXJPcHRpb25EZWZhdWx0KS5iaW5kKHRoaXMpO1xuXG4gICAgY29uc3QgY29udGFpbmVyU3R5bGUgPSB7XG4gICAgICB0b3A6IGAke3RoaXMudG9wfXB4YCxcbiAgICAgIGxlZnQ6IGAke3RoaXMubGVmdH1weGAsXG4gICAgICB3aWR0aDogYCR7dGhpcy53aWR0aH1weGBcbiAgICB9XG5cbiAgICBjb25zdCBvcHRpb25zU3R5bGUgPSB7XG4gICAgICB3aWR0aDogYCR7dGhpcy53aWR0aH1weGBcbiAgICB9XG5cbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxkaXYgY2xhc3M9XCJvcHRpb25zLWNvbnRhaW5lciAke3RoaXMudmlzaWJsZSA/IFwic2hvd1wiOiBcIlwifVwiIHN0eWxlPSR7c3R5bGVNYXAoY29udGFpbmVyU3R5bGUpfT5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm9wdGlvbnNcIiBzdHlsZT0ke3N0eWxlTWFwKG9wdGlvbnNTdHlsZSl9PlxuICAgICAgICAgICR7dGhpcy5vcHRpb25zLm1hcCgob3B0aW9uOiBhbnksIGluZGV4OiBudW1iZXIpPT5odG1sYFxuICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgQG1vdXNlb3Zlcj0keyhldnQ6IE1vdXNlRXZlbnQpPT57XG4gICAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoZXZ0Lm1vdmVtZW50WCkgKyBNYXRoLmFicyhldnQubW92ZW1lbnRZKSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRDdXJzb3IoaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBAY2xpY2s9JHsoKT0+e3RoaXMuaGFuZGxlU2VsZWN0aW9uKCk7fX1cbiAgICAgICAgICAgICAgY2xhc3M9XCJvcHRpb24gJHtpbmRleCA9PSB0aGlzLmN1cnNvckluZGV4ID8gJ2ZvY3VzZWQnIDogJyd9XCI+XG4gICAgICAgICAgICAgICAgJHtyZW5kZXJPcHRpb24ob3B0aW9uLCBpbmRleCA9PSB0aGlzLmN1cnNvckluZGV4KX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIGApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHNsb3Q+PC9zbG90PlxuICAgICAgPC9kaXY+XG4gICAgICBgO1xuICB9XG59XG4iLCJpbXBvcnQgeyBjdXN0b21FbGVtZW50LCBUZW1wbGF0ZVJlc3VsdCwgaHRtbCwgY3NzLCBwcm9wZXJ0eSB9IGZyb20gJ2xpdC1lbGVtZW50JztcbmltcG9ydCB7IGdldFVybCB9IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCBheGlvcywgeyBBeGlvc1Jlc3BvbnNlLCBDYW5jZWxUb2tlblNvdXJjZSB9IGZyb20gJ2F4aW9zJztcbmltcG9ydCAnLi4vb3B0aW9ucy9PcHRpb25zJztcbmltcG9ydCBSYXBpZEVsZW1lbnQsIHsgRXZlbnRIYW5kbGVyIH0gZnJvbSAnLi4vUmFwaWRFbGVtZW50JztcbmltcG9ydCB7IEN1c3RvbUV2ZW50VHlwZSB9IGZyb20gJy4uL2ludGVyZmFjZXMnO1xuaW1wb3J0IFRleHRJbnB1dCBmcm9tICcuLi90ZXh0aW5wdXQvVGV4dElucHV0JztcblxuY29uc3QgTE9PS19BSEVBRCA9IDIwO1xuXG5AY3VzdG9tRWxlbWVudChcInJwLXNlbGVjdFwiKVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VsZWN0IGV4dGVuZHMgUmFwaWRFbGVtZW50IHtcblxuICBzdGF0aWMgZ2V0IHN0eWxlcygpIHtcbiAgICByZXR1cm4gY3NzYFxuICAgICAgOmhvc3Qge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgfVxuICAgIGBcbiAgfVxuXG4gIEBwcm9wZXJ0eSh7dHlwZTogQXJyYXl9KVxuICBzZWxlY3RlZDogYW55W10gPSBbXTtcblxuICBAcHJvcGVydHkoKVxuICBwbGFjZWhvbGRlcjogc3RyaW5nID0gJyc7XG5cbiAgQHByb3BlcnR5KClcbiAgZW5kcG9pbnQ6IHN0cmluZztcblxuICBAcHJvcGVydHkoe3R5cGU6IFN0cmluZ30pXG4gIGlucHV0OiBzdHJpbmcgPSAnJztcblxuICBAcHJvcGVydHkoe3R5cGU6IEFycmF5fSlcbiAgb3B0aW9uczogYW55W10gPSBbXTtcblxuICBAcHJvcGVydHkoe3R5cGU6IE51bWJlcn0pXG4gIHF1aWV0TWlsbGlzOiBudW1iZXIgPSAyMDA7XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBCb29sZWFufSlcbiAgZmV0Y2hpbmc6IGJvb2xlYW47XG5cbiAgQHByb3BlcnR5KHthdHRyaWJ1dGU6IGZhbHNlfSlcbiAgY3Vyc29ySW5kZXg6IG51bWJlcjtcblxuICBAcHJvcGVydHkoe2F0dHJpYnV0ZTogZmFsc2V9KVxuICBhbmNob3JFbGVtZW50OiBIVE1MRWxlbWVudDtcblxuICBAcHJvcGVydHkoe2F0dHJpYnV0ZTogZmFsc2V9KVxuICByZW5kZXJPcHRpb246IChvcHRpb246IGFueSwgc2VsZWN0ZWQ6IGJvb2xlYW4pID0+IHZvaWQ7XG5cbiAgQHByb3BlcnR5KHthdHRyaWJ1dGU6IGZhbHNlfSlcbiAgcmVuZGVyT3B0aW9uTmFtZTogKG9wdGlvbjogYW55LCBzZWxlY3RlZDogYm9vbGVhbikgPT4gdm9pZDtcblxuICBAcHJvcGVydHkoe2F0dHJpYnV0ZTogZmFsc2V9KVxuICByZW5kZXJPcHRpb25EZXRhaWw6IChvcHRpb246IGFueSwgc2VsZWN0ZWQ6IGJvb2xlYW4pID0+IHZvaWQgPSAoKT0+e307XG5cbiAgcHJpdmF0ZSBsYXN0UXVlcnk6IG51bWJlcjtcbiAgcHJpdmF0ZSBjYW5jZWxUb2tlbjogQ2FuY2VsVG9rZW5Tb3VyY2U7XG4gIHByaXZhdGUgY29tcGxldGU6IGJvb2xlYW47XG4gIHByaXZhdGUgcGFnZTogbnVtYmVyO1xuICBwcml2YXRlIHF1ZXJ5OiBzdHJpbmc7XG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICBwdWJsaWMgdXBkYXRlZChjaGFuZ2VkUHJvcGVydGllczogTWFwPHN0cmluZywgYW55Pikge1xuICAgIHN1cGVyLnVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgIGlmIChjaGFuZ2VkUHJvcGVydGllcy5oYXMoXCJzZWxlY3RlZFwiKSkge1xuICAgICAgdGhpcy5pbnB1dCA9IFwiXCI7XG4gICAgICB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcihcImlucHV0XCIpLmJsdXIoKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKGNoYW5nZWRQcm9wZXJ0aWVzLmhhcyhcImlucHV0XCIpICYmICFjaGFuZ2VkUHJvcGVydGllcy5oYXMoXCJzZWxlY3RlZFwiKSkge1xuICAgICAgaWYgKCF0aGlzLmlucHV0KSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IFtdO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmxhc3RRdWVyeSkge1xuICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMubGFzdFF1ZXJ5KTtcbiAgICAgIH1cbiAgICAgIHRoaXMubGFzdFF1ZXJ5ID0gd2luZG93LnNldFRpbWVvdXQoKCk9PntcbiAgICAgICAgdGhpcy5mZXRjaE9wdGlvbnModGhpcy5pbnB1dCk7XG4gICAgICB9LCB0aGlzLnF1aWV0TWlsbGlzKTtcbiAgICB9XG5cbiAgICAgICAvLyBpZiBvdXIgY3Vyc29yIGNoYW5nZWQsIGxldHMgbWFrZSBzdXJlIG91ciBzY3JvbGxib3ggaXMgc2hvd2luZyBpdFxuICAgIGlmKGNoYW5nZWRQcm9wZXJ0aWVzLmhhcyhcImN1cnNvckluZGV4XCIpKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmxlbmd0aCA+IDAgJiYgXG4gICAgICAgICAgdGhpcy5xdWVyeSAmJiBcbiAgICAgICAgICAhdGhpcy5jb21wbGV0ZSAmJiBcbiAgICAgICAgICB0aGlzLmN1cnNvckluZGV4ID4gdGhpcy5vcHRpb25zLmxlbmd0aCAtIExPT0tfQUhFQUQpIHtcbiAgICAgICAgdGhpcy5mZXRjaE9wdGlvbnModGhpcy5xdWVyeSwgdGhpcy5wYWdlICsgMSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVPcHRpb25TZWxlY3Rpb24oZXZlbnQ6IEN1c3RvbUV2ZW50KSB7XG4gICAgY29uc3Qgc2VsZWN0ZWQgPSBldmVudC5kZXRhaWwuc2VsZWN0ZWQ7XG4gICAgdGhpcy5zZWxlY3RlZCA9IFtzZWxlY3RlZF07XG4gICAgdGhpcy5vcHRpb25zID0gW107XG4gICAgdGhpcy5pbnB1dCA9IHNlbGVjdGVkLm5hbWU7XG4gfVxuXG4gIHB1YmxpYyBmZXRjaE9wdGlvbnMocXVlcnk6IHN0cmluZywgcGFnZTogbnVtYmVyID0gMCkge1xuICAgIFxuICAgIGlmICghdGhpcy5mZXRjaGluZykge1xuICAgICAgLy8gbWFrZSBzdXJlIHdlIGNhbmNlbCBhbnkgcHJldmlvdXMgcmVxdWVzdFxuICAgICAgaWYgKHRoaXMuY2FuY2VsVG9rZW4pIHtcbiAgICAgICAgdGhpcy5jYW5jZWxUb2tlbi5jYW5jZWwoKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgQ2FuY2VsVG9rZW4gPSBheGlvcy5DYW5jZWxUb2tlbjtcbiAgICAgIHRoaXMuY2FuY2VsVG9rZW4gPSBDYW5jZWxUb2tlbi5zb3VyY2UoKTtcblxuICAgICAgdGhpcy5mZXRjaGluZyA9IHRydWU7XG4gICAgICBnZXRVcmwodGhpcy5lbmRwb2ludCArIGVuY29kZVVSSUNvbXBvbmVudChxdWVyeSkgKyBcIiZwYWdlPVwiICsgcGFnZSwgdGhpcy5jYW5jZWxUb2tlbi50b2tlbikudGhlbigocmVzcG9uc2U6IEF4aW9zUmVzcG9uc2UpID0+IHtcbiAgICAgICAgaWYgKHBhZ2UgPT09IDApIHtcbiAgICAgICAgICB0aGlzLm9wdGlvbnMgPSByZXNwb25zZS5kYXRhLmZpbHRlcigob3B0aW9uOiBhbnkpID0+IG9wdGlvbi5sZXZlbCA+IDApO1xuICAgICAgICAgIHRoaXMuY3Vyc29ySW5kZXggPSAwO1xuICAgICAgICAgIHRoaXMucXVlcnkgPSBxdWVyeTtcbiAgICAgICAgICB0aGlzLmNvbXBsZXRlID0gdGhpcy5vcHRpb25zLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBuZXdSZXN1bHRzID0gcmVzcG9uc2UuZGF0YS5maWx0ZXIoKG9wdGlvbjogYW55KSA9PiBvcHRpb24ubGV2ZWwgPiAwKTtcbiAgICAgICAgICBpZiAobmV3UmVzdWx0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBbIC4uLnRoaXMub3B0aW9ucywgLi4ubmV3UmVzdWx0c107XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuY29tcGxldGUgPSBuZXdSZXN1bHRzLmxlbmd0aCA9PT0gMFxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmV0Y2hpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wYWdlID0gcGFnZTtcbiAgICAgIH0pLmNhdGNoKChyZWFzb246IGFueSk9PntcbiAgICAgICAgLy8gY2FuY2VsbGVkXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUJsdXIoKSB7XG4gICAgLy8gd2UgZG9uJ3QgZG8gdGhpcyBpbW1lZGlhdGVseSBzbyB3ZSBjYW4gaGFuZGxlIGNsaWNrIGV2ZW50cyBvdXRzaWRlIG9mIG91ciBpbnB1dFxuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpPT57dGhpcy5vcHRpb25zID0gW119LCAxMDApO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVGb2N1cygpOiB2b2lkIHtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlS2V5VXAoZXZ0OiBLZXlib2FyZEV2ZW50KSB7XG4gICAgY29uc3QgZWxlID0gZXZ0LmN1cnJlbnRUYXJnZXQgYXMgVGV4dElucHV0O1xuICAgIHRoaXMuaW5wdXQgPSBlbGUuaW5wdXRFbGVtZW50LnZhbHVlLnRyaW0oKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlQ2FuY2VsKCkge1xuICAgIHRoaXMub3B0aW9ucyA9IFtdO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVDdXJzb3JDaGFuZ2VkKGV2ZW50OiBDdXN0b21FdmVudCkge1xuICAgIHRoaXMuY3Vyc29ySW5kZXggPSBldmVudC5kZXRhaWwuaW5kZXg7XG4gIH1cblxuICBwdWJsaWMgZ2V0RXZlbnRIYW5kbGVycygpOiBFdmVudEhhbmRsZXJbXSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHsgZXZlbnQ6IEN1c3RvbUV2ZW50VHlwZS5DYW5jZWxlZCwgbWV0aG9kOiB0aGlzLmhhbmRsZUNhbmNlbCB9LFxuICAgICAgeyBldmVudDogQ3VzdG9tRXZlbnRUeXBlLkN1cnNvckNoYW5nZWQsIG1ldGhvZDogdGhpcy5oYW5kbGVDdXJzb3JDaGFuZ2VkIH0sXG4gICAgICAvLyB7IGV2ZW50OiBDdXN0b21FdmVudFR5cGUuU2VsZWN0aW9uLCBtZXRob2Q6IHRoaXMuaGFuZGxlT3B0aW9uU2VsZWN0aW9uIH0sXG4gICAgXTtcbiAgfVxuXG4gIHB1YmxpYyBmaXJzdFVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXM6IGFueSkge1xuICAgIHRoaXMuYW5jaG9yRWxlbWVudCA9IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKFwicnAtdGV4dGlucHV0XCIpO1xuICB9XG5cbiAgcHVibGljIHJlbmRlcigpOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8cnAtdGV4dGlucHV0XG4gICAgICAgIEBrZXl1cD0ke3RoaXMuaGFuZGxlS2V5VXB9XG4gICAgICAgIEBibHVyPSR7dGhpcy5oYW5kbGVCbHVyfSBcbiAgICAgICAgQGZvY3VzPSR7dGhpcy5oYW5kbGVGb2N1c30gXG4gICAgICAgIC52YWx1ZT0ke3RoaXMuaW5wdXR9ICBcbiAgICAgICAgcGxhY2Vob2xkZXI9JHt0aGlzLnBsYWNlaG9sZGVyfVxuICAgICAgPjwvcnAtdGV4dGlucHV0PlxuICAgICAgPHJwLW9wdGlvbnNcbiAgICAgICAgY3Vyc29ySW5kZXg9JHt0aGlzLmN1cnNvckluZGV4fVxuICAgICAgICBAcnAtc2VsZWN0aW9uPSR7dGhpcy5oYW5kbGVPcHRpb25TZWxlY3Rpb259XG4gICAgICAgIC5yZW5kZXJPcHRpb25EZXRhaWw9JHt0aGlzLnJlbmRlck9wdGlvbkRldGFpbH1cbiAgICAgICAgLnJlbmRlck9wdGlvbk5hbWU9JHt0aGlzLnJlbmRlck9wdGlvbk5hbWV9XG4gICAgICAgIC5yZW5kZXJPcHRpb249JHt0aGlzLnJlbmRlck9wdGlvbn1cbiAgICAgICAgLmFuY2hvclRvPSR7dGhpcy5hbmNob3JFbGVtZW50fVxuICAgICAgICAub3B0aW9ucz0ke3RoaXMub3B0aW9uc31cbiAgICAgICAgP3Zpc2libGU9JHt0aGlzLmlucHV0Lmxlbmd0aCA+IDAgJiYgdGhpcy5vcHRpb25zLmxlbmd0aCA+IDB9XG4gICAgICA+PC9ycC1vcHRpb25zPlxuICAgIGBcbiAgfVxufSIsImNvbnN0IFNUQVRFX0JPRFkgPSAwOyAvLyBub3QgaW4gYSBleHByZXNzaW9uXG5jb25zdCBTVEFURV9QUkVGSVggPSAxOyAvLyAnQCcgcHJlZml4IHRoYXQgZGVub3RlcyB0aGUgc3RhcnQgb2YgYW4gZXhwcmVzc2lvblxuY29uc3QgU1RBVEVfSURFTlRJRklFUiA9IDI7IC8vIHRoZSBpZGVudGlmaWVyIHBhcnQsIGUuZy4gJ2NvbnRhY3QuYWdlJyBpbiAnQGNvbnRhY3QuYWdlJ1xuY29uc3QgU1RBVEVfQkFMQU5DRUQgPSAzOyAvLyB0aGUgYmFsYW5jZWQgcGFyZW50aGVzZXMgZGVsaW1pdGVkIHBhcnQsIGUuZy4gJygxICsgMiknIGluICdAKDEgKyAyKSdcbmNvbnN0IFNUQVRFX1NUUklOR19MSVRFUkFMID0gNDsgLy8gYSBzdHJpbmcgbGl0ZXJhbCB3aGljaCBjb3VsZCBjb250YWluIClcbmNvbnN0IFNUQVRFX0VTQ0FQRURfUFJFRklYID0gNTsgLy8gYSAnQCcgcHJlZml4IHByZWNlZGVkIGJ5IGFub3RoZXIgJ0AnXG5jb25zdCBTVEFURV9JR05PUkUgPSA2O1xuXG5leHBvcnQgaW50ZXJmYWNlIEV4cHJlc3Npb24ge1xuICBzdGFydDogbnVtYmVyO1xuICBlbmQ6IG51bWJlcjtcbiAgdGV4dDogc3RyaW5nO1xuICBjbG9zZWQ6IGJvb2xlYW47XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBnaXZlbiBzdHJpbmcgc3RhcnRzIHdpdGggdGhlIGdpdmVuIHRleHRcbiAqL1xuY29uc3Qgc3RhcnRzV2l0aCA9IChzdHI6IHN0cmluZywgc3RhcnQ6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gc3RyLmluZGV4T2Yoc3RhcnQsIDApID09PSAwO1xufTtcblxuLyoqXG4gKiBDaGVja3MgdGhlIHBhcnNlZCAocG9zc2libHkgcGFydGlhbCkgZXhwcmVzc2lvbiB0byBkZXRlcm1pbmUgaWYgaXQncyB2YWxpZCBiYXNlZCBvbiBob3cgaXQgc3RhcnRzXG4gKi9cbmNvbnN0IGlzVmFsaWRTdGFydCA9IChcbiAgcGFydGlhbEV4cHJlc3Npb246IHN0cmluZyxcbiAgYWxsb3dlZFRvcExldmVsczogc3RyaW5nW10sXG4gIGFsbG93SW5jb21wbGV0ZTogYm9vbGVhblxuKTogYm9vbGVhbiA9PiB7XG4gIGNvbnN0IGJvZHkgPSBwYXJ0aWFsRXhwcmVzc2lvbi5zdWJzdHJpbmcoMSk7IC8vIHN0cmlwIHByZWZpeFxuXG4gIGlmIChib2R5WzBdID09PSAnKCcpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICAvLyBpZiBleHByZXNzaW9uIGRvZXNuJ3Qgc3RhcnQgd2l0aCAoIHRoZW4gY2hlY2sgaXQncyBhbiBhbGxvd2VkIHRvcCBsZXZlbCBjb250ZXh0IHJlZmVyZW5jZVxuICAgIGNvbnN0IHRvcExldmVsID0gYm9keS5zcGxpdCgnLicpWzBdLnRvTG93ZXJDYXNlKCk7XG5cbiAgICBpZiAoYWxsb3dJbmNvbXBsZXRlKSB7XG4gICAgICBmb3IgKGNvbnN0IGFsbG93ZWQgb2YgYWxsb3dlZFRvcExldmVscykge1xuICAgICAgICBpZiAoc3RhcnRzV2l0aChhbGxvd2VkLCB0b3BMZXZlbCkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYWxsb3dlZFRvcExldmVscy5pbmRleE9mKHRvcExldmVsKSA+PSAwO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBnaXZlbiBjaGFyYWN0ZXIgaXMgYSB3b3JkIGNoYXJhY3RlciwgaS5lLiBcXHcgaW4gYSByZWdleFxuICovXG5leHBvcnQgY29uc3QgaXNXb3JkQ2hhciA9IChjaDogc3RyaW5nIHwgMCk6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gKFxuICAgIChjaCA+PSAnYScgJiYgY2ggPD0gJ3onKSB8fCAoY2ggPj0gJ0EnICYmIGNoIDw9ICdaJykgfHwgKGNoID49ICcwJyAmJiBjaCA8PSAnOScpIHx8IGNoID09PSAnXydcbiAgKTtcbn07XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHdlIGFyZSBpbiBhIHN0cmluZyBsaXRlcmFsXG4gKi9cbmNvbnN0IGlzSW5TdHJpbmdMaXRlcmFsID0gKHBhcnRpYWxFeHByZXNzaW9uOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgLy8gY291bnQgbnVtYmVyIHF1b3RhdGlvbiBtYXJrc1xuICBsZXQgbnVtUXVvdGVzID0gMDtcbiAgZm9yIChjb25zdCBwb3Mgb2YgcGFydGlhbEV4cHJlc3Npb24pIHtcbiAgICBpZiAocG9zID09PSAnXCInKSB7XG4gICAgICBudW1RdW90ZXMrKztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bVF1b3RlcyAlIDIgIT09IDA7IC8vIG9kZCBtZWFucyBsYXN0IHN0cmluZyBsaXRlcmFsIGlzIG9wZW5cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEV4Y2VsbGVudFBhcnNlciB7XG4gIHByaXZhdGUgZXhwcmVzc2lvblByZWZpeDogc3RyaW5nO1xuICBwcml2YXRlIGFsbG93ZWRUb3BMZXZlbHM6IHN0cmluZ1tdO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IHBhcnNlclxuICAgKiBAcGFyYW0gZXhwcmVzc2lvblByZWZpeCB0aGUgcHJlZml4IGZvciBleHByZXNzaW9ucywgZS5nLiAnQCdcbiAgICogQHBhcmFtIGFsbG93ZWRUb3BMZXZlbHMgdGhlIGNvbnRleHQgbmFtZXMgdGhhdCBhcmUgYWxsb3dlZCB3aXRob3V0IHBhcmVudGhlc2VzLCBlLmcuIFtcImNvbnRhY3RcIiwgXCJmbG93XCIsIC4uLl1cbiAgICovXG4gIGNvbnN0cnVjdG9yKGV4cHJlc3Npb25QcmVmaXg6IHN0cmluZywgYWxsb3dlZFRvcExldmVsczogc3RyaW5nW10pIHtcbiAgICB0aGlzLmV4cHJlc3Npb25QcmVmaXggPSBleHByZXNzaW9uUHJlZml4O1xuICAgIHRoaXMuYWxsb3dlZFRvcExldmVscyA9IGFsbG93ZWRUb3BMZXZlbHM7XG4gIH1cblxuICAvKipcbiAgICogR2l2ZW4gdGhlIHRleHQgdXAgdG8gdGhlIGNhcmV0IHBvc2l0aW9uLCByZXR1cm5zIHRoZSBleHByZXNzaW9uIGN1cnJlbnRseSBiZWluZyBlZGl0ZWQsIHdpdGhvdXQgaXRzIHByZWZpeFxuICAgKi9cbiAgcHVibGljIGV4cHJlc3Npb25Db250ZXh0KHRleHRUb0NhcmV0OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IGV4cHJlc3Npb25zID0gdGhpcy5maW5kRXhwcmVzc2lvbnModGV4dFRvQ2FyZXQpO1xuICAgIGlmIChleHByZXNzaW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgIC8vIG5vIGV4cHJlc3Npb25zIGZvdW5kXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBsYXN0RXhwcmVzc2lvbiA9IGV4cHJlc3Npb25zW2V4cHJlc3Npb25zLmxlbmd0aCAtIDFdO1xuXG4gICAgLy8gaGFzIGxhc3QgZXhwcmVzc2lvbiBhbHJlYWR5IGVuZGVkIG9yIGlzIGl0IGNsb3NlZCAoaS5lLiBoYXMgYmFsYW5jZWQgcGFyZW50aGVzZXMpXG4gICAgaWYgKGxhc3RFeHByZXNzaW9uLmVuZCA8IHRleHRUb0NhcmV0Lmxlbmd0aCB8fCBsYXN0RXhwcmVzc2lvbi5jbG9zZWQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBsYXN0RXhwcmVzc2lvbi50ZXh0LnN1YnN0cmluZygxKTsgLy8gcmV0dXJuIHdpdGhvdXQgcHJlZml4XG4gIH1cblxuICAvKipcbiAgICogR2l2ZW4gdGhlIHBhcnRpYWwgZXhwcmVzc2lvbiBjdXJyZW50bHkgYmVpbmcgZWRpdGVkLCByZXR1cm5zIHRoZSBjdXJyZW50IGF1dG8tY29tcGxldGFibGUgaWRlbnRpZmllclxuICAgKiB3aGljaCBtYXkgYmUgYSBmdW5jdGlvbiBuYW1lIG9yIGEgY29udGV4dCByZWZlcmVuY2UuXG4gICAqL1xuICBwdWJsaWMgYXV0b0NvbXBsZXRlQ29udGV4dChwYXJ0aWFsRXhwcmVzc2lvbjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBpZiAoaXNJblN0cmluZ0xpdGVyYWwocGFydGlhbEV4cHJlc3Npb24pKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBuZWVkZWRQYXJlbnRoZXNlcyA9IFtdO1xuICAgIGxldCBmcmFnbWVudCA9ICcnO1xuICAgIGxldCBza2lwQ2hhciA9IGZhbHNlO1xuICAgIGxldCBpblF1b3RlcyA9IGZhbHNlO1xuICAgIGxldCBwcmVwZW5kRmxhZyA9ICcnO1xuXG4gICAgZm9yIChsZXQgcG9zID0gcGFydGlhbEV4cHJlc3Npb24ubGVuZ3RoIC0gMTsgcG9zID49IDA7IHBvcy0tKSB7XG4gICAgICBjb25zdCBjaCA9IHBhcnRpYWxFeHByZXNzaW9uW3Bvc107XG5cbiAgICAgIGlmIChjaCA9PT0gJyAnKSB7XG4gICAgICAgIHNraXBDaGFyID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNoID09PSAnLCcpIHtcbiAgICAgICAgc2tpcENoYXIgPSB0cnVlO1xuICAgICAgICBpZiAobmVlZGVkUGFyZW50aGVzZXNbbmVlZGVkUGFyZW50aGVzZXMubGVuZ3RoIC0gMV0gIT09ICcoJykge1xuICAgICAgICAgIG5lZWRlZFBhcmVudGhlc2VzLnB1c2goJygnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoY2ggPT09ICcpJyAmJiAhaW5RdW90ZXMpIHtcbiAgICAgICAgc2tpcENoYXIgPSB0cnVlO1xuICAgICAgICBuZWVkZWRQYXJlbnRoZXNlcy5wdXNoKCcoJyk7XG4gICAgICAgIG5lZWRlZFBhcmVudGhlc2VzLnB1c2goJygnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNoID09PSAnXCInKSB7XG4gICAgICAgIGluUXVvdGVzID0gIWluUXVvdGVzO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2tpcENoYXIpIHtcbiAgICAgICAgaWYgKGNoID09PSAnKCcgJiYgIWluUXVvdGVzKSB7XG4gICAgICAgICAgaWYgKG5lZWRlZFBhcmVudGhlc2VzW25lZWRlZFBhcmVudGhlc2VzLmxlbmd0aCAtIDFdID09PSAnKCcpIHtcbiAgICAgICAgICAgIG5lZWRlZFBhcmVudGhlc2VzLnBvcCgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChuZWVkZWRQYXJlbnRoZXNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHNraXBDaGFyID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChjaCA9PT0gJygnICYmIGZyYWdtZW50ID09PSAnJykge1xuICAgICAgICBwcmVwZW5kRmxhZyA9ICcjJztcbiAgICAgIH1cblxuICAgICAgaWYgKHNraXBDaGFyIHx8IGluUXVvdGVzIHx8IChjaCA9PT0gJygnICYmIGZyYWdtZW50ID09PSAnJykpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc1dvcmRDaGFyKGNoKSB8fCBjaCA9PT0gJy4nKSB7XG4gICAgICAgIGZyYWdtZW50ID0gY2ggKyBmcmFnbWVudDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChmcmFnbWVudC5tYXRjaCgvW0EtWmEtel1bXFx3XSooXFwuW1xcd10rKSovKSkge1xuICAgICAgcmV0dXJuIHByZXBlbmRGbGFnICsgZnJhZ21lbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUT0RPIGZpbmQgdGhlIGZ1bmN0aW9uIGNvbnRleHRcbiAgICovXG4gIHB1YmxpYyBmdW5jdGlvbkNvbnRleHQocGFydGlhbEV4cHJlc3Npb246IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgaW5TdHJpbmcgPSBpc0luU3RyaW5nTGl0ZXJhbChwYXJ0aWFsRXhwcmVzc2lvbik7XG5cbiAgICAvLyBpbml0aWFsIHN0YXRlIGlzIHN0cmluZyBsaXRlcmFsIGlmIG51bWJlciBvZiBxdW90ZXMgaXMgb2RkXG4gICAgbGV0IHN0YXRlID0gaW5TdHJpbmcgPyBTVEFURV9TVFJJTkdfTElURVJBTCA6IFNUQVRFX0lHTk9SRTtcbiAgICBsZXQgaWRlbnRpZmllciA9ICcnO1xuICAgIGxldCBwYXJlbnRoZXNlc0xldmVsID0gcGFydGlhbEV4cHJlc3Npb25bLTFdID09PSAnKCcgPyAwIDogMTtcblxuICAgIGZvciAobGV0IHBvcyA9IHBhcnRpYWxFeHByZXNzaW9uLmxlbmd0aCAtIDE7IHBvcyA+PSAwOyBwb3MtLSkge1xuICAgICAgY29uc3QgY2ggPSBwYXJ0aWFsRXhwcmVzc2lvbltwb3NdO1xuXG4gICAgICBpZiAoY2ggPT09ICdAJykge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG5cbiAgICAgIGlmIChzdGF0ZSA9PT0gU1RBVEVfSUdOT1JFKSB7XG4gICAgICAgIGlmIChwYXJlbnRoZXNlc0xldmVsID09PSAwICYmIChpc1dvcmRDaGFyKGNoKSB8fCBjaCA9PT0gJy4nKSkge1xuICAgICAgICAgIHN0YXRlID0gU1RBVEVfSURFTlRJRklFUjtcbiAgICAgICAgICBpZGVudGlmaWVyID0gY2ggKyBpZGVudGlmaWVyO1xuICAgICAgICB9IGVsc2UgaWYgKGNoID09PSAnXCInKSB7XG4gICAgICAgICAgc3RhdGUgPSBTVEFURV9TVFJJTkdfTElURVJBTDtcbiAgICAgICAgfSBlbHNlIGlmIChjaCA9PT0gJygnKSB7XG4gICAgICAgICAgcGFyZW50aGVzZXNMZXZlbC0tO1xuICAgICAgICB9IGVsc2UgaWYgKGNoID09PSAnKScpIHtcbiAgICAgICAgICBwYXJlbnRoZXNlc0xldmVsKys7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IFNUQVRFX0lERU5USUZJRVIpIHtcbiAgICAgICAgaWYgKGlzV29yZENoYXIoY2gpIHx8IGNoID09PSAnLicpIHtcbiAgICAgICAgICBpZGVudGlmaWVyID0gY2ggKyBpZGVudGlmaWVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBpZGVudGlmaWVyO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBTVEFURV9TVFJJTkdfTElURVJBTCkge1xuICAgICAgICBpZiAoY2ggPT09ICdcIicpIHtcbiAgICAgICAgICBzdGF0ZSA9IFNUQVRFX0lHTk9SRTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICBwdWJsaWMgZ2V0Q29udGFjdEZpZWxkcyh0ZXh0OiBzdHJpbmcpOiBzdHJpbmdbXSB7XG4gICAgY29uc3QgZmllbGRzID0ge307XG4gICAgY29uc3QgcmUgPSAvKChwYXJlbnR8Y2hpbGRcXC4pKmNvbnRhY3RcXC4pKmZpZWxkc1xcLihbYS16MC05X10rKS9nO1xuICAgIGNvbnN0IGV4cHJlc3Npb25zID0gdGhpcy5maW5kRXhwcmVzc2lvbnModGV4dCk7XG4gICAgZm9yIChjb25zdCBleHByZXNzaW9uIG9mIGV4cHJlc3Npb25zKSB7XG4gICAgICBsZXQgbWF0Y2g7XG4gICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tY29uZGl0aW9uYWwtYXNzaWdubWVudFxuICAgICAgd2hpbGUgKChtYXRjaCA9IHJlLmV4ZWMoZXhwcmVzc2lvbi50ZXh0KSkpIHtcbiAgICAgICAgKGZpZWxkcyBhcyBhbnkpW21hdGNoWzNdXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBPYmplY3Qua2V5cyhmaWVsZHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpbmRzIGFsbCBleHByZXNzaW9ucyBpbiB0aGUgZ2l2ZW4gdGV4dCwgaW5jbHVkaW5nIGFueSBwYXJ0aWFsbHkgY29tcGxldGUgZXhwcmVzc2lvbiBhdCB0aGUgZW5kIG9mIHRoZSBpbnB1dFxuICAgKi9cbiAgcHVibGljIGZpbmRFeHByZXNzaW9ucyh0ZXh0OiBzdHJpbmcpOiBFeHByZXNzaW9uW10ge1xuICAgIGNvbnN0IGV4cHJlc3Npb25zOiBFeHByZXNzaW9uW10gPSBbXTtcbiAgICBsZXQgc3RhdGUgPSBTVEFURV9CT0RZO1xuICAgIGxldCBjdXJyZW50RXhwcmVzc2lvbjogRXhwcmVzc2lvbiA9IG51bGw7XG4gICAgbGV0IHBhcmVudGhlc2VzTGV2ZWwgPSAwO1xuXG4gICAgZm9yIChsZXQgcG9zID0gMDsgcG9zIDwgdGV4dC5sZW5ndGg7IHBvcysrKSB7XG4gICAgICBjb25zdCBjaCA9IHRleHRbcG9zXTtcbiAgICAgIC8vIGluIG9yZGVyIHRvIGRldGVybWluZSBpZiB0aGUgYiBpbiBhLmIgdGVybWluYXRlcyBhbiBpZGVudGlmaWVyLCB3ZSBoYXZlIHRvIHBlZWsgdHdvIGNoYXJhY3RlcnMgYWhlYWQgYXNcbiAgICAgIC8vIGl0IGNvdWxkIGJlIGEuYi4gKGIgdGVybWluYXRlcykgb3IgYS5iLmMgKGIgZG9lc24ndCB0ZXJtaW5hdGUpXG4gICAgICBjb25zdCBuZXh0Q2ggPSBwb3MgPCB0ZXh0Lmxlbmd0aCAtIDEgPyB0ZXh0W3BvcyArIDFdIDogMDtcbiAgICAgIGNvbnN0IG5leHROZXh0Q2ggPSBwb3MgPCB0ZXh0Lmxlbmd0aCAtIDIgPyB0ZXh0W3BvcyArIDJdIDogMDtcblxuICAgICAgaWYgKHN0YXRlID09PSBTVEFURV9CT0RZKSB7XG4gICAgICAgIGlmIChjaCA9PT0gdGhpcy5leHByZXNzaW9uUHJlZml4ICYmIChpc1dvcmRDaGFyKG5leHRDaCkgfHwgbmV4dENoID09PSAnKCcpKSB7XG4gICAgICAgICAgc3RhdGUgPSBTVEFURV9QUkVGSVg7XG4gICAgICAgICAgY3VycmVudEV4cHJlc3Npb24gPSB7XG4gICAgICAgICAgICBzdGFydDogcG9zLFxuICAgICAgICAgICAgZW5kOiBudWxsLFxuICAgICAgICAgICAgdGV4dDogY2gsXG4gICAgICAgICAgICBjbG9zZWQ6IGZhbHNlXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChjaCA9PT0gdGhpcy5leHByZXNzaW9uUHJlZml4ICYmIG5leHRDaCA9PT0gdGhpcy5leHByZXNzaW9uUHJlZml4KSB7XG4gICAgICAgICAgc3RhdGUgPSBTVEFURV9FU0NBUEVEX1BSRUZJWDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gU1RBVEVfUFJFRklYKSB7XG4gICAgICAgIGlmIChpc1dvcmRDaGFyKGNoKSkge1xuICAgICAgICAgIHN0YXRlID0gU1RBVEVfSURFTlRJRklFUjsgLy8gd2UncmUgcGFyc2luZyBhbiBleHByZXNzaW9uIGxpa2UgQFhYWFxuICAgICAgICB9IGVsc2UgaWYgKGNoID09PSAnKCcpIHtcbiAgICAgICAgICAvLyB3ZSdyZSBwYXJzaW5nIGFuIGV4cHJlc3Npb24gbGlrZSBAKDEgKyAyKVxuICAgICAgICAgIHN0YXRlID0gU1RBVEVfQkFMQU5DRUQ7XG4gICAgICAgICAgcGFyZW50aGVzZXNMZXZlbCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnRFeHByZXNzaW9uLnRleHQgKz0gY2g7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBTVEFURV9JREVOVElGSUVSKSB7XG4gICAgICAgIGN1cnJlbnRFeHByZXNzaW9uLnRleHQgKz0gY2g7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBTVEFURV9CQUxBTkNFRCkge1xuICAgICAgICBpZiAoY2ggPT09ICcoJykge1xuICAgICAgICAgIHBhcmVudGhlc2VzTGV2ZWwgKz0gMTtcbiAgICAgICAgfSBlbHNlIGlmIChjaCA9PT0gJyknKSB7XG4gICAgICAgICAgcGFyZW50aGVzZXNMZXZlbCAtPSAxO1xuICAgICAgICB9IGVsc2UgaWYgKGNoID09PSAnXCInKSB7XG4gICAgICAgICAgc3RhdGUgPSBTVEFURV9TVFJJTkdfTElURVJBTDtcbiAgICAgICAgfVxuXG4gICAgICAgIGN1cnJlbnRFeHByZXNzaW9uLnRleHQgKz0gY2g7XG5cbiAgICAgICAgLy8gZXhwcmVzc2lvbiB0ZXJtaW5hdGVzIGlmIHBhcmVudGhlc2VzIGJhbGFuY2VcbiAgICAgICAgaWYgKHBhcmVudGhlc2VzTGV2ZWwgPT09IDApIHtcbiAgICAgICAgICBjdXJyZW50RXhwcmVzc2lvbi5lbmQgPSBwb3MgKyAxO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBTVEFURV9TVFJJTkdfTElURVJBTCkge1xuICAgICAgICBpZiAoY2ggPT09ICdcIicpIHtcbiAgICAgICAgICBzdGF0ZSA9IFNUQVRFX0JBTEFOQ0VEO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnRFeHByZXNzaW9uLnRleHQgKz0gY2g7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBTVEFURV9FU0NBUEVEX1BSRUZJWCkge1xuICAgICAgICBzdGF0ZSA9IFNUQVRFX0JPRFk7XG4gICAgICB9XG5cbiAgICAgIC8vIGlkZW50aWZpZXIgY2FuIHRlcm1pbmF0ZSBleHByZXNzaW9uIGluIDMgd2F5czpcbiAgICAgIC8vICAxLiBuZXh0IGNoYXIgaXMgbnVsbCAoaS5lLiBlbmQgb2YgdGhlIGlucHV0KVxuICAgICAgLy8gIDIuIG5leHQgY2hhciBpcyBub3QgYSB3b3JkIGNoYXJhY3RlciBvciBwZXJpb2RcbiAgICAgIC8vICAzLiBuZXh0IGNoYXIgaXMgYSBwZXJpb2QsIGJ1dCBpdCdzIG5vdCBmb2xsb3dlZCBieSBhIHdvcmQgY2hhcmFjdGVyXG4gICAgICBpZiAoc3RhdGUgPT09IFNUQVRFX0lERU5USUZJRVIpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICghaXNXb3JkQ2hhcihuZXh0Q2gpICYmIG5leHRDaCAhPT0gJy4nKSB8fFxuICAgICAgICAgIChuZXh0Q2ggPT09ICcuJyAmJiAhaXNXb3JkQ2hhcihuZXh0TmV4dENoKSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgY3VycmVudEV4cHJlc3Npb24uZW5kID0gcG9zICsgMTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoY3VycmVudEV4cHJlc3Npb24gIT0gbnVsbCAmJiAoY3VycmVudEV4cHJlc3Npb24uZW5kICE9IG51bGwgfHwgbmV4dENoID09PSAwKSkge1xuICAgICAgICBjb25zdCBhbGxvd0luY29tcGxldGUgPSBuZXh0Q2ggPT09IDA7IC8vIGlmIHdlJ3JlIGF0IHRoZSBlbmQgb2YgdGhlIGlucHV0LCBhbGxvdyBpbmNvbXBsZXRlIGV4cHJlc3Npb25zXG4gICAgICAgIGlmIChpc1ZhbGlkU3RhcnQoY3VycmVudEV4cHJlc3Npb24udGV4dCwgdGhpcy5hbGxvd2VkVG9wTGV2ZWxzLCBhbGxvd0luY29tcGxldGUpKSB7XG4gICAgICAgICAgY3VycmVudEV4cHJlc3Npb24uY2xvc2VkID0gY3VycmVudEV4cHJlc3Npb24udGV4dFsxXSA9PT0gJygnICYmIHBhcmVudGhlc2VzTGV2ZWwgPT09IDA7XG4gICAgICAgICAgY3VycmVudEV4cHJlc3Npb24uZW5kID0gcG9zICsgMTtcbiAgICAgICAgICBleHByZXNzaW9ucy5wdXNoKGN1cnJlbnRFeHByZXNzaW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGN1cnJlbnRFeHByZXNzaW9uID0gbnVsbDtcbiAgICAgICAgc3RhdGUgPSBTVEFURV9CT0RZO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBleHByZXNzaW9ucztcbiAgfVxufVxuIiwiaW1wb3J0IHsgQ29tcGxldGlvbk9wdGlvbiB9IGZyb20gJy4vQ29tcGxldGlvbic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGxldGlvblByb3BlcnR5IHtcbiAgICBrZXk6IHN0cmluZztcbiAgICBoZWxwOiBzdHJpbmc7XG4gICAgdHlwZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbXBsZXRpb25UeXBlIHtcbiAgICBuYW1lOiBzdHJpbmc7XG5cbiAgICBrZXlfc291cmNlPzogc3RyaW5nO1xuICAgIHByb3BlcnR5X3RlbXBsYXRlPzogQ29tcGxldGlvblByb3BlcnR5O1xuICAgIHByb3BlcnRpZXM/OiBDb21wbGV0aW9uUHJvcGVydHlbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb21wbGV0aW9uU2NoZW1hIHtcbiAgICB0eXBlczogQ29tcGxldGlvblR5cGVbXTtcbiAgICByb290OiBDb21wbGV0aW9uUHJvcGVydHlbXTtcbiAgICByb290X25vX3Nlc3Npb246IENvbXBsZXRpb25Qcm9wZXJ0eVtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBvc2l0aW9uIHtcbiAgICB0b3A6IG51bWJlcjtcbiAgICBsZWZ0OiBudW1iZXI7XG59XG5cbmV4cG9ydCB0eXBlIEtleWVkQXNzZXRzID0geyBbYXNzZXRUeXBlOiBzdHJpbmddOiBzdHJpbmdbXSB9O1xuXG5leHBvcnQgY29uc3QgZ2V0RnVuY3Rpb25zID0gKFxuICAgIGZ1bmN0aW9uczogQ29tcGxldGlvbk9wdGlvbltdLFxuICAgIHF1ZXJ5OiBzdHJpbmdcbik6IENvbXBsZXRpb25PcHRpb25bXSA9PiB7XG4gICAgaWYgKCFxdWVyeSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb25zO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb25zLmZpbHRlcigob3B0aW9uOiBDb21wbGV0aW9uT3B0aW9uKSA9PiB7XG4gICAgICAgIGlmIChvcHRpb24uc2lnbmF0dXJlKSB7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9uLnNpZ25hdHVyZS5pbmRleE9mKHF1ZXJ5KSA9PT0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIFRha2VzIGEgZG90IHF1ZXJ5IGFuZCByZXR1cm5zIHRoZSBjb21wbGV0aW9ucyBvcHRpb25zIGF0IHRoZSBjdXJyZW50IGxldmVsXG4gKiBAcGFyYW0gZG90UXVlcnkgcXVlcnkgc3VjaCBhcyBcImNvbnRhY3QuZmlyc3RfblwiXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRDb21wbGV0aW9ucyA9IChcbiAgICBzY2hlbWE6IENvbXBsZXRpb25TY2hlbWEsXG4gICAgZG90UXVlcnk6IHN0cmluZyxcbiAgICBrZXllZEFzc2V0czogS2V5ZWRBc3NldHMgPSB7fVxuKTogQ29tcGxldGlvbk9wdGlvbltdID0+IHtcbiAgICBjb25zdCBwYXJ0cyA9IChkb3RRdWVyeSB8fCAnJykuc3BsaXQoJy4nKTtcbiAgICBsZXQgY3VycmVudFByb3BzOiBDb21wbGV0aW9uUHJvcGVydHlbXSA9IHNjaGVtYS5yb290X25vX3Nlc3Npb247XG5cbiAgICBsZXQgcHJlZml4ID0gJyc7XG4gICAgbGV0IHBhcnQgPSAnJztcbiAgICB3aGlsZSAocGFydHMubGVuZ3RoID4gMCkge1xuICAgICAgICBwYXJ0ID0gcGFydHMuc2hpZnQoKTtcbiAgICAgICAgaWYgKHBhcnQpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgICAgY29uc3QgbmV4dFByb3AgPSBjdXJyZW50UHJvcHMuZmluZChcbiAgICAgICAgICAgICAgICAocHJvcDogQ29tcGxldGlvblByb3BlcnR5KSA9PiBwcm9wLmtleSA9PT0gcGFydFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChuZXh0UHJvcCkge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRUeXBlID0gc2NoZW1hLnR5cGVzLmZpbmQoXG4gICAgICAgICAgICAgICAgICAgICh0eXBlOiBDb21wbGV0aW9uVHlwZSkgPT4gdHlwZS5uYW1lID09PSBuZXh0UHJvcC50eXBlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBpZiAobmV4dFR5cGUgJiYgbmV4dFR5cGUucHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UHJvcHMgPSBuZXh0VHlwZS5wcm9wZXJ0aWVzO1xuICAgICAgICAgICAgICAgICAgICBwcmVmaXggKz0gcGFydCArICcuJztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5leHRUeXBlICYmIG5leHRUeXBlLnByb3BlcnR5X3RlbXBsYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHByZWZpeCArPSBwYXJ0ICsgJy4nO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IG5leHRUeXBlLnByb3BlcnR5X3RlbXBsYXRlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ZWRBc3NldHNbbmV4dFR5cGUubmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQcm9wcyA9IGtleWVkQXNzZXRzW25leHRUeXBlLm5hbWVdLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoa2V5OiBzdHJpbmcpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogdGVtcGxhdGUua2V5LnJlcGxhY2UoJ3trZXl9Jywga2V5KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVscDogdGVtcGxhdGUuaGVscC5yZXBsYWNlKCd7a2V5fScsIGtleSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHRlbXBsYXRlLnR5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQcm9wcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQcm9wcyA9IGN1cnJlbnRQcm9wcy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAocHJvcDogQ29tcGxldGlvblByb3BlcnR5KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3Aua2V5LnN0YXJ0c1dpdGgocGFydC50b0xvd2VyQ2FzZSgpKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgICAgICAgIGN1cnJlbnRQcm9wcyA9IGN1cnJlbnRQcm9wcy5maWx0ZXIoKHByb3A6IENvbXBsZXRpb25Qcm9wZXJ0eSkgPT5cbiAgICAgICAgICAgICAgICAgICAgcHJvcC5rZXkuc3RhcnRzV2l0aChwYXJ0LnRvTG93ZXJDYXNlKCkpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjdXJyZW50UHJvcHMubWFwKChwcm9wOiBDb21wbGV0aW9uUHJvcGVydHkpID0+IHtcbiAgICAgICAgY29uc3QgbmFtZSA9XG4gICAgICAgICAgICBwcm9wLmtleSA9PT0gJ19fZGVmYXVsdF9fJ1xuICAgICAgICAgICAgICAgID8gcHJlZml4LnN1YnN0cigwLCBwcmVmaXgubGVuZ3RoIC0gMSlcbiAgICAgICAgICAgICAgICA6IHByZWZpeCArIHByb3Aua2V5O1xuICAgICAgICByZXR1cm4geyBuYW1lLCBzdW1tYXJ5OiBwcm9wLmhlbHAgfTtcbiAgICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRPZmZzZXQgPSAoZWw6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgdmFyIHJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgc2Nyb2xsTGVmdCA9IHdpbmRvdy5wYWdlWE9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCxcbiAgICAgICAgc2Nyb2xsVG9wID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gICAgcmV0dXJuIHsgdG9wOiByZWN0LnRvcCArIHNjcm9sbFRvcCwgbGVmdDogcmVjdC5sZWZ0ICsgc2Nyb2xsTGVmdCB9O1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFZlcnRpY2FsU2Nyb2xsID0gKGVsZTogTm9kZSkgPT4ge1xuICAgIGxldCBjdXJyZW50ID0gZWxlO1xuICAgIGxldCB2ZXJ0aWNhbFNjcm9sbCA9IDA7XG4gICAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50Tm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIHZlcnRpY2FsU2Nyb2xsO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldENvbXBsZXRpb25OYW1lID0gKG9wdGlvbjogQ29tcGxldGlvbk9wdGlvbik6IHN0cmluZyA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgb3B0aW9uLm5hbWUgfHwgb3B0aW9uLnNpZ25hdHVyZS5zdWJzdHIoMCwgb3B0aW9uLnNpZ25hdHVyZS5pbmRleE9mKCcoJykpXG4gICAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDb21wbGV0aW9uU2lnbmF0dXJlID0gKG9wdGlvbjogQ29tcGxldGlvbk9wdGlvbik6IHN0cmluZyA9PiB7XG4gICAgcmV0dXJuIG9wdGlvbi5zaWduYXR1cmUuc3Vic3RyKG9wdGlvbi5zaWduYXR1cmUuaW5kZXhPZignKCcpKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbmltcG9ydCB7aXNQcmltaXRpdmV9IGZyb20gJy4uL2xpYi9wYXJ0cy5qcyc7XG5pbXBvcnQge2RpcmVjdGl2ZSwgTm9kZVBhcnQsIFBhcnR9IGZyb20gJy4uL2xpdC1odG1sLmpzJztcblxuaW50ZXJmYWNlIFByZXZpb3VzVmFsdWUge1xuICByZWFkb25seSB2YWx1ZTogdW5rbm93bjtcbiAgcmVhZG9ubHkgZnJhZ21lbnQ6IERvY3VtZW50RnJhZ21lbnQ7XG59XG5cbi8vIEZvciBlYWNoIHBhcnQsIHJlbWVtYmVyIHRoZSB2YWx1ZSB0aGF0IHdhcyBsYXN0IHJlbmRlcmVkIHRvIHRoZSBwYXJ0IGJ5IHRoZVxuLy8gdW5zYWZlSFRNTCBkaXJlY3RpdmUsIGFuZCB0aGUgRG9jdW1lbnRGcmFnbWVudCB0aGF0IHdhcyBsYXN0IHNldCBhcyBhIHZhbHVlLlxuLy8gVGhlIERvY3VtZW50RnJhZ21lbnQgaXMgdXNlZCBhcyBhIHVuaXF1ZSBrZXkgdG8gY2hlY2sgaWYgdGhlIGxhc3QgdmFsdWVcbi8vIHJlbmRlcmVkIHRvIHRoZSBwYXJ0IHdhcyB3aXRoIHVuc2FmZUhUTUwuIElmIG5vdCwgd2UnbGwgYWx3YXlzIHJlLXJlbmRlciB0aGVcbi8vIHZhbHVlIHBhc3NlZCB0byB1bnNhZmVIVE1MLlxuY29uc3QgcHJldmlvdXNWYWx1ZXMgPSBuZXcgV2Vha01hcDxOb2RlUGFydCwgUHJldmlvdXNWYWx1ZT4oKTtcblxuLyoqXG4gKiBSZW5kZXJzIHRoZSByZXN1bHQgYXMgSFRNTCwgcmF0aGVyIHRoYW4gdGV4dC5cbiAqXG4gKiBOb3RlLCB0aGlzIGlzIHVuc2FmZSB0byB1c2Ugd2l0aCBhbnkgdXNlci1wcm92aWRlZCBpbnB1dCB0aGF0IGhhc24ndCBiZWVuXG4gKiBzYW5pdGl6ZWQgb3IgZXNjYXBlZCwgYXMgaXQgbWF5IGxlYWQgdG8gY3Jvc3Mtc2l0ZS1zY3JpcHRpbmdcbiAqIHZ1bG5lcmFiaWxpdGllcy5cbiAqL1xuZXhwb3J0IGNvbnN0IHVuc2FmZUhUTUwgPSBkaXJlY3RpdmUoKHZhbHVlOiB1bmtub3duKSA9PiAocGFydDogUGFydCk6IHZvaWQgPT4ge1xuICBpZiAoIShwYXJ0IGluc3RhbmNlb2YgTm9kZVBhcnQpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1bnNhZmVIVE1MIGNhbiBvbmx5IGJlIHVzZWQgaW4gdGV4dCBiaW5kaW5ncycpO1xuICB9XG5cbiAgY29uc3QgcHJldmlvdXNWYWx1ZSA9IHByZXZpb3VzVmFsdWVzLmdldChwYXJ0KTtcblxuICBpZiAocHJldmlvdXNWYWx1ZSAhPT0gdW5kZWZpbmVkICYmIGlzUHJpbWl0aXZlKHZhbHVlKSAmJlxuICAgICAgdmFsdWUgPT09IHByZXZpb3VzVmFsdWUudmFsdWUgJiYgcGFydC52YWx1ZSA9PT0gcHJldmlvdXNWYWx1ZS5mcmFnbWVudCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbiAgdGVtcGxhdGUuaW5uZXJIVE1MID0gdmFsdWUgYXMgc3RyaW5nOyAgLy8gaW5uZXJIVE1MIGNhc3RzIHRvIHN0cmluZyBpbnRlcm5hbGx5XG4gIGNvbnN0IGZyYWdtZW50ID0gZG9jdW1lbnQuaW1wb3J0Tm9kZSh0ZW1wbGF0ZS5jb250ZW50LCB0cnVlKTtcbiAgcGFydC5zZXRWYWx1ZShmcmFnbWVudCk7XG4gIHByZXZpb3VzVmFsdWVzLnNldChwYXJ0LCB7dmFsdWUsIGZyYWdtZW50fSk7XG59KTtcbiIsImltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIFRlbXBsYXRlUmVzdWx0LCBodG1sLCBjc3MsIHByb3BlcnR5IH0gZnJvbSAnbGl0LWVsZW1lbnQnO1xuaW1wb3J0IFJhcGlkRWxlbWVudCwgeyBFdmVudEhhbmRsZXIgfSBmcm9tICcuLi9SYXBpZEVsZW1lbnQnO1xuaW1wb3J0IEV4Y2VsbGVudFBhcnNlciwgeyBFeHByZXNzaW9uIH0gZnJvbSAnLi9FeGNlbGxlbnRQYXJzZXInO1xuaW1wb3J0IFRleHRJbnB1dCBmcm9tICcuLi90ZXh0aW5wdXQvVGV4dElucHV0JztcbmltcG9ydCB7IGdldENvbXBsZXRpb25zLCBDb21wbGV0aW9uU2NoZW1hLCBnZXRGdW5jdGlvbnMsIFBvc2l0aW9uLCBLZXllZEFzc2V0cywgZ2V0VmVydGljYWxTY3JvbGwsIGdldE9mZnNldCB9IGZyb20gJy4vaGVscGVycyc7XG5pbXBvcnQgeyBnZXRVcmwsIGdldEFzc2V0cywgQXNzZXQgfSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgeyBBeGlvc1Jlc3BvbnNlIH0gZnJvbSAnYXhpb3MnO1xuaW1wb3J0IGdldENhcmV0Q29vcmRpbmF0ZXMgZnJvbSAndGV4dGFyZWEtY2FyZXQnO1xuaW1wb3J0IHsgZGlyZWN0aXZlLCBQYXJ0IH0gZnJvbSAnbGl0LWh0bWwnO1xuaW1wb3J0IHsgdW5zYWZlSFRNTCB9IGZyb20gJ2xpdC1odG1sL2RpcmVjdGl2ZXMvdW5zYWZlLWh0bWwuanMnO1xuaW1wb3J0IHsgc3R5bGVNYXAgfSBmcm9tICdsaXQtaHRtbC9kaXJlY3RpdmVzL3N0eWxlLW1hcC5qcyc7XG5cbmNvbnN0IG1hcmtlZCA9IHJlcXVpcmUoJ21hcmtlZCcpO1xuXG5leHBvcnQgaW50ZXJmYWNlIEZ1bmN0aW9uRXhhbXBsZSB7XG4gIHRlbXBsYXRlOiBzdHJpbmc7XG4gIG91dHB1dDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbXBsZXRpb25PcHRpb24ge1xuICBuYW1lPzogc3RyaW5nO1xuICBzdW1tYXJ5OiBzdHJpbmc7XG5cbiAgLy8gZnVuY3Rpb25zXG4gIHNpZ25hdHVyZT86IHN0cmluZztcbiAgZGV0YWlsPzogc3RyaW5nO1xuICBleGFtcGxlcz86IEZ1bmN0aW9uRXhhbXBsZVtdO1xufVxuXG5jb25zdCBtYXJrZWRSZW5kZXIgPSBkaXJlY3RpdmUoKGNvbnRlbnRzOiBzdHJpbmcpID0+IChwYXJ0OiBQYXJ0KSA9PiB7IFxuICBwYXJ0LnNldFZhbHVlKHVuc2FmZUhUTUwobWFya2VkKGNvbnRlbnRzKSkpXG59KTtcblxuXG4vKipcbiAqIENvbXBsZXRpb24gaXMgYSB0ZXh0IGlucHV0IHRoYXQgaGFuZGxlcyBleGNlbGxlbnQgY29tcGxldGlvbiBvcHRpb25zIGluIGEgcG9wdXBcbiAqL1xuQGN1c3RvbUVsZW1lbnQoXCJycC1jb21wbGV0aW9uXCIpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb21wbGV0aW9uIGV4dGVuZHMgUmFwaWRFbGVtZW50IHtcbiAgc3RhdGljIGdldCBzdHlsZXMoKSB7XG4gICAgcmV0dXJuIGNzc2BcbiAgICAgIFxuICAgICAgOmhvc3Qge1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIH1cblxuICAgICAgLmNvbXAtY29udGFpbmVyIHtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICB9XG5cbiAgICAgICNhbmNob3Ige1xuICAgICAgICAvKiBiYWNrZ3JvdW5kOiByZ2JhKDEzMiwgNDAsIDE1OCwgLjEpOyAqL1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcbiAgICAgICAgd2lkdGg6IDI1MHB4O1xuICAgICAgICBoZWlnaHQ6IDIwcHg7XG4gICAgICB9XG5cbiAgICAgIC5mbi1tYXJrZXIge1xuICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgZm9udC1zaXplOiA0MnB4O1xuICAgICAgfVxuXG4gICAgICAub3B0aW9uLXNsb3Qge1xuICAgICAgICBiYWNrZ3JvdW5kOiAjZmZmO1xuICAgICAgfVxuXG4gICAgICAuY3VycmVudC1mbiB7XG4gICAgICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgICAgIG1hcmdpbjogNXB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2xvci1wcmltYXJ5LWxpZ2h0KTtcbiAgICAgICAgY29sb3I6IHJnYmEoMCwgMCwgMCwgLjUpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1jdXJ2YXR1cmUpO1xuICAgICAgICBmb250LXNpemU6IDkwJTtcbiAgICAgIH1cblxuICAgICAgLmZvb3RlciB7XG4gICAgICAgIHBhZGRpbmc6IDVweCAxMHB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2xvci1wcmltYXJ5LWxpZ2h0KTtcbiAgICAgICAgY29sb3I6IHJnYmEoMCwgMCwgMCwgLjUpO1xuICAgICAgICBmb250LXNpemU6IDgwJTtcbiAgICAgIH1cblxuICAgICAgY29kZSB7XG4gICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsLjEpO1xuICAgICAgICBwYWRkaW5nOiAxcHggNXB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1jdXJ2YXR1cmUpO1xuICAgICAgfVxuICAgIGBcbiAgfVxuXG4gIHN0YXRpYyBwYXJzZXIgPSBuZXcgRXhjZWxsZW50UGFyc2VyKCdAJywgW1xuICAgICdjb250YWN0JyxcbiAgICAnZmllbGRzJyxcbiAgICAndXJucycsXG4gIF0pO1xuXG4gIC8qKiBSZW1vdGUgZGVzY3JpcHRpb24gb2Ygb3VyIGNvbXBsZXRpb24gc2NoZW1hICovICBcbiAgcHJpdmF0ZSBzY2hlbWE6IENvbXBsZXRpb25TY2hlbWE7XG5cbiAgLyoqIFJlbW90ZSBsaXN0IG9mIG91ciBmdW5jdGlvbiBvcHRpb25zICovXG4gIHByaXZhdGUgZnVuY3Rpb25zOiBDb21wbGV0aW9uT3B0aW9uW107XG5cbiAgcHJpdmF0ZSBrZXllZEFzc2V0czogS2V5ZWRBc3NldHM7XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogT2JqZWN0fSlcbiAgYW5jaG9yUG9zaXRpb246IFBvc2l0aW9uID0geyBsZWZ0OiAwLCB0b3A6IDB9O1xuXG4gIEBwcm9wZXJ0eSh7YXR0cmlidXRlOiBmYWxzZX0pXG4gIGN1cnJlbnRGdW5jdGlvbjogQ29tcGxldGlvbk9wdGlvbjtcblxuICBAcHJvcGVydHkoe3R5cGU6IFN0cmluZ30pXG4gIHBsYWNlaG9sZGVyOiBzdHJpbmcgPSBcIlwiO1xuXG4gIEBwcm9wZXJ0eSh7YXR0cmlidXRlOiBmYWxzZX0pXG4gIHRleHRJbnB1dEVsZW1lbnQ6IFRleHRJbnB1dDtcblxuICBAcHJvcGVydHkoe2F0dHJpYnV0ZTogZmFsc2V9KVxuICBhbmNob3JFbGVtZW50OiBIVE1MRGl2RWxlbWVudDtcblxuICBAcHJvcGVydHkoe3R5cGU6IEFycmF5fSlcbiAgb3B0aW9uczogYW55W10gPSBbXTtcblxuICBAcHJvcGVydHkoe3R5cGU6IFN0cmluZ30pXG4gIG5hbWU6IHN0cmluZyA9IFwiXCI7XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBTdHJpbmd9KVxuICB2YWx1ZTogc3RyaW5nID0gXCJcIjtcblxuICBAcHJvcGVydHkoe3R5cGU6IFN0cmluZ30pXG4gIGNvbXBsZXRpb25zRW5kcG9pbnQ6IHN0cmluZztcblxuICBAcHJvcGVydHkoe3R5cGU6IFN0cmluZ30pXG4gIGZ1bmN0aW9uc0VuZHBvaW50OiBzdHJpbmc7XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBTdHJpbmd9KVxuICBmaWVsZHNFbmRwb2ludDogc3RyaW5nO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogQm9vbGVhbn0pXG4gIHRleHRhcmVhOiBib29sZWFuO1xuXG4gIHByaXZhdGUgaGlkZGVuRWxlbWVudDogSFRNTElucHV0RWxlbWVudDtcbiAgcHJpdmF0ZSBpbnB1dEVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQ7XG4gIHByaXZhdGUgcXVlcnk6IHN0cmluZztcbiAgXG4gIHB1YmxpYyBmaXJzdFVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXM6IE1hcDxzdHJpbmcsIGFueT4pIHtcbiAgICB0aGlzLnRleHRJbnB1dEVsZW1lbnQgPSB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcihcInJwLXRleHRpbnB1dFwiKSBhcyBUZXh0SW5wdXQ7XG4gICAgdGhpcy5hbmNob3JFbGVtZW50ID0gdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoXCIjYW5jaG9yXCIpO1xuXG4gICAgLy8gVE9ETzogZmV0Y2ggdGhlc2Ugb25jZSBwZXIgcGFnZSwgbm90IG9uY2UgcGVyIGNvbnRyb2xcbiAgICBpZiAodGhpcy5jb21wbGV0aW9uc0VuZHBvaW50KSB7XG4gICAgICBnZXRVcmwodGhpcy5jb21wbGV0aW9uc0VuZHBvaW50KS50aGVuKChyZXNwb25zZTogQXhpb3NSZXNwb25zZSkgPT4ge1xuICAgICAgICB0aGlzLnNjaGVtYSA9IHJlc3BvbnNlLmRhdGEgYXMgQ29tcGxldGlvblNjaGVtYTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmZ1bmN0aW9uc0VuZHBvaW50KSB7XG4gICAgICBnZXRVcmwodGhpcy5mdW5jdGlvbnNFbmRwb2ludCkudGhlbigocmVzcG9uc2U6IEF4aW9zUmVzcG9uc2UpID0+IHtcbiAgICAgICAgdGhpcy5mdW5jdGlvbnMgPSByZXNwb25zZS5kYXRhIGFzIENvbXBsZXRpb25PcHRpb25bXTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmZpZWxkc0VuZHBvaW50KSB7XG4gICAgICBnZXRBc3NldHModGhpcy5maWVsZHNFbmRwb2ludCkudGhlbigoYXNzZXRzOiBBc3NldFtdKT0+e1xuICAgICAgICB0aGlzLmtleWVkQXNzZXRzID0geyBmaWVsZHM6IGFzc2V0cy5tYXAoKGFzc2V0OiBBc3NldCk9PiBhc3NldC5rZXkgKSB9XG4gICAgICB9KTsgICAgICBcbiAgICB9XG5cbiAgICAvLyBjcmVhdGUgb3VyIGhpZGRlbiBjb250YWluZXIgc28gaXQgZ2V0cyBpbmNsdWRlZCBpbiBvdXIgaG9zdCBlbGVtZW50J3MgZm9ybVxuICAgIHRoaXMuaGlkZGVuRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICB0aGlzLmhpZGRlbkVsZW1lbnQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImhpZGRlblwiKTtcbiAgICB0aGlzLmhpZGRlbkVsZW1lbnQuc2V0QXR0cmlidXRlKFwibmFtZVwiLCB0aGlzLmdldEF0dHJpYnV0ZShcIm5hbWVcIikpO1xuICAgIHRoaXMuaGlkZGVuRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCB0aGlzLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpIHx8IFwiXCIpO1xuICAgIHRoaXMuYXBwZW5kQ2hpbGQodGhpcy5oaWRkZW5FbGVtZW50KTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlS2V5VXAoZXZ0OiBLZXlib2FyZEV2ZW50KSB7XG5cbiAgICAvLyBpZiB3ZSBoYXZlIG9wdGlvbnMsIGlnbm9yZSBrZXlzIHRoYXQgYXJlIG1lYW50IGZvciB0aGVtXG4gICAgaWYgKHRoaXMub3B0aW9ucy5sZW5ndGggPiAwKSB7XG5cbiAgICAgIGlmKGV2dC5rZXkgPT09IFwiQXJyb3dVcFwiIHx8IGV2dC5rZXkgPT09IFwiQXJyb3dEb3duXCIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXZ0LmN0cmxLZXkpIHtcbiAgICAgICAgaWYgKGV2dC5rZXkgPT09IFwiblwiIHx8IGV2dC5rZXkgPT09IFwicFwiKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmKGV2dC5rZXkgPT09IFwiRW50ZXJcIiB8fCBldnQua2V5ID09PSBcIkVzY2FwZVwiIHx8IGV2dC5rZXkgPT09IFwiVGFiXCIgfHwgZXZ0LmtleS5zdGFydHNXaXRoKFwiQ29udHJvbFwiKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZXhlY3V0ZVF1ZXJ5KGV2dC5jdXJyZW50VGFyZ2V0IGFzIFRleHRJbnB1dCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVDbGljayhldnQ6IE1vdXNlRXZlbnQpIHtcbiAgICB0aGlzLmV4ZWN1dGVRdWVyeShldnQuY3VycmVudFRhcmdldCBhcyBUZXh0SW5wdXQpXG4gIH1cblxuICAvKipcbiAgICogaGFuZGxlIHRoZSB1c2VyIG1vdmluZyB0aGUgY2FyZXQgdG8gYSBuZXcgbG9jYXRpb25cbiAgICovXG4gIHByaXZhdGUgZXhlY3V0ZVF1ZXJ5KGVsZTogVGV4dElucHV0KSB7XG4gICAgdGhpcy5pbnB1dEVsZW1lbnQgPSBlbGUuaW5wdXRFbGVtZW50O1xuICAgIHRoaXMuY3VycmVudEZ1bmN0aW9uID0gbnVsbDtcblxuICAgIGlmICh0aGlzLnNjaGVtYSkge1xuICAgICAgY29uc3QgY3Vyc29yID0gZWxlLmlucHV0RWxlbWVudC5zZWxlY3Rpb25TdGFydDtcbiAgICAgIGNvbnN0IGlucHV0ID0gZWxlLmlucHV0RWxlbWVudC52YWx1ZS5zdWJzdHJpbmcoMCwgY3Vyc29yKTtcbiAgICAgIGNvbnN0IGV4cHJlc3Npb25zID0gQ29tcGxldGlvbi5wYXJzZXIuZmluZEV4cHJlc3Npb25zKGlucHV0KTtcbiAgICAgIGNvbnN0IGN1cnJlbnRFeHByZXNzaW9uID0gZXhwcmVzc2lvbnMuZmluZCgoZXhwcjogRXhwcmVzc2lvbik9PmV4cHIuc3RhcnQgPD0gY3Vyc29yICYmIChleHByLmVuZCA+IGN1cnNvciB8fCBleHByLmVuZCA9PT0gY3Vyc29yICYmICFleHByLmNsb3NlZCkpO1xuXG4gICAgICBpZiAoY3VycmVudEV4cHJlc3Npb24pIHtcbiAgICAgICAgY29uc3QgaW5jbHVkZUZ1bmN0aW9ucyA9IGN1cnJlbnRFeHByZXNzaW9uLnRleHQuaW5kZXhPZignKCcpID4gLTE7XG4gICAgICAgIGlmIChpbmNsdWRlRnVuY3Rpb25zKSB7XG4gICAgICAgICAgY29uc3QgZnVuY3Rpb25RdWVyeSA9IENvbXBsZXRpb24ucGFyc2VyLmZ1bmN0aW9uQ29udGV4dChjdXJyZW50RXhwcmVzc2lvbi50ZXh0KTtcbiAgICAgICAgICBpZiAoZnVuY3Rpb25RdWVyeSkge1xuICAgICAgICAgICAgY29uc3QgZm5zID0gZ2V0RnVuY3Rpb25zKHRoaXMuZnVuY3Rpb25zLCBmdW5jdGlvblF1ZXJ5KTtcbiAgICAgICAgICAgIGlmIChmbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRGdW5jdGlvbiA9IGZuc1swXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIFxuICAgICAgICBmb3IgKGxldCBpID0gY3VycmVudEV4cHJlc3Npb24udGV4dC5sZW5ndGg7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgY29uc3QgY3VyciA9IGN1cnJlbnRFeHByZXNzaW9uLnRleHRbaV07XG4gICAgICAgICAgaWYgKGN1cnIgPT09ICdAJyB8fCBjdXJyID09PSAnKCcgfHwgY3VyciA9PT0gJyAnIHx8IGN1cnIgPT09ICcsJyB8fCBjdXJyID09PSAnKScgfHwgaSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gZG9uJ3QgaW5jbHVkZSBub24tZXhwcmVzc2lvbiBjaGFyc1xuICAgICAgICAgICAgaWYgKGN1cnIgPT09ICcoJyB8fCBjdXJyID09PSAnICcgfHwgY3VyciA9PT0gJywnIHx8IGN1cnIgPT09ICcpJyB8fCBjdXJyID09PSAnQCcpIHtcbiAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgY2FyZXQgPSBnZXRDYXJldENvb3JkaW5hdGVzKGVsZS5pbnB1dEVsZW1lbnQsIGN1cnJlbnRFeHByZXNzaW9uLnN0YXJ0ICsgaSk7XG4gICAgICAgICAgICB0aGlzLmFuY2hvclBvc2l0aW9uID0ge1xuICAgICAgICAgICAgICAgbGVmdDogY2FyZXQubGVmdCAtIDIgLSB0aGlzLmlucHV0RWxlbWVudC5zY3JvbGxMZWZ0LFxuICAgICAgICAgICAgICAgdG9wOiBjYXJldC50b3AgLSB0aGlzLmlucHV0RWxlbWVudC5zY3JvbGxUb3BcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5xdWVyeSA9IGN1cnJlbnRFeHByZXNzaW9uLnRleHQuc3Vic3RyKGksIGN1cnJlbnRFeHByZXNzaW9uLnRleHQubGVuZ3RoIC0gaSk7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBbXG4gICAgICAgICAgICAgIC4uLmdldENvbXBsZXRpb25zKHRoaXMuc2NoZW1hLCB0aGlzLnF1ZXJ5LCB0aGlzLmtleWVkQXNzZXRzKSxcbiAgICAgICAgICAgICAgLi4uKGluY2x1ZGVGdW5jdGlvbnMgPyBnZXRGdW5jdGlvbnModGhpcy5mdW5jdGlvbnMsIHRoaXMucXVlcnkpIDogW10pXG4gICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5xdWVyeSA9IFwiXCI7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIFxuICBwdWJsaWMgdXBkYXRlZChjaGFuZ2VkUHJvcGVydGllczogTWFwPHN0cmluZywgYW55Pikge1xuICAgIHN1cGVyLnVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXMpO1xuXG4gICAgLy8gaWYgb3VyIGN1cnNvciBjaGFuZ2VkLCBsZXRzIG1ha2Ugc3VyZSBvdXIgc2Nyb2xsYm94IGlzIHNob3dpbmcgaXRcbiAgICBpZihjaGFuZ2VkUHJvcGVydGllcy5oYXMoXCJ2YWx1ZVwiKSkge1xuICAgICAgdGhpcy5oaWRkZW5FbGVtZW50LnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIHRoaXMudmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlSW5wdXQoZXZ0OiBLZXlib2FyZEV2ZW50KSB7XG4gICAgY29uc3QgZWxlID0gZXZ0LmN1cnJlbnRUYXJnZXQgYXMgVGV4dElucHV0O1xuICAgIHRoaXMuZXhlY3V0ZVF1ZXJ5KGVsZSk7XG4gICAgdGhpcy52YWx1ZSA9IGVsZS5pbnB1dEVsZW1lbnQudmFsdWU7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZU9wdGlvbkNhbmNlbGVkKGV2dDogQ3VzdG9tRXZlbnQpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBbXTtcbiAgICB0aGlzLnF1ZXJ5ID0gXCJcIjtcbiAgfVxuICBcbiAgcHJpdmF0ZSBoYW5kbGVPcHRpb25TZWxlY3Rpb24oZXZ0OiBDdXN0b21FdmVudCkge1xuICAgIGNvbnN0IG9wdGlvbiA9IGV2dC5kZXRhaWwuc2VsZWN0ZWQgYXMgQ29tcGxldGlvbk9wdGlvbjtcbiAgICBjb25zdCB0YWJiZWQgPSBldnQuZGV0YWlsLnRhYmJlZDtcblxuICAgIGxldCBpbnNlcnRUZXh0ID0gXCJcIjtcbiAgICBcbiAgICBpZiAob3B0aW9uLnNpZ25hdHVyZSkge1xuICAgICAgLy8gdGhleSBzZWxlY3RlZCBhIGZ1bmN0aW9uXG4gICAgICBpbnNlcnRUZXh0ID0gb3B0aW9uLnNpZ25hdHVyZS5zdWJzdHIoMCwgb3B0aW9uLnNpZ25hdHVyZS5pbmRleE9mKFwiKFwiKSArIDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnNlcnRUZXh0ID0gb3B0aW9uLm5hbWU7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaW5wdXRFbGVtZW50KSB7XG4gICAgICBsZXQgdmFsdWUgPSB0aGlzLmlucHV0RWxlbWVudC52YWx1ZTtcbiAgICAgIGNvbnN0IGluc2VydGlvblBvaW50ID0gdGhpcy5pbnB1dEVsZW1lbnQuc2VsZWN0aW9uU3RhcnQgLSB0aGlzLnF1ZXJ5Lmxlbmd0aDtcbiAgICAgIFxuICAgICAgLy8gc3RyaXAgb3V0IG91ciBxdWVyeVxuICAgICAgLy8gY29uc3QgaW5zZXJ0aW9uUG9pbnQgPSB2YWx1ZS5sYXN0SW5kZXhPZih2YWx1ZS5zdWJzdHJpbmcoMCwgdGhpcy5pbnB1dEVsZW1lbnQuc2VsZWN0aW9uU3RhcnQpKTtcbiAgICAgIGNvbnN0IGxlZnRTaWRlID0gdmFsdWUuc3Vic3RyKDAsIGluc2VydGlvblBvaW50KTtcbiAgICAgIGNvbnN0IHJlbWFpbmluZyA9IHZhbHVlLnN1YnN0cihpbnNlcnRpb25Qb2ludCArIHRoaXMucXVlcnkubGVuZ3RoKTtcbiAgICAgIGNvbnN0IGNhcmV0ID0gbGVmdFNpZGUubGVuZ3RoICsgaW5zZXJ0VGV4dC5sZW5ndGg7XG5cbiAgICAgIC8vIHNldCBvdXIgdmFsdWUgYW5kIG91ciBuZXcgY2FyZXRcbiAgICAgIHRoaXMuaW5wdXRFbGVtZW50LnZhbHVlID0gbGVmdFNpZGUgKyBpbnNlcnRUZXh0ICsgcmVtYWluaW5nO1xuICAgICAgdGhpcy5pbnB1dEVsZW1lbnQuc2V0U2VsZWN0aW9uUmFuZ2UoY2FyZXQsIGNhcmV0KTtcblxuICAgICAgLy8gbm93IHNjcm9sbCBvdXIgdGV4dCBib3ggaWYgbmVjZXNzYXJ5XG4gICAgICBjb25zdCBwb3NpdGlvbiA9IGdldENhcmV0Q29vcmRpbmF0ZXModGhpcy5pbnB1dEVsZW1lbnQsIGNhcmV0KTtcbiAgICAgIGlmIChwb3NpdGlvbi5sZWZ0ID4gdGhpcy5pbnB1dEVsZW1lbnQud2lkdGgpIHtcbiAgICAgICAgdGhpcy5pbnB1dEVsZW1lbnQuc2Nyb2xsTGVmdCA9IHBvc2l0aW9uLmxlZnQ7XG4gICAgICB9XG5cbiAgICB9XG5cbiAgICB0aGlzLnF1ZXJ5ID0gXCJcIjtcbiAgICB0aGlzLm9wdGlvbnMgPSBbXTtcbiAgICBcbiAgICBpZiAodGFiYmVkKSB7XG4gICAgICB0aGlzLmV4ZWN1dGVRdWVyeSh0aGlzLnRleHRJbnB1dEVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyQ29tcGxldGlvbk9wdGlvbihvcHRpb246IENvbXBsZXRpb25PcHRpb24sIHNlbGVjdGVkOiBib29sZWFuKSB7XG4gICAgaWYob3B0aW9uLnNpZ25hdHVyZSkge1xuXG4gICAgICBjb25zdCBhcmdTdGFydCA9IG9wdGlvbi5zaWduYXR1cmUuaW5kZXhPZihcIihcIilcbiAgICAgIGNvbnN0IG5hbWUgPSBvcHRpb24uc2lnbmF0dXJlLnN1YnN0cigwLCBhcmdTdGFydCk7XG4gICAgICBjb25zdCBhcmdzID0gb3B0aW9uLnNpZ25hdHVyZS5zdWJzdHIoYXJnU3RhcnQpO1xuXG4gICAgICByZXR1cm4gaHRtbGBcbiAgICAgICAgPGRpdiBzdHlsZT1cIiR7c2VsZWN0ZWQgPyAnZm9udC13ZWlnaHQ6IDQwMCcgOiAnJ31cIj5cbiAgICAgICAgICA8ZGl2IHN0eWxlPVwiZGlzcGxheTppbmxpbmUtYmxvY2s7XCI+xpI8L2Rpdj5cbiAgICAgICAgICA8ZGl2IHN0eWxlPVwiZGlzcGxheTppbmxpbmUtYmxvY2tcIj4ke25hbWV9PC9kaXY+XG4gICAgICAgICAgJHtzZWxlY3RlZCA/IGh0bWxgXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPVwiZGlzcGxheTppbmxpbmUtYmxvY2s7IGZvbnQtd2VpZ2h0OiAzMDA7IGZvbnQtc2l6ZTogODUlXCI+JHthcmdzfTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRldGFpbFwiPiR7bWFya2VkUmVuZGVyKG9wdGlvbi5zdW1tYXJ5KX08L2Rpdj5cbiAgICAgICAgICBgIDogbnVsbH1cbiAgICAgICAgPC9kaXY+YDtcbiAgICAgIH1cblxuICAgIHJldHVybiBodG1sYFxuICAgIDxkaXY+XG4gICAgICA8ZGl2IHN0eWxlPVwiJHtzZWxlY3RlZCA/ICdmb250LXdlaWdodDogNDAwJyA6ICcnfVwiPiR7b3B0aW9uLm5hbWV9PC9kaXY+XG4gICAgICAke3NlbGVjdGVkID8gaHRtbGA8ZGl2IHN0eWxlPVwiZm9udC1zaXplOiA4NSVcIj4ke29wdGlvbi5zdW1tYXJ5fTwvZGl2PmAgOiBudWxsfVxuICAgIDwvZGl2PmBcbiAgfVxuXG4gIHB1YmxpYyByZW5kZXIoKTogVGVtcGxhdGVSZXN1bHQge1xuXG4gICAgY29uc3QgYW5jaG9yU3R5bGVzID0geyBcbiAgICAgIHRvcDogYCR7dGhpcy5hbmNob3JQb3NpdGlvbi50b3B9cHhgLFxuICAgICAgbGVmdDogYCR7dGhpcy5hbmNob3JQb3NpdGlvbi5sZWZ0fXB4YFxuICAgIH1cblxuICAgIHJldHVybiBodG1sYFxuICAgICAgPGRpdiBjbGFzcz1cImNvbXAtY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgaWQ9XCJhbmNob3JcIiBzdHlsZT0ke3N0eWxlTWFwKGFuY2hvclN0eWxlcyl9PjwvZGl2PiBcbiAgICAgICAgPHJwLXRleHRpbnB1dCBcbiAgICAgICAgICBuYW1lPSR7dGhpcy5uYW1lfVxuICAgICAgICAgIHBsYWNlaG9sZGVyPSR7dGhpcy5wbGFjZWhvbGRlcn1cbiAgICAgICAgICBAa2V5dXA9JHt0aGlzLmhhbmRsZUtleVVwfVxuICAgICAgICAgIEBjbGljaz0ke3RoaXMuaGFuZGxlQ2xpY2t9XG4gICAgICAgICAgQGlucHV0PSR7dGhpcy5oYW5kbGVJbnB1dH1cbiAgICAgICAgICAudmFsdWU9JHt0aGlzLnZhbHVlfVxuICAgICAgICAgID90ZXh0YXJlYT0ke3RoaXMudGV4dGFyZWF9XG4gICAgICAgICAgPlxuICAgICAgICA8L3JwLXRleHRpbnB1dD5cbiAgICAgICAgPHJwLW9wdGlvbnNcbiAgICAgICAgICBAcnAtc2VsZWN0aW9uPSR7dGhpcy5oYW5kbGVPcHRpb25TZWxlY3Rpb259XG4gICAgICAgICAgQHJwLWNhbmNlbGVkPSR7dGhpcy5oYW5kbGVPcHRpb25DYW5jZWxlZH1cbiAgICAgICAgICAuYW5jaG9yVG89JHt0aGlzLmFuY2hvckVsZW1lbnR9XG4gICAgICAgICAgLm9wdGlvbnM9JHt0aGlzLm9wdGlvbnN9XG4gICAgICAgICAgLnJlbmRlck9wdGlvbj0ke3RoaXMucmVuZGVyQ29tcGxldGlvbk9wdGlvbn1cbiAgICAgICAgICA/dmlzaWJsZT0ke3RoaXMub3B0aW9ucy5sZW5ndGggPiAwfVxuICAgICAgICA+XG4gICAgICAgICAgJHt0aGlzLmN1cnJlbnRGdW5jdGlvbiA/IGh0bWxgPGRpdiBjbGFzcz1cImN1cnJlbnQtZm5cIj4ke3RoaXMucmVuZGVyQ29tcGxldGlvbk9wdGlvbih0aGlzLmN1cnJlbnRGdW5jdGlvbiwgdHJ1ZSl9PC9kaXY+YDogbnVsbH1cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9vdGVyXCI+VGFiIHRvIGNvbXBsZXRlLCBlbnRlciB0byBzZWxlY3Q8L2Rpdj5cbiAgICAgICAgPC9ycC1vcHRpb25zPlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgfVxufSJdLCJzb3VyY2VSb290IjoiIn0=