!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["rp-components"]=t():e["rp-components"]=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=10)}([function(e,t,n){"use strict";var r=n(5),i=n(12),o=Object.prototype.toString;function s(e){return"[object Array]"===o.call(e)}function a(e){return null!==e&&"object"==typeof e}function l(e){return"[object Function]"===o.call(e)}function c(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),s(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:i,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:l,isStream:function(e){return a(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,i=arguments.length;r<i;r++)c(arguments[r],n);return t},extend:function(e,t,n){return c(t,function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){e.exports=n(11)},function(e,t,n){"use strict";(function(t){var r=n(0),i=n(15),o={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,l={adapter:("undefined"!=typeof XMLHttpRequest?a=n(6):void 0!==t&&(a=n(6)),a),transformRequest:[function(e,t){return i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};l.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],function(e){l.headers[e]={}}),r.forEach(["post","put","patch"],function(e){l.headers[e]=r.merge(o)}),e.exports=l}).call(this,n(14))},function(e,t,n){var r,i,o;i=[e,t],void 0===(o="function"==typeof(r=function(e,t){"use strict";var n,r,i="function"==typeof Map?new Map:(n=[],r=[],{has:function(e){return n.indexOf(e)>-1},get:function(e){return r[n.indexOf(e)]},set:function(e,t){-1===n.indexOf(e)&&(n.push(e),r.push(t))},delete:function(e){var t=n.indexOf(e);t>-1&&(n.splice(t,1),r.splice(t,1))}}),o=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){o=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function s(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!i.has(e)){var t=null,n=null,r=null,s=function(){e.clientWidth!==n&&p()},a=function(t){window.removeEventListener("resize",s,!1),e.removeEventListener("input",p,!1),e.removeEventListener("keyup",p,!1),e.removeEventListener("autosize:destroy",a,!1),e.removeEventListener("autosize:update",p,!1),Object.keys(t).forEach(function(n){e.style[n]=t[n]}),i.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",a,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",p,!1),window.addEventListener("resize",s,!1),e.addEventListener("input",p,!1),e.addEventListener("autosize:update",p,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",i.set(e,{destroy:a,update:p}),"vertical"===(l=window.getComputedStyle(e,null)).resize?e.style.resize="none":"both"===l.resize&&(e.style.resize="horizontal"),t="content-box"===l.boxSizing?-(parseFloat(l.paddingTop)+parseFloat(l.paddingBottom)):parseFloat(l.borderTopWidth)+parseFloat(l.borderBottomWidth),isNaN(t)&&(t=0),p()}var l;function c(t){var n=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=n,e.style.overflowY=t}function u(){if(0!==e.scrollHeight){var r=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),i=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+t+"px",n=e.clientWidth,r.forEach(function(e){e.node.scrollTop=e.scrollTop}),i&&(document.documentElement.scrollTop=i)}}function p(){u();var t=Math.round(parseFloat(e.style.height)),n=window.getComputedStyle(e,null),i="content-box"===n.boxSizing?Math.round(parseFloat(n.height)):e.offsetHeight;if(i<t?"hidden"===n.overflowY&&(c("scroll"),u(),i="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==n.overflowY&&(c("hidden"),u(),i="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),r!==i){r=i;var s=o("autosize:resized");try{e.dispatchEvent(s)}catch(e){}}}}function a(e){var t=i.get(e);t&&t.destroy()}function l(e){var t=i.get(e);t&&t.update()}var c=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((c=function(e){return e}).destroy=function(e){return e},c.update=function(e){return e}):((c=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return s(e)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],a),e},c.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],l),e}),t.default=c,e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){!function(){var t=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],n="undefined"!=typeof window,r=n&&null!=window.mozInnerScreenX;function i(e,i,o){if(!n)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var s=o&&o.debug||!1;if(s){var a=document.querySelector("#input-textarea-caret-position-mirror-div");a&&a.parentNode.removeChild(a)}var l=document.createElement("div");l.id="input-textarea-caret-position-mirror-div",document.body.appendChild(l);var c=l.style,u=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,p="INPUT"===e.nodeName;c.whiteSpace="pre-wrap",p||(c.wordWrap="break-word"),c.position="absolute",s||(c.visibility="hidden"),t.forEach(function(e){p&&"lineHeight"===e?c.lineHeight=u.height:c[e]=u[e]}),r?e.scrollHeight>parseInt(u.height)&&(c.overflowY="scroll"):c.overflow="hidden",l.textContent=e.value.substring(0,i),p&&(l.textContent=l.textContent.replace(/\s/g," "));var h=document.createElement("span");h.textContent=e.value.substring(i)||".",l.appendChild(h);var d={top:h.offsetTop+parseInt(u.borderTopWidth),left:h.offsetLeft+parseInt(u.borderLeftWidth),height:parseInt(u.lineHeight)};return s?h.style.backgroundColor="#aaa":document.body.removeChild(l),d}void 0!==e.exports?e.exports=i:n&&(window.getCaretCoordinates=i)}()},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(0),i=n(16),o=n(18),s=n(19),a=n(20),l=n(7),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(21);e.exports=function(e){return new Promise(function(t,u){var p=e.data,h=e.headers;r.isFormData(p)&&delete h["Content-Type"];var d=new XMLHttpRequest,f="onreadystatechange",g=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in d||a(e.url)||(d=new window.XDomainRequest,f="onload",g=!0,d.onprogress=function(){},d.ontimeout=function(){}),e.auth){var m=e.auth.username||"",y=e.auth.password||"";h.Authorization="Basic "+c(m+":"+y)}if(d.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d[f]=function(){if(d&&(4===d.readyState||g)&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?s(d.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:n,config:e,request:d};i(t,u,r),d=null}},d.onerror=function(){u(l("Network Error",e,null,d)),d=null},d.ontimeout=function(){u(l("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var v=n(22),b=(e.withCredentials||a(e.url))&&e.xsrfCookieName?v.read(e.xsrfCookieName):void 0;b&&(h[e.xsrfHeaderName]=b)}if("setRequestHeader"in d&&r.forEach(h,function(e,t){void 0===p&&"content-type"===t.toLowerCase()?delete h[t]:d.setRequestHeader(t,e)}),e.withCredentials&&(d.withCredentials=!0),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){d&&(d.abort(),u(e),d=null)}),void 0===p&&(p=null),d.send(p)})}},function(e,t,n){"use strict";var r=n(17);e.exports=function(e,t,n,i,o){var s=new Error(e);return r(s,t,n,i,o)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){e.exports=n(32)},function(e,t,n){"use strict";var r=n(0),i=n(5),o=n(13),s=n(2);function a(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var l=a(s);l.Axios=o,l.create=function(e){return a(r.merge(s,e))},l.Cancel=n(9),l.CancelToken=n(28),l.isCancel=n(8),l.all=function(e){return Promise.all(e)},l.spread=n(29),e.exports=l,e.exports.default=l},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(23),s=n(24);function a(e){this.defaults=e,this.interceptors={request:new o,response:new o}}a.prototype.request=function(e){"string"==typeof e&&(e=i.merge({url:arguments[0]},arguments[1])),(e=i.merge(r,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[s,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},i.forEach(["delete","get","head","options"],function(e){a.prototype[e]=function(t,n){return this.request(i.merge(n||{},{method:e,url:t}))}}),i.forEach(["post","put","patch"],function(e){a.prototype[e]=function(t,n,r){return this.request(i.merge(r||{},{method:e,url:t,data:n}))}}),e.exports=a},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var l,c=[],u=!1,p=-1;function h(){u&&l&&(u=!1,l.length?c=l.concat(c):p=-1,c.length&&d())}function d(){if(!u){var e=a(h);u=!0;for(var t=c.length;t;){for(l=c,c=[];++p<t;)l&&l[p].run();p=-1,t=c.length}l=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||u||a(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){"use strict";var r=n(7);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e}},function(e,t,n){"use strict";var r=n(0);function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var s=[];r.forEach(t,function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))}))}),o=s.join("&")}return o&&(e+=(-1===e.indexOf("?")?"?":"&")+o),e}},function(e,t,n){"use strict";var r=n(0),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,s={};return e?(r.forEach(e.split("\n"),function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}}),s):s}},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function i(){this.message="String contains an invalid character"}i.prototype=new Error,i.prototype.code=5,i.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,n,o=String(e),s="",a=0,l=r;o.charAt(0|a)||(l="=",a%1);s+=l.charAt(63&t>>8-a%1*8)){if((n=o.charCodeAt(a+=.75))>255)throw new i;t=t<<8|n}return s}},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(0);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=i},function(e,t,n){"use strict";var r=n(0),i=n(25),o=n(8),s=n(2),a=n(26),l=n(27);function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.baseURL&&!a(e.url)&&(e.url=l(e.baseURL,e.url)),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||s.adapter)(e).then(function(t){return c(e),t.data=i(t.data,t.headers,e.transformResponse),t},function(t){return o(t)||(c(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(9);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i(function(t){e=t}),cancel:e}},e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){(function(t){!function(t){"use strict";var n={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}|~{3,})([^`~\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:m,table:m,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/};function r(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||k.defaults,this.rules=n.normal,this.options.pedantic?this.rules=n.pedantic:this.options.gfm&&(this.rules=n.gfm)}n._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,n._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,n.def=h(n.def).replace("label",n._label).replace("title",n._title).getRegex(),n.bullet=/(?:[*+-]|\d{1,9}\.)/,n.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,n.item=h(n.item,"gm").replace(/bull/g,n.bullet).getRegex(),n.list=h(n.list).replace(/bull/g,n.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+n.def.source+")").getRegex(),n._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",n._comment=/<!--(?!-?>)[\s\S]*?-->/,n.html=h(n.html,"i").replace("comment",n._comment).replace("tag",n._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),n.paragraph=h(n._paragraph).replace("hr",n.hr).replace("heading"," {0,3}#{1,6} +").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}|~{3,})[^`\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",n._tag).getRegex(),n.blockquote=h(n.blockquote).replace("paragraph",n.paragraph).getRegex(),n.normal=y({},n),n.gfm=y({},n.normal,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),n.pedantic=y({},n.normal,{html:h("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",n._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:m,paragraph:h(n.normal._paragraph).replace("hr",n.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",n.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()}),r.rules=n,r.lex=function(e,t){return new r(t).lex(e)},r.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},r.prototype.token=function(e,t){var r,i,o,s,a,l,c,p,h,d,f,g,m,y,x,w;for(e=e.replace(/^ +$/gm,"");e;)if((o=this.rules.newline.exec(e))&&(e=e.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(e)){var k=this.tokens[this.tokens.length-1];e=e.substring(o[0].length),k&&"paragraph"===k.type?k.text+="\n"+o[0].trimRight():(o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",codeBlockStyle:"indented",text:this.options.pedantic?o:b(o,"\n")}))}else if(o=this.rules.fences.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"code",lang:o[2]?o[2].trim():o[2],text:o[3]||""});else if(o=this.rules.heading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if((o=this.rules.nptable.exec(e))&&(l={type:"table",header:v(o[1].replace(/^ *| *\| *$/g,"")),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3]?o[3].replace(/\n$/,"").split("\n"):[]}).header.length===l.align.length){for(e=e.substring(o[0].length),f=0;f<l.align.length;f++)/^ *-+: *$/.test(l.align[f])?l.align[f]="right":/^ *:-+: *$/.test(l.align[f])?l.align[f]="center":/^ *:-+ *$/.test(l.align[f])?l.align[f]="left":l.align[f]=null;for(f=0;f<l.cells.length;f++)l.cells[f]=v(l.cells[f],l.header.length);this.tokens.push(l)}else if(o=this.rules.hr.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,t),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(e)){for(e=e.substring(o[0].length),c={type:"list_start",ordered:y=(s=o[2]).length>1,start:y?+s:"",loose:!1},this.tokens.push(c),p=[],r=!1,m=(o=o[0].match(this.rules.item)).length,f=0;f<m;f++)d=(l=o[f]).length,~(l=l.replace(/^ *([*+-]|\d+\.) */,"")).indexOf("\n ")&&(d-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+d+"}","gm"),"")),f!==m-1&&(a=n.bullet.exec(o[f+1])[0],(s.length>1?1===a.length:a.length>1||this.options.smartLists&&a!==s)&&(e=o.slice(f+1).join("\n")+e,f=m-1)),i=r||/\n\n(?!\s*$)/.test(l),f!==m-1&&(r="\n"===l.charAt(l.length-1),i||(i=r)),i&&(c.loose=!0),w=void 0,(x=/^\[[ xX]\] /.test(l))&&(w=" "!==l[1],l=l.replace(/^\[[ xX]\] +/,"")),h={type:"list_item_start",task:x,checked:w,loose:i},p.push(h),this.tokens.push(h),this.token(l,!1),this.tokens.push({type:"list_item_end"});if(c.loose)for(m=p.length,f=0;f<m;f++)p[f].loose=!0;this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(e))e=e.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):u(o[0]):o[0]});else if(t&&(o=this.rules.def.exec(e)))e=e.substring(o[0].length),o[3]&&(o[3]=o[3].substring(1,o[3].length-1)),g=o[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[g]||(this.tokens.links[g]={href:o[2],title:o[3]});else if((o=this.rules.table.exec(e))&&(l={type:"table",header:v(o[1].replace(/^ *| *\| *$/g,"")),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3]?o[3].replace(/\n$/,"").split("\n"):[]}).header.length===l.align.length){for(e=e.substring(o[0].length),f=0;f<l.align.length;f++)/^ *-+: *$/.test(l.align[f])?l.align[f]="right":/^ *:-+: *$/.test(l.align[f])?l.align[f]="center":/^ *:-+ *$/.test(l.align[f])?l.align[f]="left":l.align[f]=null;for(f=0;f<l.cells.length;f++)l.cells[f]=v(l.cells[f].replace(/^ *\| *| *\| *$/g,""),l.header.length);this.tokens.push(l)}else if(o=this.rules.lheading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2].charAt(0)?1:2,text:o[1]});else if(t&&(o=this.rules.paragraph.exec(e)))e=e.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var i={escape:/^\\([!"#$%&'()*+,\-.\/:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:m,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*<\[])\*(?!\*)|^_([^\s<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s<"][\s\S]*?[^\s\*])\*(?!\*|[^\spunctuation])|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:m,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/};function o(e,t){if(this.options=t||k.defaults,this.links=e,this.rules=i.normal,this.renderer=this.options.renderer||new s,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=i.pedantic:this.options.gfm&&(this.options.breaks?this.rules=i.breaks:this.rules=i.gfm)}function s(e){this.options=e||k.defaults}function a(){}function l(e){this.tokens=[],this.token=null,this.options=e||k.defaults,this.options.renderer=this.options.renderer||new s,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new c}function c(){this.seen={}}function u(e,t){if(t){if(u.escapeTest.test(e))return e.replace(u.escapeReplace,function(e){return u.replacements[e]})}else if(u.escapeTestNoEncode.test(e))return e.replace(u.escapeReplaceNoEncode,function(e){return u.replacements[e]});return e}function p(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function h(e,t){return e=e.source||e,t=t||"",{replace:function(t,n){return n=(n=n.source||n).replace(/(^|[^\[])\^/g,"$1"),e=e.replace(t,n),this},getRegex:function(){return new RegExp(e,t)}}}function d(e,t,n){if(e){try{var r=decodeURIComponent(p(n)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}t&&!g.test(n)&&(n=function(e,t){f[" "+e]||(/^[^:]+:\/*[^\/]*$/.test(e)?f[" "+e]=e+"/":f[" "+e]=b(e,"/",!0));return e=f[" "+e],"//"===t.slice(0,2)?e.replace(/:[\s\S]*/,":")+t:"/"===t.charAt(0)?e.replace(/(:\/*[^\/]*)[\s\S]*/,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}i._punctuation="!\"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~",i.em=h(i.em).replace(/punctuation/g,i._punctuation).getRegex(),i._escapes=/\\([!"#$%&'()*+,\-.\/:;<=>?@\[\]\\^_`{|}~])/g,i._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,i._email=/[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,i.autolink=h(i.autolink).replace("scheme",i._scheme).replace("email",i._email).getRegex(),i._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,i.tag=h(i.tag).replace("comment",n._comment).replace("attribute",i._attribute).getRegex(),i._label=/(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,i._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,i._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,i.link=h(i.link).replace("label",i._label).replace("href",i._href).replace("title",i._title).getRegex(),i.reflink=h(i.reflink).replace("label",i._label).getRegex(),i.normal=y({},i),i.pedantic=y({},i.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:h(/^!?\[(label)\]\((.*?)\)/).replace("label",i._label).getRegex(),reflink:h(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",i._label).getRegex()}),i.gfm=y({},i.normal,{escape:h(i.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),i.gfm.url=h(i.gfm.url,"i").replace("email",i.gfm._extended_email).getRegex(),i.breaks=y({},i.gfm,{br:h(i.br).replace("{2,}","*").getRegex(),text:h(i.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),o.rules=i,o.output=function(e,t,n){return new o(t,n).output(e)},o.prototype.output=function(e){for(var t,n,r,i,s,a,l="";e;)if(s=this.rules.escape.exec(e))e=e.substring(s[0].length),l+=u(s[1]);else if(s=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(s[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(s[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(s[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(s[0])&&(this.inRawBlock=!1),e=e.substring(s[0].length),l+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(s[0]):u(s[0]):s[0];else if(s=this.rules.link.exec(e)){var c=x(s[2],"()");if(c>-1){var p=4+s[1].length+c;s[2]=s[2].substring(0,c),s[0]=s[0].substring(0,p).trim(),s[3]=""}e=e.substring(s[0].length),this.inLink=!0,r=s[2],this.options.pedantic?(t=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r))?(r=t[1],i=t[3]):i="":i=s[3]?s[3].slice(1,-1):"",r=r.trim().replace(/^<([\s\S]*)>$/,"$1"),l+=this.outputLink(s,{href:o.escapes(r),title:o.escapes(i)}),this.inLink=!1}else if((s=this.rules.reflink.exec(e))||(s=this.rules.nolink.exec(e))){if(e=e.substring(s[0].length),t=(s[2]||s[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){l+=s[0].charAt(0),e=s[0].substring(1)+e;continue}this.inLink=!0,l+=this.outputLink(s,t),this.inLink=!1}else if(s=this.rules.strong.exec(e))e=e.substring(s[0].length),l+=this.renderer.strong(this.output(s[4]||s[3]||s[2]||s[1]));else if(s=this.rules.em.exec(e))e=e.substring(s[0].length),l+=this.renderer.em(this.output(s[6]||s[5]||s[4]||s[3]||s[2]||s[1]));else if(s=this.rules.code.exec(e))e=e.substring(s[0].length),l+=this.renderer.codespan(u(s[2].trim(),!0));else if(s=this.rules.br.exec(e))e=e.substring(s[0].length),l+=this.renderer.br();else if(s=this.rules.del.exec(e))e=e.substring(s[0].length),l+=this.renderer.del(this.output(s[1]));else if(s=this.rules.autolink.exec(e))e=e.substring(s[0].length),r="@"===s[2]?"mailto:"+(n=u(this.mangle(s[1]))):n=u(s[1]),l+=this.renderer.link(r,null,n);else if(this.inLink||!(s=this.rules.url.exec(e))){if(s=this.rules.text.exec(e))e=e.substring(s[0].length),this.inRawBlock?l+=this.renderer.text(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(s[0]):u(s[0]):s[0]):l+=this.renderer.text(u(this.smartypants(s[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else{if("@"===s[2])r="mailto:"+(n=u(s[0]));else{do{a=s[0],s[0]=this.rules._backpedal.exec(s[0])[0]}while(a!==s[0]);n=u(s[0]),r="www."===s[1]?"http://"+n:n}e=e.substring(s[0].length),l+=this.renderer.link(r,null,n)}return l},o.escapes=function(e){return e?e.replace(o.rules._escapes,"$1"):e},o.prototype.outputLink=function(e,t){var n=t.href,r=t.title?u(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,u(e[1]))},o.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},o.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",r=e.length,i=0;i<r;i++)t=e.charCodeAt(i),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},s.prototype.code=function(e,t,n){var r=(t||"").match(/\S*/)[0];if(this.options.highlight){var i=this.options.highlight(e,r);null!=i&&i!==e&&(n=!0,e=i)}return r?'<pre><code class="'+this.options.langPrefix+u(r,!0)+'">'+(n?e:u(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:u(e,!0))+"</code></pre>"},s.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},s.prototype.html=function(e){return e},s.prototype.heading=function(e,t,n,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},s.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},s.prototype.list=function(e,t,n){var r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"},s.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},s.prototype.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},s.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},s.prototype.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},s.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},s.prototype.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},s.prototype.strong=function(e){return"<strong>"+e+"</strong>"},s.prototype.em=function(e){return"<em>"+e+"</em>"},s.prototype.codespan=function(e){return"<code>"+e+"</code>"},s.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},s.prototype.del=function(e){return"<del>"+e+"</del>"},s.prototype.link=function(e,t,n){if(null===(e=d(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<a href="'+u(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>"},s.prototype.image=function(e,t,n){if(null===(e=d(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},s.prototype.text=function(e){return e},a.prototype.strong=a.prototype.em=a.prototype.codespan=a.prototype.del=a.prototype.text=function(e){return e},a.prototype.link=a.prototype.image=function(e,t,n){return""+n},a.prototype.br=function(){return""},l.parse=function(e,t){return new l(t).parse(e)},l.prototype.parse=function(e){this.inline=new o(e.links,this.options),this.inlineText=new o(e.links,y({},this.options,{renderer:new a})),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},l.prototype.next=function(){return this.token=this.tokens.pop(),this.token},l.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},l.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},l.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,p(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,r,i="",o="";for(n="",e=0;e<this.token.header.length;e++)n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(i+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",r=0;r<t.length;r++)n+=this.renderer.tablecell(this.inline.output(t[r]),{header:!1,align:this.token.align[r]});o+=this.renderer.tablerow(n)}return this.renderer.table(i,o);case"blockquote_start":for(o="";"blockquote_end"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o);case"list_start":o="";for(var s=this.token.ordered,a=this.token.start;"list_end"!==this.next().type;)o+=this.tok();return this.renderer.list(o,s,a);case"list_item_start":o="";var l=this.token.loose,c=this.token.checked,u=this.token.task;for(this.token.task&&(o+=this.renderer.checkbox(c));"list_item_end"!==this.next().type;)o+=l||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(o,u,c);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:var h='Token with "'+this.token.type+'" type was not found.';if(!this.options.silent)throw new Error(h);console.log(h)}},c.prototype.slug=function(e){var t=e.toLowerCase().trim().replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,.\/:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(t)){var n=t;do{this.seen[n]++,t=n+"-"+this.seen[n]}while(this.seen.hasOwnProperty(t))}return this.seen[t]=0,t},u.escapeTest=/[&<>"']/,u.escapeReplace=/[&<>"']/g,u.replacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},u.escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/,u.escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g;var f={},g=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function m(){}function y(e){for(var t,n,r=1;r<arguments.length;r++)for(n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function v(e,t){var n=e.replace(/\|/g,function(e,t,n){for(var r=!1,i=t;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"}).split(/ \|/),r=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function b(e,t,n){if(0===e.length)return"";for(var r=0;r<e.length;){var i=e.charAt(e.length-r-1);if(i!==t||n){if(i===t||!n)break;r++}else r++}return e.substr(0,e.length-r)}function x(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=0,r=0;r<e.length;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&--n<0)return r;return-1}function w(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function k(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(n||"function"==typeof t){n||(n=t,t=null),w(t=y({},k.defaults,t||{}));var i,o,s=t.highlight,a=0;try{i=r.lex(e,t)}catch(e){return n(e)}o=i.length;var c=function(e){if(e)return t.highlight=s,n(e);var r;try{r=l.parse(i,t)}catch(t){e=t}return t.highlight=s,e?n(e):n(null,r)};if(!s||s.length<3)return c();if(delete t.highlight,!o)return c();for(;a<i.length;a++)!function(e){"code"!==e.type?--o||c():s(e.text,e.lang,function(t,n){return t?c(t):null==n||n===e.text?--o||c():(e.text=n,e.escaped=!0,void(--o||c()))})}(i[a])}else try{return t&&(t=y({},k.defaults,t)),w(t),l.parse(r.lex(e,t),t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(t||k.defaults).silent)return"<p>An error occurred:</p><pre>"+u(e.message+"",!0)+"</pre>";throw e}}m.exec=m,k.options=k.setOptions=function(e){return y(k.defaults,e),k},k.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new s,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,xhtml:!1}},k.defaults=k.getDefaults(),k.Parser=l,k.parser=l.parse,k.Renderer=s,k.TextRenderer=a,k.Lexer=r,k.lexer=r.lex,k.InlineLexer=o,k.inlineLexer=o.output,k.Slugger=c,k.parse=k,e.exports=k}(this||"undefined"!=typeof window&&window)}).call(this,n(31))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t);const r=new WeakMap,i=e=>(function(){const t=e(...arguments);return r.set(t,!0),t}),o=e=>"function"==typeof e&&r.has(e),s=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;for(;t!==n;){const n=t.nextSibling;e.removeChild(t),t=n}},l={},c={},u="{{lit-".concat(String(Math.random()).slice(2),"}}"),p="\x3c!--".concat(u,"--\x3e"),h=new RegExp("".concat(u,"|").concat(p)),d="$lit$";class f{constructor(e,t){this.parts=[],this.element=t;const n=[],r=[],i=document.createTreeWalker(t.content,133,null,!1);let o=0,s=-1,a=0;const{strings:l,values:{length:c}}=e;for(;a<c;){const e=i.nextNode();if(null!==e){if(s++,1===e.nodeType){if(e.hasAttributes()){const t=e.attributes,{length:n}=t;let r=0;for(let e=0;e<n;e++)g(t[e].name,d)&&r++;for(;r-- >0;){const t=l[a],n=v.exec(t)[2],r=n.toLowerCase()+d,i=e.getAttribute(r);e.removeAttribute(r);const o=i.split(h);this.parts.push({type:"attribute",index:s,name:n,strings:o}),a+=o.length-1}}"TEMPLATE"===e.tagName&&(r.push(e),i.currentNode=e.content)}else if(3===e.nodeType){const t=e.data;if(t.indexOf(u)>=0){const r=e.parentNode,i=t.split(h),o=i.length-1;for(let t=0;t<o;t++){let n,o=i[t];if(""===o)n=y();else{const e=v.exec(o);null!==e&&g(e[2],d)&&(o=o.slice(0,e.index)+e[1]+e[2].slice(0,-d.length)+e[3]),n=document.createTextNode(o)}r.insertBefore(n,e),this.parts.push({type:"node",index:++s})}""===i[o]?(r.insertBefore(y(),e),n.push(e)):e.data=i[o],a+=o}}else if(8===e.nodeType)if(e.data===u){const t=e.parentNode;null!==e.previousSibling&&s!==o||(s++,t.insertBefore(y(),e)),o=s,this.parts.push({type:"node",index:s}),null===e.nextSibling?e.data="":(n.push(e),s--),a++}else{let t=-1;for(;-1!==(t=e.data.indexOf(u,t+1));)this.parts.push({type:"node",index:-1}),a++}}else i.currentNode=r.pop()}for(const e of n)e.parentNode.removeChild(e)}}const g=(e,t)=>{const n=e.length-t.length;return n>=0&&e.slice(n)===t},m=e=>-1!==e.index,y=()=>document.createComment(""),v=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=\/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;class b{constructor(e,t,n){this.__parts=[],this.template=e,this.processor=t,this.options=n}update(e){let t=0;for(const n of this.__parts)void 0!==n&&n.setValue(e[t]),t++;for(const e of this.__parts)void 0!==e&&e.commit()}_clone(){const e=s?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),t=[],n=this.template.parts,r=document.createTreeWalker(e,133,null,!1);let i,o=0,a=0,l=r.nextNode();for(;o<n.length;)if(i=n[o],m(i)){for(;a<i.index;)a++,"TEMPLATE"===l.nodeName&&(t.push(l),r.currentNode=l.content),null===(l=r.nextNode())&&(r.currentNode=t.pop(),l=r.nextNode());if("node"===i.type){const e=this.processor.handleTextExpression(this.options);e.insertAfterNode(l.previousSibling),this.__parts.push(e)}else this.__parts.push(...this.processor.handleAttributeExpressions(l,i.name,i.strings,this.options));o++}else this.__parts.push(void 0),o++;return s&&(document.adoptNode(e),customElements.upgrade(e)),e}}class x{constructor(e,t,n,r){this.strings=e,this.values=t,this.type=n,this.processor=r}getHTML(){const e=this.strings.length-1;let t="",n=!1;for(let r=0;r<e;r++){const e=this.strings[r],i=e.lastIndexOf("\x3c!--");n=(i>-1||n)&&-1===e.indexOf("--\x3e",i+1);const o=v.exec(e);t+=null===o?e+(n?u:p):e.substr(0,o.index)+o[1]+o[2]+d+o[3]+u}return t+=this.strings[e]}getTemplateElement(){const e=document.createElement("template");return e.innerHTML=this.getHTML(),e}}const w=e=>null===e||!("object"==typeof e||"function"==typeof e),k=e=>Array.isArray(e)||!(!e||!e[Symbol.iterator]);class _{constructor(e,t,n){this.dirty=!0,this.element=e,this.name=t,this.strings=n,this.parts=[];for(let e=0;e<n.length-1;e++)this.parts[e]=this._createPart()}_createPart(){return new S(this)}_getValue(){const e=this.strings,t=e.length-1;let n="";for(let r=0;r<t;r++){n+=e[r];const t=this.parts[r];if(void 0!==t){const e=t.value;if(w(e)||!k(e))n+="string"==typeof e?e:String(e);else for(const t of e)n+="string"==typeof t?t:String(t)}}return n+=e[t]}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class S{constructor(e){this.value=void 0,this.committer=e}setValue(e){e===l||w(e)&&e===this.value||(this.value=e,o(e)||(this.committer.dirty=!0))}commit(){for(;o(this.value);){const e=this.value;this.value=l,e(this)}this.value!==l&&this.committer.commit()}}class E{constructor(e){this.value=void 0,this.__pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(y()),this.endNode=e.appendChild(y())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e.__insert(this.startNode=y()),e.__insert(this.endNode=y())}insertAfterPart(e){e.__insert(this.startNode=y()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this.__pendingValue=e}commit(){for(;o(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=l,e(this)}const e=this.__pendingValue;e!==l&&(w(e)?e!==this.value&&this.__commitText(e):e instanceof x?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):k(e)?this.__commitIterable(e):e===c?(this.value=c,this.clear()):this.__commitText(e))}__insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}__commitNode(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}__commitText(e){const t=this.startNode.nextSibling;e=null==e?"":e,t===this.endNode.previousSibling&&3===t.nodeType?t.data=e:this.__commitNode(document.createTextNode("string"==typeof e?e:String(e))),this.value=e}__commitTemplateResult(e){const t=this.options.templateFactory(e);if(this.value instanceof b&&this.value.template===t)this.value.update(e.values);else{const n=new b(t,e.processor,this.options),r=n._clone();n.update(e.values),this.__commitNode(r),this.value=n}}__commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const t=this.value;let n,r=0;for(const i of e)void 0===(n=t[r])&&(n=new E(this.options),t.push(n),0===r?n.appendIntoPart(this):n.insertAfterPart(t[r-1])),n.setValue(i),n.commit(),r++;r<t.length&&(t.length=r,this.clear(n&&n.endNode))}clear(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.startNode;a(this.startNode.parentNode,e.nextSibling,this.endNode)}}class C{constructor(e,t,n){if(this.value=void 0,this.__pendingValue=void 0,2!==n.length||""!==n[0]||""!==n[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=t,this.strings=n}setValue(e){this.__pendingValue=e}commit(){for(;o(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=l,e(this)}if(this.__pendingValue===l)return;const e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=l}}class O extends _{constructor(e,t,n){super(e,t,n),this.single=2===n.length&&""===n[0]&&""===n[1]}_createPart(){return new A(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class A extends S{}let P=!1;try{const e={get capture(){return P=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){}class T{constructor(e,t,n){this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=t,this.eventContext=n,this.__boundHandleEvent=(e=>this.handleEvent(e))}setValue(e){this.__pendingValue=e}commit(){for(;o(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=l,e(this)}if(this.__pendingValue===l)return;const e=this.__pendingValue,t=this.value,n=null==e||null!=t&&(e.capture!==t.capture||e.once!==t.once||e.passive!==t.passive),r=null!=e&&(null==t||n);n&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),r&&(this.__options=R(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=l}handleEvent(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}const R=e=>e&&(P?{capture:e.capture,passive:e.passive,once:e.once}:e.capture);const z=new class{handleAttributeExpressions(e,t,n,r){const i=t[0];return"."===i?new O(e,t.slice(1),n).parts:"@"===i?[new T(e,t.slice(1),r.eventContext)]:"?"===i?[new C(e,t.slice(1),n)]:new _(e,t,n).parts}handleTextExpression(e){return new E(e)}};function N(e){let t=j.get(e.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},j.set(e.type,t));let n=t.stringsArray.get(e.strings);if(void 0!==n)return n;const r=e.strings.join(u);return void 0===(n=t.keyString.get(r))&&(n=new f(e,e.getTemplateElement()),t.keyString.set(r,n)),t.stringsArray.set(e.strings,n),n}const j=new Map,q=new WeakMap;(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.0.0");const L=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new x(e,n,"html",z)},B=133;function D(e,t){const{element:{content:n},parts:r}=e,i=document.createTreeWalker(n,B,null,!1);let o=F(r),s=r[o],a=-1,l=0;const c=[];let u=null;for(;i.nextNode();){a++;const e=i.currentNode;for(e.previousSibling===u&&(u=null),t.has(e)&&(c.push(e),null===u&&(u=e)),null!==u&&l++;void 0!==s&&s.index===a;)s.index=null!==u?-1:s.index-l,s=r[o=F(r,o)]}c.forEach(e=>e.parentNode.removeChild(e))}const I=e=>{let t=11===e.nodeType?0:1;const n=document.createTreeWalker(e,B,null,!1);for(;n.nextNode();)t++;return t},F=function(e){for(let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1)+1;t<e.length;t++){const n=e[t];if(m(n))return t}return-1};const U=(e,t)=>"".concat(e,"--").concat(t);let $=!0;void 0===window.ShadyCSS?$=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),$=!1);const M=e=>t=>{const n=U(t.type,e);let r=j.get(n);void 0===r&&(r={stringsArray:new WeakMap,keyString:new Map},j.set(n,r));let i=r.stringsArray.get(t.strings);if(void 0!==i)return i;const o=t.strings.join(u);if(void 0===(i=r.keyString.get(o))){const n=t.getTemplateElement();$&&window.ShadyCSS.prepareTemplateDom(n,e),i=new f(t,n),r.keyString.set(o,i)}return r.stringsArray.set(t.strings,i),i},V=["html","svg"],H=new Set,W=(e,t,n)=>{H.add(n);const r=e.querySelectorAll("style"),{length:i}=r;if(0===i)return void window.ShadyCSS.prepareTemplateStyles(t.element,n);const o=document.createElement("style");for(let e=0;e<i;e++){const t=r[e];t.parentNode.removeChild(t),o.textContent+=t.textContent}(e=>{V.forEach(t=>{const n=j.get(U(t,e));void 0!==n&&n.keyString.forEach(e=>{const{element:{content:t}}=e,n=new Set;Array.from(t.querySelectorAll("style")).forEach(e=>{n.add(e)}),D(e,n)})})})(n);const s=t.element.content;!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const{element:{content:r},parts:i}=e;if(null==n)return void r.appendChild(t);const o=document.createTreeWalker(r,B,null,!1);let s=F(i),a=0,l=-1;for(;o.nextNode();)for(l++,o.currentNode===n&&(a=I(t),n.parentNode.insertBefore(t,n));-1!==s&&i[s].index===l;){if(a>0){for(;-1!==s;)i[s].index+=a,s=F(i,s);return}s=F(i,s)}}(t,o,s.firstChild),window.ShadyCSS.prepareTemplateStyles(t.element,n);const a=s.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==a)e.insertBefore(a.cloneNode(!0),e.firstChild);else{s.insertBefore(o,s.firstChild);const e=new Set;e.add(o),D(t,e)}};window.JSCompiler_renameProperty=((e,t)=>e);const Z={toAttribute(e,t){switch(t){case Boolean:return e?"":null;case Object:case Array:return null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){switch(t){case Boolean:return null!==e;case Number:return null===e?null:Number(e);case Object:case Array:return JSON.parse(e)}return e}},X=(e,t)=>t!==e&&(t==t||e==e),K={attribute:!0,type:String,converter:Z,reflect:!1,hasChanged:X},J=Promise.resolve(!0),Q=1,Y=4,G=8,ee=16,te=32;class ne extends HTMLElement{constructor(){super(),this._updateState=0,this._instanceProperties=void 0,this._updatePromise=J,this._hasConnectedResolver=void 0,this._changedProperties=new Map,this._reflectingProperties=void 0,this.initialize()}static get observedAttributes(){this.finalize();const e=[];return this._classProperties.forEach((t,n)=>{const r=this._attributeNameForProperty(n,t);void 0!==r&&(this._attributeToPropertyMap.set(r,n),e.push(r))}),e}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const e=Object.getPrototypeOf(this)._classProperties;void 0!==e&&e.forEach((e,t)=>this._classProperties.set(t,e))}}static createProperty(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:K;if(this._ensureClassProperties(),this._classProperties.set(e,t),t.noAccessor||this.prototype.hasOwnProperty(e))return;const n="symbol"==typeof e?Symbol():"__".concat(e);Object.defineProperty(this.prototype,e,{get(){return this[n]},set(t){const r=this[e];this[n]=t,this._requestUpdate(e,r)},configurable:!0,enumerable:!0})}static finalize(){if(this.hasOwnProperty(JSCompiler_renameProperty("finalized",this))&&this.finalized)return;const e=Object.getPrototypeOf(this);if("function"==typeof e.finalize&&e.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const e=this.properties,t=[...Object.getOwnPropertyNames(e),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[]];for(const n of t)this.createProperty(n,e[n])}}static _attributeNameForProperty(e,t){const n=t.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof e?e.toLowerCase():void 0}static _valueHasChanged(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:X)(e,t)}static _propertyValueFromAttribute(e,t){const n=t.type,r=t.converter||Z,i="function"==typeof r?r:r.fromAttribute;return i?i(e,n):e}static _propertyValueToAttribute(e,t){if(void 0===t.reflect)return;const n=t.type,r=t.converter;return(r&&r.toAttribute||Z.toAttribute)(e,n)}initialize(){this._saveInstanceProperties(),this._requestUpdate()}_saveInstanceProperties(){this.constructor._classProperties.forEach((e,t)=>{if(this.hasOwnProperty(t)){const e=this[t];delete this[t],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(t,e)}})}_applyInstanceProperties(){this._instanceProperties.forEach((e,t)=>this[t]=e),this._instanceProperties=void 0}connectedCallback(){this._updateState=this._updateState|te,this._hasConnectedResolver&&(this._hasConnectedResolver(),this._hasConnectedResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(e,t,n){t!==n&&this._attributeToProperty(e,n)}_propertyToAttribute(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:K;const r=this.constructor,i=r._attributeNameForProperty(e,n);if(void 0!==i){const e=r._propertyValueToAttribute(t,n);if(void 0===e)return;this._updateState=this._updateState|G,null==e?this.removeAttribute(i):this.setAttribute(i,e),this._updateState=this._updateState&~G}}_attributeToProperty(e,t){if(this._updateState&G)return;const n=this.constructor,r=n._attributeToPropertyMap.get(e);if(void 0!==r){const e=n._classProperties.get(r)||K;this._updateState=this._updateState|ee,this[r]=n._propertyValueFromAttribute(t,e),this._updateState=this._updateState&~ee}}_requestUpdate(e,t){let n=!0;if(void 0!==e){const r=this.constructor,i=r._classProperties.get(e)||K;r._valueHasChanged(this[e],t,i.hasChanged)?(this._changedProperties.has(e)||this._changedProperties.set(e,t),!0!==i.reflect||this._updateState&ee||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(e,i))):n=!1}!this._hasRequestedUpdate&&n&&this._enqueueUpdate()}requestUpdate(e,t){return this._requestUpdate(e,t),this.updateComplete}async _enqueueUpdate(){let e,t;this._updateState=this._updateState|Y;const n=this._updatePromise;this._updatePromise=new Promise((n,r)=>{e=n,t=r});try{await n}catch(e){}this._hasConnected||await new Promise(e=>this._hasConnectedResolver=e);try{const e=this.performUpdate();null!=e&&await e}catch(e){t(e)}e(!this._hasRequestedUpdate)}get _hasConnected(){return this._updateState&te}get _hasRequestedUpdate(){return this._updateState&Y}get hasUpdated(){return this._updateState&Q}performUpdate(){this._instanceProperties&&this._applyInstanceProperties();let e=!1;const t=this._changedProperties;try{(e=this.shouldUpdate(t))&&this.update(t)}catch(t){throw e=!1,t}finally{this._markUpdated()}e&&(this._updateState&Q||(this._updateState=this._updateState|Q,this.firstUpdated(t)),this.updated(t))}_markUpdated(){this._changedProperties=new Map,this._updateState=this._updateState&~Y}get updateComplete(){return this._updatePromise}shouldUpdate(e){return!0}update(e){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((e,t)=>this._propertyToAttribute(t,this[t],e)),this._reflectingProperties=void 0)}updated(e){}firstUpdated(e){}}ne.finalized=!0;const re=e=>t=>"function"==typeof t?((e,t)=>(window.customElements.define(e,t),t))(e,t):((e,t)=>{const{kind:n,elements:r}=t;return{kind:n,elements:r,finisher(t){window.customElements.define(e,t)}}})(e,t),ie=(e,t)=>"method"!==t.kind||!t.descriptor||"value"in t.descriptor?{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(n){n.createProperty(t.key,e)}}:Object.assign({},t,{finisher(n){n.createProperty(t.key,e)}}),oe=(e,t,n)=>{t.constructor.createProperty(n,e)};function se(e){return(t,n)=>void 0!==n?oe(e,t,n):ie(e,t)}const ae="adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,le=Symbol();class ce{constructor(e,t){if(t!==le)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){return void 0===this._styleSheet&&(ae?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}const ue=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.reduce((t,n,r)=>t+(e=>{if(e instanceof ce)return e.cssText;throw new Error("Value passed to 'css' function must be a 'css' function result: ".concat(e,". Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security."))})(n)+e[r+1],e[0]);return new ce(i,le)};(window.litElementVersions||(window.litElementVersions=[])).push("2.0.1");const pe=e=>e.flat?e.flat(1/0):function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(let r=0,i=t.length;r<i;r++){const i=t[r];Array.isArray(i)?e(i,n):n.push(i)}return n}(e);class he extends ne{static finalize(){super.finalize(),this._styles=this.hasOwnProperty(JSCompiler_renameProperty("styles",this))?this._getUniqueStyles():this._styles||[]}static _getUniqueStyles(){const e=this.styles,t=[];if(Array.isArray(e)){pe(e).reduceRight((e,t)=>(e.add(t),e),new Set).forEach(e=>t.unshift(e))}else e&&t.push(e);return t}initialize(){super.initialize(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){const e=this.constructor._styles;0!==e.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?ae?this.renderRoot.adoptedStyleSheets=e.map(e=>e.styleSheet):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(e.map(e=>e.cssText),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(e){super.update(e);const t=this.render();t instanceof x&&this.constructor.render(t,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(e=>{const t=document.createElement("style");t.textContent=e.cssText,this.renderRoot.appendChild(t)}))}render(){}}he.finalized=!0,he.render=((e,t,n)=>{const r=n.scopeName,i=q.has(t),o=$&&11===t.nodeType&&!!t.host&&e instanceof x,s=o&&!H.has(r),l=s?document.createDocumentFragment():t;if(((e,t,n)=>{let r=q.get(t);void 0===r&&(a(t,t.firstChild),q.set(t,r=new E(Object.assign({templateFactory:N},n))),r.appendInto(t)),r.setValue(e),r.commit()})(e,l,Object.assign({templateFactory:M(r)},n)),s){const e=q.get(l);q.delete(l),e.value instanceof b&&W(l,e.value.template,r),a(t,t.firstChild),t.appendChild(l),q.set(t,e)}!i&&o&&window.ShadyCSS.styleElement(t.host)});var de=n(1),fe=n.n(de);const ge=e=>{for(const t of document.cookie.split(";")){const n=t.indexOf("=");let r=t.substr(0,n),i=t.substr(n+1);if(r=r.trim(),i=i.trim(),r===e)return i}return null},me=e=>{const t=[];Object.keys(e).forEach(n=>{e[n]&&t.push(n)});let n=t.join(" ");return n.trim().length>0&&(n=" "+n),n},ye=e=>new Promise((t,n)=>{ve(e).then(e=>{t({assets:e.data.results,next:e.data.next})}).catch(e=>n(e))}),ve=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=ge("csrftoken"),r={headers:n?{"X-CSRFToken":n}:{}};return t&&(r.cancelToken=t),fe.a.get(e,r)};var be=n(3),xe=n.n(be);function we(){const e=Re(['<div id="left-column"><div class="search"><rp-select placeholder="Search" endpoint="',"boundaries/",'/?q=" .renderOptionDetail="','" @rp-selection="','"></rp-select></div><div class="feature-tree">','</div></div><div id="right-column"><leaflet-map endpoint="','" .feature="','" .osmId="','" .hovered="','" .onFeatureClicked="','"></leaflet-map></div><rp-dialog id="alias-dialog" title="Aliases for ','" primaryButtonName="Save" @rp-button-clicked="','"><div class="selected"><textarea id="','" .value="','"></textarea><div class="help">Enter other aliases for ',", one per line</div></div></rp-dialog>"]);return we=function(){return e},e}function ke(){const e=Re([""]);return ke=function(){return e},e}function _e(){const e=Re(["",'<div class="path">','</div><div class="aliases">',"</div>"]);return _e=function(){return e},e}function Se(){const e=Re(['<rp-label class="alias" dark>',"</rp-label>"]);return Se=function(){return e},e}function Ee(){const e=Re(["<style>rp-label {\n          margin-top: 3px;\n          margin-right: 3px;\n        }</style>"]);return Ee=function(){return e},e}function Ce(){const e=Re([""," ",""]);return Ce=function(){return e},e}function Oe(){const e=Re(['<div class="edit clickable showonhover" @click="','"><rp-icon name="register" size="12"></rp-icon></div>']);return Oe=function(){return e},e}function Ae(){const e=Re(['<rp-label class="alias" @click="','" light clickable>',"</rp-label>"]);return Ae=function(){return e},e}function Pe(){const e=Re(['<div class="feature"><div @mouseover="','" @mouseout="','" class="level-','"><div class="feature-name ','" @click="','">','</div><div class="aliases">'," ","</div></div></div>"]);return Pe=function(){return e},e}function Te(){const e=Re([":host {\n        line-height: normal;\n      }\n\n      textarea {\n        border-radius: 5px;\n        border-color: var(--color-borders);\n        padding: 10px;\n        color: var(--color-text);\n        font-size: 14px;\n        resize: none;\n      }\n\n      textarea:focus {\n        box-shadow: none;\n        outline: none;\n      }\n\n      #left-column {\n        display: inline-block;\n        margin-left: 10px;\n        width: 300px;\n        z-index: 100;\n      }\n\n      .search {\n        margin-bottom: 10px;\n      }\n\n      .feature {\n        padding: 4px 14px;\n        font-size: 16px;\n      }\n\n      .level-0 {\n        margin-left: 0px;\n      }\n\n      .level-1 {\n        margin-left: 5px;\n        font-size: 95%;\n      }\n\n      .level-2 {\n        margin-left: 10px;\n        font-size: 90%;\n      }\n\n      .level-3 {\n        margin-left: 15px;\n        font-size: 85%;\n      }\n\n      .feature-name {\n        display: inline-block;\n      }\n\n      .clickable {\n        text-decoration: none;\n        cursor: pointer;\n        color: var(--color-link-primary);\n      }\n\n      .clickable.secondary {\n        color: var(--color-link-secondary);\n      }\n\n      .clickable:hover {\n        text-decoration: underline;\n        color: var(--color-link-primary-hover);\n      }\n\n      .feature:hover .showonhover {\n        visibility: visible;\n      }\n\n      .showonhover {\n        visibility: hidden;\n      }\n\n      .aliases {\n        color: #bbb;\n        font-size: 80%;\n        display: inline;\n        margin-left: 5px;\n      }\n\n      rp-label {\n        margin-right: 3px;\n        margin-bottom: 3px;\n        vertical-align: top;\n      }\n\n      .selected {\n        display: flex;\n        flex-direction: column;\n        padding: 15px;\n      }\n\n      .selected .name {\n        font-size: 18px;\n        padding: 5px;\n      }\n\n      .selected .help {\n        padding: 5px 2px;\n        font-size: 11px;\n        color: var(--color-secondary-light);\n      }\n\n      #right-column {\n        vertical-align: top;\n        margin-left: 20px;\n        display: inline-block;\n      }\n\n      leaflet-map {\n        height: 250px;\n        width: 450px;\n        border: 0px solid #999;\n        border-radius: 5px;\n      }\n\n      .edit {\n        display: inline-block;\n        margin-right: 0px;\n      }"]);return Te=function(){return e},e}function Re(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ze=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};let Ne=class extends he{constructor(){super(),this.path=[]}static get styles(){return ue(Te())}updated(e){if(e.has("osmId")){const e=[];for(let t of this.path)if(e.push(t),t.osm_id===this.osmId)return this.path=[...e],void this.hideAliasDialog();this.fetchFeature()}}fetchFeature(){ve(this.getEndpoint()+"boundaries/"+this.osmId+"/").then(e=>{this.path=e.data,this.hideAliasDialog()})}fireTextareaAutosize(){window.setTimeout(()=>{xe()(this.shadowRoot.querySelector("textarea")),xe.a.update(this.shadowRoot.querySelector("textarea"))},0)}handleMapClicked(e){this.hovered=null,e&&e.osm_id===this.osmId||(this.osmId=e.osm_id)}handlePlaceClicked(e){this.osmId=e.osm_id}handleSearchSelection(e){const t=e.detail.selected;this.showAliasDialog(t)}renderFeature(e,t){const n=this.path[this.path.length-1],r=(e.has_children||0===e.level)&&e!==n,i=L(Pe(),()=>{e.level>0&&(this.hovered=e)},()=>{this.hovered=null},e.level,r?"clickable":"",()=>{r&&this.handlePlaceClicked(e)},e.name,e.aliases.split("\n").map(t=>t.trim().length>0?L(Ae(),()=>{this.showAliasDialog(e)},t):null),e.level>0?L(Oe(),t=>{this.showAliasDialog(e),t.preventDefault(),t.stopPropagation()}):""),o=(e.children||[]).map(e=>t.length>0&&t[0].osm_id===e.osm_id?this.renderFeature(t[0],t.slice(1)):0===t.length||0===t[0].children.length?this.renderFeature(e,t):null);return L(Ce(),i,o)}showAliasDialog(e){this.editFeature=e;const t=this.shadowRoot.getElementById("alias-dialog");t&&(this.fireTextareaAutosize(),t.setAttribute("open",""))}hideAliasDialog(){const e=this.shadowRoot.getElementById("alias-dialog");e&&e.removeAttribute("open"),this.requestUpdate()}getEndpoint(){return this.endpoint+(this.endpoint.endsWith("/")?"":"/")}handleDialogClick(e){const t=e.detail.button;if("Save"===t.name){t.setProgress(!0);const e=this.shadowRoot.getElementById(this.editFeature.osm_id).value,n={osm_id:this.editFeature.osm_id,aliases:e};((e,t)=>{const n=ge("csrftoken"),r=n?{"X-CSRFToken":n}:{};return fe.a.post(e,t,{headers:r})})(this.getEndpoint()+"boundaries/"+this.editFeature.osm_id+"/",n).then(e=>{this.fetchFeature()})}"Cancel"===t.name&&this.hideAliasDialog()}renderOptionDetail(e,t){const n=L(Ee()),r=e.aliases.split("\n").map(e=>e.trim().length>0?L(Se(),e):null);return L(_e(),n,e.path.replace(/>/gi,"‣"),r)}render(){if(0===this.path.length)return L(ke());const e=this.path[this.path.length-1],t=0===e.children.length?this.path[this.path.length-2]:e,n=this.editFeature?this.editFeature.osm_id:null,r=this.editFeature?this.editFeature.name:null,i=this.editFeature?this.editFeature.aliases:null;return L(we(),this.getEndpoint(),this.path[0].osm_id,this.renderOptionDetail,this.handleSearchSelection.bind(this),this.renderFeature(this.path[0],this.path.slice(1)),this.getEndpoint(),t,t.osm_id,this.hovered,this.handleMapClicked.bind(this),r,this.handleDialogClick.bind(this),n,i,r)}};ze([se({type:Array,attribute:!1})],Ne.prototype,"path",void 0),ze([se()],Ne.prototype,"endpoint",void 0),ze([se()],Ne.prototype,"osmId",void 0),ze([se({type:Object})],Ne.prototype,"hovered",void 0),ze([se({type:Object})],Ne.prototype,"editFeature",void 0);Ne=ze([re("alias-editor")],Ne);function je(){const e=Le(['<div class="button ','" tabindex="0" @keyup="','"><div class="mask">',"</div></div>"]);return je=function(){return e},e}function qe(){const e=Le([".button {\n        background: blue;\n        color: #fff;\n        cursor: pointer;\n        display: inline-block;\n        border-radius: var(--curvature);\n        outline: none;\n      }\n\n      .button:focus {\n        outline: none;\n        margin: 0;\n      }\n\n      .button:focus .mask{\n        background: rgb(0,0,0,.1);\n        box-shadow: 0 0 0px 2px var(--color-button-primary);\n      }\n\n      .button.secondary:focus .mask{\n        border: 1px solid var(--color-button-secondary);\n        background: transparent;\n        box-shadow: 0 0 0px 2px var(--color-button-secondary);\n      }\n\n      .mask {\n        padding: 5px 10px;\n        border-radius: var(--curvature);\n        border: 1px solid transparent;\n      }\n\n      .primary {\n        background: var(--color-button-primary);\n        color: var(--color-button-primary-text);\n      }\n\n      .secondary {\n        background: transparent;\n        color: var(--color-button-secondary);\n      }\n\n      .secondary:hover .mask{\n        border: 1px solid var(--color-button-secondary);\n      }\n\n      .button.progress{\n        background: #ddd;\n      }\n\n      .button.progress:focus .mask {\n        box-shadow: 0 0 0px 2px var(--color-button-secondary);\n      }\n\n      .mask:hover {\n        background: rgb(0,0,0,.1);\n      }\n\n      .secondary .mask:hover {\n        background: transparent;\n      }"]);return qe=function(){return e},e}function Le(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Be=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};let De=class extends he{static get styles(){return ue(qe())}setProgress(e){this.isProgress=e}handleKeyUp(e){"Enter"===e.key&&this.click()}render(){return L(je(),me({progress:this.isProgress,primary:this.primary,secondary:this.secondary}),this.handleKeyUp,this.isProgress&&this.inProgessName||this.name)}};Be([se({type:Boolean})],De.prototype,"primary",void 0),Be([se({type:Boolean})],De.prototype,"secondary",void 0),Be([se()],De.prototype,"name",void 0),Be([se()],De.prototype,"inProgessName",void 0),Be([se({type:Boolean})],De.prototype,"isProgress",void 0);var Ie;De=Be([re("rp-button")],De);class Fe extends he{getEventHandlers(){return[]}connectedCallback(){super.connectedCallback();for(const e of this.getEventHandlers())document.addEventListener(e.event,e.method.bind(this))}disconnectedCallback(){for(const e of this.getEventHandlers())document.removeEventListener(e.event,e.method);super.disconnectedCallback()}fireEvent(e){this.dispatchEvent(new Event(e,{bubbles:!0,composed:!0}))}fireCustomEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new CustomEvent(e,{detail:t,bubbles:!0,composed:!0});this.dispatchEvent(n)}}function Ue(){const e=Ve(["<slot></slot>"]);return Ue=function(){return e},e}function $e(){const e=Ve(["<style>.mask {\n            height: ",'px;\n          }\n          .mask.open > .dialog {\n            top: 100px;\n          }</style><div class="mask ','"><div @keyup="','" class="dialog"><div class="header"><div class="title">','</div></div><div class="body" @keypress="','">','</div><div class="footer"><rp-button @click="','" name="','" inProgessName="','" primary>}</rp-button><rp-button @click="','" name="','" secondary></rp-button></div></div></div>']);return $e=function(){return e},e}function Me(){const e=Ve([".mask {\n        width: 100%;\n        background: rgba(0, 0, 0, .5);\n        opacity: 0;\n        visibility: hidden;\n        position: fixed;\n        top:0px;\n        left:0px;\n        transition: all ease-in 250ms;\n      }\n\n      .dialog {\n        width: 500px;\n        margin: 0px auto; \n        top: -200px;\n        position: relative;\n        transition: top ease-in-out 200ms;\n        border-radius: var(--curvature); \n        box-shadow: 0px 0px 0px 4px rgba(0,0,0,.04);\n        overflow: hidden;\n      }\n\n      .body {\n        background: #fff;\n      }\n\n      .mask.open {\n        opacity: 1;\n        visibility: visible;\n      }\n\n      .title {\n        padding: 10px 20px;\n        font-size: 18px;\n        color: var(--color-text-light);\n        background: var(--color-primary-dark);\n      }\n\n      .footer {\n        background: var(--color-primary-light);\n        padding: 10px;\n        display: flex;\n        flex-flow: row-reverse;\n      }\n\n      rp-button {\n        margin-left: 5px;\n      }"]);return Me=function(){return e},e}function Ve(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}!function(e){e.Canceled="rp-canceled",e.CursorChanged="rp-cursor-changed",e.Selection="rp-selection",e.ButtonClicked="rp-button-clicked"}(Ie||(Ie={}));var He=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};let We=class extends Fe{constructor(){super(),this.primaryButtonName="Ok",this.cancelButtonName="Cancel",this.inProgressName="Saving"}static get styles(){return ue(Me())}updated(e){if(e.has("open")&&this.open){this.shadowRoot.querySelectorAll("rp-button").forEach(e=>e.setProgress(!1));const e=this.querySelectorAll("textarea,input");e.length>0&&window.setTimeout(()=>{e[0].focus()},100)}}handleClick(e){const t=e.currentTarget;t.isProgress||this.fireCustomEvent(Ie.ButtonClicked,{button:t})}getDocumentHeight(){const e=document.body,t=document.documentElement;return Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)}handleKeyUp(e){"Escape"===e.key&&this.shadowRoot.querySelectorAll("rp-button").forEach(e=>{e.name===this.cancelButtonName&&e.click()})}render(){const e=this.getDocumentHeight();return L($e(),e+100,this.open?"open":"",this.handleKeyUp,this.title,this.handleKeyUp,this.body?this.body:L(Ue()),this.handleClick,this.primaryButtonName,this.inProgressName,this.handleClick,this.cancelButtonName)}};He([se({type:Boolean})],We.prototype,"open",void 0),He([se()],We.prototype,"title",void 0),He([se()],We.prototype,"body",void 0),He([se()],We.prototype,"primaryButtonName",void 0),He([se({type:String})],We.prototype,"cancelButtonName",void 0),He([se()],We.prototype,"inProgressName",void 0),He([se({attribute:!1})],We.prototype,"onButtonClicked",void 0);We=He([re("rp-dialog")],We);function Ze(){const e=Qe(['<input class="textinput" name="','" type="text" placeholder="','" .value="','">']);return Ze=function(){return e},e}function Xe(){const e=Qe(['<textarea class="textinput" name="','" placeholder="','" .value="','">\n        </textarea>']);return Xe=function(){return e},e}function Ke(){const e=Qe(["<style>.input-container {\n        height: ",';\n      }</style><div class="input-container" @click="','">',"</div>"]);return Ke=function(){return e},e}function Je(){const e=Qe([".input-container {\n        border-radius: var(--curvature);\n        overflow: hidden;\n        cursor: text;\n        background: var(--color-widget-bg);\n        border: 1px solid var(--color-widget-border);\n        box-shadow: none;\n        transition: all ease-in-out 200ms;\n        display: flex;\n        flex-direction: row;\n        align-items: stretch;\n      }\n\n      .input-container:focus-within {\n        border-color: var(--color-widget-border);\n        background: var(--color-widget-bg-focused);\n        box-shadow: var(--color-widget-shadow-focused) 1px 1px 3px 0px inset;\n      }\n\n      .input-container:hover {\n        background: var(--color-widget-bg-focused);\n      }\n\n      textarea {\n        height: 85%;\n      }\n\n      .textinput {\n        padding: 8px;\n        border: 0px solid red;\n        flex: 1;\n        margin: 0;\n        background: none;\n        color: var(--color-text);\n        font-size: 13px;\n        cursor: text;\n        resize: none;\n      }\n\n      .textinput:focus {\n        outline: none;\n        cursor: text;\n      }\n\n      .textinput::placeholder {\n        color: rgba(0,0,0,.15);\n      }"]);return Je=function(){return e},e}function Qe(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Ye=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};let Ge=class extends Fe{constructor(){super(...arguments),this.placeholder="",this.value="",this.name=""}static get styles(){return ue(Je())}firstUpdated(e){super.firstUpdated(e),this.inputElement=this.shadowRoot.querySelector(".textinput")}render(){return L(Ke(),this.textarea?"100%":"auto",()=>{this.shadowRoot.querySelector(".textinput").focus()},this.textarea?L(Xe(),this.name,this.placeholder,this.value):L(Ze(),this.name,this.placeholder,this.value))}};Ye([se({type:Boolean})],Ge.prototype,"textarea",void 0),Ye([se({type:String})],Ge.prototype,"placeholder",void 0),Ye([se({type:String})],Ge.prototype,"value",void 0),Ye([se({type:String})],Ge.prototype,"name",void 0),Ye([se({type:Object})],Ge.prototype,"inputElement",void 0);Ge=Ye([re("rp-textinput")],Ge);function et(){const e=rt(["<style>.label {\n            background: ",";\n            color: ",";\n          }</style>"]);return et=function(){return e},e}function tt(){const e=rt(["",'<div class="label ','"><div class="mask"><slot></slot></div></div>']);return tt=function(){return e},e}function nt(){const e=rt([":host {\n        display: inline-block;\n      }\n\n      .mask {\n        padding: 3px 6px;\n        border-radius: var(--curvature);\n      }\n\n      .label.clickable .mask:hover {\n        background: rgb(0,0,0,.05);\n      }\n\n      .label {\n        border-radius: 2px;\n        font-size: 80%;\n        font-weight: 400;\n        border-radius: var(--curvature);\n        background: tomato;\n        color: #fff;\n        text-shadow: 0 0.04em 0.04em rgba(0,0,0,0.35);\n      }\n\n      .primary {\n        background: var(--color-label-primary);\n        color: var(--color-label-primary-text);\n      }\n\n      .secondary {\n        background: var(--color-label-secondary);\n        color: var(--color-label-secondary-text);\n        text-shadow: none;\n      }\n\n      .light {\n        background: var(--color-overlay-light);\n        color: var(--color-overlay-light-text);\n        text-shadow: none;\n      }\n\n      .dark {\n        background: var(--color-overlay-dark);\n        color: var(--color-overlay-dark-text);\n        text-shadow: none;\n      }\n\n      .clickable {\n        cursor: pointer;\n      }"]);return nt=function(){return e},e}function rt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var it=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};let ot=class extends he{static get styles(){return ue(nt())}render(){return L(tt(),this.backgroundColor&&this.textColor?L(et(),this.backgroundColor,this.textColor):null,me({clickable:this.clickable,primary:this.primary,secondary:this.secondary,light:this.light,dark:this.dark}))}};it([se({type:Boolean})],ot.prototype,"clickable",void 0),it([se({type:Boolean})],ot.prototype,"primary",void 0),it([se({type:Boolean})],ot.prototype,"secondary",void 0),it([se({type:Boolean})],ot.prototype,"light",void 0),it([se({type:Boolean})],ot.prototype,"dark",void 0),it([se()],ot.prototype,"backgroundColor",void 0),it([se()],ot.prototype,"textColor",void 0);ot=it([re("rp-label")],ot);function st(){const e=dt(['<div @mouseover="','" @click="','" class="option ','">',"</div>"]);return st=function(){return e},e}function at(){const e=dt(["<style>.container {\n          top: ","px;\n          left: ","px;\n          width: ","px;\n        }\n\n        .options {\n          width: ",'px;\n        }</style><div class="container ','"><div class="options">',"</div><slot></slot></div>"]);return at=function(){return e},e}function lt(){const e=dt(["",""]);return lt=function(){return e},e}function ct(){const e=dt(["",""]);return ct=function(){return e},e}function ut(){const e=dt(['<div class="name">',"</div>"]);return ut=function(){return e},e}function pt(){const e=dt(['<div class="name">','</div><div class="detail">',"</div>"]);return pt=function(){return e},e}function ht(){const e=dt([".container {\n        visibility: hidden;\n        position: fixed;\n        border-radius: var(--curvature);\n        border: 0px solid var(--color-borders);\n        box-shadow: 0px 0px 0px 2px rgba(0,0,0,.09);\n        background: #fff;\n        z-index: 1;\n      }\n\n      .options {\n        border-radius: var(--curvature);\n        background: #fff;\n        overflow-y: scroll;\n        max-height: 225px;\n        border: none;\n      }\n\n      .show {\n        visibility: visible;\n      }\n\n      .option {\n        font-size: 14px;\n        padding: 7px 14px;\n        border-radius: var(--curvature);\n        margin: 3px;\n        cursor: pointer;\n        color: var(--color-text);\n      }\n\n      .option.focused {\n        background: var(--color-selection);\n        color: var(--color-text-light);\n      }\n\n      .option .detail {\n        font-size: 85%;\n        color: rgba(255,255,255,.9);\n      }\n\n      code {\n        background: rgba(0,0,0,.15);\n        padding: 1px 5px;\n        border-radius: var(--curvature);\n      }"]);return ht=function(){return e},e}function dt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ft=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};let gt=class extends Fe{constructor(){super(...arguments),this.cursorIndex=0}static get styles(){return ue(ht())}updated(e){if(super.updated(e),e.has("cursorIndex")){const e=this.shadowRoot.querySelector(".focused");if(e){const t=this.shadowRoot.querySelector(".options"),n=t.getBoundingClientRect().height,r=e.getBoundingClientRect().height;if(e.offsetTop+r>t.scrollTop+n-5){const i=e.offsetTop-n+r+5;t.scrollTop=i}else if(e.offsetTop<t.scrollTop){const n=e.offsetTop-5;t.scrollTop=n}}}e.has("options")&&(this.calculatePosition(),this.cursorIndex=0)}renderOptionDefault(e,t){const n=this.renderOptionName||this.renderOptionNameDefault,r=this.renderOptionDetail||this.renderOptionDetailDefault;return t?L(pt(),n(e,t),r(e,t)):L(ut(),n(e,t))}renderOptionNameDefault(e,t){return L(ct(),e.name)}renderOptionDetailDefault(e,t){return L(lt(),e.detail)}handleSelection(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.options[this.cursorIndex];this.fireCustomEvent(Ie.Selection,{selected:t,tabbed:e})}moveCursor(e){const t=Math.max(Math.min(this.cursorIndex+e,this.options.length-1),0);this.setCursor(t)}setCursor(e){e!==this.cursorIndex&&(this.cursorIndex=e,this.fireCustomEvent(Ie.CursorChanged,{index:e}))}handleKeyDown(e){this.visible&&(e.ctrlKey&&"n"===e.key||"ArrowDown"===e.key?(this.moveCursor(1),e.preventDefault()):e.ctrlKey&&"p"===e.key||"ArrowUp"===e.key?(this.moveCursor(-1),e.preventDefault()):"Enter"!==e.key&&"Tab"!==e.key||(this.handleSelection("Tab"===e.key),e.preventDefault()),"Escape"===e.key&&this.fireCustomEvent(Ie.Canceled))}calculatePosition(){const e=this.shadowRoot.querySelector(".container").getBoundingClientRect();if(this.anchorTo){const t=this.anchorTo.getBoundingClientRect(),n=t.top-e.height;n>0&&t.bottom+e.height>window.innerHeight?this.top=n:this.top=t.bottom,this.left=t.left,this.width=t.width}}getEventHandlers(){return[{event:"keydown",method:this.handleKeyDown},{event:"scroll",method:this.calculatePosition}]}render(){const e=(this.renderOption||this.renderOptionDefault).bind(this);return L(at(),this.top,this.left,this.width,this.width,this.visible?"show":"",this.options.map((t,n)=>L(st(),e=>{Math.abs(e.movementX)+Math.abs(e.movementY)>0&&this.setCursor(n)},()=>{this.handleSelection()},n==this.cursorIndex?"focused":"",e(t,n==this.cursorIndex))))}};ft([se({type:Number})],gt.prototype,"top",void 0),ft([se({type:Number})],gt.prototype,"left",void 0),ft([se({type:Number})],gt.prototype,"width",void 0),ft([se({type:Object})],gt.prototype,"anchorTo",void 0),ft([se({type:Boolean})],gt.prototype,"visible",void 0),ft([se({type:Number})],gt.prototype,"cursorIndex",void 0),ft([se({type:Array})],gt.prototype,"options",void 0),ft([se({attribute:!1})],gt.prototype,"renderOption",void 0),ft([se({attribute:!1})],gt.prototype,"renderOptionName",void 0),ft([se({attribute:!1})],gt.prototype,"renderOptionDetail",void 0);gt=ft([re("rp-options")],gt);function mt(){const e=vt(['<rp-textinput @keyup="','" @blur="','" @focus="','" .value="','" placeholder="','"></rp-textinput><rp-options cursorIndex="','" @rp-selection="','" .renderOptionDetail="','" .renderOptionName="','" .renderOption="','" .anchorTo="','" .options="','" ?visible="','"></rp-options>']);return mt=function(){return e},e}function yt(){const e=vt([":host {\n        display: flex;\n        flex-direction: column;\n      }"]);return yt=function(){return e},e}function vt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var bt=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};let xt=class extends Fe{constructor(){super(),this.selected=[],this.placeholder="",this.input="",this.options=[],this.quietMillis=200,this.renderOptionDetail=(()=>{})}static get styles(){return ue(yt())}updated(e){if(super.updated(e),e.has("selected")&&(this.input="",this.shadowRoot.querySelector("input").blur()),e.has("input")&&!e.has("selected")){if(!this.input)return void(this.options=[]);this.lastQuery&&window.clearTimeout(this.lastQuery),this.lastQuery=window.setTimeout(()=>{this.fetchOptions(this.input)},this.quietMillis)}e.has("cursorIndex")&&this.options.length>0&&this.query&&!this.complete&&this.cursorIndex>this.options.length-20&&this.fetchOptions(this.query,this.page+1)}handleOptionSelection(e){const t=e.detail.selected;this.selected=[t],this.options=[],this.input=t.name}fetchOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!this.fetching){this.cancelToken&&this.cancelToken.cancel();const n=fe.a.CancelToken;this.cancelToken=n.source(),this.fetching=!0,ve(this.endpoint+encodeURIComponent(e)+"&page="+t,this.cancelToken.token).then(n=>{if(0===t)this.options=n.data.filter(e=>e.level>0),this.cursorIndex=0,this.query=e,this.complete=0===this.options.length;else{const e=n.data.filter(e=>e.level>0);e.length>0&&(this.options=[...this.options,...e]),this.complete=0===e.length}this.fetching=!1,this.page=t}).catch(e=>{})}}handleBlur(){window.setTimeout(()=>{this.options=[]},100)}handleFocus(){}handleKeyUp(e){const t=e.currentTarget;this.input=t.inputElement.value.trim()}handleCancel(){this.options=[]}handleCursorChanged(e){this.cursorIndex=e.detail.index}getEventHandlers(){return[{event:Ie.Canceled,method:this.handleCancel},{event:Ie.CursorChanged,method:this.handleCursorChanged}]}firstUpdated(e){this.anchorElement=this.shadowRoot.querySelector("rp-textinput")}render(){return L(mt(),this.handleKeyUp,this.handleBlur,this.handleFocus,this.input,this.placeholder,this.cursorIndex,this.handleOptionSelection,this.renderOptionDetail,this.renderOptionName,this.renderOption,this.anchorElement,this.options,this.input.length>0&&this.options.length>0)}};bt([se({type:Array})],xt.prototype,"selected",void 0),bt([se()],xt.prototype,"placeholder",void 0),bt([se()],xt.prototype,"endpoint",void 0),bt([se({type:String})],xt.prototype,"input",void 0),bt([se({type:Array})],xt.prototype,"options",void 0),bt([se({type:Number})],xt.prototype,"quietMillis",void 0),bt([se({type:Boolean})],xt.prototype,"fetching",void 0),bt([se({attribute:!1})],xt.prototype,"cursorIndex",void 0),bt([se({attribute:!1})],xt.prototype,"anchorElement",void 0),bt([se({attribute:!1})],xt.prototype,"renderOption",void 0),bt([se({attribute:!1})],xt.prototype,"renderOptionName",void 0),bt([se({attribute:!1})],xt.prototype,"renderOptionDetail",void 0);xt=bt([re("rp-select")],xt);const wt=0,kt=1,_t=2,St=3,Et=4,Ct=5,Ot=6,At=(e,t)=>0===e.indexOf(t,0),Pt=(e,t,n)=>{const r=e.substring(1);if("("===r[0])return!0;{const e=r.split(".")[0].toLowerCase();if(!n)return t.indexOf(e)>=0;for(const n of t)if(At(n,e))return!0;return!1}},Tt=e=>e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||"_"===e,Rt=e=>{let t=0;for(const n of e)'"'===n&&t++;return t%2!=0};const zt=(e,t)=>t?e.filter(e=>!!e.signature&&0===e.signature.indexOf(t)):e,Nt=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(t||"").split(".");let i=e.root_no_session,o="",s="";for(;r.length>0;)if(s=r.shift()){const t=i.find(e=>e.key===s);if(!t){i=i.filter(e=>e.key.startsWith(s.toLowerCase()));break}{const r=e.types.find(e=>e.name===t.type);if(r&&r.properties)i=r.properties,o+=s+".";else{if(!r||!r.property_template){i=i.filter(e=>e.key.startsWith(s.toLowerCase()));break}{o+=s+".";const e=r.property_template;i=n[r.name]?n[r.name].map(t=>({key:e.key.replace("{key}",t),help:e.help.replace("{key}",t),type:e.type})):[]}}}}return i.map(e=>{return{name:"__default__"===e.key?o.substr(0,o.length-1):o+e.key,summary:e.help}})};var jt=n(4),qt=n.n(jt);const Lt=new WeakMap,Bt=i(e=>t=>{if(!(t instanceof E))throw new Error("unsafeHTML can only be used in text bindings");const n=Lt.get(t);if(void 0!==n&&w(e)&&e===n.value&&t.value===n.fragment)return;const r=document.createElement("template");r.innerHTML=e;const i=document.importNode(r.content,!0);t.setValue(i),Lt.set(t,{value:e,fragment:i})});function Dt(){const e=Ht(['<div class="current-fn">',"</div>"]);return Dt=function(){return e},e}function It(){const e=Ht(["<style>#anchor {\n          top:","px;\n          left:",'px;\n        }</style><div class="container"><div id="anchor"></div><rp-textinput name="','" placeholder="','" @keyup="','" @click="','" @input="','" .value="','" ?textarea="','"></rp-textinput><rp-options @rp-selection="','" @rp-canceled="','" .anchorTo="','" .options="','" .renderOption="','" ?visible="','">','<div class="footer">Tab to complete, enter to select</div></rp-options></div>']);return It=function(){return e},e}function Ft(){const e=Ht(['<div style="font-size: 85%">',"</div>"]);return Ft=function(){return e},e}function Ut(){const e=Ht(['<div><div style="','">',"</div>","</div>"]);return Ut=function(){return e},e}function $t(){const e=Ht(['<div style="display:inline-block; font-weight: 300; font-size: 85%">','</div><div class="detail">',"</div>"]);return $t=function(){return e},e}function Mt(){const e=Ht(['<div style="','"><div style="display:inline-block;">ƒ</div><div style="display:inline-block">',"</div>","</div>"]);return Mt=function(){return e},e}function Vt(){const e=Ht([":host {\n        display: block;\n      }\n\n      .container {\n        position: relative;\n        height: 100%;\n      }\n\n      #anchor {\n        /* background: rgba(132, 40, 158, .1); */\n        position: absolute;\n        visibility: hidden;\n        width: 250px;\n        height: 20px;\n      }\n\n      .fn-marker {\n        font-weight: bold;\n        font-size: 42px;\n      }\n\n      .option-slot {\n        background: #fff;\n      }\n\n      .current-fn {\n        padding: 10px;\n        margin: 5px;\n        background: var(--color-widget-bg);\n        color: rgba(0, 0, 0, .5);\n        border-radius: var(--curvature);\n        font-size: 90%;\n      }\n\n      .footer {\n        padding: 5px 10px;\n        background: var(--color-primary-light);\n        color: rgba(0, 0, 0, .5);\n        font-size: 80%;\n      }\n\n      code {\n        background: rgba(0,0,0,.1);\n        padding: 1px 5px;\n        border-radius: var(--curvature);\n      }"]);return Vt=function(){return e},e}function Ht(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Wt,Zt=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};const Xt=n(30),Kt=i(e=>t=>{t.setValue(Bt(Xt(e)))});let Jt=Wt=class extends Fe{constructor(){super(...arguments),this.anchorPosition={left:0,top:0},this.placeholder="",this.options=[],this.name="",this.value=""}static get styles(){return ue(Vt())}firstUpdated(e){this.textInputElement=this.shadowRoot.querySelector("rp-textinput"),this.anchorElement=this.shadowRoot.querySelector("#anchor"),this.completionsEndpoint&&ve(this.completionsEndpoint).then(e=>{this.schema=e.data}),this.functionsEndpoint&&ve(this.functionsEndpoint).then(e=>{this.functions=e.data}),this.fieldsEndpoint&&(async e=>{if(!e)return new Promise((e,t)=>e([]));let t=[],n=e;for(;n;){const e=await ye(n);t=t.concat(e.assets),n=e.next}return t})(this.fieldsEndpoint).then(e=>{this.keyedAssets={fields:e.map(e=>e.key)}}),this.hiddenElement=document.createElement("input"),this.hiddenElement.setAttribute("type","hidden"),this.hiddenElement.setAttribute("name",this.getAttribute("name")),this.hiddenElement.setAttribute("value",this.getAttribute("value")||""),this.appendChild(this.hiddenElement)}handleKeyUp(e){if(this.options.length>0){if("ArrowUp"===e.key||"ArrowDown"===e.key)return;if(e.ctrlKey&&("n"===e.key||"p"===e.key))return;if("Enter"===e.key||"Escape"===e.key||"Tab"===e.key||e.key.startsWith("Control"))return;this.executeQuery(e.currentTarget)}}handleClick(e){this.executeQuery(e.currentTarget)}executeQuery(e){if(this.inputElement=e.inputElement,this.currentFunction=null,this.schema){const n=e.inputElement.selectionStart,r=e.inputElement.value.substring(0,n),i=Wt.parser.findExpressions(r).find(e=>e.start<=n&&(e.end>n||e.end===n&&!e.closed));if(i){const n=i.text.indexOf("(")>-1;if(n){const e=Wt.parser.functionContext(i.text);if(e){const t=zt(this.functions,e);t.length>0&&(this.currentFunction=t[0])}}for(let r=i.text.length;r>=0;r--){const o=i.text[r];if("@"===o||"("===o||" "===o||","===o||")"===o||0===r){"("!==o&&" "!==o&&","!==o&&")"!==o&&"@"!==o||r++;var t=qt()(e.inputElement,i.start+r);return this.anchorPosition={left:t.left-2-this.inputElement.scrollLeft,top:t.top-this.inputElement.scrollTop},this.query=i.text.substr(r,i.text.length-r),void(this.options=[...Nt(this.schema,this.query,this.keyedAssets),...n?zt(this.functions,this.query):[]])}}}else this.options=[],this.query=""}}updated(e){super.updated(e),e.has("value")&&this.hiddenElement.setAttribute("value",this.value)}handleInput(e){const t=e.currentTarget;this.executeQuery(t),this.value=t.inputElement.value}handleOptionCanceled(e){this.options=[],this.query=""}handleOptionSelection(e){const t=e.detail.selected,n=e.detail.tabbed;let r="";if(r=t.signature?t.signature.substr(0,t.signature.indexOf("(")+1):t.name,this.inputElement){let e=this.inputElement.value;const t=this.inputElement.selectionStart-this.query.length,n=e.substr(0,t),i=e.substr(t+this.query.length),o=n.length+r.length;this.inputElement.value=n+r+i,this.inputElement.setSelectionRange(o,o);const s=qt()(this.inputElement,o);s.left>this.inputElement.width&&(this.inputElement.scrollLeft=s.left)}this.query="",this.options=[],n&&this.executeQuery(this.textInputElement)}renderCompletionOption(e,t){if(e.signature){const n=e.signature.indexOf("("),r=e.signature.substr(0,n),i=e.signature.substr(n);return L(Mt(),t?"font-weight: 400":"",r,t?L($t(),i,Kt(e.summary)):null)}return L(Ut(),t?"font-weight: 400":"",e.name,t?L(Ft(),e.summary):null)}render(){return L(It(),this.anchorPosition.top,this.anchorPosition.left,this.name,this.placeholder,this.handleKeyUp,this.handleClick,this.handleInput,this.value,this.textarea,this.handleOptionSelection,this.handleOptionCanceled,this.anchorElement,this.options,this.renderCompletionOption,this.options.length>0,this.currentFunction?L(Dt(),this.renderCompletionOption(this.currentFunction,!0)):null)}};Jt.parser=new class{constructor(e,t){this.expressionPrefix=e,this.allowedTopLevels=t}expressionContext(e){const t=this.findExpressions(e);if(0===t.length)return null;const n=t[t.length-1];return n.end<e.length||n.closed?null:n.text.substring(1)}autoCompleteContext(e){if(Rt(e))return null;const t=[];let n="",r=!1,i=!1,o="";for(let s=e.length-1;s>=0;s--){const a=e[s];if(" "===a&&(r=!0),","===a&&(r=!0,"("!==t[t.length-1]&&t.push("(")),")"!==a||i||(r=!0,t.push("("),t.push("(")),'"'===a&&(i=!i),r&&("("!==a||i||("("===t[t.length-1]&&t.pop(),0===t.length&&(r=!1))),"("===a&&""===n&&(o="#"),!(r||i||"("===a&&""===n)){if(!Tt(a)&&"."!==a)break;n=a+n}}return n.match(/[A-Za-z][\w]*(\.[\w]+)*/)?o+n:null}functionContext(e){let t=Rt(e)?Et:Ot,n="",r="("===e[-1]?0:1;for(let i=e.length-1;i>=0;i--){const o=e[i];if("@"===o)return"";if(t===Ot)0!==r||!Tt(o)&&"."!==o?'"'===o?t=Et:"("===o?r--:")"===o&&r++:(t=_t,n=o+n);else if(t===_t){if(!Tt(o)&&"."!==o)return n;n=o+n}else t===Et&&'"'===o&&(t=Ot)}return""}getContactFields(e){const t={},n=/((parent|child\.)*contact\.)*fields\.([a-z0-9_]+)/g,r=this.findExpressions(e);for(const e of r){let r;for(;r=n.exec(e.text);)t[r[3]]=!0}return Object.keys(t)}findExpressions(e){const t=[];let n=wt,r=null,i=0;for(let o=0;o<e.length;o++){const s=e[o],a=o<e.length-1?e[o+1]:0,l=o<e.length-2?e[o+2]:0;if(n===wt?s!==this.expressionPrefix||!Tt(a)&&"("!==a?s===this.expressionPrefix&&a===this.expressionPrefix&&(n=Ct):(n=kt,r={start:o,end:null,text:s,closed:!1}):n===kt?(Tt(s)?n=_t:"("===s&&(n=St,i+=1),r.text+=s):n===_t?r.text+=s:n===St?("("===s?i+=1:")"===s?i-=1:'"'===s&&(n=Et),r.text+=s,0===i&&(r.end=o+1)):n===Et?('"'===s&&(n=St),r.text+=s):n===Ct&&(n=wt),n===_t&&(!Tt(a)&&"."!==a||"."===a&&!Tt(l))&&(r.end=o+1),null!=r&&(null!=r.end||0===a)){const e=0===a;Pt(r.text,this.allowedTopLevels,e)&&(r.closed="("===r.text[1]&&0===i,r.end=o+1,t.push(r)),r=null,n=wt}}return t}}("@",["contact","fields","urns"]),Zt([se({type:Object})],Jt.prototype,"anchorPosition",void 0),Zt([se({attribute:!1})],Jt.prototype,"currentFunction",void 0),Zt([se({type:String})],Jt.prototype,"placeholder",void 0),Zt([se({attribute:!1})],Jt.prototype,"textInputElement",void 0),Zt([se({attribute:!1})],Jt.prototype,"anchorElement",void 0),Zt([se({type:Array})],Jt.prototype,"options",void 0),Zt([se({type:String})],Jt.prototype,"name",void 0),Zt([se({type:String})],Jt.prototype,"value",void 0),Zt([se({type:String})],Jt.prototype,"completionsEndpoint",void 0),Zt([se({type:String})],Jt.prototype,"functionsEndpoint",void 0),Zt([se({type:String})],Jt.prototype,"fieldsEndpoint",void 0),Zt([se({type:Boolean})],Jt.prototype,"textarea",void 0);Jt=Wt=Zt([re("rp-completion")],Jt)}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL3V0aWxzLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvZGVmYXVsdHMuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9hdXRvc2l6ZS9kaXN0L2F1dG9zaXplLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvdGV4dGFyZWEtY2FyZXQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9iaW5kLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2FkYXB0ZXJzL3hoci5qcyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2NyZWF0ZUVycm9yLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NhbmNlbC9pc0NhbmNlbC5qcyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvQ2FuY2VsLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2F4aW9zLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvaXMtYnVmZmVyL2luZGV4LmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvQXhpb3MuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9ub3JtYWxpemVIZWFkZXJOYW1lLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvc2V0dGxlLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvZW5oYW5jZUVycm9yLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvYnVpbGRVUkwuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9wYXJzZUhlYWRlcnMuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9pc1VSTFNhbWVPcmlnaW4uanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9idG9hLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvY29va2llcy5qcyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL0ludGVyY2VwdG9yTWFuYWdlci5qcyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2Rpc3BhdGNoUmVxdWVzdC5qcyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL3RyYW5zZm9ybURhdGEuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9pc0Fic29sdXRlVVJMLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvY29tYmluZVVSTHMuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY2FuY2VsL0NhbmNlbFRva2VuLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvc3ByZWFkLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvbWFya2VkL2xpYi9tYXJrZWQuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uLi9zcmMvbGliL2RpcmVjdGl2ZS50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4uL3NyYy9saWIvZG9tLnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi4vc3JjL2xpYi9wYXJ0LnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi4vc3JjL2xpYi90ZW1wbGF0ZS50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4uL3NyYy9saWIvdGVtcGxhdGUtaW5zdGFuY2UudHMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uLi9zcmMvbGliL3RlbXBsYXRlLXJlc3VsdC50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4uL3NyYy9saWIvcGFydHMudHMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uLi9zcmMvbGliL2RlZmF1bHQtdGVtcGxhdGUtcHJvY2Vzc29yLnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi4vc3JjL2xpYi90ZW1wbGF0ZS1mYWN0b3J5LnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi4vc3JjL2xpYi9yZW5kZXIudHMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy9zcmMvbGl0LWh0bWwudHMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uLi9zcmMvbGliL21vZGlmeS10ZW1wbGF0ZS50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4uL3NyYy9saWIvc2hhZHktcmVuZGVyLnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi4vc3JjL2xpYi91cGRhdGluZy1lbGVtZW50LnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi4vc3JjL2xpYi9kZWNvcmF0b3JzLnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi4vc3JjL2xpYi9jc3MtdGFnLnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvc3JjL2xpdC1lbGVtZW50LnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9zcmMvdXRpbHMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL3NyYy9hbGlhc2VkaXRvci9BbGlhc0VkaXRvci50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vc3JjL2J1dHRvbi9CdXR0b24udHMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL3NyYy9pbnRlcmZhY2VzLnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9zcmMvUmFwaWRFbGVtZW50LnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9zcmMvZGlhbG9nL0RpYWxvZy50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vc3JjL3RleHRpbnB1dC9UZXh0SW5wdXQudHMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL3NyYy9sYWJlbC9MYWJlbC50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vc3JjL29wdGlvbnMvT3B0aW9ucy50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vc3JjL3NlbGVjdC9TZWxlY3QudHMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL3NyYy9jb21wbGV0aW9uL0V4Y2VsbGVudFBhcnNlci50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vc3JjL2NvbXBsZXRpb24vaGVscGVycy50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4uL3NyYy9kaXJlY3RpdmVzL3Vuc2FmZS1odG1sLnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9zcmMvY29tcGxldGlvbi9Db21wbGV0aW9uLnRzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsIndpbmRvdyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJyZXF1aXJlIiwiaXNCdWZmZXIiLCJ0b1N0cmluZyIsImlzQXJyYXkiLCJ2YWwiLCJpc09iamVjdCIsImlzRnVuY3Rpb24iLCJmb3JFYWNoIiwib2JqIiwiZm4iLCJsZW5ndGgiLCJpc0FycmF5QnVmZmVyIiwiaXNGb3JtRGF0YSIsIkZvcm1EYXRhIiwiaXNBcnJheUJ1ZmZlclZpZXciLCJBcnJheUJ1ZmZlciIsImlzVmlldyIsImJ1ZmZlciIsImlzU3RyaW5nIiwiaXNOdW1iZXIiLCJpc1VuZGVmaW5lZCIsImlzRGF0ZSIsImlzRmlsZSIsImlzQmxvYiIsImlzU3RyZWFtIiwicGlwZSIsImlzVVJMU2VhcmNoUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwiaXNTdGFuZGFyZEJyb3dzZXJFbnYiLCJuYXZpZ2F0b3IiLCJwcm9kdWN0IiwiZG9jdW1lbnQiLCJtZXJnZSIsInJlc3VsdCIsImFzc2lnblZhbHVlIiwiYXJndW1lbnRzIiwiZXh0ZW5kIiwiYSIsImIiLCJ0aGlzQXJnIiwidHJpbSIsInN0ciIsInJlcGxhY2UiLCJwcm9jZXNzIiwidXRpbHMiLCJub3JtYWxpemVIZWFkZXJOYW1lIiwiREVGQVVMVF9DT05URU5UX1RZUEUiLCJDb250ZW50LVR5cGUiLCJzZXRDb250ZW50VHlwZUlmVW5zZXQiLCJoZWFkZXJzIiwiYWRhcHRlciIsImRlZmF1bHRzIiwiWE1MSHR0cFJlcXVlc3QiLCJ0cmFuc2Zvcm1SZXF1ZXN0IiwiZGF0YSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0cmFuc2Zvcm1SZXNwb25zZSIsInBhcnNlIiwiZSIsInRpbWVvdXQiLCJ4c3JmQ29va2llTmFtZSIsInhzcmZIZWFkZXJOYW1lIiwibWF4Q29udGVudExlbmd0aCIsInZhbGlkYXRlU3RhdHVzIiwic3RhdHVzIiwiY29tbW9uIiwiQWNjZXB0IiwibWV0aG9kIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyIsIl9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fIiwidW5kZWZpbmVkIiwia2V5cyIsInZhbHVlcyIsIm1hcCIsIk1hcCIsImhhcyIsImluZGV4T2YiLCJzZXQiLCJwdXNoIiwiZGVsZXRlIiwiaW5kZXgiLCJzcGxpY2UiLCJjcmVhdGVFdmVudCIsIkV2ZW50IiwiYnViYmxlcyIsImV2dCIsImluaXRFdmVudCIsImFzc2lnbiIsInRhIiwibm9kZU5hbWUiLCJoZWlnaHRPZmZzZXQiLCJjbGllbnRXaWR0aCIsImNhY2hlZEhlaWdodCIsInBhZ2VSZXNpemUiLCJ1cGRhdGUiLCJkZXN0cm95Iiwic3R5bGUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGVpZ2h0IiwicmVzaXplIiwib3ZlcmZsb3dZIiwib3ZlcmZsb3dYIiwid29yZFdyYXAiLCJhZGRFdmVudExpc3RlbmVyIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImJveFNpemluZyIsInBhcnNlRmxvYXQiLCJwYWRkaW5nVG9wIiwicGFkZGluZ0JvdHRvbSIsImJvcmRlclRvcFdpZHRoIiwiYm9yZGVyQm90dG9tV2lkdGgiLCJpc05hTiIsImNoYW5nZU92ZXJmbG93Iiwid2lkdGgiLCJvZmZzZXRXaWR0aCIsInNjcm9sbEhlaWdodCIsIm92ZXJmbG93cyIsImVsIiwiYXJyIiwicGFyZW50Tm9kZSIsIkVsZW1lbnQiLCJzY3JvbGxUb3AiLCJub2RlIiwiZ2V0UGFyZW50T3ZlcmZsb3dzIiwiZG9jVG9wIiwiZG9jdW1lbnRFbGVtZW50Iiwic3R5bGVIZWlnaHQiLCJNYXRoIiwicm91bmQiLCJjb21wdXRlZCIsImFjdHVhbEhlaWdodCIsIm9mZnNldEhlaWdodCIsImRpc3BhdGNoRXZlbnQiLCJlcnIiLCJtZXRob2RzIiwiYXV0b3NpemUiLCJvcHRpb25zIiwiQXJyYXkiLCJ4IiwiZGVmYXVsdCIsImFwcGx5IiwicHJvcGVydGllcyIsImlzQnJvd3NlciIsImlzRmlyZWZveCIsIm1veklubmVyU2NyZWVuWCIsImdldENhcmV0Q29vcmRpbmF0ZXMiLCJlbGVtZW50IiwicG9zaXRpb24iLCJFcnJvciIsImRlYnVnIiwicXVlcnlTZWxlY3RvciIsInJlbW92ZUNoaWxkIiwiZGl2IiwiY3JlYXRlRWxlbWVudCIsImlkIiwiYm9keSIsImFwcGVuZENoaWxkIiwiY3VycmVudFN0eWxlIiwiaXNJbnB1dCIsIndoaXRlU3BhY2UiLCJ2aXNpYmlsaXR5IiwicHJvcCIsImxpbmVIZWlnaHQiLCJwYXJzZUludCIsIm92ZXJmbG93IiwidGV4dENvbnRlbnQiLCJzdWJzdHJpbmciLCJzcGFuIiwiY29vcmRpbmF0ZXMiLCJ0b3AiLCJvZmZzZXRUb3AiLCJsZWZ0Iiwib2Zmc2V0TGVmdCIsImJhY2tncm91bmRDb2xvciIsImFyZ3MiLCJzZXR0bGUiLCJidWlsZFVSTCIsInBhcnNlSGVhZGVycyIsImlzVVJMU2FtZU9yaWdpbiIsImNyZWF0ZUVycm9yIiwiYnRvYSIsImNvbmZpZyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVxdWVzdERhdGEiLCJyZXF1ZXN0SGVhZGVycyIsInJlcXVlc3QiLCJsb2FkRXZlbnQiLCJ4RG9tYWluIiwiWERvbWFpblJlcXVlc3QiLCJ1cmwiLCJvbnByb2dyZXNzIiwib250aW1lb3V0IiwiYXV0aCIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJBdXRob3JpemF0aW9uIiwib3BlbiIsInRvVXBwZXJDYXNlIiwicGFyYW1zIiwicGFyYW1zU2VyaWFsaXplciIsInJlYWR5U3RhdGUiLCJyZXNwb25zZVVSTCIsInJlc3BvbnNlSGVhZGVycyIsImdldEFsbFJlc3BvbnNlSGVhZGVycyIsInJlc3BvbnNlIiwicmVzcG9uc2VUeXBlIiwicmVzcG9uc2VUZXh0Iiwic3RhdHVzVGV4dCIsIm9uZXJyb3IiLCJjb29raWVzIiwieHNyZlZhbHVlIiwid2l0aENyZWRlbnRpYWxzIiwicmVhZCIsInRvTG93ZXJDYXNlIiwic2V0UmVxdWVzdEhlYWRlciIsIm9uRG93bmxvYWRQcm9ncmVzcyIsIm9uVXBsb2FkUHJvZ3Jlc3MiLCJ1cGxvYWQiLCJjYW5jZWxUb2tlbiIsInByb21pc2UiLCJ0aGVuIiwiY2FuY2VsIiwiYWJvcnQiLCJzZW5kIiwiZW5oYW5jZUVycm9yIiwibWVzc2FnZSIsImNvZGUiLCJlcnJvciIsIl9fQ0FOQ0VMX18iLCJDYW5jZWwiLCJ0aGlzIiwiQXhpb3MiLCJjcmVhdGVJbnN0YW5jZSIsImRlZmF1bHRDb25maWciLCJjb250ZXh0IiwiaW5zdGFuY2UiLCJheGlvcyIsImluc3RhbmNlQ29uZmlnIiwiQ2FuY2VsVG9rZW4iLCJpc0NhbmNlbCIsImFsbCIsInByb21pc2VzIiwic3ByZWFkIiwiY29uc3RydWN0b3IiLCJyZWFkRmxvYXRMRSIsInNsaWNlIiwiaXNTbG93QnVmZmVyIiwiX2lzQnVmZmVyIiwiSW50ZXJjZXB0b3JNYW5hZ2VyIiwiZGlzcGF0Y2hSZXF1ZXN0IiwiaW50ZXJjZXB0b3JzIiwiY2hhaW4iLCJpbnRlcmNlcHRvciIsInVuc2hpZnQiLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsInNoaWZ0IiwiY2FjaGVkU2V0VGltZW91dCIsImNhY2hlZENsZWFyVGltZW91dCIsImRlZmF1bHRTZXRUaW1vdXQiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImZ1biIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJjdXJyZW50UXVldWUiLCJxdWV1ZSIsImRyYWluaW5nIiwicXVldWVJbmRleCIsImNsZWFuVXBOZXh0VGljayIsImNvbmNhdCIsImRyYWluUXVldWUiLCJsZW4iLCJydW4iLCJtYXJrZXIiLCJydW5DbGVhclRpbWVvdXQiLCJJdGVtIiwiYXJyYXkiLCJub29wIiwibmV4dFRpY2siLCJ0aXRsZSIsImJyb3dzZXIiLCJlbnYiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwib24iLCJhZGRMaXN0ZW5lciIsIm9uY2UiLCJvZmYiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXQiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwibGlzdGVuZXJzIiwiYmluZGluZyIsImN3ZCIsImNoZGlyIiwiZGlyIiwidW1hc2siLCJub3JtYWxpemVkTmFtZSIsImVuY29kZSIsImVuY29kZVVSSUNvbXBvbmVudCIsInNlcmlhbGl6ZWRQYXJhbXMiLCJwYXJ0cyIsInYiLCJ0b0lTT1N0cmluZyIsImpvaW4iLCJpZ25vcmVEdXBsaWNhdGVPZiIsInBhcnNlZCIsInNwbGl0IiwibGluZSIsInN1YnN0ciIsIm9yaWdpblVSTCIsIm1zaWUiLCJ0ZXN0IiwidXNlckFnZW50IiwidXJsUGFyc2luZ05vZGUiLCJyZXNvbHZlVVJMIiwiaHJlZiIsInNldEF0dHJpYnV0ZSIsInByb3RvY29sIiwiaG9zdCIsInNlYXJjaCIsImhhc2giLCJob3N0bmFtZSIsInBvcnQiLCJwYXRobmFtZSIsImNoYXJBdCIsImxvY2F0aW9uIiwicmVxdWVzdFVSTCIsImNoYXJzIiwiRSIsImlucHV0IiwiYmxvY2siLCJjaGFyQ29kZSIsIlN0cmluZyIsIm91dHB1dCIsImlkeCIsImNoYXJDb2RlQXQiLCJ3cml0ZSIsImV4cGlyZXMiLCJwYXRoIiwiZG9tYWluIiwic2VjdXJlIiwiY29va2llIiwiRGF0ZSIsInRvR01UU3RyaW5nIiwibWF0Y2giLCJSZWdFeHAiLCJkZWNvZGVVUklDb21wb25lbnQiLCJyZW1vdmUiLCJub3ciLCJoYW5kbGVycyIsInVzZSIsImVqZWN0IiwiaCIsInRyYW5zZm9ybURhdGEiLCJpc0Fic29sdXRlVVJMIiwiY29tYmluZVVSTHMiLCJ0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkIiwidGhyb3dJZlJlcXVlc3RlZCIsImJhc2VVUkwiLCJyZWFzb24iLCJmbnMiLCJyZWxhdGl2ZVVSTCIsImV4ZWN1dG9yIiwiVHlwZUVycm9yIiwicmVzb2x2ZVByb21pc2UiLCJ0b2tlbiIsInNvdXJjZSIsImNhbGxiYWNrIiwiZ2xvYmFsIiwibmV3bGluZSIsImZlbmNlcyIsImhyIiwiaGVhZGluZyIsImJsb2NrcXVvdGUiLCJsaXN0IiwiaHRtbCIsImRlZiIsIm5wdGFibGUiLCJ0YWJsZSIsImxoZWFkaW5nIiwiX3BhcmFncmFwaCIsInRleHQiLCJMZXhlciIsInRva2VucyIsImxpbmtzIiwibWFya2VkIiwicnVsZXMiLCJub3JtYWwiLCJwZWRhbnRpYyIsImdmbSIsIl9sYWJlbCIsIl90aXRsZSIsImVkaXQiLCJnZXRSZWdleCIsImJ1bGxldCIsIml0ZW0iLCJfdGFnIiwiX2NvbW1lbnQiLCJwYXJhZ3JhcGgiLCJsZXgiLCJzcmMiLCJuZXh0IiwibG9vc2UiLCJjYXAiLCJidWxsIiwibGlzdFN0YXJ0IiwibGlzdEl0ZW1zIiwic3BhY2UiLCJ0YWciLCJpc29yZGVyZWQiLCJpc3Rhc2siLCJpc2NoZWNrZWQiLCJleGVjIiwidHlwZSIsImxhc3RUb2tlbiIsInRyaW1SaWdodCIsImNvZGVCbG9ja1N0eWxlIiwicnRyaW0iLCJsYW5nIiwiZGVwdGgiLCJoZWFkZXIiLCJzcGxpdENlbGxzIiwiYWxpZ24iLCJjZWxscyIsIm9yZGVyZWQiLCJzdGFydCIsInNtYXJ0TGlzdHMiLCJ0YXNrIiwiY2hlY2tlZCIsInNhbml0aXplIiwicHJlIiwic2FuaXRpemVyIiwiZXNjYXBlIiwiaW5saW5lIiwiYXV0b2xpbmsiLCJsaW5rIiwicmVmbGluayIsIm5vbGluayIsInN0cm9uZyIsImVtIiwiYnIiLCJkZWwiLCJJbmxpbmVMZXhlciIsInJlbmRlcmVyIiwiUmVuZGVyZXIiLCJicmVha3MiLCJUZXh0UmVuZGVyZXIiLCJQYXJzZXIiLCJzbHVnZ2VyIiwiU2x1Z2dlciIsInNlZW4iLCJlc2NhcGVUZXN0IiwiZXNjYXBlUmVwbGFjZSIsImNoIiwicmVwbGFjZW1lbnRzIiwiZXNjYXBlVGVzdE5vRW5jb2RlIiwiZXNjYXBlUmVwbGFjZU5vRW5jb2RlIiwidW5lc2NhcGUiLCJfIiwiZnJvbUNoYXJDb2RlIiwicmVnZXgiLCJvcHQiLCJjbGVhblVybCIsImJhc2UiLCJwcm90Iiwib3JpZ2luSW5kZXBlbmRlbnRVcmwiLCJiYXNlVXJscyIsInJlc29sdmVVcmwiLCJlbmNvZGVVUkkiLCJfcHVuY3R1YXRpb24iLCJfZXNjYXBlcyIsIl9zY2hlbWUiLCJfZW1haWwiLCJfYXR0cmlidXRlIiwiX2hyZWYiLCJfZXh0ZW5kZWRfZW1haWwiLCJfYmFja3BlZGFsIiwicHJldkNhcFplcm8iLCJvdXQiLCJpbkxpbmsiLCJpblJhd0Jsb2NrIiwibGFzdFBhcmVuSW5kZXgiLCJmaW5kQ2xvc2luZ0JyYWNrZXQiLCJsaW5rTGVuIiwib3V0cHV0TGluayIsImVzY2FwZXMiLCJjb2Rlc3BhbiIsIm1hbmdsZSIsInNtYXJ0eXBhbnRzIiwiaW1hZ2UiLCJyYW5kb20iLCJpbmZvc3RyaW5nIiwiZXNjYXBlZCIsImhpZ2hsaWdodCIsImxhbmdQcmVmaXgiLCJxdW90ZSIsImxldmVsIiwicmF3IiwiaGVhZGVySWRzIiwiaGVhZGVyUHJlZml4Iiwic2x1ZyIsInhodG1sIiwibGlzdGl0ZW0iLCJjaGVja2JveCIsInRhYmxlcm93IiwiY29udGVudCIsInRhYmxlY2VsbCIsImZsYWdzIiwiYmFzZVVybCIsImlubGluZVRleHQiLCJyZXZlcnNlIiwidG9rIiwicG9wIiwicGVlayIsInBhcnNlVGV4dCIsInJvdyIsImNlbGwiLCJqIiwiZXJyTXNnIiwic2lsZW50IiwiY29uc29sZSIsImxvZyIsIm9yaWdpbmFsU2x1ZyIsIiYiLCI8IiwiPiIsIlwiIiwiJyIsInRhcmdldCIsInRhYmxlUm93IiwiY291bnQiLCJvZmZzZXQiLCJjdXJyIiwiaW52ZXJ0Iiwic3VmZkxlbiIsImN1cnJDaGFyIiwiY2hlY2tTYW5pdGl6ZURlcHJlY2F0aW9uIiwid2FybiIsInBlbmRpbmciLCJkb25lIiwic2V0T3B0aW9ucyIsImdldERlZmF1bHRzIiwicGFyc2VyIiwibGV4ZXIiLCJpbmxpbmVMZXhlciIsImciLCJGdW5jdGlvbiIsImRpcmVjdGl2ZXMiLCJXZWFrTWFwIiwiZGlyZWN0aXZlX2RpcmVjdGl2ZSIsImYiLCJpc0RpcmVjdGl2ZSIsImlzQ0VQb2x5ZmlsbCIsImN1c3RvbUVsZW1lbnRzIiwicG9seWZpbGxXcmFwRmx1c2hDYWxsYmFjayIsInJlbW92ZU5vZGVzIiwiY29udGFpbmVyIiwiZW5kIiwibmV4dFNpYmxpbmciLCJub0NoYW5nZSIsIm5vdGhpbmciLCJub2RlTWFya2VyIiwibWFya2VyUmVnZXgiLCJib3VuZEF0dHJpYnV0ZVN1ZmZpeCIsIlRlbXBsYXRlIiwiW29iamVjdCBPYmplY3RdIiwibm9kZXNUb1JlbW92ZSIsInN0YWNrIiwid2Fsa2VyIiwiY3JlYXRlVHJlZVdhbGtlciIsImxhc3RQYXJ0SW5kZXgiLCJwYXJ0SW5kZXgiLCJzdHJpbmdzIiwibmV4dE5vZGUiLCJub2RlVHlwZSIsImhhc0F0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwiZW5kc1dpdGgiLCJzdHJpbmdGb3JQYXJ0IiwibGFzdEF0dHJpYnV0ZU5hbWVSZWdleCIsImF0dHJpYnV0ZUxvb2t1cE5hbWUiLCJhdHRyaWJ1dGVWYWx1ZSIsImdldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsInN0YXRpY3MiLCJ0YWdOYW1lIiwiY3VycmVudE5vZGUiLCJwYXJlbnQiLCJsYXN0SW5kZXgiLCJpbnNlcnQiLCJjcmVhdGVNYXJrZXIiLCJjcmVhdGVUZXh0Tm9kZSIsImluc2VydEJlZm9yZSIsInByZXZpb3VzU2libGluZyIsInN1ZmZpeCIsImlzVGVtcGxhdGVQYXJ0QWN0aXZlIiwicGFydCIsImNyZWF0ZUNvbW1lbnQiLCJ0ZW1wbGF0ZV9pbnN0YW5jZV9UZW1wbGF0ZUluc3RhbmNlIiwidGVtcGxhdGUiLCJwcm9jZXNzb3IiLCJfX3BhcnRzIiwic2V0VmFsdWUiLCJjb21taXQiLCJmcmFnbWVudCIsImNsb25lTm9kZSIsImltcG9ydE5vZGUiLCJub2RlSW5kZXgiLCJoYW5kbGVUZXh0RXhwcmVzc2lvbiIsImluc2VydEFmdGVyTm9kZSIsImhhbmRsZUF0dHJpYnV0ZUV4cHJlc3Npb25zIiwiYWRvcHROb2RlIiwidXBncmFkZSIsInRlbXBsYXRlX3Jlc3VsdF9UZW1wbGF0ZVJlc3VsdCIsImlzQ29tbWVudEJpbmRpbmciLCJjb21tZW50T3BlbiIsImxhc3RJbmRleE9mIiwiYXR0cmlidXRlTWF0Y2giLCJpbm5lckhUTUwiLCJnZXRIVE1MIiwiaXNQcmltaXRpdmUiLCJpc0l0ZXJhYmxlIiwiaXRlcmF0b3IiLCJBdHRyaWJ1dGVDb21taXR0ZXIiLCJkaXJ0eSIsIl9jcmVhdGVQYXJ0IiwicGFydHNfQXR0cmlidXRlUGFydCIsIl9nZXRWYWx1ZSIsImNvbW1pdHRlciIsImRpcmVjdGl2ZSIsInBhcnRzX05vZGVQYXJ0IiwiX19wZW5kaW5nVmFsdWUiLCJzdGFydE5vZGUiLCJlbmROb2RlIiwicmVmIiwiX19pbnNlcnQiLCJfX2NvbW1pdFRleHQiLCJfX2NvbW1pdFRlbXBsYXRlUmVzdWx0IiwiTm9kZSIsIl9fY29tbWl0Tm9kZSIsIl9fY29tbWl0SXRlcmFibGUiLCJjbGVhciIsInRlbXBsYXRlRmFjdG9yeSIsIl9jbG9uZSIsIml0ZW1QYXJ0cyIsIml0ZW1QYXJ0IiwiYXBwZW5kSW50b1BhcnQiLCJpbnNlcnRBZnRlclBhcnQiLCJwYXJ0c19Cb29sZWFuQXR0cmlidXRlUGFydCIsIlByb3BlcnR5Q29tbWl0dGVyIiwic3VwZXIiLCJzaW5nbGUiLCJQcm9wZXJ0eVBhcnQiLCJldmVudE9wdGlvbnNTdXBwb3J0ZWQiLCJjYXB0dXJlIiwiX2UiLCJwYXJ0c19FdmVudFBhcnQiLCJldmVudE5hbWUiLCJldmVudENvbnRleHQiLCJfX2JvdW5kSGFuZGxlRXZlbnQiLCJoYW5kbGVFdmVudCIsIm5ld0xpc3RlbmVyIiwib2xkTGlzdGVuZXIiLCJzaG91bGRSZW1vdmVMaXN0ZW5lciIsInBhc3NpdmUiLCJzaG91bGRBZGRMaXN0ZW5lciIsIl9fb3B0aW9ucyIsImdldE9wdGlvbnMiLCJldmVudCIsImRlZmF1bHRUZW1wbGF0ZVByb2Nlc3NvciIsInByZWZpeCIsInRlbXBsYXRlQ2FjaGUiLCJ0ZW1wbGF0ZUNhY2hlcyIsInN0cmluZ3NBcnJheSIsImtleVN0cmluZyIsImdldFRlbXBsYXRlRWxlbWVudCIsInJlbmRlcl9wYXJ0cyIsImxpdF9odG1sX2h0bWwiLCJfbGVuIiwiX2tleSIsIndhbGtlck5vZGVGaWx0ZXIiLCJyZW1vdmVOb2Rlc0Zyb21UZW1wbGF0ZSIsIm1vZGlmeV90ZW1wbGF0ZV9uZXh0QWN0aXZlSW5kZXhJblRlbXBsYXRlUGFydHMiLCJyZW1vdmVDb3VudCIsIm5vZGVzVG9SZW1vdmVJblRlbXBsYXRlIiwiY3VycmVudFJlbW92aW5nTm9kZSIsImNvdW50Tm9kZXMiLCJnZXRUZW1wbGF0ZUNhY2hlS2V5Iiwic2NvcGVOYW1lIiwiY29tcGF0aWJsZVNoYWR5Q1NTVmVyc2lvbiIsIlNoYWR5Q1NTIiwicHJlcGFyZVRlbXBsYXRlRG9tIiwic2hhZHlUZW1wbGF0ZUZhY3RvcnkiLCJjYWNoZUtleSIsIlRFTVBMQVRFX1RZUEVTIiwic2hhZHlSZW5kZXJTZXQiLCJTZXQiLCJwcmVwYXJlVGVtcGxhdGVTdHlsZXMiLCJyZW5kZXJlZERPTSIsImFkZCIsInN0eWxlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjb25kZW5zZWRTdHlsZSIsInRlbXBsYXRlcyIsImZyb20iLCJyZW1vdmVTdHlsZXNGcm9tTGl0VGVtcGxhdGVzIiwicmVmTm9kZSIsImluc2VydENvdW50Iiwid2Fsa2VySW5kZXgiLCJpbnNlcnROb2RlSW50b1RlbXBsYXRlIiwiZmlyc3RDaGlsZCIsIm5hdGl2ZVNoYWRvdyIsInJlbW92ZXMiLCJKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5IiwiX29iaiIsImRlZmF1bHRDb252ZXJ0ZXIiLCJCb29sZWFuIiwiTnVtYmVyIiwibm90RXF1YWwiLCJvbGQiLCJkZWZhdWx0UHJvcGVydHlEZWNsYXJhdGlvbiIsImF0dHJpYnV0ZSIsImNvbnZlcnRlciIsInJlZmxlY3QiLCJoYXNDaGFuZ2VkIiwibWljcm90YXNrUHJvbWlzZSIsIlNUQVRFX0hBU19VUERBVEVEIiwiU1RBVEVfVVBEQVRFX1JFUVVFU1RFRCIsIlNUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fQVRUUklCVVRFIiwiU1RBVEVfSVNfUkVGTEVDVElOR19UT19QUk9QRVJUWSIsIlNUQVRFX0hBU19DT05ORUNURUQiLCJVcGRhdGluZ0VsZW1lbnQiLCJIVE1MRWxlbWVudCIsIl91cGRhdGVTdGF0ZSIsIl9pbnN0YW5jZVByb3BlcnRpZXMiLCJfdXBkYXRlUHJvbWlzZSIsIl9oYXNDb25uZWN0ZWRSZXNvbHZlciIsIl9jaGFuZ2VkUHJvcGVydGllcyIsIl9yZWZsZWN0aW5nUHJvcGVydGllcyIsImluaXRpYWxpemUiLCJvYnNlcnZlZEF0dHJpYnV0ZXMiLCJmaW5hbGl6ZSIsIl9jbGFzc1Byb3BlcnRpZXMiLCJhdHRyIiwiX2F0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eSIsIl9hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwIiwic3VwZXJQcm9wZXJ0aWVzIiwiZ2V0UHJvdG90eXBlT2YiLCJrIiwiX2Vuc3VyZUNsYXNzUHJvcGVydGllcyIsIm5vQWNjZXNzb3IiLCJvbGRWYWx1ZSIsIl9yZXF1ZXN0VXBkYXRlIiwiY29uZmlndXJhYmxlIiwiZmluYWxpemVkIiwic3VwZXJDdG9yIiwicHJvcHMiLCJwcm9wS2V5cyIsImdldE93blByb3BlcnR5TmFtZXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJjcmVhdGVQcm9wZXJ0eSIsImZyb21BdHRyaWJ1dGUiLCJ0b0F0dHJpYnV0ZSIsIl9zYXZlSW5zdGFuY2VQcm9wZXJ0aWVzIiwiX3YiLCJfYXR0cmlidXRlVG9Qcm9wZXJ0eSIsImN0b3IiLCJhdHRyVmFsdWUiLCJfcHJvcGVydHlWYWx1ZVRvQXR0cmlidXRlIiwicHJvcE5hbWUiLCJfcHJvcGVydHlWYWx1ZUZyb21BdHRyaWJ1dGUiLCJzaG91bGRSZXF1ZXN0VXBkYXRlIiwiX3ZhbHVlSGFzQ2hhbmdlZCIsIl9oYXNSZXF1ZXN0ZWRVcGRhdGUiLCJfZW5xdWV1ZVVwZGF0ZSIsInVwZGF0ZUNvbXBsZXRlIiwicHJldmlvdXNVcGRhdGVQcm9taXNlIiwicmVzIiwicmVqIiwiX2hhc0Nvbm5lY3RlZCIsInBlcmZvcm1VcGRhdGUiLCJoYXNVcGRhdGVkIiwiX2FwcGx5SW5zdGFuY2VQcm9wZXJ0aWVzIiwic2hvdWxkVXBkYXRlIiwiY2hhbmdlZFByb3BlcnRpZXMiLCJfbWFya1VwZGF0ZWQiLCJmaXJzdFVwZGF0ZWQiLCJ1cGRhdGVkIiwic2l6ZSIsIl9wcm9wZXJ0eVRvQXR0cmlidXRlIiwiY3VzdG9tRWxlbWVudCIsImNsYXNzT3JEZXNjcmlwdG9yIiwiY2xhenoiLCJsZWdhY3lDdXN0b21FbGVtZW50IiwiZGVzY3JpcHRvciIsImtpbmQiLCJlbGVtZW50cyIsInN0YW5kYXJkQ3VzdG9tRWxlbWVudCIsInN0YW5kYXJkUHJvcGVydHkiLCJwbGFjZW1lbnQiLCJpbml0aWFsaXplciIsImxlZ2FjeVByb3BlcnR5IiwicHJvdG8iLCJwcm90b09yRGVzY3JpcHRvciIsInN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cyIsIkRvY3VtZW50IiwiQ1NTU3R5bGVTaGVldCIsImNvbnN0cnVjdGlvblRva2VuIiwiQ1NTUmVzdWx0IiwiY3NzVGV4dCIsInNhZmVUb2tlbiIsInN0eWxlU2hlZXQiLCJfc3R5bGVTaGVldCIsInJlcGxhY2VTeW5jIiwiY3NzIiwicmVkdWNlIiwiYWNjIiwidGV4dEZyb21DU1NSZXN1bHQiLCJmbGF0dGVuU3R5bGVzIiwiZmxhdCIsIkluZmluaXR5IiwiYXJyYXlGbGF0IiwibGl0X2VsZW1lbnRfTGl0RWxlbWVudCIsIl9zdHlsZXMiLCJfZ2V0VW5pcXVlU3R5bGVzIiwidXNlclN0eWxlcyIsInJlZHVjZVJpZ2h0IiwicmVuZGVyUm9vdCIsImNyZWF0ZVJlbmRlclJvb3QiLCJTaGFkb3dSb290IiwiYWRvcHRTdHlsZXMiLCJhdHRhY2hTaGFkb3ciLCJhZG9wdGVkU3R5bGVTaGVldHMiLCJfbmVlZHNTaGltQWRvcHRlZFN0eWxlU2hlZXRzIiwiU2NvcGluZ1NoaW0iLCJwcmVwYXJlQWRvcHRlZENzc1RleHQiLCJsb2NhbE5hbWUiLCJjb25uZWN0ZWRDYWxsYmFjayIsInN0eWxlRWxlbWVudCIsInRlbXBsYXRlUmVzdWx0IiwicmVuZGVyIiwiaGFzUmVuZGVyZWQiLCJuZWVkc1Njb3BpbmciLCJmaXJzdFNjb3BlUmVuZGVyIiwicmVuZGVyQ29udGFpbmVyIiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImFwcGVuZEludG8iLCJnZXRDb29raWUiLCJnZXRDbGFzc2VzIiwiY2xhc3NOYW1lcyIsImNsYXNzTmFtZSIsImdldEFzc2V0UGFnZSIsInV0aWxzX2dldFVybCIsImFzc2V0cyIsInJlc3VsdHMiLCJjYXRjaCIsImNzcmYiLCJYLUNTUkZUb2tlbiIsImF4aW9zX2RlZmF1bHQiLCJBbGlhc0VkaXRvcl9BbGlhc0VkaXRvciIsIkFsaWFzRWRpdG9yX3RlbXBsYXRlT2JqZWN0IiwibmV3UGF0aCIsImZlYXR1cmUiLCJvc21faWQiLCJvc21JZCIsImhpZGVBbGlhc0RpYWxvZyIsImZldGNoRmVhdHVyZSIsImdldEVuZHBvaW50IiwiYXV0b3NpemVfZGVmYXVsdCIsInNoYWRvd1Jvb3QiLCJob3ZlcmVkIiwic2VsZWN0aW9uIiwiZGV0YWlsIiwic2VsZWN0ZWQiLCJzaG93QWxpYXNEaWFsb2ciLCJyZW1haW5pbmdQYXRoIiwic2VsZWN0ZWRGZWF0dXJlIiwiY2xpY2thYmxlIiwiaGFzX2NoaWxkcmVuIiwicmVuZGVyZWRGZWF0dXJlIiwiX3RlbXBsYXRlT2JqZWN0MiIsImhhbmRsZVBsYWNlQ2xpY2tlZCIsImFsaWFzZXMiLCJhbGlhcyIsIl90ZW1wbGF0ZU9iamVjdDMiLCJfdGVtcGxhdGVPYmplY3Q0IiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJyZW5kZXJlZENoaWxkcmVuIiwiY2hpbGRyZW4iLCJjaGlsZCIsInJlbmRlckZlYXR1cmUiLCJfdGVtcGxhdGVPYmplY3Q1IiwiZWRpdEZlYXR1cmUiLCJhbGlhc0RpYWxvZyIsImdldEVsZW1lbnRCeUlkIiwiZmlyZVRleHRhcmVhQXV0b3NpemUiLCJyZXF1ZXN0VXBkYXRlIiwiZW5kcG9pbnQiLCJidXR0b24iLCJzZXRQcm9ncmVzcyIsInBheWxvYWQiLCJwb3N0IiwicG9zdFVybCIsIm9wdGlvbiIsIl90ZW1wbGF0ZU9iamVjdDYiLCJfdGVtcGxhdGVPYmplY3Q3IiwiX3RlbXBsYXRlT2JqZWN0OCIsIl90ZW1wbGF0ZU9iamVjdDkiLCJtYXBGZWF0dXJlIiwiZWRpdEZlYXR1cmVJZCIsImVkaXRGZWF0dXJlTmFtZSIsImVkaXRGZWF0dXJlQWxpYXNlcyIsIl90ZW1wbGF0ZU9iamVjdDEwIiwicmVuZGVyT3B0aW9uRGV0YWlsIiwiaGFuZGxlU2VhcmNoU2VsZWN0aW9uIiwiaGFuZGxlTWFwQ2xpY2tlZCIsImhhbmRsZURpYWxvZ0NsaWNrIiwiX19kZWNvcmF0ZSIsIkJ1dHRvbl9CdXR0b24iLCJCdXR0b25fdGVtcGxhdGVPYmplY3QiLCJwcm9ncmVzcyIsImlzUHJvZ3Jlc3MiLCJjbGljayIsIkJ1dHRvbl90ZW1wbGF0ZU9iamVjdDIiLCJwcmltYXJ5Iiwic2Vjb25kYXJ5IiwiaGFuZGxlS2V5VXAiLCJpblByb2dlc3NOYW1lIiwiQnV0dG9uX2RlY29yYXRlIiwiQ3VzdG9tRXZlbnRUeXBlIiwiUmFwaWRFbGVtZW50X1JhcGlkRWxlbWVudCIsImhhbmRsZXIiLCJnZXRFdmVudEhhbmRsZXJzIiwiZGlzY29ubmVjdGVkQ2FsbGJhY2siLCJjb21wb3NlZCIsIkN1c3RvbUV2ZW50IiwiRGlhbG9nX0RpYWxvZyIsInByaW1hcnlCdXR0b25OYW1lIiwiY2FuY2VsQnV0dG9uTmFtZSIsImluUHJvZ3Jlc3NOYW1lIiwiRGlhbG9nX3RlbXBsYXRlT2JqZWN0IiwiaW5wdXRzIiwiZm9jdXMiLCJjdXJyZW50VGFyZ2V0IiwiZmlyZUN1c3RvbUV2ZW50IiwiQnV0dG9uQ2xpY2tlZCIsIm1heCIsImNsaWVudEhlaWdodCIsImdldERvY3VtZW50SGVpZ2h0IiwiRGlhbG9nX3RlbXBsYXRlT2JqZWN0MiIsIkRpYWxvZ190ZW1wbGF0ZU9iamVjdDMiLCJoYW5kbGVDbGljayIsIkRpYWxvZ19kZWNvcmF0ZSIsIlRleHRJbnB1dF9UZXh0SW5wdXQiLCJwbGFjZWhvbGRlciIsIlRleHRJbnB1dF90ZW1wbGF0ZU9iamVjdCIsImNoYW5nZXMiLCJpbnB1dEVsZW1lbnQiLCJUZXh0SW5wdXRfdGVtcGxhdGVPYmplY3QyIiwidGV4dGFyZWEiLCJUZXh0SW5wdXRfdGVtcGxhdGVPYmplY3QzIiwiVGV4dElucHV0X3RlbXBsYXRlT2JqZWN0NCIsIlRleHRJbnB1dF9kZWNvcmF0ZSIsIkxhYmVsX0xhYmVsIiwiTGFiZWxfdGVtcGxhdGVPYmplY3QiLCJMYWJlbF90ZW1wbGF0ZU9iamVjdDIiLCJ0ZXh0Q29sb3IiLCJMYWJlbF90ZW1wbGF0ZU9iamVjdDMiLCJsaWdodCIsImRhcmsiLCJMYWJlbF9kZWNvcmF0ZSIsIk9wdGlvbnNfT3B0aW9ucyIsImN1cnNvckluZGV4IiwiT3B0aW9uc190ZW1wbGF0ZU9iamVjdCIsImZvY3VzZWRFbGUiLCJzY3JvbGxCb3giLCJzY3JvbGxCb3hIZWlnaHQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJmb2N1c2VkRWxlSGVpZ2h0Iiwic2Nyb2xsVG8iLCJjYWxjdWxhdGVQb3NpdGlvbiIsInJlbmRlck9wdGlvbk5hbWUiLCJyZW5kZXJPcHRpb25OYW1lRGVmYXVsdCIsInJlbmRlck9wdGlvbkRldGFpbERlZmF1bHQiLCJPcHRpb25zX3RlbXBsYXRlT2JqZWN0MiIsIk9wdGlvbnNfdGVtcGxhdGVPYmplY3QzIiwiT3B0aW9uc190ZW1wbGF0ZU9iamVjdDQiLCJPcHRpb25zX3RlbXBsYXRlT2JqZWN0NSIsInRhYmJlZCIsIlNlbGVjdGlvbiIsImRpcmVjdGlvbiIsIm5ld0luZGV4IiwibWluIiwic2V0Q3Vyc29yIiwiQ3Vyc29yQ2hhbmdlZCIsInZpc2libGUiLCJjdHJsS2V5IiwibW92ZUN1cnNvciIsImhhbmRsZVNlbGVjdGlvbiIsIkNhbmNlbGVkIiwib3B0aW9uc0JvdW5kcyIsImFuY2hvclRvIiwiYW5jaG9yQm91bmRzIiwidG9wVG9wIiwiYm90dG9tIiwiaW5uZXJIZWlnaHQiLCJoYW5kbGVLZXlEb3duIiwicmVuZGVyT3B0aW9uIiwicmVuZGVyT3B0aW9uRGVmYXVsdCIsIk9wdGlvbnNfdGVtcGxhdGVPYmplY3Q2IiwiT3B0aW9uc190ZW1wbGF0ZU9iamVjdDciLCJhYnMiLCJtb3ZlbWVudFgiLCJtb3ZlbWVudFkiLCJPcHRpb25zX2RlY29yYXRlIiwiU2VsZWN0X1NlbGVjdCIsInF1aWV0TWlsbGlzIiwiU2VsZWN0X3RlbXBsYXRlT2JqZWN0IiwiYmx1ciIsImxhc3RRdWVyeSIsImZldGNoT3B0aW9ucyIsInF1ZXJ5IiwiY29tcGxldGUiLCJwYWdlIiwiZmV0Y2hpbmciLCJmaWx0ZXIiLCJuZXdSZXN1bHRzIiwiZWxlIiwiaGFuZGxlQ2FuY2VsIiwiaGFuZGxlQ3Vyc29yQ2hhbmdlZCIsImFuY2hvckVsZW1lbnQiLCJTZWxlY3RfdGVtcGxhdGVPYmplY3QyIiwiaGFuZGxlQmx1ciIsImhhbmRsZUZvY3VzIiwiaGFuZGxlT3B0aW9uU2VsZWN0aW9uIiwiU2VsZWN0X2RlY29yYXRlIiwiU1RBVEVfQk9EWSIsIlNUQVRFX1BSRUZJWCIsIlNUQVRFX0lERU5USUZJRVIiLCJTVEFURV9CQUxBTkNFRCIsIlNUQVRFX1NUUklOR19MSVRFUkFMIiwiU1RBVEVfRVNDQVBFRF9QUkVGSVgiLCJTVEFURV9JR05PUkUiLCJzdGFydHNXaXRoIiwiaXNWYWxpZFN0YXJ0IiwicGFydGlhbEV4cHJlc3Npb24iLCJhbGxvd2VkVG9wTGV2ZWxzIiwiYWxsb3dJbmNvbXBsZXRlIiwidG9wTGV2ZWwiLCJhbGxvd2VkIiwiaXNXb3JkQ2hhciIsImlzSW5TdHJpbmdMaXRlcmFsIiwibnVtUXVvdGVzIiwicG9zIiwiZ2V0RnVuY3Rpb25zIiwiZnVuY3Rpb25zIiwic2lnbmF0dXJlIiwiZ2V0Q29tcGxldGlvbnMiLCJzY2hlbWEiLCJkb3RRdWVyeSIsImtleWVkQXNzZXRzIiwiY3VycmVudFByb3BzIiwicm9vdF9ub19zZXNzaW9uIiwibmV4dFByb3AiLCJmaW5kIiwibmV4dFR5cGUiLCJ0eXBlcyIsInByb3BlcnR5X3RlbXBsYXRlIiwiaGVscCIsInN1bW1hcnkiLCJwcmV2aW91c1ZhbHVlcyIsInVuc2FmZUhUTUwiLCJwcmV2aW91c1ZhbHVlIiwibWFya2VkUmVuZGVyIiwiY29udGVudHMiLCJDb21wbGV0aW9uX0NvbXBsZXRpb24iLCJDb21wbGV0aW9uXzEiLCJhbmNob3JQb3NpdGlvbiIsIkNvbXBsZXRpb25fdGVtcGxhdGVPYmplY3QiLCJ0ZXh0SW5wdXRFbGVtZW50IiwiY29tcGxldGlvbnNFbmRwb2ludCIsImZ1bmN0aW9uc0VuZHBvaW50IiwiZmllbGRzRW5kcG9pbnQiLCJhc3luYyIsInBhZ2VVcmwiLCJhc3NldFBhZ2UiLCJnZXRBc3NldHMiLCJmaWVsZHMiLCJhc3NldCIsImhpZGRlbkVsZW1lbnQiLCJleGVjdXRlUXVlcnkiLCJjdXJyZW50RnVuY3Rpb24iLCJjdXJzb3IiLCJzZWxlY3Rpb25TdGFydCIsImN1cnJlbnRFeHByZXNzaW9uIiwiZmluZEV4cHJlc3Npb25zIiwiZXhwciIsImNsb3NlZCIsImluY2x1ZGVGdW5jdGlvbnMiLCJmdW5jdGlvblF1ZXJ5IiwiZnVuY3Rpb25Db250ZXh0IiwiY2FyZXQiLCJ0ZXh0YXJlYV9jYXJldF9kZWZhdWx0Iiwic2Nyb2xsTGVmdCIsImluc2VydFRleHQiLCJpbnNlcnRpb25Qb2ludCIsImxlZnRTaWRlIiwicmVtYWluaW5nIiwic2V0U2VsZWN0aW9uUmFuZ2UiLCJhcmdTdGFydCIsIkNvbXBsZXRpb25fdGVtcGxhdGVPYmplY3QyIiwiQ29tcGxldGlvbl90ZW1wbGF0ZU9iamVjdDMiLCJDb21wbGV0aW9uX3RlbXBsYXRlT2JqZWN0NCIsIkNvbXBsZXRpb25fdGVtcGxhdGVPYmplY3Q1IiwiQ29tcGxldGlvbl90ZW1wbGF0ZU9iamVjdDYiLCJoYW5kbGVJbnB1dCIsImhhbmRsZU9wdGlvbkNhbmNlbGVkIiwicmVuZGVyQ29tcGxldGlvbk9wdGlvbiIsIkNvbXBsZXRpb25fdGVtcGxhdGVPYmplY3Q3IiwiZXhwcmVzc2lvblByZWZpeCIsInRleHRUb0NhcmV0IiwiZXhwcmVzc2lvbnMiLCJsYXN0RXhwcmVzc2lvbiIsIm5lZWRlZFBhcmVudGhlc2VzIiwic2tpcENoYXIiLCJpblF1b3RlcyIsInByZXBlbmRGbGFnIiwic3RhdGUiLCJpZGVudGlmaWVyIiwicGFyZW50aGVzZXNMZXZlbCIsInJlIiwiZXhwcmVzc2lvbiIsIm5leHRDaCIsIm5leHROZXh0Q2giLCJDb21wbGV0aW9uX2RlY29yYXRlIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxHQUNBLGlCQUFBQyxTQUFBLGlCQUFBQyxPQUNBQSxPQUFBRCxRQUFBRCxJQUNBLG1CQUFBRyxlQUFBQyxJQUNBRCxPQUFBLEdBQUFILEdBQ0EsaUJBQUFDLFFBQ0FBLFFBQUEsaUJBQUFELElBRUFELEVBQUEsaUJBQUFDLElBUkEsQ0FTQ0ssT0FBQSxXQUNELG1CQ1RBLElBQUFDLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxH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QUEsQ0FEQzduQyxHQUFTLENBQUMyYSxLQUFNakYsc0NBSWpCbXlCLEdBQUEsQ0FEQzduQyxHQUFTLENBQUMyYSxLQUFNakYsdUNBSWpCbXlCLEdBQUEsQ0FEQzduQyxHQUFTLENBQUMyYSxLQUFNakYscURBSWpCbXlCLEdBQUEsQ0FEQzduQyxHQUFTLENBQUMyYSxLQUFNakYsbURBSWpCbXlCLEdBQUEsQ0FEQzduQyxHQUFTLENBQUMyYSxLQUFNakYsZ0RBSWpCbXlCLEdBQUEsQ0FEQzduQyxHQUFTLENBQUMyYSxLQUFNK1MsMkNBckdFd1csR0FBVUMsR0FBQTBELEdBQUEsQ0FEOUJ6VixHQUFjLGtCQUNNOFIiLCJmaWxlIjoicnAtY29tcG9uZW50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcInJwLWNvbXBvbmVudHNcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wicnAtY29tcG9uZW50c1wiXSA9IGZhY3RvcnkoKTtcbn0pKHdpbmRvdywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEwKTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGJpbmQgPSByZXF1aXJlKCcuL2hlbHBlcnMvYmluZCcpO1xudmFyIGlzQnVmZmVyID0gcmVxdWlyZSgnaXMtYnVmZmVyJyk7XG5cbi8qZ2xvYmFsIHRvU3RyaW5nOnRydWUqL1xuXG4vLyB1dGlscyBpcyBhIGxpYnJhcnkgb2YgZ2VuZXJpYyBoZWxwZXIgZnVuY3Rpb25zIG5vbi1zcGVjaWZpYyB0byBheGlvc1xuXG52YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIEFycmF5XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gQXJyYXksIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5KHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBBcnJheV0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIEFycmF5QnVmZmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gQXJyYXlCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRm9ybURhdGFcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBGb3JtRGF0YSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRm9ybURhdGEodmFsKSB7XG4gIHJldHVybiAodHlwZW9mIEZvcm1EYXRhICE9PSAndW5kZWZpbmVkJykgJiYgKHZhbCBpbnN0YW5jZW9mIEZvcm1EYXRhKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyVmlldyh2YWwpIHtcbiAgdmFyIHJlc3VsdDtcbiAgaWYgKCh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnKSAmJiAoQXJyYXlCdWZmZXIuaXNWaWV3KSkge1xuICAgIHJlc3VsdCA9IEFycmF5QnVmZmVyLmlzVmlldyh2YWwpO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdCA9ICh2YWwpICYmICh2YWwuYnVmZmVyKSAmJiAodmFsLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyaW5nXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJpbmcsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N0cmluZyh2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgTnVtYmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBOdW1iZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc051bWJlcih2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdudW1iZXInO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIHVuZGVmaW5lZFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSB2YWx1ZSBpcyB1bmRlZmluZWQsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIE9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIE9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbCkge1xuICByZXR1cm4gdmFsICE9PSBudWxsICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRGF0ZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRGF0ZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRGF0ZSh2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRmlsZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRmlsZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRmlsZSh2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRmlsZV0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgQmxvYlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgQmxvYiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQmxvYih2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgQmxvYl0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRnVuY3Rpb25cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZ1bmN0aW9uLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFN0cmVhbVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgU3RyZWFtLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTdHJlYW0odmFsKSB7XG4gIHJldHVybiBpc09iamVjdCh2YWwpICYmIGlzRnVuY3Rpb24odmFsLnBpcGUpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzVVJMU2VhcmNoUGFyYW1zKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIFVSTFNlYXJjaFBhcmFtcyAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsIGluc3RhbmNlb2YgVVJMU2VhcmNoUGFyYW1zO1xufVxuXG4vKipcbiAqIFRyaW0gZXhjZXNzIHdoaXRlc3BhY2Ugb2ZmIHRoZSBiZWdpbm5pbmcgYW5kIGVuZCBvZiBhIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgVGhlIFN0cmluZyB0byB0cmltXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgU3RyaW5nIGZyZWVkIG9mIGV4Y2VzcyB3aGl0ZXNwYWNlXG4gKi9cbmZ1bmN0aW9uIHRyaW0oc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvXlxccyovLCAnJykucmVwbGFjZSgvXFxzKiQvLCAnJyk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50XG4gKlxuICogVGhpcyBhbGxvd3MgYXhpb3MgdG8gcnVuIGluIGEgd2ViIHdvcmtlciwgYW5kIHJlYWN0LW5hdGl2ZS5cbiAqIEJvdGggZW52aXJvbm1lbnRzIHN1cHBvcnQgWE1MSHR0cFJlcXVlc3QsIGJ1dCBub3QgZnVsbHkgc3RhbmRhcmQgZ2xvYmFscy5cbiAqXG4gKiB3ZWIgd29ya2VyczpcbiAqICB0eXBlb2Ygd2luZG93IC0+IHVuZGVmaW5lZFxuICogIHR5cGVvZiBkb2N1bWVudCAtPiB1bmRlZmluZWRcbiAqXG4gKiByZWFjdC1uYXRpdmU6XG4gKiAgbmF2aWdhdG9yLnByb2R1Y3QgLT4gJ1JlYWN0TmF0aXZlJ1xuICovXG5mdW5jdGlvbiBpc1N0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci5wcm9kdWN0ID09PSAnUmVhY3ROYXRpdmUnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnXG4gICk7XG59XG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGFuIEFycmF5IG9yIGFuIE9iamVjdCBpbnZva2luZyBhIGZ1bmN0aW9uIGZvciBlYWNoIGl0ZW0uXG4gKlxuICogSWYgYG9iamAgaXMgYW4gQXJyYXkgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgcGFzc2luZ1xuICogdGhlIHZhbHVlLCBpbmRleCwgYW5kIGNvbXBsZXRlIGFycmF5IGZvciBlYWNoIGl0ZW0uXG4gKlxuICogSWYgJ29iaicgaXMgYW4gT2JqZWN0IGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHBhc3NpbmdcbiAqIHRoZSB2YWx1ZSwga2V5LCBhbmQgY29tcGxldGUgb2JqZWN0IGZvciBlYWNoIHByb3BlcnR5LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBvYmogVGhlIG9iamVjdCB0byBpdGVyYXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgY2FsbGJhY2sgdG8gaW52b2tlIGZvciBlYWNoIGl0ZW1cbiAqL1xuZnVuY3Rpb24gZm9yRWFjaChvYmosIGZuKSB7XG4gIC8vIERvbid0IGJvdGhlciBpZiBubyB2YWx1ZSBwcm92aWRlZFxuICBpZiAob2JqID09PSBudWxsIHx8IHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gRm9yY2UgYW4gYXJyYXkgaWYgbm90IGFscmVhZHkgc29tZXRoaW5nIGl0ZXJhYmxlXG4gIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAgIG9iaiA9IFtvYmpdO1xuICB9XG5cbiAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgIC8vIEl0ZXJhdGUgb3ZlciBhcnJheSB2YWx1ZXNcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IG9iai5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGZuLmNhbGwobnVsbCwgb2JqW2ldLCBpLCBvYmopO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBJdGVyYXRlIG92ZXIgb2JqZWN0IGtleXNcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICBmbi5jYWxsKG51bGwsIG9ialtrZXldLCBrZXksIG9iaik7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQWNjZXB0cyB2YXJhcmdzIGV4cGVjdGluZyBlYWNoIGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCwgdGhlblxuICogaW1tdXRhYmx5IG1lcmdlcyB0aGUgcHJvcGVydGllcyBvZiBlYWNoIG9iamVjdCBhbmQgcmV0dXJucyByZXN1bHQuXG4gKlxuICogV2hlbiBtdWx0aXBsZSBvYmplY3RzIGNvbnRhaW4gdGhlIHNhbWUga2V5IHRoZSBsYXRlciBvYmplY3QgaW5cbiAqIHRoZSBhcmd1bWVudHMgbGlzdCB3aWxsIHRha2UgcHJlY2VkZW5jZS5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgcmVzdWx0ID0gbWVyZ2Uoe2ZvbzogMTIzfSwge2ZvbzogNDU2fSk7XG4gKiBjb25zb2xlLmxvZyhyZXN1bHQuZm9vKTsgLy8gb3V0cHV0cyA0NTZcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmoxIE9iamVjdCB0byBtZXJnZVxuICogQHJldHVybnMge09iamVjdH0gUmVzdWx0IG9mIGFsbCBtZXJnZSBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIG1lcmdlKC8qIG9iajEsIG9iajIsIG9iajMsIC4uLiAqLykge1xuICB2YXIgcmVzdWx0ID0ge307XG4gIGZ1bmN0aW9uIGFzc2lnblZhbHVlKHZhbCwga2V5KSB7XG4gICAgaWYgKHR5cGVvZiByZXN1bHRba2V5XSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gbWVyZ2UocmVzdWx0W2tleV0sIHZhbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdFtrZXldID0gdmFsO1xuICAgIH1cbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGZvckVhY2goYXJndW1lbnRzW2ldLCBhc3NpZ25WYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBFeHRlbmRzIG9iamVjdCBhIGJ5IG11dGFibHkgYWRkaW5nIHRvIGl0IHRoZSBwcm9wZXJ0aWVzIG9mIG9iamVjdCBiLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhIFRoZSBvYmplY3QgdG8gYmUgZXh0ZW5kZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBiIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGZyb21cbiAqIEBwYXJhbSB7T2JqZWN0fSB0aGlzQXJnIFRoZSBvYmplY3QgdG8gYmluZCBmdW5jdGlvbiB0b1xuICogQHJldHVybiB7T2JqZWN0fSBUaGUgcmVzdWx0aW5nIHZhbHVlIG9mIG9iamVjdCBhXG4gKi9cbmZ1bmN0aW9uIGV4dGVuZChhLCBiLCB0aGlzQXJnKSB7XG4gIGZvckVhY2goYiwgZnVuY3Rpb24gYXNzaWduVmFsdWUodmFsLCBrZXkpIHtcbiAgICBpZiAodGhpc0FyZyAmJiB0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBhW2tleV0gPSBiaW5kKHZhbCwgdGhpc0FyZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFba2V5XSA9IHZhbDtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gYTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGlzQXJyYXk6IGlzQXJyYXksXG4gIGlzQXJyYXlCdWZmZXI6IGlzQXJyYXlCdWZmZXIsXG4gIGlzQnVmZmVyOiBpc0J1ZmZlcixcbiAgaXNGb3JtRGF0YTogaXNGb3JtRGF0YSxcbiAgaXNBcnJheUJ1ZmZlclZpZXc6IGlzQXJyYXlCdWZmZXJWaWV3LFxuICBpc1N0cmluZzogaXNTdHJpbmcsXG4gIGlzTnVtYmVyOiBpc051bWJlcixcbiAgaXNPYmplY3Q6IGlzT2JqZWN0LFxuICBpc1VuZGVmaW5lZDogaXNVbmRlZmluZWQsXG4gIGlzRGF0ZTogaXNEYXRlLFxuICBpc0ZpbGU6IGlzRmlsZSxcbiAgaXNCbG9iOiBpc0Jsb2IsXG4gIGlzRnVuY3Rpb246IGlzRnVuY3Rpb24sXG4gIGlzU3RyZWFtOiBpc1N0cmVhbSxcbiAgaXNVUkxTZWFyY2hQYXJhbXM6IGlzVVJMU2VhcmNoUGFyYW1zLFxuICBpc1N0YW5kYXJkQnJvd3NlckVudjogaXNTdGFuZGFyZEJyb3dzZXJFbnYsXG4gIGZvckVhY2g6IGZvckVhY2gsXG4gIG1lcmdlOiBtZXJnZSxcbiAgZXh0ZW5kOiBleHRlbmQsXG4gIHRyaW06IHRyaW1cbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vbGliL2F4aW9zJyk7IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG52YXIgbm9ybWFsaXplSGVhZGVyTmFtZSA9IHJlcXVpcmUoJy4vaGVscGVycy9ub3JtYWxpemVIZWFkZXJOYW1lJyk7XG5cbnZhciBERUZBVUxUX0NPTlRFTlRfVFlQRSA9IHtcbiAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnXG59O1xuXG5mdW5jdGlvbiBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgdmFsdWUpIHtcbiAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChoZWFkZXJzKSAmJiB1dGlscy5pc1VuZGVmaW5lZChoZWFkZXJzWydDb250ZW50LVR5cGUnXSkpIHtcbiAgICBoZWFkZXJzWydDb250ZW50LVR5cGUnXSA9IHZhbHVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldERlZmF1bHRBZGFwdGVyKCkge1xuICB2YXIgYWRhcHRlcjtcbiAgaWYgKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAvLyBGb3IgYnJvd3NlcnMgdXNlIFhIUiBhZGFwdGVyXG4gICAgYWRhcHRlciA9IHJlcXVpcmUoJy4vYWRhcHRlcnMveGhyJyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gRm9yIG5vZGUgdXNlIEhUVFAgYWRhcHRlclxuICAgIGFkYXB0ZXIgPSByZXF1aXJlKCcuL2FkYXB0ZXJzL2h0dHAnKTtcbiAgfVxuICByZXR1cm4gYWRhcHRlcjtcbn1cblxudmFyIGRlZmF1bHRzID0ge1xuICBhZGFwdGVyOiBnZXREZWZhdWx0QWRhcHRlcigpLFxuXG4gIHRyYW5zZm9ybVJlcXVlc3Q6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXF1ZXN0KGRhdGEsIGhlYWRlcnMpIHtcbiAgICBub3JtYWxpemVIZWFkZXJOYW1lKGhlYWRlcnMsICdDb250ZW50LVR5cGUnKTtcbiAgICBpZiAodXRpbHMuaXNGb3JtRGF0YShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNBcnJheUJ1ZmZlcihkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNCdWZmZXIoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzU3RyZWFtKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0ZpbGUoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQmxvYihkYXRhKVxuICAgICkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc0FycmF5QnVmZmVyVmlldyhkYXRhKSkge1xuICAgICAgcmV0dXJuIGRhdGEuYnVmZmVyO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNVUkxTZWFyY2hQYXJhbXMoZGF0YSkpIHtcbiAgICAgIHNldENvbnRlbnRUeXBlSWZVbnNldChoZWFkZXJzLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9dXRmLTgnKTtcbiAgICAgIHJldHVybiBkYXRhLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc09iamVjdChkYXRhKSkge1xuICAgICAgc2V0Q29udGVudFR5cGVJZlVuc2V0KGhlYWRlcnMsICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTgnKTtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1dLFxuXG4gIHRyYW5zZm9ybVJlc3BvbnNlOiBbZnVuY3Rpb24gdHJhbnNmb3JtUmVzcG9uc2UoZGF0YSkge1xuICAgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgfSBjYXRjaCAoZSkgeyAvKiBJZ25vcmUgKi8gfVxuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfV0sXG5cbiAgLyoqXG4gICAqIEEgdGltZW91dCBpbiBtaWxsaXNlY29uZHMgdG8gYWJvcnQgYSByZXF1ZXN0LiBJZiBzZXQgdG8gMCAoZGVmYXVsdCkgYVxuICAgKiB0aW1lb3V0IGlzIG5vdCBjcmVhdGVkLlxuICAgKi9cbiAgdGltZW91dDogMCxcblxuICB4c3JmQ29va2llTmFtZTogJ1hTUkYtVE9LRU4nLFxuICB4c3JmSGVhZGVyTmFtZTogJ1gtWFNSRi1UT0tFTicsXG5cbiAgbWF4Q29udGVudExlbmd0aDogLTEsXG5cbiAgdmFsaWRhdGVTdGF0dXM6IGZ1bmN0aW9uIHZhbGlkYXRlU3RhdHVzKHN0YXR1cykge1xuICAgIHJldHVybiBzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMDtcbiAgfVxufTtcblxuZGVmYXVsdHMuaGVhZGVycyA9IHtcbiAgY29tbW9uOiB7XG4gICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLyonXG4gIH1cbn07XG5cbnV0aWxzLmZvckVhY2goWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZE5vRGF0YShtZXRob2QpIHtcbiAgZGVmYXVsdHMuaGVhZGVyc1ttZXRob2RdID0ge307XG59KTtcblxudXRpbHMuZm9yRWFjaChbJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2RXaXRoRGF0YShtZXRob2QpIHtcbiAgZGVmYXVsdHMuaGVhZGVyc1ttZXRob2RdID0gdXRpbHMubWVyZ2UoREVGQVVMVF9DT05URU5UX1RZUEUpO1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZGVmYXVsdHM7XG4iLCIvKiFcblx0YXV0b3NpemUgNC4wLjJcblx0bGljZW5zZTogTUlUXG5cdGh0dHA6Ly93d3cuamFja2xtb29yZS5jb20vYXV0b3NpemVcbiovXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuXHRpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcblx0XHRkZWZpbmUoWydtb2R1bGUnLCAnZXhwb3J0cyddLCBmYWN0b3J5KTtcblx0fSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdGZhY3RvcnkobW9kdWxlLCBleHBvcnRzKTtcblx0fSBlbHNlIHtcblx0XHR2YXIgbW9kID0ge1xuXHRcdFx0ZXhwb3J0czoge31cblx0XHR9O1xuXHRcdGZhY3RvcnkobW9kLCBtb2QuZXhwb3J0cyk7XG5cdFx0Z2xvYmFsLmF1dG9zaXplID0gbW9kLmV4cG9ydHM7XG5cdH1cbn0pKHRoaXMsIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBtYXAgPSB0eXBlb2YgTWFwID09PSBcImZ1bmN0aW9uXCIgPyBuZXcgTWFwKCkgOiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIGtleXMgPSBbXTtcblx0XHR2YXIgdmFsdWVzID0gW107XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0aGFzOiBmdW5jdGlvbiBoYXMoa2V5KSB7XG5cdFx0XHRcdHJldHVybiBrZXlzLmluZGV4T2Yoa2V5KSA+IC0xO1xuXHRcdFx0fSxcblx0XHRcdGdldDogZnVuY3Rpb24gZ2V0KGtleSkge1xuXHRcdFx0XHRyZXR1cm4gdmFsdWVzW2tleXMuaW5kZXhPZihrZXkpXTtcblx0XHRcdH0sXG5cdFx0XHRzZXQ6IGZ1bmN0aW9uIHNldChrZXksIHZhbHVlKSB7XG5cdFx0XHRcdGlmIChrZXlzLmluZGV4T2Yoa2V5KSA9PT0gLTEpIHtcblx0XHRcdFx0XHRrZXlzLnB1c2goa2V5KTtcblx0XHRcdFx0XHR2YWx1ZXMucHVzaCh2YWx1ZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRkZWxldGU6IGZ1bmN0aW9uIF9kZWxldGUoa2V5KSB7XG5cdFx0XHRcdHZhciBpbmRleCA9IGtleXMuaW5kZXhPZihrZXkpO1xuXHRcdFx0XHRpZiAoaW5kZXggPiAtMSkge1xuXHRcdFx0XHRcdGtleXMuc3BsaWNlKGluZGV4LCAxKTtcblx0XHRcdFx0XHR2YWx1ZXMuc3BsaWNlKGluZGV4LCAxKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdH0oKTtcblxuXHR2YXIgY3JlYXRlRXZlbnQgPSBmdW5jdGlvbiBjcmVhdGVFdmVudChuYW1lKSB7XG5cdFx0cmV0dXJuIG5ldyBFdmVudChuYW1lLCB7IGJ1YmJsZXM6IHRydWUgfSk7XG5cdH07XG5cdHRyeSB7XG5cdFx0bmV3IEV2ZW50KCd0ZXN0Jyk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHQvLyBJRSBkb2VzIG5vdCBzdXBwb3J0IGBuZXcgRXZlbnQoKWBcblx0XHRjcmVhdGVFdmVudCA9IGZ1bmN0aW9uIGNyZWF0ZUV2ZW50KG5hbWUpIHtcblx0XHRcdHZhciBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcblx0XHRcdGV2dC5pbml0RXZlbnQobmFtZSwgdHJ1ZSwgZmFsc2UpO1xuXHRcdFx0cmV0dXJuIGV2dDtcblx0XHR9O1xuXHR9XG5cblx0ZnVuY3Rpb24gYXNzaWduKHRhKSB7XG5cdFx0aWYgKCF0YSB8fCAhdGEubm9kZU5hbWUgfHwgdGEubm9kZU5hbWUgIT09ICdURVhUQVJFQScgfHwgbWFwLmhhcyh0YSkpIHJldHVybjtcblxuXHRcdHZhciBoZWlnaHRPZmZzZXQgPSBudWxsO1xuXHRcdHZhciBjbGllbnRXaWR0aCA9IG51bGw7XG5cdFx0dmFyIGNhY2hlZEhlaWdodCA9IG51bGw7XG5cblx0XHRmdW5jdGlvbiBpbml0KCkge1xuXHRcdFx0dmFyIHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGEsIG51bGwpO1xuXG5cdFx0XHRpZiAoc3R5bGUucmVzaXplID09PSAndmVydGljYWwnKSB7XG5cdFx0XHRcdHRhLnN0eWxlLnJlc2l6ZSA9ICdub25lJztcblx0XHRcdH0gZWxzZSBpZiAoc3R5bGUucmVzaXplID09PSAnYm90aCcpIHtcblx0XHRcdFx0dGEuc3R5bGUucmVzaXplID0gJ2hvcml6b250YWwnO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoc3R5bGUuYm94U2l6aW5nID09PSAnY29udGVudC1ib3gnKSB7XG5cdFx0XHRcdGhlaWdodE9mZnNldCA9IC0ocGFyc2VGbG9hdChzdHlsZS5wYWRkaW5nVG9wKSArIHBhcnNlRmxvYXQoc3R5bGUucGFkZGluZ0JvdHRvbSkpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aGVpZ2h0T2Zmc2V0ID0gcGFyc2VGbG9hdChzdHlsZS5ib3JkZXJUb3BXaWR0aCkgKyBwYXJzZUZsb2F0KHN0eWxlLmJvcmRlckJvdHRvbVdpZHRoKTtcblx0XHRcdH1cblx0XHRcdC8vIEZpeCB3aGVuIGEgdGV4dGFyZWEgaXMgbm90IG9uIGRvY3VtZW50IGJvZHkgYW5kIGhlaWdodE9mZnNldCBpcyBOb3QgYSBOdW1iZXJcblx0XHRcdGlmIChpc05hTihoZWlnaHRPZmZzZXQpKSB7XG5cdFx0XHRcdGhlaWdodE9mZnNldCA9IDA7XG5cdFx0XHR9XG5cblx0XHRcdHVwZGF0ZSgpO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGNoYW5nZU92ZXJmbG93KHZhbHVlKSB7XG5cdFx0XHR7XG5cdFx0XHRcdC8vIENocm9tZS9TYWZhcmktc3BlY2lmaWMgZml4OlxuXHRcdFx0XHQvLyBXaGVuIHRoZSB0ZXh0YXJlYSB5LW92ZXJmbG93IGlzIGhpZGRlbiwgQ2hyb21lL1NhZmFyaSBkbyBub3QgcmVmbG93IHRoZSB0ZXh0IHRvIGFjY291bnQgZm9yIHRoZSBzcGFjZVxuXHRcdFx0XHQvLyBtYWRlIGF2YWlsYWJsZSBieSByZW1vdmluZyB0aGUgc2Nyb2xsYmFyLiBUaGUgZm9sbG93aW5nIGZvcmNlcyB0aGUgbmVjZXNzYXJ5IHRleHQgcmVmbG93LlxuXHRcdFx0XHR2YXIgd2lkdGggPSB0YS5zdHlsZS53aWR0aDtcblx0XHRcdFx0dGEuc3R5bGUud2lkdGggPSAnMHB4Jztcblx0XHRcdFx0Ly8gRm9yY2UgcmVmbG93OlxuXHRcdFx0XHQvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5cdFx0XHRcdHRhLm9mZnNldFdpZHRoO1xuXHRcdFx0XHQvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXHRcdFx0XHR0YS5zdHlsZS53aWR0aCA9IHdpZHRoO1xuXHRcdFx0fVxuXG5cdFx0XHR0YS5zdHlsZS5vdmVyZmxvd1kgPSB2YWx1ZTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBnZXRQYXJlbnRPdmVyZmxvd3MoZWwpIHtcblx0XHRcdHZhciBhcnIgPSBbXTtcblxuXHRcdFx0d2hpbGUgKGVsICYmIGVsLnBhcmVudE5vZGUgJiYgZWwucGFyZW50Tm9kZSBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcblx0XHRcdFx0aWYgKGVsLnBhcmVudE5vZGUuc2Nyb2xsVG9wKSB7XG5cdFx0XHRcdFx0YXJyLnB1c2goe1xuXHRcdFx0XHRcdFx0bm9kZTogZWwucGFyZW50Tm9kZSxcblx0XHRcdFx0XHRcdHNjcm9sbFRvcDogZWwucGFyZW50Tm9kZS5zY3JvbGxUb3Bcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbCA9IGVsLnBhcmVudE5vZGU7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBhcnI7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gcmVzaXplKCkge1xuXHRcdFx0aWYgKHRhLnNjcm9sbEhlaWdodCA9PT0gMCkge1xuXHRcdFx0XHQvLyBJZiB0aGUgc2Nyb2xsSGVpZ2h0IGlzIDAsIHRoZW4gdGhlIGVsZW1lbnQgcHJvYmFibHkgaGFzIGRpc3BsYXk6bm9uZSBvciBpcyBkZXRhY2hlZCBmcm9tIHRoZSBET00uXG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dmFyIG92ZXJmbG93cyA9IGdldFBhcmVudE92ZXJmbG93cyh0YSk7XG5cdFx0XHR2YXIgZG9jVG9wID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7IC8vIE5lZWRlZCBmb3IgTW9iaWxlIElFICh0aWNrZXQgIzI0MClcblxuXHRcdFx0dGEuc3R5bGUuaGVpZ2h0ID0gJyc7XG5cdFx0XHR0YS5zdHlsZS5oZWlnaHQgPSB0YS5zY3JvbGxIZWlnaHQgKyBoZWlnaHRPZmZzZXQgKyAncHgnO1xuXG5cdFx0XHQvLyB1c2VkIHRvIGNoZWNrIGlmIGFuIHVwZGF0ZSBpcyBhY3R1YWxseSBuZWNlc3Nhcnkgb24gd2luZG93LnJlc2l6ZVxuXHRcdFx0Y2xpZW50V2lkdGggPSB0YS5jbGllbnRXaWR0aDtcblxuXHRcdFx0Ly8gcHJldmVudHMgc2Nyb2xsLXBvc2l0aW9uIGp1bXBpbmdcblx0XHRcdG92ZXJmbG93cy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuXHRcdFx0XHRlbC5ub2RlLnNjcm9sbFRvcCA9IGVsLnNjcm9sbFRvcDtcblx0XHRcdH0pO1xuXG5cdFx0XHRpZiAoZG9jVG9wKSB7XG5cdFx0XHRcdGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPSBkb2NUb3A7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gdXBkYXRlKCkge1xuXHRcdFx0cmVzaXplKCk7XG5cblx0XHRcdHZhciBzdHlsZUhlaWdodCA9IE1hdGgucm91bmQocGFyc2VGbG9hdCh0YS5zdHlsZS5oZWlnaHQpKTtcblx0XHRcdHZhciBjb21wdXRlZCA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRhLCBudWxsKTtcblxuXHRcdFx0Ly8gVXNpbmcgb2Zmc2V0SGVpZ2h0IGFzIGEgcmVwbGFjZW1lbnQgZm9yIGNvbXB1dGVkLmhlaWdodCBpbiBJRSwgYmVjYXVzZSBJRSBkb2VzIG5vdCBhY2NvdW50IHVzZSBvZiBib3JkZXItYm94XG5cdFx0XHR2YXIgYWN0dWFsSGVpZ2h0ID0gY29tcHV0ZWQuYm94U2l6aW5nID09PSAnY29udGVudC1ib3gnID8gTWF0aC5yb3VuZChwYXJzZUZsb2F0KGNvbXB1dGVkLmhlaWdodCkpIDogdGEub2Zmc2V0SGVpZ2h0O1xuXG5cdFx0XHQvLyBUaGUgYWN0dWFsIGhlaWdodCBub3QgbWF0Y2hpbmcgdGhlIHN0eWxlIGhlaWdodCAoc2V0IHZpYSB0aGUgcmVzaXplIG1ldGhvZCkgaW5kaWNhdGVzIHRoYXQgXG5cdFx0XHQvLyB0aGUgbWF4LWhlaWdodCBoYXMgYmVlbiBleGNlZWRlZCwgaW4gd2hpY2ggY2FzZSB0aGUgb3ZlcmZsb3cgc2hvdWxkIGJlIGFsbG93ZWQuXG5cdFx0XHRpZiAoYWN0dWFsSGVpZ2h0IDwgc3R5bGVIZWlnaHQpIHtcblx0XHRcdFx0aWYgKGNvbXB1dGVkLm92ZXJmbG93WSA9PT0gJ2hpZGRlbicpIHtcblx0XHRcdFx0XHRjaGFuZ2VPdmVyZmxvdygnc2Nyb2xsJyk7XG5cdFx0XHRcdFx0cmVzaXplKCk7XG5cdFx0XHRcdFx0YWN0dWFsSGVpZ2h0ID0gY29tcHV0ZWQuYm94U2l6aW5nID09PSAnY29udGVudC1ib3gnID8gTWF0aC5yb3VuZChwYXJzZUZsb2F0KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRhLCBudWxsKS5oZWlnaHQpKSA6IHRhLm9mZnNldEhlaWdodDtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gTm9ybWFsbHkga2VlcCBvdmVyZmxvdyBzZXQgdG8gaGlkZGVuLCB0byBhdm9pZCBmbGFzaCBvZiBzY3JvbGxiYXIgYXMgdGhlIHRleHRhcmVhIGV4cGFuZHMuXG5cdFx0XHRcdGlmIChjb21wdXRlZC5vdmVyZmxvd1kgIT09ICdoaWRkZW4nKSB7XG5cdFx0XHRcdFx0Y2hhbmdlT3ZlcmZsb3coJ2hpZGRlbicpO1xuXHRcdFx0XHRcdHJlc2l6ZSgpO1xuXHRcdFx0XHRcdGFjdHVhbEhlaWdodCA9IGNvbXB1dGVkLmJveFNpemluZyA9PT0gJ2NvbnRlbnQtYm94JyA/IE1hdGgucm91bmQocGFyc2VGbG9hdCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0YSwgbnVsbCkuaGVpZ2h0KSkgOiB0YS5vZmZzZXRIZWlnaHQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKGNhY2hlZEhlaWdodCAhPT0gYWN0dWFsSGVpZ2h0KSB7XG5cdFx0XHRcdGNhY2hlZEhlaWdodCA9IGFjdHVhbEhlaWdodDtcblx0XHRcdFx0dmFyIGV2dCA9IGNyZWF0ZUV2ZW50KCdhdXRvc2l6ZTpyZXNpemVkJyk7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0dGEuZGlzcGF0Y2hFdmVudChldnQpO1xuXHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0XHQvLyBGaXJlZm94IHdpbGwgdGhyb3cgYW4gZXJyb3Igb24gZGlzcGF0Y2hFdmVudCBmb3IgYSBkZXRhY2hlZCBlbGVtZW50XG5cdFx0XHRcdFx0Ly8gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9ODg5Mzc2XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHR2YXIgcGFnZVJlc2l6ZSA9IGZ1bmN0aW9uIHBhZ2VSZXNpemUoKSB7XG5cdFx0XHRpZiAodGEuY2xpZW50V2lkdGggIT09IGNsaWVudFdpZHRoKSB7XG5cdFx0XHRcdHVwZGF0ZSgpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHR2YXIgZGVzdHJveSA9IGZ1bmN0aW9uIChzdHlsZSkge1xuXHRcdFx0d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHBhZ2VSZXNpemUsIGZhbHNlKTtcblx0XHRcdHRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2lucHV0JywgdXBkYXRlLCBmYWxzZSk7XG5cdFx0XHR0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIHVwZGF0ZSwgZmFsc2UpO1xuXHRcdFx0dGEucmVtb3ZlRXZlbnRMaXN0ZW5lcignYXV0b3NpemU6ZGVzdHJveScsIGRlc3Ryb3ksIGZhbHNlKTtcblx0XHRcdHRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2F1dG9zaXplOnVwZGF0ZScsIHVwZGF0ZSwgZmFsc2UpO1xuXG5cdFx0XHRPYmplY3Qua2V5cyhzdHlsZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0XHRcdHRhLnN0eWxlW2tleV0gPSBzdHlsZVtrZXldO1xuXHRcdFx0fSk7XG5cblx0XHRcdG1hcC5kZWxldGUodGEpO1xuXHRcdH0uYmluZCh0YSwge1xuXHRcdFx0aGVpZ2h0OiB0YS5zdHlsZS5oZWlnaHQsXG5cdFx0XHRyZXNpemU6IHRhLnN0eWxlLnJlc2l6ZSxcblx0XHRcdG92ZXJmbG93WTogdGEuc3R5bGUub3ZlcmZsb3dZLFxuXHRcdFx0b3ZlcmZsb3dYOiB0YS5zdHlsZS5vdmVyZmxvd1gsXG5cdFx0XHR3b3JkV3JhcDogdGEuc3R5bGUud29yZFdyYXBcblx0XHR9KTtcblxuXHRcdHRhLmFkZEV2ZW50TGlzdGVuZXIoJ2F1dG9zaXplOmRlc3Ryb3knLCBkZXN0cm95LCBmYWxzZSk7XG5cblx0XHQvLyBJRTkgZG9lcyBub3QgZmlyZSBvbnByb3BlcnR5Y2hhbmdlIG9yIG9uaW5wdXQgZm9yIGRlbGV0aW9ucyxcblx0XHQvLyBzbyBiaW5kaW5nIHRvIG9ua2V5dXAgdG8gY2F0Y2ggbW9zdCBvZiB0aG9zZSBldmVudHMuXG5cdFx0Ly8gVGhlcmUgaXMgbm8gd2F5IHRoYXQgSSBrbm93IG9mIHRvIGRldGVjdCBzb21ldGhpbmcgbGlrZSAnY3V0JyBpbiBJRTkuXG5cdFx0aWYgKCdvbnByb3BlcnR5Y2hhbmdlJyBpbiB0YSAmJiAnb25pbnB1dCcgaW4gdGEpIHtcblx0XHRcdHRhLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdXBkYXRlLCBmYWxzZSk7XG5cdFx0fVxuXG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHBhZ2VSZXNpemUsIGZhbHNlKTtcblx0XHR0YS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHVwZGF0ZSwgZmFsc2UpO1xuXHRcdHRhLmFkZEV2ZW50TGlzdGVuZXIoJ2F1dG9zaXplOnVwZGF0ZScsIHVwZGF0ZSwgZmFsc2UpO1xuXHRcdHRhLnN0eWxlLm92ZXJmbG93WCA9ICdoaWRkZW4nO1xuXHRcdHRhLnN0eWxlLndvcmRXcmFwID0gJ2JyZWFrLXdvcmQnO1xuXG5cdFx0bWFwLnNldCh0YSwge1xuXHRcdFx0ZGVzdHJveTogZGVzdHJveSxcblx0XHRcdHVwZGF0ZTogdXBkYXRlXG5cdFx0fSk7XG5cblx0XHRpbml0KCk7XG5cdH1cblxuXHRmdW5jdGlvbiBkZXN0cm95KHRhKSB7XG5cdFx0dmFyIG1ldGhvZHMgPSBtYXAuZ2V0KHRhKTtcblx0XHRpZiAobWV0aG9kcykge1xuXHRcdFx0bWV0aG9kcy5kZXN0cm95KCk7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gdXBkYXRlKHRhKSB7XG5cdFx0dmFyIG1ldGhvZHMgPSBtYXAuZ2V0KHRhKTtcblx0XHRpZiAobWV0aG9kcykge1xuXHRcdFx0bWV0aG9kcy51cGRhdGUoKTtcblx0XHR9XG5cdH1cblxuXHR2YXIgYXV0b3NpemUgPSBudWxsO1xuXG5cdC8vIERvIG5vdGhpbmcgaW4gTm9kZS5qcyBlbnZpcm9ubWVudCBhbmQgSUU4IChvciBsb3dlcilcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSAhPT0gJ2Z1bmN0aW9uJykge1xuXHRcdGF1dG9zaXplID0gZnVuY3Rpb24gYXV0b3NpemUoZWwpIHtcblx0XHRcdHJldHVybiBlbDtcblx0XHR9O1xuXHRcdGF1dG9zaXplLmRlc3Ryb3kgPSBmdW5jdGlvbiAoZWwpIHtcblx0XHRcdHJldHVybiBlbDtcblx0XHR9O1xuXHRcdGF1dG9zaXplLnVwZGF0ZSA9IGZ1bmN0aW9uIChlbCkge1xuXHRcdFx0cmV0dXJuIGVsO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0YXV0b3NpemUgPSBmdW5jdGlvbiBhdXRvc2l6ZShlbCwgb3B0aW9ucykge1xuXHRcdFx0aWYgKGVsKSB7XG5cdFx0XHRcdEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZWwubGVuZ3RoID8gZWwgOiBbZWxdLCBmdW5jdGlvbiAoeCkge1xuXHRcdFx0XHRcdHJldHVybiBhc3NpZ24oeCwgb3B0aW9ucyk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGVsO1xuXHRcdH07XG5cdFx0YXV0b3NpemUuZGVzdHJveSA9IGZ1bmN0aW9uIChlbCkge1xuXHRcdFx0aWYgKGVsKSB7XG5cdFx0XHRcdEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZWwubGVuZ3RoID8gZWwgOiBbZWxdLCBkZXN0cm95KTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBlbDtcblx0XHR9O1xuXHRcdGF1dG9zaXplLnVwZGF0ZSA9IGZ1bmN0aW9uIChlbCkge1xuXHRcdFx0aWYgKGVsKSB7XG5cdFx0XHRcdEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZWwubGVuZ3RoID8gZWwgOiBbZWxdLCB1cGRhdGUpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGVsO1xuXHRcdH07XG5cdH1cblxuXHRleHBvcnRzLmRlZmF1bHQgPSBhdXRvc2l6ZTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG59KTsiLCIvKiBqc2hpbnQgYnJvd3NlcjogdHJ1ZSAqL1xuXG4oZnVuY3Rpb24gKCkge1xuXG4vLyBXZSdsbCBjb3B5IHRoZSBwcm9wZXJ0aWVzIGJlbG93IGludG8gdGhlIG1pcnJvciBkaXYuXG4vLyBOb3RlIHRoYXQgc29tZSBicm93c2Vycywgc3VjaCBhcyBGaXJlZm94LCBkbyBub3QgY29uY2F0ZW5hdGUgcHJvcGVydGllc1xuLy8gaW50byB0aGVpciBzaG9ydGhhbmQgKGUuZy4gcGFkZGluZy10b3AsIHBhZGRpbmctYm90dG9tIGV0Yy4gLT4gcGFkZGluZyksXG4vLyBzbyB3ZSBoYXZlIHRvIGxpc3QgZXZlcnkgc2luZ2xlIHByb3BlcnR5IGV4cGxpY2l0bHkuXG52YXIgcHJvcGVydGllcyA9IFtcbiAgJ2RpcmVjdGlvbicsICAvLyBSVEwgc3VwcG9ydFxuICAnYm94U2l6aW5nJyxcbiAgJ3dpZHRoJywgIC8vIG9uIENocm9tZSBhbmQgSUUsIGV4Y2x1ZGUgdGhlIHNjcm9sbGJhciwgc28gdGhlIG1pcnJvciBkaXYgd3JhcHMgZXhhY3RseSBhcyB0aGUgdGV4dGFyZWEgZG9lc1xuICAnaGVpZ2h0JyxcbiAgJ292ZXJmbG93WCcsXG4gICdvdmVyZmxvd1knLCAgLy8gY29weSB0aGUgc2Nyb2xsYmFyIGZvciBJRVxuXG4gICdib3JkZXJUb3BXaWR0aCcsXG4gICdib3JkZXJSaWdodFdpZHRoJyxcbiAgJ2JvcmRlckJvdHRvbVdpZHRoJyxcbiAgJ2JvcmRlckxlZnRXaWR0aCcsXG4gICdib3JkZXJTdHlsZScsXG5cbiAgJ3BhZGRpbmdUb3AnLFxuICAncGFkZGluZ1JpZ2h0JyxcbiAgJ3BhZGRpbmdCb3R0b20nLFxuICAncGFkZGluZ0xlZnQnLFxuXG4gIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9mb250XG4gICdmb250U3R5bGUnLFxuICAnZm9udFZhcmlhbnQnLFxuICAnZm9udFdlaWdodCcsXG4gICdmb250U3RyZXRjaCcsXG4gICdmb250U2l6ZScsXG4gICdmb250U2l6ZUFkanVzdCcsXG4gICdsaW5lSGVpZ2h0JyxcbiAgJ2ZvbnRGYW1pbHknLFxuXG4gICd0ZXh0QWxpZ24nLFxuICAndGV4dFRyYW5zZm9ybScsXG4gICd0ZXh0SW5kZW50JyxcbiAgJ3RleHREZWNvcmF0aW9uJywgIC8vIG1pZ2h0IG5vdCBtYWtlIGEgZGlmZmVyZW5jZSwgYnV0IGJldHRlciBiZSBzYWZlXG5cbiAgJ2xldHRlclNwYWNpbmcnLFxuICAnd29yZFNwYWNpbmcnLFxuXG4gICd0YWJTaXplJyxcbiAgJ01velRhYlNpemUnXG5cbl07XG5cbnZhciBpc0Jyb3dzZXIgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpO1xudmFyIGlzRmlyZWZveCA9IChpc0Jyb3dzZXIgJiYgd2luZG93Lm1veklubmVyU2NyZWVuWCAhPSBudWxsKTtcblxuZnVuY3Rpb24gZ2V0Q2FyZXRDb29yZGluYXRlcyhlbGVtZW50LCBwb3NpdGlvbiwgb3B0aW9ucykge1xuICBpZiAoIWlzQnJvd3Nlcikge1xuICAgIHRocm93IG5ldyBFcnJvcigndGV4dGFyZWEtY2FyZXQtcG9zaXRpb24jZ2V0Q2FyZXRDb29yZGluYXRlcyBzaG91bGQgb25seSBiZSBjYWxsZWQgaW4gYSBicm93c2VyJyk7XG4gIH1cblxuICB2YXIgZGVidWcgPSBvcHRpb25zICYmIG9wdGlvbnMuZGVidWcgfHwgZmFsc2U7XG4gIGlmIChkZWJ1Zykge1xuICAgIHZhciBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNpbnB1dC10ZXh0YXJlYS1jYXJldC1wb3NpdGlvbi1taXJyb3ItZGl2Jyk7XG4gICAgaWYgKGVsKSBlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKTtcbiAgfVxuXG4gIC8vIFRoZSBtaXJyb3IgZGl2IHdpbGwgcmVwbGljYXRlIHRoZSB0ZXh0YXJlYSdzIHN0eWxlXG4gIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZGl2LmlkID0gJ2lucHV0LXRleHRhcmVhLWNhcmV0LXBvc2l0aW9uLW1pcnJvci1kaXYnO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdik7XG5cbiAgdmFyIHN0eWxlID0gZGl2LnN0eWxlO1xuICB2YXIgY29tcHV0ZWQgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSA/IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpIDogZWxlbWVudC5jdXJyZW50U3R5bGU7ICAvLyBjdXJyZW50U3R5bGUgZm9yIElFIDwgOVxuICB2YXIgaXNJbnB1dCA9IGVsZW1lbnQubm9kZU5hbWUgPT09ICdJTlBVVCc7XG5cbiAgLy8gRGVmYXVsdCB0ZXh0YXJlYSBzdHlsZXNcbiAgc3R5bGUud2hpdGVTcGFjZSA9ICdwcmUtd3JhcCc7XG4gIGlmICghaXNJbnB1dClcbiAgICBzdHlsZS53b3JkV3JhcCA9ICdicmVhay13b3JkJzsgIC8vIG9ubHkgZm9yIHRleHRhcmVhLXNcblxuICAvLyBQb3NpdGlvbiBvZmYtc2NyZWVuXG4gIHN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJzsgIC8vIHJlcXVpcmVkIHRvIHJldHVybiBjb29yZGluYXRlcyBwcm9wZXJseVxuICBpZiAoIWRlYnVnKVxuICAgIHN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJzsgIC8vIG5vdCAnZGlzcGxheTogbm9uZScgYmVjYXVzZSB3ZSB3YW50IHJlbmRlcmluZ1xuXG4gIC8vIFRyYW5zZmVyIHRoZSBlbGVtZW50J3MgcHJvcGVydGllcyB0byB0aGUgZGl2XG4gIHByb3BlcnRpZXMuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgIGlmIChpc0lucHV0ICYmIHByb3AgPT09ICdsaW5lSGVpZ2h0Jykge1xuICAgICAgLy8gU3BlY2lhbCBjYXNlIGZvciA8aW5wdXQ+cyBiZWNhdXNlIHRleHQgaXMgcmVuZGVyZWQgY2VudGVyZWQgYW5kIGxpbmUgaGVpZ2h0IG1heSBiZSAhPSBoZWlnaHRcbiAgICAgIHN0eWxlLmxpbmVIZWlnaHQgPSBjb21wdXRlZC5oZWlnaHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlW3Byb3BdID0gY29tcHV0ZWRbcHJvcF07XG4gICAgfVxuICB9KTtcblxuICBpZiAoaXNGaXJlZm94KSB7XG4gICAgLy8gRmlyZWZveCBsaWVzIGFib3V0IHRoZSBvdmVyZmxvdyBwcm9wZXJ0eSBmb3IgdGV4dGFyZWFzOiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD05ODQyNzVcbiAgICBpZiAoZWxlbWVudC5zY3JvbGxIZWlnaHQgPiBwYXJzZUludChjb21wdXRlZC5oZWlnaHQpKVxuICAgICAgc3R5bGUub3ZlcmZsb3dZID0gJ3Njcm9sbCc7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJzsgIC8vIGZvciBDaHJvbWUgdG8gbm90IHJlbmRlciBhIHNjcm9sbGJhcjsgSUUga2VlcHMgb3ZlcmZsb3dZID0gJ3Njcm9sbCdcbiAgfVxuXG4gIGRpdi50ZXh0Q29udGVudCA9IGVsZW1lbnQudmFsdWUuc3Vic3RyaW5nKDAsIHBvc2l0aW9uKTtcbiAgLy8gVGhlIHNlY29uZCBzcGVjaWFsIGhhbmRsaW5nIGZvciBpbnB1dCB0eXBlPVwidGV4dFwiIHZzIHRleHRhcmVhOlxuICAvLyBzcGFjZXMgbmVlZCB0byBiZSByZXBsYWNlZCB3aXRoIG5vbi1icmVha2luZyBzcGFjZXMgLSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMzQwMjAzNS8xMjY5MDM3XG4gIGlmIChpc0lucHV0KVxuICAgIGRpdi50ZXh0Q29udGVudCA9IGRpdi50ZXh0Q29udGVudC5yZXBsYWNlKC9cXHMvZywgJ1xcdTAwYTAnKTtcblxuICB2YXIgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgLy8gV3JhcHBpbmcgbXVzdCBiZSByZXBsaWNhdGVkICpleGFjdGx5KiwgaW5jbHVkaW5nIHdoZW4gYSBsb25nIHdvcmQgZ2V0c1xuICAvLyBvbnRvIHRoZSBuZXh0IGxpbmUsIHdpdGggd2hpdGVzcGFjZSBhdCB0aGUgZW5kIG9mIHRoZSBsaW5lIGJlZm9yZSAoIzcpLlxuICAvLyBUaGUgICpvbmx5KiByZWxpYWJsZSB3YXkgdG8gZG8gdGhhdCBpcyB0byBjb3B5IHRoZSAqZW50aXJlKiByZXN0IG9mIHRoZVxuICAvLyB0ZXh0YXJlYSdzIGNvbnRlbnQgaW50byB0aGUgPHNwYW4+IGNyZWF0ZWQgYXQgdGhlIGNhcmV0IHBvc2l0aW9uLlxuICAvLyBGb3IgaW5wdXRzLCBqdXN0ICcuJyB3b3VsZCBiZSBlbm91Z2gsIGJ1dCBubyBuZWVkIHRvIGJvdGhlci5cbiAgc3Bhbi50ZXh0Q29udGVudCA9IGVsZW1lbnQudmFsdWUuc3Vic3RyaW5nKHBvc2l0aW9uKSB8fCAnLic7ICAvLyB8fCBiZWNhdXNlIGEgY29tcGxldGVseSBlbXB0eSBmYXV4IHNwYW4gZG9lc24ndCByZW5kZXIgYXQgYWxsXG4gIGRpdi5hcHBlbmRDaGlsZChzcGFuKTtcblxuICB2YXIgY29vcmRpbmF0ZXMgPSB7XG4gICAgdG9wOiBzcGFuLm9mZnNldFRvcCArIHBhcnNlSW50KGNvbXB1dGVkWydib3JkZXJUb3BXaWR0aCddKSxcbiAgICBsZWZ0OiBzcGFuLm9mZnNldExlZnQgKyBwYXJzZUludChjb21wdXRlZFsnYm9yZGVyTGVmdFdpZHRoJ10pLFxuICAgIGhlaWdodDogcGFyc2VJbnQoY29tcHV0ZWRbJ2xpbmVIZWlnaHQnXSlcbiAgfTtcblxuICBpZiAoZGVidWcpIHtcbiAgICBzcGFuLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjYWFhJztcbiAgfSBlbHNlIHtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGRpdik7XG4gIH1cblxuICByZXR1cm4gY29vcmRpbmF0ZXM7XG59XG5cbmlmICh0eXBlb2YgbW9kdWxlICE9ICd1bmRlZmluZWQnICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyAhPSAndW5kZWZpbmVkJykge1xuICBtb2R1bGUuZXhwb3J0cyA9IGdldENhcmV0Q29vcmRpbmF0ZXM7XG59IGVsc2UgaWYoaXNCcm93c2VyKSB7XG4gIHdpbmRvdy5nZXRDYXJldENvb3JkaW5hdGVzID0gZ2V0Q2FyZXRDb29yZGluYXRlcztcbn1cblxufSgpKTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBiaW5kKGZuLCB0aGlzQXJnKSB7XG4gIHJldHVybiBmdW5jdGlvbiB3cmFwKCkge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICB9O1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIHNldHRsZSA9IHJlcXVpcmUoJy4vLi4vY29yZS9zZXR0bGUnKTtcbnZhciBidWlsZFVSTCA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9idWlsZFVSTCcpO1xudmFyIHBhcnNlSGVhZGVycyA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9wYXJzZUhlYWRlcnMnKTtcbnZhciBpc1VSTFNhbWVPcmlnaW4gPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvaXNVUkxTYW1lT3JpZ2luJyk7XG52YXIgY3JlYXRlRXJyb3IgPSByZXF1aXJlKCcuLi9jb3JlL2NyZWF0ZUVycm9yJyk7XG52YXIgYnRvYSA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuYnRvYSAmJiB3aW5kb3cuYnRvYS5iaW5kKHdpbmRvdykpIHx8IHJlcXVpcmUoJy4vLi4vaGVscGVycy9idG9hJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24geGhyQWRhcHRlcihjb25maWcpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIGRpc3BhdGNoWGhyUmVxdWVzdChyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgcmVxdWVzdERhdGEgPSBjb25maWcuZGF0YTtcbiAgICB2YXIgcmVxdWVzdEhlYWRlcnMgPSBjb25maWcuaGVhZGVycztcblxuICAgIGlmICh1dGlscy5pc0Zvcm1EYXRhKHJlcXVlc3REYXRhKSkge1xuICAgICAgZGVsZXRlIHJlcXVlc3RIZWFkZXJzWydDb250ZW50LVR5cGUnXTsgLy8gTGV0IHRoZSBicm93c2VyIHNldCBpdFxuICAgIH1cblxuICAgIHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgdmFyIGxvYWRFdmVudCA9ICdvbnJlYWR5c3RhdGVjaGFuZ2UnO1xuICAgIHZhciB4RG9tYWluID0gZmFsc2U7XG5cbiAgICAvLyBGb3IgSUUgOC85IENPUlMgc3VwcG9ydFxuICAgIC8vIE9ubHkgc3VwcG9ydHMgUE9TVCBhbmQgR0VUIGNhbGxzIGFuZCBkb2Vzbid0IHJldHVybnMgdGhlIHJlc3BvbnNlIGhlYWRlcnMuXG4gICAgLy8gRE9OJ1QgZG8gdGhpcyBmb3IgdGVzdGluZyBiL2MgWE1MSHR0cFJlcXVlc3QgaXMgbW9ja2VkLCBub3QgWERvbWFpblJlcXVlc3QuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAndGVzdCcgJiZcbiAgICAgICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgd2luZG93LlhEb21haW5SZXF1ZXN0ICYmICEoJ3dpdGhDcmVkZW50aWFscycgaW4gcmVxdWVzdCkgJiZcbiAgICAgICAgIWlzVVJMU2FtZU9yaWdpbihjb25maWcudXJsKSkge1xuICAgICAgcmVxdWVzdCA9IG5ldyB3aW5kb3cuWERvbWFpblJlcXVlc3QoKTtcbiAgICAgIGxvYWRFdmVudCA9ICdvbmxvYWQnO1xuICAgICAgeERvbWFpbiA9IHRydWU7XG4gICAgICByZXF1ZXN0Lm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbiBoYW5kbGVQcm9ncmVzcygpIHt9O1xuICAgICAgcmVxdWVzdC5vbnRpbWVvdXQgPSBmdW5jdGlvbiBoYW5kbGVUaW1lb3V0KCkge307XG4gICAgfVxuXG4gICAgLy8gSFRUUCBiYXNpYyBhdXRoZW50aWNhdGlvblxuICAgIGlmIChjb25maWcuYXV0aCkge1xuICAgICAgdmFyIHVzZXJuYW1lID0gY29uZmlnLmF1dGgudXNlcm5hbWUgfHwgJyc7XG4gICAgICB2YXIgcGFzc3dvcmQgPSBjb25maWcuYXV0aC5wYXNzd29yZCB8fCAnJztcbiAgICAgIHJlcXVlc3RIZWFkZXJzLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArIGJ0b2EodXNlcm5hbWUgKyAnOicgKyBwYXNzd29yZCk7XG4gICAgfVxuXG4gICAgcmVxdWVzdC5vcGVuKGNvbmZpZy5tZXRob2QudG9VcHBlckNhc2UoKSwgYnVpbGRVUkwoY29uZmlnLnVybCwgY29uZmlnLnBhcmFtcywgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIpLCB0cnVlKTtcblxuICAgIC8vIFNldCB0aGUgcmVxdWVzdCB0aW1lb3V0IGluIE1TXG4gICAgcmVxdWVzdC50aW1lb3V0ID0gY29uZmlnLnRpbWVvdXQ7XG5cbiAgICAvLyBMaXN0ZW4gZm9yIHJlYWR5IHN0YXRlXG4gICAgcmVxdWVzdFtsb2FkRXZlbnRdID0gZnVuY3Rpb24gaGFuZGxlTG9hZCgpIHtcbiAgICAgIGlmICghcmVxdWVzdCB8fCAocmVxdWVzdC5yZWFkeVN0YXRlICE9PSA0ICYmICF4RG9tYWluKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSByZXF1ZXN0IGVycm9yZWQgb3V0IGFuZCB3ZSBkaWRuJ3QgZ2V0IGEgcmVzcG9uc2UsIHRoaXMgd2lsbCBiZVxuICAgICAgLy8gaGFuZGxlZCBieSBvbmVycm9yIGluc3RlYWRcbiAgICAgIC8vIFdpdGggb25lIGV4Y2VwdGlvbjogcmVxdWVzdCB0aGF0IHVzaW5nIGZpbGU6IHByb3RvY29sLCBtb3N0IGJyb3dzZXJzXG4gICAgICAvLyB3aWxsIHJldHVybiBzdGF0dXMgYXMgMCBldmVuIHRob3VnaCBpdCdzIGEgc3VjY2Vzc2Z1bCByZXF1ZXN0XG4gICAgICBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDAgJiYgIShyZXF1ZXN0LnJlc3BvbnNlVVJMICYmIHJlcXVlc3QucmVzcG9uc2VVUkwuaW5kZXhPZignZmlsZTonKSA9PT0gMCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBQcmVwYXJlIHRoZSByZXNwb25zZVxuICAgICAgdmFyIHJlc3BvbnNlSGVhZGVycyA9ICdnZXRBbGxSZXNwb25zZUhlYWRlcnMnIGluIHJlcXVlc3QgPyBwYXJzZUhlYWRlcnMocmVxdWVzdC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkgOiBudWxsO1xuICAgICAgdmFyIHJlc3BvbnNlRGF0YSA9ICFjb25maWcucmVzcG9uc2VUeXBlIHx8IGNvbmZpZy5yZXNwb25zZVR5cGUgPT09ICd0ZXh0JyA/IHJlcXVlc3QucmVzcG9uc2VUZXh0IDogcmVxdWVzdC5yZXNwb25zZTtcbiAgICAgIHZhciByZXNwb25zZSA9IHtcbiAgICAgICAgZGF0YTogcmVzcG9uc2VEYXRhLFxuICAgICAgICAvLyBJRSBzZW5kcyAxMjIzIGluc3RlYWQgb2YgMjA0IChodHRwczovL2dpdGh1Yi5jb20vYXhpb3MvYXhpb3MvaXNzdWVzLzIwMSlcbiAgICAgICAgc3RhdHVzOiByZXF1ZXN0LnN0YXR1cyA9PT0gMTIyMyA/IDIwNCA6IHJlcXVlc3Quc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiByZXF1ZXN0LnN0YXR1cyA9PT0gMTIyMyA/ICdObyBDb250ZW50JyA6IHJlcXVlc3Quc3RhdHVzVGV4dCxcbiAgICAgICAgaGVhZGVyczogcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICBjb25maWc6IGNvbmZpZyxcbiAgICAgICAgcmVxdWVzdDogcmVxdWVzdFxuICAgICAgfTtcblxuICAgICAgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgcmVzcG9uc2UpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIGxvdyBsZXZlbCBuZXR3b3JrIGVycm9yc1xuICAgIHJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uIGhhbmRsZUVycm9yKCkge1xuICAgICAgLy8gUmVhbCBlcnJvcnMgYXJlIGhpZGRlbiBmcm9tIHVzIGJ5IHRoZSBicm93c2VyXG4gICAgICAvLyBvbmVycm9yIHNob3VsZCBvbmx5IGZpcmUgaWYgaXQncyBhIG5ldHdvcmsgZXJyb3JcbiAgICAgIHJlamVjdChjcmVhdGVFcnJvcignTmV0d29yayBFcnJvcicsIGNvbmZpZywgbnVsbCwgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIHRpbWVvdXRcbiAgICByZXF1ZXN0Lm9udGltZW91dCA9IGZ1bmN0aW9uIGhhbmRsZVRpbWVvdXQoKSB7XG4gICAgICByZWplY3QoY3JlYXRlRXJyb3IoJ3RpbWVvdXQgb2YgJyArIGNvbmZpZy50aW1lb3V0ICsgJ21zIGV4Y2VlZGVkJywgY29uZmlnLCAnRUNPTk5BQk9SVEVEJyxcbiAgICAgICAgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gQWRkIHhzcmYgaGVhZGVyXG4gICAgLy8gVGhpcyBpcyBvbmx5IGRvbmUgaWYgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgZW52aXJvbm1lbnQuXG4gICAgLy8gU3BlY2lmaWNhbGx5IG5vdCBpZiB3ZSdyZSBpbiBhIHdlYiB3b3JrZXIsIG9yIHJlYWN0LW5hdGl2ZS5cbiAgICBpZiAodXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSkge1xuICAgICAgdmFyIGNvb2tpZXMgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvY29va2llcycpO1xuXG4gICAgICAvLyBBZGQgeHNyZiBoZWFkZXJcbiAgICAgIHZhciB4c3JmVmFsdWUgPSAoY29uZmlnLndpdGhDcmVkZW50aWFscyB8fCBpc1VSTFNhbWVPcmlnaW4oY29uZmlnLnVybCkpICYmIGNvbmZpZy54c3JmQ29va2llTmFtZSA/XG4gICAgICAgICAgY29va2llcy5yZWFkKGNvbmZpZy54c3JmQ29va2llTmFtZSkgOlxuICAgICAgICAgIHVuZGVmaW5lZDtcblxuICAgICAgaWYgKHhzcmZWYWx1ZSkge1xuICAgICAgICByZXF1ZXN0SGVhZGVyc1tjb25maWcueHNyZkhlYWRlck5hbWVdID0geHNyZlZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFkZCBoZWFkZXJzIHRvIHRoZSByZXF1ZXN0XG4gICAgaWYgKCdzZXRSZXF1ZXN0SGVhZGVyJyBpbiByZXF1ZXN0KSB7XG4gICAgICB1dGlscy5mb3JFYWNoKHJlcXVlc3RIZWFkZXJzLCBmdW5jdGlvbiBzZXRSZXF1ZXN0SGVhZGVyKHZhbCwga2V5KSB7XG4gICAgICAgIGlmICh0eXBlb2YgcmVxdWVzdERhdGEgPT09ICd1bmRlZmluZWQnICYmIGtleS50b0xvd2VyQ2FzZSgpID09PSAnY29udGVudC10eXBlJykge1xuICAgICAgICAgIC8vIFJlbW92ZSBDb250ZW50LVR5cGUgaWYgZGF0YSBpcyB1bmRlZmluZWRcbiAgICAgICAgICBkZWxldGUgcmVxdWVzdEhlYWRlcnNba2V5XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBPdGhlcndpc2UgYWRkIGhlYWRlciB0byB0aGUgcmVxdWVzdFxuICAgICAgICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcihrZXksIHZhbCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEFkZCB3aXRoQ3JlZGVudGlhbHMgdG8gcmVxdWVzdCBpZiBuZWVkZWRcbiAgICBpZiAoY29uZmlnLndpdGhDcmVkZW50aWFscykge1xuICAgICAgcmVxdWVzdC53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIEFkZCByZXNwb25zZVR5cGUgdG8gcmVxdWVzdCBpZiBuZWVkZWRcbiAgICBpZiAoY29uZmlnLnJlc3BvbnNlVHlwZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmVxdWVzdC5yZXNwb25zZVR5cGUgPSBjb25maWcucmVzcG9uc2VUeXBlO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBFeHBlY3RlZCBET01FeGNlcHRpb24gdGhyb3duIGJ5IGJyb3dzZXJzIG5vdCBjb21wYXRpYmxlIFhNTEh0dHBSZXF1ZXN0IExldmVsIDIuXG4gICAgICAgIC8vIEJ1dCwgdGhpcyBjYW4gYmUgc3VwcHJlc3NlZCBmb3IgJ2pzb24nIHR5cGUgYXMgaXQgY2FuIGJlIHBhcnNlZCBieSBkZWZhdWx0ICd0cmFuc2Zvcm1SZXNwb25zZScgZnVuY3Rpb24uXG4gICAgICAgIGlmIChjb25maWcucmVzcG9uc2VUeXBlICE9PSAnanNvbicpIHtcbiAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHByb2dyZXNzIGlmIG5lZWRlZFxuICAgIGlmICh0eXBlb2YgY29uZmlnLm9uRG93bmxvYWRQcm9ncmVzcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIGNvbmZpZy5vbkRvd25sb2FkUHJvZ3Jlc3MpO1xuICAgIH1cblxuICAgIC8vIE5vdCBhbGwgYnJvd3NlcnMgc3VwcG9ydCB1cGxvYWQgZXZlbnRzXG4gICAgaWYgKHR5cGVvZiBjb25maWcub25VcGxvYWRQcm9ncmVzcyA9PT0gJ2Z1bmN0aW9uJyAmJiByZXF1ZXN0LnVwbG9hZCkge1xuICAgICAgcmVxdWVzdC51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBjb25maWcub25VcGxvYWRQcm9ncmVzcyk7XG4gICAgfVxuXG4gICAgaWYgKGNvbmZpZy5jYW5jZWxUb2tlbikge1xuICAgICAgLy8gSGFuZGxlIGNhbmNlbGxhdGlvblxuICAgICAgY29uZmlnLmNhbmNlbFRva2VuLnByb21pc2UudGhlbihmdW5jdGlvbiBvbkNhbmNlbGVkKGNhbmNlbCkge1xuICAgICAgICBpZiAoIXJlcXVlc3QpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICByZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgIHJlamVjdChjYW5jZWwpO1xuICAgICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHJlcXVlc3REYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJlcXVlc3REYXRhID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBTZW5kIHRoZSByZXF1ZXN0XG4gICAgcmVxdWVzdC5zZW5kKHJlcXVlc3REYXRhKTtcbiAgfSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZW5oYW5jZUVycm9yID0gcmVxdWlyZSgnLi9lbmhhbmNlRXJyb3InKTtcblxuLyoqXG4gKiBDcmVhdGUgYW4gRXJyb3Igd2l0aCB0aGUgc3BlY2lmaWVkIG1lc3NhZ2UsIGNvbmZpZywgZXJyb3IgY29kZSwgcmVxdWVzdCBhbmQgcmVzcG9uc2UuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWcuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2NvZGVdIFRoZSBlcnJvciBjb2RlIChmb3IgZXhhbXBsZSwgJ0VDT05OQUJPUlRFRCcpLlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXF1ZXN0XSBUaGUgcmVxdWVzdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVzcG9uc2VdIFRoZSByZXNwb25zZS5cbiAqIEByZXR1cm5zIHtFcnJvcn0gVGhlIGNyZWF0ZWQgZXJyb3IuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3JlYXRlRXJyb3IobWVzc2FnZSwgY29uZmlnLCBjb2RlLCByZXF1ZXN0LCByZXNwb25zZSkge1xuICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIHJldHVybiBlbmhhbmNlRXJyb3IoZXJyb3IsIGNvbmZpZywgY29kZSwgcmVxdWVzdCwgcmVzcG9uc2UpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0NhbmNlbCh2YWx1ZSkge1xuICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWUuX19DQU5DRUxfXyk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEEgYENhbmNlbGAgaXMgYW4gb2JqZWN0IHRoYXQgaXMgdGhyb3duIHdoZW4gYW4gb3BlcmF0aW9uIGlzIGNhbmNlbGVkLlxuICpcbiAqIEBjbGFzc1xuICogQHBhcmFtIHtzdHJpbmc9fSBtZXNzYWdlIFRoZSBtZXNzYWdlLlxuICovXG5mdW5jdGlvbiBDYW5jZWwobWVzc2FnZSkge1xuICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xufVxuXG5DYW5jZWwucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gIHJldHVybiAnQ2FuY2VsJyArICh0aGlzLm1lc3NhZ2UgPyAnOiAnICsgdGhpcy5tZXNzYWdlIDogJycpO1xufTtcblxuQ2FuY2VsLnByb3RvdHlwZS5fX0NBTkNFTF9fID0gdHJ1ZTtcblxubW9kdWxlLmV4cG9ydHMgPSBDYW5jZWw7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcbnZhciBiaW5kID0gcmVxdWlyZSgnLi9oZWxwZXJzL2JpbmQnKTtcbnZhciBBeGlvcyA9IHJlcXVpcmUoJy4vY29yZS9BeGlvcycpO1xudmFyIGRlZmF1bHRzID0gcmVxdWlyZSgnLi9kZWZhdWx0cycpO1xuXG4vKipcbiAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiBBeGlvc1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBkZWZhdWx0Q29uZmlnIFRoZSBkZWZhdWx0IGNvbmZpZyBmb3IgdGhlIGluc3RhbmNlXG4gKiBAcmV0dXJuIHtBeGlvc30gQSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3NcbiAqL1xuZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2UoZGVmYXVsdENvbmZpZykge1xuICB2YXIgY29udGV4dCA9IG5ldyBBeGlvcyhkZWZhdWx0Q29uZmlnKTtcbiAgdmFyIGluc3RhbmNlID0gYmluZChBeGlvcy5wcm90b3R5cGUucmVxdWVzdCwgY29udGV4dCk7XG5cbiAgLy8gQ29weSBheGlvcy5wcm90b3R5cGUgdG8gaW5zdGFuY2VcbiAgdXRpbHMuZXh0ZW5kKGluc3RhbmNlLCBBeGlvcy5wcm90b3R5cGUsIGNvbnRleHQpO1xuXG4gIC8vIENvcHkgY29udGV4dCB0byBpbnN0YW5jZVxuICB1dGlscy5leHRlbmQoaW5zdGFuY2UsIGNvbnRleHQpO1xuXG4gIHJldHVybiBpbnN0YW5jZTtcbn1cblxuLy8gQ3JlYXRlIHRoZSBkZWZhdWx0IGluc3RhbmNlIHRvIGJlIGV4cG9ydGVkXG52YXIgYXhpb3MgPSBjcmVhdGVJbnN0YW5jZShkZWZhdWx0cyk7XG5cbi8vIEV4cG9zZSBBeGlvcyBjbGFzcyB0byBhbGxvdyBjbGFzcyBpbmhlcml0YW5jZVxuYXhpb3MuQXhpb3MgPSBBeGlvcztcblxuLy8gRmFjdG9yeSBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlc1xuYXhpb3MuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKGluc3RhbmNlQ29uZmlnKSB7XG4gIHJldHVybiBjcmVhdGVJbnN0YW5jZSh1dGlscy5tZXJnZShkZWZhdWx0cywgaW5zdGFuY2VDb25maWcpKTtcbn07XG5cbi8vIEV4cG9zZSBDYW5jZWwgJiBDYW5jZWxUb2tlblxuYXhpb3MuQ2FuY2VsID0gcmVxdWlyZSgnLi9jYW5jZWwvQ2FuY2VsJyk7XG5heGlvcy5DYW5jZWxUb2tlbiA9IHJlcXVpcmUoJy4vY2FuY2VsL0NhbmNlbFRva2VuJyk7XG5heGlvcy5pc0NhbmNlbCA9IHJlcXVpcmUoJy4vY2FuY2VsL2lzQ2FuY2VsJyk7XG5cbi8vIEV4cG9zZSBhbGwvc3ByZWFkXG5heGlvcy5hbGwgPSBmdW5jdGlvbiBhbGwocHJvbWlzZXMpIHtcbiAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKTtcbn07XG5heGlvcy5zcHJlYWQgPSByZXF1aXJlKCcuL2hlbHBlcnMvc3ByZWFkJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gYXhpb3M7XG5cbi8vIEFsbG93IHVzZSBvZiBkZWZhdWx0IGltcG9ydCBzeW50YXggaW4gVHlwZVNjcmlwdFxubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IGF4aW9zO1xuIiwiLyohXG4gKiBEZXRlcm1pbmUgaWYgYW4gb2JqZWN0IGlzIGEgQnVmZmVyXG4gKlxuICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHBzOi8vZmVyb3NzLm9yZz5cbiAqIEBsaWNlbnNlICBNSVRcbiAqL1xuXG4vLyBUaGUgX2lzQnVmZmVyIGNoZWNrIGlzIGZvciBTYWZhcmkgNS03IHN1cHBvcnQsIGJlY2F1c2UgaXQncyBtaXNzaW5nXG4vLyBPYmplY3QucHJvdG90eXBlLmNvbnN0cnVjdG9yLiBSZW1vdmUgdGhpcyBldmVudHVhbGx5XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIG9iaiAhPSBudWxsICYmIChpc0J1ZmZlcihvYmopIHx8IGlzU2xvd0J1ZmZlcihvYmopIHx8ICEhb2JqLl9pc0J1ZmZlcilcbn1cblxuZnVuY3Rpb24gaXNCdWZmZXIgKG9iaikge1xuICByZXR1cm4gISFvYmouY29uc3RydWN0b3IgJiYgdHlwZW9mIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlciA9PT0gJ2Z1bmN0aW9uJyAmJiBvYmouY29uc3RydWN0b3IuaXNCdWZmZXIob2JqKVxufVxuXG4vLyBGb3IgTm9kZSB2MC4xMCBzdXBwb3J0LiBSZW1vdmUgdGhpcyBldmVudHVhbGx5LlxuZnVuY3Rpb24gaXNTbG93QnVmZmVyIChvYmopIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmoucmVhZEZsb2F0TEUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIG9iai5zbGljZSA9PT0gJ2Z1bmN0aW9uJyAmJiBpc0J1ZmZlcihvYmouc2xpY2UoMCwgMCkpXG59XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBkZWZhdWx0cyA9IHJlcXVpcmUoJy4vLi4vZGVmYXVsdHMnKTtcbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcbnZhciBJbnRlcmNlcHRvck1hbmFnZXIgPSByZXF1aXJlKCcuL0ludGVyY2VwdG9yTWFuYWdlcicpO1xudmFyIGRpc3BhdGNoUmVxdWVzdCA9IHJlcXVpcmUoJy4vZGlzcGF0Y2hSZXF1ZXN0Jyk7XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlQ29uZmlnIFRoZSBkZWZhdWx0IGNvbmZpZyBmb3IgdGhlIGluc3RhbmNlXG4gKi9cbmZ1bmN0aW9uIEF4aW9zKGluc3RhbmNlQ29uZmlnKSB7XG4gIHRoaXMuZGVmYXVsdHMgPSBpbnN0YW5jZUNvbmZpZztcbiAgdGhpcy5pbnRlcmNlcHRvcnMgPSB7XG4gICAgcmVxdWVzdDogbmV3IEludGVyY2VwdG9yTWFuYWdlcigpLFxuICAgIHJlc3BvbnNlOiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKClcbiAgfTtcbn1cblxuLyoqXG4gKiBEaXNwYXRjaCBhIHJlcXVlc3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWcgc3BlY2lmaWMgZm9yIHRoaXMgcmVxdWVzdCAobWVyZ2VkIHdpdGggdGhpcy5kZWZhdWx0cylcbiAqL1xuQXhpb3MucHJvdG90eXBlLnJlcXVlc3QgPSBmdW5jdGlvbiByZXF1ZXN0KGNvbmZpZykge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgLy8gQWxsb3cgZm9yIGF4aW9zKCdleGFtcGxlL3VybCdbLCBjb25maWddKSBhIGxhIGZldGNoIEFQSVxuICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycpIHtcbiAgICBjb25maWcgPSB1dGlscy5tZXJnZSh7XG4gICAgICB1cmw6IGFyZ3VtZW50c1swXVxuICAgIH0sIGFyZ3VtZW50c1sxXSk7XG4gIH1cblxuICBjb25maWcgPSB1dGlscy5tZXJnZShkZWZhdWx0cywge21ldGhvZDogJ2dldCd9LCB0aGlzLmRlZmF1bHRzLCBjb25maWcpO1xuICBjb25maWcubWV0aG9kID0gY29uZmlnLm1ldGhvZC50b0xvd2VyQ2FzZSgpO1xuXG4gIC8vIEhvb2sgdXAgaW50ZXJjZXB0b3JzIG1pZGRsZXdhcmVcbiAgdmFyIGNoYWluID0gW2Rpc3BhdGNoUmVxdWVzdCwgdW5kZWZpbmVkXTtcbiAgdmFyIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoY29uZmlnKTtcblxuICB0aGlzLmludGVyY2VwdG9ycy5yZXF1ZXN0LmZvckVhY2goZnVuY3Rpb24gdW5zaGlmdFJlcXVlc3RJbnRlcmNlcHRvcnMoaW50ZXJjZXB0b3IpIHtcbiAgICBjaGFpbi51bnNoaWZ0KGludGVyY2VwdG9yLmZ1bGZpbGxlZCwgaW50ZXJjZXB0b3IucmVqZWN0ZWQpO1xuICB9KTtcblxuICB0aGlzLmludGVyY2VwdG9ycy5yZXNwb25zZS5mb3JFYWNoKGZ1bmN0aW9uIHB1c2hSZXNwb25zZUludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuICAgIGNoYWluLnB1c2goaW50ZXJjZXB0b3IuZnVsZmlsbGVkLCBpbnRlcmNlcHRvci5yZWplY3RlZCk7XG4gIH0pO1xuXG4gIHdoaWxlIChjaGFpbi5sZW5ndGgpIHtcbiAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKGNoYWluLnNoaWZ0KCksIGNoYWluLnNoaWZ0KCkpO1xuICB9XG5cbiAgcmV0dXJuIHByb21pc2U7XG59O1xuXG4vLyBQcm92aWRlIGFsaWFzZXMgZm9yIHN1cHBvcnRlZCByZXF1ZXN0IG1ldGhvZHNcbnV0aWxzLmZvckVhY2goWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAnb3B0aW9ucyddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kTm9EYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKHVybCwgY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCh1dGlscy5tZXJnZShjb25maWcgfHwge30sIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgdXJsOiB1cmxcbiAgICB9KSk7XG4gIH07XG59KTtcblxudXRpbHMuZm9yRWFjaChbJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2RXaXRoRGF0YShtZXRob2QpIHtcbiAgLyplc2xpbnQgZnVuYy1uYW1lczowKi9cbiAgQXhpb3MucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbih1cmwsIGRhdGEsIGNvbmZpZykge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QodXRpbHMubWVyZ2UoY29uZmlnIHx8IHt9LCB7XG4gICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgIHVybDogdXJsLFxuICAgICAgZGF0YTogZGF0YVxuICAgIH0pKTtcbiAgfTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEF4aW9zO1xuIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBub3JtYWxpemVIZWFkZXJOYW1lKGhlYWRlcnMsIG5vcm1hbGl6ZWROYW1lKSB7XG4gIHV0aWxzLmZvckVhY2goaGVhZGVycywgZnVuY3Rpb24gcHJvY2Vzc0hlYWRlcih2YWx1ZSwgbmFtZSkge1xuICAgIGlmIChuYW1lICE9PSBub3JtYWxpemVkTmFtZSAmJiBuYW1lLnRvVXBwZXJDYXNlKCkgPT09IG5vcm1hbGl6ZWROYW1lLnRvVXBwZXJDYXNlKCkpIHtcbiAgICAgIGhlYWRlcnNbbm9ybWFsaXplZE5hbWVdID0gdmFsdWU7XG4gICAgICBkZWxldGUgaGVhZGVyc1tuYW1lXTtcbiAgICB9XG4gIH0pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGNyZWF0ZUVycm9yID0gcmVxdWlyZSgnLi9jcmVhdGVFcnJvcicpO1xuXG4vKipcbiAqIFJlc29sdmUgb3IgcmVqZWN0IGEgUHJvbWlzZSBiYXNlZCBvbiByZXNwb25zZSBzdGF0dXMuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVzb2x2ZSBBIGZ1bmN0aW9uIHRoYXQgcmVzb2x2ZXMgdGhlIHByb21pc2UuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWplY3QgQSBmdW5jdGlvbiB0aGF0IHJlamVjdHMgdGhlIHByb21pc2UuXG4gKiBAcGFyYW0ge29iamVjdH0gcmVzcG9uc2UgVGhlIHJlc3BvbnNlLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHJlc3BvbnNlKSB7XG4gIHZhciB2YWxpZGF0ZVN0YXR1cyA9IHJlc3BvbnNlLmNvbmZpZy52YWxpZGF0ZVN0YXR1cztcbiAgLy8gTm90ZTogc3RhdHVzIGlzIG5vdCBleHBvc2VkIGJ5IFhEb21haW5SZXF1ZXN0XG4gIGlmICghcmVzcG9uc2Uuc3RhdHVzIHx8ICF2YWxpZGF0ZVN0YXR1cyB8fCB2YWxpZGF0ZVN0YXR1cyhyZXNwb25zZS5zdGF0dXMpKSB7XG4gICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gIH0gZWxzZSB7XG4gICAgcmVqZWN0KGNyZWF0ZUVycm9yKFxuICAgICAgJ1JlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUgJyArIHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgIHJlc3BvbnNlLmNvbmZpZyxcbiAgICAgIG51bGwsXG4gICAgICByZXNwb25zZS5yZXF1ZXN0LFxuICAgICAgcmVzcG9uc2VcbiAgICApKTtcbiAgfVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBVcGRhdGUgYW4gRXJyb3Igd2l0aCB0aGUgc3BlY2lmaWVkIGNvbmZpZywgZXJyb3IgY29kZSwgYW5kIHJlc3BvbnNlLlxuICpcbiAqIEBwYXJhbSB7RXJyb3J9IGVycm9yIFRoZSBlcnJvciB0byB1cGRhdGUuXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWcuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2NvZGVdIFRoZSBlcnJvciBjb2RlIChmb3IgZXhhbXBsZSwgJ0VDT05OQUJPUlRFRCcpLlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXF1ZXN0XSBUaGUgcmVxdWVzdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVzcG9uc2VdIFRoZSByZXNwb25zZS5cbiAqIEByZXR1cm5zIHtFcnJvcn0gVGhlIGVycm9yLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGVuaGFuY2VFcnJvcihlcnJvciwgY29uZmlnLCBjb2RlLCByZXF1ZXN0LCByZXNwb25zZSkge1xuICBlcnJvci5jb25maWcgPSBjb25maWc7XG4gIGlmIChjb2RlKSB7XG4gICAgZXJyb3IuY29kZSA9IGNvZGU7XG4gIH1cbiAgZXJyb3IucmVxdWVzdCA9IHJlcXVlc3Q7XG4gIGVycm9yLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gIHJldHVybiBlcnJvcjtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gZW5jb2RlKHZhbCkge1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkuXG4gICAgcmVwbGFjZSgvJTQwL2dpLCAnQCcpLlxuICAgIHJlcGxhY2UoLyUzQS9naSwgJzonKS5cbiAgICByZXBsYWNlKC8lMjQvZywgJyQnKS5cbiAgICByZXBsYWNlKC8lMkMvZ2ksICcsJykuXG4gICAgcmVwbGFjZSgvJTIwL2csICcrJykuXG4gICAgcmVwbGFjZSgvJTVCL2dpLCAnWycpLlxuICAgIHJlcGxhY2UoLyU1RC9naSwgJ10nKTtcbn1cblxuLyoqXG4gKiBCdWlsZCBhIFVSTCBieSBhcHBlbmRpbmcgcGFyYW1zIHRvIHRoZSBlbmRcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBiYXNlIG9mIHRoZSB1cmwgKGUuZy4sIGh0dHA6Ly93d3cuZ29vZ2xlLmNvbSlcbiAqIEBwYXJhbSB7b2JqZWN0fSBbcGFyYW1zXSBUaGUgcGFyYW1zIHRvIGJlIGFwcGVuZGVkXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZm9ybWF0dGVkIHVybFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJ1aWxkVVJMKHVybCwgcGFyYW1zLCBwYXJhbXNTZXJpYWxpemVyKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICBpZiAoIXBhcmFtcykge1xuICAgIHJldHVybiB1cmw7XG4gIH1cblxuICB2YXIgc2VyaWFsaXplZFBhcmFtcztcbiAgaWYgKHBhcmFtc1NlcmlhbGl6ZXIpIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFyYW1zU2VyaWFsaXplcihwYXJhbXMpO1xuICB9IGVsc2UgaWYgKHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKHBhcmFtcykpIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFyYW1zLnRvU3RyaW5nKCk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHBhcnRzID0gW107XG5cbiAgICB1dGlscy5mb3JFYWNoKHBhcmFtcywgZnVuY3Rpb24gc2VyaWFsaXplKHZhbCwga2V5KSB7XG4gICAgICBpZiAodmFsID09PSBudWxsIHx8IHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHV0aWxzLmlzQXJyYXkodmFsKSkge1xuICAgICAgICBrZXkgPSBrZXkgKyAnW10nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsID0gW3ZhbF07XG4gICAgICB9XG5cbiAgICAgIHV0aWxzLmZvckVhY2godmFsLCBmdW5jdGlvbiBwYXJzZVZhbHVlKHYpIHtcbiAgICAgICAgaWYgKHV0aWxzLmlzRGF0ZSh2KSkge1xuICAgICAgICAgIHYgPSB2LnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodXRpbHMuaXNPYmplY3QodikpIHtcbiAgICAgICAgICB2ID0gSlNPTi5zdHJpbmdpZnkodik7XG4gICAgICAgIH1cbiAgICAgICAgcGFydHMucHVzaChlbmNvZGUoa2V5KSArICc9JyArIGVuY29kZSh2KSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSBwYXJ0cy5qb2luKCcmJyk7XG4gIH1cblxuICBpZiAoc2VyaWFsaXplZFBhcmFtcykge1xuICAgIHVybCArPSAodXJsLmluZGV4T2YoJz8nKSA9PT0gLTEgPyAnPycgOiAnJicpICsgc2VyaWFsaXplZFBhcmFtcztcbiAgfVxuXG4gIHJldHVybiB1cmw7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbi8vIEhlYWRlcnMgd2hvc2UgZHVwbGljYXRlcyBhcmUgaWdub3JlZCBieSBub2RlXG4vLyBjLmYuIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvaHR0cC5odG1sI2h0dHBfbWVzc2FnZV9oZWFkZXJzXG52YXIgaWdub3JlRHVwbGljYXRlT2YgPSBbXG4gICdhZ2UnLCAnYXV0aG9yaXphdGlvbicsICdjb250ZW50LWxlbmd0aCcsICdjb250ZW50LXR5cGUnLCAnZXRhZycsXG4gICdleHBpcmVzJywgJ2Zyb20nLCAnaG9zdCcsICdpZi1tb2RpZmllZC1zaW5jZScsICdpZi11bm1vZGlmaWVkLXNpbmNlJyxcbiAgJ2xhc3QtbW9kaWZpZWQnLCAnbG9jYXRpb24nLCAnbWF4LWZvcndhcmRzJywgJ3Byb3h5LWF1dGhvcml6YXRpb24nLFxuICAncmVmZXJlcicsICdyZXRyeS1hZnRlcicsICd1c2VyLWFnZW50J1xuXTtcblxuLyoqXG4gKiBQYXJzZSBoZWFkZXJzIGludG8gYW4gb2JqZWN0XG4gKlxuICogYGBgXG4gKiBEYXRlOiBXZWQsIDI3IEF1ZyAyMDE0IDA4OjU4OjQ5IEdNVFxuICogQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uXG4gKiBDb25uZWN0aW9uOiBrZWVwLWFsaXZlXG4gKiBUcmFuc2Zlci1FbmNvZGluZzogY2h1bmtlZFxuICogYGBgXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGhlYWRlcnMgSGVhZGVycyBuZWVkaW5nIHRvIGJlIHBhcnNlZFxuICogQHJldHVybnMge09iamVjdH0gSGVhZGVycyBwYXJzZWQgaW50byBhbiBvYmplY3RcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwYXJzZUhlYWRlcnMoaGVhZGVycykge1xuICB2YXIgcGFyc2VkID0ge307XG4gIHZhciBrZXk7XG4gIHZhciB2YWw7XG4gIHZhciBpO1xuXG4gIGlmICghaGVhZGVycykgeyByZXR1cm4gcGFyc2VkOyB9XG5cbiAgdXRpbHMuZm9yRWFjaChoZWFkZXJzLnNwbGl0KCdcXG4nKSwgZnVuY3Rpb24gcGFyc2VyKGxpbmUpIHtcbiAgICBpID0gbGluZS5pbmRleE9mKCc6Jyk7XG4gICAga2V5ID0gdXRpbHMudHJpbShsaW5lLnN1YnN0cigwLCBpKSkudG9Mb3dlckNhc2UoKTtcbiAgICB2YWwgPSB1dGlscy50cmltKGxpbmUuc3Vic3RyKGkgKyAxKSk7XG5cbiAgICBpZiAoa2V5KSB7XG4gICAgICBpZiAocGFyc2VkW2tleV0gJiYgaWdub3JlRHVwbGljYXRlT2YuaW5kZXhPZihrZXkpID49IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGtleSA9PT0gJ3NldC1jb29raWUnKSB7XG4gICAgICAgIHBhcnNlZFtrZXldID0gKHBhcnNlZFtrZXldID8gcGFyc2VkW2tleV0gOiBbXSkuY29uY2F0KFt2YWxdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcnNlZFtrZXldID0gcGFyc2VkW2tleV0gPyBwYXJzZWRba2V5XSArICcsICcgKyB2YWwgOiB2YWw7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcGFyc2VkO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgdXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSA/XG5cbiAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIGhhdmUgZnVsbCBzdXBwb3J0IG9mIHRoZSBBUElzIG5lZWRlZCB0byB0ZXN0XG4gIC8vIHdoZXRoZXIgdGhlIHJlcXVlc3QgVVJMIGlzIG9mIHRoZSBzYW1lIG9yaWdpbiBhcyBjdXJyZW50IGxvY2F0aW9uLlxuICAoZnVuY3Rpb24gc3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgIHZhciBtc2llID0gLyhtc2llfHRyaWRlbnQpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICB2YXIgdXJsUGFyc2luZ05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgdmFyIG9yaWdpblVSTDtcblxuICAgIC8qKlxuICAgICogUGFyc2UgYSBVUkwgdG8gZGlzY292ZXIgaXQncyBjb21wb25lbnRzXG4gICAgKlxuICAgICogQHBhcmFtIHtTdHJpbmd9IHVybCBUaGUgVVJMIHRvIGJlIHBhcnNlZFxuICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc29sdmVVUkwodXJsKSB7XG4gICAgICB2YXIgaHJlZiA9IHVybDtcblxuICAgICAgaWYgKG1zaWUpIHtcbiAgICAgICAgLy8gSUUgbmVlZHMgYXR0cmlidXRlIHNldCB0d2ljZSB0byBub3JtYWxpemUgcHJvcGVydGllc1xuICAgICAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcbiAgICAgICAgaHJlZiA9IHVybFBhcnNpbmdOb2RlLmhyZWY7XG4gICAgICB9XG5cbiAgICAgIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYpO1xuXG4gICAgICAvLyB1cmxQYXJzaW5nTm9kZSBwcm92aWRlcyB0aGUgVXJsVXRpbHMgaW50ZXJmYWNlIC0gaHR0cDovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3VybHV0aWxzXG4gICAgICByZXR1cm4ge1xuICAgICAgICBocmVmOiB1cmxQYXJzaW5nTm9kZS5ocmVmLFxuICAgICAgICBwcm90b2NvbDogdXJsUGFyc2luZ05vZGUucHJvdG9jb2wgPyB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbC5yZXBsYWNlKC86JC8sICcnKSA6ICcnLFxuICAgICAgICBob3N0OiB1cmxQYXJzaW5nTm9kZS5ob3N0LFxuICAgICAgICBzZWFyY2g6IHVybFBhcnNpbmdOb2RlLnNlYXJjaCA/IHVybFBhcnNpbmdOb2RlLnNlYXJjaC5yZXBsYWNlKC9eXFw/LywgJycpIDogJycsXG4gICAgICAgIGhhc2g6IHVybFBhcnNpbmdOb2RlLmhhc2ggPyB1cmxQYXJzaW5nTm9kZS5oYXNoLnJlcGxhY2UoL14jLywgJycpIDogJycsXG4gICAgICAgIGhvc3RuYW1lOiB1cmxQYXJzaW5nTm9kZS5ob3N0bmFtZSxcbiAgICAgICAgcG9ydDogdXJsUGFyc2luZ05vZGUucG9ydCxcbiAgICAgICAgcGF0aG5hbWU6ICh1cmxQYXJzaW5nTm9kZS5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJykgP1xuICAgICAgICAgICAgICAgICAgdXJsUGFyc2luZ05vZGUucGF0aG5hbWUgOlxuICAgICAgICAgICAgICAgICAgJy8nICsgdXJsUGFyc2luZ05vZGUucGF0aG5hbWVcbiAgICAgIH07XG4gICAgfVxuXG4gICAgb3JpZ2luVVJMID0gcmVzb2x2ZVVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG5cbiAgICAvKipcbiAgICAqIERldGVybWluZSBpZiBhIFVSTCBzaGFyZXMgdGhlIHNhbWUgb3JpZ2luIGFzIHRoZSBjdXJyZW50IGxvY2F0aW9uXG4gICAgKlxuICAgICogQHBhcmFtIHtTdHJpbmd9IHJlcXVlc3RVUkwgVGhlIFVSTCB0byB0ZXN0XG4gICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBVUkwgc2hhcmVzIHRoZSBzYW1lIG9yaWdpbiwgb3RoZXJ3aXNlIGZhbHNlXG4gICAgKi9cbiAgICByZXR1cm4gZnVuY3Rpb24gaXNVUkxTYW1lT3JpZ2luKHJlcXVlc3RVUkwpIHtcbiAgICAgIHZhciBwYXJzZWQgPSAodXRpbHMuaXNTdHJpbmcocmVxdWVzdFVSTCkpID8gcmVzb2x2ZVVSTChyZXF1ZXN0VVJMKSA6IHJlcXVlc3RVUkw7XG4gICAgICByZXR1cm4gKHBhcnNlZC5wcm90b2NvbCA9PT0gb3JpZ2luVVJMLnByb3RvY29sICYmXG4gICAgICAgICAgICBwYXJzZWQuaG9zdCA9PT0gb3JpZ2luVVJMLmhvc3QpO1xuICAgIH07XG4gIH0pKCkgOlxuXG4gIC8vIE5vbiBzdGFuZGFyZCBicm93c2VyIGVudnMgKHdlYiB3b3JrZXJzLCByZWFjdC1uYXRpdmUpIGxhY2sgbmVlZGVkIHN1cHBvcnQuXG4gIChmdW5jdGlvbiBub25TdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGlzVVJMU2FtZU9yaWdpbigpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gIH0pKClcbik7XG4iLCIndXNlIHN0cmljdCc7XG5cbi8vIGJ0b2EgcG9seWZpbGwgZm9yIElFPDEwIGNvdXJ0ZXN5IGh0dHBzOi8vZ2l0aHViLmNvbS9kYXZpZGNoYW1iZXJzL0Jhc2U2NC5qc1xuXG52YXIgY2hhcnMgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0nO1xuXG5mdW5jdGlvbiBFKCkge1xuICB0aGlzLm1lc3NhZ2UgPSAnU3RyaW5nIGNvbnRhaW5zIGFuIGludmFsaWQgY2hhcmFjdGVyJztcbn1cbkUucHJvdG90eXBlID0gbmV3IEVycm9yO1xuRS5wcm90b3R5cGUuY29kZSA9IDU7XG5FLnByb3RvdHlwZS5uYW1lID0gJ0ludmFsaWRDaGFyYWN0ZXJFcnJvcic7XG5cbmZ1bmN0aW9uIGJ0b2EoaW5wdXQpIHtcbiAgdmFyIHN0ciA9IFN0cmluZyhpbnB1dCk7XG4gIHZhciBvdXRwdXQgPSAnJztcbiAgZm9yIChcbiAgICAvLyBpbml0aWFsaXplIHJlc3VsdCBhbmQgY291bnRlclxuICAgIHZhciBibG9jaywgY2hhckNvZGUsIGlkeCA9IDAsIG1hcCA9IGNoYXJzO1xuICAgIC8vIGlmIHRoZSBuZXh0IHN0ciBpbmRleCBkb2VzIG5vdCBleGlzdDpcbiAgICAvLyAgIGNoYW5nZSB0aGUgbWFwcGluZyB0YWJsZSB0byBcIj1cIlxuICAgIC8vICAgY2hlY2sgaWYgZCBoYXMgbm8gZnJhY3Rpb25hbCBkaWdpdHNcbiAgICBzdHIuY2hhckF0KGlkeCB8IDApIHx8IChtYXAgPSAnPScsIGlkeCAlIDEpO1xuICAgIC8vIFwiOCAtIGlkeCAlIDEgKiA4XCIgZ2VuZXJhdGVzIHRoZSBzZXF1ZW5jZSAyLCA0LCA2LCA4XG4gICAgb3V0cHV0ICs9IG1hcC5jaGFyQXQoNjMgJiBibG9jayA+PiA4IC0gaWR4ICUgMSAqIDgpXG4gICkge1xuICAgIGNoYXJDb2RlID0gc3RyLmNoYXJDb2RlQXQoaWR4ICs9IDMgLyA0KTtcbiAgICBpZiAoY2hhckNvZGUgPiAweEZGKSB7XG4gICAgICB0aHJvdyBuZXcgRSgpO1xuICAgIH1cbiAgICBibG9jayA9IGJsb2NrIDw8IDggfCBjaGFyQ29kZTtcbiAgfVxuICByZXR1cm4gb3V0cHV0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJ0b2E7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAoXG4gIHV0aWxzLmlzU3RhbmRhcmRCcm93c2VyRW52KCkgP1xuXG4gIC8vIFN0YW5kYXJkIGJyb3dzZXIgZW52cyBzdXBwb3J0IGRvY3VtZW50LmNvb2tpZVxuICAoZnVuY3Rpb24gc3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgIHJldHVybiB7XG4gICAgICB3cml0ZTogZnVuY3Rpb24gd3JpdGUobmFtZSwgdmFsdWUsIGV4cGlyZXMsIHBhdGgsIGRvbWFpbiwgc2VjdXJlKSB7XG4gICAgICAgIHZhciBjb29raWUgPSBbXTtcbiAgICAgICAgY29va2llLnB1c2gobmFtZSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpO1xuXG4gICAgICAgIGlmICh1dGlscy5pc051bWJlcihleHBpcmVzKSkge1xuICAgICAgICAgIGNvb2tpZS5wdXNoKCdleHBpcmVzPScgKyBuZXcgRGF0ZShleHBpcmVzKS50b0dNVFN0cmluZygpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1dGlscy5pc1N0cmluZyhwYXRoKSkge1xuICAgICAgICAgIGNvb2tpZS5wdXNoKCdwYXRoPScgKyBwYXRoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1dGlscy5pc1N0cmluZyhkb21haW4pKSB7XG4gICAgICAgICAgY29va2llLnB1c2goJ2RvbWFpbj0nICsgZG9tYWluKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWN1cmUgPT09IHRydWUpIHtcbiAgICAgICAgICBjb29raWUucHVzaCgnc2VjdXJlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBkb2N1bWVudC5jb29raWUgPSBjb29raWUuam9pbignOyAnKTtcbiAgICAgIH0sXG5cbiAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQobmFtZSkge1xuICAgICAgICB2YXIgbWF0Y2ggPSBkb2N1bWVudC5jb29raWUubWF0Y2gobmV3IFJlZ0V4cCgnKF58O1xcXFxzKikoJyArIG5hbWUgKyAnKT0oW147XSopJykpO1xuICAgICAgICByZXR1cm4gKG1hdGNoID8gZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzNdKSA6IG51bGwpO1xuICAgICAgfSxcblxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUobmFtZSkge1xuICAgICAgICB0aGlzLndyaXRlKG5hbWUsICcnLCBEYXRlLm5vdygpIC0gODY0MDAwMDApO1xuICAgICAgfVxuICAgIH07XG4gIH0pKCkgOlxuXG4gIC8vIE5vbiBzdGFuZGFyZCBicm93c2VyIGVudiAod2ViIHdvcmtlcnMsIHJlYWN0LW5hdGl2ZSkgbGFjayBuZWVkZWQgc3VwcG9ydC5cbiAgKGZ1bmN0aW9uIG5vblN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgd3JpdGU6IGZ1bmN0aW9uIHdyaXRlKCkge30sXG4gICAgICByZWFkOiBmdW5jdGlvbiByZWFkKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge31cbiAgICB9O1xuICB9KSgpXG4pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIEludGVyY2VwdG9yTWFuYWdlcigpIHtcbiAgdGhpcy5oYW5kbGVycyA9IFtdO1xufVxuXG4vKipcbiAqIEFkZCBhIG5ldyBpbnRlcmNlcHRvciB0byB0aGUgc3RhY2tcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdWxmaWxsZWQgVGhlIGZ1bmN0aW9uIHRvIGhhbmRsZSBgdGhlbmAgZm9yIGEgYFByb21pc2VgXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWplY3RlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGByZWplY3RgIGZvciBhIGBQcm9taXNlYFxuICpcbiAqIEByZXR1cm4ge051bWJlcn0gQW4gSUQgdXNlZCB0byByZW1vdmUgaW50ZXJjZXB0b3IgbGF0ZXJcbiAqL1xuSW50ZXJjZXB0b3JNYW5hZ2VyLnByb3RvdHlwZS51c2UgPSBmdW5jdGlvbiB1c2UoZnVsZmlsbGVkLCByZWplY3RlZCkge1xuICB0aGlzLmhhbmRsZXJzLnB1c2goe1xuICAgIGZ1bGZpbGxlZDogZnVsZmlsbGVkLFxuICAgIHJlamVjdGVkOiByZWplY3RlZFxuICB9KTtcbiAgcmV0dXJuIHRoaXMuaGFuZGxlcnMubGVuZ3RoIC0gMTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFuIGludGVyY2VwdG9yIGZyb20gdGhlIHN0YWNrXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGlkIFRoZSBJRCB0aGF0IHdhcyByZXR1cm5lZCBieSBgdXNlYFxuICovXG5JbnRlcmNlcHRvck1hbmFnZXIucHJvdG90eXBlLmVqZWN0ID0gZnVuY3Rpb24gZWplY3QoaWQpIHtcbiAgaWYgKHRoaXMuaGFuZGxlcnNbaWRdKSB7XG4gICAgdGhpcy5oYW5kbGVyc1tpZF0gPSBudWxsO1xuICB9XG59O1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBhbGwgdGhlIHJlZ2lzdGVyZWQgaW50ZXJjZXB0b3JzXG4gKlxuICogVGhpcyBtZXRob2QgaXMgcGFydGljdWxhcmx5IHVzZWZ1bCBmb3Igc2tpcHBpbmcgb3ZlciBhbnlcbiAqIGludGVyY2VwdG9ycyB0aGF0IG1heSBoYXZlIGJlY29tZSBgbnVsbGAgY2FsbGluZyBgZWplY3RgLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIGludGVyY2VwdG9yXG4gKi9cbkludGVyY2VwdG9yTWFuYWdlci5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIGZvckVhY2goZm4pIHtcbiAgdXRpbHMuZm9yRWFjaCh0aGlzLmhhbmRsZXJzLCBmdW5jdGlvbiBmb3JFYWNoSGFuZGxlcihoKSB7XG4gICAgaWYgKGggIT09IG51bGwpIHtcbiAgICAgIGZuKGgpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEludGVyY2VwdG9yTWFuYWdlcjtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIHRyYW5zZm9ybURhdGEgPSByZXF1aXJlKCcuL3RyYW5zZm9ybURhdGEnKTtcbnZhciBpc0NhbmNlbCA9IHJlcXVpcmUoJy4uL2NhbmNlbC9pc0NhbmNlbCcpO1xudmFyIGRlZmF1bHRzID0gcmVxdWlyZSgnLi4vZGVmYXVsdHMnKTtcbnZhciBpc0Fic29sdXRlVVJMID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2lzQWJzb2x1dGVVUkwnKTtcbnZhciBjb21iaW5lVVJMcyA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9jb21iaW5lVVJMcycpO1xuXG4vKipcbiAqIFRocm93cyBhIGBDYW5jZWxgIGlmIGNhbmNlbGxhdGlvbiBoYXMgYmVlbiByZXF1ZXN0ZWQuXG4gKi9cbmZ1bmN0aW9uIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKSB7XG4gIGlmIChjb25maWcuY2FuY2VsVG9rZW4pIHtcbiAgICBjb25maWcuY2FuY2VsVG9rZW4udGhyb3dJZlJlcXVlc3RlZCgpO1xuICB9XG59XG5cbi8qKlxuICogRGlzcGF0Y2ggYSByZXF1ZXN0IHRvIHRoZSBzZXJ2ZXIgdXNpbmcgdGhlIGNvbmZpZ3VyZWQgYWRhcHRlci5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIFRoZSBjb25maWcgdGhhdCBpcyB0byBiZSB1c2VkIGZvciB0aGUgcmVxdWVzdFxuICogQHJldHVybnMge1Byb21pc2V9IFRoZSBQcm9taXNlIHRvIGJlIGZ1bGZpbGxlZFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRpc3BhdGNoUmVxdWVzdChjb25maWcpIHtcbiAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gIC8vIFN1cHBvcnQgYmFzZVVSTCBjb25maWdcbiAgaWYgKGNvbmZpZy5iYXNlVVJMICYmICFpc0Fic29sdXRlVVJMKGNvbmZpZy51cmwpKSB7XG4gICAgY29uZmlnLnVybCA9IGNvbWJpbmVVUkxzKGNvbmZpZy5iYXNlVVJMLCBjb25maWcudXJsKTtcbiAgfVxuXG4gIC8vIEVuc3VyZSBoZWFkZXJzIGV4aXN0XG4gIGNvbmZpZy5oZWFkZXJzID0gY29uZmlnLmhlYWRlcnMgfHwge307XG5cbiAgLy8gVHJhbnNmb3JtIHJlcXVlc3QgZGF0YVxuICBjb25maWcuZGF0YSA9IHRyYW5zZm9ybURhdGEoXG4gICAgY29uZmlnLmRhdGEsXG4gICAgY29uZmlnLmhlYWRlcnMsXG4gICAgY29uZmlnLnRyYW5zZm9ybVJlcXVlc3RcbiAgKTtcblxuICAvLyBGbGF0dGVuIGhlYWRlcnNcbiAgY29uZmlnLmhlYWRlcnMgPSB1dGlscy5tZXJnZShcbiAgICBjb25maWcuaGVhZGVycy5jb21tb24gfHwge30sXG4gICAgY29uZmlnLmhlYWRlcnNbY29uZmlnLm1ldGhvZF0gfHwge30sXG4gICAgY29uZmlnLmhlYWRlcnMgfHwge31cbiAgKTtcblxuICB1dGlscy5mb3JFYWNoKFxuICAgIFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJywgJ2NvbW1vbiddLFxuICAgIGZ1bmN0aW9uIGNsZWFuSGVhZGVyQ29uZmlnKG1ldGhvZCkge1xuICAgICAgZGVsZXRlIGNvbmZpZy5oZWFkZXJzW21ldGhvZF07XG4gICAgfVxuICApO1xuXG4gIHZhciBhZGFwdGVyID0gY29uZmlnLmFkYXB0ZXIgfHwgZGVmYXVsdHMuYWRhcHRlcjtcblxuICByZXR1cm4gYWRhcHRlcihjb25maWcpLnRoZW4oZnVuY3Rpb24gb25BZGFwdGVyUmVzb2x1dGlvbihyZXNwb25zZSkge1xuICAgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAgIC8vIFRyYW5zZm9ybSByZXNwb25zZSBkYXRhXG4gICAgcmVzcG9uc2UuZGF0YSA9IHRyYW5zZm9ybURhdGEoXG4gICAgICByZXNwb25zZS5kYXRhLFxuICAgICAgcmVzcG9uc2UuaGVhZGVycyxcbiAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZVxuICAgICk7XG5cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH0sIGZ1bmN0aW9uIG9uQWRhcHRlclJlamVjdGlvbihyZWFzb24pIHtcbiAgICBpZiAoIWlzQ2FuY2VsKHJlYXNvbikpIHtcbiAgICAgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAgICAgLy8gVHJhbnNmb3JtIHJlc3BvbnNlIGRhdGFcbiAgICAgIGlmIChyZWFzb24gJiYgcmVhc29uLnJlc3BvbnNlKSB7XG4gICAgICAgIHJlYXNvbi5yZXNwb25zZS5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICAgICAgICByZWFzb24ucmVzcG9uc2UuZGF0YSxcbiAgICAgICAgICByZWFzb24ucmVzcG9uc2UuaGVhZGVycyxcbiAgICAgICAgICBjb25maWcudHJhbnNmb3JtUmVzcG9uc2VcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVhc29uKTtcbiAgfSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbi8qKlxuICogVHJhbnNmb3JtIHRoZSBkYXRhIGZvciBhIHJlcXVlc3Qgb3IgYSByZXNwb25zZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gZGF0YSBUaGUgZGF0YSB0byBiZSB0cmFuc2Zvcm1lZFxuICogQHBhcmFtIHtBcnJheX0gaGVhZGVycyBUaGUgaGVhZGVycyBmb3IgdGhlIHJlcXVlc3Qgb3IgcmVzcG9uc2VcbiAqIEBwYXJhbSB7QXJyYXl8RnVuY3Rpb259IGZucyBBIHNpbmdsZSBmdW5jdGlvbiBvciBBcnJheSBvZiBmdW5jdGlvbnNcbiAqIEByZXR1cm5zIHsqfSBUaGUgcmVzdWx0aW5nIHRyYW5zZm9ybWVkIGRhdGFcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0cmFuc2Zvcm1EYXRhKGRhdGEsIGhlYWRlcnMsIGZucykge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgdXRpbHMuZm9yRWFjaChmbnMsIGZ1bmN0aW9uIHRyYW5zZm9ybShmbikge1xuICAgIGRhdGEgPSBmbihkYXRhLCBoZWFkZXJzKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGRhdGE7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0aGUgc3BlY2lmaWVkIFVSTCBpcyBhYnNvbHV0ZVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIFVSTCB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgc3BlY2lmaWVkIFVSTCBpcyBhYnNvbHV0ZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNBYnNvbHV0ZVVSTCh1cmwpIHtcbiAgLy8gQSBVUkwgaXMgY29uc2lkZXJlZCBhYnNvbHV0ZSBpZiBpdCBiZWdpbnMgd2l0aCBcIjxzY2hlbWU+Oi8vXCIgb3IgXCIvL1wiIChwcm90b2NvbC1yZWxhdGl2ZSBVUkwpLlxuICAvLyBSRkMgMzk4NiBkZWZpbmVzIHNjaGVtZSBuYW1lIGFzIGEgc2VxdWVuY2Ugb2YgY2hhcmFjdGVycyBiZWdpbm5pbmcgd2l0aCBhIGxldHRlciBhbmQgZm9sbG93ZWRcbiAgLy8gYnkgYW55IGNvbWJpbmF0aW9uIG9mIGxldHRlcnMsIGRpZ2l0cywgcGx1cywgcGVyaW9kLCBvciBoeXBoZW4uXG4gIHJldHVybiAvXihbYS16XVthLXpcXGRcXCtcXC1cXC5dKjopP1xcL1xcLy9pLnRlc3QodXJsKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBVUkwgYnkgY29tYmluaW5nIHRoZSBzcGVjaWZpZWQgVVJMc1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlVVJMIFRoZSBiYXNlIFVSTFxuICogQHBhcmFtIHtzdHJpbmd9IHJlbGF0aXZlVVJMIFRoZSByZWxhdGl2ZSBVUkxcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBjb21iaW5lZCBVUkxcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjb21iaW5lVVJMcyhiYXNlVVJMLCByZWxhdGl2ZVVSTCkge1xuICByZXR1cm4gcmVsYXRpdmVVUkxcbiAgICA/IGJhc2VVUkwucmVwbGFjZSgvXFwvKyQvLCAnJykgKyAnLycgKyByZWxhdGl2ZVVSTC5yZXBsYWNlKC9eXFwvKy8sICcnKVxuICAgIDogYmFzZVVSTDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBDYW5jZWwgPSByZXF1aXJlKCcuL0NhbmNlbCcpO1xuXG4vKipcbiAqIEEgYENhbmNlbFRva2VuYCBpcyBhbiBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCB0byByZXF1ZXN0IGNhbmNlbGxhdGlvbiBvZiBhbiBvcGVyYXRpb24uXG4gKlxuICogQGNsYXNzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBleGVjdXRvciBUaGUgZXhlY3V0b3IgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIENhbmNlbFRva2VuKGV4ZWN1dG9yKSB7XG4gIGlmICh0eXBlb2YgZXhlY3V0b3IgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdleGVjdXRvciBtdXN0IGJlIGEgZnVuY3Rpb24uJyk7XG4gIH1cblxuICB2YXIgcmVzb2x2ZVByb21pc2U7XG4gIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIHByb21pc2VFeGVjdXRvcihyZXNvbHZlKSB7XG4gICAgcmVzb2x2ZVByb21pc2UgPSByZXNvbHZlO1xuICB9KTtcblxuICB2YXIgdG9rZW4gPSB0aGlzO1xuICBleGVjdXRvcihmdW5jdGlvbiBjYW5jZWwobWVzc2FnZSkge1xuICAgIGlmICh0b2tlbi5yZWFzb24pIHtcbiAgICAgIC8vIENhbmNlbGxhdGlvbiBoYXMgYWxyZWFkeSBiZWVuIHJlcXVlc3RlZFxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRva2VuLnJlYXNvbiA9IG5ldyBDYW5jZWwobWVzc2FnZSk7XG4gICAgcmVzb2x2ZVByb21pc2UodG9rZW4ucmVhc29uKTtcbiAgfSk7XG59XG5cbi8qKlxuICogVGhyb3dzIGEgYENhbmNlbGAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAqL1xuQ2FuY2VsVG9rZW4ucHJvdG90eXBlLnRocm93SWZSZXF1ZXN0ZWQgPSBmdW5jdGlvbiB0aHJvd0lmUmVxdWVzdGVkKCkge1xuICBpZiAodGhpcy5yZWFzb24pIHtcbiAgICB0aHJvdyB0aGlzLnJlYXNvbjtcbiAgfVxufTtcblxuLyoqXG4gKiBSZXR1cm5zIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGEgbmV3IGBDYW5jZWxUb2tlbmAgYW5kIGEgZnVuY3Rpb24gdGhhdCwgd2hlbiBjYWxsZWQsXG4gKiBjYW5jZWxzIHRoZSBgQ2FuY2VsVG9rZW5gLlxuICovXG5DYW5jZWxUb2tlbi5zb3VyY2UgPSBmdW5jdGlvbiBzb3VyY2UoKSB7XG4gIHZhciBjYW5jZWw7XG4gIHZhciB0b2tlbiA9IG5ldyBDYW5jZWxUb2tlbihmdW5jdGlvbiBleGVjdXRvcihjKSB7XG4gICAgY2FuY2VsID0gYztcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgdG9rZW46IHRva2VuLFxuICAgIGNhbmNlbDogY2FuY2VsXG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IENhbmNlbFRva2VuO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFN5bnRhY3RpYyBzdWdhciBmb3IgaW52b2tpbmcgYSBmdW5jdGlvbiBhbmQgZXhwYW5kaW5nIGFuIGFycmF5IGZvciBhcmd1bWVudHMuXG4gKlxuICogQ29tbW9uIHVzZSBjYXNlIHdvdWxkIGJlIHRvIHVzZSBgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5YC5cbiAqXG4gKiAgYGBganNcbiAqICBmdW5jdGlvbiBmKHgsIHksIHopIHt9XG4gKiAgdmFyIGFyZ3MgPSBbMSwgMiwgM107XG4gKiAgZi5hcHBseShudWxsLCBhcmdzKTtcbiAqICBgYGBcbiAqXG4gKiBXaXRoIGBzcHJlYWRgIHRoaXMgZXhhbXBsZSBjYW4gYmUgcmUtd3JpdHRlbi5cbiAqXG4gKiAgYGBganNcbiAqICBzcHJlYWQoZnVuY3Rpb24oeCwgeSwgeikge30pKFsxLCAyLCAzXSk7XG4gKiAgYGBgXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzcHJlYWQoY2FsbGJhY2spIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHdyYXAoYXJyKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KG51bGwsIGFycik7XG4gIH07XG59O1xuIiwiLyoqXG4gKiBtYXJrZWQgLSBhIG1hcmtkb3duIHBhcnNlclxuICogQ29weXJpZ2h0IChjKSAyMDExLTIwMTgsIENocmlzdG9waGVyIEplZmZyZXkuIChNSVQgTGljZW5zZWQpXG4gKiBodHRwczovL2dpdGh1Yi5jb20vbWFya2VkanMvbWFya2VkXG4gKi9cblxuOyhmdW5jdGlvbihyb290KSB7XG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQmxvY2stTGV2ZWwgR3JhbW1hclxuICovXG5cbnZhciBibG9jayA9IHtcbiAgbmV3bGluZTogL15cXG4rLyxcbiAgY29kZTogL14oIHs0fVteXFxuXStcXG4qKSsvLFxuICBmZW5jZXM6IC9eIHswLDN9KGB7Myx9fH57Myx9KShbXmB+XFxuXSopXFxuKD86fChbXFxzXFxTXSo/KVxcbikoPzogezAsM31cXDFbfmBdKiAqKD86XFxuK3wkKXwkKS8sXG4gIGhyOiAvXiB7MCwzfSgoPzotICopezMsfXwoPzpfICopezMsfXwoPzpcXCogKil7Myx9KSg/Olxcbit8JCkvLFxuICBoZWFkaW5nOiAvXiB7MCwzfSgjezEsNn0pICsoW15cXG5dKj8pKD86ICsjKyk/ICooPzpcXG4rfCQpLyxcbiAgYmxvY2txdW90ZTogL14oIHswLDN9PiA/KHBhcmFncmFwaHxbXlxcbl0qKSg/OlxcbnwkKSkrLyxcbiAgbGlzdDogL14oIHswLDN9KShidWxsKSBbXFxzXFxTXSs/KD86aHJ8ZGVmfFxcbnsyLH0oPyEgKSg/IVxcMWJ1bGwgKVxcbip8XFxzKiQpLyxcbiAgaHRtbDogJ14gezAsM30oPzonIC8vIG9wdGlvbmFsIGluZGVudGF0aW9uXG4gICAgKyAnPChzY3JpcHR8cHJlfHN0eWxlKVtcXFxccz5dW1xcXFxzXFxcXFNdKj8oPzo8L1xcXFwxPlteXFxcXG5dKlxcXFxuK3wkKScgLy8gKDEpXG4gICAgKyAnfGNvbW1lbnRbXlxcXFxuXSooXFxcXG4rfCQpJyAvLyAoMilcbiAgICArICd8PFxcXFw/W1xcXFxzXFxcXFNdKj9cXFxcPz5cXFxcbionIC8vICgzKVxuICAgICsgJ3w8IVtBLVpdW1xcXFxzXFxcXFNdKj8+XFxcXG4qJyAvLyAoNClcbiAgICArICd8PCFcXFxcW0NEQVRBXFxcXFtbXFxcXHNcXFxcU10qP1xcXFxdXFxcXF0+XFxcXG4qJyAvLyAoNSlcbiAgICArICd8PC8/KHRhZykoPzogK3xcXFxcbnwvPz4pW1xcXFxzXFxcXFNdKj8oPzpcXFxcbnsyLH18JCknIC8vICg2KVxuICAgICsgJ3w8KD8hc2NyaXB0fHByZXxzdHlsZSkoW2Etel1bXFxcXHctXSopKD86YXR0cmlidXRlKSo/ICovPz4oPz1bIFxcXFx0XSooPzpcXFxcbnwkKSlbXFxcXHNcXFxcU10qPyg/OlxcXFxuezIsfXwkKScgLy8gKDcpIG9wZW4gdGFnXG4gICAgKyAnfDwvKD8hc2NyaXB0fHByZXxzdHlsZSlbYS16XVtcXFxcdy1dKlxcXFxzKj4oPz1bIFxcXFx0XSooPzpcXFxcbnwkKSlbXFxcXHNcXFxcU10qPyg/OlxcXFxuezIsfXwkKScgLy8gKDcpIGNsb3NpbmcgdGFnXG4gICAgKyAnKScsXG4gIGRlZjogL14gezAsM31cXFsobGFiZWwpXFxdOiAqXFxuPyAqPD8oW15cXHM+XSspPj8oPzooPzogK1xcbj8gKnwgKlxcbiAqKSh0aXRsZSkpPyAqKD86XFxuK3wkKS8sXG4gIG5wdGFibGU6IG5vb3AsXG4gIHRhYmxlOiBub29wLFxuICBsaGVhZGluZzogL14oW15cXG5dKylcXG4gezAsM30oPSt8LSspICooPzpcXG4rfCQpLyxcbiAgLy8gcmVnZXggdGVtcGxhdGUsIHBsYWNlaG9sZGVycyB3aWxsIGJlIHJlcGxhY2VkIGFjY29yZGluZyB0byBkaWZmZXJlbnQgcGFyYWdyYXBoXG4gIC8vIGludGVycnVwdGlvbiBydWxlcyBvZiBjb21tb25tYXJrIGFuZCB0aGUgb3JpZ2luYWwgbWFya2Rvd24gc3BlYzpcbiAgX3BhcmFncmFwaDogL14oW15cXG5dKyg/Olxcbig/IWhyfGhlYWRpbmd8bGhlYWRpbmd8YmxvY2txdW90ZXxmZW5jZXN8bGlzdHxodG1sKVteXFxuXSspKikvLFxuICB0ZXh0OiAvXlteXFxuXSsvXG59O1xuXG5ibG9jay5fbGFiZWwgPSAvKD8hXFxzKlxcXSkoPzpcXFxcW1xcW1xcXV18W15cXFtcXF1dKSsvO1xuYmxvY2suX3RpdGxlID0gLyg/OlwiKD86XFxcXFwiP3xbXlwiXFxcXF0pKlwifCdbXidcXG5dKig/OlxcblteJ1xcbl0rKSpcXG4/J3xcXChbXigpXSpcXCkpLztcbmJsb2NrLmRlZiA9IGVkaXQoYmxvY2suZGVmKVxuICAucmVwbGFjZSgnbGFiZWwnLCBibG9jay5fbGFiZWwpXG4gIC5yZXBsYWNlKCd0aXRsZScsIGJsb2NrLl90aXRsZSlcbiAgLmdldFJlZ2V4KCk7XG5cbmJsb2NrLmJ1bGxldCA9IC8oPzpbKistXXxcXGR7MSw5fVxcLikvO1xuYmxvY2suaXRlbSA9IC9eKCAqKShidWxsKSA/W15cXG5dKig/Olxcbig/IVxcMWJ1bGwgPylbXlxcbl0qKSovO1xuYmxvY2suaXRlbSA9IGVkaXQoYmxvY2suaXRlbSwgJ2dtJylcbiAgLnJlcGxhY2UoL2J1bGwvZywgYmxvY2suYnVsbGV0KVxuICAuZ2V0UmVnZXgoKTtcblxuYmxvY2subGlzdCA9IGVkaXQoYmxvY2subGlzdClcbiAgLnJlcGxhY2UoL2J1bGwvZywgYmxvY2suYnVsbGV0KVxuICAucmVwbGFjZSgnaHInLCAnXFxcXG4rKD89XFxcXDE/KD86KD86LSAqKXszLH18KD86XyAqKXszLH18KD86XFxcXCogKil7Myx9KSg/OlxcXFxuK3wkKSknKVxuICAucmVwbGFjZSgnZGVmJywgJ1xcXFxuKyg/PScgKyBibG9jay5kZWYuc291cmNlICsgJyknKVxuICAuZ2V0UmVnZXgoKTtcblxuYmxvY2suX3RhZyA9ICdhZGRyZXNzfGFydGljbGV8YXNpZGV8YmFzZXxiYXNlZm9udHxibG9ja3F1b3RlfGJvZHl8Y2FwdGlvbidcbiAgKyAnfGNlbnRlcnxjb2x8Y29sZ3JvdXB8ZGR8ZGV0YWlsc3xkaWFsb2d8ZGlyfGRpdnxkbHxkdHxmaWVsZHNldHxmaWdjYXB0aW9uJ1xuICArICd8ZmlndXJlfGZvb3Rlcnxmb3JtfGZyYW1lfGZyYW1lc2V0fGhbMS02XXxoZWFkfGhlYWRlcnxocnxodG1sfGlmcmFtZSdcbiAgKyAnfGxlZ2VuZHxsaXxsaW5rfG1haW58bWVudXxtZW51aXRlbXxtZXRhfG5hdnxub2ZyYW1lc3xvbHxvcHRncm91cHxvcHRpb24nXG4gICsgJ3xwfHBhcmFtfHNlY3Rpb258c291cmNlfHN1bW1hcnl8dGFibGV8dGJvZHl8dGR8dGZvb3R8dGh8dGhlYWR8dGl0bGV8dHInXG4gICsgJ3x0cmFja3x1bCc7XG5ibG9jay5fY29tbWVudCA9IC88IS0tKD8hLT8+KVtcXHNcXFNdKj8tLT4vO1xuYmxvY2suaHRtbCA9IGVkaXQoYmxvY2suaHRtbCwgJ2knKVxuICAucmVwbGFjZSgnY29tbWVudCcsIGJsb2NrLl9jb21tZW50KVxuICAucmVwbGFjZSgndGFnJywgYmxvY2suX3RhZylcbiAgLnJlcGxhY2UoJ2F0dHJpYnV0ZScsIC8gK1thLXpBLVo6X11bXFx3LjotXSooPzogKj0gKlwiW15cIlxcbl0qXCJ8ICo9IConW14nXFxuXSonfCAqPSAqW15cXHNcIic9PD5gXSspPy8pXG4gIC5nZXRSZWdleCgpO1xuXG5ibG9jay5wYXJhZ3JhcGggPSBlZGl0KGJsb2NrLl9wYXJhZ3JhcGgpXG4gIC5yZXBsYWNlKCdocicsIGJsb2NrLmhyKVxuICAucmVwbGFjZSgnaGVhZGluZycsICcgezAsM30jezEsNn0gKycpXG4gIC5yZXBsYWNlKCd8bGhlYWRpbmcnLCAnJykgLy8gc2V0ZXggaGVhZGluZ3MgZG9uJ3QgaW50ZXJydXB0IGNvbW1vbm1hcmsgcGFyYWdyYXBoc1xuICAucmVwbGFjZSgnYmxvY2txdW90ZScsICcgezAsM30+JylcbiAgLnJlcGxhY2UoJ2ZlbmNlcycsICcgezAsM30oPzpgezMsfXx+ezMsfSlbXmBcXFxcbl0qXFxcXG4nKVxuICAucmVwbGFjZSgnbGlzdCcsICcgezAsM30oPzpbKistXXwxWy4pXSkgJykgLy8gb25seSBsaXN0cyBzdGFydGluZyBmcm9tIDEgY2FuIGludGVycnVwdFxuICAucmVwbGFjZSgnaHRtbCcsICc8Lz8oPzp0YWcpKD86ICt8XFxcXG58Lz8+KXw8KD86c2NyaXB0fHByZXxzdHlsZXwhLS0pJylcbiAgLnJlcGxhY2UoJ3RhZycsIGJsb2NrLl90YWcpIC8vIHBhcnMgY2FuIGJlIGludGVycnVwdGVkIGJ5IHR5cGUgKDYpIGh0bWwgYmxvY2tzXG4gIC5nZXRSZWdleCgpO1xuXG5ibG9jay5ibG9ja3F1b3RlID0gZWRpdChibG9jay5ibG9ja3F1b3RlKVxuICAucmVwbGFjZSgncGFyYWdyYXBoJywgYmxvY2sucGFyYWdyYXBoKVxuICAuZ2V0UmVnZXgoKTtcblxuLyoqXG4gKiBOb3JtYWwgQmxvY2sgR3JhbW1hclxuICovXG5cbmJsb2NrLm5vcm1hbCA9IG1lcmdlKHt9LCBibG9jayk7XG5cbi8qKlxuICogR0ZNIEJsb2NrIEdyYW1tYXJcbiAqL1xuXG5ibG9jay5nZm0gPSBtZXJnZSh7fSwgYmxvY2subm9ybWFsLCB7XG4gIG5wdGFibGU6IC9eICooW158XFxuIF0uKlxcfC4qKVxcbiAqKFstOl0rICpcXHxbLXwgOl0qKSg/OlxcbigoPzouKltePlxcbiBdLiooPzpcXG58JCkpKilcXG4qfCQpLyxcbiAgdGFibGU6IC9eICpcXHwoLispXFxuICpcXHw/KCAqWy06XStbLXwgOl0qKSg/OlxcbigoPzogKltePlxcbiBdLiooPzpcXG58JCkpKilcXG4qfCQpL1xufSk7XG5cbi8qKlxuICogUGVkYW50aWMgZ3JhbW1hciAob3JpZ2luYWwgSm9obiBHcnViZXIncyBsb29zZSBtYXJrZG93biBzcGVjaWZpY2F0aW9uKVxuICovXG5cbmJsb2NrLnBlZGFudGljID0gbWVyZ2Uoe30sIGJsb2NrLm5vcm1hbCwge1xuICBodG1sOiBlZGl0KFxuICAgICdeICooPzpjb21tZW50ICooPzpcXFxcbnxcXFxccyokKSdcbiAgICArICd8PCh0YWcpW1xcXFxzXFxcXFNdKz88L1xcXFwxPiAqKD86XFxcXG57Mix9fFxcXFxzKiQpJyAvLyBjbG9zZWQgdGFnXG4gICAgKyAnfDx0YWcoPzpcIlteXCJdKlwifFxcJ1teXFwnXSpcXCd8XFxcXHNbXlxcJ1wiLz5cXFxcc10qKSo/Lz8+ICooPzpcXFxcbnsyLH18XFxcXHMqJCkpJylcbiAgICAucmVwbGFjZSgnY29tbWVudCcsIGJsb2NrLl9jb21tZW50KVxuICAgIC5yZXBsYWNlKC90YWcvZywgJyg/ISg/OidcbiAgICAgICsgJ2F8ZW18c3Ryb25nfHNtYWxsfHN8Y2l0ZXxxfGRmbnxhYmJyfGRhdGF8dGltZXxjb2RlfHZhcnxzYW1wfGtiZHxzdWInXG4gICAgICArICd8c3VwfGl8Ynx1fG1hcmt8cnVieXxydHxycHxiZGl8YmRvfHNwYW58YnJ8d2JyfGluc3xkZWx8aW1nKSdcbiAgICAgICsgJ1xcXFxiKVxcXFx3Kyg/ITp8W15cXFxcd1xcXFxzQF0qQClcXFxcYicpXG4gICAgLmdldFJlZ2V4KCksXG4gIGRlZjogL14gKlxcWyhbXlxcXV0rKVxcXTogKjw/KFteXFxzPl0rKT4/KD86ICsoW1wiKF1bXlxcbl0rW1wiKV0pKT8gKig/Olxcbit8JCkvLFxuICBoZWFkaW5nOiAvXiAqKCN7MSw2fSkgKihbXlxcbl0rPykgKig/OiMrICopPyg/Olxcbit8JCkvLFxuICBmZW5jZXM6IG5vb3AsIC8vIGZlbmNlcyBub3Qgc3VwcG9ydGVkXG4gIHBhcmFncmFwaDogZWRpdChibG9jay5ub3JtYWwuX3BhcmFncmFwaClcbiAgICAucmVwbGFjZSgnaHInLCBibG9jay5ocilcbiAgICAucmVwbGFjZSgnaGVhZGluZycsICcgKiN7MSw2fSAqW15cXG5dJylcbiAgICAucmVwbGFjZSgnbGhlYWRpbmcnLCBibG9jay5saGVhZGluZylcbiAgICAucmVwbGFjZSgnYmxvY2txdW90ZScsICcgezAsM30+JylcbiAgICAucmVwbGFjZSgnfGZlbmNlcycsICcnKVxuICAgIC5yZXBsYWNlKCd8bGlzdCcsICcnKVxuICAgIC5yZXBsYWNlKCd8aHRtbCcsICcnKVxuICAgIC5nZXRSZWdleCgpXG59KTtcblxuLyoqXG4gKiBCbG9jayBMZXhlclxuICovXG5cbmZ1bmN0aW9uIExleGVyKG9wdGlvbnMpIHtcbiAgdGhpcy50b2tlbnMgPSBbXTtcbiAgdGhpcy50b2tlbnMubGlua3MgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IG1hcmtlZC5kZWZhdWx0cztcbiAgdGhpcy5ydWxlcyA9IGJsb2NrLm5vcm1hbDtcblxuICBpZiAodGhpcy5vcHRpb25zLnBlZGFudGljKSB7XG4gICAgdGhpcy5ydWxlcyA9IGJsb2NrLnBlZGFudGljO1xuICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5nZm0pIHtcbiAgICB0aGlzLnJ1bGVzID0gYmxvY2suZ2ZtO1xuICB9XG59XG5cbi8qKlxuICogRXhwb3NlIEJsb2NrIFJ1bGVzXG4gKi9cblxuTGV4ZXIucnVsZXMgPSBibG9jaztcblxuLyoqXG4gKiBTdGF0aWMgTGV4IE1ldGhvZFxuICovXG5cbkxleGVyLmxleCA9IGZ1bmN0aW9uKHNyYywgb3B0aW9ucykge1xuICB2YXIgbGV4ZXIgPSBuZXcgTGV4ZXIob3B0aW9ucyk7XG4gIHJldHVybiBsZXhlci5sZXgoc3JjKTtcbn07XG5cbi8qKlxuICogUHJlcHJvY2Vzc2luZ1xuICovXG5cbkxleGVyLnByb3RvdHlwZS5sZXggPSBmdW5jdGlvbihzcmMpIHtcbiAgc3JjID0gc3JjXG4gICAgLnJlcGxhY2UoL1xcclxcbnxcXHIvZywgJ1xcbicpXG4gICAgLnJlcGxhY2UoL1xcdC9nLCAnICAgICcpXG4gICAgLnJlcGxhY2UoL1xcdTAwYTAvZywgJyAnKVxuICAgIC5yZXBsYWNlKC9cXHUyNDI0L2csICdcXG4nKTtcblxuICByZXR1cm4gdGhpcy50b2tlbihzcmMsIHRydWUpO1xufTtcblxuLyoqXG4gKiBMZXhpbmdcbiAqL1xuXG5MZXhlci5wcm90b3R5cGUudG9rZW4gPSBmdW5jdGlvbihzcmMsIHRvcCkge1xuICBzcmMgPSBzcmMucmVwbGFjZSgvXiArJC9nbSwgJycpO1xuICB2YXIgbmV4dCxcbiAgICAgIGxvb3NlLFxuICAgICAgY2FwLFxuICAgICAgYnVsbCxcbiAgICAgIGIsXG4gICAgICBpdGVtLFxuICAgICAgbGlzdFN0YXJ0LFxuICAgICAgbGlzdEl0ZW1zLFxuICAgICAgdCxcbiAgICAgIHNwYWNlLFxuICAgICAgaSxcbiAgICAgIHRhZyxcbiAgICAgIGwsXG4gICAgICBpc29yZGVyZWQsXG4gICAgICBpc3Rhc2ssXG4gICAgICBpc2NoZWNrZWQ7XG5cbiAgd2hpbGUgKHNyYykge1xuICAgIC8vIG5ld2xpbmVcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5uZXdsaW5lLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIGlmIChjYXBbMF0ubGVuZ3RoID4gMSkge1xuICAgICAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgICAgICB0eXBlOiAnc3BhY2UnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGNvZGVcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5jb2RlLmV4ZWMoc3JjKSkge1xuICAgICAgdmFyIGxhc3RUb2tlbiA9IHRoaXMudG9rZW5zW3RoaXMudG9rZW5zLmxlbmd0aCAtIDFdO1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIC8vIEFuIGluZGVudGVkIGNvZGUgYmxvY2sgY2Fubm90IGludGVycnVwdCBhIHBhcmFncmFwaC5cbiAgICAgIGlmIChsYXN0VG9rZW4gJiYgbGFzdFRva2VuLnR5cGUgPT09ICdwYXJhZ3JhcGgnKSB7XG4gICAgICAgIGxhc3RUb2tlbi50ZXh0ICs9ICdcXG4nICsgY2FwWzBdLnRyaW1SaWdodCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FwID0gY2FwWzBdLnJlcGxhY2UoL14gezR9L2dtLCAnJyk7XG4gICAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICAgIHR5cGU6ICdjb2RlJyxcbiAgICAgICAgICBjb2RlQmxvY2tTdHlsZTogJ2luZGVudGVkJyxcbiAgICAgICAgICB0ZXh0OiAhdGhpcy5vcHRpb25zLnBlZGFudGljXG4gICAgICAgICAgICA/IHJ0cmltKGNhcCwgJ1xcbicpXG4gICAgICAgICAgICA6IGNhcFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGZlbmNlc1xuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmZlbmNlcy5leGVjKHNyYykpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgICAgdHlwZTogJ2NvZGUnLFxuICAgICAgICBsYW5nOiBjYXBbMl0gPyBjYXBbMl0udHJpbSgpIDogY2FwWzJdLFxuICAgICAgICB0ZXh0OiBjYXBbM10gfHwgJydcbiAgICAgIH0pO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gaGVhZGluZ1xuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmhlYWRpbmcuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgIHR5cGU6ICdoZWFkaW5nJyxcbiAgICAgICAgZGVwdGg6IGNhcFsxXS5sZW5ndGgsXG4gICAgICAgIHRleHQ6IGNhcFsyXVxuICAgICAgfSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyB0YWJsZSBubyBsZWFkaW5nIHBpcGUgKGdmbSlcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5ucHRhYmxlLmV4ZWMoc3JjKSkge1xuICAgICAgaXRlbSA9IHtcbiAgICAgICAgdHlwZTogJ3RhYmxlJyxcbiAgICAgICAgaGVhZGVyOiBzcGxpdENlbGxzKGNhcFsxXS5yZXBsYWNlKC9eICp8ICpcXHwgKiQvZywgJycpKSxcbiAgICAgICAgYWxpZ246IGNhcFsyXS5yZXBsYWNlKC9eICp8XFx8ICokL2csICcnKS5zcGxpdCgvICpcXHwgKi8pLFxuICAgICAgICBjZWxsczogY2FwWzNdID8gY2FwWzNdLnJlcGxhY2UoL1xcbiQvLCAnJykuc3BsaXQoJ1xcbicpIDogW11cbiAgICAgIH07XG5cbiAgICAgIGlmIChpdGVtLmhlYWRlci5sZW5ndGggPT09IGl0ZW0uYWxpZ24ubGVuZ3RoKSB7XG4gICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGl0ZW0uYWxpZ24ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoL14gKi0rOiAqJC8udGVzdChpdGVtLmFsaWduW2ldKSkge1xuICAgICAgICAgICAgaXRlbS5hbGlnbltpXSA9ICdyaWdodCc7XG4gICAgICAgICAgfSBlbHNlIGlmICgvXiAqOi0rOiAqJC8udGVzdChpdGVtLmFsaWduW2ldKSkge1xuICAgICAgICAgICAgaXRlbS5hbGlnbltpXSA9ICdjZW50ZXInO1xuICAgICAgICAgIH0gZWxzZSBpZiAoL14gKjotKyAqJC8udGVzdChpdGVtLmFsaWduW2ldKSkge1xuICAgICAgICAgICAgaXRlbS5hbGlnbltpXSA9ICdsZWZ0JztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaXRlbS5hbGlnbltpXSA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGl0ZW0uY2VsbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpdGVtLmNlbGxzW2ldID0gc3BsaXRDZWxscyhpdGVtLmNlbGxzW2ldLCBpdGVtLmhlYWRlci5sZW5ndGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50b2tlbnMucHVzaChpdGVtKTtcblxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBoclxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmhyLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICB0eXBlOiAnaHInXG4gICAgICB9KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGJsb2NrcXVvdGVcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5ibG9ja3F1b3RlLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcblxuICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgIHR5cGU6ICdibG9ja3F1b3RlX3N0YXJ0J1xuICAgICAgfSk7XG5cbiAgICAgIGNhcCA9IGNhcFswXS5yZXBsYWNlKC9eICo+ID8vZ20sICcnKTtcblxuICAgICAgLy8gUGFzcyBgdG9wYCB0byBrZWVwIHRoZSBjdXJyZW50XG4gICAgICAvLyBcInRvcGxldmVsXCIgc3RhdGUuIFRoaXMgaXMgZXhhY3RseVxuICAgICAgLy8gaG93IG1hcmtkb3duLnBsIHdvcmtzLlxuICAgICAgdGhpcy50b2tlbihjYXAsIHRvcCk7XG5cbiAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICB0eXBlOiAnYmxvY2txdW90ZV9lbmQnXG4gICAgICB9KTtcblxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gbGlzdFxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmxpc3QuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgYnVsbCA9IGNhcFsyXTtcbiAgICAgIGlzb3JkZXJlZCA9IGJ1bGwubGVuZ3RoID4gMTtcblxuICAgICAgbGlzdFN0YXJ0ID0ge1xuICAgICAgICB0eXBlOiAnbGlzdF9zdGFydCcsXG4gICAgICAgIG9yZGVyZWQ6IGlzb3JkZXJlZCxcbiAgICAgICAgc3RhcnQ6IGlzb3JkZXJlZCA/ICtidWxsIDogJycsXG4gICAgICAgIGxvb3NlOiBmYWxzZVxuICAgICAgfTtcblxuICAgICAgdGhpcy50b2tlbnMucHVzaChsaXN0U3RhcnQpO1xuXG4gICAgICAvLyBHZXQgZWFjaCB0b3AtbGV2ZWwgaXRlbS5cbiAgICAgIGNhcCA9IGNhcFswXS5tYXRjaCh0aGlzLnJ1bGVzLml0ZW0pO1xuXG4gICAgICBsaXN0SXRlbXMgPSBbXTtcbiAgICAgIG5leHQgPSBmYWxzZTtcbiAgICAgIGwgPSBjYXAubGVuZ3RoO1xuICAgICAgaSA9IDA7XG5cbiAgICAgIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGl0ZW0gPSBjYXBbaV07XG5cbiAgICAgICAgLy8gUmVtb3ZlIHRoZSBsaXN0IGl0ZW0ncyBidWxsZXRcbiAgICAgICAgLy8gc28gaXQgaXMgc2VlbiBhcyB0aGUgbmV4dCB0b2tlbi5cbiAgICAgICAgc3BhY2UgPSBpdGVtLmxlbmd0aDtcbiAgICAgICAgaXRlbSA9IGl0ZW0ucmVwbGFjZSgvXiAqKFsqKy1dfFxcZCtcXC4pICovLCAnJyk7XG5cbiAgICAgICAgLy8gT3V0ZGVudCB3aGF0ZXZlciB0aGVcbiAgICAgICAgLy8gbGlzdCBpdGVtIGNvbnRhaW5zLiBIYWNreS5cbiAgICAgICAgaWYgKH5pdGVtLmluZGV4T2YoJ1xcbiAnKSkge1xuICAgICAgICAgIHNwYWNlIC09IGl0ZW0ubGVuZ3RoO1xuICAgICAgICAgIGl0ZW0gPSAhdGhpcy5vcHRpb25zLnBlZGFudGljXG4gICAgICAgICAgICA/IGl0ZW0ucmVwbGFjZShuZXcgUmVnRXhwKCdeIHsxLCcgKyBzcGFjZSArICd9JywgJ2dtJyksICcnKVxuICAgICAgICAgICAgOiBpdGVtLnJlcGxhY2UoL14gezEsNH0vZ20sICcnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERldGVybWluZSB3aGV0aGVyIHRoZSBuZXh0IGxpc3QgaXRlbSBiZWxvbmdzIGhlcmUuXG4gICAgICAgIC8vIEJhY2twZWRhbCBpZiBpdCBkb2VzIG5vdCBiZWxvbmcgaW4gdGhpcyBsaXN0LlxuICAgICAgICBpZiAoaSAhPT0gbCAtIDEpIHtcbiAgICAgICAgICBiID0gYmxvY2suYnVsbGV0LmV4ZWMoY2FwW2kgKyAxXSlbMF07XG4gICAgICAgICAgaWYgKGJ1bGwubGVuZ3RoID4gMSA/IGIubGVuZ3RoID09PSAxXG4gICAgICAgICAgICA6IChiLmxlbmd0aCA+IDEgfHwgKHRoaXMub3B0aW9ucy5zbWFydExpc3RzICYmIGIgIT09IGJ1bGwpKSkge1xuICAgICAgICAgICAgc3JjID0gY2FwLnNsaWNlKGkgKyAxKS5qb2luKCdcXG4nKSArIHNyYztcbiAgICAgICAgICAgIGkgPSBsIC0gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEZXRlcm1pbmUgd2hldGhlciBpdGVtIGlzIGxvb3NlIG9yIG5vdC5cbiAgICAgICAgLy8gVXNlOiAvKF58XFxuKSg/ISApW15cXG5dK1xcblxcbig/IVxccyokKS9cbiAgICAgICAgLy8gZm9yIGRpc2NvdW50IGJlaGF2aW9yLlxuICAgICAgICBsb29zZSA9IG5leHQgfHwgL1xcblxcbig/IVxccyokKS8udGVzdChpdGVtKTtcbiAgICAgICAgaWYgKGkgIT09IGwgLSAxKSB7XG4gICAgICAgICAgbmV4dCA9IGl0ZW0uY2hhckF0KGl0ZW0ubGVuZ3RoIC0gMSkgPT09ICdcXG4nO1xuICAgICAgICAgIGlmICghbG9vc2UpIGxvb3NlID0gbmV4dDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsb29zZSkge1xuICAgICAgICAgIGxpc3RTdGFydC5sb29zZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBmb3IgdGFzayBsaXN0IGl0ZW1zXG4gICAgICAgIGlzdGFzayA9IC9eXFxbWyB4WF1cXF0gLy50ZXN0KGl0ZW0pO1xuICAgICAgICBpc2NoZWNrZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChpc3Rhc2spIHtcbiAgICAgICAgICBpc2NoZWNrZWQgPSBpdGVtWzFdICE9PSAnICc7XG4gICAgICAgICAgaXRlbSA9IGl0ZW0ucmVwbGFjZSgvXlxcW1sgeFhdXFxdICsvLCAnJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0ID0ge1xuICAgICAgICAgIHR5cGU6ICdsaXN0X2l0ZW1fc3RhcnQnLFxuICAgICAgICAgIHRhc2s6IGlzdGFzayxcbiAgICAgICAgICBjaGVja2VkOiBpc2NoZWNrZWQsXG4gICAgICAgICAgbG9vc2U6IGxvb3NlXG4gICAgICAgIH07XG5cbiAgICAgICAgbGlzdEl0ZW1zLnB1c2godCk7XG4gICAgICAgIHRoaXMudG9rZW5zLnB1c2godCk7XG5cbiAgICAgICAgLy8gUmVjdXJzZS5cbiAgICAgICAgdGhpcy50b2tlbihpdGVtLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgICAgdHlwZTogJ2xpc3RfaXRlbV9lbmQnXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAobGlzdFN0YXJ0Lmxvb3NlKSB7XG4gICAgICAgIGwgPSBsaXN0SXRlbXMubGVuZ3RoO1xuICAgICAgICBpID0gMDtcbiAgICAgICAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICBsaXN0SXRlbXNbaV0ubG9vc2UgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICB0eXBlOiAnbGlzdF9lbmQnXG4gICAgICB9KTtcblxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gaHRtbFxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmh0bWwuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgIHR5cGU6IHRoaXMub3B0aW9ucy5zYW5pdGl6ZVxuICAgICAgICAgID8gJ3BhcmFncmFwaCdcbiAgICAgICAgICA6ICdodG1sJyxcbiAgICAgICAgcHJlOiAhdGhpcy5vcHRpb25zLnNhbml0aXplclxuICAgICAgICAgICYmIChjYXBbMV0gPT09ICdwcmUnIHx8IGNhcFsxXSA9PT0gJ3NjcmlwdCcgfHwgY2FwWzFdID09PSAnc3R5bGUnKSxcbiAgICAgICAgdGV4dDogdGhpcy5vcHRpb25zLnNhbml0aXplID8gKHRoaXMub3B0aW9ucy5zYW5pdGl6ZXIgPyB0aGlzLm9wdGlvbnMuc2FuaXRpemVyKGNhcFswXSkgOiBlc2NhcGUoY2FwWzBdKSkgOiBjYXBbMF1cbiAgICAgIH0pO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gZGVmXG4gICAgaWYgKHRvcCAmJiAoY2FwID0gdGhpcy5ydWxlcy5kZWYuZXhlYyhzcmMpKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIGlmIChjYXBbM10pIGNhcFszXSA9IGNhcFszXS5zdWJzdHJpbmcoMSwgY2FwWzNdLmxlbmd0aCAtIDEpO1xuICAgICAgdGFnID0gY2FwWzFdLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxzKy9nLCAnICcpO1xuICAgICAgaWYgKCF0aGlzLnRva2Vucy5saW5rc1t0YWddKSB7XG4gICAgICAgIHRoaXMudG9rZW5zLmxpbmtzW3RhZ10gPSB7XG4gICAgICAgICAgaHJlZjogY2FwWzJdLFxuICAgICAgICAgIHRpdGxlOiBjYXBbM11cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIHRhYmxlIChnZm0pXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMudGFibGUuZXhlYyhzcmMpKSB7XG4gICAgICBpdGVtID0ge1xuICAgICAgICB0eXBlOiAndGFibGUnLFxuICAgICAgICBoZWFkZXI6IHNwbGl0Q2VsbHMoY2FwWzFdLnJlcGxhY2UoL14gKnwgKlxcfCAqJC9nLCAnJykpLFxuICAgICAgICBhbGlnbjogY2FwWzJdLnJlcGxhY2UoL14gKnxcXHwgKiQvZywgJycpLnNwbGl0KC8gKlxcfCAqLyksXG4gICAgICAgIGNlbGxzOiBjYXBbM10gPyBjYXBbM10ucmVwbGFjZSgvXFxuJC8sICcnKS5zcGxpdCgnXFxuJykgOiBbXVxuICAgICAgfTtcblxuICAgICAgaWYgKGl0ZW0uaGVhZGVyLmxlbmd0aCA9PT0gaXRlbS5hbGlnbi5sZW5ndGgpIHtcbiAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaXRlbS5hbGlnbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmICgvXiAqLSs6ICokLy50ZXN0KGl0ZW0uYWxpZ25baV0pKSB7XG4gICAgICAgICAgICBpdGVtLmFsaWduW2ldID0gJ3JpZ2h0JztcbiAgICAgICAgICB9IGVsc2UgaWYgKC9eICo6LSs6ICokLy50ZXN0KGl0ZW0uYWxpZ25baV0pKSB7XG4gICAgICAgICAgICBpdGVtLmFsaWduW2ldID0gJ2NlbnRlcic7XG4gICAgICAgICAgfSBlbHNlIGlmICgvXiAqOi0rICokLy50ZXN0KGl0ZW0uYWxpZ25baV0pKSB7XG4gICAgICAgICAgICBpdGVtLmFsaWduW2ldID0gJ2xlZnQnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpdGVtLmFsaWduW2ldID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaXRlbS5jZWxscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGl0ZW0uY2VsbHNbaV0gPSBzcGxpdENlbGxzKFxuICAgICAgICAgICAgaXRlbS5jZWxsc1tpXS5yZXBsYWNlKC9eICpcXHwgKnwgKlxcfCAqJC9nLCAnJyksXG4gICAgICAgICAgICBpdGVtLmhlYWRlci5sZW5ndGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50b2tlbnMucHVzaChpdGVtKTtcblxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBsaGVhZGluZ1xuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmxoZWFkaW5nLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICB0eXBlOiAnaGVhZGluZycsXG4gICAgICAgIGRlcHRoOiBjYXBbMl0uY2hhckF0KDApID09PSAnPScgPyAxIDogMixcbiAgICAgICAgdGV4dDogY2FwWzFdXG4gICAgICB9KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIHRvcC1sZXZlbCBwYXJhZ3JhcGhcbiAgICBpZiAodG9wICYmIChjYXAgPSB0aGlzLnJ1bGVzLnBhcmFncmFwaC5leGVjKHNyYykpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgIHR5cGU6ICdwYXJhZ3JhcGgnLFxuICAgICAgICB0ZXh0OiBjYXBbMV0uY2hhckF0KGNhcFsxXS5sZW5ndGggLSAxKSA9PT0gJ1xcbidcbiAgICAgICAgICA/IGNhcFsxXS5zbGljZSgwLCAtMSlcbiAgICAgICAgICA6IGNhcFsxXVxuICAgICAgfSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyB0ZXh0XG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMudGV4dC5leGVjKHNyYykpIHtcbiAgICAgIC8vIFRvcC1sZXZlbCBzaG91bGQgbmV2ZXIgcmVhY2ggaGVyZS5cbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICB0ZXh0OiBjYXBbMF1cbiAgICAgIH0pO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKHNyYykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmZpbml0ZSBsb29wIG9uIGJ5dGU6ICcgKyBzcmMuY2hhckNvZGVBdCgwKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXMudG9rZW5zO1xufTtcblxuLyoqXG4gKiBJbmxpbmUtTGV2ZWwgR3JhbW1hclxuICovXG5cbnZhciBpbmxpbmUgPSB7XG4gIGVzY2FwZTogL15cXFxcKFshXCIjJCUmJygpKissXFwtLi86Ozw9Pj9AXFxbXFxdXFxcXF5fYHt8fX5dKS8sXG4gIGF1dG9saW5rOiAvXjwoc2NoZW1lOlteXFxzXFx4MDAtXFx4MWY8Pl0qfGVtYWlsKT4vLFxuICB1cmw6IG5vb3AsXG4gIHRhZzogJ15jb21tZW50J1xuICAgICsgJ3xePC9bYS16QS1aXVtcXFxcdzotXSpcXFxccyo+JyAvLyBzZWxmLWNsb3NpbmcgdGFnXG4gICAgKyAnfF48W2EtekEtWl1bXFxcXHctXSooPzphdHRyaWJ1dGUpKj9cXFxccyovPz4nIC8vIG9wZW4gdGFnXG4gICAgKyAnfF48XFxcXD9bXFxcXHNcXFxcU10qP1xcXFw/PicgLy8gcHJvY2Vzc2luZyBpbnN0cnVjdGlvbiwgZS5nLiA8P3BocCA/PlxuICAgICsgJ3xePCFbYS16QS1aXStcXFxcc1tcXFxcc1xcXFxTXSo/PicgLy8gZGVjbGFyYXRpb24sIGUuZy4gPCFET0NUWVBFIGh0bWw+XG4gICAgKyAnfF48IVxcXFxbQ0RBVEFcXFxcW1tcXFxcc1xcXFxTXSo/XFxcXF1cXFxcXT4nLCAvLyBDREFUQSBzZWN0aW9uXG4gIGxpbms6IC9eIT9cXFsobGFiZWwpXFxdXFwoXFxzKihocmVmKSg/OlxccysodGl0bGUpKT9cXHMqXFwpLyxcbiAgcmVmbGluazogL14hP1xcWyhsYWJlbClcXF1cXFsoPyFcXHMqXFxdKSgoPzpcXFxcW1xcW1xcXV0/fFteXFxbXFxdXFxcXF0pKylcXF0vLFxuICBub2xpbms6IC9eIT9cXFsoPyFcXHMqXFxdKSgoPzpcXFtbXlxcW1xcXV0qXFxdfFxcXFxbXFxbXFxdXXxbXlxcW1xcXV0pKilcXF0oPzpcXFtcXF0pPy8sXG4gIHN0cm9uZzogL15fXyhbXlxcc19dKV9fKD8hXyl8XlxcKlxcKihbXlxccypdKVxcKlxcKig/IVxcKil8Xl9fKFteXFxzXVtcXHNcXFNdKj9bXlxcc10pX18oPyFfKXxeXFwqXFwqKFteXFxzXVtcXHNcXFNdKj9bXlxcc10pXFwqXFwqKD8hXFwqKS8sXG4gIGVtOiAvXl8oW15cXHNfXSlfKD8hXyl8XlxcKihbXlxccyo8XFxbXSlcXCooPyFcXCopfF5fKFteXFxzPF1bXFxzXFxTXSo/W15cXHNfXSlfKD8hX3xbXlxcc3B1bmN0dWF0aW9uXSl8Xl8oW15cXHNfPF1bXFxzXFxTXSo/W15cXHNdKV8oPyFffFteXFxzcHVuY3R1YXRpb25dKXxeXFwqKFteXFxzPFwiXVtcXHNcXFNdKj9bXlxcc1xcKl0pXFwqKD8hXFwqfFteXFxzcHVuY3R1YXRpb25dKXxeXFwqKFteXFxzKlwiPFxcW11bXFxzXFxTXSo/W15cXHNdKVxcKig/IVxcKikvLFxuICBjb2RlOiAvXihgKykoW15gXXxbXmBdW1xcc1xcU10qP1teYF0pXFwxKD8hYCkvLFxuICBicjogL14oIHsyLH18XFxcXClcXG4oPyFcXHMqJCkvLFxuICBkZWw6IG5vb3AsXG4gIHRleHQ6IC9eKGArfFteYF0pKD86W1xcc1xcU10qPyg/Oig/PVtcXFxcPCFcXFtgKl18XFxiX3wkKXxbXiBdKD89IHsyLH1cXG4pKXwoPz0gezIsfVxcbikpL1xufTtcblxuLy8gbGlzdCBvZiBwdW5jdHVhdGlvbiBtYXJrcyBmcm9tIGNvbW1vbiBtYXJrIHNwZWNcbi8vIHdpdGhvdXQgYCBhbmQgXSB0byB3b3JrYXJvdW5kIFJ1bGUgMTcgKGlubGluZSBjb2RlIGJsb2Nrcy9saW5rcylcbmlubGluZS5fcHVuY3R1YXRpb24gPSAnIVwiIyQlJlxcJygpKissXFxcXC0uLzo7PD0+P0BcXFxcW15fe3x9fic7XG5pbmxpbmUuZW0gPSBlZGl0KGlubGluZS5lbSkucmVwbGFjZSgvcHVuY3R1YXRpb24vZywgaW5saW5lLl9wdW5jdHVhdGlvbikuZ2V0UmVnZXgoKTtcblxuaW5saW5lLl9lc2NhcGVzID0gL1xcXFwoWyFcIiMkJSYnKCkqKyxcXC0uLzo7PD0+P0BcXFtcXF1cXFxcXl9ge3x9fl0pL2c7XG5cbmlubGluZS5fc2NoZW1lID0gL1thLXpBLVpdW2EtekEtWjAtOSsuLV17MSwzMX0vO1xuaW5saW5lLl9lbWFpbCA9IC9bYS16QS1aMC05LiEjJCUmJyorLz0/Xl9ge3x9fi1dKyhAKVthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPyg/OlxcLlthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPykrKD8hWy1fXSkvO1xuaW5saW5lLmF1dG9saW5rID0gZWRpdChpbmxpbmUuYXV0b2xpbmspXG4gIC5yZXBsYWNlKCdzY2hlbWUnLCBpbmxpbmUuX3NjaGVtZSlcbiAgLnJlcGxhY2UoJ2VtYWlsJywgaW5saW5lLl9lbWFpbClcbiAgLmdldFJlZ2V4KCk7XG5cbmlubGluZS5fYXR0cmlidXRlID0gL1xccytbYS16QS1aOl9dW1xcdy46LV0qKD86XFxzKj1cXHMqXCJbXlwiXSpcInxcXHMqPVxccyonW14nXSonfFxccyo9XFxzKlteXFxzXCInPTw+YF0rKT8vO1xuXG5pbmxpbmUudGFnID0gZWRpdChpbmxpbmUudGFnKVxuICAucmVwbGFjZSgnY29tbWVudCcsIGJsb2NrLl9jb21tZW50KVxuICAucmVwbGFjZSgnYXR0cmlidXRlJywgaW5saW5lLl9hdHRyaWJ1dGUpXG4gIC5nZXRSZWdleCgpO1xuXG5pbmxpbmUuX2xhYmVsID0gLyg/OlxcW1teXFxbXFxdXSpcXF18XFxcXC58YFteYF0qYHxbXlxcW1xcXVxcXFxgXSkqPy87XG5pbmxpbmUuX2hyZWYgPSAvPCg/OlxcXFxbPD5dP3xbXlxcczw+XFxcXF0pKj58W15cXHNcXHgwMC1cXHgxZl0qLztcbmlubGluZS5fdGl0bGUgPSAvXCIoPzpcXFxcXCI/fFteXCJcXFxcXSkqXCJ8Jyg/OlxcXFwnP3xbXidcXFxcXSkqJ3xcXCgoPzpcXFxcXFwpP3xbXilcXFxcXSkqXFwpLztcblxuaW5saW5lLmxpbmsgPSBlZGl0KGlubGluZS5saW5rKVxuICAucmVwbGFjZSgnbGFiZWwnLCBpbmxpbmUuX2xhYmVsKVxuICAucmVwbGFjZSgnaHJlZicsIGlubGluZS5faHJlZilcbiAgLnJlcGxhY2UoJ3RpdGxlJywgaW5saW5lLl90aXRsZSlcbiAgLmdldFJlZ2V4KCk7XG5cbmlubGluZS5yZWZsaW5rID0gZWRpdChpbmxpbmUucmVmbGluaylcbiAgLnJlcGxhY2UoJ2xhYmVsJywgaW5saW5lLl9sYWJlbClcbiAgLmdldFJlZ2V4KCk7XG5cbi8qKlxuICogTm9ybWFsIElubGluZSBHcmFtbWFyXG4gKi9cblxuaW5saW5lLm5vcm1hbCA9IG1lcmdlKHt9LCBpbmxpbmUpO1xuXG4vKipcbiAqIFBlZGFudGljIElubGluZSBHcmFtbWFyXG4gKi9cblxuaW5saW5lLnBlZGFudGljID0gbWVyZ2Uoe30sIGlubGluZS5ub3JtYWwsIHtcbiAgc3Ryb25nOiAvXl9fKD89XFxTKShbXFxzXFxTXSo/XFxTKV9fKD8hXyl8XlxcKlxcKig/PVxcUykoW1xcc1xcU10qP1xcUylcXCpcXCooPyFcXCopLyxcbiAgZW06IC9eXyg/PVxcUykoW1xcc1xcU10qP1xcUylfKD8hXyl8XlxcKig/PVxcUykoW1xcc1xcU10qP1xcUylcXCooPyFcXCopLyxcbiAgbGluazogZWRpdCgvXiE/XFxbKGxhYmVsKVxcXVxcKCguKj8pXFwpLylcbiAgICAucmVwbGFjZSgnbGFiZWwnLCBpbmxpbmUuX2xhYmVsKVxuICAgIC5nZXRSZWdleCgpLFxuICByZWZsaW5rOiBlZGl0KC9eIT9cXFsobGFiZWwpXFxdXFxzKlxcWyhbXlxcXV0qKVxcXS8pXG4gICAgLnJlcGxhY2UoJ2xhYmVsJywgaW5saW5lLl9sYWJlbClcbiAgICAuZ2V0UmVnZXgoKVxufSk7XG5cbi8qKlxuICogR0ZNIElubGluZSBHcmFtbWFyXG4gKi9cblxuaW5saW5lLmdmbSA9IG1lcmdlKHt9LCBpbmxpbmUubm9ybWFsLCB7XG4gIGVzY2FwZTogZWRpdChpbmxpbmUuZXNjYXBlKS5yZXBsYWNlKCddKScsICd+fF0pJykuZ2V0UmVnZXgoKSxcbiAgX2V4dGVuZGVkX2VtYWlsOiAvW0EtWmEtejAtOS5fKy1dKyhAKVthLXpBLVowLTktX10rKD86XFwuW2EtekEtWjAtOS1fXSpbYS16QS1aMC05XSkrKD8hWy1fXSkvLFxuICB1cmw6IC9eKCg/OmZ0cHxodHRwcz8pOlxcL1xcL3x3d3dcXC4pKD86W2EtekEtWjAtOVxcLV0rXFwuPykrW15cXHM8XSp8XmVtYWlsLyxcbiAgX2JhY2twZWRhbDogLyg/OltePyEuLDo7Kl9+KCkmXSt8XFwoW14pXSpcXCl8Jig/IVthLXpBLVowLTldKzskKXxbPyEuLDo7Kl9+KV0rKD8hJCkpKy8sXG4gIGRlbDogL15+Kyg/PVxcUykoW1xcc1xcU10qP1xcUyl+Ky8sXG4gIHRleHQ6IC9eKGArfFteYF0pKD86W1xcc1xcU10qPyg/Oig/PVtcXFxcPCFcXFtgKn5dfFxcYl98aHR0cHM/OlxcL1xcL3xmdHA6XFwvXFwvfHd3d1xcLnwkKXxbXiBdKD89IHsyLH1cXG4pfFteYS16QS1aMC05LiEjJCUmJyorXFwvPT9fYHtcXHx9fi1dKD89W2EtekEtWjAtOS4hIyQlJicqK1xcLz0/X2B7XFx8fX4tXStAKSl8KD89IHsyLH1cXG58W2EtekEtWjAtOS4hIyQlJicqK1xcLz0/X2B7XFx8fX4tXStAKSkvXG59KTtcblxuaW5saW5lLmdmbS51cmwgPSBlZGl0KGlubGluZS5nZm0udXJsLCAnaScpXG4gIC5yZXBsYWNlKCdlbWFpbCcsIGlubGluZS5nZm0uX2V4dGVuZGVkX2VtYWlsKVxuICAuZ2V0UmVnZXgoKTtcbi8qKlxuICogR0ZNICsgTGluZSBCcmVha3MgSW5saW5lIEdyYW1tYXJcbiAqL1xuXG5pbmxpbmUuYnJlYWtzID0gbWVyZ2Uoe30sIGlubGluZS5nZm0sIHtcbiAgYnI6IGVkaXQoaW5saW5lLmJyKS5yZXBsYWNlKCd7Mix9JywgJyonKS5nZXRSZWdleCgpLFxuICB0ZXh0OiBlZGl0KGlubGluZS5nZm0udGV4dClcbiAgICAucmVwbGFjZSgnXFxcXGJfJywgJ1xcXFxiX3wgezIsfVxcXFxuJylcbiAgICAucmVwbGFjZSgvXFx7MixcXH0vZywgJyonKVxuICAgIC5nZXRSZWdleCgpXG59KTtcblxuLyoqXG4gKiBJbmxpbmUgTGV4ZXIgJiBDb21waWxlclxuICovXG5cbmZ1bmN0aW9uIElubGluZUxleGVyKGxpbmtzLCBvcHRpb25zKSB7XG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwgbWFya2VkLmRlZmF1bHRzO1xuICB0aGlzLmxpbmtzID0gbGlua3M7XG4gIHRoaXMucnVsZXMgPSBpbmxpbmUubm9ybWFsO1xuICB0aGlzLnJlbmRlcmVyID0gdGhpcy5vcHRpb25zLnJlbmRlcmVyIHx8IG5ldyBSZW5kZXJlcigpO1xuICB0aGlzLnJlbmRlcmVyLm9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgaWYgKCF0aGlzLmxpbmtzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdUb2tlbnMgYXJyYXkgcmVxdWlyZXMgYSBgbGlua3NgIHByb3BlcnR5LicpO1xuICB9XG5cbiAgaWYgKHRoaXMub3B0aW9ucy5wZWRhbnRpYykge1xuICAgIHRoaXMucnVsZXMgPSBpbmxpbmUucGVkYW50aWM7XG4gIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLmdmbSkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMuYnJlYWtzKSB7XG4gICAgICB0aGlzLnJ1bGVzID0gaW5saW5lLmJyZWFrcztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5ydWxlcyA9IGlubGluZS5nZm07XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogRXhwb3NlIElubGluZSBSdWxlc1xuICovXG5cbklubGluZUxleGVyLnJ1bGVzID0gaW5saW5lO1xuXG4vKipcbiAqIFN0YXRpYyBMZXhpbmcvQ29tcGlsaW5nIE1ldGhvZFxuICovXG5cbklubGluZUxleGVyLm91dHB1dCA9IGZ1bmN0aW9uKHNyYywgbGlua3MsIG9wdGlvbnMpIHtcbiAgdmFyIGlubGluZSA9IG5ldyBJbmxpbmVMZXhlcihsaW5rcywgb3B0aW9ucyk7XG4gIHJldHVybiBpbmxpbmUub3V0cHV0KHNyYyk7XG59O1xuXG4vKipcbiAqIExleGluZy9Db21waWxpbmdcbiAqL1xuXG5JbmxpbmVMZXhlci5wcm90b3R5cGUub3V0cHV0ID0gZnVuY3Rpb24oc3JjKSB7XG4gIHZhciBvdXQgPSAnJyxcbiAgICAgIGxpbmssXG4gICAgICB0ZXh0LFxuICAgICAgaHJlZixcbiAgICAgIHRpdGxlLFxuICAgICAgY2FwLFxuICAgICAgcHJldkNhcFplcm87XG5cbiAgd2hpbGUgKHNyYykge1xuICAgIC8vIGVzY2FwZVxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmVzY2FwZS5leGVjKHNyYykpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICBvdXQgKz0gZXNjYXBlKGNhcFsxXSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyB0YWdcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy50YWcuZXhlYyhzcmMpKSB7XG4gICAgICBpZiAoIXRoaXMuaW5MaW5rICYmIC9ePGEgL2kudGVzdChjYXBbMF0pKSB7XG4gICAgICAgIHRoaXMuaW5MaW5rID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5pbkxpbmsgJiYgL148XFwvYT4vaS50ZXN0KGNhcFswXSkpIHtcbiAgICAgICAgdGhpcy5pbkxpbmsgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5pblJhd0Jsb2NrICYmIC9ePChwcmV8Y29kZXxrYmR8c2NyaXB0KShcXHN8PikvaS50ZXN0KGNhcFswXSkpIHtcbiAgICAgICAgdGhpcy5pblJhd0Jsb2NrID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5pblJhd0Jsb2NrICYmIC9ePFxcLyhwcmV8Y29kZXxrYmR8c2NyaXB0KShcXHN8PikvaS50ZXN0KGNhcFswXSkpIHtcbiAgICAgICAgdGhpcy5pblJhd0Jsb2NrID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICBvdXQgKz0gdGhpcy5vcHRpb25zLnNhbml0aXplXG4gICAgICAgID8gdGhpcy5vcHRpb25zLnNhbml0aXplclxuICAgICAgICAgID8gdGhpcy5vcHRpb25zLnNhbml0aXplcihjYXBbMF0pXG4gICAgICAgICAgOiBlc2NhcGUoY2FwWzBdKVxuICAgICAgICA6IGNhcFswXTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGxpbmtcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5saW5rLmV4ZWMoc3JjKSkge1xuICAgICAgdmFyIGxhc3RQYXJlbkluZGV4ID0gZmluZENsb3NpbmdCcmFja2V0KGNhcFsyXSwgJygpJyk7XG4gICAgICBpZiAobGFzdFBhcmVuSW5kZXggPiAtMSkge1xuICAgICAgICB2YXIgbGlua0xlbiA9IDQgKyBjYXBbMV0ubGVuZ3RoICsgbGFzdFBhcmVuSW5kZXg7XG4gICAgICAgIGNhcFsyXSA9IGNhcFsyXS5zdWJzdHJpbmcoMCwgbGFzdFBhcmVuSW5kZXgpO1xuICAgICAgICBjYXBbMF0gPSBjYXBbMF0uc3Vic3RyaW5nKDAsIGxpbmtMZW4pLnRyaW0oKTtcbiAgICAgICAgY2FwWzNdID0gJyc7XG4gICAgICB9XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgdGhpcy5pbkxpbmsgPSB0cnVlO1xuICAgICAgaHJlZiA9IGNhcFsyXTtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMucGVkYW50aWMpIHtcbiAgICAgICAgbGluayA9IC9eKFteJ1wiXSpbXlxcc10pXFxzKyhbJ1wiXSkoLiopXFwyLy5leGVjKGhyZWYpO1xuXG4gICAgICAgIGlmIChsaW5rKSB7XG4gICAgICAgICAgaHJlZiA9IGxpbmtbMV07XG4gICAgICAgICAgdGl0bGUgPSBsaW5rWzNdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRpdGxlID0gJyc7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRpdGxlID0gY2FwWzNdID8gY2FwWzNdLnNsaWNlKDEsIC0xKSA6ICcnO1xuICAgICAgfVxuICAgICAgaHJlZiA9IGhyZWYudHJpbSgpLnJlcGxhY2UoL148KFtcXHNcXFNdKik+JC8sICckMScpO1xuICAgICAgb3V0ICs9IHRoaXMub3V0cHV0TGluayhjYXAsIHtcbiAgICAgICAgaHJlZjogSW5saW5lTGV4ZXIuZXNjYXBlcyhocmVmKSxcbiAgICAgICAgdGl0bGU6IElubGluZUxleGVyLmVzY2FwZXModGl0bGUpXG4gICAgICB9KTtcbiAgICAgIHRoaXMuaW5MaW5rID0gZmFsc2U7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyByZWZsaW5rLCBub2xpbmtcbiAgICBpZiAoKGNhcCA9IHRoaXMucnVsZXMucmVmbGluay5leGVjKHNyYykpXG4gICAgICAgIHx8IChjYXAgPSB0aGlzLnJ1bGVzLm5vbGluay5leGVjKHNyYykpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgbGluayA9IChjYXBbMl0gfHwgY2FwWzFdKS5yZXBsYWNlKC9cXHMrL2csICcgJyk7XG4gICAgICBsaW5rID0gdGhpcy5saW5rc1tsaW5rLnRvTG93ZXJDYXNlKCldO1xuICAgICAgaWYgKCFsaW5rIHx8ICFsaW5rLmhyZWYpIHtcbiAgICAgICAgb3V0ICs9IGNhcFswXS5jaGFyQXQoMCk7XG4gICAgICAgIHNyYyA9IGNhcFswXS5zdWJzdHJpbmcoMSkgKyBzcmM7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdGhpcy5pbkxpbmsgPSB0cnVlO1xuICAgICAgb3V0ICs9IHRoaXMub3V0cHV0TGluayhjYXAsIGxpbmspO1xuICAgICAgdGhpcy5pbkxpbmsgPSBmYWxzZTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIHN0cm9uZ1xuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLnN0cm9uZy5leGVjKHNyYykpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5zdHJvbmcodGhpcy5vdXRwdXQoY2FwWzRdIHx8IGNhcFszXSB8fCBjYXBbMl0gfHwgY2FwWzFdKSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBlbVxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmVtLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmVtKHRoaXMub3V0cHV0KGNhcFs2XSB8fCBjYXBbNV0gfHwgY2FwWzRdIHx8IGNhcFszXSB8fCBjYXBbMl0gfHwgY2FwWzFdKSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBjb2RlXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuY29kZS5leGVjKHNyYykpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5jb2Rlc3Bhbihlc2NhcGUoY2FwWzJdLnRyaW0oKSwgdHJ1ZSkpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gYnJcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5ici5leGVjKHNyYykpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5icigpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gZGVsIChnZm0pXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuZGVsLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmRlbCh0aGlzLm91dHB1dChjYXBbMV0pKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGF1dG9saW5rXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuYXV0b2xpbmsuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgaWYgKGNhcFsyXSA9PT0gJ0AnKSB7XG4gICAgICAgIHRleHQgPSBlc2NhcGUodGhpcy5tYW5nbGUoY2FwWzFdKSk7XG4gICAgICAgIGhyZWYgPSAnbWFpbHRvOicgKyB0ZXh0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGV4dCA9IGVzY2FwZShjYXBbMV0pO1xuICAgICAgICBocmVmID0gdGV4dDtcbiAgICAgIH1cbiAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmxpbmsoaHJlZiwgbnVsbCwgdGV4dCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyB1cmwgKGdmbSlcbiAgICBpZiAoIXRoaXMuaW5MaW5rICYmIChjYXAgPSB0aGlzLnJ1bGVzLnVybC5leGVjKHNyYykpKSB7XG4gICAgICBpZiAoY2FwWzJdID09PSAnQCcpIHtcbiAgICAgICAgdGV4dCA9IGVzY2FwZShjYXBbMF0pO1xuICAgICAgICBocmVmID0gJ21haWx0bzonICsgdGV4dDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGRvIGV4dGVuZGVkIGF1dG9saW5rIHBhdGggdmFsaWRhdGlvblxuICAgICAgICBkbyB7XG4gICAgICAgICAgcHJldkNhcFplcm8gPSBjYXBbMF07XG4gICAgICAgICAgY2FwWzBdID0gdGhpcy5ydWxlcy5fYmFja3BlZGFsLmV4ZWMoY2FwWzBdKVswXTtcbiAgICAgICAgfSB3aGlsZSAocHJldkNhcFplcm8gIT09IGNhcFswXSk7XG4gICAgICAgIHRleHQgPSBlc2NhcGUoY2FwWzBdKTtcbiAgICAgICAgaWYgKGNhcFsxXSA9PT0gJ3d3dy4nKSB7XG4gICAgICAgICAgaHJlZiA9ICdodHRwOi8vJyArIHRleHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaHJlZiA9IHRleHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5saW5rKGhyZWYsIG51bGwsIHRleHQpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gdGV4dFxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLnRleHQuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgaWYgKHRoaXMuaW5SYXdCbG9jaykge1xuICAgICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci50ZXh0KHRoaXMub3B0aW9ucy5zYW5pdGl6ZSA/ICh0aGlzLm9wdGlvbnMuc2FuaXRpemVyID8gdGhpcy5vcHRpb25zLnNhbml0aXplcihjYXBbMF0pIDogZXNjYXBlKGNhcFswXSkpIDogY2FwWzBdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLnRleHQoZXNjYXBlKHRoaXMuc21hcnR5cGFudHMoY2FwWzBdKSkpO1xuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKHNyYykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmZpbml0ZSBsb29wIG9uIGJ5dGU6ICcgKyBzcmMuY2hhckNvZGVBdCgwKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG91dDtcbn07XG5cbklubGluZUxleGVyLmVzY2FwZXMgPSBmdW5jdGlvbih0ZXh0KSB7XG4gIHJldHVybiB0ZXh0ID8gdGV4dC5yZXBsYWNlKElubGluZUxleGVyLnJ1bGVzLl9lc2NhcGVzLCAnJDEnKSA6IHRleHQ7XG59O1xuXG4vKipcbiAqIENvbXBpbGUgTGlua1xuICovXG5cbklubGluZUxleGVyLnByb3RvdHlwZS5vdXRwdXRMaW5rID0gZnVuY3Rpb24oY2FwLCBsaW5rKSB7XG4gIHZhciBocmVmID0gbGluay5ocmVmLFxuICAgICAgdGl0bGUgPSBsaW5rLnRpdGxlID8gZXNjYXBlKGxpbmsudGl0bGUpIDogbnVsbDtcblxuICByZXR1cm4gY2FwWzBdLmNoYXJBdCgwKSAhPT0gJyEnXG4gICAgPyB0aGlzLnJlbmRlcmVyLmxpbmsoaHJlZiwgdGl0bGUsIHRoaXMub3V0cHV0KGNhcFsxXSkpXG4gICAgOiB0aGlzLnJlbmRlcmVyLmltYWdlKGhyZWYsIHRpdGxlLCBlc2NhcGUoY2FwWzFdKSk7XG59O1xuXG4vKipcbiAqIFNtYXJ0eXBhbnRzIFRyYW5zZm9ybWF0aW9uc1xuICovXG5cbklubGluZUxleGVyLnByb3RvdHlwZS5zbWFydHlwYW50cyA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgaWYgKCF0aGlzLm9wdGlvbnMuc21hcnR5cGFudHMpIHJldHVybiB0ZXh0O1xuICByZXR1cm4gdGV4dFxuICAgIC8vIGVtLWRhc2hlc1xuICAgIC5yZXBsYWNlKC8tLS0vZywgJ1xcdTIwMTQnKVxuICAgIC8vIGVuLWRhc2hlc1xuICAgIC5yZXBsYWNlKC8tLS9nLCAnXFx1MjAxMycpXG4gICAgLy8gb3BlbmluZyBzaW5nbGVzXG4gICAgLnJlcGxhY2UoLyhefFstXFx1MjAxNC8oXFxbe1wiXFxzXSknL2csICckMVxcdTIwMTgnKVxuICAgIC8vIGNsb3Npbmcgc2luZ2xlcyAmIGFwb3N0cm9waGVzXG4gICAgLnJlcGxhY2UoLycvZywgJ1xcdTIwMTknKVxuICAgIC8vIG9wZW5pbmcgZG91Ymxlc1xuICAgIC5yZXBsYWNlKC8oXnxbLVxcdTIwMTQvKFxcW3tcXHUyMDE4XFxzXSlcIi9nLCAnJDFcXHUyMDFjJylcbiAgICAvLyBjbG9zaW5nIGRvdWJsZXNcbiAgICAucmVwbGFjZSgvXCIvZywgJ1xcdTIwMWQnKVxuICAgIC8vIGVsbGlwc2VzXG4gICAgLnJlcGxhY2UoL1xcLnszfS9nLCAnXFx1MjAyNicpO1xufTtcblxuLyoqXG4gKiBNYW5nbGUgTGlua3NcbiAqL1xuXG5JbmxpbmVMZXhlci5wcm90b3R5cGUubWFuZ2xlID0gZnVuY3Rpb24odGV4dCkge1xuICBpZiAoIXRoaXMub3B0aW9ucy5tYW5nbGUpIHJldHVybiB0ZXh0O1xuICB2YXIgb3V0ID0gJycsXG4gICAgICBsID0gdGV4dC5sZW5ndGgsXG4gICAgICBpID0gMCxcbiAgICAgIGNoO1xuXG4gIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgY2ggPSB0ZXh0LmNoYXJDb2RlQXQoaSk7XG4gICAgaWYgKE1hdGgucmFuZG9tKCkgPiAwLjUpIHtcbiAgICAgIGNoID0gJ3gnICsgY2gudG9TdHJpbmcoMTYpO1xuICAgIH1cbiAgICBvdXQgKz0gJyYjJyArIGNoICsgJzsnO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn07XG5cbi8qKlxuICogUmVuZGVyZXJcbiAqL1xuXG5mdW5jdGlvbiBSZW5kZXJlcihvcHRpb25zKSB7XG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwgbWFya2VkLmRlZmF1bHRzO1xufVxuXG5SZW5kZXJlci5wcm90b3R5cGUuY29kZSA9IGZ1bmN0aW9uKGNvZGUsIGluZm9zdHJpbmcsIGVzY2FwZWQpIHtcbiAgdmFyIGxhbmcgPSAoaW5mb3N0cmluZyB8fCAnJykubWF0Y2goL1xcUyovKVswXTtcbiAgaWYgKHRoaXMub3B0aW9ucy5oaWdobGlnaHQpIHtcbiAgICB2YXIgb3V0ID0gdGhpcy5vcHRpb25zLmhpZ2hsaWdodChjb2RlLCBsYW5nKTtcbiAgICBpZiAob3V0ICE9IG51bGwgJiYgb3V0ICE9PSBjb2RlKSB7XG4gICAgICBlc2NhcGVkID0gdHJ1ZTtcbiAgICAgIGNvZGUgPSBvdXQ7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFsYW5nKSB7XG4gICAgcmV0dXJuICc8cHJlPjxjb2RlPidcbiAgICAgICsgKGVzY2FwZWQgPyBjb2RlIDogZXNjYXBlKGNvZGUsIHRydWUpKVxuICAgICAgKyAnPC9jb2RlPjwvcHJlPic7XG4gIH1cblxuICByZXR1cm4gJzxwcmU+PGNvZGUgY2xhc3M9XCInXG4gICAgKyB0aGlzLm9wdGlvbnMubGFuZ1ByZWZpeFxuICAgICsgZXNjYXBlKGxhbmcsIHRydWUpXG4gICAgKyAnXCI+J1xuICAgICsgKGVzY2FwZWQgPyBjb2RlIDogZXNjYXBlKGNvZGUsIHRydWUpKVxuICAgICsgJzwvY29kZT48L3ByZT5cXG4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmJsb2NrcXVvdGUgPSBmdW5jdGlvbihxdW90ZSkge1xuICByZXR1cm4gJzxibG9ja3F1b3RlPlxcbicgKyBxdW90ZSArICc8L2Jsb2NrcXVvdGU+XFxuJztcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS5odG1sID0gZnVuY3Rpb24oaHRtbCkge1xuICByZXR1cm4gaHRtbDtcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS5oZWFkaW5nID0gZnVuY3Rpb24odGV4dCwgbGV2ZWwsIHJhdywgc2x1Z2dlcikge1xuICBpZiAodGhpcy5vcHRpb25zLmhlYWRlcklkcykge1xuICAgIHJldHVybiAnPGgnXG4gICAgICArIGxldmVsXG4gICAgICArICcgaWQ9XCInXG4gICAgICArIHRoaXMub3B0aW9ucy5oZWFkZXJQcmVmaXhcbiAgICAgICsgc2x1Z2dlci5zbHVnKHJhdylcbiAgICAgICsgJ1wiPidcbiAgICAgICsgdGV4dFxuICAgICAgKyAnPC9oJ1xuICAgICAgKyBsZXZlbFxuICAgICAgKyAnPlxcbic7XG4gIH1cbiAgLy8gaWdub3JlIElEc1xuICByZXR1cm4gJzxoJyArIGxldmVsICsgJz4nICsgdGV4dCArICc8L2gnICsgbGV2ZWwgKyAnPlxcbic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUuaHIgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMub3B0aW9ucy54aHRtbCA/ICc8aHIvPlxcbicgOiAnPGhyPlxcbic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUubGlzdCA9IGZ1bmN0aW9uKGJvZHksIG9yZGVyZWQsIHN0YXJ0KSB7XG4gIHZhciB0eXBlID0gb3JkZXJlZCA/ICdvbCcgOiAndWwnLFxuICAgICAgc3RhcnRhdHQgPSAob3JkZXJlZCAmJiBzdGFydCAhPT0gMSkgPyAoJyBzdGFydD1cIicgKyBzdGFydCArICdcIicpIDogJyc7XG4gIHJldHVybiAnPCcgKyB0eXBlICsgc3RhcnRhdHQgKyAnPlxcbicgKyBib2R5ICsgJzwvJyArIHR5cGUgKyAnPlxcbic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUubGlzdGl0ZW0gPSBmdW5jdGlvbih0ZXh0KSB7XG4gIHJldHVybiAnPGxpPicgKyB0ZXh0ICsgJzwvbGk+XFxuJztcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS5jaGVja2JveCA9IGZ1bmN0aW9uKGNoZWNrZWQpIHtcbiAgcmV0dXJuICc8aW5wdXQgJ1xuICAgICsgKGNoZWNrZWQgPyAnY2hlY2tlZD1cIlwiICcgOiAnJylcbiAgICArICdkaXNhYmxlZD1cIlwiIHR5cGU9XCJjaGVja2JveFwiJ1xuICAgICsgKHRoaXMub3B0aW9ucy54aHRtbCA/ICcgLycgOiAnJylcbiAgICArICc+ICc7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUucGFyYWdyYXBoID0gZnVuY3Rpb24odGV4dCkge1xuICByZXR1cm4gJzxwPicgKyB0ZXh0ICsgJzwvcD5cXG4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLnRhYmxlID0gZnVuY3Rpb24oaGVhZGVyLCBib2R5KSB7XG4gIGlmIChib2R5KSBib2R5ID0gJzx0Ym9keT4nICsgYm9keSArICc8L3Rib2R5Pic7XG5cbiAgcmV0dXJuICc8dGFibGU+XFxuJ1xuICAgICsgJzx0aGVhZD5cXG4nXG4gICAgKyBoZWFkZXJcbiAgICArICc8L3RoZWFkPlxcbidcbiAgICArIGJvZHlcbiAgICArICc8L3RhYmxlPlxcbic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUudGFibGVyb3cgPSBmdW5jdGlvbihjb250ZW50KSB7XG4gIHJldHVybiAnPHRyPlxcbicgKyBjb250ZW50ICsgJzwvdHI+XFxuJztcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS50YWJsZWNlbGwgPSBmdW5jdGlvbihjb250ZW50LCBmbGFncykge1xuICB2YXIgdHlwZSA9IGZsYWdzLmhlYWRlciA/ICd0aCcgOiAndGQnO1xuICB2YXIgdGFnID0gZmxhZ3MuYWxpZ25cbiAgICA/ICc8JyArIHR5cGUgKyAnIGFsaWduPVwiJyArIGZsYWdzLmFsaWduICsgJ1wiPidcbiAgICA6ICc8JyArIHR5cGUgKyAnPic7XG4gIHJldHVybiB0YWcgKyBjb250ZW50ICsgJzwvJyArIHR5cGUgKyAnPlxcbic7XG59O1xuXG4vLyBzcGFuIGxldmVsIHJlbmRlcmVyXG5SZW5kZXJlci5wcm90b3R5cGUuc3Ryb25nID0gZnVuY3Rpb24odGV4dCkge1xuICByZXR1cm4gJzxzdHJvbmc+JyArIHRleHQgKyAnPC9zdHJvbmc+Jztcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS5lbSA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgcmV0dXJuICc8ZW0+JyArIHRleHQgKyAnPC9lbT4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmNvZGVzcGFuID0gZnVuY3Rpb24odGV4dCkge1xuICByZXR1cm4gJzxjb2RlPicgKyB0ZXh0ICsgJzwvY29kZT4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmJyID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLm9wdGlvbnMueGh0bWwgPyAnPGJyLz4nIDogJzxicj4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmRlbCA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgcmV0dXJuICc8ZGVsPicgKyB0ZXh0ICsgJzwvZGVsPic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUubGluayA9IGZ1bmN0aW9uKGhyZWYsIHRpdGxlLCB0ZXh0KSB7XG4gIGhyZWYgPSBjbGVhblVybCh0aGlzLm9wdGlvbnMuc2FuaXRpemUsIHRoaXMub3B0aW9ucy5iYXNlVXJsLCBocmVmKTtcbiAgaWYgKGhyZWYgPT09IG51bGwpIHtcbiAgICByZXR1cm4gdGV4dDtcbiAgfVxuICB2YXIgb3V0ID0gJzxhIGhyZWY9XCInICsgZXNjYXBlKGhyZWYpICsgJ1wiJztcbiAgaWYgKHRpdGxlKSB7XG4gICAgb3V0ICs9ICcgdGl0bGU9XCInICsgdGl0bGUgKyAnXCInO1xuICB9XG4gIG91dCArPSAnPicgKyB0ZXh0ICsgJzwvYT4nO1xuICByZXR1cm4gb3V0O1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmltYWdlID0gZnVuY3Rpb24oaHJlZiwgdGl0bGUsIHRleHQpIHtcbiAgaHJlZiA9IGNsZWFuVXJsKHRoaXMub3B0aW9ucy5zYW5pdGl6ZSwgdGhpcy5vcHRpb25zLmJhc2VVcmwsIGhyZWYpO1xuICBpZiAoaHJlZiA9PT0gbnVsbCkge1xuICAgIHJldHVybiB0ZXh0O1xuICB9XG5cbiAgdmFyIG91dCA9ICc8aW1nIHNyYz1cIicgKyBocmVmICsgJ1wiIGFsdD1cIicgKyB0ZXh0ICsgJ1wiJztcbiAgaWYgKHRpdGxlKSB7XG4gICAgb3V0ICs9ICcgdGl0bGU9XCInICsgdGl0bGUgKyAnXCInO1xuICB9XG4gIG91dCArPSB0aGlzLm9wdGlvbnMueGh0bWwgPyAnLz4nIDogJz4nO1xuICByZXR1cm4gb3V0O1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLnRleHQgPSBmdW5jdGlvbih0ZXh0KSB7XG4gIHJldHVybiB0ZXh0O1xufTtcblxuLyoqXG4gKiBUZXh0UmVuZGVyZXJcbiAqIHJldHVybnMgb25seSB0aGUgdGV4dHVhbCBwYXJ0IG9mIHRoZSB0b2tlblxuICovXG5cbmZ1bmN0aW9uIFRleHRSZW5kZXJlcigpIHt9XG5cbi8vIG5vIG5lZWQgZm9yIGJsb2NrIGxldmVsIHJlbmRlcmVyc1xuXG5UZXh0UmVuZGVyZXIucHJvdG90eXBlLnN0cm9uZyA9XG5UZXh0UmVuZGVyZXIucHJvdG90eXBlLmVtID1cblRleHRSZW5kZXJlci5wcm90b3R5cGUuY29kZXNwYW4gPVxuVGV4dFJlbmRlcmVyLnByb3RvdHlwZS5kZWwgPVxuVGV4dFJlbmRlcmVyLnByb3RvdHlwZS50ZXh0ID0gZnVuY3Rpb24odGV4dCkge1xuICByZXR1cm4gdGV4dDtcbn07XG5cblRleHRSZW5kZXJlci5wcm90b3R5cGUubGluayA9XG5UZXh0UmVuZGVyZXIucHJvdG90eXBlLmltYWdlID0gZnVuY3Rpb24oaHJlZiwgdGl0bGUsIHRleHQpIHtcbiAgcmV0dXJuICcnICsgdGV4dDtcbn07XG5cblRleHRSZW5kZXJlci5wcm90b3R5cGUuYnIgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuICcnO1xufTtcblxuLyoqXG4gKiBQYXJzaW5nICYgQ29tcGlsaW5nXG4gKi9cblxuZnVuY3Rpb24gUGFyc2VyKG9wdGlvbnMpIHtcbiAgdGhpcy50b2tlbnMgPSBbXTtcbiAgdGhpcy50b2tlbiA9IG51bGw7XG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwgbWFya2VkLmRlZmF1bHRzO1xuICB0aGlzLm9wdGlvbnMucmVuZGVyZXIgPSB0aGlzLm9wdGlvbnMucmVuZGVyZXIgfHwgbmV3IFJlbmRlcmVyKCk7XG4gIHRoaXMucmVuZGVyZXIgPSB0aGlzLm9wdGlvbnMucmVuZGVyZXI7XG4gIHRoaXMucmVuZGVyZXIub3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgdGhpcy5zbHVnZ2VyID0gbmV3IFNsdWdnZXIoKTtcbn1cblxuLyoqXG4gKiBTdGF0aWMgUGFyc2UgTWV0aG9kXG4gKi9cblxuUGFyc2VyLnBhcnNlID0gZnVuY3Rpb24oc3JjLCBvcHRpb25zKSB7XG4gIHZhciBwYXJzZXIgPSBuZXcgUGFyc2VyKG9wdGlvbnMpO1xuICByZXR1cm4gcGFyc2VyLnBhcnNlKHNyYyk7XG59O1xuXG4vKipcbiAqIFBhcnNlIExvb3BcbiAqL1xuXG5QYXJzZXIucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24oc3JjKSB7XG4gIHRoaXMuaW5saW5lID0gbmV3IElubGluZUxleGVyKHNyYy5saW5rcywgdGhpcy5vcHRpb25zKTtcbiAgLy8gdXNlIGFuIElubGluZUxleGVyIHdpdGggYSBUZXh0UmVuZGVyZXIgdG8gZXh0cmFjdCBwdXJlIHRleHRcbiAgdGhpcy5pbmxpbmVUZXh0ID0gbmV3IElubGluZUxleGVyKFxuICAgIHNyYy5saW5rcyxcbiAgICBtZXJnZSh7fSwgdGhpcy5vcHRpb25zLCB7IHJlbmRlcmVyOiBuZXcgVGV4dFJlbmRlcmVyKCkgfSlcbiAgKTtcbiAgdGhpcy50b2tlbnMgPSBzcmMucmV2ZXJzZSgpO1xuXG4gIHZhciBvdXQgPSAnJztcbiAgd2hpbGUgKHRoaXMubmV4dCgpKSB7XG4gICAgb3V0ICs9IHRoaXMudG9rKCk7XG4gIH1cblxuICByZXR1cm4gb3V0O1xufTtcblxuLyoqXG4gKiBOZXh0IFRva2VuXG4gKi9cblxuUGFyc2VyLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMudG9rZW4gPSB0aGlzLnRva2Vucy5wb3AoKTtcbiAgcmV0dXJuIHRoaXMudG9rZW47XG59O1xuXG4vKipcbiAqIFByZXZpZXcgTmV4dCBUb2tlblxuICovXG5cblBhcnNlci5wcm90b3R5cGUucGVlayA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy50b2tlbnNbdGhpcy50b2tlbnMubGVuZ3RoIC0gMV0gfHwgMDtcbn07XG5cbi8qKlxuICogUGFyc2UgVGV4dCBUb2tlbnNcbiAqL1xuXG5QYXJzZXIucHJvdG90eXBlLnBhcnNlVGV4dCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgYm9keSA9IHRoaXMudG9rZW4udGV4dDtcblxuICB3aGlsZSAodGhpcy5wZWVrKCkudHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgYm9keSArPSAnXFxuJyArIHRoaXMubmV4dCgpLnRleHQ7XG4gIH1cblxuICByZXR1cm4gdGhpcy5pbmxpbmUub3V0cHV0KGJvZHkpO1xufTtcblxuLyoqXG4gKiBQYXJzZSBDdXJyZW50IFRva2VuXG4gKi9cblxuUGFyc2VyLnByb3RvdHlwZS50b2sgPSBmdW5jdGlvbigpIHtcbiAgc3dpdGNoICh0aGlzLnRva2VuLnR5cGUpIHtcbiAgICBjYXNlICdzcGFjZSc6IHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgY2FzZSAnaHInOiB7XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5ocigpO1xuICAgIH1cbiAgICBjYXNlICdoZWFkaW5nJzoge1xuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuaGVhZGluZyhcbiAgICAgICAgdGhpcy5pbmxpbmUub3V0cHV0KHRoaXMudG9rZW4udGV4dCksXG4gICAgICAgIHRoaXMudG9rZW4uZGVwdGgsXG4gICAgICAgIHVuZXNjYXBlKHRoaXMuaW5saW5lVGV4dC5vdXRwdXQodGhpcy50b2tlbi50ZXh0KSksXG4gICAgICAgIHRoaXMuc2x1Z2dlcik7XG4gICAgfVxuICAgIGNhc2UgJ2NvZGUnOiB7XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5jb2RlKHRoaXMudG9rZW4udGV4dCxcbiAgICAgICAgdGhpcy50b2tlbi5sYW5nLFxuICAgICAgICB0aGlzLnRva2VuLmVzY2FwZWQpO1xuICAgIH1cbiAgICBjYXNlICd0YWJsZSc6IHtcbiAgICAgIHZhciBoZWFkZXIgPSAnJyxcbiAgICAgICAgICBib2R5ID0gJycsXG4gICAgICAgICAgaSxcbiAgICAgICAgICByb3csXG4gICAgICAgICAgY2VsbCxcbiAgICAgICAgICBqO1xuXG4gICAgICAvLyBoZWFkZXJcbiAgICAgIGNlbGwgPSAnJztcbiAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLnRva2VuLmhlYWRlci5sZW5ndGg7IGkrKykge1xuICAgICAgICBjZWxsICs9IHRoaXMucmVuZGVyZXIudGFibGVjZWxsKFxuICAgICAgICAgIHRoaXMuaW5saW5lLm91dHB1dCh0aGlzLnRva2VuLmhlYWRlcltpXSksXG4gICAgICAgICAgeyBoZWFkZXI6IHRydWUsIGFsaWduOiB0aGlzLnRva2VuLmFsaWduW2ldIH1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGhlYWRlciArPSB0aGlzLnJlbmRlcmVyLnRhYmxlcm93KGNlbGwpO1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy50b2tlbi5jZWxscy5sZW5ndGg7IGkrKykge1xuICAgICAgICByb3cgPSB0aGlzLnRva2VuLmNlbGxzW2ldO1xuXG4gICAgICAgIGNlbGwgPSAnJztcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IHJvdy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIGNlbGwgKz0gdGhpcy5yZW5kZXJlci50YWJsZWNlbGwoXG4gICAgICAgICAgICB0aGlzLmlubGluZS5vdXRwdXQocm93W2pdKSxcbiAgICAgICAgICAgIHsgaGVhZGVyOiBmYWxzZSwgYWxpZ246IHRoaXMudG9rZW4uYWxpZ25bal0gfVxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBib2R5ICs9IHRoaXMucmVuZGVyZXIudGFibGVyb3coY2VsbCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci50YWJsZShoZWFkZXIsIGJvZHkpO1xuICAgIH1cbiAgICBjYXNlICdibG9ja3F1b3RlX3N0YXJ0Jzoge1xuICAgICAgYm9keSA9ICcnO1xuXG4gICAgICB3aGlsZSAodGhpcy5uZXh0KCkudHlwZSAhPT0gJ2Jsb2NrcXVvdGVfZW5kJykge1xuICAgICAgICBib2R5ICs9IHRoaXMudG9rKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmJsb2NrcXVvdGUoYm9keSk7XG4gICAgfVxuICAgIGNhc2UgJ2xpc3Rfc3RhcnQnOiB7XG4gICAgICBib2R5ID0gJyc7XG4gICAgICB2YXIgb3JkZXJlZCA9IHRoaXMudG9rZW4ub3JkZXJlZCxcbiAgICAgICAgICBzdGFydCA9IHRoaXMudG9rZW4uc3RhcnQ7XG5cbiAgICAgIHdoaWxlICh0aGlzLm5leHQoKS50eXBlICE9PSAnbGlzdF9lbmQnKSB7XG4gICAgICAgIGJvZHkgKz0gdGhpcy50b2soKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIubGlzdChib2R5LCBvcmRlcmVkLCBzdGFydCk7XG4gICAgfVxuICAgIGNhc2UgJ2xpc3RfaXRlbV9zdGFydCc6IHtcbiAgICAgIGJvZHkgPSAnJztcbiAgICAgIHZhciBsb29zZSA9IHRoaXMudG9rZW4ubG9vc2U7XG4gICAgICB2YXIgY2hlY2tlZCA9IHRoaXMudG9rZW4uY2hlY2tlZDtcbiAgICAgIHZhciB0YXNrID0gdGhpcy50b2tlbi50YXNrO1xuXG4gICAgICBpZiAodGhpcy50b2tlbi50YXNrKSB7XG4gICAgICAgIGJvZHkgKz0gdGhpcy5yZW5kZXJlci5jaGVja2JveChjaGVja2VkKTtcbiAgICAgIH1cblxuICAgICAgd2hpbGUgKHRoaXMubmV4dCgpLnR5cGUgIT09ICdsaXN0X2l0ZW1fZW5kJykge1xuICAgICAgICBib2R5ICs9ICFsb29zZSAmJiB0aGlzLnRva2VuLnR5cGUgPT09ICd0ZXh0J1xuICAgICAgICAgID8gdGhpcy5wYXJzZVRleHQoKVxuICAgICAgICAgIDogdGhpcy50b2soKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmxpc3RpdGVtKGJvZHksIHRhc2ssIGNoZWNrZWQpO1xuICAgIH1cbiAgICBjYXNlICdodG1sJzoge1xuICAgICAgLy8gVE9ETyBwYXJzZSBpbmxpbmUgY29udGVudCBpZiBwYXJhbWV0ZXIgbWFya2Rvd249MVxuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuaHRtbCh0aGlzLnRva2VuLnRleHQpO1xuICAgIH1cbiAgICBjYXNlICdwYXJhZ3JhcGgnOiB7XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5wYXJhZ3JhcGgodGhpcy5pbmxpbmUub3V0cHV0KHRoaXMudG9rZW4udGV4dCkpO1xuICAgIH1cbiAgICBjYXNlICd0ZXh0Jzoge1xuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIucGFyYWdyYXBoKHRoaXMucGFyc2VUZXh0KCkpO1xuICAgIH1cbiAgICBkZWZhdWx0OiB7XG4gICAgICB2YXIgZXJyTXNnID0gJ1Rva2VuIHdpdGggXCInICsgdGhpcy50b2tlbi50eXBlICsgJ1wiIHR5cGUgd2FzIG5vdCBmb3VuZC4nO1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaWxlbnQpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyTXNnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJNc2cpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBTbHVnZ2VyIGdlbmVyYXRlcyBoZWFkZXIgaWRcbiAqL1xuXG5mdW5jdGlvbiBTbHVnZ2VyKCkge1xuICB0aGlzLnNlZW4gPSB7fTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IHN0cmluZyB0byB1bmlxdWUgaWRcbiAqL1xuXG5TbHVnZ2VyLnByb3RvdHlwZS5zbHVnID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgdmFyIHNsdWcgPSB2YWx1ZVxuICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgLnRyaW0oKVxuICAgIC5yZXBsYWNlKC9bXFx1MjAwMC1cXHUyMDZGXFx1MkUwMC1cXHUyRTdGXFxcXCchXCIjJCUmKCkqKywuLzo7PD0+P0BbXFxdXmB7fH1+XS9nLCAnJylcbiAgICAucmVwbGFjZSgvXFxzL2csICctJyk7XG5cbiAgaWYgKHRoaXMuc2Vlbi5oYXNPd25Qcm9wZXJ0eShzbHVnKSkge1xuICAgIHZhciBvcmlnaW5hbFNsdWcgPSBzbHVnO1xuICAgIGRvIHtcbiAgICAgIHRoaXMuc2VlbltvcmlnaW5hbFNsdWddKys7XG4gICAgICBzbHVnID0gb3JpZ2luYWxTbHVnICsgJy0nICsgdGhpcy5zZWVuW29yaWdpbmFsU2x1Z107XG4gICAgfSB3aGlsZSAodGhpcy5zZWVuLmhhc093blByb3BlcnR5KHNsdWcpKTtcbiAgfVxuICB0aGlzLnNlZW5bc2x1Z10gPSAwO1xuXG4gIHJldHVybiBzbHVnO1xufTtcblxuLyoqXG4gKiBIZWxwZXJzXG4gKi9cblxuZnVuY3Rpb24gZXNjYXBlKGh0bWwsIGVuY29kZSkge1xuICBpZiAoZW5jb2RlKSB7XG4gICAgaWYgKGVzY2FwZS5lc2NhcGVUZXN0LnRlc3QoaHRtbCkpIHtcbiAgICAgIHJldHVybiBodG1sLnJlcGxhY2UoZXNjYXBlLmVzY2FwZVJlcGxhY2UsIGZ1bmN0aW9uKGNoKSB7IHJldHVybiBlc2NhcGUucmVwbGFjZW1lbnRzW2NoXTsgfSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChlc2NhcGUuZXNjYXBlVGVzdE5vRW5jb2RlLnRlc3QoaHRtbCkpIHtcbiAgICAgIHJldHVybiBodG1sLnJlcGxhY2UoZXNjYXBlLmVzY2FwZVJlcGxhY2VOb0VuY29kZSwgZnVuY3Rpb24oY2gpIHsgcmV0dXJuIGVzY2FwZS5yZXBsYWNlbWVudHNbY2hdOyB9KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gaHRtbDtcbn1cblxuZXNjYXBlLmVzY2FwZVRlc3QgPSAvWyY8PlwiJ10vO1xuZXNjYXBlLmVzY2FwZVJlcGxhY2UgPSAvWyY8PlwiJ10vZztcbmVzY2FwZS5yZXBsYWNlbWVudHMgPSB7XG4gICcmJzogJyZhbXA7JyxcbiAgJzwnOiAnJmx0OycsXG4gICc+JzogJyZndDsnLFxuICAnXCInOiAnJnF1b3Q7JyxcbiAgXCInXCI6ICcmIzM5Oydcbn07XG5cbmVzY2FwZS5lc2NhcGVUZXN0Tm9FbmNvZGUgPSAvWzw+XCInXXwmKD8hIz9cXHcrOykvO1xuZXNjYXBlLmVzY2FwZVJlcGxhY2VOb0VuY29kZSA9IC9bPD5cIiddfCYoPyEjP1xcdys7KS9nO1xuXG5mdW5jdGlvbiB1bmVzY2FwZShodG1sKSB7XG4gIC8vIGV4cGxpY2l0bHkgbWF0Y2ggZGVjaW1hbCwgaGV4LCBhbmQgbmFtZWQgSFRNTCBlbnRpdGllc1xuICByZXR1cm4gaHRtbC5yZXBsYWNlKC8mKCMoPzpcXGQrKXwoPzojeFswLTlBLUZhLWZdKyl8KD86XFx3KykpOz8vaWcsIGZ1bmN0aW9uKF8sIG4pIHtcbiAgICBuID0gbi50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChuID09PSAnY29sb24nKSByZXR1cm4gJzonO1xuICAgIGlmIChuLmNoYXJBdCgwKSA9PT0gJyMnKSB7XG4gICAgICByZXR1cm4gbi5jaGFyQXQoMSkgPT09ICd4J1xuICAgICAgICA/IFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQobi5zdWJzdHJpbmcoMiksIDE2KSlcbiAgICAgICAgOiBTdHJpbmcuZnJvbUNoYXJDb2RlKCtuLnN1YnN0cmluZygxKSk7XG4gICAgfVxuICAgIHJldHVybiAnJztcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGVkaXQocmVnZXgsIG9wdCkge1xuICByZWdleCA9IHJlZ2V4LnNvdXJjZSB8fCByZWdleDtcbiAgb3B0ID0gb3B0IHx8ICcnO1xuICByZXR1cm4ge1xuICAgIHJlcGxhY2U6IGZ1bmN0aW9uKG5hbWUsIHZhbCkge1xuICAgICAgdmFsID0gdmFsLnNvdXJjZSB8fCB2YWw7XG4gICAgICB2YWwgPSB2YWwucmVwbGFjZSgvKF58W15cXFtdKVxcXi9nLCAnJDEnKTtcbiAgICAgIHJlZ2V4ID0gcmVnZXgucmVwbGFjZShuYW1lLCB2YWwpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBnZXRSZWdleDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmV3IFJlZ0V4cChyZWdleCwgb3B0KTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNsZWFuVXJsKHNhbml0aXplLCBiYXNlLCBocmVmKSB7XG4gIGlmIChzYW5pdGl6ZSkge1xuICAgIHRyeSB7XG4gICAgICB2YXIgcHJvdCA9IGRlY29kZVVSSUNvbXBvbmVudCh1bmVzY2FwZShocmVmKSlcbiAgICAgICAgLnJlcGxhY2UoL1teXFx3Ol0vZywgJycpXG4gICAgICAgIC50b0xvd2VyQ2FzZSgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAocHJvdC5pbmRleE9mKCdqYXZhc2NyaXB0OicpID09PSAwIHx8IHByb3QuaW5kZXhPZigndmJzY3JpcHQ6JykgPT09IDAgfHwgcHJvdC5pbmRleE9mKCdkYXRhOicpID09PSAwKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbiAgaWYgKGJhc2UgJiYgIW9yaWdpbkluZGVwZW5kZW50VXJsLnRlc3QoaHJlZikpIHtcbiAgICBocmVmID0gcmVzb2x2ZVVybChiYXNlLCBocmVmKTtcbiAgfVxuICB0cnkge1xuICAgIGhyZWYgPSBlbmNvZGVVUkkoaHJlZikucmVwbGFjZSgvJTI1L2csICclJyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gaHJlZjtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZVVybChiYXNlLCBocmVmKSB7XG4gIGlmICghYmFzZVVybHNbJyAnICsgYmFzZV0pIHtcbiAgICAvLyB3ZSBjYW4gaWdub3JlIGV2ZXJ5dGhpbmcgaW4gYmFzZSBhZnRlciB0aGUgbGFzdCBzbGFzaCBvZiBpdHMgcGF0aCBjb21wb25lbnQsXG4gICAgLy8gYnV0IHdlIG1pZ2h0IG5lZWQgdG8gYWRkIF90aGF0X1xuICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2I3NlY3Rpb24tM1xuICAgIGlmICgvXlteOl0rOlxcLypbXi9dKiQvLnRlc3QoYmFzZSkpIHtcbiAgICAgIGJhc2VVcmxzWycgJyArIGJhc2VdID0gYmFzZSArICcvJztcbiAgICB9IGVsc2Uge1xuICAgICAgYmFzZVVybHNbJyAnICsgYmFzZV0gPSBydHJpbShiYXNlLCAnLycsIHRydWUpO1xuICAgIH1cbiAgfVxuICBiYXNlID0gYmFzZVVybHNbJyAnICsgYmFzZV07XG5cbiAgaWYgKGhyZWYuc2xpY2UoMCwgMikgPT09ICcvLycpIHtcbiAgICByZXR1cm4gYmFzZS5yZXBsYWNlKC86W1xcc1xcU10qLywgJzonKSArIGhyZWY7XG4gIH0gZWxzZSBpZiAoaHJlZi5jaGFyQXQoMCkgPT09ICcvJykge1xuICAgIHJldHVybiBiYXNlLnJlcGxhY2UoLyg6XFwvKlteL10qKVtcXHNcXFNdKi8sICckMScpICsgaHJlZjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYmFzZSArIGhyZWY7XG4gIH1cbn1cbnZhciBiYXNlVXJscyA9IHt9O1xudmFyIG9yaWdpbkluZGVwZW5kZW50VXJsID0gL14kfF5bYS16XVthLXowLTkrLi1dKjp8Xls/I10vaTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5ub29wLmV4ZWMgPSBub29wO1xuXG5mdW5jdGlvbiBtZXJnZShvYmopIHtcbiAgdmFyIGkgPSAxLFxuICAgICAgdGFyZ2V0LFxuICAgICAga2V5O1xuXG4gIGZvciAoOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdGFyZ2V0ID0gYXJndW1lbnRzW2ldO1xuICAgIGZvciAoa2V5IGluIHRhcmdldCkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0YXJnZXQsIGtleSkpIHtcbiAgICAgICAgb2JqW2tleV0gPSB0YXJnZXRba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiBzcGxpdENlbGxzKHRhYmxlUm93LCBjb3VudCkge1xuICAvLyBlbnN1cmUgdGhhdCBldmVyeSBjZWxsLWRlbGltaXRpbmcgcGlwZSBoYXMgYSBzcGFjZVxuICAvLyBiZWZvcmUgaXQgdG8gZGlzdGluZ3Vpc2ggaXQgZnJvbSBhbiBlc2NhcGVkIHBpcGVcbiAgdmFyIHJvdyA9IHRhYmxlUm93LnJlcGxhY2UoL1xcfC9nLCBmdW5jdGlvbihtYXRjaCwgb2Zmc2V0LCBzdHIpIHtcbiAgICAgICAgdmFyIGVzY2FwZWQgPSBmYWxzZSxcbiAgICAgICAgICAgIGN1cnIgPSBvZmZzZXQ7XG4gICAgICAgIHdoaWxlICgtLWN1cnIgPj0gMCAmJiBzdHJbY3Vycl0gPT09ICdcXFxcJykgZXNjYXBlZCA9ICFlc2NhcGVkO1xuICAgICAgICBpZiAoZXNjYXBlZCkge1xuICAgICAgICAgIC8vIG9kZCBudW1iZXIgb2Ygc2xhc2hlcyBtZWFucyB8IGlzIGVzY2FwZWRcbiAgICAgICAgICAvLyBzbyB3ZSBsZWF2ZSBpdCBhbG9uZVxuICAgICAgICAgIHJldHVybiAnfCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gYWRkIHNwYWNlIGJlZm9yZSB1bmVzY2FwZWQgfFxuICAgICAgICAgIHJldHVybiAnIHwnO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICAgIGNlbGxzID0gcm93LnNwbGl0KC8gXFx8LyksXG4gICAgICBpID0gMDtcblxuICBpZiAoY2VsbHMubGVuZ3RoID4gY291bnQpIHtcbiAgICBjZWxscy5zcGxpY2UoY291bnQpO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChjZWxscy5sZW5ndGggPCBjb3VudCkgY2VsbHMucHVzaCgnJyk7XG4gIH1cblxuICBmb3IgKDsgaSA8IGNlbGxzLmxlbmd0aDsgaSsrKSB7XG4gICAgLy8gbGVhZGluZyBvciB0cmFpbGluZyB3aGl0ZXNwYWNlIGlzIGlnbm9yZWQgcGVyIHRoZSBnZm0gc3BlY1xuICAgIGNlbGxzW2ldID0gY2VsbHNbaV0udHJpbSgpLnJlcGxhY2UoL1xcXFxcXHwvZywgJ3wnKTtcbiAgfVxuICByZXR1cm4gY2VsbHM7XG59XG5cbi8vIFJlbW92ZSB0cmFpbGluZyAnYydzLiBFcXVpdmFsZW50IHRvIHN0ci5yZXBsYWNlKC9jKiQvLCAnJykuXG4vLyAvYyokLyBpcyB2dWxuZXJhYmxlIHRvIFJFRE9TLlxuLy8gaW52ZXJ0OiBSZW1vdmUgc3VmZml4IG9mIG5vbi1jIGNoYXJzIGluc3RlYWQuIERlZmF1bHQgZmFsc2V5LlxuZnVuY3Rpb24gcnRyaW0oc3RyLCBjLCBpbnZlcnQpIHtcbiAgaWYgKHN0ci5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICAvLyBMZW5ndGggb2Ygc3VmZml4IG1hdGNoaW5nIHRoZSBpbnZlcnQgY29uZGl0aW9uLlxuICB2YXIgc3VmZkxlbiA9IDA7XG5cbiAgLy8gU3RlcCBsZWZ0IHVudGlsIHdlIGZhaWwgdG8gbWF0Y2ggdGhlIGludmVydCBjb25kaXRpb24uXG4gIHdoaWxlIChzdWZmTGVuIDwgc3RyLmxlbmd0aCkge1xuICAgIHZhciBjdXJyQ2hhciA9IHN0ci5jaGFyQXQoc3RyLmxlbmd0aCAtIHN1ZmZMZW4gLSAxKTtcbiAgICBpZiAoY3VyckNoYXIgPT09IGMgJiYgIWludmVydCkge1xuICAgICAgc3VmZkxlbisrO1xuICAgIH0gZWxzZSBpZiAoY3VyckNoYXIgIT09IGMgJiYgaW52ZXJ0KSB7XG4gICAgICBzdWZmTGVuKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzdHIuc3Vic3RyKDAsIHN0ci5sZW5ndGggLSBzdWZmTGVuKTtcbn1cblxuZnVuY3Rpb24gZmluZENsb3NpbmdCcmFja2V0KHN0ciwgYikge1xuICBpZiAoc3RyLmluZGV4T2YoYlsxXSkgPT09IC0xKSB7XG4gICAgcmV0dXJuIC0xO1xuICB9XG4gIHZhciBsZXZlbCA9IDA7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0cltpXSA9PT0gJ1xcXFwnKSB7XG4gICAgICBpKys7XG4gICAgfSBlbHNlIGlmIChzdHJbaV0gPT09IGJbMF0pIHtcbiAgICAgIGxldmVsKys7XG4gICAgfSBlbHNlIGlmIChzdHJbaV0gPT09IGJbMV0pIHtcbiAgICAgIGxldmVsLS07XG4gICAgICBpZiAobGV2ZWwgPCAwKSB7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbmZ1bmN0aW9uIGNoZWNrU2FuaXRpemVEZXByZWNhdGlvbihvcHQpIHtcbiAgaWYgKG9wdCAmJiBvcHQuc2FuaXRpemUgJiYgIW9wdC5zaWxlbnQpIHtcbiAgICBjb25zb2xlLndhcm4oJ21hcmtlZCgpOiBzYW5pdGl6ZSBhbmQgc2FuaXRpemVyIHBhcmFtZXRlcnMgYXJlIGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAwLjcuMCwgc2hvdWxkIG5vdCBiZSB1c2VkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZS4gUmVhZCBtb3JlIGhlcmU6IGh0dHBzOi8vbWFya2VkLmpzLm9yZy8jL1VTSU5HX0FEVkFOQ0VELm1kI29wdGlvbnMnKTtcbiAgfVxufVxuXG4vKipcbiAqIE1hcmtlZFxuICovXG5cbmZ1bmN0aW9uIG1hcmtlZChzcmMsIG9wdCwgY2FsbGJhY2spIHtcbiAgLy8gdGhyb3cgZXJyb3IgaW4gY2FzZSBvZiBub24gc3RyaW5nIGlucHV0XG4gIGlmICh0eXBlb2Ygc3JjID09PSAndW5kZWZpbmVkJyB8fCBzcmMgPT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ21hcmtlZCgpOiBpbnB1dCBwYXJhbWV0ZXIgaXMgdW5kZWZpbmVkIG9yIG51bGwnKTtcbiAgfVxuICBpZiAodHlwZW9mIHNyYyAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ21hcmtlZCgpOiBpbnB1dCBwYXJhbWV0ZXIgaXMgb2YgdHlwZSAnXG4gICAgICArIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzcmMpICsgJywgc3RyaW5nIGV4cGVjdGVkJyk7XG4gIH1cblxuICBpZiAoY2FsbGJhY2sgfHwgdHlwZW9mIG9wdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGlmICghY2FsbGJhY2spIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0O1xuICAgICAgb3B0ID0gbnVsbDtcbiAgICB9XG5cbiAgICBvcHQgPSBtZXJnZSh7fSwgbWFya2VkLmRlZmF1bHRzLCBvcHQgfHwge30pO1xuICAgIGNoZWNrU2FuaXRpemVEZXByZWNhdGlvbihvcHQpO1xuXG4gICAgdmFyIGhpZ2hsaWdodCA9IG9wdC5oaWdobGlnaHQsXG4gICAgICAgIHRva2VucyxcbiAgICAgICAgcGVuZGluZyxcbiAgICAgICAgaSA9IDA7XG5cbiAgICB0cnkge1xuICAgICAgdG9rZW5zID0gTGV4ZXIubGV4KHNyYywgb3B0KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soZSk7XG4gICAgfVxuXG4gICAgcGVuZGluZyA9IHRva2Vucy5sZW5ndGg7XG5cbiAgICB2YXIgZG9uZSA9IGZ1bmN0aW9uKGVycikge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBvcHQuaGlnaGxpZ2h0ID0gaGlnaGxpZ2h0O1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgIH1cblxuICAgICAgdmFyIG91dDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgb3V0ID0gUGFyc2VyLnBhcnNlKHRva2Vucywgb3B0KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgZXJyID0gZTtcbiAgICAgIH1cblxuICAgICAgb3B0LmhpZ2hsaWdodCA9IGhpZ2hsaWdodDtcblxuICAgICAgcmV0dXJuIGVyclxuICAgICAgICA/IGNhbGxiYWNrKGVycilcbiAgICAgICAgOiBjYWxsYmFjayhudWxsLCBvdXQpO1xuICAgIH07XG5cbiAgICBpZiAoIWhpZ2hsaWdodCB8fCBoaWdobGlnaHQubGVuZ3RoIDwgMykge1xuICAgICAgcmV0dXJuIGRvbmUoKTtcbiAgICB9XG5cbiAgICBkZWxldGUgb3B0LmhpZ2hsaWdodDtcblxuICAgIGlmICghcGVuZGluZykgcmV0dXJuIGRvbmUoKTtcblxuICAgIGZvciAoOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAoZnVuY3Rpb24odG9rZW4pIHtcbiAgICAgICAgaWYgKHRva2VuLnR5cGUgIT09ICdjb2RlJykge1xuICAgICAgICAgIHJldHVybiAtLXBlbmRpbmcgfHwgZG9uZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoaWdobGlnaHQodG9rZW4udGV4dCwgdG9rZW4ubGFuZywgZnVuY3Rpb24oZXJyLCBjb2RlKSB7XG4gICAgICAgICAgaWYgKGVycikgcmV0dXJuIGRvbmUoZXJyKTtcbiAgICAgICAgICBpZiAoY29kZSA9PSBudWxsIHx8IGNvZGUgPT09IHRva2VuLnRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiAtLXBlbmRpbmcgfHwgZG9uZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0b2tlbi50ZXh0ID0gY29kZTtcbiAgICAgICAgICB0b2tlbi5lc2NhcGVkID0gdHJ1ZTtcbiAgICAgICAgICAtLXBlbmRpbmcgfHwgZG9uZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH0pKHRva2Vuc1tpXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuO1xuICB9XG4gIHRyeSB7XG4gICAgaWYgKG9wdCkgb3B0ID0gbWVyZ2Uoe30sIG1hcmtlZC5kZWZhdWx0cywgb3B0KTtcbiAgICBjaGVja1Nhbml0aXplRGVwcmVjYXRpb24ob3B0KTtcbiAgICByZXR1cm4gUGFyc2VyLnBhcnNlKExleGVyLmxleChzcmMsIG9wdCksIG9wdCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBlLm1lc3NhZ2UgKz0gJ1xcblBsZWFzZSByZXBvcnQgdGhpcyB0byBodHRwczovL2dpdGh1Yi5jb20vbWFya2VkanMvbWFya2VkLic7XG4gICAgaWYgKChvcHQgfHwgbWFya2VkLmRlZmF1bHRzKS5zaWxlbnQpIHtcbiAgICAgIHJldHVybiAnPHA+QW4gZXJyb3Igb2NjdXJyZWQ6PC9wPjxwcmU+J1xuICAgICAgICArIGVzY2FwZShlLm1lc3NhZ2UgKyAnJywgdHJ1ZSlcbiAgICAgICAgKyAnPC9wcmU+JztcbiAgICB9XG4gICAgdGhyb3cgZTtcbiAgfVxufVxuXG4vKipcbiAqIE9wdGlvbnNcbiAqL1xuXG5tYXJrZWQub3B0aW9ucyA9XG5tYXJrZWQuc2V0T3B0aW9ucyA9IGZ1bmN0aW9uKG9wdCkge1xuICBtZXJnZShtYXJrZWQuZGVmYXVsdHMsIG9wdCk7XG4gIHJldHVybiBtYXJrZWQ7XG59O1xuXG5tYXJrZWQuZ2V0RGVmYXVsdHMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICBiYXNlVXJsOiBudWxsLFxuICAgIGJyZWFrczogZmFsc2UsXG4gICAgZ2ZtOiB0cnVlLFxuICAgIGhlYWRlcklkczogdHJ1ZSxcbiAgICBoZWFkZXJQcmVmaXg6ICcnLFxuICAgIGhpZ2hsaWdodDogbnVsbCxcbiAgICBsYW5nUHJlZml4OiAnbGFuZ3VhZ2UtJyxcbiAgICBtYW5nbGU6IHRydWUsXG4gICAgcGVkYW50aWM6IGZhbHNlLFxuICAgIHJlbmRlcmVyOiBuZXcgUmVuZGVyZXIoKSxcbiAgICBzYW5pdGl6ZTogZmFsc2UsXG4gICAgc2FuaXRpemVyOiBudWxsLFxuICAgIHNpbGVudDogZmFsc2UsXG4gICAgc21hcnRMaXN0czogZmFsc2UsXG4gICAgc21hcnR5cGFudHM6IGZhbHNlLFxuICAgIHhodG1sOiBmYWxzZVxuICB9O1xufTtcblxubWFya2VkLmRlZmF1bHRzID0gbWFya2VkLmdldERlZmF1bHRzKCk7XG5cbi8qKlxuICogRXhwb3NlXG4gKi9cblxubWFya2VkLlBhcnNlciA9IFBhcnNlcjtcbm1hcmtlZC5wYXJzZXIgPSBQYXJzZXIucGFyc2U7XG5cbm1hcmtlZC5SZW5kZXJlciA9IFJlbmRlcmVyO1xubWFya2VkLlRleHRSZW5kZXJlciA9IFRleHRSZW5kZXJlcjtcblxubWFya2VkLkxleGVyID0gTGV4ZXI7XG5tYXJrZWQubGV4ZXIgPSBMZXhlci5sZXg7XG5cbm1hcmtlZC5JbmxpbmVMZXhlciA9IElubGluZUxleGVyO1xubWFya2VkLmlubGluZUxleGVyID0gSW5saW5lTGV4ZXIub3V0cHV0O1xuXG5tYXJrZWQuU2x1Z2dlciA9IFNsdWdnZXI7XG5cbm1hcmtlZC5wYXJzZSA9IG1hcmtlZDtcblxuaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICBtb2R1bGUuZXhwb3J0cyA9IG1hcmtlZDtcbn0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gIGRlZmluZShmdW5jdGlvbigpIHsgcmV0dXJuIG1hcmtlZDsgfSk7XG59IGVsc2Uge1xuICByb290Lm1hcmtlZCA9IG1hcmtlZDtcbn1cbn0pKHRoaXMgfHwgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogZ2xvYmFsKSk7XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5cbmltcG9ydCB7UGFydH0gZnJvbSAnLi9wYXJ0LmpzJztcblxuY29uc3QgZGlyZWN0aXZlcyA9IG5ldyBXZWFrTWFwPG9iamVjdCwgdHJ1ZT4oKTtcblxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueVxuZXhwb3J0IHR5cGUgRGlyZWN0aXZlRmFjdG9yeSA9ICguLi5hcmdzOiBhbnlbXSkgPT4gb2JqZWN0O1xuXG5leHBvcnQgdHlwZSBEaXJlY3RpdmVGbiA9IChwYXJ0OiBQYXJ0KSA9PiB2b2lkO1xuXG4vKipcbiAqIEJyYW5kcyBhIGZ1bmN0aW9uIGFzIGEgZGlyZWN0aXZlIGZhY3RvcnkgZnVuY3Rpb24gc28gdGhhdCBsaXQtaHRtbCB3aWxsIGNhbGxcbiAqIHRoZSBmdW5jdGlvbiBkdXJpbmcgdGVtcGxhdGUgcmVuZGVyaW5nLCByYXRoZXIgdGhhbiBwYXNzaW5nIGFzIGEgdmFsdWUuXG4gKlxuICogQSBfZGlyZWN0aXZlXyBpcyBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSBQYXJ0IGFzIGFuIGFyZ3VtZW50LiBJdCBoYXMgdGhlXG4gKiBzaWduYXR1cmU6IGAocGFydDogUGFydCkgPT4gdm9pZGAuXG4gKlxuICogQSBkaXJlY3RpdmUgX2ZhY3RvcnlfIGlzIGEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhcmd1bWVudHMgZm9yIGRhdGEgYW5kXG4gKiBjb25maWd1cmF0aW9uIGFuZCByZXR1cm5zIGEgZGlyZWN0aXZlLiBVc2VycyBvZiBkaXJlY3RpdmUgdXN1YWxseSByZWZlciB0b1xuICogdGhlIGRpcmVjdGl2ZSBmYWN0b3J5IGFzIHRoZSBkaXJlY3RpdmUuIEZvciBleGFtcGxlLCBcIlRoZSByZXBlYXQgZGlyZWN0aXZlXCIuXG4gKlxuICogVXN1YWxseSBhIHRlbXBsYXRlIGF1dGhvciB3aWxsIGludm9rZSBhIGRpcmVjdGl2ZSBmYWN0b3J5IGluIHRoZWlyIHRlbXBsYXRlXG4gKiB3aXRoIHJlbGV2YW50IGFyZ3VtZW50cywgd2hpY2ggd2lsbCB0aGVuIHJldHVybiBhIGRpcmVjdGl2ZSBmdW5jdGlvbi5cbiAqXG4gKiBIZXJlJ3MgYW4gZXhhbXBsZSBvZiB1c2luZyB0aGUgYHJlcGVhdCgpYCBkaXJlY3RpdmUgZmFjdG9yeSB0aGF0IHRha2VzIGFuXG4gKiBhcnJheSBhbmQgYSBmdW5jdGlvbiB0byByZW5kZXIgYW4gaXRlbTpcbiAqXG4gKiBgYGBqc1xuICogaHRtbGA8dWw+PCR7cmVwZWF0KGl0ZW1zLCAoaXRlbSkgPT4gaHRtbGA8bGk+JHtpdGVtfTwvbGk+YCl9PC91bD5gXG4gKiBgYGBcbiAqXG4gKiBXaGVuIGByZXBlYXRgIGlzIGludm9rZWQsIGl0IHJldHVybnMgYSBkaXJlY3RpdmUgZnVuY3Rpb24gdGhhdCBjbG9zZXMgb3ZlclxuICogYGl0ZW1zYCBhbmQgdGhlIHRlbXBsYXRlIGZ1bmN0aW9uLiBXaGVuIHRoZSBvdXRlciB0ZW1wbGF0ZSBpcyByZW5kZXJlZCwgdGhlXG4gKiByZXR1cm4gZGlyZWN0aXZlIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aXRoIHRoZSBQYXJ0IGZvciB0aGUgZXhwcmVzc2lvbi5cbiAqIGByZXBlYXRgIHRoZW4gcGVyZm9ybXMgaXQncyBjdXN0b20gbG9naWMgdG8gcmVuZGVyIG11bHRpcGxlIGl0ZW1zLlxuICpcbiAqIEBwYXJhbSBmIFRoZSBkaXJlY3RpdmUgZmFjdG9yeSBmdW5jdGlvbi4gTXVzdCBiZSBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhXG4gKiBmdW5jdGlvbiBvZiB0aGUgc2lnbmF0dXJlIGAocGFydDogUGFydCkgPT4gdm9pZGAuIFRoZSByZXR1cm5lZCBmdW5jdGlvbiB3aWxsXG4gKiBiZSBjYWxsZWQgd2l0aCB0aGUgcGFydCBvYmplY3QuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBpbXBvcnQge2RpcmVjdGl2ZSwgaHRtbH0gZnJvbSAnbGl0LWh0bWwnO1xuICpcbiAqIGNvbnN0IGltbXV0YWJsZSA9IGRpcmVjdGl2ZSgodikgPT4gKHBhcnQpID0+IHtcbiAqICAgaWYgKHBhcnQudmFsdWUgIT09IHYpIHtcbiAqICAgICBwYXJ0LnNldFZhbHVlKHYpXG4gKiAgIH1cbiAqIH0pO1xuICovXG5leHBvcnQgY29uc3QgZGlyZWN0aXZlID0gPEYgZXh0ZW5kcyBEaXJlY3RpdmVGYWN0b3J5PihmOiBGKTogRiA9PlxuICAgICgoLi4uYXJnczogdW5rbm93bltdKSA9PiB7XG4gICAgICBjb25zdCBkID0gZiguLi5hcmdzKTtcbiAgICAgIGRpcmVjdGl2ZXMuc2V0KGQsIHRydWUpO1xuICAgICAgcmV0dXJuIGQ7XG4gICAgfSkgYXMgRjtcblxuZXhwb3J0IGNvbnN0IGlzRGlyZWN0aXZlID0gKG86IHVua25vd24pOiBvIGlzIERpcmVjdGl2ZUZuID0+IHtcbiAgcmV0dXJuIHR5cGVvZiBvID09PSAnZnVuY3Rpb24nICYmIGRpcmVjdGl2ZXMuaGFzKG8pO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cblxuLyoqXG4gKiBAbW9kdWxlIGxpdC1odG1sXG4gKi9cblxuaW50ZXJmYWNlIE1heWJlUG9seWZpbGxlZENlIGV4dGVuZHMgQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5IHtcbiAgcmVhZG9ubHkgcG9seWZpbGxXcmFwRmx1c2hDYWxsYmFjaz86IG9iamVjdDtcbn1cblxuLyoqXG4gKiBUcnVlIGlmIHRoZSBjdXN0b20gZWxlbWVudHMgcG9seWZpbGwgaXMgaW4gdXNlLlxuICovXG5leHBvcnQgY29uc3QgaXNDRVBvbHlmaWxsID0gd2luZG93LmN1c3RvbUVsZW1lbnRzICE9PSB1bmRlZmluZWQgJiZcbiAgICAod2luZG93LmN1c3RvbUVsZW1lbnRzIGFzIE1heWJlUG9seWZpbGxlZENlKS5wb2x5ZmlsbFdyYXBGbHVzaENhbGxiYWNrICE9PVxuICAgICAgICB1bmRlZmluZWQ7XG5cbi8qKlxuICogUmVwYXJlbnRzIG5vZGVzLCBzdGFydGluZyBmcm9tIGBzdGFydGAgKGluY2x1c2l2ZSkgdG8gYGVuZGAgKGV4Y2x1c2l2ZSksXG4gKiBpbnRvIGFub3RoZXIgY29udGFpbmVyIChjb3VsZCBiZSB0aGUgc2FtZSBjb250YWluZXIpLCBiZWZvcmUgYGJlZm9yZWAuIElmXG4gKiBgYmVmb3JlYCBpcyBudWxsLCBpdCBhcHBlbmRzIHRoZSBub2RlcyB0byB0aGUgY29udGFpbmVyLlxuICovXG5leHBvcnQgY29uc3QgcmVwYXJlbnROb2RlcyA9XG4gICAgKGNvbnRhaW5lcjogTm9kZSxcbiAgICAgc3RhcnQ6IE5vZGV8bnVsbCxcbiAgICAgZW5kOiBOb2RlfG51bGwgPSBudWxsLFxuICAgICBiZWZvcmU6IE5vZGV8bnVsbCA9IG51bGwpOiB2b2lkID0+IHtcbiAgICAgIHdoaWxlIChzdGFydCAhPT0gZW5kKSB7XG4gICAgICAgIGNvbnN0IG4gPSBzdGFydCEubmV4dFNpYmxpbmc7XG4gICAgICAgIGNvbnRhaW5lci5pbnNlcnRCZWZvcmUoc3RhcnQhLCBiZWZvcmUpO1xuICAgICAgICBzdGFydCA9IG47XG4gICAgICB9XG4gICAgfTtcblxuLyoqXG4gKiBSZW1vdmVzIG5vZGVzLCBzdGFydGluZyBmcm9tIGBzdGFydGAgKGluY2x1c2l2ZSkgdG8gYGVuZGAgKGV4Y2x1c2l2ZSksIGZyb21cbiAqIGBjb250YWluZXJgLlxuICovXG5leHBvcnQgY29uc3QgcmVtb3ZlTm9kZXMgPVxuICAgIChjb250YWluZXI6IE5vZGUsIHN0YXJ0OiBOb2RlfG51bGwsIGVuZDogTm9kZXxudWxsID0gbnVsbCk6IHZvaWQgPT4ge1xuICAgICAgd2hpbGUgKHN0YXJ0ICE9PSBlbmQpIHtcbiAgICAgICAgY29uc3QgbiA9IHN0YXJ0IS5uZXh0U2libGluZztcbiAgICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKHN0YXJ0ISk7XG4gICAgICAgIHN0YXJ0ID0gbjtcbiAgICAgIH1cbiAgICB9O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE4IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuXG4vKipcbiAqIEBtb2R1bGUgbGl0LWh0bWxcbiAqL1xuXG4vKipcbiAqIFRoZSBQYXJ0IGludGVyZmFjZSByZXByZXNlbnRzIGEgZHluYW1pYyBwYXJ0IG9mIGEgdGVtcGxhdGUgaW5zdGFuY2UgcmVuZGVyZWRcbiAqIGJ5IGxpdC1odG1sLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBhcnQge1xuICByZWFkb25seSB2YWx1ZTogdW5rbm93bjtcblxuICAvKipcbiAgICogU2V0cyB0aGUgY3VycmVudCBwYXJ0IHZhbHVlLCBidXQgZG9lcyBub3Qgd3JpdGUgaXQgdG8gdGhlIERPTS5cbiAgICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0aGF0IHdpbGwgYmUgY29tbWl0dGVkLlxuICAgKi9cbiAgc2V0VmFsdWUodmFsdWU6IHVua25vd24pOiB2b2lkO1xuXG4gIC8qKlxuICAgKiBDb21taXRzIHRoZSBjdXJyZW50IHBhcnQgdmFsdWUsIGNhdXNpbmcgaXQgdG8gYWN0dWFsbHkgYmUgd3JpdHRlbiB0byB0aGVcbiAgICogRE9NLlxuICAgKlxuICAgKiBEaXJlY3RpdmVzIGFyZSBydW4gYXQgdGhlIHN0YXJ0IG9mIGBjb21taXRgLCBzbyB0aGF0IGlmIHRoZXkgY2FsbFxuICAgKiBgcGFydC5zZXRWYWx1ZSguLi4pYCBzeW5jaHJvbm91c2x5IHRoYXQgdmFsdWUgd2lsbCBiZSB1c2VkIGluIHRoZSBjdXJyZW50XG4gICAqIGNvbW1pdCwgYW5kIHRoZXJlJ3Mgbm8gbmVlZCB0byBjYWxsIGBwYXJ0LmNvbW1pdCgpYCB3aXRoaW4gdGhlIGRpcmVjdGl2ZS5cbiAgICogSWYgZGlyZWN0aXZlcyBzZXQgYSBwYXJ0IHZhbHVlIGFzeW5jaHJvbm91c2x5LCB0aGVuIHRoZXkgbXVzdCBjYWxsXG4gICAqIGBwYXJ0LmNvbW1pdCgpYCBtYW51YWxseS5cbiAgICovXG4gIGNvbW1pdCgpOiB2b2lkO1xufVxuXG4vKipcbiAqIEEgc2VudGluZWwgdmFsdWUgdGhhdCBzaWduYWxzIHRoYXQgYSB2YWx1ZSB3YXMgaGFuZGxlZCBieSBhIGRpcmVjdGl2ZSBhbmRcbiAqIHNob3VsZCBub3QgYmUgd3JpdHRlbiB0byB0aGUgRE9NLlxuICovXG5leHBvcnQgY29uc3Qgbm9DaGFuZ2UgPSB7fTtcblxuLyoqXG4gKiBBIHNlbnRpbmVsIHZhbHVlIHRoYXQgc2lnbmFscyBhIE5vZGVQYXJ0IHRvIGZ1bGx5IGNsZWFyIGl0cyBjb250ZW50LlxuICovXG5leHBvcnQgY29uc3Qgbm90aGluZyA9IHt9O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuXG4vKipcbiAqIEBtb2R1bGUgbGl0LWh0bWxcbiAqL1xuXG5pbXBvcnQge1RlbXBsYXRlUmVzdWx0fSBmcm9tICcuL3RlbXBsYXRlLXJlc3VsdC5qcyc7XG5cbi8qKlxuICogQW4gZXhwcmVzc2lvbiBtYXJrZXIgd2l0aCBlbWJlZGRlZCB1bmlxdWUga2V5IHRvIGF2b2lkIGNvbGxpc2lvbiB3aXRoXG4gKiBwb3NzaWJsZSB0ZXh0IGluIHRlbXBsYXRlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IG1hcmtlciA9IGB7e2xpdC0ke1N0cmluZyhNYXRoLnJhbmRvbSgpKS5zbGljZSgyKX19fWA7XG5cbi8qKlxuICogQW4gZXhwcmVzc2lvbiBtYXJrZXIgdXNlZCB0ZXh0LXBvc2l0aW9ucywgbXVsdGktYmluZGluZyBhdHRyaWJ1dGVzLCBhbmRcbiAqIGF0dHJpYnV0ZXMgd2l0aCBtYXJrdXAtbGlrZSB0ZXh0IHZhbHVlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IG5vZGVNYXJrZXIgPSBgPCEtLSR7bWFya2VyfS0tPmA7XG5cbmV4cG9ydCBjb25zdCBtYXJrZXJSZWdleCA9IG5ldyBSZWdFeHAoYCR7bWFya2VyfXwke25vZGVNYXJrZXJ9YCk7XG5cbi8qKlxuICogU3VmZml4IGFwcGVuZGVkIHRvIGFsbCBib3VuZCBhdHRyaWJ1dGUgbmFtZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBib3VuZEF0dHJpYnV0ZVN1ZmZpeCA9ICckbGl0JCc7XG5cbi8qKlxuICogQW4gdXBkYXRlYWJsZSBUZW1wbGF0ZSB0aGF0IHRyYWNrcyB0aGUgbG9jYXRpb24gb2YgZHluYW1pYyBwYXJ0cy5cbiAqL1xuZXhwb3J0IGNsYXNzIFRlbXBsYXRlIHtcbiAgcmVhZG9ubHkgcGFydHM6IFRlbXBsYXRlUGFydFtdID0gW107XG4gIHJlYWRvbmx5IGVsZW1lbnQ6IEhUTUxUZW1wbGF0ZUVsZW1lbnQ7XG5cbiAgY29uc3RydWN0b3IocmVzdWx0OiBUZW1wbGF0ZVJlc3VsdCwgZWxlbWVudDogSFRNTFRlbXBsYXRlRWxlbWVudCkge1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgICBjb25zdCBub2Rlc1RvUmVtb3ZlOiBOb2RlW10gPSBbXTtcbiAgICBjb25zdCBzdGFjazogTm9kZVtdID0gW107XG4gICAgLy8gRWRnZSBuZWVkcyBhbGwgNCBwYXJhbWV0ZXJzIHByZXNlbnQ7IElFMTEgbmVlZHMgM3JkIHBhcmFtZXRlciB0byBiZSBudWxsXG4gICAgY29uc3Qgd2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihcbiAgICAgICAgZWxlbWVudC5jb250ZW50LFxuICAgICAgICAxMzMgLyogTm9kZUZpbHRlci5TSE9XX3tFTEVNRU5UfENPTU1FTlR8VEVYVH0gKi8sXG4gICAgICAgIG51bGwsXG4gICAgICAgIGZhbHNlKTtcbiAgICAvLyBLZWVwcyB0cmFjayBvZiB0aGUgbGFzdCBpbmRleCBhc3NvY2lhdGVkIHdpdGggYSBwYXJ0LiBXZSB0cnkgdG8gZGVsZXRlXG4gICAgLy8gdW5uZWNlc3Nhcnkgbm9kZXMsIGJ1dCB3ZSBuZXZlciB3YW50IHRvIGFzc29jaWF0ZSB0d28gZGlmZmVyZW50IHBhcnRzXG4gICAgLy8gdG8gdGhlIHNhbWUgaW5kZXguIFRoZXkgbXVzdCBoYXZlIGEgY29uc3RhbnQgbm9kZSBiZXR3ZWVuLlxuICAgIGxldCBsYXN0UGFydEluZGV4ID0gMDtcbiAgICBsZXQgaW5kZXggPSAtMTtcbiAgICBsZXQgcGFydEluZGV4ID0gMDtcbiAgICBjb25zdCB7c3RyaW5ncywgdmFsdWVzOiB7bGVuZ3RofX0gPSByZXN1bHQ7XG4gICAgd2hpbGUgKHBhcnRJbmRleCA8IGxlbmd0aCkge1xuICAgICAgY29uc3Qgbm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpIGFzIEVsZW1lbnQgfCBDb21tZW50IHwgVGV4dCB8IG51bGw7XG4gICAgICBpZiAobm9kZSA9PT0gbnVsbCkge1xuICAgICAgICAvLyBXZSd2ZSBleGhhdXN0ZWQgdGhlIGNvbnRlbnQgaW5zaWRlIGEgbmVzdGVkIHRlbXBsYXRlIGVsZW1lbnQuXG4gICAgICAgIC8vIEJlY2F1c2Ugd2Ugc3RpbGwgaGF2ZSBwYXJ0cyAodGhlIG91dGVyIGZvci1sb29wKSwgd2Uga25vdzpcbiAgICAgICAgLy8gLSBUaGVyZSBpcyBhIHRlbXBsYXRlIGluIHRoZSBzdGFja1xuICAgICAgICAvLyAtIFRoZSB3YWxrZXIgd2lsbCBmaW5kIGEgbmV4dE5vZGUgb3V0c2lkZSB0aGUgdGVtcGxhdGVcbiAgICAgICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gc3RhY2sucG9wKCkhO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGluZGV4Kys7XG5cbiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxIC8qIE5vZGUuRUxFTUVOVF9OT0RFICovKSB7XG4gICAgICAgIGlmICgobm9kZSBhcyBFbGVtZW50KS5oYXNBdHRyaWJ1dGVzKCkpIHtcbiAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gKG5vZGUgYXMgRWxlbWVudCkuYXR0cmlidXRlcztcbiAgICAgICAgICBjb25zdCB7bGVuZ3RofSA9IGF0dHJpYnV0ZXM7XG4gICAgICAgICAgLy8gUGVyXG4gICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL05hbWVkTm9kZU1hcCxcbiAgICAgICAgICAvLyBhdHRyaWJ1dGVzIGFyZSBub3QgZ3VhcmFudGVlZCB0byBiZSByZXR1cm5lZCBpbiBkb2N1bWVudCBvcmRlci5cbiAgICAgICAgICAvLyBJbiBwYXJ0aWN1bGFyLCBFZGdlL0lFIGNhbiByZXR1cm4gdGhlbSBvdXQgb2Ygb3JkZXIsIHNvIHdlIGNhbm5vdFxuICAgICAgICAgIC8vIGFzc3VtZSBhIGNvcnJlc3BvbmRlbmNlIGJldHdlZW4gcGFydCBpbmRleCBhbmQgYXR0cmlidXRlIGluZGV4LlxuICAgICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGVuZHNXaXRoKGF0dHJpYnV0ZXNbaV0ubmFtZSwgYm91bmRBdHRyaWJ1dGVTdWZmaXgpKSB7XG4gICAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHdoaWxlIChjb3VudC0tID4gMCkge1xuICAgICAgICAgICAgLy8gR2V0IHRoZSB0ZW1wbGF0ZSBsaXRlcmFsIHNlY3Rpb24gbGVhZGluZyB1cCB0byB0aGUgZmlyc3RcbiAgICAgICAgICAgIC8vIGV4cHJlc3Npb24gaW4gdGhpcyBhdHRyaWJ1dGVcbiAgICAgICAgICAgIGNvbnN0IHN0cmluZ0ZvclBhcnQgPSBzdHJpbmdzW3BhcnRJbmRleF07XG4gICAgICAgICAgICAvLyBGaW5kIHRoZSBhdHRyaWJ1dGUgbmFtZVxuICAgICAgICAgICAgY29uc3QgbmFtZSA9IGxhc3RBdHRyaWJ1dGVOYW1lUmVnZXguZXhlYyhzdHJpbmdGb3JQYXJ0KSFbMl07XG4gICAgICAgICAgICAvLyBGaW5kIHRoZSBjb3JyZXNwb25kaW5nIGF0dHJpYnV0ZVxuICAgICAgICAgICAgLy8gQWxsIGJvdW5kIGF0dHJpYnV0ZXMgaGF2ZSBoYWQgYSBzdWZmaXggYWRkZWQgaW5cbiAgICAgICAgICAgIC8vIFRlbXBsYXRlUmVzdWx0I2dldEhUTUwgdG8gb3B0IG91dCBvZiBzcGVjaWFsIGF0dHJpYnV0ZVxuICAgICAgICAgICAgLy8gaGFuZGxpbmcuIFRvIGxvb2sgdXAgdGhlIGF0dHJpYnV0ZSB2YWx1ZSB3ZSBhbHNvIG5lZWQgdG8gYWRkXG4gICAgICAgICAgICAvLyB0aGUgc3VmZml4LlxuICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlTG9va3VwTmFtZSA9XG4gICAgICAgICAgICAgICAgbmFtZS50b0xvd2VyQ2FzZSgpICsgYm91bmRBdHRyaWJ1dGVTdWZmaXg7XG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVWYWx1ZSA9XG4gICAgICAgICAgICAgICAgKG5vZGUgYXMgRWxlbWVudCkuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZUxvb2t1cE5hbWUpITtcbiAgICAgICAgICAgIChub2RlIGFzIEVsZW1lbnQpLnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGVMb29rdXBOYW1lKTtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRpY3MgPSBhdHRyaWJ1dGVWYWx1ZS5zcGxpdChtYXJrZXJSZWdleCk7XG4gICAgICAgICAgICB0aGlzLnBhcnRzLnB1c2goe3R5cGU6ICdhdHRyaWJ1dGUnLCBpbmRleCwgbmFtZSwgc3RyaW5nczogc3RhdGljc30pO1xuICAgICAgICAgICAgcGFydEluZGV4ICs9IHN0YXRpY3MubGVuZ3RoIC0gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChub2RlIGFzIEVsZW1lbnQpLnRhZ05hbWUgPT09ICdURU1QTEFURScpIHtcbiAgICAgICAgICBzdGFjay5wdXNoKG5vZGUpO1xuICAgICAgICAgIHdhbGtlci5jdXJyZW50Tm9kZSA9IChub2RlIGFzIEhUTUxUZW1wbGF0ZUVsZW1lbnQpLmNvbnRlbnQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMyAvKiBOb2RlLlRFWFRfTk9ERSAqLykge1xuICAgICAgICBjb25zdCBkYXRhID0gKG5vZGUgYXMgVGV4dCkuZGF0YTtcbiAgICAgICAgaWYgKGRhdGEuaW5kZXhPZihtYXJrZXIpID49IDApIHtcbiAgICAgICAgICBjb25zdCBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGUhO1xuICAgICAgICAgIGNvbnN0IHN0cmluZ3MgPSBkYXRhLnNwbGl0KG1hcmtlclJlZ2V4KTtcbiAgICAgICAgICBjb25zdCBsYXN0SW5kZXggPSBzdHJpbmdzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgLy8gR2VuZXJhdGUgYSBuZXcgdGV4dCBub2RlIGZvciBlYWNoIGxpdGVyYWwgc2VjdGlvblxuICAgICAgICAgIC8vIFRoZXNlIG5vZGVzIGFyZSBhbHNvIHVzZWQgYXMgdGhlIG1hcmtlcnMgZm9yIG5vZGUgcGFydHNcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxhc3RJbmRleDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgaW5zZXJ0OiBOb2RlO1xuICAgICAgICAgICAgbGV0IHMgPSBzdHJpbmdzW2ldO1xuICAgICAgICAgICAgaWYgKHMgPT09ICcnKSB7XG4gICAgICAgICAgICAgIGluc2VydCA9IGNyZWF0ZU1hcmtlcigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBsYXN0QXR0cmlidXRlTmFtZVJlZ2V4LmV4ZWMocyk7XG4gICAgICAgICAgICAgIGlmIChtYXRjaCAhPT0gbnVsbCAmJiBlbmRzV2l0aChtYXRjaFsyXSwgYm91bmRBdHRyaWJ1dGVTdWZmaXgpKSB7XG4gICAgICAgICAgICAgICAgcyA9IHMuc2xpY2UoMCwgbWF0Y2guaW5kZXgpICsgbWF0Y2hbMV0gK1xuICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXS5zbGljZSgwLCAtYm91bmRBdHRyaWJ1dGVTdWZmaXgubGVuZ3RoKSArIG1hdGNoWzNdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGluc2VydCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShpbnNlcnQsIG5vZGUpO1xuICAgICAgICAgICAgdGhpcy5wYXJ0cy5wdXNoKHt0eXBlOiAnbm9kZScsIGluZGV4OiArK2luZGV4fSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gdGV4dCwgd2UgbXVzdCBpbnNlcnQgYSBjb21tZW50IHRvIG1hcmsgb3VyIHBsYWNlLlxuICAgICAgICAgIC8vIEVsc2UsIHdlIGNhbiB0cnVzdCBpdCB3aWxsIHN0aWNrIGFyb3VuZCBhZnRlciBjbG9uaW5nLlxuICAgICAgICAgIGlmIChzdHJpbmdzW2xhc3RJbmRleF0gPT09ICcnKSB7XG4gICAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNyZWF0ZU1hcmtlcigpLCBub2RlKTtcbiAgICAgICAgICAgIG5vZGVzVG9SZW1vdmUucHVzaChub2RlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgKG5vZGUgYXMgVGV4dCkuZGF0YSA9IHN0cmluZ3NbbGFzdEluZGV4XTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gV2UgaGF2ZSBhIHBhcnQgZm9yIGVhY2ggbWF0Y2ggZm91bmRcbiAgICAgICAgICBwYXJ0SW5kZXggKz0gbGFzdEluZGV4O1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG5vZGUubm9kZVR5cGUgPT09IDggLyogTm9kZS5DT01NRU5UX05PREUgKi8pIHtcbiAgICAgICAgaWYgKChub2RlIGFzIENvbW1lbnQpLmRhdGEgPT09IG1hcmtlcikge1xuICAgICAgICAgIGNvbnN0IHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZSE7XG4gICAgICAgICAgLy8gQWRkIGEgbmV3IG1hcmtlciBub2RlIHRvIGJlIHRoZSBzdGFydE5vZGUgb2YgdGhlIFBhcnQgaWYgYW55IG9mXG4gICAgICAgICAgLy8gdGhlIGZvbGxvd2luZyBhcmUgdHJ1ZTpcbiAgICAgICAgICAvLyAgKiBXZSBkb24ndCBoYXZlIGEgcHJldmlvdXNTaWJsaW5nXG4gICAgICAgICAgLy8gICogVGhlIHByZXZpb3VzU2libGluZyBpcyBhbHJlYWR5IHRoZSBzdGFydCBvZiBhIHByZXZpb3VzIHBhcnRcbiAgICAgICAgICBpZiAobm9kZS5wcmV2aW91c1NpYmxpbmcgPT09IG51bGwgfHwgaW5kZXggPT09IGxhc3RQYXJ0SW5kZXgpIHtcbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNyZWF0ZU1hcmtlcigpLCBub2RlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGFzdFBhcnRJbmRleCA9IGluZGV4O1xuICAgICAgICAgIHRoaXMucGFydHMucHVzaCh7dHlwZTogJ25vZGUnLCBpbmRleH0pO1xuICAgICAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYSBuZXh0U2libGluZywga2VlcCB0aGlzIG5vZGUgc28gd2UgaGF2ZSBhbiBlbmQuXG4gICAgICAgICAgLy8gRWxzZSwgd2UgY2FuIHJlbW92ZSBpdCB0byBzYXZlIGZ1dHVyZSBjb3N0cy5cbiAgICAgICAgICBpZiAobm9kZS5uZXh0U2libGluZyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgKG5vZGUgYXMgQ29tbWVudCkuZGF0YSA9ICcnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBub2Rlc1RvUmVtb3ZlLnB1c2gobm9kZSk7XG4gICAgICAgICAgICBpbmRleC0tO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwYXJ0SW5kZXgrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZXQgaSA9IC0xO1xuICAgICAgICAgIHdoaWxlICgoaSA9IChub2RlIGFzIENvbW1lbnQpLmRhdGEuaW5kZXhPZihtYXJrZXIsIGkgKyAxKSkgIT09IC0xKSB7XG4gICAgICAgICAgICAvLyBDb21tZW50IG5vZGUgaGFzIGEgYmluZGluZyBtYXJrZXIgaW5zaWRlLCBtYWtlIGFuIGluYWN0aXZlIHBhcnRcbiAgICAgICAgICAgIC8vIFRoZSBiaW5kaW5nIHdvbid0IHdvcmssIGJ1dCBzdWJzZXF1ZW50IGJpbmRpbmdzIHdpbGxcbiAgICAgICAgICAgIC8vIFRPRE8gKGp1c3RpbmZhZ25hbmkpOiBjb25zaWRlciB3aGV0aGVyIGl0J3MgZXZlbiB3b3J0aCBpdCB0b1xuICAgICAgICAgICAgLy8gbWFrZSBiaW5kaW5ncyBpbiBjb21tZW50cyB3b3JrXG4gICAgICAgICAgICB0aGlzLnBhcnRzLnB1c2goe3R5cGU6ICdub2RlJywgaW5kZXg6IC0xfSk7XG4gICAgICAgICAgICBwYXJ0SW5kZXgrKztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgdGV4dCBiaW5kaW5nIG5vZGVzIGFmdGVyIHRoZSB3YWxrIHRvIG5vdCBkaXN0dXJiIHRoZSBUcmVlV2Fsa2VyXG4gICAgZm9yIChjb25zdCBuIG9mIG5vZGVzVG9SZW1vdmUpIHtcbiAgICAgIG4ucGFyZW50Tm9kZSEucmVtb3ZlQ2hpbGQobik7XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IGVuZHNXaXRoID0gKHN0cjogc3RyaW5nLCBzdWZmaXg6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICBjb25zdCBpbmRleCA9IHN0ci5sZW5ndGggLSBzdWZmaXgubGVuZ3RoO1xuICByZXR1cm4gaW5kZXggPj0gMCAmJiBzdHIuc2xpY2UoaW5kZXgpID09PSBzdWZmaXg7XG59O1xuXG4vKipcbiAqIEEgcGxhY2Vob2xkZXIgZm9yIGEgZHluYW1pYyBleHByZXNzaW9uIGluIGFuIEhUTUwgdGVtcGxhdGUuXG4gKlxuICogVGhlcmUgYXJlIHR3byBidWlsdC1pbiBwYXJ0IHR5cGVzOiBBdHRyaWJ1dGVQYXJ0IGFuZCBOb2RlUGFydC4gTm9kZVBhcnRzXG4gKiBhbHdheXMgcmVwcmVzZW50IGEgc2luZ2xlIGR5bmFtaWMgZXhwcmVzc2lvbiwgd2hpbGUgQXR0cmlidXRlUGFydHMgbWF5XG4gKiByZXByZXNlbnQgYXMgbWFueSBleHByZXNzaW9ucyBhcmUgY29udGFpbmVkIGluIHRoZSBhdHRyaWJ1dGUuXG4gKlxuICogQSBUZW1wbGF0ZSdzIHBhcnRzIGFyZSBtdXRhYmxlLCBzbyBwYXJ0cyBjYW4gYmUgcmVwbGFjZWQgb3IgbW9kaWZpZWRcbiAqIChwb3NzaWJseSB0byBpbXBsZW1lbnQgZGlmZmVyZW50IHRlbXBsYXRlIHNlbWFudGljcykuIFRoZSBjb250cmFjdCBpcyB0aGF0XG4gKiBwYXJ0cyBjYW4gb25seSBiZSByZXBsYWNlZCwgbm90IHJlbW92ZWQsIGFkZGVkIG9yIHJlb3JkZXJlZCwgYW5kIHBhcnRzIG11c3RcbiAqIGFsd2F5cyBjb25zdW1lIHRoZSBjb3JyZWN0IG51bWJlciBvZiB2YWx1ZXMgaW4gdGhlaXIgYHVwZGF0ZSgpYCBtZXRob2QuXG4gKlxuICogVE9ETyhqdXN0aW5mYWduYW5pKTogVGhhdCByZXF1aXJlbWVudCBpcyBhIGxpdHRsZSBmcmFnaWxlLiBBXG4gKiBUZW1wbGF0ZUluc3RhbmNlIGNvdWxkIGluc3RlYWQgYmUgbW9yZSBjYXJlZnVsIGFib3V0IHdoaWNoIHZhbHVlcyBpdCBnaXZlc1xuICogdG8gUGFydC51cGRhdGUoKS5cbiAqL1xuZXhwb3J0IHR5cGUgVGVtcGxhdGVQYXJ0ID0ge1xuICByZWFkb25seSB0eXBlOiAnbm9kZScsXG4gIGluZGV4OiBudW1iZXJcbn18e3JlYWRvbmx5IHR5cGU6ICdhdHRyaWJ1dGUnLCBpbmRleDogbnVtYmVyLCByZWFkb25seSBuYW1lOiBzdHJpbmcsIHJlYWRvbmx5IHN0cmluZ3M6IFJlYWRvbmx5QXJyYXk8c3RyaW5nPn07XG5cbmV4cG9ydCBjb25zdCBpc1RlbXBsYXRlUGFydEFjdGl2ZSA9IChwYXJ0OiBUZW1wbGF0ZVBhcnQpID0+IHBhcnQuaW5kZXggIT09IC0xO1xuXG4vLyBBbGxvd3MgYGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJycpYCB0byBiZSByZW5hbWVkIGZvciBhXG4vLyBzbWFsbCBtYW51YWwgc2l6ZS1zYXZpbmdzLlxuZXhwb3J0IGNvbnN0IGNyZWF0ZU1hcmtlciA9ICgpID0+IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJycpO1xuXG4vKipcbiAqIFRoaXMgcmVnZXggZXh0cmFjdHMgdGhlIGF0dHJpYnV0ZSBuYW1lIHByZWNlZGluZyBhbiBhdHRyaWJ1dGUtcG9zaXRpb25cbiAqIGV4cHJlc3Npb24uIEl0IGRvZXMgdGhpcyBieSBtYXRjaGluZyB0aGUgc3ludGF4IGFsbG93ZWQgZm9yIGF0dHJpYnV0ZXNcbiAqIGFnYWluc3QgdGhlIHN0cmluZyBsaXRlcmFsIGRpcmVjdGx5IHByZWNlZGluZyB0aGUgZXhwcmVzc2lvbiwgYXNzdW1pbmcgdGhhdFxuICogdGhlIGV4cHJlc3Npb24gaXMgaW4gYW4gYXR0cmlidXRlLXZhbHVlIHBvc2l0aW9uLlxuICpcbiAqIFNlZSBhdHRyaWJ1dGVzIGluIHRoZSBIVE1MIHNwZWM6XG4gKiBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvc3ludGF4Lmh0bWwjZWxlbWVudHMtYXR0cmlidXRlc1xuICpcbiAqIFwiIFxceDA5XFx4MGFcXHgwY1xceDBkXCIgYXJlIEhUTUwgc3BhY2UgY2hhcmFjdGVyczpcbiAqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9pbmZyYXN0cnVjdHVyZS5odG1sI3NwYWNlLWNoYXJhY3RlcnNcbiAqXG4gKiBcIlxcMC1cXHgxRlxceDdGLVxceDlGXCIgYXJlIFVuaWNvZGUgY29udHJvbCBjaGFyYWN0ZXJzLCB3aGljaCBpbmNsdWRlcyBldmVyeVxuICogc3BhY2UgY2hhcmFjdGVyIGV4Y2VwdCBcIiBcIi5cbiAqXG4gKiBTbyBhbiBhdHRyaWJ1dGUgaXM6XG4gKiAgKiBUaGUgbmFtZTogYW55IGNoYXJhY3RlciBleGNlcHQgYSBjb250cm9sIGNoYXJhY3Rlciwgc3BhY2UgY2hhcmFjdGVyLCAoJyksXG4gKiAgICAoXCIpLCBcIj5cIiwgXCI9XCIsIG9yIFwiL1wiXG4gKiAgKiBGb2xsb3dlZCBieSB6ZXJvIG9yIG1vcmUgc3BhY2UgY2hhcmFjdGVyc1xuICogICogRm9sbG93ZWQgYnkgXCI9XCJcbiAqICAqIEZvbGxvd2VkIGJ5IHplcm8gb3IgbW9yZSBzcGFjZSBjaGFyYWN0ZXJzXG4gKiAgKiBGb2xsb3dlZCBieTpcbiAqICAgICogQW55IGNoYXJhY3RlciBleGNlcHQgc3BhY2UsICgnKSwgKFwiKSwgXCI8XCIsIFwiPlwiLCBcIj1cIiwgKGApLCBvclxuICogICAgKiAoXCIpIHRoZW4gYW55IG5vbi0oXCIpLCBvclxuICogICAgKiAoJykgdGhlbiBhbnkgbm9uLSgnKVxuICovXG5leHBvcnQgY29uc3QgbGFzdEF0dHJpYnV0ZU5hbWVSZWdleCA9XG4gICAgLyhbIFxceDA5XFx4MGFcXHgwY1xceDBkXSkoW15cXDAtXFx4MUZcXHg3Ri1cXHg5RiBcIic+PS9dKykoWyBcXHgwOVxceDBhXFx4MGNcXHgwZF0qPVsgXFx4MDlcXHgwYVxceDBjXFx4MGRdKig/OlteIFxceDA5XFx4MGFcXHgwY1xceDBkXCInYDw+PV0qfFwiW15cIl0qfCdbXiddKikpJC87XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5cbmltcG9ydCB7aXNDRVBvbHlmaWxsfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQge1BhcnR9IGZyb20gJy4vcGFydC5qcyc7XG5pbXBvcnQge1JlbmRlck9wdGlvbnN9IGZyb20gJy4vcmVuZGVyLW9wdGlvbnMuanMnO1xuaW1wb3J0IHtUZW1wbGF0ZVByb2Nlc3Nvcn0gZnJvbSAnLi90ZW1wbGF0ZS1wcm9jZXNzb3IuanMnO1xuaW1wb3J0IHtpc1RlbXBsYXRlUGFydEFjdGl2ZSwgVGVtcGxhdGUsIFRlbXBsYXRlUGFydH0gZnJvbSAnLi90ZW1wbGF0ZS5qcyc7XG5cbi8qKlxuICogQW4gaW5zdGFuY2Ugb2YgYSBgVGVtcGxhdGVgIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIHRoZSBET00gYW5kIHVwZGF0ZWRcbiAqIHdpdGggbmV3IHZhbHVlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFRlbXBsYXRlSW5zdGFuY2Uge1xuICBwcml2YXRlIHJlYWRvbmx5IF9fcGFydHM6IEFycmF5PFBhcnR8dW5kZWZpbmVkPiA9IFtdO1xuICByZWFkb25seSBwcm9jZXNzb3I6IFRlbXBsYXRlUHJvY2Vzc29yO1xuICByZWFkb25seSBvcHRpb25zOiBSZW5kZXJPcHRpb25zO1xuICByZWFkb25seSB0ZW1wbGF0ZTogVGVtcGxhdGU7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgICB0ZW1wbGF0ZTogVGVtcGxhdGUsIHByb2Nlc3NvcjogVGVtcGxhdGVQcm9jZXNzb3IsXG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zKSB7XG4gICAgdGhpcy50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgIHRoaXMucHJvY2Vzc29yID0gcHJvY2Vzc29yO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gIH1cblxuICB1cGRhdGUodmFsdWVzOiBSZWFkb25seUFycmF5PHVua25vd24+KSB7XG4gICAgbGV0IGkgPSAwO1xuICAgIGZvciAoY29uc3QgcGFydCBvZiB0aGlzLl9fcGFydHMpIHtcbiAgICAgIGlmIChwYXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcGFydC5zZXRWYWx1ZSh2YWx1ZXNbaV0pO1xuICAgICAgfVxuICAgICAgaSsrO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IHBhcnQgb2YgdGhpcy5fX3BhcnRzKSB7XG4gICAgICBpZiAocGFydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHBhcnQuY29tbWl0KCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX2Nsb25lKCk6IERvY3VtZW50RnJhZ21lbnQge1xuICAgIC8vIFRoZXJlIGFyZSBhIG51bWJlciBvZiBzdGVwcyBpbiB0aGUgbGlmZWN5Y2xlIG9mIGEgdGVtcGxhdGUgaW5zdGFuY2Unc1xuICAgIC8vIERPTSBmcmFnbWVudDpcbiAgICAvLyAgMS4gQ2xvbmUgLSBjcmVhdGUgdGhlIGluc3RhbmNlIGZyYWdtZW50XG4gICAgLy8gIDIuIEFkb3B0IC0gYWRvcHQgaW50byB0aGUgbWFpbiBkb2N1bWVudFxuICAgIC8vICAzLiBQcm9jZXNzIC0gZmluZCBwYXJ0IG1hcmtlcnMgYW5kIGNyZWF0ZSBwYXJ0c1xuICAgIC8vICA0LiBVcGdyYWRlIC0gdXBncmFkZSBjdXN0b20gZWxlbWVudHNcbiAgICAvLyAgNS4gVXBkYXRlIC0gc2V0IG5vZGUsIGF0dHJpYnV0ZSwgcHJvcGVydHksIGV0Yy4sIHZhbHVlc1xuICAgIC8vICA2LiBDb25uZWN0IC0gY29ubmVjdCB0byB0aGUgZG9jdW1lbnQuIE9wdGlvbmFsIGFuZCBvdXRzaWRlIG9mIHRoaXNcbiAgICAvLyAgICAgbWV0aG9kLlxuICAgIC8vXG4gICAgLy8gV2UgaGF2ZSBhIGZldyBjb25zdHJhaW50cyBvbiB0aGUgb3JkZXJpbmcgb2YgdGhlc2Ugc3RlcHM6XG4gICAgLy8gICogV2UgbmVlZCB0byB1cGdyYWRlIGJlZm9yZSB1cGRhdGluZywgc28gdGhhdCBwcm9wZXJ0eSB2YWx1ZXMgd2lsbCBwYXNzXG4gICAgLy8gICAgdGhyb3VnaCBhbnkgcHJvcGVydHkgc2V0dGVycy5cbiAgICAvLyAgKiBXZSB3b3VsZCBsaWtlIHRvIHByb2Nlc3MgYmVmb3JlIHVwZ3JhZGluZyBzbyB0aGF0IHdlJ3JlIHN1cmUgdGhhdCB0aGVcbiAgICAvLyAgICBjbG9uZWQgZnJhZ21lbnQgaXMgaW5lcnQgYW5kIG5vdCBkaXN0dXJiZWQgYnkgc2VsZi1tb2RpZnlpbmcgRE9NLlxuICAgIC8vICAqIFdlIHdhbnQgY3VzdG9tIGVsZW1lbnRzIHRvIHVwZ3JhZGUgZXZlbiBpbiBkaXNjb25uZWN0ZWQgZnJhZ21lbnRzLlxuICAgIC8vXG4gICAgLy8gR2l2ZW4gdGhlc2UgY29uc3RyYWludHMsIHdpdGggZnVsbCBjdXN0b20gZWxlbWVudHMgc3VwcG9ydCB3ZSB3b3VsZFxuICAgIC8vIHByZWZlciB0aGUgb3JkZXI6IENsb25lLCBQcm9jZXNzLCBBZG9wdCwgVXBncmFkZSwgVXBkYXRlLCBDb25uZWN0XG4gICAgLy9cbiAgICAvLyBCdXQgU2FmYXJpIGRvb2VzIG5vdCBpbXBsZW1lbnQgQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5I3VwZ3JhZGUsIHNvIHdlXG4gICAgLy8gY2FuIG5vdCBpbXBsZW1lbnQgdGhhdCBvcmRlciBhbmQgc3RpbGwgaGF2ZSB1cGdyYWRlLWJlZm9yZS11cGRhdGUgYW5kXG4gICAgLy8gdXBncmFkZSBkaXNjb25uZWN0ZWQgZnJhZ21lbnRzLiBTbyB3ZSBpbnN0ZWFkIHNhY3JpZmljZSB0aGVcbiAgICAvLyBwcm9jZXNzLWJlZm9yZS11cGdyYWRlIGNvbnN0cmFpbnQsIHNpbmNlIGluIEN1c3RvbSBFbGVtZW50cyB2MSBlbGVtZW50c1xuICAgIC8vIG11c3Qgbm90IG1vZGlmeSB0aGVpciBsaWdodCBET00gaW4gdGhlIGNvbnN0cnVjdG9yLiBXZSBzdGlsbCBoYXZlIGlzc3Vlc1xuICAgIC8vIHdoZW4gY28tZXhpc3Rpbmcgd2l0aCBDRXYwIGVsZW1lbnRzIGxpa2UgUG9seW1lciAxLCBhbmQgd2l0aCBwb2x5ZmlsbHNcbiAgICAvLyB0aGF0IGRvbid0IHN0cmljdGx5IGFkaGVyZSB0byB0aGUgbm8tbW9kaWZpY2F0aW9uIHJ1bGUgYmVjYXVzZSBzaGFkb3dcbiAgICAvLyBET00sIHdoaWNoIG1heSBiZSBjcmVhdGVkIGluIHRoZSBjb25zdHJ1Y3RvciwgaXMgZW11bGF0ZWQgYnkgYmVpbmcgcGxhY2VkXG4gICAgLy8gaW4gdGhlIGxpZ2h0IERPTS5cbiAgICAvL1xuICAgIC8vIFRoZSByZXN1bHRpbmcgb3JkZXIgaXMgb24gbmF0aXZlIGlzOiBDbG9uZSwgQWRvcHQsIFVwZ3JhZGUsIFByb2Nlc3MsXG4gICAgLy8gVXBkYXRlLCBDb25uZWN0LiBkb2N1bWVudC5pbXBvcnROb2RlKCkgcGVyZm9ybXMgQ2xvbmUsIEFkb3B0LCBhbmQgVXBncmFkZVxuICAgIC8vIGluIG9uZSBzdGVwLlxuICAgIC8vXG4gICAgLy8gVGhlIEN1c3RvbSBFbGVtZW50cyB2MSBwb2x5ZmlsbCBzdXBwb3J0cyB1cGdyYWRlKCksIHNvIHRoZSBvcmRlciB3aGVuXG4gICAgLy8gcG9seWZpbGxlZCBpcyB0aGUgbW9yZSBpZGVhbDogQ2xvbmUsIFByb2Nlc3MsIEFkb3B0LCBVcGdyYWRlLCBVcGRhdGUsXG4gICAgLy8gQ29ubmVjdC5cblxuICAgIGNvbnN0IGZyYWdtZW50ID0gaXNDRVBvbHlmaWxsID9cbiAgICAgICAgdGhpcy50ZW1wbGF0ZS5lbGVtZW50LmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpIGFzIERvY3VtZW50RnJhZ21lbnQgOlxuICAgICAgICBkb2N1bWVudC5pbXBvcnROb2RlKHRoaXMudGVtcGxhdGUuZWxlbWVudC5jb250ZW50LCB0cnVlKTtcblxuICAgIGNvbnN0IHN0YWNrOiBOb2RlW10gPSBbXTtcbiAgICBjb25zdCBwYXJ0cyA9IHRoaXMudGVtcGxhdGUucGFydHM7XG4gICAgLy8gRWRnZSBuZWVkcyBhbGwgNCBwYXJhbWV0ZXJzIHByZXNlbnQ7IElFMTEgbmVlZHMgM3JkIHBhcmFtZXRlciB0byBiZSBudWxsXG4gICAgY29uc3Qgd2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihcbiAgICAgICAgZnJhZ21lbnQsXG4gICAgICAgIDEzMyAvKiBOb2RlRmlsdGVyLlNIT1dfe0VMRU1FTlR8Q09NTUVOVHxURVhUfSAqLyxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgZmFsc2UpO1xuICAgIGxldCBwYXJ0SW5kZXggPSAwO1xuICAgIGxldCBub2RlSW5kZXggPSAwO1xuICAgIGxldCBwYXJ0OiBUZW1wbGF0ZVBhcnQ7XG4gICAgbGV0IG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKTtcbiAgICAvLyBMb29wIHRocm91Z2ggYWxsIHRoZSBub2RlcyBhbmQgcGFydHMgb2YgYSB0ZW1wbGF0ZVxuICAgIHdoaWxlIChwYXJ0SW5kZXggPCBwYXJ0cy5sZW5ndGgpIHtcbiAgICAgIHBhcnQgPSBwYXJ0c1twYXJ0SW5kZXhdO1xuICAgICAgaWYgKCFpc1RlbXBsYXRlUGFydEFjdGl2ZShwYXJ0KSkge1xuICAgICAgICB0aGlzLl9fcGFydHMucHVzaCh1bmRlZmluZWQpO1xuICAgICAgICBwYXJ0SW5kZXgrKztcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIFByb2dyZXNzIHRoZSB0cmVlIHdhbGtlciB1bnRpbCB3ZSBmaW5kIG91ciBuZXh0IHBhcnQncyBub2RlLlxuICAgICAgLy8gTm90ZSB0aGF0IG11bHRpcGxlIHBhcnRzIG1heSBzaGFyZSB0aGUgc2FtZSBub2RlIChhdHRyaWJ1dGUgcGFydHNcbiAgICAgIC8vIG9uIGEgc2luZ2xlIGVsZW1lbnQpLCBzbyB0aGlzIGxvb3AgbWF5IG5vdCBydW4gYXQgYWxsLlxuICAgICAgd2hpbGUgKG5vZGVJbmRleCA8IHBhcnQuaW5kZXgpIHtcbiAgICAgICAgbm9kZUluZGV4Kys7XG4gICAgICAgIGlmIChub2RlIS5ub2RlTmFtZSA9PT0gJ1RFTVBMQVRFJykge1xuICAgICAgICAgIHN0YWNrLnB1c2gobm9kZSEpO1xuICAgICAgICAgIHdhbGtlci5jdXJyZW50Tm9kZSA9IChub2RlIGFzIEhUTUxUZW1wbGF0ZUVsZW1lbnQpLmNvbnRlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChub2RlID0gd2Fsa2VyLm5leHROb2RlKCkpID09PSBudWxsKSB7XG4gICAgICAgICAgLy8gV2UndmUgZXhoYXVzdGVkIHRoZSBjb250ZW50IGluc2lkZSBhIG5lc3RlZCB0ZW1wbGF0ZSBlbGVtZW50LlxuICAgICAgICAgIC8vIEJlY2F1c2Ugd2Ugc3RpbGwgaGF2ZSBwYXJ0cyAodGhlIG91dGVyIGZvci1sb29wKSwgd2Uga25vdzpcbiAgICAgICAgICAvLyAtIFRoZXJlIGlzIGEgdGVtcGxhdGUgaW4gdGhlIHN0YWNrXG4gICAgICAgICAgLy8gLSBUaGUgd2Fsa2VyIHdpbGwgZmluZCBhIG5leHROb2RlIG91dHNpZGUgdGhlIHRlbXBsYXRlXG4gICAgICAgICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gc3RhY2sucG9wKCkhO1xuICAgICAgICAgIG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBXZSd2ZSBhcnJpdmVkIGF0IG91ciBwYXJ0J3Mgbm9kZS5cbiAgICAgIGlmIChwYXJ0LnR5cGUgPT09ICdub2RlJykge1xuICAgICAgICBjb25zdCBwYXJ0ID0gdGhpcy5wcm9jZXNzb3IuaGFuZGxlVGV4dEV4cHJlc3Npb24odGhpcy5vcHRpb25zKTtcbiAgICAgICAgcGFydC5pbnNlcnRBZnRlck5vZGUobm9kZSEucHJldmlvdXNTaWJsaW5nISk7XG4gICAgICAgIHRoaXMuX19wYXJ0cy5wdXNoKHBhcnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fX3BhcnRzLnB1c2goLi4udGhpcy5wcm9jZXNzb3IuaGFuZGxlQXR0cmlidXRlRXhwcmVzc2lvbnMoXG4gICAgICAgICAgICBub2RlIGFzIEVsZW1lbnQsIHBhcnQubmFtZSwgcGFydC5zdHJpbmdzLCB0aGlzLm9wdGlvbnMpKTtcbiAgICAgIH1cbiAgICAgIHBhcnRJbmRleCsrO1xuICAgIH1cblxuICAgIGlmIChpc0NFUG9seWZpbGwpIHtcbiAgICAgIGRvY3VtZW50LmFkb3B0Tm9kZShmcmFnbWVudCk7XG4gICAgICBjdXN0b21FbGVtZW50cy51cGdyYWRlKGZyYWdtZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIGZyYWdtZW50O1xuICB9XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5cbmltcG9ydCB7cmVwYXJlbnROb2Rlc30gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHtUZW1wbGF0ZVByb2Nlc3Nvcn0gZnJvbSAnLi90ZW1wbGF0ZS1wcm9jZXNzb3IuanMnO1xuaW1wb3J0IHtib3VuZEF0dHJpYnV0ZVN1ZmZpeCwgbGFzdEF0dHJpYnV0ZU5hbWVSZWdleCwgbWFya2VyLCBub2RlTWFya2VyfSBmcm9tICcuL3RlbXBsYXRlLmpzJztcblxuLyoqXG4gKiBUaGUgcmV0dXJuIHR5cGUgb2YgYGh0bWxgLCB3aGljaCBob2xkcyBhIFRlbXBsYXRlIGFuZCB0aGUgdmFsdWVzIGZyb21cbiAqIGludGVycG9sYXRlZCBleHByZXNzaW9ucy5cbiAqL1xuZXhwb3J0IGNsYXNzIFRlbXBsYXRlUmVzdWx0IHtcbiAgcmVhZG9ubHkgc3RyaW5nczogVGVtcGxhdGVTdHJpbmdzQXJyYXk7XG4gIHJlYWRvbmx5IHZhbHVlczogUmVhZG9ubHlBcnJheTx1bmtub3duPjtcbiAgcmVhZG9ubHkgdHlwZTogc3RyaW5nO1xuICByZWFkb25seSBwcm9jZXNzb3I6IFRlbXBsYXRlUHJvY2Vzc29yO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgICAgc3RyaW5nczogVGVtcGxhdGVTdHJpbmdzQXJyYXksIHZhbHVlczogUmVhZG9ubHlBcnJheTx1bmtub3duPixcbiAgICAgIHR5cGU6IHN0cmluZywgcHJvY2Vzc29yOiBUZW1wbGF0ZVByb2Nlc3Nvcikge1xuICAgIHRoaXMuc3RyaW5ncyA9IHN0cmluZ3M7XG4gICAgdGhpcy52YWx1ZXMgPSB2YWx1ZXM7XG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICB0aGlzLnByb2Nlc3NvciA9IHByb2Nlc3NvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgc3RyaW5nIG9mIEhUTUwgdXNlZCB0byBjcmVhdGUgYSBgPHRlbXBsYXRlPmAgZWxlbWVudC5cbiAgICovXG4gIGdldEhUTUwoKTogc3RyaW5nIHtcbiAgICBjb25zdCBsID0gdGhpcy5zdHJpbmdzLmxlbmd0aCAtIDE7XG4gICAgbGV0IGh0bWwgPSAnJztcbiAgICBsZXQgaXNDb21tZW50QmluZGluZyA9IGZhbHNlO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgIGNvbnN0IHMgPSB0aGlzLnN0cmluZ3NbaV07XG4gICAgICAvLyBGb3IgZWFjaCBiaW5kaW5nIHdlIHdhbnQgdG8gZGV0ZXJtaW5lIHRoZSBraW5kIG9mIG1hcmtlciB0byBpbnNlcnRcbiAgICAgIC8vIGludG8gdGhlIHRlbXBsYXRlIHNvdXJjZSBiZWZvcmUgaXQncyBwYXJzZWQgYnkgdGhlIGJyb3dzZXIncyBIVE1MXG4gICAgICAvLyBwYXJzZXIuIFRoZSBtYXJrZXIgdHlwZSBpcyBiYXNlZCBvbiB3aGV0aGVyIHRoZSBleHByZXNzaW9uIGlzIGluIGFuXG4gICAgICAvLyBhdHRyaWJ1dGUsIHRleHQsIG9yIGNvbW1lbnQgcG9pc2l0aW9uLlxuICAgICAgLy8gICAqIEZvciBub2RlLXBvc2l0aW9uIGJpbmRpbmdzIHdlIGluc2VydCBhIGNvbW1lbnQgd2l0aCB0aGUgbWFya2VyXG4gICAgICAvLyAgICAgc2VudGluZWwgYXMgaXRzIHRleHQgY29udGVudCwgbGlrZSA8IS0te3tsaXQtZ3VpZH19LS0+LlxuICAgICAgLy8gICAqIEZvciBhdHRyaWJ1dGUgYmluZGluZ3Mgd2UgaW5zZXJ0IGp1c3QgdGhlIG1hcmtlciBzZW50aW5lbCBmb3IgdGhlXG4gICAgICAvLyAgICAgZmlyc3QgYmluZGluZywgc28gdGhhdCB3ZSBzdXBwb3J0IHVucXVvdGVkIGF0dHJpYnV0ZSBiaW5kaW5ncy5cbiAgICAgIC8vICAgICBTdWJzZXF1ZW50IGJpbmRpbmdzIGNhbiB1c2UgYSBjb21tZW50IG1hcmtlciBiZWNhdXNlIG11bHRpLWJpbmRpbmdcbiAgICAgIC8vICAgICBhdHRyaWJ1dGVzIG11c3QgYmUgcXVvdGVkLlxuICAgICAgLy8gICAqIEZvciBjb21tZW50IGJpbmRpbmdzIHdlIGluc2VydCBqdXN0IHRoZSBtYXJrZXIgc2VudGluZWwgc28gd2UgZG9uJ3RcbiAgICAgIC8vICAgICBjbG9zZSB0aGUgY29tbWVudC5cbiAgICAgIC8vXG4gICAgICAvLyBUaGUgZm9sbG93aW5nIGNvZGUgc2NhbnMgdGhlIHRlbXBsYXRlIHNvdXJjZSwgYnV0IGlzICpub3QqIGFuIEhUTUxcbiAgICAgIC8vIHBhcnNlci4gV2UgZG9uJ3QgbmVlZCB0byB0cmFjayB0aGUgdHJlZSBzdHJ1Y3R1cmUgb2YgdGhlIEhUTUwsIG9ubHlcbiAgICAgIC8vIHdoZXRoZXIgYSBiaW5kaW5nIGlzIGluc2lkZSBhIGNvbW1lbnQsIGFuZCBpZiBub3QsIGlmIGl0IGFwcGVhcnMgdG8gYmVcbiAgICAgIC8vIHRoZSBmaXJzdCBiaW5kaW5nIGluIGFuIGF0dHJpYnV0ZS5cbiAgICAgIGNvbnN0IGNvbW1lbnRPcGVuID0gcy5sYXN0SW5kZXhPZignPCEtLScpO1xuICAgICAgLy8gV2UncmUgaW4gY29tbWVudCBwb3NpdGlvbiBpZiB3ZSBoYXZlIGEgY29tbWVudCBvcGVuIHdpdGggbm8gZm9sbG93aW5nXG4gICAgICAvLyBjb21tZW50IGNsb3NlLiBCZWNhdXNlIDwtLSBjYW4gYXBwZWFyIGluIGFuIGF0dHJpYnV0ZSB2YWx1ZSB0aGVyZSBjYW5cbiAgICAgIC8vIGJlIGZhbHNlIHBvc2l0aXZlcy5cbiAgICAgIGlzQ29tbWVudEJpbmRpbmcgPSAoY29tbWVudE9wZW4gPiAtMSB8fCBpc0NvbW1lbnRCaW5kaW5nKSAmJlxuICAgICAgICAgIHMuaW5kZXhPZignLS0+JywgY29tbWVudE9wZW4gKyAxKSA9PT0gLTE7XG4gICAgICAvLyBDaGVjayB0byBzZWUgaWYgd2UgaGF2ZSBhbiBhdHRyaWJ1dGUtbGlrZSBzZXF1ZW5jZSBwcmVjZWVkaW5nIHRoZVxuICAgICAgLy8gZXhwcmVzc2lvbi4gVGhpcyBjYW4gbWF0Y2ggXCJuYW1lPXZhbHVlXCIgbGlrZSBzdHJ1Y3R1cmVzIGluIHRleHQsXG4gICAgICAvLyBjb21tZW50cywgYW5kIGF0dHJpYnV0ZSB2YWx1ZXMsIHNvIHRoZXJlIGNhbiBiZSBmYWxzZS1wb3NpdGl2ZXMuXG4gICAgICBjb25zdCBhdHRyaWJ1dGVNYXRjaCA9IGxhc3RBdHRyaWJ1dGVOYW1lUmVnZXguZXhlYyhzKTtcbiAgICAgIGlmIChhdHRyaWJ1dGVNYXRjaCA9PT0gbnVsbCkge1xuICAgICAgICAvLyBXZSdyZSBvbmx5IGluIHRoaXMgYnJhbmNoIGlmIHdlIGRvbid0IGhhdmUgYSBhdHRyaWJ1dGUtbGlrZVxuICAgICAgICAvLyBwcmVjZWVkaW5nIHNlcXVlbmNlLiBGb3IgY29tbWVudHMsIHRoaXMgZ3VhcmRzIGFnYWluc3QgdW51c3VhbFxuICAgICAgICAvLyBhdHRyaWJ1dGUgdmFsdWVzIGxpa2UgPGRpdiBmb289XCI8IS0tJHsnYmFyJ31cIj4uIENhc2VzIGxpa2VcbiAgICAgICAgLy8gPCEtLSBmb289JHsnYmFyJ30tLT4gYXJlIGhhbmRsZWQgY29ycmVjdGx5IGluIHRoZSBhdHRyaWJ1dGUgYnJhbmNoXG4gICAgICAgIC8vIGJlbG93LlxuICAgICAgICBodG1sICs9IHMgKyAoaXNDb21tZW50QmluZGluZyA/IG1hcmtlciA6IG5vZGVNYXJrZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRm9yIGF0dHJpYnV0ZXMgd2UgdXNlIGp1c3QgYSBtYXJrZXIgc2VudGluZWwsIGFuZCBhbHNvIGFwcGVuZCBhXG4gICAgICAgIC8vICRsaXQkIHN1ZmZpeCB0byB0aGUgbmFtZSB0byBvcHQtb3V0IG9mIGF0dHJpYnV0ZS1zcGVjaWZpYyBwYXJzaW5nXG4gICAgICAgIC8vIHRoYXQgSUUgYW5kIEVkZ2UgZG8gZm9yIHN0eWxlIGFuZCBjZXJ0YWluIFNWRyBhdHRyaWJ1dGVzLlxuICAgICAgICBodG1sICs9IHMuc3Vic3RyKDAsIGF0dHJpYnV0ZU1hdGNoLmluZGV4KSArIGF0dHJpYnV0ZU1hdGNoWzFdICtcbiAgICAgICAgICAgIGF0dHJpYnV0ZU1hdGNoWzJdICsgYm91bmRBdHRyaWJ1dGVTdWZmaXggKyBhdHRyaWJ1dGVNYXRjaFszXSArXG4gICAgICAgICAgICBtYXJrZXI7XG4gICAgICB9XG4gICAgfVxuICAgIGh0bWwgKz0gdGhpcy5zdHJpbmdzW2xdO1xuICAgIHJldHVybiBodG1sO1xuICB9XG5cbiAgZ2V0VGVtcGxhdGVFbGVtZW50KCk6IEhUTUxUZW1wbGF0ZUVsZW1lbnQge1xuICAgIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbiAgICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSB0aGlzLmdldEhUTUwoKTtcbiAgICByZXR1cm4gdGVtcGxhdGU7XG4gIH1cbn1cblxuLyoqXG4gKiBBIFRlbXBsYXRlUmVzdWx0IGZvciBTVkcgZnJhZ21lbnRzLlxuICpcbiAqIFRoaXMgY2xhc3Mgd3JhcHMgSFRNTCBpbiBhbiBgPHN2Zz5gIHRhZyBpbiBvcmRlciB0byBwYXJzZSBpdHMgY29udGVudHMgaW4gdGhlXG4gKiBTVkcgbmFtZXNwYWNlLCB0aGVuIG1vZGlmaWVzIHRoZSB0ZW1wbGF0ZSB0byByZW1vdmUgdGhlIGA8c3ZnPmAgdGFnIHNvIHRoYXRcbiAqIGNsb25lcyBvbmx5IGNvbnRhaW5lciB0aGUgb3JpZ2luYWwgZnJhZ21lbnQuXG4gKi9cbmV4cG9ydCBjbGFzcyBTVkdUZW1wbGF0ZVJlc3VsdCBleHRlbmRzIFRlbXBsYXRlUmVzdWx0IHtcbiAgZ2V0SFRNTCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBgPHN2Zz4ke3N1cGVyLmdldEhUTUwoKX08L3N2Zz5gO1xuICB9XG5cbiAgZ2V0VGVtcGxhdGVFbGVtZW50KCk6IEhUTUxUZW1wbGF0ZUVsZW1lbnQge1xuICAgIGNvbnN0IHRlbXBsYXRlID0gc3VwZXIuZ2V0VGVtcGxhdGVFbGVtZW50KCk7XG4gICAgY29uc3QgY29udGVudCA9IHRlbXBsYXRlLmNvbnRlbnQ7XG4gICAgY29uc3Qgc3ZnRWxlbWVudCA9IGNvbnRlbnQuZmlyc3RDaGlsZCE7XG4gICAgY29udGVudC5yZW1vdmVDaGlsZChzdmdFbGVtZW50KTtcbiAgICByZXBhcmVudE5vZGVzKGNvbnRlbnQsIHN2Z0VsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgcmV0dXJuIHRlbXBsYXRlO1xuICB9XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5cbmltcG9ydCB7aXNEaXJlY3RpdmV9IGZyb20gJy4vZGlyZWN0aXZlLmpzJztcbmltcG9ydCB7cmVtb3ZlTm9kZXN9IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7bm9DaGFuZ2UsIG5vdGhpbmcsIFBhcnR9IGZyb20gJy4vcGFydC5qcyc7XG5pbXBvcnQge1JlbmRlck9wdGlvbnN9IGZyb20gJy4vcmVuZGVyLW9wdGlvbnMuanMnO1xuaW1wb3J0IHtUZW1wbGF0ZUluc3RhbmNlfSBmcm9tICcuL3RlbXBsYXRlLWluc3RhbmNlLmpzJztcbmltcG9ydCB7VGVtcGxhdGVSZXN1bHR9IGZyb20gJy4vdGVtcGxhdGUtcmVzdWx0LmpzJztcbmltcG9ydCB7Y3JlYXRlTWFya2VyfSBmcm9tICcuL3RlbXBsYXRlLmpzJztcblxuLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtdHlwZW9mLW9wZXJhdG9yXG5leHBvcnQgdHlwZSBQcmltaXRpdmUgPSBudWxsfHVuZGVmaW5lZHxib29sZWFufG51bWJlcnxzdHJpbmd8U3ltYm9sfGJpZ2ludDtcbmV4cG9ydCBjb25zdCBpc1ByaW1pdGl2ZSA9ICh2YWx1ZTogdW5rbm93bik6IHZhbHVlIGlzIFByaW1pdGl2ZSA9PiB7XG4gIHJldHVybiAoXG4gICAgICB2YWx1ZSA9PT0gbnVsbCB8fFxuICAgICAgISh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykpO1xufTtcbmV4cG9ydCBjb25zdCBpc0l0ZXJhYmxlID0gKHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgSXRlcmFibGU8dW5rbm93bj4gPT4ge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgfHxcbiAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgICAgICEhKHZhbHVlICYmICh2YWx1ZSBhcyBhbnkpW1N5bWJvbC5pdGVyYXRvcl0pO1xufTtcblxuLyoqXG4gKiBXcml0ZXMgYXR0cmlidXRlIHZhbHVlcyB0byB0aGUgRE9NIGZvciBhIGdyb3VwIG9mIEF0dHJpYnV0ZVBhcnRzIGJvdW5kIHRvIGFcbiAqIHNpbmdsZSBhdHRpYnV0ZS4gVGhlIHZhbHVlIGlzIG9ubHkgc2V0IG9uY2UgZXZlbiBpZiB0aGVyZSBhcmUgbXVsdGlwbGUgcGFydHNcbiAqIGZvciBhbiBhdHRyaWJ1dGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBBdHRyaWJ1dGVDb21taXR0ZXIge1xuICByZWFkb25seSBlbGVtZW50OiBFbGVtZW50O1xuICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG4gIHJlYWRvbmx5IHN0cmluZ3M6IFJlYWRvbmx5QXJyYXk8c3RyaW5nPjtcbiAgcmVhZG9ubHkgcGFydHM6IFJlYWRvbmx5QXJyYXk8QXR0cmlidXRlUGFydD47XG4gIGRpcnR5ID0gdHJ1ZTtcblxuICBjb25zdHJ1Y3RvcihlbGVtZW50OiBFbGVtZW50LCBuYW1lOiBzdHJpbmcsIHN0cmluZ3M6IFJlYWRvbmx5QXJyYXk8c3RyaW5nPikge1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLnN0cmluZ3MgPSBzdHJpbmdzO1xuICAgIHRoaXMucGFydHMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0cmluZ3MubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAodGhpcy5wYXJ0cyBhcyBBdHRyaWJ1dGVQYXJ0W10pW2ldID0gdGhpcy5fY3JlYXRlUGFydCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgc2luZ2xlIHBhcnQuIE92ZXJyaWRlIHRoaXMgdG8gY3JlYXRlIGEgZGlmZmVybnQgdHlwZSBvZiBwYXJ0LlxuICAgKi9cbiAgcHJvdGVjdGVkIF9jcmVhdGVQYXJ0KCk6IEF0dHJpYnV0ZVBhcnQge1xuICAgIHJldHVybiBuZXcgQXR0cmlidXRlUGFydCh0aGlzKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBfZ2V0VmFsdWUoKTogdW5rbm93biB7XG4gICAgY29uc3Qgc3RyaW5ncyA9IHRoaXMuc3RyaW5ncztcbiAgICBjb25zdCBsID0gc3RyaW5ncy5sZW5ndGggLSAxO1xuICAgIGxldCB0ZXh0ID0gJyc7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgdGV4dCArPSBzdHJpbmdzW2ldO1xuICAgICAgY29uc3QgcGFydCA9IHRoaXMucGFydHNbaV07XG4gICAgICBpZiAocGFydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IHYgPSBwYXJ0LnZhbHVlO1xuICAgICAgICBpZiAoaXNQcmltaXRpdmUodikgfHwgIWlzSXRlcmFibGUodikpIHtcbiAgICAgICAgICB0ZXh0ICs9IHR5cGVvZiB2ID09PSAnc3RyaW5nJyA/IHYgOiBTdHJpbmcodik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9yIChjb25zdCB0IG9mIHYpIHtcbiAgICAgICAgICAgIHRleHQgKz0gdHlwZW9mIHQgPT09ICdzdHJpbmcnID8gdCA6IFN0cmluZyh0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0ZXh0ICs9IHN0cmluZ3NbbF07XG4gICAgcmV0dXJuIHRleHQ7XG4gIH1cblxuICBjb21taXQoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUodGhpcy5uYW1lLCB0aGlzLl9nZXRWYWx1ZSgpIGFzIHN0cmluZyk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQSBQYXJ0IHRoYXQgY29udHJvbHMgYWxsIG9yIHBhcnQgb2YgYW4gYXR0cmlidXRlIHZhbHVlLlxuICovXG5leHBvcnQgY2xhc3MgQXR0cmlidXRlUGFydCBpbXBsZW1lbnRzIFBhcnQge1xuICByZWFkb25seSBjb21taXR0ZXI6IEF0dHJpYnV0ZUNvbW1pdHRlcjtcbiAgdmFsdWU6IHVua25vd24gPSB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3IoY29tbWl0dGVyOiBBdHRyaWJ1dGVDb21taXR0ZXIpIHtcbiAgICB0aGlzLmNvbW1pdHRlciA9IGNvbW1pdHRlcjtcbiAgfVxuXG4gIHNldFZhbHVlKHZhbHVlOiB1bmtub3duKTogdm9pZCB7XG4gICAgaWYgKHZhbHVlICE9PSBub0NoYW5nZSAmJiAoIWlzUHJpbWl0aXZlKHZhbHVlKSB8fCB2YWx1ZSAhPT0gdGhpcy52YWx1ZSkpIHtcbiAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgIC8vIElmIHRoZSB2YWx1ZSBpcyBhIG5vdCBhIGRpcmVjdGl2ZSwgZGlydHkgdGhlIGNvbW1pdHRlciBzbyB0aGF0IGl0J2xsXG4gICAgICAvLyBjYWxsIHNldEF0dHJpYnV0ZS4gSWYgdGhlIHZhbHVlIGlzIGEgZGlyZWN0aXZlLCBpdCdsbCBkaXJ0eSB0aGVcbiAgICAgIC8vIGNvbW1pdHRlciBpZiBpdCBjYWxscyBzZXRWYWx1ZSgpLlxuICAgICAgaWYgKCFpc0RpcmVjdGl2ZSh2YWx1ZSkpIHtcbiAgICAgICAgdGhpcy5jb21taXR0ZXIuZGlydHkgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbW1pdCgpIHtcbiAgICB3aGlsZSAoaXNEaXJlY3RpdmUodGhpcy52YWx1ZSkpIHtcbiAgICAgIGNvbnN0IGRpcmVjdGl2ZSA9IHRoaXMudmFsdWU7XG4gICAgICB0aGlzLnZhbHVlID0gbm9DaGFuZ2U7XG4gICAgICBkaXJlY3RpdmUodGhpcyk7XG4gICAgfVxuICAgIGlmICh0aGlzLnZhbHVlID09PSBub0NoYW5nZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmNvbW1pdHRlci5jb21taXQoKTtcbiAgfVxufVxuXG4vKipcbiAqIEEgUGFydCB0aGF0IGNvbnRyb2xzIGEgbG9jYXRpb24gd2l0aGluIGEgTm9kZSB0cmVlLiBMaWtlIGEgUmFuZ2UsIE5vZGVQYXJ0XG4gKiBoYXMgc3RhcnQgYW5kIGVuZCBsb2NhdGlvbnMgYW5kIGNhbiBzZXQgYW5kIHVwZGF0ZSB0aGUgTm9kZXMgYmV0d2VlbiB0aG9zZVxuICogbG9jYXRpb25zLlxuICpcbiAqIE5vZGVQYXJ0cyBzdXBwb3J0IHNldmVyYWwgdmFsdWUgdHlwZXM6IHByaW1pdGl2ZXMsIE5vZGVzLCBUZW1wbGF0ZVJlc3VsdHMsXG4gKiBhcyB3ZWxsIGFzIGFycmF5cyBhbmQgaXRlcmFibGVzIG9mIHRob3NlIHR5cGVzLlxuICovXG5leHBvcnQgY2xhc3MgTm9kZVBhcnQgaW1wbGVtZW50cyBQYXJ0IHtcbiAgcmVhZG9ubHkgb3B0aW9uczogUmVuZGVyT3B0aW9ucztcbiAgc3RhcnROb2RlITogTm9kZTtcbiAgZW5kTm9kZSE6IE5vZGU7XG4gIHZhbHVlOiB1bmtub3duID0gdW5kZWZpbmVkO1xuICBwcml2YXRlIF9fcGVuZGluZ1ZhbHVlOiB1bmtub3duID0gdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IFJlbmRlck9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGVuZHMgdGhpcyBwYXJ0IGludG8gYSBjb250YWluZXIuXG4gICAqXG4gICAqIFRoaXMgcGFydCBtdXN0IGJlIGVtcHR5LCBhcyBpdHMgY29udGVudHMgYXJlIG5vdCBhdXRvbWF0aWNhbGx5IG1vdmVkLlxuICAgKi9cbiAgYXBwZW5kSW50byhjb250YWluZXI6IE5vZGUpIHtcbiAgICB0aGlzLnN0YXJ0Tm9kZSA9IGNvbnRhaW5lci5hcHBlbmRDaGlsZChjcmVhdGVNYXJrZXIoKSk7XG4gICAgdGhpcy5lbmROb2RlID0gY29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZU1hcmtlcigpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnNlcnRzIHRoaXMgcGFydCBhZnRlciB0aGUgYHJlZmAgbm9kZSAoYmV0d2VlbiBgcmVmYCBhbmQgYHJlZmAncyBuZXh0XG4gICAqIHNpYmxpbmcpLiBCb3RoIGByZWZgIGFuZCBpdHMgbmV4dCBzaWJsaW5nIG11c3QgYmUgc3RhdGljLCB1bmNoYW5naW5nIG5vZGVzXG4gICAqIHN1Y2ggYXMgdGhvc2UgdGhhdCBhcHBlYXIgaW4gYSBsaXRlcmFsIHNlY3Rpb24gb2YgYSB0ZW1wbGF0ZS5cbiAgICpcbiAgICogVGhpcyBwYXJ0IG11c3QgYmUgZW1wdHksIGFzIGl0cyBjb250ZW50cyBhcmUgbm90IGF1dG9tYXRpY2FsbHkgbW92ZWQuXG4gICAqL1xuICBpbnNlcnRBZnRlck5vZGUocmVmOiBOb2RlKSB7XG4gICAgdGhpcy5zdGFydE5vZGUgPSByZWY7XG4gICAgdGhpcy5lbmROb2RlID0gcmVmLm5leHRTaWJsaW5nITtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBlbmRzIHRoaXMgcGFydCBpbnRvIGEgcGFyZW50IHBhcnQuXG4gICAqXG4gICAqIFRoaXMgcGFydCBtdXN0IGJlIGVtcHR5LCBhcyBpdHMgY29udGVudHMgYXJlIG5vdCBhdXRvbWF0aWNhbGx5IG1vdmVkLlxuICAgKi9cbiAgYXBwZW5kSW50b1BhcnQocGFydDogTm9kZVBhcnQpIHtcbiAgICBwYXJ0Ll9faW5zZXJ0KHRoaXMuc3RhcnROb2RlID0gY3JlYXRlTWFya2VyKCkpO1xuICAgIHBhcnQuX19pbnNlcnQodGhpcy5lbmROb2RlID0gY3JlYXRlTWFya2VyKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluc2VydHMgdGhpcyBwYXJ0IGFmdGVyIHRoZSBgcmVmYCBwYXJ0LlxuICAgKlxuICAgKiBUaGlzIHBhcnQgbXVzdCBiZSBlbXB0eSwgYXMgaXRzIGNvbnRlbnRzIGFyZSBub3QgYXV0b21hdGljYWxseSBtb3ZlZC5cbiAgICovXG4gIGluc2VydEFmdGVyUGFydChyZWY6IE5vZGVQYXJ0KSB7XG4gICAgcmVmLl9faW5zZXJ0KHRoaXMuc3RhcnROb2RlID0gY3JlYXRlTWFya2VyKCkpO1xuICAgIHRoaXMuZW5kTm9kZSA9IHJlZi5lbmROb2RlO1xuICAgIHJlZi5lbmROb2RlID0gdGhpcy5zdGFydE5vZGU7XG4gIH1cblxuICBzZXRWYWx1ZSh2YWx1ZTogdW5rbm93bik6IHZvaWQge1xuICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSB2YWx1ZTtcbiAgfVxuXG4gIGNvbW1pdCgpIHtcbiAgICB3aGlsZSAoaXNEaXJlY3RpdmUodGhpcy5fX3BlbmRpbmdWYWx1ZSkpIHtcbiAgICAgIGNvbnN0IGRpcmVjdGl2ZSA9IHRoaXMuX19wZW5kaW5nVmFsdWU7XG4gICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gbm9DaGFuZ2U7XG4gICAgICBkaXJlY3RpdmUodGhpcyk7XG4gICAgfVxuICAgIGNvbnN0IHZhbHVlID0gdGhpcy5fX3BlbmRpbmdWYWx1ZTtcbiAgICBpZiAodmFsdWUgPT09IG5vQ2hhbmdlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpc1ByaW1pdGl2ZSh2YWx1ZSkpIHtcbiAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy52YWx1ZSkge1xuICAgICAgICB0aGlzLl9fY29tbWl0VGV4dCh2YWx1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFRlbXBsYXRlUmVzdWx0KSB7XG4gICAgICB0aGlzLl9fY29tbWl0VGVtcGxhdGVSZXN1bHQodmFsdWUpO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBOb2RlKSB7XG4gICAgICB0aGlzLl9fY29tbWl0Tm9kZSh2YWx1ZSk7XG4gICAgfSBlbHNlIGlmIChpc0l0ZXJhYmxlKHZhbHVlKSkge1xuICAgICAgdGhpcy5fX2NvbW1pdEl0ZXJhYmxlKHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlID09PSBub3RoaW5nKSB7XG4gICAgICB0aGlzLnZhbHVlID0gbm90aGluZztcbiAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRmFsbGJhY2ssIHdpbGwgcmVuZGVyIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICAgIHRoaXMuX19jb21taXRUZXh0KHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9faW5zZXJ0KG5vZGU6IE5vZGUpIHtcbiAgICB0aGlzLmVuZE5vZGUucGFyZW50Tm9kZSEuaW5zZXJ0QmVmb3JlKG5vZGUsIHRoaXMuZW5kTm9kZSk7XG4gIH1cblxuICBwcml2YXRlIF9fY29tbWl0Tm9kZSh2YWx1ZTogTm9kZSk6IHZvaWQge1xuICAgIGlmICh0aGlzLnZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmNsZWFyKCk7XG4gICAgdGhpcy5fX2luc2VydCh2YWx1ZSk7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICB9XG5cbiAgcHJpdmF0ZSBfX2NvbW1pdFRleHQodmFsdWU6IHVua25vd24pOiB2b2lkIHtcbiAgICBjb25zdCBub2RlID0gdGhpcy5zdGFydE5vZGUubmV4dFNpYmxpbmchO1xuICAgIHZhbHVlID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XG4gICAgaWYgKG5vZGUgPT09IHRoaXMuZW5kTm9kZS5wcmV2aW91c1NpYmxpbmcgJiZcbiAgICAgICAgbm9kZS5ub2RlVHlwZSA9PT0gMyAvKiBOb2RlLlRFWFRfTk9ERSAqLykge1xuICAgICAgLy8gSWYgd2Ugb25seSBoYXZlIGEgc2luZ2xlIHRleHQgbm9kZSBiZXR3ZWVuIHRoZSBtYXJrZXJzLCB3ZSBjYW4ganVzdFxuICAgICAgLy8gc2V0IGl0cyB2YWx1ZSwgcmF0aGVyIHRoYW4gcmVwbGFjaW5nIGl0LlxuICAgICAgLy8gVE9ETyhqdXN0aW5mYWduYW5pKTogQ2FuIHdlIGp1c3QgY2hlY2sgaWYgdGhpcy52YWx1ZSBpcyBwcmltaXRpdmU/XG4gICAgICAobm9kZSBhcyBUZXh0KS5kYXRhID0gdmFsdWUgYXMgc3RyaW5nO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9fY29tbWl0Tm9kZShkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcbiAgICAgICAgICB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gdmFsdWUgOiBTdHJpbmcodmFsdWUpKSk7XG4gICAgfVxuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgfVxuXG4gIHByaXZhdGUgX19jb21taXRUZW1wbGF0ZVJlc3VsdCh2YWx1ZTogVGVtcGxhdGVSZXN1bHQpOiB2b2lkIHtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IHRoaXMub3B0aW9ucy50ZW1wbGF0ZUZhY3RvcnkodmFsdWUpO1xuICAgIGlmICh0aGlzLnZhbHVlIGluc3RhbmNlb2YgVGVtcGxhdGVJbnN0YW5jZSAmJlxuICAgICAgICB0aGlzLnZhbHVlLnRlbXBsYXRlID09PSB0ZW1wbGF0ZSkge1xuICAgICAgdGhpcy52YWx1ZS51cGRhdGUodmFsdWUudmFsdWVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTWFrZSBzdXJlIHdlIHByb3BhZ2F0ZSB0aGUgdGVtcGxhdGUgcHJvY2Vzc29yIGZyb20gdGhlIFRlbXBsYXRlUmVzdWx0XG4gICAgICAvLyBzbyB0aGF0IHdlIHVzZSBpdHMgc3ludGF4IGV4dGVuc2lvbiwgZXRjLiBUaGUgdGVtcGxhdGUgZmFjdG9yeSBjb21lc1xuICAgICAgLy8gZnJvbSB0aGUgcmVuZGVyIGZ1bmN0aW9uIG9wdGlvbnMgc28gdGhhdCBpdCBjYW4gY29udHJvbCB0ZW1wbGF0ZVxuICAgICAgLy8gY2FjaGluZyBhbmQgcHJlcHJvY2Vzc2luZy5cbiAgICAgIGNvbnN0IGluc3RhbmNlID1cbiAgICAgICAgICBuZXcgVGVtcGxhdGVJbnN0YW5jZSh0ZW1wbGF0ZSwgdmFsdWUucHJvY2Vzc29yLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgY29uc3QgZnJhZ21lbnQgPSBpbnN0YW5jZS5fY2xvbmUoKTtcbiAgICAgIGluc3RhbmNlLnVwZGF0ZSh2YWx1ZS52YWx1ZXMpO1xuICAgICAgdGhpcy5fX2NvbW1pdE5vZGUoZnJhZ21lbnQpO1xuICAgICAgdGhpcy52YWx1ZSA9IGluc3RhbmNlO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX19jb21taXRJdGVyYWJsZSh2YWx1ZTogSXRlcmFibGU8dW5rbm93bj4pOiB2b2lkIHtcbiAgICAvLyBGb3IgYW4gSXRlcmFibGUsIHdlIGNyZWF0ZSBhIG5ldyBJbnN0YW5jZVBhcnQgcGVyIGl0ZW0sIHRoZW4gc2V0IGl0c1xuICAgIC8vIHZhbHVlIHRvIHRoZSBpdGVtLiBUaGlzIGlzIGEgbGl0dGxlIGJpdCBvZiBvdmVyaGVhZCBmb3IgZXZlcnkgaXRlbSBpblxuICAgIC8vIGFuIEl0ZXJhYmxlLCBidXQgaXQgbGV0cyB1cyByZWN1cnNlIGVhc2lseSBhbmQgZWZmaWNpZW50bHkgdXBkYXRlIEFycmF5c1xuICAgIC8vIG9mIFRlbXBsYXRlUmVzdWx0cyB0aGF0IHdpbGwgYmUgY29tbW9ubHkgcmV0dXJuZWQgZnJvbSBleHByZXNzaW9ucyBsaWtlOlxuICAgIC8vIGFycmF5Lm1hcCgoaSkgPT4gaHRtbGAke2l9YCksIGJ5IHJldXNpbmcgZXhpc3RpbmcgVGVtcGxhdGVJbnN0YW5jZXMuXG5cbiAgICAvLyBJZiBfdmFsdWUgaXMgYW4gYXJyYXksIHRoZW4gdGhlIHByZXZpb3VzIHJlbmRlciB3YXMgb2YgYW5cbiAgICAvLyBpdGVyYWJsZSBhbmQgX3ZhbHVlIHdpbGwgY29udGFpbiB0aGUgTm9kZVBhcnRzIGZyb20gdGhlIHByZXZpb3VzXG4gICAgLy8gcmVuZGVyLiBJZiBfdmFsdWUgaXMgbm90IGFuIGFycmF5LCBjbGVhciB0aGlzIHBhcnQgYW5kIG1ha2UgYSBuZXdcbiAgICAvLyBhcnJheSBmb3IgTm9kZVBhcnRzLlxuICAgIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLnZhbHVlKSkge1xuICAgICAgdGhpcy52YWx1ZSA9IFtdO1xuICAgICAgdGhpcy5jbGVhcigpO1xuICAgIH1cblxuICAgIC8vIExldHMgdXMga2VlcCB0cmFjayBvZiBob3cgbWFueSBpdGVtcyB3ZSBzdGFtcGVkIHNvIHdlIGNhbiBjbGVhciBsZWZ0b3ZlclxuICAgIC8vIGl0ZW1zIGZyb20gYSBwcmV2aW91cyByZW5kZXJcbiAgICBjb25zdCBpdGVtUGFydHMgPSB0aGlzLnZhbHVlIGFzIE5vZGVQYXJ0W107XG4gICAgbGV0IHBhcnRJbmRleCA9IDA7XG4gICAgbGV0IGl0ZW1QYXJ0OiBOb2RlUGFydHx1bmRlZmluZWQ7XG5cbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdmFsdWUpIHtcbiAgICAgIC8vIFRyeSB0byByZXVzZSBhbiBleGlzdGluZyBwYXJ0XG4gICAgICBpdGVtUGFydCA9IGl0ZW1QYXJ0c1twYXJ0SW5kZXhdO1xuXG4gICAgICAvLyBJZiBubyBleGlzdGluZyBwYXJ0LCBjcmVhdGUgYSBuZXcgb25lXG4gICAgICBpZiAoaXRlbVBhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpdGVtUGFydCA9IG5ldyBOb2RlUGFydCh0aGlzLm9wdGlvbnMpO1xuICAgICAgICBpdGVtUGFydHMucHVzaChpdGVtUGFydCk7XG4gICAgICAgIGlmIChwYXJ0SW5kZXggPT09IDApIHtcbiAgICAgICAgICBpdGVtUGFydC5hcHBlbmRJbnRvUGFydCh0aGlzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtUGFydC5pbnNlcnRBZnRlclBhcnQoaXRlbVBhcnRzW3BhcnRJbmRleCAtIDFdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaXRlbVBhcnQuc2V0VmFsdWUoaXRlbSk7XG4gICAgICBpdGVtUGFydC5jb21taXQoKTtcbiAgICAgIHBhcnRJbmRleCsrO1xuICAgIH1cblxuICAgIGlmIChwYXJ0SW5kZXggPCBpdGVtUGFydHMubGVuZ3RoKSB7XG4gICAgICAvLyBUcnVuY2F0ZSB0aGUgcGFydHMgYXJyYXkgc28gX3ZhbHVlIHJlZmxlY3RzIHRoZSBjdXJyZW50IHN0YXRlXG4gICAgICBpdGVtUGFydHMubGVuZ3RoID0gcGFydEluZGV4O1xuICAgICAgdGhpcy5jbGVhcihpdGVtUGFydCAmJiBpdGVtUGFydC5lbmROb2RlKTtcbiAgICB9XG4gIH1cblxuICBjbGVhcihzdGFydE5vZGU6IE5vZGUgPSB0aGlzLnN0YXJ0Tm9kZSkge1xuICAgIHJlbW92ZU5vZGVzKFxuICAgICAgICB0aGlzLnN0YXJ0Tm9kZS5wYXJlbnROb2RlISwgc3RhcnROb2RlLm5leHRTaWJsaW5nISwgdGhpcy5lbmROb2RlKTtcbiAgfVxufVxuXG4vKipcbiAqIEltcGxlbWVudHMgYSBib29sZWFuIGF0dHJpYnV0ZSwgcm91Z2hseSBhcyBkZWZpbmVkIGluIHRoZSBIVE1MXG4gKiBzcGVjaWZpY2F0aW9uLlxuICpcbiAqIElmIHRoZSB2YWx1ZSBpcyB0cnV0aHksIHRoZW4gdGhlIGF0dHJpYnV0ZSBpcyBwcmVzZW50IHdpdGggYSB2YWx1ZSBvZlxuICogJycuIElmIHRoZSB2YWx1ZSBpcyBmYWxzZXksIHRoZSBhdHRyaWJ1dGUgaXMgcmVtb3ZlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIEJvb2xlYW5BdHRyaWJ1dGVQYXJ0IGltcGxlbWVudHMgUGFydCB7XG4gIHJlYWRvbmx5IGVsZW1lbnQ6IEVsZW1lbnQ7XG4gIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcbiAgcmVhZG9ubHkgc3RyaW5nczogUmVhZG9ubHlBcnJheTxzdHJpbmc+O1xuICB2YWx1ZTogdW5rbm93biA9IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBfX3BlbmRpbmdWYWx1ZTogdW5rbm93biA9IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihlbGVtZW50OiBFbGVtZW50LCBuYW1lOiBzdHJpbmcsIHN0cmluZ3M6IFJlYWRvbmx5QXJyYXk8c3RyaW5nPikge1xuICAgIGlmIChzdHJpbmdzLmxlbmd0aCAhPT0gMiB8fCBzdHJpbmdzWzBdICE9PSAnJyB8fCBzdHJpbmdzWzFdICE9PSAnJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICdCb29sZWFuIGF0dHJpYnV0ZXMgY2FuIG9ubHkgY29udGFpbiBhIHNpbmdsZSBleHByZXNzaW9uJyk7XG4gICAgfVxuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLnN0cmluZ3MgPSBzdHJpbmdzO1xuICB9XG5cbiAgc2V0VmFsdWUodmFsdWU6IHVua25vd24pOiB2b2lkIHtcbiAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gdmFsdWU7XG4gIH1cblxuICBjb21taXQoKSB7XG4gICAgd2hpbGUgKGlzRGlyZWN0aXZlKHRoaXMuX19wZW5kaW5nVmFsdWUpKSB7XG4gICAgICBjb25zdCBkaXJlY3RpdmUgPSB0aGlzLl9fcGVuZGluZ1ZhbHVlO1xuICAgICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IG5vQ2hhbmdlO1xuICAgICAgZGlyZWN0aXZlKHRoaXMpO1xuICAgIH1cbiAgICBpZiAodGhpcy5fX3BlbmRpbmdWYWx1ZSA9PT0gbm9DaGFuZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdmFsdWUgPSAhIXRoaXMuX19wZW5kaW5nVmFsdWU7XG4gICAgaWYgKHRoaXMudmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSh0aGlzLm5hbWUsICcnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUodGhpcy5uYW1lKTtcbiAgICAgIH1cbiAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IG5vQ2hhbmdlO1xuICB9XG59XG5cbi8qKlxuICogU2V0cyBhdHRyaWJ1dGUgdmFsdWVzIGZvciBQcm9wZXJ0eVBhcnRzLCBzbyB0aGF0IHRoZSB2YWx1ZSBpcyBvbmx5IHNldCBvbmNlXG4gKiBldmVuIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSBwYXJ0cyBmb3IgYSBwcm9wZXJ0eS5cbiAqXG4gKiBJZiBhbiBleHByZXNzaW9uIGNvbnRyb2xzIHRoZSB3aG9sZSBwcm9wZXJ0eSB2YWx1ZSwgdGhlbiB0aGUgdmFsdWUgaXMgc2ltcGx5XG4gKiBhc3NpZ25lZCB0byB0aGUgcHJvcGVydHkgdW5kZXIgY29udHJvbC4gSWYgdGhlcmUgYXJlIHN0cmluZyBsaXRlcmFscyBvclxuICogbXVsdGlwbGUgZXhwcmVzc2lvbnMsIHRoZW4gdGhlIHN0cmluZ3MgYXJlIGV4cHJlc3Npb25zIGFyZSBpbnRlcnBvbGF0ZWQgaW50b1xuICogYSBzdHJpbmcgZmlyc3QuXG4gKi9cbmV4cG9ydCBjbGFzcyBQcm9wZXJ0eUNvbW1pdHRlciBleHRlbmRzIEF0dHJpYnV0ZUNvbW1pdHRlciB7XG4gIHJlYWRvbmx5IHNpbmdsZTogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcihlbGVtZW50OiBFbGVtZW50LCBuYW1lOiBzdHJpbmcsIHN0cmluZ3M6IFJlYWRvbmx5QXJyYXk8c3RyaW5nPikge1xuICAgIHN1cGVyKGVsZW1lbnQsIG5hbWUsIHN0cmluZ3MpO1xuICAgIHRoaXMuc2luZ2xlID1cbiAgICAgICAgKHN0cmluZ3MubGVuZ3RoID09PSAyICYmIHN0cmluZ3NbMF0gPT09ICcnICYmIHN0cmluZ3NbMV0gPT09ICcnKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBfY3JlYXRlUGFydCgpOiBQcm9wZXJ0eVBhcnQge1xuICAgIHJldHVybiBuZXcgUHJvcGVydHlQYXJ0KHRoaXMpO1xuICB9XG5cbiAgcHJvdGVjdGVkIF9nZXRWYWx1ZSgpIHtcbiAgICBpZiAodGhpcy5zaW5nbGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnBhcnRzWzBdLnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gc3VwZXIuX2dldFZhbHVlKCk7XG4gIH1cblxuICBjb21taXQoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgICAgICh0aGlzLmVsZW1lbnQgYXMgYW55KVt0aGlzLm5hbWVdID0gdGhpcy5fZ2V0VmFsdWUoKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFByb3BlcnR5UGFydCBleHRlbmRzIEF0dHJpYnV0ZVBhcnQge31cblxuLy8gRGV0ZWN0IGV2ZW50IGxpc3RlbmVyIG9wdGlvbnMgc3VwcG9ydC4gSWYgdGhlIGBjYXB0dXJlYCBwcm9wZXJ0eSBpcyByZWFkXG4vLyBmcm9tIHRoZSBvcHRpb25zIG9iamVjdCwgdGhlbiBvcHRpb25zIGFyZSBzdXBwb3J0ZWQuIElmIG5vdCwgdGhlbiB0aGUgdGhyaWRcbi8vIGFyZ3VtZW50IHRvIGFkZC9yZW1vdmVFdmVudExpc3RlbmVyIGlzIGludGVycHJldGVkIGFzIHRoZSBib29sZWFuIGNhcHR1cmVcbi8vIHZhbHVlIHNvIHdlIHNob3VsZCBvbmx5IHBhc3MgdGhlIGBjYXB0dXJlYCBwcm9wZXJ0eS5cbmxldCBldmVudE9wdGlvbnNTdXBwb3J0ZWQgPSBmYWxzZTtcblxudHJ5IHtcbiAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICBnZXQgY2FwdHVyZSgpIHtcbiAgICAgIGV2ZW50T3B0aW9uc1N1cHBvcnRlZCA9IHRydWU7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0ZXN0Jywgb3B0aW9ucyBhcyBhbnksIG9wdGlvbnMpO1xuICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG4gIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0ZXN0Jywgb3B0aW9ucyBhcyBhbnksIG9wdGlvbnMpO1xufSBjYXRjaCAoX2UpIHtcbn1cblxuXG50eXBlIEV2ZW50SGFuZGxlcldpdGhPcHRpb25zID1cbiAgICBFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0JlBhcnRpYWw8QWRkRXZlbnRMaXN0ZW5lck9wdGlvbnM+O1xuZXhwb3J0IGNsYXNzIEV2ZW50UGFydCBpbXBsZW1lbnRzIFBhcnQge1xuICByZWFkb25seSBlbGVtZW50OiBFbGVtZW50O1xuICByZWFkb25seSBldmVudE5hbWU6IHN0cmluZztcbiAgcmVhZG9ubHkgZXZlbnRDb250ZXh0PzogRXZlbnRUYXJnZXQ7XG4gIHZhbHVlOiB1bmRlZmluZWR8RXZlbnRIYW5kbGVyV2l0aE9wdGlvbnMgPSB1bmRlZmluZWQ7XG4gIHByaXZhdGUgX19vcHRpb25zPzogQWRkRXZlbnRMaXN0ZW5lck9wdGlvbnM7XG4gIHByaXZhdGUgX19wZW5kaW5nVmFsdWU6IHVuZGVmaW5lZHxFdmVudEhhbmRsZXJXaXRoT3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSByZWFkb25seSBfX2JvdW5kSGFuZGxlRXZlbnQ6IChldmVudDogRXZlbnQpID0+IHZvaWQ7XG5cbiAgY29uc3RydWN0b3IoZWxlbWVudDogRWxlbWVudCwgZXZlbnROYW1lOiBzdHJpbmcsIGV2ZW50Q29udGV4dD86IEV2ZW50VGFyZ2V0KSB7XG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLmV2ZW50TmFtZSA9IGV2ZW50TmFtZTtcbiAgICB0aGlzLmV2ZW50Q29udGV4dCA9IGV2ZW50Q29udGV4dDtcbiAgICB0aGlzLl9fYm91bmRIYW5kbGVFdmVudCA9IChlKSA9PiB0aGlzLmhhbmRsZUV2ZW50KGUpO1xuICB9XG5cbiAgc2V0VmFsdWUodmFsdWU6IHVuZGVmaW5lZHxFdmVudEhhbmRsZXJXaXRoT3B0aW9ucyk6IHZvaWQge1xuICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSB2YWx1ZTtcbiAgfVxuXG4gIGNvbW1pdCgpIHtcbiAgICB3aGlsZSAoaXNEaXJlY3RpdmUodGhpcy5fX3BlbmRpbmdWYWx1ZSkpIHtcbiAgICAgIGNvbnN0IGRpcmVjdGl2ZSA9IHRoaXMuX19wZW5kaW5nVmFsdWU7XG4gICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gbm9DaGFuZ2UgYXMgRXZlbnRIYW5kbGVyV2l0aE9wdGlvbnM7XG4gICAgICBkaXJlY3RpdmUodGhpcyk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9fcGVuZGluZ1ZhbHVlID09PSBub0NoYW5nZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG5ld0xpc3RlbmVyID0gdGhpcy5fX3BlbmRpbmdWYWx1ZTtcbiAgICBjb25zdCBvbGRMaXN0ZW5lciA9IHRoaXMudmFsdWU7XG4gICAgY29uc3Qgc2hvdWxkUmVtb3ZlTGlzdGVuZXIgPSBuZXdMaXN0ZW5lciA9PSBudWxsIHx8XG4gICAgICAgIG9sZExpc3RlbmVyICE9IG51bGwgJiZcbiAgICAgICAgICAgIChuZXdMaXN0ZW5lci5jYXB0dXJlICE9PSBvbGRMaXN0ZW5lci5jYXB0dXJlIHx8XG4gICAgICAgICAgICAgbmV3TGlzdGVuZXIub25jZSAhPT0gb2xkTGlzdGVuZXIub25jZSB8fFxuICAgICAgICAgICAgIG5ld0xpc3RlbmVyLnBhc3NpdmUgIT09IG9sZExpc3RlbmVyLnBhc3NpdmUpO1xuICAgIGNvbnN0IHNob3VsZEFkZExpc3RlbmVyID1cbiAgICAgICAgbmV3TGlzdGVuZXIgIT0gbnVsbCAmJiAob2xkTGlzdGVuZXIgPT0gbnVsbCB8fCBzaG91bGRSZW1vdmVMaXN0ZW5lcik7XG5cbiAgICBpZiAoc2hvdWxkUmVtb3ZlTGlzdGVuZXIpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAgIHRoaXMuZXZlbnROYW1lLCB0aGlzLl9fYm91bmRIYW5kbGVFdmVudCwgdGhpcy5fX29wdGlvbnMpO1xuICAgIH1cbiAgICBpZiAoc2hvdWxkQWRkTGlzdGVuZXIpIHtcbiAgICAgIHRoaXMuX19vcHRpb25zID0gZ2V0T3B0aW9ucyhuZXdMaXN0ZW5lcik7XG4gICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICB0aGlzLmV2ZW50TmFtZSwgdGhpcy5fX2JvdW5kSGFuZGxlRXZlbnQsIHRoaXMuX19vcHRpb25zKTtcbiAgICB9XG4gICAgdGhpcy52YWx1ZSA9IG5ld0xpc3RlbmVyO1xuICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSBub0NoYW5nZSBhcyBFdmVudEhhbmRsZXJXaXRoT3B0aW9ucztcbiAgfVxuXG4gIGhhbmRsZUV2ZW50KGV2ZW50OiBFdmVudCkge1xuICAgIGlmICh0eXBlb2YgdGhpcy52YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy52YWx1ZS5jYWxsKHRoaXMuZXZlbnRDb250ZXh0IHx8IHRoaXMuZWxlbWVudCwgZXZlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAodGhpcy52YWx1ZSBhcyBFdmVudExpc3RlbmVyT2JqZWN0KS5oYW5kbGVFdmVudChldmVudCk7XG4gICAgfVxuICB9XG59XG5cbi8vIFdlIGNvcHkgb3B0aW9ucyBiZWNhdXNlIG9mIHRoZSBpbmNvbnNpc3RlbnQgYmVoYXZpb3Igb2YgYnJvd3NlcnMgd2hlbiByZWFkaW5nXG4vLyB0aGUgdGhpcmQgYXJndW1lbnQgb2YgYWRkL3JlbW92ZUV2ZW50TGlzdGVuZXIuIElFMTEgZG9lc24ndCBzdXBwb3J0IG9wdGlvbnNcbi8vIGF0IGFsbC4gQ2hyb21lIDQxIG9ubHkgcmVhZHMgYGNhcHR1cmVgIGlmIHRoZSBhcmd1bWVudCBpcyBhbiBvYmplY3QuXG5jb25zdCBnZXRPcHRpb25zID0gKG86IEFkZEV2ZW50TGlzdGVuZXJPcHRpb25zfHVuZGVmaW5lZCkgPT4gbyAmJlxuICAgIChldmVudE9wdGlvbnNTdXBwb3J0ZWQgP1xuICAgICAgICAge2NhcHR1cmU6IG8uY2FwdHVyZSwgcGFzc2l2ZTogby5wYXNzaXZlLCBvbmNlOiBvLm9uY2V9IDpcbiAgICAgICAgIG8uY2FwdHVyZSBhcyBBZGRFdmVudExpc3RlbmVyT3B0aW9ucyk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5cbmltcG9ydCB7UGFydH0gZnJvbSAnLi9wYXJ0LmpzJztcbmltcG9ydCB7QXR0cmlidXRlQ29tbWl0dGVyLCBCb29sZWFuQXR0cmlidXRlUGFydCwgRXZlbnRQYXJ0LCBOb2RlUGFydCwgUHJvcGVydHlDb21taXR0ZXJ9IGZyb20gJy4vcGFydHMuanMnO1xuaW1wb3J0IHtSZW5kZXJPcHRpb25zfSBmcm9tICcuL3JlbmRlci1vcHRpb25zLmpzJztcbmltcG9ydCB7VGVtcGxhdGVQcm9jZXNzb3J9IGZyb20gJy4vdGVtcGxhdGUtcHJvY2Vzc29yLmpzJztcblxuLyoqXG4gKiBDcmVhdGVzIFBhcnRzIHdoZW4gYSB0ZW1wbGF0ZSBpcyBpbnN0YW50aWF0ZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBEZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IgaW1wbGVtZW50cyBUZW1wbGF0ZVByb2Nlc3NvciB7XG4gIC8qKlxuICAgKiBDcmVhdGUgcGFydHMgZm9yIGFuIGF0dHJpYnV0ZS1wb3NpdGlvbiBiaW5kaW5nLCBnaXZlbiB0aGUgZXZlbnQsIGF0dHJpYnV0ZVxuICAgKiBuYW1lLCBhbmQgc3RyaW5nIGxpdGVyYWxzLlxuICAgKlxuICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgZWxlbWVudCBjb250YWluaW5nIHRoZSBiaW5kaW5nXG4gICAqIEBwYXJhbSBuYW1lICBUaGUgYXR0cmlidXRlIG5hbWVcbiAgICogQHBhcmFtIHN0cmluZ3MgVGhlIHN0cmluZyBsaXRlcmFscy4gVGhlcmUgYXJlIGFsd2F5cyBhdCBsZWFzdCB0d28gc3RyaW5ncyxcbiAgICogICBldmVudCBmb3IgZnVsbHktY29udHJvbGxlZCBiaW5kaW5ncyB3aXRoIGEgc2luZ2xlIGV4cHJlc3Npb24uXG4gICAqL1xuICBoYW5kbGVBdHRyaWJ1dGVFeHByZXNzaW9ucyhcbiAgICAgIGVsZW1lbnQ6IEVsZW1lbnQsIG5hbWU6IHN0cmluZywgc3RyaW5nczogc3RyaW5nW10sXG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zKTogUmVhZG9ubHlBcnJheTxQYXJ0PiB7XG4gICAgY29uc3QgcHJlZml4ID0gbmFtZVswXTtcbiAgICBpZiAocHJlZml4ID09PSAnLicpIHtcbiAgICAgIGNvbnN0IGNvbW1pdHRlciA9IG5ldyBQcm9wZXJ0eUNvbW1pdHRlcihlbGVtZW50LCBuYW1lLnNsaWNlKDEpLCBzdHJpbmdzKTtcbiAgICAgIHJldHVybiBjb21taXR0ZXIucGFydHM7XG4gICAgfVxuICAgIGlmIChwcmVmaXggPT09ICdAJykge1xuICAgICAgcmV0dXJuIFtuZXcgRXZlbnRQYXJ0KGVsZW1lbnQsIG5hbWUuc2xpY2UoMSksIG9wdGlvbnMuZXZlbnRDb250ZXh0KV07XG4gICAgfVxuICAgIGlmIChwcmVmaXggPT09ICc/Jykge1xuICAgICAgcmV0dXJuIFtuZXcgQm9vbGVhbkF0dHJpYnV0ZVBhcnQoZWxlbWVudCwgbmFtZS5zbGljZSgxKSwgc3RyaW5ncyldO1xuICAgIH1cbiAgICBjb25zdCBjb21taXR0ZXIgPSBuZXcgQXR0cmlidXRlQ29tbWl0dGVyKGVsZW1lbnQsIG5hbWUsIHN0cmluZ3MpO1xuICAgIHJldHVybiBjb21taXR0ZXIucGFydHM7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBwYXJ0cyBmb3IgYSB0ZXh0LXBvc2l0aW9uIGJpbmRpbmcuXG4gICAqIEBwYXJhbSB0ZW1wbGF0ZUZhY3RvcnlcbiAgICovXG4gIGhhbmRsZVRleHRFeHByZXNzaW9uKG9wdGlvbnM6IFJlbmRlck9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IE5vZGVQYXJ0KG9wdGlvbnMpO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IgPSBuZXcgRGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yKCk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5cbmltcG9ydCB7VGVtcGxhdGVSZXN1bHR9IGZyb20gJy4vdGVtcGxhdGUtcmVzdWx0LmpzJztcbmltcG9ydCB7bWFya2VyLCBUZW1wbGF0ZX0gZnJvbSAnLi90ZW1wbGF0ZS5qcyc7XG5cbi8qKlxuICogQSBmdW5jdGlvbiB0eXBlIHRoYXQgY3JlYXRlcyBhIFRlbXBsYXRlIGZyb20gYSBUZW1wbGF0ZVJlc3VsdC5cbiAqXG4gKiBUaGlzIGlzIGEgaG9vayBpbnRvIHRoZSB0ZW1wbGF0ZS1jcmVhdGlvbiBwcm9jZXNzIGZvciByZW5kZXJpbmcgdGhhdFxuICogcmVxdWlyZXMgc29tZSBtb2RpZmljYXRpb24gb2YgdGVtcGxhdGVzIGJlZm9yZSB0aGV5J3JlIHVzZWQsIGxpa2UgU2hhZHlDU1MsXG4gKiB3aGljaCBtdXN0IGFkZCBjbGFzc2VzIHRvIGVsZW1lbnRzIGFuZCByZW1vdmUgc3R5bGVzLlxuICpcbiAqIFRlbXBsYXRlcyBzaG91bGQgYmUgY2FjaGVkIGFzIGFnZ3Jlc3NpdmVseSBhcyBwb3NzaWJsZSwgc28gdGhhdCBtYW55XG4gKiBUZW1wbGF0ZVJlc3VsdHMgcHJvZHVjZWQgZnJvbSB0aGUgc2FtZSBleHByZXNzaW9uIG9ubHkgZG8gdGhlIHdvcmsgb2ZcbiAqIGNyZWF0aW5nIHRoZSBUZW1wbGF0ZSB0aGUgZmlyc3QgdGltZS5cbiAqXG4gKiBUZW1wbGF0ZXMgYXJlIHVzdWFsbHkgY2FjaGVkIGJ5IFRlbXBsYXRlUmVzdWx0LnN0cmluZ3MgYW5kXG4gKiBUZW1wbGF0ZVJlc3VsdC50eXBlLCBidXQgbWF5IGJlIGNhY2hlZCBieSBvdGhlciBrZXlzIGlmIHRoaXMgZnVuY3Rpb25cbiAqIG1vZGlmaWVzIHRoZSB0ZW1wbGF0ZS5cbiAqXG4gKiBOb3RlIHRoYXQgY3VycmVudGx5IFRlbXBsYXRlRmFjdG9yaWVzIG11c3Qgbm90IGFkZCwgcmVtb3ZlLCBvciByZW9yZGVyXG4gKiBleHByZXNzaW9ucywgYmVjYXVzZSB0aGVyZSBpcyBubyB3YXkgdG8gZGVzY3JpYmUgc3VjaCBhIG1vZGlmaWNhdGlvblxuICogdG8gcmVuZGVyKCkgc28gdGhhdCB2YWx1ZXMgYXJlIGludGVycG9sYXRlZCB0byB0aGUgY29ycmVjdCBwbGFjZSBpbiB0aGVcbiAqIHRlbXBsYXRlIGluc3RhbmNlcy5cbiAqL1xuZXhwb3J0IHR5cGUgVGVtcGxhdGVGYWN0b3J5ID0gKHJlc3VsdDogVGVtcGxhdGVSZXN1bHQpID0+IFRlbXBsYXRlO1xuXG4vKipcbiAqIFRoZSBkZWZhdWx0IFRlbXBsYXRlRmFjdG9yeSB3aGljaCBjYWNoZXMgVGVtcGxhdGVzIGtleWVkIG9uXG4gKiByZXN1bHQudHlwZSBhbmQgcmVzdWx0LnN0cmluZ3MuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0ZW1wbGF0ZUZhY3RvcnkocmVzdWx0OiBUZW1wbGF0ZVJlc3VsdCkge1xuICBsZXQgdGVtcGxhdGVDYWNoZSA9IHRlbXBsYXRlQ2FjaGVzLmdldChyZXN1bHQudHlwZSk7XG4gIGlmICh0ZW1wbGF0ZUNhY2hlID09PSB1bmRlZmluZWQpIHtcbiAgICB0ZW1wbGF0ZUNhY2hlID0ge1xuICAgICAgc3RyaW5nc0FycmF5OiBuZXcgV2Vha01hcDxUZW1wbGF0ZVN0cmluZ3NBcnJheSwgVGVtcGxhdGU+KCksXG4gICAgICBrZXlTdHJpbmc6IG5ldyBNYXA8c3RyaW5nLCBUZW1wbGF0ZT4oKVxuICAgIH07XG4gICAgdGVtcGxhdGVDYWNoZXMuc2V0KHJlc3VsdC50eXBlLCB0ZW1wbGF0ZUNhY2hlKTtcbiAgfVxuXG4gIGxldCB0ZW1wbGF0ZSA9IHRlbXBsYXRlQ2FjaGUuc3RyaW5nc0FycmF5LmdldChyZXN1bHQuc3RyaW5ncyk7XG4gIGlmICh0ZW1wbGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHRlbXBsYXRlO1xuICB9XG5cbiAgLy8gSWYgdGhlIFRlbXBsYXRlU3RyaW5nc0FycmF5IGlzIG5ldywgZ2VuZXJhdGUgYSBrZXkgZnJvbSB0aGUgc3RyaW5nc1xuICAvLyBUaGlzIGtleSBpcyBzaGFyZWQgYmV0d2VlbiBhbGwgdGVtcGxhdGVzIHdpdGggaWRlbnRpY2FsIGNvbnRlbnRcbiAgY29uc3Qga2V5ID0gcmVzdWx0LnN0cmluZ3Muam9pbihtYXJrZXIpO1xuXG4gIC8vIENoZWNrIGlmIHdlIGFscmVhZHkgaGF2ZSBhIFRlbXBsYXRlIGZvciB0aGlzIGtleVxuICB0ZW1wbGF0ZSA9IHRlbXBsYXRlQ2FjaGUua2V5U3RyaW5nLmdldChrZXkpO1xuICBpZiAodGVtcGxhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgIC8vIElmIHdlIGhhdmUgbm90IHNlZW4gdGhpcyBrZXkgYmVmb3JlLCBjcmVhdGUgYSBuZXcgVGVtcGxhdGVcbiAgICB0ZW1wbGF0ZSA9IG5ldyBUZW1wbGF0ZShyZXN1bHQsIHJlc3VsdC5nZXRUZW1wbGF0ZUVsZW1lbnQoKSk7XG4gICAgLy8gQ2FjaGUgdGhlIFRlbXBsYXRlIGZvciB0aGlzIGtleVxuICAgIHRlbXBsYXRlQ2FjaGUua2V5U3RyaW5nLnNldChrZXksIHRlbXBsYXRlKTtcbiAgfVxuXG4gIC8vIENhY2hlIGFsbCBmdXR1cmUgcXVlcmllcyBmb3IgdGhpcyBUZW1wbGF0ZVN0cmluZ3NBcnJheVxuICB0ZW1wbGF0ZUNhY2hlLnN0cmluZ3NBcnJheS5zZXQocmVzdWx0LnN0cmluZ3MsIHRlbXBsYXRlKTtcbiAgcmV0dXJuIHRlbXBsYXRlO1xufVxuXG4vKipcbiAqIFRoZSBmaXJzdCBhcmd1bWVudCB0byBKUyB0ZW1wbGF0ZSB0YWdzIHJldGFpbiBpZGVudGl0eSBhY3Jvc3MgbXVsdGlwbGVcbiAqIGNhbGxzIHRvIGEgdGFnIGZvciB0aGUgc2FtZSBsaXRlcmFsLCBzbyB3ZSBjYW4gY2FjaGUgd29yayBkb25lIHBlciBsaXRlcmFsXG4gKiBpbiBhIE1hcC5cbiAqXG4gKiBTYWZhcmkgY3VycmVudGx5IGhhcyBhIGJ1ZyB3aGljaCBvY2Nhc2lvbmFsbHkgYnJlYWtzIHRoaXMgYmVoYXZpb3VyLCBzbyB3ZVxuICogbmVlZCB0byBjYWNoZSB0aGUgVGVtcGxhdGUgYXQgdHdvIGxldmVscy4gV2UgZmlyc3QgY2FjaGUgdGhlXG4gKiBUZW1wbGF0ZVN0cmluZ3NBcnJheSwgYW5kIGlmIHRoYXQgZmFpbHMsIHdlIGNhY2hlIGEga2V5IGNvbnN0cnVjdGVkIGJ5XG4gKiBqb2luaW5nIHRoZSBzdHJpbmdzIGFycmF5LlxuICovXG5leHBvcnQgdHlwZSB0ZW1wbGF0ZUNhY2hlID0ge1xuICByZWFkb25seSBzdHJpbmdzQXJyYXk6IFdlYWtNYXA8VGVtcGxhdGVTdHJpbmdzQXJyYXksIFRlbXBsYXRlPjsgLy9cbiAgcmVhZG9ubHkga2V5U3RyaW5nOiBNYXA8c3RyaW5nLCBUZW1wbGF0ZT47XG59O1xuXG5leHBvcnQgY29uc3QgdGVtcGxhdGVDYWNoZXMgPSBuZXcgTWFwPHN0cmluZywgdGVtcGxhdGVDYWNoZT4oKTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cblxuLyoqXG4gKiBAbW9kdWxlIGxpdC1odG1sXG4gKi9cblxuaW1wb3J0IHtyZW1vdmVOb2Rlc30gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHtOb2RlUGFydH0gZnJvbSAnLi9wYXJ0cy5qcyc7XG5pbXBvcnQge1JlbmRlck9wdGlvbnN9IGZyb20gJy4vcmVuZGVyLW9wdGlvbnMuanMnO1xuaW1wb3J0IHt0ZW1wbGF0ZUZhY3Rvcnl9IGZyb20gJy4vdGVtcGxhdGUtZmFjdG9yeS5qcyc7XG5pbXBvcnQge1RlbXBsYXRlUmVzdWx0fSBmcm9tICcuL3RlbXBsYXRlLXJlc3VsdC5qcyc7XG5cbmV4cG9ydCBjb25zdCBwYXJ0cyA9IG5ldyBXZWFrTWFwPE5vZGUsIE5vZGVQYXJ0PigpO1xuXG4vKipcbiAqIFJlbmRlcnMgYSB0ZW1wbGF0ZSB0byBhIGNvbnRhaW5lci5cbiAqXG4gKiBUbyB1cGRhdGUgYSBjb250YWluZXIgd2l0aCBuZXcgdmFsdWVzLCByZWV2YWx1YXRlIHRoZSB0ZW1wbGF0ZSBsaXRlcmFsIGFuZFxuICogY2FsbCBgcmVuZGVyYCB3aXRoIHRoZSBuZXcgcmVzdWx0LlxuICpcbiAqIEBwYXJhbSByZXN1bHQgYSBUZW1wbGF0ZVJlc3VsdCBjcmVhdGVkIGJ5IGV2YWx1YXRpbmcgYSB0ZW1wbGF0ZSB0YWcgbGlrZVxuICogICAgIGBodG1sYCBvciBgc3ZnYC5cbiAqIEBwYXJhbSBjb250YWluZXIgQSBET00gcGFyZW50IHRvIHJlbmRlciB0by4gVGhlIGVudGlyZSBjb250ZW50cyBhcmUgZWl0aGVyXG4gKiAgICAgcmVwbGFjZWQsIG9yIGVmZmljaWVudGx5IHVwZGF0ZWQgaWYgdGhlIHNhbWUgcmVzdWx0IHR5cGUgd2FzIHByZXZpb3VzXG4gKiAgICAgcmVuZGVyZWQgdGhlcmUuXG4gKiBAcGFyYW0gb3B0aW9ucyBSZW5kZXJPcHRpb25zIGZvciB0aGUgZW50aXJlIHJlbmRlciB0cmVlIHJlbmRlcmVkIHRvIHRoaXNcbiAqICAgICBjb250YWluZXIuIFJlbmRlciBvcHRpb25zIG11c3QgKm5vdCogY2hhbmdlIGJldHdlZW4gcmVuZGVycyB0byB0aGUgc2FtZVxuICogICAgIGNvbnRhaW5lciwgYXMgdGhvc2UgY2hhbmdlcyB3aWxsIG5vdCBlZmZlY3QgcHJldmlvdXNseSByZW5kZXJlZCBET00uXG4gKi9cbmV4cG9ydCBjb25zdCByZW5kZXIgPVxuICAgIChyZXN1bHQ6IFRlbXBsYXRlUmVzdWx0LFxuICAgICBjb250YWluZXI6IEVsZW1lbnR8RG9jdW1lbnRGcmFnbWVudCxcbiAgICAgb3B0aW9ucz86IFBhcnRpYWw8UmVuZGVyT3B0aW9ucz4pID0+IHtcbiAgICAgIGxldCBwYXJ0ID0gcGFydHMuZ2V0KGNvbnRhaW5lcik7XG4gICAgICBpZiAocGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJlbW92ZU5vZGVzKGNvbnRhaW5lciwgY29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgICAgICBwYXJ0cy5zZXQoY29udGFpbmVyLCBwYXJ0ID0gbmV3IE5vZGVQYXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZUZhY3RvcnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICBwYXJ0LmFwcGVuZEludG8oY29udGFpbmVyKTtcbiAgICAgIH1cbiAgICAgIHBhcnQuc2V0VmFsdWUocmVzdWx0KTtcbiAgICAgIHBhcnQuY29tbWl0KCk7XG4gICAgfTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cblxuLyoqXG4gKlxuICogTWFpbiBsaXQtaHRtbCBtb2R1bGUuXG4gKlxuICogTWFpbiBleHBvcnRzOlxuICpcbiAqIC0gIFtbaHRtbF1dXG4gKiAtICBbW3N2Z11dXG4gKiAtICBbW3JlbmRlcl1dXG4gKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICogQHByZWZlcnJlZFxuICovXG5cbi8qKlxuICogRG8gbm90IHJlbW92ZSB0aGlzIGNvbW1lbnQ7IGl0IGtlZXBzIHR5cGVkb2MgZnJvbSBtaXNwbGFjaW5nIHRoZSBtb2R1bGVcbiAqIGRvY3MuXG4gKi9cbmltcG9ydCB7ZGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yfSBmcm9tICcuL2xpYi9kZWZhdWx0LXRlbXBsYXRlLXByb2Nlc3Nvci5qcyc7XG5pbXBvcnQge1NWR1RlbXBsYXRlUmVzdWx0LCBUZW1wbGF0ZVJlc3VsdH0gZnJvbSAnLi9saWIvdGVtcGxhdGUtcmVzdWx0LmpzJztcblxuZXhwb3J0IHtEZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IsIGRlZmF1bHRUZW1wbGF0ZVByb2Nlc3Nvcn0gZnJvbSAnLi9saWIvZGVmYXVsdC10ZW1wbGF0ZS1wcm9jZXNzb3IuanMnO1xuZXhwb3J0IHtkaXJlY3RpdmUsIERpcmVjdGl2ZUZuLCBpc0RpcmVjdGl2ZX0gZnJvbSAnLi9saWIvZGlyZWN0aXZlLmpzJztcbi8vIFRPRE8oanVzdGluZmFnbmFuaSk6IHJlbW92ZSBsaW5lIHdoZW4gd2UgZ2V0IE5vZGVQYXJ0IG1vdmluZyBtZXRob2RzXG5leHBvcnQge3JlbW92ZU5vZGVzLCByZXBhcmVudE5vZGVzfSBmcm9tICcuL2xpYi9kb20uanMnO1xuZXhwb3J0IHtub0NoYW5nZSwgbm90aGluZywgUGFydH0gZnJvbSAnLi9saWIvcGFydC5qcyc7XG5leHBvcnQge0F0dHJpYnV0ZUNvbW1pdHRlciwgQXR0cmlidXRlUGFydCwgQm9vbGVhbkF0dHJpYnV0ZVBhcnQsIEV2ZW50UGFydCwgaXNJdGVyYWJsZSwgaXNQcmltaXRpdmUsIE5vZGVQYXJ0LCBQcm9wZXJ0eUNvbW1pdHRlciwgUHJvcGVydHlQYXJ0fSBmcm9tICcuL2xpYi9wYXJ0cy5qcyc7XG5leHBvcnQge1JlbmRlck9wdGlvbnN9IGZyb20gJy4vbGliL3JlbmRlci1vcHRpb25zLmpzJztcbmV4cG9ydCB7cGFydHMsIHJlbmRlcn0gZnJvbSAnLi9saWIvcmVuZGVyLmpzJztcbmV4cG9ydCB7dGVtcGxhdGVDYWNoZXMsIHRlbXBsYXRlRmFjdG9yeX0gZnJvbSAnLi9saWIvdGVtcGxhdGUtZmFjdG9yeS5qcyc7XG5leHBvcnQge1RlbXBsYXRlSW5zdGFuY2V9IGZyb20gJy4vbGliL3RlbXBsYXRlLWluc3RhbmNlLmpzJztcbmV4cG9ydCB7VGVtcGxhdGVQcm9jZXNzb3J9IGZyb20gJy4vbGliL3RlbXBsYXRlLXByb2Nlc3Nvci5qcyc7XG5leHBvcnQge1NWR1RlbXBsYXRlUmVzdWx0LCBUZW1wbGF0ZVJlc3VsdH0gZnJvbSAnLi9saWIvdGVtcGxhdGUtcmVzdWx0LmpzJztcbmV4cG9ydCB7Y3JlYXRlTWFya2VyLCBpc1RlbXBsYXRlUGFydEFjdGl2ZSwgVGVtcGxhdGV9IGZyb20gJy4vbGliL3RlbXBsYXRlLmpzJztcblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgV2luZG93IHtcbiAgICBsaXRIdG1sVmVyc2lvbnM6IHN0cmluZ1tdO1xuICB9XG59XG5cbi8vIElNUE9SVEFOVDogZG8gbm90IGNoYW5nZSB0aGUgcHJvcGVydHkgbmFtZSBvciB0aGUgYXNzaWdubWVudCBleHByZXNzaW9uLlxuLy8gVGhpcyBsaW5lIHdpbGwgYmUgdXNlZCBpbiByZWdleGVzIHRvIHNlYXJjaCBmb3IgbGl0LWh0bWwgdXNhZ2UuXG4vLyBUT0RPKGp1c3RpbmZhZ25hbmkpOiBpbmplY3QgdmVyc2lvbiBudW1iZXIgYXQgYnVpbGQgdGltZVxuKHdpbmRvd1snbGl0SHRtbFZlcnNpb25zJ10gfHwgKHdpbmRvd1snbGl0SHRtbFZlcnNpb25zJ10gPSBbXSkpLnB1c2goJzEuMC4wJyk7XG5cbi8qKlxuICogSW50ZXJwcmV0cyBhIHRlbXBsYXRlIGxpdGVyYWwgYXMgYW4gSFRNTCB0ZW1wbGF0ZSB0aGF0IGNhbiBlZmZpY2llbnRseVxuICogcmVuZGVyIHRvIGFuZCB1cGRhdGUgYSBjb250YWluZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBodG1sID0gKHN0cmluZ3M6IFRlbXBsYXRlU3RyaW5nc0FycmF5LCAuLi52YWx1ZXM6IHVua25vd25bXSkgPT5cbiAgICBuZXcgVGVtcGxhdGVSZXN1bHQoc3RyaW5ncywgdmFsdWVzLCAnaHRtbCcsIGRlZmF1bHRUZW1wbGF0ZVByb2Nlc3Nvcik7XG5cbi8qKlxuICogSW50ZXJwcmV0cyBhIHRlbXBsYXRlIGxpdGVyYWwgYXMgYW4gU1ZHIHRlbXBsYXRlIHRoYXQgY2FuIGVmZmljaWVudGx5XG4gKiByZW5kZXIgdG8gYW5kIHVwZGF0ZSBhIGNvbnRhaW5lci5cbiAqL1xuZXhwb3J0IGNvbnN0IHN2ZyA9IChzdHJpbmdzOiBUZW1wbGF0ZVN0cmluZ3NBcnJheSwgLi4udmFsdWVzOiB1bmtub3duW10pID0+XG4gICAgbmV3IFNWR1RlbXBsYXRlUmVzdWx0KHN0cmluZ3MsIHZhbHVlcywgJ3N2ZycsIGRlZmF1bHRUZW1wbGF0ZVByb2Nlc3Nvcik7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbi8qKlxuICogQG1vZHVsZSBzaGFkeS1yZW5kZXJcbiAqL1xuXG5pbXBvcnQge2lzVGVtcGxhdGVQYXJ0QWN0aXZlLCBUZW1wbGF0ZSwgVGVtcGxhdGVQYXJ0fSBmcm9tICcuL3RlbXBsYXRlLmpzJztcblxuY29uc3Qgd2Fsa2VyTm9kZUZpbHRlciA9IDEzMyAvKiBOb2RlRmlsdGVyLlNIT1dfe0VMRU1FTlR8Q09NTUVOVHxURVhUfSAqLztcblxuLyoqXG4gKiBSZW1vdmVzIHRoZSBsaXN0IG9mIG5vZGVzIGZyb20gYSBUZW1wbGF0ZSBzYWZlbHkuIEluIGFkZGl0aW9uIHRvIHJlbW92aW5nXG4gKiBub2RlcyBmcm9tIHRoZSBUZW1wbGF0ZSwgdGhlIFRlbXBsYXRlIHBhcnQgaW5kaWNlcyBhcmUgdXBkYXRlZCB0byBtYXRjaFxuICogdGhlIG11dGF0ZWQgVGVtcGxhdGUgRE9NLlxuICpcbiAqIEFzIHRoZSB0ZW1wbGF0ZSBpcyB3YWxrZWQgdGhlIHJlbW92YWwgc3RhdGUgaXMgdHJhY2tlZCBhbmRcbiAqIHBhcnQgaW5kaWNlcyBhcmUgYWRqdXN0ZWQgYXMgbmVlZGVkLlxuICpcbiAqIGRpdlxuICogICBkaXYjMSAocmVtb3ZlKSA8LS0gc3RhcnQgcmVtb3ZpbmcgKHJlbW92aW5nIG5vZGUgaXMgZGl2IzEpXG4gKiAgICAgZGl2XG4gKiAgICAgICBkaXYjMiAocmVtb3ZlKSAgPC0tIGNvbnRpbnVlIHJlbW92aW5nIChyZW1vdmluZyBub2RlIGlzIHN0aWxsIGRpdiMxKVxuICogICAgICAgICBkaXZcbiAqIGRpdiA8LS0gc3RvcCByZW1vdmluZyBzaW5jZSBwcmV2aW91cyBzaWJsaW5nIGlzIHRoZSByZW1vdmluZyBub2RlIChkaXYjMSxcbiAqIHJlbW92ZWQgNCBub2RlcylcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZU5vZGVzRnJvbVRlbXBsYXRlKFxuICAgIHRlbXBsYXRlOiBUZW1wbGF0ZSwgbm9kZXNUb1JlbW92ZTogU2V0PE5vZGU+KSB7XG4gIGNvbnN0IHtlbGVtZW50OiB7Y29udGVudH0sIHBhcnRzfSA9IHRlbXBsYXRlO1xuICBjb25zdCB3YWxrZXIgPVxuICAgICAgZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihjb250ZW50LCB3YWxrZXJOb2RlRmlsdGVyLCBudWxsLCBmYWxzZSk7XG4gIGxldCBwYXJ0SW5kZXggPSBuZXh0QWN0aXZlSW5kZXhJblRlbXBsYXRlUGFydHMocGFydHMpO1xuICBsZXQgcGFydCA9IHBhcnRzW3BhcnRJbmRleF07XG4gIGxldCBub2RlSW5kZXggPSAtMTtcbiAgbGV0IHJlbW92ZUNvdW50ID0gMDtcbiAgY29uc3Qgbm9kZXNUb1JlbW92ZUluVGVtcGxhdGUgPSBbXTtcbiAgbGV0IGN1cnJlbnRSZW1vdmluZ05vZGU6IE5vZGV8bnVsbCA9IG51bGw7XG4gIHdoaWxlICh3YWxrZXIubmV4dE5vZGUoKSkge1xuICAgIG5vZGVJbmRleCsrO1xuICAgIGNvbnN0IG5vZGUgPSB3YWxrZXIuY3VycmVudE5vZGUgYXMgRWxlbWVudDtcbiAgICAvLyBFbmQgcmVtb3ZhbCBpZiBzdGVwcGVkIHBhc3QgdGhlIHJlbW92aW5nIG5vZGVcbiAgICBpZiAobm9kZS5wcmV2aW91c1NpYmxpbmcgPT09IGN1cnJlbnRSZW1vdmluZ05vZGUpIHtcbiAgICAgIGN1cnJlbnRSZW1vdmluZ05vZGUgPSBudWxsO1xuICAgIH1cbiAgICAvLyBBIG5vZGUgdG8gcmVtb3ZlIHdhcyBmb3VuZCBpbiB0aGUgdGVtcGxhdGVcbiAgICBpZiAobm9kZXNUb1JlbW92ZS5oYXMobm9kZSkpIHtcbiAgICAgIG5vZGVzVG9SZW1vdmVJblRlbXBsYXRlLnB1c2gobm9kZSk7XG4gICAgICAvLyBUcmFjayBub2RlIHdlJ3JlIHJlbW92aW5nXG4gICAgICBpZiAoY3VycmVudFJlbW92aW5nTm9kZSA9PT0gbnVsbCkge1xuICAgICAgICBjdXJyZW50UmVtb3ZpbmdOb2RlID0gbm9kZTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gV2hlbiByZW1vdmluZywgaW5jcmVtZW50IGNvdW50IGJ5IHdoaWNoIHRvIGFkanVzdCBzdWJzZXF1ZW50IHBhcnQgaW5kaWNlc1xuICAgIGlmIChjdXJyZW50UmVtb3ZpbmdOb2RlICE9PSBudWxsKSB7XG4gICAgICByZW1vdmVDb3VudCsrO1xuICAgIH1cbiAgICB3aGlsZSAocGFydCAhPT0gdW5kZWZpbmVkICYmIHBhcnQuaW5kZXggPT09IG5vZGVJbmRleCkge1xuICAgICAgLy8gSWYgcGFydCBpcyBpbiBhIHJlbW92ZWQgbm9kZSBkZWFjdGl2YXRlIGl0IGJ5IHNldHRpbmcgaW5kZXggdG8gLTEgb3JcbiAgICAgIC8vIGFkanVzdCB0aGUgaW5kZXggYXMgbmVlZGVkLlxuICAgICAgcGFydC5pbmRleCA9IGN1cnJlbnRSZW1vdmluZ05vZGUgIT09IG51bGwgPyAtMSA6IHBhcnQuaW5kZXggLSByZW1vdmVDb3VudDtcbiAgICAgIC8vIGdvIHRvIHRoZSBuZXh0IGFjdGl2ZSBwYXJ0LlxuICAgICAgcGFydEluZGV4ID0gbmV4dEFjdGl2ZUluZGV4SW5UZW1wbGF0ZVBhcnRzKHBhcnRzLCBwYXJ0SW5kZXgpO1xuICAgICAgcGFydCA9IHBhcnRzW3BhcnRJbmRleF07XG4gICAgfVxuICB9XG4gIG5vZGVzVG9SZW1vdmVJblRlbXBsYXRlLmZvckVhY2goKG4pID0+IG4ucGFyZW50Tm9kZSEucmVtb3ZlQ2hpbGQobikpO1xufVxuXG5jb25zdCBjb3VudE5vZGVzID0gKG5vZGU6IE5vZGUpID0+IHtcbiAgbGV0IGNvdW50ID0gKG5vZGUubm9kZVR5cGUgPT09IDExIC8qIE5vZGUuRE9DVU1FTlRfRlJBR01FTlRfTk9ERSAqLykgPyAwIDogMTtcbiAgY29uc3Qgd2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihub2RlLCB3YWxrZXJOb2RlRmlsdGVyLCBudWxsLCBmYWxzZSk7XG4gIHdoaWxlICh3YWxrZXIubmV4dE5vZGUoKSkge1xuICAgIGNvdW50Kys7XG4gIH1cbiAgcmV0dXJuIGNvdW50O1xufTtcblxuY29uc3QgbmV4dEFjdGl2ZUluZGV4SW5UZW1wbGF0ZVBhcnRzID1cbiAgICAocGFydHM6IFRlbXBsYXRlUGFydFtdLCBzdGFydEluZGV4OiBudW1iZXIgPSAtMSkgPT4ge1xuICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0SW5kZXggKyAxOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgcGFydCA9IHBhcnRzW2ldO1xuICAgICAgICBpZiAoaXNUZW1wbGF0ZVBhcnRBY3RpdmUocGFydCkpIHtcbiAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG5cbi8qKlxuICogSW5zZXJ0cyB0aGUgZ2l2ZW4gbm9kZSBpbnRvIHRoZSBUZW1wbGF0ZSwgb3B0aW9uYWxseSBiZWZvcmUgdGhlIGdpdmVuXG4gKiByZWZOb2RlLiBJbiBhZGRpdGlvbiB0byBpbnNlcnRpbmcgdGhlIG5vZGUgaW50byB0aGUgVGVtcGxhdGUsIHRoZSBUZW1wbGF0ZVxuICogcGFydCBpbmRpY2VzIGFyZSB1cGRhdGVkIHRvIG1hdGNoIHRoZSBtdXRhdGVkIFRlbXBsYXRlIERPTS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluc2VydE5vZGVJbnRvVGVtcGxhdGUoXG4gICAgdGVtcGxhdGU6IFRlbXBsYXRlLCBub2RlOiBOb2RlLCByZWZOb2RlOiBOb2RlfG51bGwgPSBudWxsKSB7XG4gIGNvbnN0IHtlbGVtZW50OiB7Y29udGVudH0sIHBhcnRzfSA9IHRlbXBsYXRlO1xuICAvLyBJZiB0aGVyZSdzIG5vIHJlZk5vZGUsIHRoZW4gcHV0IG5vZGUgYXQgZW5kIG9mIHRlbXBsYXRlLlxuICAvLyBObyBwYXJ0IGluZGljZXMgbmVlZCB0byBiZSBzaGlmdGVkIGluIHRoaXMgY2FzZS5cbiAgaWYgKHJlZk5vZGUgPT09IG51bGwgfHwgcmVmTm9kZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY29udGVudC5hcHBlbmRDaGlsZChub2RlKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3Qgd2Fsa2VyID1cbiAgICAgIGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoY29udGVudCwgd2Fsa2VyTm9kZUZpbHRlciwgbnVsbCwgZmFsc2UpO1xuICBsZXQgcGFydEluZGV4ID0gbmV4dEFjdGl2ZUluZGV4SW5UZW1wbGF0ZVBhcnRzKHBhcnRzKTtcbiAgbGV0IGluc2VydENvdW50ID0gMDtcbiAgbGV0IHdhbGtlckluZGV4ID0gLTE7XG4gIHdoaWxlICh3YWxrZXIubmV4dE5vZGUoKSkge1xuICAgIHdhbGtlckluZGV4Kys7XG4gICAgY29uc3Qgd2Fsa2VyTm9kZSA9IHdhbGtlci5jdXJyZW50Tm9kZSBhcyBFbGVtZW50O1xuICAgIGlmICh3YWxrZXJOb2RlID09PSByZWZOb2RlKSB7XG4gICAgICBpbnNlcnRDb3VudCA9IGNvdW50Tm9kZXMobm9kZSk7XG4gICAgICByZWZOb2RlLnBhcmVudE5vZGUhLmluc2VydEJlZm9yZShub2RlLCByZWZOb2RlKTtcbiAgICB9XG4gICAgd2hpbGUgKHBhcnRJbmRleCAhPT0gLTEgJiYgcGFydHNbcGFydEluZGV4XS5pbmRleCA9PT0gd2Fsa2VySW5kZXgpIHtcbiAgICAgIC8vIElmIHdlJ3ZlIGluc2VydGVkIHRoZSBub2RlLCBzaW1wbHkgYWRqdXN0IGFsbCBzdWJzZXF1ZW50IHBhcnRzXG4gICAgICBpZiAoaW5zZXJ0Q291bnQgPiAwKSB7XG4gICAgICAgIHdoaWxlIChwYXJ0SW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgcGFydHNbcGFydEluZGV4XS5pbmRleCArPSBpbnNlcnRDb3VudDtcbiAgICAgICAgICBwYXJ0SW5kZXggPSBuZXh0QWN0aXZlSW5kZXhJblRlbXBsYXRlUGFydHMocGFydHMsIHBhcnRJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGFydEluZGV4ID0gbmV4dEFjdGl2ZUluZGV4SW5UZW1wbGF0ZVBhcnRzKHBhcnRzLCBwYXJ0SW5kZXgpO1xuICAgIH1cbiAgfVxufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuXG4vKipcbiAqIE1vZHVsZSB0byBhZGQgc2hhZHkgRE9NL3NoYWR5IENTUyBwb2x5ZmlsbCBzdXBwb3J0IHRvIGxpdC1odG1sIHRlbXBsYXRlXG4gKiByZW5kZXJpbmcuIFNlZSB0aGUgW1tyZW5kZXJdXSBtZXRob2QgZm9yIGRldGFpbHMuXG4gKlxuICogQG1vZHVsZSBzaGFkeS1yZW5kZXJcbiAqIEBwcmVmZXJyZWRcbiAqL1xuXG4vKipcbiAqIERvIG5vdCByZW1vdmUgdGhpcyBjb21tZW50OyBpdCBrZWVwcyB0eXBlZG9jIGZyb20gbWlzcGxhY2luZyB0aGUgbW9kdWxlXG4gKiBkb2NzLlxuICovXG5pbXBvcnQge3JlbW92ZU5vZGVzfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQge2luc2VydE5vZGVJbnRvVGVtcGxhdGUsIHJlbW92ZU5vZGVzRnJvbVRlbXBsYXRlfSBmcm9tICcuL21vZGlmeS10ZW1wbGF0ZS5qcyc7XG5pbXBvcnQge1JlbmRlck9wdGlvbnN9IGZyb20gJy4vcmVuZGVyLW9wdGlvbnMuanMnO1xuaW1wb3J0IHtwYXJ0cywgcmVuZGVyIGFzIGxpdFJlbmRlcn0gZnJvbSAnLi9yZW5kZXIuanMnO1xuaW1wb3J0IHt0ZW1wbGF0ZUNhY2hlc30gZnJvbSAnLi90ZW1wbGF0ZS1mYWN0b3J5LmpzJztcbmltcG9ydCB7VGVtcGxhdGVJbnN0YW5jZX0gZnJvbSAnLi90ZW1wbGF0ZS1pbnN0YW5jZS5qcyc7XG5pbXBvcnQge1RlbXBsYXRlUmVzdWx0fSBmcm9tICcuL3RlbXBsYXRlLXJlc3VsdC5qcyc7XG5pbXBvcnQge21hcmtlciwgVGVtcGxhdGV9IGZyb20gJy4vdGVtcGxhdGUuanMnO1xuXG5leHBvcnQge2h0bWwsIHN2ZywgVGVtcGxhdGVSZXN1bHR9IGZyb20gJy4uL2xpdC1odG1sLmpzJztcblxuLy8gR2V0IGEga2V5IHRvIGxvb2t1cCBpbiBgdGVtcGxhdGVDYWNoZXNgLlxuY29uc3QgZ2V0VGVtcGxhdGVDYWNoZUtleSA9ICh0eXBlOiBzdHJpbmcsIHNjb3BlTmFtZTogc3RyaW5nKSA9PlxuICAgIGAke3R5cGV9LS0ke3Njb3BlTmFtZX1gO1xuXG5sZXQgY29tcGF0aWJsZVNoYWR5Q1NTVmVyc2lvbiA9IHRydWU7XG5cbmlmICh0eXBlb2Ygd2luZG93LlNoYWR5Q1NTID09PSAndW5kZWZpbmVkJykge1xuICBjb21wYXRpYmxlU2hhZHlDU1NWZXJzaW9uID0gZmFsc2U7XG59IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cuU2hhZHlDU1MucHJlcGFyZVRlbXBsYXRlRG9tID09PSAndW5kZWZpbmVkJykge1xuICBjb25zb2xlLndhcm4oXG4gICAgICBgSW5jb21wYXRpYmxlIFNoYWR5Q1NTIHZlcnNpb24gZGV0ZWN0ZWQuIGAgK1xuICAgICAgYFBsZWFzZSB1cGRhdGUgdG8gYXQgbGVhc3QgQHdlYmNvbXBvbmVudHMvd2ViY29tcG9uZW50c2pzQDIuMC4yIGFuZCBgICtcbiAgICAgIGBAd2ViY29tcG9uZW50cy9zaGFkeWNzc0AxLjMuMS5gKTtcbiAgY29tcGF0aWJsZVNoYWR5Q1NTVmVyc2lvbiA9IGZhbHNlO1xufVxuXG4vKipcbiAqIFRlbXBsYXRlIGZhY3Rvcnkgd2hpY2ggc2NvcGVzIHRlbXBsYXRlIERPTSB1c2luZyBTaGFkeUNTUy5cbiAqIEBwYXJhbSBzY29wZU5hbWUge3N0cmluZ31cbiAqL1xuY29uc3Qgc2hhZHlUZW1wbGF0ZUZhY3RvcnkgPSAoc2NvcGVOYW1lOiBzdHJpbmcpID0+XG4gICAgKHJlc3VsdDogVGVtcGxhdGVSZXN1bHQpID0+IHtcbiAgICAgIGNvbnN0IGNhY2hlS2V5ID0gZ2V0VGVtcGxhdGVDYWNoZUtleShyZXN1bHQudHlwZSwgc2NvcGVOYW1lKTtcbiAgICAgIGxldCB0ZW1wbGF0ZUNhY2hlID0gdGVtcGxhdGVDYWNoZXMuZ2V0KGNhY2hlS2V5KTtcbiAgICAgIGlmICh0ZW1wbGF0ZUNhY2hlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGVtcGxhdGVDYWNoZSA9IHtcbiAgICAgICAgICBzdHJpbmdzQXJyYXk6IG5ldyBXZWFrTWFwPFRlbXBsYXRlU3RyaW5nc0FycmF5LCBUZW1wbGF0ZT4oKSxcbiAgICAgICAgICBrZXlTdHJpbmc6IG5ldyBNYXA8c3RyaW5nLCBUZW1wbGF0ZT4oKVxuICAgICAgICB9O1xuICAgICAgICB0ZW1wbGF0ZUNhY2hlcy5zZXQoY2FjaGVLZXksIHRlbXBsYXRlQ2FjaGUpO1xuICAgICAgfVxuXG4gICAgICBsZXQgdGVtcGxhdGUgPSB0ZW1wbGF0ZUNhY2hlLnN0cmluZ3NBcnJheS5nZXQocmVzdWx0LnN0cmluZ3MpO1xuICAgICAgaWYgKHRlbXBsYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBrZXkgPSByZXN1bHQuc3RyaW5ncy5qb2luKG1hcmtlcik7XG4gICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlQ2FjaGUua2V5U3RyaW5nLmdldChrZXkpO1xuICAgICAgaWYgKHRlbXBsYXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHJlc3VsdC5nZXRUZW1wbGF0ZUVsZW1lbnQoKTtcbiAgICAgICAgaWYgKGNvbXBhdGlibGVTaGFkeUNTU1ZlcnNpb24pIHtcbiAgICAgICAgICB3aW5kb3cuU2hhZHlDU1MhLnByZXBhcmVUZW1wbGF0ZURvbShlbGVtZW50LCBzY29wZU5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHRlbXBsYXRlID0gbmV3IFRlbXBsYXRlKHJlc3VsdCwgZWxlbWVudCk7XG4gICAgICAgIHRlbXBsYXRlQ2FjaGUua2V5U3RyaW5nLnNldChrZXksIHRlbXBsYXRlKTtcbiAgICAgIH1cbiAgICAgIHRlbXBsYXRlQ2FjaGUuc3RyaW5nc0FycmF5LnNldChyZXN1bHQuc3RyaW5ncywgdGVtcGxhdGUpO1xuICAgICAgcmV0dXJuIHRlbXBsYXRlO1xuICAgIH07XG5cbmNvbnN0IFRFTVBMQVRFX1RZUEVTID0gWydodG1sJywgJ3N2ZyddO1xuXG4vKipcbiAqIFJlbW92ZXMgYWxsIHN0eWxlIGVsZW1lbnRzIGZyb20gVGVtcGxhdGVzIGZvciB0aGUgZ2l2ZW4gc2NvcGVOYW1lLlxuICovXG5jb25zdCByZW1vdmVTdHlsZXNGcm9tTGl0VGVtcGxhdGVzID0gKHNjb3BlTmFtZTogc3RyaW5nKSA9PiB7XG4gIFRFTVBMQVRFX1RZUEVTLmZvckVhY2goKHR5cGUpID0+IHtcbiAgICBjb25zdCB0ZW1wbGF0ZXMgPSB0ZW1wbGF0ZUNhY2hlcy5nZXQoZ2V0VGVtcGxhdGVDYWNoZUtleSh0eXBlLCBzY29wZU5hbWUpKTtcbiAgICBpZiAodGVtcGxhdGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRlbXBsYXRlcy5rZXlTdHJpbmcuZm9yRWFjaCgodGVtcGxhdGUpID0+IHtcbiAgICAgICAgY29uc3Qge2VsZW1lbnQ6IHtjb250ZW50fX0gPSB0ZW1wbGF0ZTtcbiAgICAgICAgLy8gSUUgMTEgZG9lc24ndCBzdXBwb3J0IHRoZSBpdGVyYWJsZSBwYXJhbSBTZXQgY29uc3RydWN0b3JcbiAgICAgICAgY29uc3Qgc3R5bGVzID0gbmV3IFNldDxFbGVtZW50PigpO1xuICAgICAgICBBcnJheS5mcm9tKGNvbnRlbnQucXVlcnlTZWxlY3RvckFsbCgnc3R5bGUnKSkuZm9yRWFjaCgoczogRWxlbWVudCkgPT4ge1xuICAgICAgICAgIHN0eWxlcy5hZGQocyk7XG4gICAgICAgIH0pO1xuICAgICAgICByZW1vdmVOb2Rlc0Zyb21UZW1wbGF0ZSh0ZW1wbGF0ZSwgc3R5bGVzKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59O1xuXG5jb25zdCBzaGFkeVJlbmRlclNldCA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuXG4vKipcbiAqIEZvciB0aGUgZ2l2ZW4gc2NvcGUgbmFtZSwgZW5zdXJlcyB0aGF0IFNoYWR5Q1NTIHN0eWxlIHNjb3BpbmcgaXMgcGVyZm9ybWVkLlxuICogVGhpcyBpcyBkb25lIGp1c3Qgb25jZSBwZXIgc2NvcGUgbmFtZSBzbyB0aGUgZnJhZ21lbnQgYW5kIHRlbXBsYXRlIGNhbm5vdFxuICogYmUgbW9kaWZpZWQuXG4gKiAoMSkgZXh0cmFjdHMgc3R5bGVzIGZyb20gdGhlIHJlbmRlcmVkIGZyYWdtZW50IGFuZCBoYW5kcyB0aGVtIHRvIFNoYWR5Q1NTXG4gKiB0byBiZSBzY29wZWQgYW5kIGFwcGVuZGVkIHRvIHRoZSBkb2N1bWVudFxuICogKDIpIHJlbW92ZXMgc3R5bGUgZWxlbWVudHMgZnJvbSBhbGwgbGl0LWh0bWwgVGVtcGxhdGVzIGZvciB0aGlzIHNjb3BlIG5hbWUuXG4gKlxuICogTm90ZSwgPHN0eWxlPiBlbGVtZW50cyBjYW4gb25seSBiZSBwbGFjZWQgaW50byB0ZW1wbGF0ZXMgZm9yIHRoZVxuICogaW5pdGlhbCByZW5kZXJpbmcgb2YgdGhlIHNjb3BlLiBJZiA8c3R5bGU+IGVsZW1lbnRzIGFyZSBpbmNsdWRlZCBpbiB0ZW1wbGF0ZXNcbiAqIGR5bmFtaWNhbGx5IHJlbmRlcmVkIHRvIHRoZSBzY29wZSAoYWZ0ZXIgdGhlIGZpcnN0IHNjb3BlIHJlbmRlciksIHRoZXkgd2lsbFxuICogbm90IGJlIHNjb3BlZCBhbmQgdGhlIDxzdHlsZT4gd2lsbCBiZSBsZWZ0IGluIHRoZSB0ZW1wbGF0ZSBhbmQgcmVuZGVyZWRcbiAqIG91dHB1dC5cbiAqL1xuY29uc3QgcHJlcGFyZVRlbXBsYXRlU3R5bGVzID1cbiAgICAocmVuZGVyZWRET006IERvY3VtZW50RnJhZ21lbnQsIHRlbXBsYXRlOiBUZW1wbGF0ZSwgc2NvcGVOYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgIHNoYWR5UmVuZGVyU2V0LmFkZChzY29wZU5hbWUpO1xuICAgICAgLy8gTW92ZSBzdHlsZXMgb3V0IG9mIHJlbmRlcmVkIERPTSBhbmQgc3RvcmUuXG4gICAgICBjb25zdCBzdHlsZXMgPSByZW5kZXJlZERPTS5xdWVyeVNlbGVjdG9yQWxsKCdzdHlsZScpO1xuICAgICAgY29uc3Qge2xlbmd0aH0gPSBzdHlsZXM7XG4gICAgICAvLyBJZiB0aGVyZSBhcmUgbm8gc3R5bGVzLCBza2lwIHVubmVjZXNzYXJ5IHdvcmtcbiAgICAgIGlmIChsZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gRW5zdXJlIHByZXBhcmVUZW1wbGF0ZVN0eWxlcyBpcyBjYWxsZWQgdG8gc3VwcG9ydCBhZGRpbmdcbiAgICAgICAgLy8gc3R5bGVzIHZpYSBgcHJlcGFyZUFkb3B0ZWRDc3NUZXh0YCBzaW5jZSB0aGF0IHJlcXVpcmVzIHRoYXRcbiAgICAgICAgLy8gYHByZXBhcmVUZW1wbGF0ZVN0eWxlc2AgaXMgY2FsbGVkLlxuICAgICAgICB3aW5kb3cuU2hhZHlDU1MhLnByZXBhcmVUZW1wbGF0ZVN0eWxlcyh0ZW1wbGF0ZS5lbGVtZW50LCBzY29wZU5hbWUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBjb25kZW5zZWRTdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICAvLyBDb2xsZWN0IHN0eWxlcyBpbnRvIGEgc2luZ2xlIHN0eWxlLiBUaGlzIGhlbHBzIHVzIG1ha2Ugc3VyZSBTaGFkeUNTU1xuICAgICAgLy8gbWFuaXB1bGF0aW9ucyB3aWxsIG5vdCBwcmV2ZW50IHVzIGZyb20gYmVpbmcgYWJsZSB0byBmaXggdXAgdGVtcGxhdGVcbiAgICAgIC8vIHBhcnQgaW5kaWNlcy5cbiAgICAgIC8vIE5PVEU6IGNvbGxlY3Rpbmcgc3R5bGVzIGlzIGluZWZmaWNpZW50IGZvciBicm93c2VycyBidXQgU2hhZHlDU1NcbiAgICAgIC8vIGN1cnJlbnRseSBkb2VzIHRoaXMgYW55d2F5LiBXaGVuIGl0IGRvZXMgbm90LCB0aGlzIHNob3VsZCBiZSBjaGFuZ2VkLlxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBzdHlsZSA9IHN0eWxlc1tpXTtcbiAgICAgICAgc3R5bGUucGFyZW50Tm9kZSEucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuICAgICAgICBjb25kZW5zZWRTdHlsZS50ZXh0Q29udGVudCEgKz0gc3R5bGUudGV4dENvbnRlbnQ7XG4gICAgICB9XG4gICAgICAvLyBSZW1vdmUgc3R5bGVzIGZyb20gbmVzdGVkIHRlbXBsYXRlcyBpbiB0aGlzIHNjb3BlLlxuICAgICAgcmVtb3ZlU3R5bGVzRnJvbUxpdFRlbXBsYXRlcyhzY29wZU5hbWUpO1xuICAgICAgLy8gQW5kIHRoZW4gcHV0IHRoZSBjb25kZW5zZWQgc3R5bGUgaW50byB0aGUgXCJyb290XCIgdGVtcGxhdGUgcGFzc2VkIGluIGFzXG4gICAgICAvLyBgdGVtcGxhdGVgLlxuICAgICAgY29uc3QgY29udGVudCA9IHRlbXBsYXRlLmVsZW1lbnQuY29udGVudDtcbiAgICAgIGluc2VydE5vZGVJbnRvVGVtcGxhdGUodGVtcGxhdGUsIGNvbmRlbnNlZFN0eWxlLCBjb250ZW50LmZpcnN0Q2hpbGQpO1xuICAgICAgLy8gTm90ZSwgaXQncyBpbXBvcnRhbnQgdGhhdCBTaGFkeUNTUyBnZXRzIHRoZSB0ZW1wbGF0ZSB0aGF0IGBsaXQtaHRtbGBcbiAgICAgIC8vIHdpbGwgYWN0dWFsbHkgcmVuZGVyIHNvIHRoYXQgaXQgY2FuIHVwZGF0ZSB0aGUgc3R5bGUgaW5zaWRlIHdoZW5cbiAgICAgIC8vIG5lZWRlZCAoZS5nLiBAYXBwbHkgbmF0aXZlIFNoYWRvdyBET00gY2FzZSkuXG4gICAgICB3aW5kb3cuU2hhZHlDU1MhLnByZXBhcmVUZW1wbGF0ZVN0eWxlcyh0ZW1wbGF0ZS5lbGVtZW50LCBzY29wZU5hbWUpO1xuICAgICAgY29uc3Qgc3R5bGUgPSBjb250ZW50LnF1ZXJ5U2VsZWN0b3IoJ3N0eWxlJyk7XG4gICAgICBpZiAod2luZG93LlNoYWR5Q1NTIS5uYXRpdmVTaGFkb3cgJiYgc3R5bGUgIT09IG51bGwpIHtcbiAgICAgICAgLy8gV2hlbiBpbiBuYXRpdmUgU2hhZG93IERPTSwgZW5zdXJlIHRoZSBzdHlsZSBjcmVhdGVkIGJ5IFNoYWR5Q1NTIGlzXG4gICAgICAgIC8vIGluY2x1ZGVkIGluIGluaXRpYWxseSByZW5kZXJlZCBvdXRwdXQgKGByZW5kZXJlZERPTWApLlxuICAgICAgICByZW5kZXJlZERPTS5pbnNlcnRCZWZvcmUoc3R5bGUuY2xvbmVOb2RlKHRydWUpLCByZW5kZXJlZERPTS5maXJzdENoaWxkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFdoZW4gbm8gc3R5bGUgaXMgbGVmdCBpbiB0aGUgdGVtcGxhdGUsIHBhcnRzIHdpbGwgYmUgYnJva2VuIGFzIGFcbiAgICAgICAgLy8gcmVzdWx0LiBUbyBmaXggdGhpcywgd2UgcHV0IGJhY2sgdGhlIHN0eWxlIG5vZGUgU2hhZHlDU1MgcmVtb3ZlZFxuICAgICAgICAvLyBhbmQgdGhlbiB0ZWxsIGxpdCB0byByZW1vdmUgdGhhdCBub2RlIGZyb20gdGhlIHRlbXBsYXRlLlxuICAgICAgICAvLyBUaGVyZSBjYW4gYmUgbm8gc3R5bGUgaW4gdGhlIHRlbXBsYXRlIGluIDIgY2FzZXMgKDEpIHdoZW4gU2hhZHkgRE9NXG4gICAgICAgIC8vIGlzIGluIHVzZSwgU2hhZHlDU1MgcmVtb3ZlcyBhbGwgc3R5bGVzLCAoMikgd2hlbiBuYXRpdmUgU2hhZG93IERPTVxuICAgICAgICAvLyBpcyBpbiB1c2UgU2hhZHlDU1MgcmVtb3ZlcyB0aGUgc3R5bGUgaWYgaXQgY29udGFpbnMgbm8gY29udGVudC5cbiAgICAgICAgLy8gTk9URSwgU2hhZHlDU1MgY3JlYXRlcyBpdHMgb3duIHN0eWxlIHNvIHdlIGNhbiBzYWZlbHkgYWRkL3JlbW92ZVxuICAgICAgICAvLyBgY29uZGVuc2VkU3R5bGVgIGhlcmUuXG4gICAgICAgIGNvbnRlbnQuaW5zZXJ0QmVmb3JlKGNvbmRlbnNlZFN0eWxlLCBjb250ZW50LmZpcnN0Q2hpbGQpO1xuICAgICAgICBjb25zdCByZW1vdmVzID0gbmV3IFNldCgpO1xuICAgICAgICByZW1vdmVzLmFkZChjb25kZW5zZWRTdHlsZSk7XG4gICAgICAgIHJlbW92ZU5vZGVzRnJvbVRlbXBsYXRlKHRlbXBsYXRlLCByZW1vdmVzKTtcbiAgICAgIH1cbiAgICB9O1xuXG5leHBvcnQgaW50ZXJmYWNlIFNoYWR5UmVuZGVyT3B0aW9ucyBleHRlbmRzIFBhcnRpYWw8UmVuZGVyT3B0aW9ucz4ge1xuICBzY29wZU5hbWU6IHN0cmluZztcbn1cblxuLyoqXG4gKiBFeHRlbnNpb24gdG8gdGhlIHN0YW5kYXJkIGByZW5kZXJgIG1ldGhvZCB3aGljaCBzdXBwb3J0cyByZW5kZXJpbmdcbiAqIHRvIFNoYWRvd1Jvb3RzIHdoZW4gdGhlIFNoYWR5RE9NIChodHRwczovL2dpdGh1Yi5jb20vd2ViY29tcG9uZW50cy9zaGFkeWRvbSlcbiAqIGFuZCBTaGFkeUNTUyAoaHR0cHM6Ly9naXRodWIuY29tL3dlYmNvbXBvbmVudHMvc2hhZHljc3MpIHBvbHlmaWxscyBhcmUgdXNlZFxuICogb3Igd2hlbiB0aGUgd2ViY29tcG9uZW50c2pzXG4gKiAoaHR0cHM6Ly9naXRodWIuY29tL3dlYmNvbXBvbmVudHMvd2ViY29tcG9uZW50c2pzKSBwb2x5ZmlsbCBpcyB1c2VkLlxuICpcbiAqIEFkZHMgYSBgc2NvcGVOYW1lYCBvcHRpb24gd2hpY2ggaXMgdXNlZCB0byBzY29wZSBlbGVtZW50IERPTSBhbmQgc3R5bGVzaGVldHNcbiAqIHdoZW4gbmF0aXZlIFNoYWRvd0RPTSBpcyB1bmF2YWlsYWJsZS4gVGhlIGBzY29wZU5hbWVgIHdpbGwgYmUgYWRkZWQgdG9cbiAqIHRoZSBjbGFzcyBhdHRyaWJ1dGUgb2YgYWxsIHJlbmRlcmVkIERPTS4gSW4gYWRkaXRpb24sIGFueSBzdHlsZSBlbGVtZW50cyB3aWxsXG4gKiBiZSBhdXRvbWF0aWNhbGx5IHJlLXdyaXR0ZW4gd2l0aCB0aGlzIGBzY29wZU5hbWVgIHNlbGVjdG9yIGFuZCBtb3ZlZCBvdXRcbiAqIG9mIHRoZSByZW5kZXJlZCBET00gYW5kIGludG8gdGhlIGRvY3VtZW50IGA8aGVhZD5gLlxuICpcbiAqIEl0IGlzIGNvbW1vbiB0byB1c2UgdGhpcyByZW5kZXIgbWV0aG9kIGluIGNvbmp1bmN0aW9uIHdpdGggYSBjdXN0b20gZWxlbWVudFxuICogd2hpY2ggcmVuZGVycyBhIHNoYWRvd1Jvb3QuIFdoZW4gdGhpcyBpcyBkb25lLCB0eXBpY2FsbHkgdGhlIGVsZW1lbnQnc1xuICogYGxvY2FsTmFtZWAgc2hvdWxkIGJlIHVzZWQgYXMgdGhlIGBzY29wZU5hbWVgLlxuICpcbiAqIEluIGFkZGl0aW9uIHRvIERPTSBzY29waW5nLCBTaGFkeUNTUyBhbHNvIHN1cHBvcnRzIGEgYmFzaWMgc2hpbSBmb3IgY3NzXG4gKiBjdXN0b20gcHJvcGVydGllcyAobmVlZGVkIG9ubHkgb24gb2xkZXIgYnJvd3NlcnMgbGlrZSBJRTExKSBhbmQgYSBzaGltIGZvclxuICogYSBkZXByZWNhdGVkIGZlYXR1cmUgY2FsbGVkIGBAYXBwbHlgIHRoYXQgc3VwcG9ydHMgYXBwbHlpbmcgYSBzZXQgb2YgY3NzXG4gKiBjdXN0b20gcHJvcGVydGllcyB0byBhIGdpdmVuIGxvY2F0aW9uLlxuICpcbiAqIFVzYWdlIGNvbnNpZGVyYXRpb25zOlxuICpcbiAqICogUGFydCB2YWx1ZXMgaW4gYDxzdHlsZT5gIGVsZW1lbnRzIGFyZSBvbmx5IGFwcGxpZWQgdGhlIGZpcnN0IHRpbWUgYSBnaXZlblxuICogYHNjb3BlTmFtZWAgcmVuZGVycy4gU3Vic2VxdWVudCBjaGFuZ2VzIHRvIHBhcnRzIGluIHN0eWxlIGVsZW1lbnRzIHdpbGwgaGF2ZVxuICogbm8gZWZmZWN0LiBCZWNhdXNlIG9mIHRoaXMsIHBhcnRzIGluIHN0eWxlIGVsZW1lbnRzIHNob3VsZCBvbmx5IGJlIHVzZWQgZm9yXG4gKiB2YWx1ZXMgdGhhdCB3aWxsIG5ldmVyIGNoYW5nZSwgZm9yIGV4YW1wbGUgcGFydHMgdGhhdCBzZXQgc2NvcGUtd2lkZSB0aGVtZVxuICogdmFsdWVzIG9yIHBhcnRzIHdoaWNoIHJlbmRlciBzaGFyZWQgc3R5bGUgZWxlbWVudHMuXG4gKlxuICogKiBOb3RlLCBkdWUgdG8gYSBsaW1pdGF0aW9uIG9mIHRoZSBTaGFkeURPTSBwb2x5ZmlsbCwgcmVuZGVyaW5nIGluIGFcbiAqIGN1c3RvbSBlbGVtZW50J3MgYGNvbnN0cnVjdG9yYCBpcyBub3Qgc3VwcG9ydGVkLiBJbnN0ZWFkIHJlbmRlcmluZyBzaG91bGRcbiAqIGVpdGhlciBkb25lIGFzeW5jaHJvbm91c2x5LCBmb3IgZXhhbXBsZSBhdCBtaWNyb3Rhc2sgdGltaW5nIChmb3IgZXhhbXBsZVxuICogYFByb21pc2UucmVzb2x2ZSgpYCksIG9yIGJlIGRlZmVycmVkIHVudGlsIHRoZSBmaXJzdCB0aW1lIHRoZSBlbGVtZW50J3NcbiAqIGBjb25uZWN0ZWRDYWxsYmFja2AgcnVucy5cbiAqXG4gKiBVc2FnZSBjb25zaWRlcmF0aW9ucyB3aGVuIHVzaW5nIHNoaW1tZWQgY3VzdG9tIHByb3BlcnRpZXMgb3IgYEBhcHBseWA6XG4gKlxuICogKiBXaGVuZXZlciBhbnkgZHluYW1pYyBjaGFuZ2VzIGFyZSBtYWRlIHdoaWNoIGFmZmVjdFxuICogY3NzIGN1c3RvbSBwcm9wZXJ0aWVzLCBgU2hhZHlDU1Muc3R5bGVFbGVtZW50KGVsZW1lbnQpYCBtdXN0IGJlIGNhbGxlZFxuICogdG8gdXBkYXRlIHRoZSBlbGVtZW50LiBUaGVyZSBhcmUgdHdvIGNhc2VzIHdoZW4gdGhpcyBpcyBuZWVkZWQ6XG4gKiAoMSkgdGhlIGVsZW1lbnQgaXMgY29ubmVjdGVkIHRvIGEgbmV3IHBhcmVudCwgKDIpIGEgY2xhc3MgaXMgYWRkZWQgdG8gdGhlXG4gKiBlbGVtZW50IHRoYXQgY2F1c2VzIGl0IHRvIG1hdGNoIGRpZmZlcmVudCBjdXN0b20gcHJvcGVydGllcy5cbiAqIFRvIGFkZHJlc3MgdGhlIGZpcnN0IGNhc2Ugd2hlbiByZW5kZXJpbmcgYSBjdXN0b20gZWxlbWVudCwgYHN0eWxlRWxlbWVudGBcbiAqIHNob3VsZCBiZSBjYWxsZWQgaW4gdGhlIGVsZW1lbnQncyBgY29ubmVjdGVkQ2FsbGJhY2tgLlxuICpcbiAqICogU2hpbW1lZCBjdXN0b20gcHJvcGVydGllcyBtYXkgb25seSBiZSBkZWZpbmVkIGVpdGhlciBmb3IgYW4gZW50aXJlXG4gKiBzaGFkb3dSb290IChmb3IgZXhhbXBsZSwgaW4gYSBgOmhvc3RgIHJ1bGUpIG9yIHZpYSBhIHJ1bGUgdGhhdCBkaXJlY3RseVxuICogbWF0Y2hlcyBhbiBlbGVtZW50IHdpdGggYSBzaGFkb3dSb290LiBJbiBvdGhlciB3b3JkcywgaW5zdGVhZCBvZiBmbG93aW5nIGZyb21cbiAqIHBhcmVudCB0byBjaGlsZCBhcyBkbyBuYXRpdmUgY3NzIGN1c3RvbSBwcm9wZXJ0aWVzLCBzaGltbWVkIGN1c3RvbSBwcm9wZXJ0aWVzXG4gKiBmbG93IG9ubHkgZnJvbSBzaGFkb3dSb290cyB0byBuZXN0ZWQgc2hhZG93Um9vdHMuXG4gKlxuICogKiBXaGVuIHVzaW5nIGBAYXBwbHlgIG1peGluZyBjc3Mgc2hvcnRoYW5kIHByb3BlcnR5IG5hbWVzIHdpdGhcbiAqIG5vbi1zaG9ydGhhbmQgbmFtZXMgKGZvciBleGFtcGxlIGBib3JkZXJgIGFuZCBgYm9yZGVyLXdpZHRoYCkgaXMgbm90XG4gKiBzdXBwb3J0ZWQuXG4gKi9cbmV4cG9ydCBjb25zdCByZW5kZXIgPVxuICAgIChyZXN1bHQ6IFRlbXBsYXRlUmVzdWx0LFxuICAgICBjb250YWluZXI6IEVsZW1lbnR8RG9jdW1lbnRGcmFnbWVudHxTaGFkb3dSb290LFxuICAgICBvcHRpb25zOiBTaGFkeVJlbmRlck9wdGlvbnMpID0+IHtcbiAgICAgIGNvbnN0IHNjb3BlTmFtZSA9IG9wdGlvbnMuc2NvcGVOYW1lO1xuICAgICAgY29uc3QgaGFzUmVuZGVyZWQgPSBwYXJ0cy5oYXMoY29udGFpbmVyKTtcbiAgICAgIGNvbnN0IG5lZWRzU2NvcGluZyA9IGNvbXBhdGlibGVTaGFkeUNTU1ZlcnNpb24gJiZcbiAgICAgICAgICBjb250YWluZXIubm9kZVR5cGUgPT09IDExIC8qIE5vZGUuRE9DVU1FTlRfRlJBR01FTlRfTk9ERSAqLyAmJlxuICAgICAgICAgICEhKGNvbnRhaW5lciBhcyBTaGFkb3dSb290KS5ob3N0ICYmIHJlc3VsdCBpbnN0YW5jZW9mIFRlbXBsYXRlUmVzdWx0O1xuICAgICAgLy8gSGFuZGxlIGZpcnN0IHJlbmRlciB0byBhIHNjb3BlIHNwZWNpYWxseS4uLlxuICAgICAgY29uc3QgZmlyc3RTY29wZVJlbmRlciA9IG5lZWRzU2NvcGluZyAmJiAhc2hhZHlSZW5kZXJTZXQuaGFzKHNjb3BlTmFtZSk7XG4gICAgICAvLyBPbiBmaXJzdCBzY29wZSByZW5kZXIsIHJlbmRlciBpbnRvIGEgZnJhZ21lbnQ7IHRoaXMgY2Fubm90IGJlIGEgc2luZ2xlXG4gICAgICAvLyBmcmFnbWVudCB0aGF0IGlzIHJldXNlZCBzaW5jZSBuZXN0ZWQgcmVuZGVycyBjYW4gb2NjdXIgc3luY2hyb25vdXNseS5cbiAgICAgIGNvbnN0IHJlbmRlckNvbnRhaW5lciA9XG4gICAgICAgICAgZmlyc3RTY29wZVJlbmRlciA/IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSA6IGNvbnRhaW5lcjtcbiAgICAgIGxpdFJlbmRlcihcbiAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgcmVuZGVyQ29udGFpbmVyLFxuICAgICAgICAgIHt0ZW1wbGF0ZUZhY3Rvcnk6IHNoYWR5VGVtcGxhdGVGYWN0b3J5KHNjb3BlTmFtZSksIC4uLm9wdGlvbnN9IGFzXG4gICAgICAgICAgICAgIFJlbmRlck9wdGlvbnMpO1xuICAgICAgLy8gV2hlbiBwZXJmb3JtaW5nIGZpcnN0IHNjb3BlIHJlbmRlcixcbiAgICAgIC8vICgxKSBXZSd2ZSByZW5kZXJlZCBpbnRvIGEgZnJhZ21lbnQgc28gdGhhdCB0aGVyZSdzIGEgY2hhbmNlIHRvXG4gICAgICAvLyBgcHJlcGFyZVRlbXBsYXRlU3R5bGVzYCBiZWZvcmUgc3ViLWVsZW1lbnRzIGhpdCB0aGUgRE9NXG4gICAgICAvLyAod2hpY2ggbWlnaHQgY2F1c2UgdGhlbSB0byByZW5kZXIgYmFzZWQgb24gYSBjb21tb24gcGF0dGVybiBvZlxuICAgICAgLy8gcmVuZGVyaW5nIGluIGEgY3VzdG9tIGVsZW1lbnQncyBgY29ubmVjdGVkQ2FsbGJhY2tgKTtcbiAgICAgIC8vICgyKSBTY29wZSB0aGUgdGVtcGxhdGUgd2l0aCBTaGFkeUNTUyBvbmUgdGltZSBvbmx5IGZvciB0aGlzIHNjb3BlLlxuICAgICAgLy8gKDMpIFJlbmRlciB0aGUgZnJhZ21lbnQgaW50byB0aGUgY29udGFpbmVyIGFuZCBtYWtlIHN1cmUgdGhlXG4gICAgICAvLyBjb250YWluZXIga25vd3MgaXRzIGBwYXJ0YCBpcyB0aGUgb25lIHdlIGp1c3QgcmVuZGVyZWQuIFRoaXMgZW5zdXJlc1xuICAgICAgLy8gRE9NIHdpbGwgYmUgcmUtdXNlZCBvbiBzdWJzZXF1ZW50IHJlbmRlcnMuXG4gICAgICBpZiAoZmlyc3RTY29wZVJlbmRlcikge1xuICAgICAgICBjb25zdCBwYXJ0ID0gcGFydHMuZ2V0KHJlbmRlckNvbnRhaW5lcikhO1xuICAgICAgICBwYXJ0cy5kZWxldGUocmVuZGVyQ29udGFpbmVyKTtcbiAgICAgICAgaWYgKHBhcnQudmFsdWUgaW5zdGFuY2VvZiBUZW1wbGF0ZUluc3RhbmNlKSB7XG4gICAgICAgICAgcHJlcGFyZVRlbXBsYXRlU3R5bGVzKFxuICAgICAgICAgICAgICByZW5kZXJDb250YWluZXIgYXMgRG9jdW1lbnRGcmFnbWVudCxcbiAgICAgICAgICAgICAgcGFydC52YWx1ZS50ZW1wbGF0ZSxcbiAgICAgICAgICAgICAgc2NvcGVOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZW1vdmVOb2Rlcyhjb250YWluZXIsIGNvbnRhaW5lci5maXJzdENoaWxkKTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJlbmRlckNvbnRhaW5lcik7XG4gICAgICAgIHBhcnRzLnNldChjb250YWluZXIsIHBhcnQpO1xuICAgICAgfVxuICAgICAgLy8gQWZ0ZXIgZWxlbWVudHMgaGF2ZSBoaXQgdGhlIERPTSwgdXBkYXRlIHN0eWxpbmcgaWYgdGhpcyBpcyB0aGVcbiAgICAgIC8vIGluaXRpYWwgcmVuZGVyIHRvIHRoaXMgY29udGFpbmVyLlxuICAgICAgLy8gVGhpcyBpcyBuZWVkZWQgd2hlbmV2ZXIgZHluYW1pYyBjaGFuZ2VzIGFyZSBtYWRlIHNvIGl0IHdvdWxkIGJlXG4gICAgICAvLyBzYWZlc3QgdG8gZG8gZXZlcnkgcmVuZGVyOyBob3dldmVyLCB0aGlzIHdvdWxkIHJlZ3Jlc3MgcGVyZm9ybWFuY2VcbiAgICAgIC8vIHNvIHdlIGxlYXZlIGl0IHVwIHRvIHRoZSB1c2VyIHRvIGNhbGwgYFNoYWR5Q1NTUy5zdHlsZUVsZW1lbnRgXG4gICAgICAvLyBmb3IgZHluYW1pYyBjaGFuZ2VzLlxuICAgICAgaWYgKCFoYXNSZW5kZXJlZCAmJiBuZWVkc1Njb3BpbmcpIHtcbiAgICAgICAgd2luZG93LlNoYWR5Q1NTIS5zdHlsZUVsZW1lbnQoKGNvbnRhaW5lciBhcyBTaGFkb3dSb290KS5ob3N0KTtcbiAgICAgIH1cbiAgICB9O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuXG4vKipcbiAqIFdoZW4gdXNpbmcgQ2xvc3VyZSBDb21waWxlciwgSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eShwcm9wZXJ0eSwgb2JqZWN0KSBpc1xuICogcmVwbGFjZWQgYXQgY29tcGlsZSB0aW1lIGJ5IHRoZSBtdW5nZWQgbmFtZSBmb3Igb2JqZWN0W3Byb3BlcnR5XS4gV2UgY2Fubm90XG4gKiBhbGlhcyB0aGlzIGZ1bmN0aW9uLCBzbyB3ZSBoYXZlIHRvIHVzZSBhIHNtYWxsIHNoaW0gdGhhdCBoYXMgdGhlIHNhbWVcbiAqIGJlaGF2aW9yIHdoZW4gbm90IGNvbXBpbGluZy5cbiAqL1xud2luZG93LkpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkgPVxuICAgIDxQIGV4dGVuZHMgUHJvcGVydHlLZXk+KHByb3A6IFAsIF9vYmo6IHVua25vd24pOiBQID0+IHByb3A7XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgdmFyIEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHk6IDxQIGV4dGVuZHMgUHJvcGVydHlLZXk+KFxuICAgICAgcHJvcDogUCwgX29iajogdW5rbm93bikgPT4gUDtcblxuICBpbnRlcmZhY2UgV2luZG93IHtcbiAgICBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5OiB0eXBlb2YgSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eTtcbiAgfVxufVxuXG4vKipcbiAqIENvbnZlcnRzIHByb3BlcnR5IHZhbHVlcyB0byBhbmQgZnJvbSBhdHRyaWJ1dGUgdmFsdWVzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbXBsZXhBdHRyaWJ1dGVDb252ZXJ0ZXI8VHlwZSA9IHVua25vd24sIFR5cGVIaW50ID0gdW5rbm93bj4ge1xuICAvKipcbiAgICogRnVuY3Rpb24gY2FsbGVkIHRvIGNvbnZlcnQgYW4gYXR0cmlidXRlIHZhbHVlIHRvIGEgcHJvcGVydHlcbiAgICogdmFsdWUuXG4gICAqL1xuICBmcm9tQXR0cmlidXRlPyh2YWx1ZTogc3RyaW5nfG51bGwsIHR5cGU/OiBUeXBlSGludCk6IFR5cGU7XG5cbiAgLyoqXG4gICAqIEZ1bmN0aW9uIGNhbGxlZCB0byBjb252ZXJ0IGEgcHJvcGVydHkgdmFsdWUgdG8gYW4gYXR0cmlidXRlXG4gICAqIHZhbHVlLlxuICAgKlxuICAgKiBJdCByZXR1cm5zIHVua25vd24gaW5zdGVhZCBvZiBzdHJpbmcsIHRvIGJlIGNvbXBhdGlibGUgd2l0aFxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vV0lDRy90cnVzdGVkLXR5cGVzIChhbmQgc2ltaWxhciBlZmZvcnRzKS5cbiAgICovXG4gIHRvQXR0cmlidXRlPyh2YWx1ZTogVHlwZSwgdHlwZT86IFR5cGVIaW50KTogdW5rbm93bjtcbn1cblxudHlwZSBBdHRyaWJ1dGVDb252ZXJ0ZXI8VHlwZSA9IHVua25vd24sIFR5cGVIaW50ID0gdW5rbm93bj4gPVxuICAgIENvbXBsZXhBdHRyaWJ1dGVDb252ZXJ0ZXI8VHlwZT58KCh2YWx1ZTogc3RyaW5nLCB0eXBlPzogVHlwZUhpbnQpID0+IFR5cGUpO1xuXG4vKipcbiAqIERlZmluZXMgb3B0aW9ucyBmb3IgYSBwcm9wZXJ0eSBhY2Nlc3Nvci5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQcm9wZXJ0eURlY2xhcmF0aW9uPFR5cGUgPSB1bmtub3duLCBUeXBlSGludCA9IHVua25vd24+IHtcbiAgLyoqXG4gICAqIEluZGljYXRlcyBob3cgYW5kIHdoZXRoZXIgdGhlIHByb3BlcnR5IGJlY29tZXMgYW4gb2JzZXJ2ZWQgYXR0cmlidXRlLlxuICAgKiBJZiB0aGUgdmFsdWUgaXMgYGZhbHNlYCwgdGhlIHByb3BlcnR5IGlzIG5vdCBhZGRlZCB0byBgb2JzZXJ2ZWRBdHRyaWJ1dGVzYC5cbiAgICogSWYgdHJ1ZSBvciBhYnNlbnQsIHRoZSBsb3dlcmNhc2VkIHByb3BlcnR5IG5hbWUgaXMgb2JzZXJ2ZWQgKGUuZy4gYGZvb0JhcmBcbiAgICogYmVjb21lcyBgZm9vYmFyYCkuIElmIGEgc3RyaW5nLCB0aGUgc3RyaW5nIHZhbHVlIGlzIG9ic2VydmVkIChlLmdcbiAgICogYGF0dHJpYnV0ZTogJ2Zvby1iYXInYCkuXG4gICAqL1xuICByZWFkb25seSBhdHRyaWJ1dGU/OiBib29sZWFufHN0cmluZztcblxuICAvKipcbiAgICogSW5kaWNhdGVzIHRoZSB0eXBlIG9mIHRoZSBwcm9wZXJ0eS4gVGhpcyBpcyB1c2VkIG9ubHkgYXMgYSBoaW50IGZvciB0aGVcbiAgICogYGNvbnZlcnRlcmAgdG8gZGV0ZXJtaW5lIGhvdyB0byBjb252ZXJ0IHRoZSBhdHRyaWJ1dGVcbiAgICogdG8vZnJvbSBhIHByb3BlcnR5LlxuICAgKi9cbiAgcmVhZG9ubHkgdHlwZT86IFR5cGVIaW50O1xuXG4gIC8qKlxuICAgKiBJbmRpY2F0ZXMgaG93IHRvIGNvbnZlcnQgdGhlIGF0dHJpYnV0ZSB0by9mcm9tIGEgcHJvcGVydHkuIElmIHRoaXMgdmFsdWVcbiAgICogaXMgYSBmdW5jdGlvbiwgaXQgaXMgdXNlZCB0byBjb252ZXJ0IHRoZSBhdHRyaWJ1dGUgdmFsdWUgYSB0aGUgcHJvcGVydHlcbiAgICogdmFsdWUuIElmIGl0J3MgYW4gb2JqZWN0LCBpdCBjYW4gaGF2ZSBrZXlzIGZvciBgZnJvbUF0dHJpYnV0ZWAgYW5kXG4gICAqIGB0b0F0dHJpYnV0ZWAuIElmIG5vIGB0b0F0dHJpYnV0ZWAgZnVuY3Rpb24gaXMgcHJvdmlkZWQgYW5kXG4gICAqIGByZWZsZWN0YCBpcyBzZXQgdG8gYHRydWVgLCB0aGUgcHJvcGVydHkgdmFsdWUgaXMgc2V0IGRpcmVjdGx5IHRvIHRoZVxuICAgKiBhdHRyaWJ1dGUuIEEgZGVmYXVsdCBgY29udmVydGVyYCBpcyB1c2VkIGlmIG5vbmUgaXMgcHJvdmlkZWQ7IGl0IHN1cHBvcnRzXG4gICAqIGBCb29sZWFuYCwgYFN0cmluZ2AsIGBOdW1iZXJgLCBgT2JqZWN0YCwgYW5kIGBBcnJheWAuIE5vdGUsXG4gICAqIHdoZW4gYSBwcm9wZXJ0eSBjaGFuZ2VzIGFuZCB0aGUgY29udmVydGVyIGlzIHVzZWQgdG8gdXBkYXRlIHRoZSBhdHRyaWJ1dGUsXG4gICAqIHRoZSBwcm9wZXJ0eSBpcyBuZXZlciB1cGRhdGVkIGFnYWluIGFzIGEgcmVzdWx0IG9mIHRoZSBhdHRyaWJ1dGUgY2hhbmdpbmcsXG4gICAqIGFuZCB2aWNlIHZlcnNhLlxuICAgKi9cbiAgcmVhZG9ubHkgY29udmVydGVyPzogQXR0cmlidXRlQ29udmVydGVyPFR5cGUsIFR5cGVIaW50PjtcblxuICAvKipcbiAgICogSW5kaWNhdGVzIGlmIHRoZSBwcm9wZXJ0eSBzaG91bGQgcmVmbGVjdCB0byBhbiBhdHRyaWJ1dGUuXG4gICAqIElmIGB0cnVlYCwgd2hlbiB0aGUgcHJvcGVydHkgaXMgc2V0LCB0aGUgYXR0cmlidXRlIGlzIHNldCB1c2luZyB0aGVcbiAgICogYXR0cmlidXRlIG5hbWUgZGV0ZXJtaW5lZCBhY2NvcmRpbmcgdG8gdGhlIHJ1bGVzIGZvciB0aGUgYGF0dHJpYnV0ZWBcbiAgICogcHJvcGVydHkgb3B0aW9uIGFuZCB0aGUgdmFsdWUgb2YgdGhlIHByb3BlcnR5IGNvbnZlcnRlZCB1c2luZyB0aGUgcnVsZXNcbiAgICogZnJvbSB0aGUgYGNvbnZlcnRlcmAgcHJvcGVydHkgb3B0aW9uLlxuICAgKi9cbiAgcmVhZG9ubHkgcmVmbGVjdD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEEgZnVuY3Rpb24gdGhhdCBpbmRpY2F0ZXMgaWYgYSBwcm9wZXJ0eSBzaG91bGQgYmUgY29uc2lkZXJlZCBjaGFuZ2VkIHdoZW5cbiAgICogaXQgaXMgc2V0LiBUaGUgZnVuY3Rpb24gc2hvdWxkIHRha2UgdGhlIGBuZXdWYWx1ZWAgYW5kIGBvbGRWYWx1ZWAgYW5kXG4gICAqIHJldHVybiBgdHJ1ZWAgaWYgYW4gdXBkYXRlIHNob3VsZCBiZSByZXF1ZXN0ZWQuXG4gICAqL1xuICBoYXNDaGFuZ2VkPyh2YWx1ZTogVHlwZSwgb2xkVmFsdWU6IFR5cGUpOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBJbmRpY2F0ZXMgd2hldGhlciBhbiBhY2Nlc3NvciB3aWxsIGJlIGNyZWF0ZWQgZm9yIHRoaXMgcHJvcGVydHkuIEJ5XG4gICAqIGRlZmF1bHQsIGFuIGFjY2Vzc29yIHdpbGwgYmUgZ2VuZXJhdGVkIGZvciB0aGlzIHByb3BlcnR5IHRoYXQgcmVxdWVzdHMgYW5cbiAgICogdXBkYXRlIHdoZW4gc2V0LiBJZiB0aGlzIGZsYWcgaXMgYHRydWVgLCBubyBhY2Nlc3NvciB3aWxsIGJlIGNyZWF0ZWQsIGFuZFxuICAgKiBpdCB3aWxsIGJlIHRoZSB1c2VyJ3MgcmVzcG9uc2liaWxpdHkgdG8gY2FsbFxuICAgKiBgdGhpcy5yZXF1ZXN0VXBkYXRlKHByb3BlcnR5TmFtZSwgb2xkVmFsdWUpYCB0byByZXF1ZXN0IGFuIHVwZGF0ZSB3aGVuXG4gICAqIHRoZSBwcm9wZXJ0eSBjaGFuZ2VzLlxuICAgKi9cbiAgcmVhZG9ubHkgbm9BY2Nlc3Nvcj86IGJvb2xlYW47XG59XG5cbi8qKlxuICogTWFwIG9mIHByb3BlcnRpZXMgdG8gUHJvcGVydHlEZWNsYXJhdGlvbiBvcHRpb25zLiBGb3IgZWFjaCBwcm9wZXJ0eSBhblxuICogYWNjZXNzb3IgaXMgbWFkZSwgYW5kIHRoZSBwcm9wZXJ0eSBpcyBwcm9jZXNzZWQgYWNjb3JkaW5nIHRvIHRoZVxuICogUHJvcGVydHlEZWNsYXJhdGlvbiBvcHRpb25zLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFByb3BlcnR5RGVjbGFyYXRpb25zIHtcbiAgcmVhZG9ubHkgW2tleTogc3RyaW5nXTogUHJvcGVydHlEZWNsYXJhdGlvbjtcbn1cblxudHlwZSBQcm9wZXJ0eURlY2xhcmF0aW9uTWFwID0gTWFwPFByb3BlcnR5S2V5LCBQcm9wZXJ0eURlY2xhcmF0aW9uPjtcblxudHlwZSBBdHRyaWJ1dGVNYXAgPSBNYXA8c3RyaW5nLCBQcm9wZXJ0eUtleT47XG5cbmV4cG9ydCB0eXBlIFByb3BlcnR5VmFsdWVzID0gTWFwPFByb3BlcnR5S2V5LCB1bmtub3duPjtcblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRDb252ZXJ0ZXI6IENvbXBsZXhBdHRyaWJ1dGVDb252ZXJ0ZXIgPSB7XG5cbiAgdG9BdHRyaWJ1dGUodmFsdWU6IHVua25vd24sIHR5cGU/OiB1bmtub3duKTogdW5rbm93biB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIEJvb2xlYW46XG4gICAgICAgIHJldHVybiB2YWx1ZSA/ICcnIDogbnVsbDtcbiAgICAgIGNhc2UgT2JqZWN0OlxuICAgICAgY2FzZSBBcnJheTpcbiAgICAgICAgLy8gaWYgdGhlIHZhbHVlIGlzIGBudWxsYCBvciBgdW5kZWZpbmVkYCBwYXNzIHRoaXMgdGhyb3VnaFxuICAgICAgICAvLyB0byBhbGxvdyByZW1vdmluZy9ubyBjaGFuZ2UgYmVoYXZpb3IuXG4gICAgICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gdmFsdWUgOiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfSxcblxuICBmcm9tQXR0cmlidXRlKHZhbHVlOiBzdHJpbmd8bnVsbCwgdHlwZT86IHVua25vd24pIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgQm9vbGVhbjpcbiAgICAgICAgcmV0dXJuIHZhbHVlICE9PSBudWxsO1xuICAgICAgY2FzZSBOdW1iZXI6XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCA/IG51bGwgOiBOdW1iZXIodmFsdWUpO1xuICAgICAgY2FzZSBPYmplY3Q6XG4gICAgICBjYXNlIEFycmF5OlxuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSh2YWx1ZSEpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxufTtcblxuZXhwb3J0IGludGVyZmFjZSBIYXNDaGFuZ2VkIHtcbiAgKHZhbHVlOiB1bmtub3duLCBvbGQ6IHVua25vd24pOiBib29sZWFuO1xufVxuXG4vKipcbiAqIENoYW5nZSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdHJ1ZSBpZiBgdmFsdWVgIGlzIGRpZmZlcmVudCBmcm9tIGBvbGRWYWx1ZWAuXG4gKiBUaGlzIG1ldGhvZCBpcyB1c2VkIGFzIHRoZSBkZWZhdWx0IGZvciBhIHByb3BlcnR5J3MgYGhhc0NoYW5nZWRgIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgY29uc3Qgbm90RXF1YWw6IEhhc0NoYW5nZWQgPSAodmFsdWU6IHVua25vd24sIG9sZDogdW5rbm93bik6IGJvb2xlYW4gPT4ge1xuICAvLyBUaGlzIGVuc3VyZXMgKG9sZD09TmFOLCB2YWx1ZT09TmFOKSBhbHdheXMgcmV0dXJucyBmYWxzZVxuICByZXR1cm4gb2xkICE9PSB2YWx1ZSAmJiAob2xkID09PSBvbGQgfHwgdmFsdWUgPT09IHZhbHVlKTtcbn07XG5cbmNvbnN0IGRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uOiBQcm9wZXJ0eURlY2xhcmF0aW9uID0ge1xuICBhdHRyaWJ1dGU6IHRydWUsXG4gIHR5cGU6IFN0cmluZyxcbiAgY29udmVydGVyOiBkZWZhdWx0Q29udmVydGVyLFxuICByZWZsZWN0OiBmYWxzZSxcbiAgaGFzQ2hhbmdlZDogbm90RXF1YWxcbn07XG5cbmNvbnN0IG1pY3JvdGFza1Byb21pc2UgPSBQcm9taXNlLnJlc29sdmUodHJ1ZSk7XG5cbmNvbnN0IFNUQVRFX0hBU19VUERBVEVEID0gMTtcbmNvbnN0IFNUQVRFX1VQREFURV9SRVFVRVNURUQgPSAxIDw8IDI7XG5jb25zdCBTVEFURV9JU19SRUZMRUNUSU5HX1RPX0FUVFJJQlVURSA9IDEgPDwgMztcbmNvbnN0IFNUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fUFJPUEVSVFkgPSAxIDw8IDQ7XG5jb25zdCBTVEFURV9IQVNfQ09OTkVDVEVEID0gMSA8PCA1O1xudHlwZSBVcGRhdGVTdGF0ZSA9IHR5cGVvZiBTVEFURV9IQVNfVVBEQVRFRHx0eXBlb2YgU1RBVEVfVVBEQVRFX1JFUVVFU1RFRHxcbiAgICB0eXBlb2YgU1RBVEVfSVNfUkVGTEVDVElOR19UT19BVFRSSUJVVEV8XG4gICAgdHlwZW9mIFNUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fUFJPUEVSVFl8dHlwZW9mIFNUQVRFX0hBU19DT05ORUNURUQ7XG5cbi8qKlxuICogQmFzZSBlbGVtZW50IGNsYXNzIHdoaWNoIG1hbmFnZXMgZWxlbWVudCBwcm9wZXJ0aWVzIGFuZCBhdHRyaWJ1dGVzLiBXaGVuXG4gKiBwcm9wZXJ0aWVzIGNoYW5nZSwgdGhlIGB1cGRhdGVgIG1ldGhvZCBpcyBhc3luY2hyb25vdXNseSBjYWxsZWQuIFRoaXMgbWV0aG9kXG4gKiBzaG91bGQgYmUgc3VwcGxpZWQgYnkgc3ViY2xhc3NlcnMgdG8gcmVuZGVyIHVwZGF0ZXMgYXMgZGVzaXJlZC5cbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFVwZGF0aW5nRWxlbWVudCBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgLypcbiAgICogRHVlIHRvIGNsb3N1cmUgY29tcGlsZXIgRVM2IGNvbXBpbGF0aW9uIGJ1Z3MsIEBub2NvbGxhcHNlIGlzIHJlcXVpcmVkIG9uXG4gICAqIGFsbCBzdGF0aWMgbWV0aG9kcyBhbmQgcHJvcGVydGllcyB3aXRoIGluaXRpYWxpemVycy4gIFJlZmVyZW5jZTpcbiAgICogLSBodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Nsb3N1cmUtY29tcGlsZXIvaXNzdWVzLzE3NzZcbiAgICovXG5cbiAgLyoqXG4gICAqIE1hcHMgYXR0cmlidXRlIG5hbWVzIHRvIHByb3BlcnRpZXM7IGZvciBleGFtcGxlIGBmb29iYXJgIGF0dHJpYnV0ZSB0b1xuICAgKiBgZm9vQmFyYCBwcm9wZXJ0eS4gQ3JlYXRlZCBsYXppbHkgb24gdXNlciBzdWJjbGFzc2VzIHdoZW4gZmluYWxpemluZyB0aGVcbiAgICogY2xhc3MuXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBfYXR0cmlidXRlVG9Qcm9wZXJ0eU1hcDogQXR0cmlidXRlTWFwO1xuXG4gIC8qKlxuICAgKiBNYXJrcyBjbGFzcyBhcyBoYXZpbmcgZmluaXNoZWQgY3JlYXRpbmcgcHJvcGVydGllcy5cbiAgICovXG4gIHByb3RlY3RlZCBzdGF0aWMgZmluYWxpemVkID0gdHJ1ZTtcblxuICAvKipcbiAgICogTWVtb2l6ZWQgbGlzdCBvZiBhbGwgY2xhc3MgcHJvcGVydGllcywgaW5jbHVkaW5nIGFueSBzdXBlcmNsYXNzIHByb3BlcnRpZXMuXG4gICAqIENyZWF0ZWQgbGF6aWx5IG9uIHVzZXIgc3ViY2xhc3NlcyB3aGVuIGZpbmFsaXppbmcgdGhlIGNsYXNzLlxuICAgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgX2NsYXNzUHJvcGVydGllcz86IFByb3BlcnR5RGVjbGFyYXRpb25NYXA7XG5cbiAgLyoqXG4gICAqIFVzZXItc3VwcGxpZWQgb2JqZWN0IHRoYXQgbWFwcyBwcm9wZXJ0eSBuYW1lcyB0byBgUHJvcGVydHlEZWNsYXJhdGlvbmBcbiAgICogb2JqZWN0cyBjb250YWluaW5nIG9wdGlvbnMgZm9yIGNvbmZpZ3VyaW5nIHRoZSBwcm9wZXJ0eS5cbiAgICovXG4gIHN0YXRpYyBwcm9wZXJ0aWVzOiBQcm9wZXJ0eURlY2xhcmF0aW9ucztcblxuICAvKipcbiAgICogUmV0dXJucyBhIGxpc3Qgb2YgYXR0cmlidXRlcyBjb3JyZXNwb25kaW5nIHRvIHRoZSByZWdpc3RlcmVkIHByb3BlcnRpZXMuXG4gICAqIEBub2NvbGxhcHNlXG4gICAqL1xuICBzdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcygpIHtcbiAgICAvLyBub3RlOiBwaWdneSBiYWNraW5nIG9uIHRoaXMgdG8gZW5zdXJlIHdlJ3JlIGZpbmFsaXplZC5cbiAgICB0aGlzLmZpbmFsaXplKCk7XG4gICAgY29uc3QgYXR0cmlidXRlczogc3RyaW5nW10gPSBbXTtcbiAgICAvLyBVc2UgZm9yRWFjaCBzbyB0aGlzIHdvcmtzIGV2ZW4gaWYgZm9yL29mIGxvb3BzIGFyZSBjb21waWxlZCB0byBmb3IgbG9vcHNcbiAgICAvLyBleHBlY3RpbmcgYXJyYXlzXG4gICAgdGhpcy5fY2xhc3NQcm9wZXJ0aWVzIS5mb3JFYWNoKCh2LCBwKSA9PiB7XG4gICAgICBjb25zdCBhdHRyID0gdGhpcy5fYXR0cmlidXRlTmFtZUZvclByb3BlcnR5KHAsIHYpO1xuICAgICAgaWYgKGF0dHIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLl9hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwLnNldChhdHRyLCBwKTtcbiAgICAgICAgYXR0cmlidXRlcy5wdXNoKGF0dHIpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBhdHRyaWJ1dGVzO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuc3VyZXMgdGhlIHByaXZhdGUgYF9jbGFzc1Byb3BlcnRpZXNgIHByb3BlcnR5IG1ldGFkYXRhIGlzIGNyZWF0ZWQuXG4gICAqIEluIGFkZGl0aW9uIHRvIGBmaW5hbGl6ZWAgdGhpcyBpcyBhbHNvIGNhbGxlZCBpbiBgY3JlYXRlUHJvcGVydHlgIHRvXG4gICAqIGVuc3VyZSB0aGUgYEBwcm9wZXJ0eWAgZGVjb3JhdG9yIGNhbiBhZGQgcHJvcGVydHkgbWV0YWRhdGEuXG4gICAqL1xuICAvKiogQG5vY29sbGFwc2UgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgX2Vuc3VyZUNsYXNzUHJvcGVydGllcygpIHtcbiAgICAvLyBlbnN1cmUgcHJpdmF0ZSBzdG9yYWdlIGZvciBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMuXG4gICAgaWYgKCF0aGlzLmhhc093blByb3BlcnR5KFxuICAgICAgICAgICAgSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnX2NsYXNzUHJvcGVydGllcycsIHRoaXMpKSkge1xuICAgICAgdGhpcy5fY2xhc3NQcm9wZXJ0aWVzID0gbmV3IE1hcCgpO1xuICAgICAgLy8gTk9URTogV29ya2Fyb3VuZCBJRTExIG5vdCBzdXBwb3J0aW5nIE1hcCBjb25zdHJ1Y3RvciBhcmd1bWVudC5cbiAgICAgIGNvbnN0IHN1cGVyUHJvcGVydGllczogUHJvcGVydHlEZWNsYXJhdGlvbk1hcCA9XG4gICAgICAgICAgT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLl9jbGFzc1Byb3BlcnRpZXM7XG4gICAgICBpZiAoc3VwZXJQcm9wZXJ0aWVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc3VwZXJQcm9wZXJ0aWVzLmZvckVhY2goXG4gICAgICAgICAgICAodjogUHJvcGVydHlEZWNsYXJhdGlvbiwgazogUHJvcGVydHlLZXkpID0+XG4gICAgICAgICAgICAgICAgdGhpcy5fY2xhc3NQcm9wZXJ0aWVzIS5zZXQoaywgdikpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgcHJvcGVydHkgYWNjZXNzb3Igb24gdGhlIGVsZW1lbnQgcHJvdG90eXBlIGlmIG9uZSBkb2VzIG5vdCBleGlzdC5cbiAgICogVGhlIHByb3BlcnR5IHNldHRlciBjYWxscyB0aGUgcHJvcGVydHkncyBgaGFzQ2hhbmdlZGAgcHJvcGVydHkgb3B0aW9uXG4gICAqIG9yIHVzZXMgYSBzdHJpY3QgaWRlbnRpdHkgY2hlY2sgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgb3Igbm90IHRvIHJlcXVlc3RcbiAgICogYW4gdXBkYXRlLlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKi9cbiAgc3RhdGljIGNyZWF0ZVByb3BlcnR5KFxuICAgICAgbmFtZTogUHJvcGVydHlLZXksXG4gICAgICBvcHRpb25zOiBQcm9wZXJ0eURlY2xhcmF0aW9uID0gZGVmYXVsdFByb3BlcnR5RGVjbGFyYXRpb24pIHtcbiAgICAvLyBOb3RlLCBzaW5jZSB0aGlzIGNhbiBiZSBjYWxsZWQgYnkgdGhlIGBAcHJvcGVydHlgIGRlY29yYXRvciB3aGljaFxuICAgIC8vIGlzIGNhbGxlZCBiZWZvcmUgYGZpbmFsaXplYCwgd2UgZW5zdXJlIHN0b3JhZ2UgZXhpc3RzIGZvciBwcm9wZXJ0eVxuICAgIC8vIG1ldGFkYXRhLlxuICAgIHRoaXMuX2Vuc3VyZUNsYXNzUHJvcGVydGllcygpO1xuICAgIHRoaXMuX2NsYXNzUHJvcGVydGllcyEuc2V0KG5hbWUsIG9wdGlvbnMpO1xuICAgIC8vIERvIG5vdCBnZW5lcmF0ZSBhbiBhY2Nlc3NvciBpZiB0aGUgcHJvdG90eXBlIGFscmVhZHkgaGFzIG9uZSwgc2luY2VcbiAgICAvLyBpdCB3b3VsZCBiZSBsb3N0IG90aGVyd2lzZSBhbmQgdGhhdCB3b3VsZCBuZXZlciBiZSB0aGUgdXNlcidzIGludGVudGlvbjtcbiAgICAvLyBJbnN0ZWFkLCB3ZSBleHBlY3QgdXNlcnMgdG8gY2FsbCBgcmVxdWVzdFVwZGF0ZWAgdGhlbXNlbHZlcyBmcm9tXG4gICAgLy8gdXNlci1kZWZpbmVkIGFjY2Vzc29ycy4gTm90ZSB0aGF0IGlmIHRoZSBzdXBlciBoYXMgYW4gYWNjZXNzb3Igd2Ugd2lsbFxuICAgIC8vIHN0aWxsIG92ZXJ3cml0ZSBpdFxuICAgIGlmIChvcHRpb25zLm5vQWNjZXNzb3IgfHwgdGhpcy5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qga2V5ID0gdHlwZW9mIG5hbWUgPT09ICdzeW1ib2wnID8gU3ltYm9sKCkgOiBgX18ke25hbWV9YDtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5wcm90b3R5cGUsIG5hbWUsIHtcbiAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnkgbm8gc3ltYm9sIGluIGluZGV4XG4gICAgICBnZXQoKTogYW55IHtcbiAgICAgICAgcmV0dXJuIHRoaXNba2V5XTtcbiAgICAgIH0sXG4gICAgICBzZXQodGhpczogVXBkYXRpbmdFbGVtZW50LCB2YWx1ZTogdW5rbm93bikge1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55IG5vIHN5bWJvbCBpbiBpbmRleFxuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9ICh0aGlzIGFzIGFueSlbbmFtZV07XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnkgbm8gc3ltYm9sIGluIGluZGV4XG4gICAgICAgICh0aGlzIGFzIGFueSlba2V5XSA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9yZXF1ZXN0VXBkYXRlKG5hbWUsIG9sZFZhbHVlKTtcbiAgICAgIH0sXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBwcm9wZXJ0eSBhY2Nlc3NvcnMgZm9yIHJlZ2lzdGVyZWQgcHJvcGVydGllcyBhbmQgZW5zdXJlc1xuICAgKiBhbnkgc3VwZXJjbGFzc2VzIGFyZSBhbHNvIGZpbmFsaXplZC5cbiAgICogQG5vY29sbGFwc2VcbiAgICovXG4gIHByb3RlY3RlZCBzdGF0aWMgZmluYWxpemUoKSB7XG4gICAgaWYgKHRoaXMuaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnZmluYWxpemVkJywgdGhpcykpICYmXG4gICAgICAgIHRoaXMuZmluYWxpemVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGZpbmFsaXplIGFueSBzdXBlcmNsYXNzZXNcbiAgICBjb25zdCBzdXBlckN0b3IgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcyk7XG4gICAgaWYgKHR5cGVvZiBzdXBlckN0b3IuZmluYWxpemUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHN1cGVyQ3Rvci5maW5hbGl6ZSgpO1xuICAgIH1cbiAgICB0aGlzLmZpbmFsaXplZCA9IHRydWU7XG4gICAgdGhpcy5fZW5zdXJlQ2xhc3NQcm9wZXJ0aWVzKCk7XG4gICAgLy8gaW5pdGlhbGl6ZSBNYXAgcG9wdWxhdGVkIGluIG9ic2VydmVkQXR0cmlidXRlc1xuICAgIHRoaXMuX2F0dHJpYnV0ZVRvUHJvcGVydHlNYXAgPSBuZXcgTWFwKCk7XG4gICAgLy8gbWFrZSBhbnkgcHJvcGVydGllc1xuICAgIC8vIE5vdGUsIG9ubHkgcHJvY2VzcyBcIm93blwiIHByb3BlcnRpZXMgc2luY2UgdGhpcyBlbGVtZW50IHdpbGwgaW5oZXJpdFxuICAgIC8vIGFueSBwcm9wZXJ0aWVzIGRlZmluZWQgb24gdGhlIHN1cGVyQ2xhc3MsIGFuZCBmaW5hbGl6YXRpb24gZW5zdXJlc1xuICAgIC8vIHRoZSBlbnRpcmUgcHJvdG90eXBlIGNoYWluIGlzIGZpbmFsaXplZC5cbiAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdwcm9wZXJ0aWVzJywgdGhpcykpKSB7XG4gICAgICBjb25zdCBwcm9wcyA9IHRoaXMucHJvcGVydGllcztcbiAgICAgIC8vIHN1cHBvcnQgc3ltYm9scyBpbiBwcm9wZXJ0aWVzIChJRTExIGRvZXMgbm90IHN1cHBvcnQgdGhpcylcbiAgICAgIGNvbnN0IHByb3BLZXlzID0gW1xuICAgICAgICAuLi5PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhwcm9wcyksXG4gICAgICAgIC4uLih0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gJ2Z1bmN0aW9uJykgP1xuICAgICAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhwcm9wcykgOlxuICAgICAgICAgICAgW11cbiAgICAgIF07XG4gICAgICAvLyBUaGlzIGZvci9vZiBpcyBvayBiZWNhdXNlIHByb3BLZXlzIGlzIGFuIGFycmF5XG4gICAgICBmb3IgKGNvbnN0IHAgb2YgcHJvcEtleXMpIHtcbiAgICAgICAgLy8gbm90ZSwgdXNlIG9mIGBhbnlgIGlzIGR1ZSB0byBUeXBlU3JpcHQgbGFjayBvZiBzdXBwb3J0IGZvciBzeW1ib2wgaW5cbiAgICAgICAgLy8gaW5kZXggdHlwZXNcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBubyBzeW1ib2wgaW4gaW5kZXhcbiAgICAgICAgdGhpcy5jcmVhdGVQcm9wZXJ0eShwLCAocHJvcHMgYXMgYW55KVtwXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHByb3BlcnR5IG5hbWUgZm9yIHRoZSBnaXZlbiBhdHRyaWJ1dGUgYG5hbWVgLlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgX2F0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eShcbiAgICAgIG5hbWU6IFByb3BlcnR5S2V5LCBvcHRpb25zOiBQcm9wZXJ0eURlY2xhcmF0aW9uKSB7XG4gICAgY29uc3QgYXR0cmlidXRlID0gb3B0aW9ucy5hdHRyaWJ1dGU7XG4gICAgcmV0dXJuIGF0dHJpYnV0ZSA9PT0gZmFsc2UgP1xuICAgICAgICB1bmRlZmluZWQgOlxuICAgICAgICAodHlwZW9mIGF0dHJpYnV0ZSA9PT0gJ3N0cmluZycgP1xuICAgICAgICAgICAgIGF0dHJpYnV0ZSA6XG4gICAgICAgICAgICAgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJyA/IG5hbWUudG9Mb3dlckNhc2UoKSA6IHVuZGVmaW5lZCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiBhIHByb3BlcnR5IHNob3VsZCByZXF1ZXN0IGFuIHVwZGF0ZS5cbiAgICogQ2FsbGVkIHdoZW4gYSBwcm9wZXJ0eSB2YWx1ZSBpcyBzZXQgYW5kIHVzZXMgdGhlIGBoYXNDaGFuZ2VkYFxuICAgKiBvcHRpb24gZm9yIHRoZSBwcm9wZXJ0eSBpZiBwcmVzZW50IG9yIGEgc3RyaWN0IGlkZW50aXR5IGNoZWNrLlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgX3ZhbHVlSGFzQ2hhbmdlZChcbiAgICAgIHZhbHVlOiB1bmtub3duLCBvbGQ6IHVua25vd24sIGhhc0NoYW5nZWQ6IEhhc0NoYW5nZWQgPSBub3RFcXVhbCkge1xuICAgIHJldHVybiBoYXNDaGFuZ2VkKHZhbHVlLCBvbGQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlIGZvciB0aGUgZ2l2ZW4gYXR0cmlidXRlIHZhbHVlLlxuICAgKiBDYWxsZWQgdmlhIHRoZSBgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrYCBhbmQgdXNlcyB0aGUgcHJvcGVydHknc1xuICAgKiBgY29udmVydGVyYCBvciBgY29udmVydGVyLmZyb21BdHRyaWJ1dGVgIHByb3BlcnR5IG9wdGlvbi5cbiAgICogQG5vY29sbGFwc2VcbiAgICovXG4gIHByaXZhdGUgc3RhdGljIF9wcm9wZXJ0eVZhbHVlRnJvbUF0dHJpYnV0ZShcbiAgICAgIHZhbHVlOiBzdHJpbmd8bnVsbCwgb3B0aW9uczogUHJvcGVydHlEZWNsYXJhdGlvbikge1xuICAgIGNvbnN0IHR5cGUgPSBvcHRpb25zLnR5cGU7XG4gICAgY29uc3QgY29udmVydGVyID0gb3B0aW9ucy5jb252ZXJ0ZXIgfHwgZGVmYXVsdENvbnZlcnRlcjtcbiAgICBjb25zdCBmcm9tQXR0cmlidXRlID1cbiAgICAgICAgKHR5cGVvZiBjb252ZXJ0ZXIgPT09ICdmdW5jdGlvbicgPyBjb252ZXJ0ZXIgOiBjb252ZXJ0ZXIuZnJvbUF0dHJpYnV0ZSk7XG4gICAgcmV0dXJuIGZyb21BdHRyaWJ1dGUgPyBmcm9tQXR0cmlidXRlKHZhbHVlLCB0eXBlKSA6IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBmb3IgdGhlIGdpdmVuIHByb3BlcnR5IHZhbHVlLiBJZiB0aGlzXG4gICAqIHJldHVybnMgdW5kZWZpbmVkLCB0aGUgcHJvcGVydHkgd2lsbCAqbm90KiBiZSByZWZsZWN0ZWQgdG8gYW4gYXR0cmlidXRlLlxuICAgKiBJZiB0aGlzIHJldHVybnMgbnVsbCwgdGhlIGF0dHJpYnV0ZSB3aWxsIGJlIHJlbW92ZWQsIG90aGVyd2lzZSB0aGVcbiAgICogYXR0cmlidXRlIHdpbGwgYmUgc2V0IHRvIHRoZSB2YWx1ZS5cbiAgICogVGhpcyB1c2VzIHRoZSBwcm9wZXJ0eSdzIGByZWZsZWN0YCBhbmQgYHR5cGUudG9BdHRyaWJ1dGVgIHByb3BlcnR5IG9wdGlvbnMuXG4gICAqIEBub2NvbGxhcHNlXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBfcHJvcGVydHlWYWx1ZVRvQXR0cmlidXRlKFxuICAgICAgdmFsdWU6IHVua25vd24sIG9wdGlvbnM6IFByb3BlcnR5RGVjbGFyYXRpb24pIHtcbiAgICBpZiAob3B0aW9ucy5yZWZsZWN0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdHlwZSA9IG9wdGlvbnMudHlwZTtcbiAgICBjb25zdCBjb252ZXJ0ZXIgPSBvcHRpb25zLmNvbnZlcnRlcjtcbiAgICBjb25zdCB0b0F0dHJpYnV0ZSA9XG4gICAgICAgIGNvbnZlcnRlciAmJiAoY29udmVydGVyIGFzIENvbXBsZXhBdHRyaWJ1dGVDb252ZXJ0ZXIpLnRvQXR0cmlidXRlIHx8XG4gICAgICAgIGRlZmF1bHRDb252ZXJ0ZXIudG9BdHRyaWJ1dGU7XG4gICAgcmV0dXJuIHRvQXR0cmlidXRlISh2YWx1ZSwgdHlwZSk7XG4gIH1cblxuICBwcml2YXRlIF91cGRhdGVTdGF0ZTogVXBkYXRlU3RhdGUgPSAwO1xuICBwcml2YXRlIF9pbnN0YW5jZVByb3BlcnRpZXM6IFByb3BlcnR5VmFsdWVzfHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBfdXBkYXRlUHJvbWlzZTogUHJvbWlzZTx1bmtub3duPiA9IG1pY3JvdGFza1Byb21pc2U7XG4gIHByaXZhdGUgX2hhc0Nvbm5lY3RlZFJlc29sdmVyOiAoKCkgPT4gdm9pZCl8dW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBNYXAgd2l0aCBrZXlzIGZvciBhbnkgcHJvcGVydGllcyB0aGF0IGhhdmUgY2hhbmdlZCBzaW5jZSB0aGUgbGFzdFxuICAgKiB1cGRhdGUgY3ljbGUgd2l0aCBwcmV2aW91cyB2YWx1ZXMuXG4gICAqL1xuICBwcml2YXRlIF9jaGFuZ2VkUHJvcGVydGllczogUHJvcGVydHlWYWx1ZXMgPSBuZXcgTWFwKCk7XG5cbiAgLyoqXG4gICAqIE1hcCB3aXRoIGtleXMgb2YgcHJvcGVydGllcyB0aGF0IHNob3VsZCBiZSByZWZsZWN0ZWQgd2hlbiB1cGRhdGVkLlxuICAgKi9cbiAgcHJpdmF0ZSBfcmVmbGVjdGluZ1Byb3BlcnRpZXM6IE1hcDxQcm9wZXJ0eUtleSwgUHJvcGVydHlEZWNsYXJhdGlvbj58XG4gICAgICB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQZXJmb3JtcyBlbGVtZW50IGluaXRpYWxpemF0aW9uLiBCeSBkZWZhdWx0IGNhcHR1cmVzIGFueSBwcmUtc2V0IHZhbHVlcyBmb3JcbiAgICogcmVnaXN0ZXJlZCBwcm9wZXJ0aWVzLlxuICAgKi9cbiAgcHJvdGVjdGVkIGluaXRpYWxpemUoKSB7XG4gICAgdGhpcy5fc2F2ZUluc3RhbmNlUHJvcGVydGllcygpO1xuICAgIC8vIGVuc3VyZXMgZmlyc3QgdXBkYXRlIHdpbGwgYmUgY2F1Z2h0IGJ5IGFuIGVhcmx5IGFjY2VzcyBvZiBgdXBkYXRlQ29tcGxldGVgXG4gICAgdGhpcy5fcmVxdWVzdFVwZGF0ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpeGVzIGFueSBwcm9wZXJ0aWVzIHNldCBvbiB0aGUgaW5zdGFuY2UgYmVmb3JlIHVwZ3JhZGUgdGltZS5cbiAgICogT3RoZXJ3aXNlIHRoZXNlIHdvdWxkIHNoYWRvdyB0aGUgYWNjZXNzb3IgYW5kIGJyZWFrIHRoZXNlIHByb3BlcnRpZXMuXG4gICAqIFRoZSBwcm9wZXJ0aWVzIGFyZSBzdG9yZWQgaW4gYSBNYXAgd2hpY2ggaXMgcGxheWVkIGJhY2sgYWZ0ZXIgdGhlXG4gICAqIGNvbnN0cnVjdG9yIHJ1bnMuIE5vdGUsIG9uIHZlcnkgb2xkIHZlcnNpb25zIG9mIFNhZmFyaSAoPD05KSBvciBDaHJvbWVcbiAgICogKDw9NDEpLCBwcm9wZXJ0aWVzIGNyZWF0ZWQgZm9yIG5hdGl2ZSBwbGF0Zm9ybSBwcm9wZXJ0aWVzIGxpa2UgKGBpZGAgb3JcbiAgICogYG5hbWVgKSBtYXkgbm90IGhhdmUgZGVmYXVsdCB2YWx1ZXMgc2V0IGluIHRoZSBlbGVtZW50IGNvbnN0cnVjdG9yLiBPblxuICAgKiB0aGVzZSBicm93c2VycyBuYXRpdmUgcHJvcGVydGllcyBhcHBlYXIgb24gaW5zdGFuY2VzIGFuZCB0aGVyZWZvcmUgdGhlaXJcbiAgICogZGVmYXVsdCB2YWx1ZSB3aWxsIG92ZXJ3cml0ZSBhbnkgZWxlbWVudCBkZWZhdWx0IChlLmcuIGlmIHRoZSBlbGVtZW50IHNldHNcbiAgICogdGhpcy5pZCA9ICdpZCcgaW4gdGhlIGNvbnN0cnVjdG9yLCB0aGUgJ2lkJyB3aWxsIGJlY29tZSAnJyBzaW5jZSB0aGlzIGlzXG4gICAqIHRoZSBuYXRpdmUgcGxhdGZvcm0gZGVmYXVsdCkuXG4gICAqL1xuICBwcml2YXRlIF9zYXZlSW5zdGFuY2VQcm9wZXJ0aWVzKCkge1xuICAgIC8vIFVzZSBmb3JFYWNoIHNvIHRoaXMgd29ya3MgZXZlbiBpZiBmb3Ivb2YgbG9vcHMgYXJlIGNvbXBpbGVkIHRvIGZvciBsb29wc1xuICAgIC8vIGV4cGVjdGluZyBhcnJheXNcbiAgICAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgVXBkYXRpbmdFbGVtZW50KVxuICAgICAgICAuX2NsYXNzUHJvcGVydGllcyEuZm9yRWFjaCgoX3YsIHApID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShwKSkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzW3AgYXMga2V5b2YgdGhpc107XG4gICAgICAgICAgICBkZWxldGUgdGhpc1twIGFzIGtleW9mIHRoaXNdO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9pbnN0YW5jZVByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgdGhpcy5faW5zdGFuY2VQcm9wZXJ0aWVzID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5faW5zdGFuY2VQcm9wZXJ0aWVzLnNldChwLCB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBsaWVzIHByZXZpb3VzbHkgc2F2ZWQgaW5zdGFuY2UgcHJvcGVydGllcy5cbiAgICovXG4gIHByaXZhdGUgX2FwcGx5SW5zdGFuY2VQcm9wZXJ0aWVzKCkge1xuICAgIC8vIFVzZSBmb3JFYWNoIHNvIHRoaXMgd29ya3MgZXZlbiBpZiBmb3Ivb2YgbG9vcHMgYXJlIGNvbXBpbGVkIHRvIGZvciBsb29wc1xuICAgIC8vIGV4cGVjdGluZyBhcnJheXNcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG4gICAgdGhpcy5faW5zdGFuY2VQcm9wZXJ0aWVzIS5mb3JFYWNoKCh2LCBwKSA9PiAodGhpcyBhcyBhbnkpW3BdID0gdik7XG4gICAgdGhpcy5faW5zdGFuY2VQcm9wZXJ0aWVzID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5fdXBkYXRlU3RhdGUgPSB0aGlzLl91cGRhdGVTdGF0ZSB8IFNUQVRFX0hBU19DT05ORUNURUQ7XG4gICAgLy8gRW5zdXJlIGZpcnN0IGNvbm5lY3Rpb24gY29tcGxldGVzIGFuIHVwZGF0ZS4gVXBkYXRlcyBjYW5ub3QgY29tcGxldGUgYmVmb3JlXG4gICAgLy8gY29ubmVjdGlvbiBhbmQgaWYgb25lIGlzIHBlbmRpbmcgY29ubmVjdGlvbiB0aGUgYF9oYXNDb25uZWN0aW9uUmVzb2x2ZXJgXG4gICAgLy8gd2lsbCBleGlzdC4gSWYgc28sIHJlc29sdmUgaXQgdG8gY29tcGxldGUgdGhlIHVwZGF0ZSwgb3RoZXJ3aXNlXG4gICAgLy8gcmVxdWVzdFVwZGF0ZS5cbiAgICBpZiAodGhpcy5faGFzQ29ubmVjdGVkUmVzb2x2ZXIpIHtcbiAgICAgIHRoaXMuX2hhc0Nvbm5lY3RlZFJlc29sdmVyKCk7XG4gICAgICB0aGlzLl9oYXNDb25uZWN0ZWRSZXNvbHZlciA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWxsb3dzIGZvciBgc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2soKWAgaW4gZXh0ZW5zaW9ucyB3aGlsZVxuICAgKiByZXNlcnZpbmcgdGhlIHBvc3NpYmlsaXR5IG9mIG1ha2luZyBub24tYnJlYWtpbmcgZmVhdHVyZSBhZGRpdGlvbnNcbiAgICogd2hlbiBkaXNjb25uZWN0aW5nIGF0IHNvbWUgcG9pbnQgaW4gdGhlIGZ1dHVyZS5cbiAgICovXG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICB9XG5cbiAgLyoqXG4gICAqIFN5bmNocm9uaXplcyBwcm9wZXJ0eSB2YWx1ZXMgd2hlbiBhdHRyaWJ1dGVzIGNoYW5nZS5cbiAgICovXG4gIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lOiBzdHJpbmcsIG9sZDogc3RyaW5nfG51bGwsIHZhbHVlOiBzdHJpbmd8bnVsbCkge1xuICAgIGlmIChvbGQgIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLl9hdHRyaWJ1dGVUb1Byb3BlcnR5KG5hbWUsIHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9wcm9wZXJ0eVRvQXR0cmlidXRlKFxuICAgICAgbmFtZTogUHJvcGVydHlLZXksIHZhbHVlOiB1bmtub3duLFxuICAgICAgb3B0aW9uczogUHJvcGVydHlEZWNsYXJhdGlvbiA9IGRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uKSB7XG4gICAgY29uc3QgY3RvciA9ICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBVcGRhdGluZ0VsZW1lbnQpO1xuICAgIGNvbnN0IGF0dHIgPSBjdG9yLl9hdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkobmFtZSwgb3B0aW9ucyk7XG4gICAgaWYgKGF0dHIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3QgYXR0clZhbHVlID0gY3Rvci5fcHJvcGVydHlWYWx1ZVRvQXR0cmlidXRlKHZhbHVlLCBvcHRpb25zKTtcbiAgICAgIC8vIGFuIHVuZGVmaW5lZCB2YWx1ZSBkb2VzIG5vdCBjaGFuZ2UgdGhlIGF0dHJpYnV0ZS5cbiAgICAgIGlmIChhdHRyVmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBUcmFjayBpZiB0aGUgcHJvcGVydHkgaXMgYmVpbmcgcmVmbGVjdGVkIHRvIGF2b2lkXG4gICAgICAvLyBzZXR0aW5nIHRoZSBwcm9wZXJ0eSBhZ2FpbiB2aWEgYGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFja2AuIE5vdGU6XG4gICAgICAvLyAxLiB0aGlzIHRha2VzIGFkdmFudGFnZSBvZiB0aGUgZmFjdCB0aGF0IHRoZSBjYWxsYmFjayBpcyBzeW5jaHJvbm91cy5cbiAgICAgIC8vIDIuIHdpbGwgYmVoYXZlIGluY29ycmVjdGx5IGlmIG11bHRpcGxlIGF0dHJpYnV0ZXMgYXJlIGluIHRoZSByZWFjdGlvblxuICAgICAgLy8gc3RhY2sgYXQgdGltZSBvZiBjYWxsaW5nLiBIb3dldmVyLCBzaW5jZSB3ZSBwcm9jZXNzIGF0dHJpYnV0ZXNcbiAgICAgIC8vIGluIGB1cGRhdGVgIHRoaXMgc2hvdWxkIG5vdCBiZSBwb3NzaWJsZSAob3IgYW4gZXh0cmVtZSBjb3JuZXIgY2FzZVxuICAgICAgLy8gdGhhdCB3ZSdkIGxpa2UgdG8gZGlzY292ZXIpLlxuICAgICAgLy8gbWFyayBzdGF0ZSByZWZsZWN0aW5nXG4gICAgICB0aGlzLl91cGRhdGVTdGF0ZSA9IHRoaXMuX3VwZGF0ZVN0YXRlIHwgU1RBVEVfSVNfUkVGTEVDVElOR19UT19BVFRSSUJVVEU7XG4gICAgICBpZiAoYXR0clZhbHVlID09IG51bGwpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoYXR0cik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShhdHRyLCBhdHRyVmFsdWUgYXMgc3RyaW5nKTtcbiAgICAgIH1cbiAgICAgIC8vIG1hcmsgc3RhdGUgbm90IHJlZmxlY3RpbmdcbiAgICAgIHRoaXMuX3VwZGF0ZVN0YXRlID0gdGhpcy5fdXBkYXRlU3RhdGUgJiB+U1RBVEVfSVNfUkVGTEVDVElOR19UT19BVFRSSUJVVEU7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfYXR0cmlidXRlVG9Qcm9wZXJ0eShuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmd8bnVsbCkge1xuICAgIC8vIFVzZSB0cmFja2luZyBpbmZvIHRvIGF2b2lkIGRlc2VyaWFsaXppbmcgYXR0cmlidXRlIHZhbHVlIGlmIGl0IHdhc1xuICAgIC8vIGp1c3Qgc2V0IGZyb20gYSBwcm9wZXJ0eSBzZXR0ZXIuXG4gICAgaWYgKHRoaXMuX3VwZGF0ZVN0YXRlICYgU1RBVEVfSVNfUkVGTEVDVElOR19UT19BVFRSSUJVVEUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY3RvciA9ICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBVcGRhdGluZ0VsZW1lbnQpO1xuICAgIGNvbnN0IHByb3BOYW1lID0gY3Rvci5fYXR0cmlidXRlVG9Qcm9wZXJ0eU1hcC5nZXQobmFtZSk7XG4gICAgaWYgKHByb3BOYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IG9wdGlvbnMgPVxuICAgICAgICAgIGN0b3IuX2NsYXNzUHJvcGVydGllcyEuZ2V0KHByb3BOYW1lKSB8fCBkZWZhdWx0UHJvcGVydHlEZWNsYXJhdGlvbjtcbiAgICAgIC8vIG1hcmsgc3RhdGUgcmVmbGVjdGluZ1xuICAgICAgdGhpcy5fdXBkYXRlU3RhdGUgPSB0aGlzLl91cGRhdGVTdGF0ZSB8IFNUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fUFJPUEVSVFk7XG4gICAgICB0aGlzW3Byb3BOYW1lIGFzIGtleW9mIHRoaXNdID1cbiAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG4gICAgICAgICAgY3Rvci5fcHJvcGVydHlWYWx1ZUZyb21BdHRyaWJ1dGUodmFsdWUsIG9wdGlvbnMpIGFzIGFueTtcbiAgICAgIC8vIG1hcmsgc3RhdGUgbm90IHJlZmxlY3RpbmdcbiAgICAgIHRoaXMuX3VwZGF0ZVN0YXRlID0gdGhpcy5fdXBkYXRlU3RhdGUgJiB+U1RBVEVfSVNfUkVGTEVDVElOR19UT19QUk9QRVJUWTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBwcml2YXRlIHZlcnNpb24gb2YgYHJlcXVlc3RVcGRhdGVgIGRvZXMgbm90IGFjY2VzcyBvciByZXR1cm4gdGhlXG4gICAqIGB1cGRhdGVDb21wbGV0ZWAgcHJvbWlzZS4gVGhpcyBwcm9taXNlIGNhbiBiZSBvdmVycmlkZGVuIGFuZCBpcyB0aGVyZWZvcmVcbiAgICogbm90IGZyZWUgdG8gYWNjZXNzLlxuICAgKi9cbiAgcHJpdmF0ZSBfcmVxdWVzdFVwZGF0ZShuYW1lPzogUHJvcGVydHlLZXksIG9sZFZhbHVlPzogdW5rbm93bikge1xuICAgIGxldCBzaG91bGRSZXF1ZXN0VXBkYXRlID0gdHJ1ZTtcbiAgICAvLyBJZiB3ZSBoYXZlIGEgcHJvcGVydHkga2V5LCBwZXJmb3JtIHByb3BlcnR5IHVwZGF0ZSBzdGVwcy5cbiAgICBpZiAobmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBjdG9yID0gdGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgVXBkYXRpbmdFbGVtZW50O1xuICAgICAgY29uc3Qgb3B0aW9ucyA9XG4gICAgICAgICAgY3Rvci5fY2xhc3NQcm9wZXJ0aWVzIS5nZXQobmFtZSkgfHwgZGVmYXVsdFByb3BlcnR5RGVjbGFyYXRpb247XG4gICAgICBpZiAoY3Rvci5fdmFsdWVIYXNDaGFuZ2VkKFxuICAgICAgICAgICAgICB0aGlzW25hbWUgYXMga2V5b2YgdGhpc10sIG9sZFZhbHVlLCBvcHRpb25zLmhhc0NoYW5nZWQpKSB7XG4gICAgICAgIGlmICghdGhpcy5fY2hhbmdlZFByb3BlcnRpZXMuaGFzKG5hbWUpKSB7XG4gICAgICAgICAgdGhpcy5fY2hhbmdlZFByb3BlcnRpZXMuc2V0KG5hbWUsIG9sZFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBZGQgdG8gcmVmbGVjdGluZyBwcm9wZXJ0aWVzIHNldC5cbiAgICAgICAgLy8gTm90ZSwgaXQncyBpbXBvcnRhbnQgdGhhdCBldmVyeSBjaGFuZ2UgaGFzIGEgY2hhbmNlIHRvIGFkZCB0aGVcbiAgICAgICAgLy8gcHJvcGVydHkgdG8gYF9yZWZsZWN0aW5nUHJvcGVydGllc2AuIFRoaXMgZW5zdXJlcyBzZXR0aW5nXG4gICAgICAgIC8vIGF0dHJpYnV0ZSArIHByb3BlcnR5IHJlZmxlY3RzIGNvcnJlY3RseS5cbiAgICAgICAgaWYgKG9wdGlvbnMucmVmbGVjdCA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgISh0aGlzLl91cGRhdGVTdGF0ZSAmIFNUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fUFJPUEVSVFkpKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX3JlZmxlY3RpbmdQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlZmxlY3RpbmdQcm9wZXJ0aWVzID0gbmV3IE1hcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLl9yZWZsZWN0aW5nUHJvcGVydGllcy5zZXQobmFtZSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEFib3J0IHRoZSByZXF1ZXN0IGlmIHRoZSBwcm9wZXJ0eSBzaG91bGQgbm90IGJlIGNvbnNpZGVyZWQgY2hhbmdlZC5cbiAgICAgICAgc2hvdWxkUmVxdWVzdFVwZGF0ZSA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXRoaXMuX2hhc1JlcXVlc3RlZFVwZGF0ZSAmJiBzaG91bGRSZXF1ZXN0VXBkYXRlKSB7XG4gICAgICB0aGlzLl9lbnF1ZXVlVXBkYXRlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlcXVlc3RzIGFuIHVwZGF0ZSB3aGljaCBpcyBwcm9jZXNzZWQgYXN5bmNocm9ub3VzbHkuIFRoaXMgc2hvdWxkXG4gICAqIGJlIGNhbGxlZCB3aGVuIGFuIGVsZW1lbnQgc2hvdWxkIHVwZGF0ZSBiYXNlZCBvbiBzb21lIHN0YXRlIG5vdCB0cmlnZ2VyZWRcbiAgICogYnkgc2V0dGluZyBhIHByb3BlcnR5LiBJbiB0aGlzIGNhc2UsIHBhc3Mgbm8gYXJndW1lbnRzLiBJdCBzaG91bGQgYWxzbyBiZVxuICAgKiBjYWxsZWQgd2hlbiBtYW51YWxseSBpbXBsZW1lbnRpbmcgYSBwcm9wZXJ0eSBzZXR0ZXIuIEluIHRoaXMgY2FzZSwgcGFzcyB0aGVcbiAgICogcHJvcGVydHkgYG5hbWVgIGFuZCBgb2xkVmFsdWVgIHRvIGVuc3VyZSB0aGF0IGFueSBjb25maWd1cmVkIHByb3BlcnR5XG4gICAqIG9wdGlvbnMgYXJlIGhvbm9yZWQuIFJldHVybnMgdGhlIGB1cGRhdGVDb21wbGV0ZWAgUHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZFxuICAgKiB3aGVuIHRoZSB1cGRhdGUgY29tcGxldGVzLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSB7UHJvcGVydHlLZXl9IChvcHRpb25hbCkgbmFtZSBvZiByZXF1ZXN0aW5nIHByb3BlcnR5XG4gICAqIEBwYXJhbSBvbGRWYWx1ZSB7YW55fSAob3B0aW9uYWwpIG9sZCB2YWx1ZSBvZiByZXF1ZXN0aW5nIHByb3BlcnR5XG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBBIFByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aGVuIHRoZSB1cGRhdGUgY29tcGxldGVzLlxuICAgKi9cbiAgcmVxdWVzdFVwZGF0ZShuYW1lPzogUHJvcGVydHlLZXksIG9sZFZhbHVlPzogdW5rbm93bikge1xuICAgIHRoaXMuX3JlcXVlc3RVcGRhdGUobmFtZSwgb2xkVmFsdWUpO1xuICAgIHJldHVybiB0aGlzLnVwZGF0ZUNvbXBsZXRlO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdXAgdGhlIGVsZW1lbnQgdG8gYXN5bmNocm9ub3VzbHkgdXBkYXRlLlxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBfZW5xdWV1ZVVwZGF0ZSgpIHtcbiAgICAvLyBNYXJrIHN0YXRlIHVwZGF0aW5nLi4uXG4gICAgdGhpcy5fdXBkYXRlU3RhdGUgPSB0aGlzLl91cGRhdGVTdGF0ZSB8IFNUQVRFX1VQREFURV9SRVFVRVNURUQ7XG4gICAgbGV0IHJlc29sdmUhOiAocjogYm9vbGVhbikgPT4gdm9pZDtcbiAgICBsZXQgcmVqZWN0ITogKGU6IEVycm9yKSA9PiB2b2lkO1xuICAgIGNvbnN0IHByZXZpb3VzVXBkYXRlUHJvbWlzZSA9IHRoaXMuX3VwZGF0ZVByb21pc2U7XG4gICAgdGhpcy5fdXBkYXRlUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXMsIHJlaikgPT4ge1xuICAgICAgcmVzb2x2ZSA9IHJlcztcbiAgICAgIHJlamVjdCA9IHJlajtcbiAgICB9KTtcbiAgICB0cnkge1xuICAgICAgLy8gRW5zdXJlIGFueSBwcmV2aW91cyB1cGRhdGUgaGFzIHJlc29sdmVkIGJlZm9yZSB1cGRhdGluZy5cbiAgICAgIC8vIFRoaXMgYGF3YWl0YCBhbHNvIGVuc3VyZXMgdGhhdCBwcm9wZXJ0eSBjaGFuZ2VzIGFyZSBiYXRjaGVkLlxuICAgICAgYXdhaXQgcHJldmlvdXNVcGRhdGVQcm9taXNlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIElnbm9yZSBhbnkgcHJldmlvdXMgZXJyb3JzLiBXZSBvbmx5IGNhcmUgdGhhdCB0aGUgcHJldmlvdXMgY3ljbGUgaXNcbiAgICAgIC8vIGRvbmUuIEFueSBlcnJvciBzaG91bGQgaGF2ZSBiZWVuIGhhbmRsZWQgaW4gdGhlIHByZXZpb3VzIHVwZGF0ZS5cbiAgICB9XG4gICAgLy8gTWFrZSBzdXJlIHRoZSBlbGVtZW50IGhhcyBjb25uZWN0ZWQgYmVmb3JlIHVwZGF0aW5nLlxuICAgIGlmICghdGhpcy5faGFzQ29ubmVjdGVkKSB7XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzKSA9PiB0aGlzLl9oYXNDb25uZWN0ZWRSZXNvbHZlciA9IHJlcyk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSB0aGlzLnBlcmZvcm1VcGRhdGUoKTtcbiAgICAgIC8vIElmIGBwZXJmb3JtVXBkYXRlYCByZXR1cm5zIGEgUHJvbWlzZSwgd2UgYXdhaXQgaXQuIFRoaXMgaXMgZG9uZSB0b1xuICAgICAgLy8gZW5hYmxlIGNvb3JkaW5hdGluZyB1cGRhdGVzIHdpdGggYSBzY2hlZHVsZXIuIE5vdGUsIHRoZSByZXN1bHQgaXNcbiAgICAgIC8vIGNoZWNrZWQgdG8gYXZvaWQgZGVsYXlpbmcgYW4gYWRkaXRpb25hbCBtaWNyb3Rhc2sgdW5sZXNzIHdlIG5lZWQgdG8uXG4gICAgICBpZiAocmVzdWx0ICE9IG51bGwpIHtcbiAgICAgICAgYXdhaXQgcmVzdWx0O1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9XG4gICAgcmVzb2x2ZSghdGhpcy5faGFzUmVxdWVzdGVkVXBkYXRlKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0IF9oYXNDb25uZWN0ZWQoKSB7XG4gICAgcmV0dXJuICh0aGlzLl91cGRhdGVTdGF0ZSAmIFNUQVRFX0hBU19DT05ORUNURUQpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXQgX2hhc1JlcXVlc3RlZFVwZGF0ZSgpIHtcbiAgICByZXR1cm4gKHRoaXMuX3VwZGF0ZVN0YXRlICYgU1RBVEVfVVBEQVRFX1JFUVVFU1RFRCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0IGhhc1VwZGF0ZWQoKSB7XG4gICAgcmV0dXJuICh0aGlzLl91cGRhdGVTdGF0ZSAmIFNUQVRFX0hBU19VUERBVEVEKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQZXJmb3JtcyBhbiBlbGVtZW50IHVwZGF0ZS4gTm90ZSwgaWYgYW4gZXhjZXB0aW9uIGlzIHRocm93biBkdXJpbmcgdGhlXG4gICAqIHVwZGF0ZSwgYGZpcnN0VXBkYXRlZGAgYW5kIGB1cGRhdGVkYCB3aWxsIG5vdCBiZSBjYWxsZWQuXG4gICAqXG4gICAqIFlvdSBjYW4gb3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gY2hhbmdlIHRoZSB0aW1pbmcgb2YgdXBkYXRlcy4gSWYgdGhpc1xuICAgKiBtZXRob2QgaXMgb3ZlcnJpZGRlbiwgYHN1cGVyLnBlcmZvcm1VcGRhdGUoKWAgbXVzdCBiZSBjYWxsZWQuXG4gICAqXG4gICAqIEZvciBpbnN0YW5jZSwgdG8gc2NoZWR1bGUgdXBkYXRlcyB0byBvY2N1ciBqdXN0IGJlZm9yZSB0aGUgbmV4dCBmcmFtZTpcbiAgICpcbiAgICogYGBgXG4gICAqIHByb3RlY3RlZCBhc3luYyBwZXJmb3JtVXBkYXRlKCk6IFByb21pc2U8dW5rbm93bj4ge1xuICAgKiAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gcmVzb2x2ZSgpKSk7XG4gICAqICAgc3VwZXIucGVyZm9ybVVwZGF0ZSgpO1xuICAgKiB9XG4gICAqIGBgYFxuICAgKi9cbiAgcHJvdGVjdGVkIHBlcmZvcm1VcGRhdGUoKTogdm9pZHxQcm9taXNlPHVua25vd24+IHtcbiAgICAvLyBNaXhpbiBpbnN0YW5jZSBwcm9wZXJ0aWVzIG9uY2UsIGlmIHRoZXkgZXhpc3QuXG4gICAgaWYgKHRoaXMuX2luc3RhbmNlUHJvcGVydGllcykge1xuICAgICAgdGhpcy5fYXBwbHlJbnN0YW5jZVByb3BlcnRpZXMoKTtcbiAgICB9XG4gICAgbGV0IHNob3VsZFVwZGF0ZSA9IGZhbHNlO1xuICAgIGNvbnN0IGNoYW5nZWRQcm9wZXJ0aWVzID0gdGhpcy5fY2hhbmdlZFByb3BlcnRpZXM7XG4gICAgdHJ5IHtcbiAgICAgIHNob3VsZFVwZGF0ZSA9IHRoaXMuc2hvdWxkVXBkYXRlKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICAgIGlmIChzaG91bGRVcGRhdGUpIHtcbiAgICAgICAgdGhpcy51cGRhdGUoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIFByZXZlbnQgYGZpcnN0VXBkYXRlZGAgYW5kIGB1cGRhdGVkYCBmcm9tIHJ1bm5pbmcgd2hlbiB0aGVyZSdzIGFuXG4gICAgICAvLyB1cGRhdGUgZXhjZXB0aW9uLlxuICAgICAgc2hvdWxkVXBkYXRlID0gZmFsc2U7XG4gICAgICB0aHJvdyBlO1xuICAgIH0gZmluYWxseSB7XG4gICAgICAvLyBFbnN1cmUgZWxlbWVudCBjYW4gYWNjZXB0IGFkZGl0aW9uYWwgdXBkYXRlcyBhZnRlciBhbiBleGNlcHRpb24uXG4gICAgICB0aGlzLl9tYXJrVXBkYXRlZCgpO1xuICAgIH1cbiAgICBpZiAoc2hvdWxkVXBkYXRlKSB7XG4gICAgICBpZiAoISh0aGlzLl91cGRhdGVTdGF0ZSAmIFNUQVRFX0hBU19VUERBVEVEKSkge1xuICAgICAgICB0aGlzLl91cGRhdGVTdGF0ZSA9IHRoaXMuX3VwZGF0ZVN0YXRlIHwgU1RBVEVfSEFTX1VQREFURUQ7XG4gICAgICAgIHRoaXMuZmlyc3RVcGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICAgIH1cbiAgICAgIHRoaXMudXBkYXRlZChjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfbWFya1VwZGF0ZWQoKSB7XG4gICAgdGhpcy5fY2hhbmdlZFByb3BlcnRpZXMgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5fdXBkYXRlU3RhdGUgPSB0aGlzLl91cGRhdGVTdGF0ZSAmIH5TVEFURV9VUERBVEVfUkVRVUVTVEVEO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgZWxlbWVudCBoYXMgY29tcGxldGVkIHVwZGF0aW5nLlxuICAgKiBUaGUgUHJvbWlzZSB2YWx1ZSBpcyBhIGJvb2xlYW4gdGhhdCBpcyBgdHJ1ZWAgaWYgdGhlIGVsZW1lbnQgY29tcGxldGVkIHRoZVxuICAgKiB1cGRhdGUgd2l0aG91dCB0cmlnZ2VyaW5nIGFub3RoZXIgdXBkYXRlLiBUaGUgUHJvbWlzZSByZXN1bHQgaXMgYGZhbHNlYCBpZlxuICAgKiBhIHByb3BlcnR5IHdhcyBzZXQgaW5zaWRlIGB1cGRhdGVkKClgLiBJZiB0aGUgUHJvbWlzZSBpcyByZWplY3RlZCwgYW5cbiAgICogZXhjZXB0aW9uIHdhcyB0aHJvd24gZHVyaW5nIHRoZSB1cGRhdGUuIFRoaXMgZ2V0dGVyIGNhbiBiZSBpbXBsZW1lbnRlZCB0b1xuICAgKiBhd2FpdCBhZGRpdGlvbmFsIHN0YXRlLiBGb3IgZXhhbXBsZSwgaXQgaXMgc29tZXRpbWVzIHVzZWZ1bCB0byBhd2FpdCBhXG4gICAqIHJlbmRlcmVkIGVsZW1lbnQgYmVmb3JlIGZ1bGZpbGxpbmcgdGhpcyBQcm9taXNlLiBUbyBkbyB0aGlzLCBmaXJzdCBhd2FpdFxuICAgKiBgc3VwZXIudXBkYXRlQ29tcGxldGVgIHRoZW4gYW55IHN1YnNlcXVlbnQgc3RhdGUuXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBUaGUgUHJvbWlzZSByZXR1cm5zIGEgYm9vbGVhbiB0aGF0IGluZGljYXRlcyBpZiB0aGVcbiAgICogdXBkYXRlIHJlc29sdmVkIHdpdGhvdXQgdHJpZ2dlcmluZyBhbm90aGVyIHVwZGF0ZS5cbiAgICovXG4gIGdldCB1cGRhdGVDb21wbGV0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdXBkYXRlUHJvbWlzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb250cm9scyB3aGV0aGVyIG9yIG5vdCBgdXBkYXRlYCBzaG91bGQgYmUgY2FsbGVkIHdoZW4gdGhlIGVsZW1lbnQgcmVxdWVzdHNcbiAgICogYW4gdXBkYXRlLiBCeSBkZWZhdWx0LCB0aGlzIG1ldGhvZCBhbHdheXMgcmV0dXJucyBgdHJ1ZWAsIGJ1dCB0aGlzIGNhbiBiZVxuICAgKiBjdXN0b21pemVkIHRvIGNvbnRyb2wgd2hlbiB0byB1cGRhdGUuXG4gICAqXG4gICAqICogQHBhcmFtIF9jaGFuZ2VkUHJvcGVydGllcyBNYXAgb2YgY2hhbmdlZCBwcm9wZXJ0aWVzIHdpdGggb2xkIHZhbHVlc1xuICAgKi9cbiAgcHJvdGVjdGVkIHNob3VsZFVwZGF0ZShfY2hhbmdlZFByb3BlcnRpZXM6IFByb3BlcnR5VmFsdWVzKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgZWxlbWVudC4gVGhpcyBtZXRob2QgcmVmbGVjdHMgcHJvcGVydHkgdmFsdWVzIHRvIGF0dHJpYnV0ZXMuXG4gICAqIEl0IGNhbiBiZSBvdmVycmlkZGVuIHRvIHJlbmRlciBhbmQga2VlcCB1cGRhdGVkIGVsZW1lbnQgRE9NLlxuICAgKiBTZXR0aW5nIHByb3BlcnRpZXMgaW5zaWRlIHRoaXMgbWV0aG9kIHdpbGwgKm5vdCogdHJpZ2dlclxuICAgKiBhbm90aGVyIHVwZGF0ZS5cbiAgICpcbiAgICogKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAqL1xuICBwcm90ZWN0ZWQgdXBkYXRlKF9jaGFuZ2VkUHJvcGVydGllczogUHJvcGVydHlWYWx1ZXMpIHtcbiAgICBpZiAodGhpcy5fcmVmbGVjdGluZ1Byb3BlcnRpZXMgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICB0aGlzLl9yZWZsZWN0aW5nUHJvcGVydGllcy5zaXplID4gMCkge1xuICAgICAgLy8gVXNlIGZvckVhY2ggc28gdGhpcyB3b3JrcyBldmVuIGlmIGZvci9vZiBsb29wcyBhcmUgY29tcGlsZWQgdG8gZm9yXG4gICAgICAvLyBsb29wcyBleHBlY3RpbmcgYXJyYXlzXG4gICAgICB0aGlzLl9yZWZsZWN0aW5nUHJvcGVydGllcy5mb3JFYWNoKFxuICAgICAgICAgICh2LCBrKSA9PiB0aGlzLl9wcm9wZXJ0eVRvQXR0cmlidXRlKGssIHRoaXNbayBhcyBrZXlvZiB0aGlzXSwgdikpO1xuICAgICAgdGhpcy5fcmVmbGVjdGluZ1Byb3BlcnRpZXMgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEludm9rZWQgd2hlbmV2ZXIgdGhlIGVsZW1lbnQgaXMgdXBkYXRlZC4gSW1wbGVtZW50IHRvIHBlcmZvcm1cbiAgICogcG9zdC11cGRhdGluZyB0YXNrcyB2aWEgRE9NIEFQSXMsIGZvciBleGFtcGxlLCBmb2N1c2luZyBhbiBlbGVtZW50LlxuICAgKlxuICAgKiBTZXR0aW5nIHByb3BlcnRpZXMgaW5zaWRlIHRoaXMgbWV0aG9kIHdpbGwgdHJpZ2dlciB0aGUgZWxlbWVudCB0byB1cGRhdGVcbiAgICogYWdhaW4gYWZ0ZXIgdGhpcyB1cGRhdGUgY3ljbGUgY29tcGxldGVzLlxuICAgKlxuICAgKiAqIEBwYXJhbSBfY2hhbmdlZFByb3BlcnRpZXMgTWFwIG9mIGNoYW5nZWQgcHJvcGVydGllcyB3aXRoIG9sZCB2YWx1ZXNcbiAgICovXG4gIHByb3RlY3RlZCB1cGRhdGVkKF9jaGFuZ2VkUHJvcGVydGllczogUHJvcGVydHlWYWx1ZXMpIHtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnZva2VkIHdoZW4gdGhlIGVsZW1lbnQgaXMgZmlyc3QgdXBkYXRlZC4gSW1wbGVtZW50IHRvIHBlcmZvcm0gb25lIHRpbWVcbiAgICogd29yayBvbiB0aGUgZWxlbWVudCBhZnRlciB1cGRhdGUuXG4gICAqXG4gICAqIFNldHRpbmcgcHJvcGVydGllcyBpbnNpZGUgdGhpcyBtZXRob2Qgd2lsbCB0cmlnZ2VyIHRoZSBlbGVtZW50IHRvIHVwZGF0ZVxuICAgKiBhZ2FpbiBhZnRlciB0aGlzIHVwZGF0ZSBjeWNsZSBjb21wbGV0ZXMuXG4gICAqXG4gICAqICogQHBhcmFtIF9jaGFuZ2VkUHJvcGVydGllcyBNYXAgb2YgY2hhbmdlZCBwcm9wZXJ0aWVzIHdpdGggb2xkIHZhbHVlc1xuICAgKi9cbiAgcHJvdGVjdGVkIGZpcnN0VXBkYXRlZChfY2hhbmdlZFByb3BlcnRpZXM6IFByb3BlcnR5VmFsdWVzKSB7XG4gIH1cbn1cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cblxuaW1wb3J0IHtMaXRFbGVtZW50fSBmcm9tICcuLi9saXQtZWxlbWVudC5qcyc7XG5cbmltcG9ydCB7UHJvcGVydHlEZWNsYXJhdGlvbiwgVXBkYXRpbmdFbGVtZW50fSBmcm9tICcuL3VwZGF0aW5nLWVsZW1lbnQuanMnO1xuXG5leHBvcnQgdHlwZSBDb25zdHJ1Y3RvcjxUPiA9IHtcbiAgbmV3ICguLi5hcmdzOiB1bmtub3duW10pOiBUXG59O1xuXG4vLyBGcm9tIHRoZSBUQzM5IERlY29yYXRvcnMgcHJvcG9zYWxcbmludGVyZmFjZSBDbGFzc0Rlc2NyaXB0b3Ige1xuICBraW5kOiAnY2xhc3MnO1xuICBlbGVtZW50czogQ2xhc3NFbGVtZW50W107XG4gIGZpbmlzaGVyPzogPFQ+KGNsYXp6OiBDb25zdHJ1Y3RvcjxUPikgPT4gdW5kZWZpbmVkIHwgQ29uc3RydWN0b3I8VD47XG59XG5cbi8vIEZyb20gdGhlIFRDMzkgRGVjb3JhdG9ycyBwcm9wb3NhbFxuaW50ZXJmYWNlIENsYXNzRWxlbWVudCB7XG4gIGtpbmQ6ICdmaWVsZCd8J21ldGhvZCc7XG4gIGtleTogUHJvcGVydHlLZXk7XG4gIHBsYWNlbWVudDogJ3N0YXRpYyd8J3Byb3RvdHlwZSd8J293bic7XG4gIGluaXRpYWxpemVyPzogRnVuY3Rpb247XG4gIGV4dHJhcz86IENsYXNzRWxlbWVudFtdO1xuICBmaW5pc2hlcj86IDxUPihjbGF6ejogQ29uc3RydWN0b3I8VD4pID0+IHVuZGVmaW5lZCB8IENvbnN0cnVjdG9yPFQ+O1xuICBkZXNjcmlwdG9yPzogUHJvcGVydHlEZXNjcmlwdG9yO1xufVxuXG5jb25zdCBsZWdhY3lDdXN0b21FbGVtZW50ID1cbiAgICAodGFnTmFtZTogc3RyaW5nLCBjbGF6ejogQ29uc3RydWN0b3I8SFRNTEVsZW1lbnQ+KSA9PiB7XG4gICAgICB3aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKHRhZ05hbWUsIGNsYXp6KTtcbiAgICAgIC8vIENhc3QgYXMgYW55IGJlY2F1c2UgVFMgZG9lc24ndCByZWNvZ25pemUgdGhlIHJldHVybiB0eXBlIGFzIGJlaW5nIGFcbiAgICAgIC8vIHN1YnR5cGUgb2YgdGhlIGRlY29yYXRlZCBjbGFzcyB3aGVuIGNsYXp6IGlzIHR5cGVkIGFzXG4gICAgICAvLyBgQ29uc3RydWN0b3I8SFRNTEVsZW1lbnQ+YCBmb3Igc29tZSByZWFzb24uXG4gICAgICAvLyBgQ29uc3RydWN0b3I8SFRNTEVsZW1lbnQ+YCBpcyBoZWxwZnVsIHRvIG1ha2Ugc3VyZSB0aGUgZGVjb3JhdG9yIGlzXG4gICAgICAvLyBhcHBsaWVkIHRvIGVsZW1lbnRzIGhvd2V2ZXIuXG4gICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG4gICAgICByZXR1cm4gY2xhenogYXMgYW55O1xuICAgIH07XG5cbmNvbnN0IHN0YW5kYXJkQ3VzdG9tRWxlbWVudCA9XG4gICAgKHRhZ05hbWU6IHN0cmluZywgZGVzY3JpcHRvcjogQ2xhc3NEZXNjcmlwdG9yKSA9PiB7XG4gICAgICBjb25zdCB7a2luZCwgZWxlbWVudHN9ID0gZGVzY3JpcHRvcjtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGtpbmQsXG4gICAgICAgIGVsZW1lbnRzLFxuICAgICAgICAvLyBUaGlzIGNhbGxiYWNrIGlzIGNhbGxlZCBvbmNlIHRoZSBjbGFzcyBpcyBvdGhlcndpc2UgZnVsbHkgZGVmaW5lZFxuICAgICAgICBmaW5pc2hlcihjbGF6ejogQ29uc3RydWN0b3I8SFRNTEVsZW1lbnQ+KSB7XG4gICAgICAgICAgd2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSh0YWdOYW1lLCBjbGF6eik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcblxuLyoqXG4gKiBDbGFzcyBkZWNvcmF0b3IgZmFjdG9yeSB0aGF0IGRlZmluZXMgdGhlIGRlY29yYXRlZCBjbGFzcyBhcyBhIGN1c3RvbSBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB0YWdOYW1lIHRoZSBuYW1lIG9mIHRoZSBjdXN0b20gZWxlbWVudCB0byBkZWZpbmVcbiAqL1xuZXhwb3J0IGNvbnN0IGN1c3RvbUVsZW1lbnQgPSAodGFnTmFtZTogc3RyaW5nKSA9PlxuICAgIChjbGFzc09yRGVzY3JpcHRvcjogQ29uc3RydWN0b3I8SFRNTEVsZW1lbnQ+fENsYXNzRGVzY3JpcHRvcikgPT5cbiAgICAgICAgKHR5cGVvZiBjbGFzc09yRGVzY3JpcHRvciA9PT0gJ2Z1bmN0aW9uJykgP1xuICAgIGxlZ2FjeUN1c3RvbUVsZW1lbnQodGFnTmFtZSwgY2xhc3NPckRlc2NyaXB0b3IpIDpcbiAgICBzdGFuZGFyZEN1c3RvbUVsZW1lbnQodGFnTmFtZSwgY2xhc3NPckRlc2NyaXB0b3IpO1xuXG5jb25zdCBzdGFuZGFyZFByb3BlcnR5ID1cbiAgICAob3B0aW9uczogUHJvcGVydHlEZWNsYXJhdGlvbiwgZWxlbWVudDogQ2xhc3NFbGVtZW50KSA9PiB7XG4gICAgICAvLyBXaGVuIGRlY29yYXRpbmcgYW4gYWNjZXNzb3IsIHBhc3MgaXQgdGhyb3VnaCBhbmQgYWRkIHByb3BlcnR5IG1ldGFkYXRhLlxuICAgICAgLy8gTm90ZSwgdGhlIGBoYXNPd25Qcm9wZXJ0eWAgY2hlY2sgaW4gYGNyZWF0ZVByb3BlcnR5YCBlbnN1cmVzIHdlIGRvbid0XG4gICAgICAvLyBzdG9tcCBvdmVyIHRoZSB1c2VyJ3MgYWNjZXNzb3IuXG4gICAgICBpZiAoZWxlbWVudC5raW5kID09PSAnbWV0aG9kJyAmJiBlbGVtZW50LmRlc2NyaXB0b3IgJiZcbiAgICAgICAgICAhKCd2YWx1ZScgaW4gZWxlbWVudC5kZXNjcmlwdG9yKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLmVsZW1lbnQsXG4gICAgICAgICAgZmluaXNoZXIoY2xheno6IHR5cGVvZiBVcGRhdGluZ0VsZW1lbnQpIHtcbiAgICAgICAgICAgIGNsYXp6LmNyZWF0ZVByb3BlcnR5KGVsZW1lbnQua2V5LCBvcHRpb25zKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjcmVhdGVQcm9wZXJ0eSgpIHRha2VzIGNhcmUgb2YgZGVmaW5pbmcgdGhlIHByb3BlcnR5LCBidXQgd2Ugc3RpbGxcbiAgICAgICAgLy8gbXVzdCByZXR1cm4gc29tZSBraW5kIG9mIGRlc2NyaXB0b3IsIHNvIHJldHVybiBhIGRlc2NyaXB0b3IgZm9yIGFuXG4gICAgICAgIC8vIHVudXNlZCBwcm90b3R5cGUgZmllbGQuIFRoZSBmaW5pc2hlciBjYWxscyBjcmVhdGVQcm9wZXJ0eSgpLlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGtpbmQ6ICdmaWVsZCcsXG4gICAgICAgICAga2V5OiBTeW1ib2woKSxcbiAgICAgICAgICBwbGFjZW1lbnQ6ICdvd24nLFxuICAgICAgICAgIGRlc2NyaXB0b3I6IHt9LFxuICAgICAgICAgIC8vIFdoZW4gQGJhYmVsL3BsdWdpbi1wcm9wb3NhbC1kZWNvcmF0b3JzIGltcGxlbWVudHMgaW5pdGlhbGl6ZXJzLFxuICAgICAgICAgIC8vIGRvIHRoaXMgaW5zdGVhZCBvZiB0aGUgaW5pdGlhbGl6ZXIgYmVsb3cuIFNlZTpcbiAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYmFiZWwvYmFiZWwvaXNzdWVzLzkyNjAgZXh0cmFzOiBbXG4gICAgICAgICAgLy8gICB7XG4gICAgICAgICAgLy8gICAgIGtpbmQ6ICdpbml0aWFsaXplcicsXG4gICAgICAgICAgLy8gICAgIHBsYWNlbWVudDogJ293bicsXG4gICAgICAgICAgLy8gICAgIGluaXRpYWxpemVyOiBkZXNjcmlwdG9yLmluaXRpYWxpemVyLFxuICAgICAgICAgIC8vICAgfVxuICAgICAgICAgIC8vIF0sXG4gICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBkZWNvcmF0b3JcbiAgICAgICAgICBpbml0aWFsaXplcih0aGlzOiBhbnkpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZWxlbWVudC5pbml0aWFsaXplciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICB0aGlzW2VsZW1lbnQua2V5XSA9IGVsZW1lbnQuaW5pdGlhbGl6ZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGZpbmlzaGVyKGNsYXp6OiB0eXBlb2YgVXBkYXRpbmdFbGVtZW50KSB7XG4gICAgICAgICAgICBjbGF6ei5jcmVhdGVQcm9wZXJ0eShlbGVtZW50LmtleSwgb3B0aW9ucyk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbmNvbnN0IGxlZ2FjeVByb3BlcnR5ID1cbiAgICAob3B0aW9uczogUHJvcGVydHlEZWNsYXJhdGlvbiwgcHJvdG86IE9iamVjdCwgbmFtZTogUHJvcGVydHlLZXkpID0+IHtcbiAgICAgIChwcm90by5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgVXBkYXRpbmdFbGVtZW50KVxuICAgICAgICAgIC5jcmVhdGVQcm9wZXJ0eShuYW1lLCBvcHRpb25zKTtcbiAgICB9O1xuXG4vKipcbiAqIEEgcHJvcGVydHkgZGVjb3JhdG9yIHdoaWNoIGNyZWF0ZXMgYSBMaXRFbGVtZW50IHByb3BlcnR5IHdoaWNoIHJlZmxlY3RzIGFcbiAqIGNvcnJlc3BvbmRpbmcgYXR0cmlidXRlIHZhbHVlLiBBIGBQcm9wZXJ0eURlY2xhcmF0aW9uYCBtYXkgb3B0aW9uYWxseSBiZVxuICogc3VwcGxpZWQgdG8gY29uZmlndXJlIHByb3BlcnR5IGZlYXR1cmVzLlxuICpcbiAqIEBFeHBvcnREZWNvcmF0ZWRJdGVtc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcHJvcGVydHkob3B0aW9ucz86IFByb3BlcnR5RGVjbGFyYXRpb24pIHtcbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBkZWNvcmF0b3JcbiAgcmV0dXJuIChwcm90b09yRGVzY3JpcHRvcjogT2JqZWN0fENsYXNzRWxlbWVudCwgbmFtZT86IFByb3BlcnR5S2V5KTogYW55ID0+XG4gICAgICAgICAgICAgKG5hbWUgIT09IHVuZGVmaW5lZCkgP1xuICAgICAgbGVnYWN5UHJvcGVydHkob3B0aW9ucyEsIHByb3RvT3JEZXNjcmlwdG9yIGFzIE9iamVjdCwgbmFtZSkgOlxuICAgICAgc3RhbmRhcmRQcm9wZXJ0eShvcHRpb25zISwgcHJvdG9PckRlc2NyaXB0b3IgYXMgQ2xhc3NFbGVtZW50KTtcbn1cblxuLyoqXG4gKiBBIHByb3BlcnR5IGRlY29yYXRvciB0aGF0IGNvbnZlcnRzIGEgY2xhc3MgcHJvcGVydHkgaW50byBhIGdldHRlciB0aGF0XG4gKiBleGVjdXRlcyBhIHF1ZXJ5U2VsZWN0b3Igb24gdGhlIGVsZW1lbnQncyByZW5kZXJSb290LlxuICpcbiAqIEBFeHBvcnREZWNvcmF0ZWRJdGVtc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcXVlcnkoc2VsZWN0b3I6IHN0cmluZykge1xuICByZXR1cm4gKHByb3RvT3JEZXNjcmlwdG9yOiBPYmplY3R8Q2xhc3NFbGVtZW50LFxuICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnkgZGVjb3JhdG9yXG4gICAgICAgICAgbmFtZT86IFByb3BlcnR5S2V5KTogYW55ID0+IHtcbiAgICBjb25zdCBkZXNjcmlwdG9yID0ge1xuICAgICAgZ2V0KHRoaXM6IExpdEVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyUm9vdC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgIH0sXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIH07XG4gICAgcmV0dXJuIChuYW1lICE9PSB1bmRlZmluZWQpID9cbiAgICAgICAgbGVnYWN5UXVlcnkoZGVzY3JpcHRvciwgcHJvdG9PckRlc2NyaXB0b3IgYXMgT2JqZWN0LCBuYW1lKSA6XG4gICAgICAgIHN0YW5kYXJkUXVlcnkoZGVzY3JpcHRvciwgcHJvdG9PckRlc2NyaXB0b3IgYXMgQ2xhc3NFbGVtZW50KTtcbiAgfTtcbn1cblxuLyoqXG4gKiBBIHByb3BlcnR5IGRlY29yYXRvciB0aGF0IGNvbnZlcnRzIGEgY2xhc3MgcHJvcGVydHkgaW50byBhIGdldHRlclxuICogdGhhdCBleGVjdXRlcyBhIHF1ZXJ5U2VsZWN0b3JBbGwgb24gdGhlIGVsZW1lbnQncyByZW5kZXJSb290LlxuICpcbiAqIEBFeHBvcnREZWNvcmF0ZWRJdGVtc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcXVlcnlBbGwoc2VsZWN0b3I6IHN0cmluZykge1xuICByZXR1cm4gKHByb3RvT3JEZXNjcmlwdG9yOiBPYmplY3R8Q2xhc3NFbGVtZW50LFxuICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnkgZGVjb3JhdG9yXG4gICAgICAgICAgbmFtZT86IFByb3BlcnR5S2V5KTogYW55ID0+IHtcbiAgICBjb25zdCBkZXNjcmlwdG9yID0ge1xuICAgICAgZ2V0KHRoaXM6IExpdEVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyUm9vdC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgICAgIH0sXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIH07XG4gICAgcmV0dXJuIChuYW1lICE9PSB1bmRlZmluZWQpID9cbiAgICAgICAgbGVnYWN5UXVlcnkoZGVzY3JpcHRvciwgcHJvdG9PckRlc2NyaXB0b3IgYXMgT2JqZWN0LCBuYW1lKSA6XG4gICAgICAgIHN0YW5kYXJkUXVlcnkoZGVzY3JpcHRvciwgcHJvdG9PckRlc2NyaXB0b3IgYXMgQ2xhc3NFbGVtZW50KTtcbiAgfTtcbn1cblxuY29uc3QgbGVnYWN5UXVlcnkgPVxuICAgIChkZXNjcmlwdG9yOiBQcm9wZXJ0eURlc2NyaXB0b3IsIHByb3RvOiBPYmplY3QsIG5hbWU6IFByb3BlcnR5S2V5KSA9PiB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG8sIG5hbWUsIGRlc2NyaXB0b3IpO1xuICAgIH07XG5cbmNvbnN0IHN0YW5kYXJkUXVlcnkgPSAoZGVzY3JpcHRvcjogUHJvcGVydHlEZXNjcmlwdG9yLCBlbGVtZW50OiBDbGFzc0VsZW1lbnQpID0+XG4gICAgKHtcbiAgICAgIGtpbmQ6ICdtZXRob2QnLFxuICAgICAgcGxhY2VtZW50OiAncHJvdG90eXBlJyxcbiAgICAgIGtleTogZWxlbWVudC5rZXksXG4gICAgICBkZXNjcmlwdG9yLFxuICAgIH0pO1xuXG5jb25zdCBzdGFuZGFyZEV2ZW50T3B0aW9ucyA9XG4gICAgKG9wdGlvbnM6IEFkZEV2ZW50TGlzdGVuZXJPcHRpb25zLCBlbGVtZW50OiBDbGFzc0VsZW1lbnQpID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmVsZW1lbnQsXG4gICAgICAgIGZpbmlzaGVyKGNsYXp6OiB0eXBlb2YgVXBkYXRpbmdFbGVtZW50KSB7XG4gICAgICAgICAgT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAgICAgY2xhenoucHJvdG90eXBlW2VsZW1lbnQua2V5IGFzIGtleW9mIFVwZGF0aW5nRWxlbWVudF0sIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH07XG5cbmNvbnN0IGxlZ2FjeUV2ZW50T3B0aW9ucyA9XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBsZWdhY3kgZGVjb3JhdG9yXG4gICAgKG9wdGlvbnM6IEFkZEV2ZW50TGlzdGVuZXJPcHRpb25zLCBwcm90bzogYW55LCBuYW1lOiBQcm9wZXJ0eUtleSkgPT4ge1xuICAgICAgT2JqZWN0LmFzc2lnbihwcm90b1tuYW1lXSwgb3B0aW9ucyk7XG4gICAgfTtcblxuLyoqXG4gKiBBZGRzIGV2ZW50IGxpc3RlbmVyIG9wdGlvbnMgdG8gYSBtZXRob2QgdXNlZCBhcyBhbiBldmVudCBsaXN0ZW5lciBpbiBhXG4gKiBsaXQtaHRtbCB0ZW1wbGF0ZS5cbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyBBbiBvYmplY3QgdGhhdCBzcGVjaWZpcyBldmVudCBsaXN0ZW5lciBvcHRpb25zIGFzIGFjY2VwdGVkIGJ5XG4gKiBgRXZlbnRUYXJnZXQjYWRkRXZlbnRMaXN0ZW5lcmAgYW5kIGBFdmVudFRhcmdldCNyZW1vdmVFdmVudExpc3RlbmVyYC5cbiAqXG4gKiBDdXJyZW50IGJyb3dzZXJzIHN1cHBvcnQgdGhlIGBjYXB0dXJlYCwgYHBhc3NpdmVgLCBhbmQgYG9uY2VgIG9wdGlvbnMuIFNlZTpcbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9FdmVudFRhcmdldC9hZGRFdmVudExpc3RlbmVyI1BhcmFtZXRlcnNcbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqICAgICBjbGFzcyBNeUVsZW1lbnQge1xuICpcbiAqICAgICAgIGNsaWNrZWQgPSBmYWxzZTtcbiAqXG4gKiAgICAgICByZW5kZXIoKSB7XG4gKiAgICAgICAgIHJldHVybiBodG1sYDxkaXYgQGNsaWNrPSR7dGhpcy5fb25DbGlja31gPjxidXR0b24+PC9idXR0b24+PC9kaXY+YDtcbiAqICAgICAgIH1cbiAqXG4gKiAgICAgICBAZXZlbnRPcHRpb25zKHtjYXB0dXJlOiB0cnVlfSlcbiAqICAgICAgIF9vbkNsaWNrKGUpIHtcbiAqICAgICAgICAgdGhpcy5jbGlja2VkID0gdHJ1ZTtcbiAqICAgICAgIH1cbiAqICAgICB9XG4gKi9cbmV4cG9ydCBjb25zdCBldmVudE9wdGlvbnMgPSAob3B0aW9uczogQWRkRXZlbnRMaXN0ZW5lck9wdGlvbnMpID0+XG4gICAgLy8gUmV0dXJuIHZhbHVlIHR5cGVkIGFzIGFueSB0byBwcmV2ZW50IFR5cGVTY3JpcHQgZnJvbSBjb21wbGFpbmluZyB0aGF0XG4gICAgLy8gc3RhbmRhcmQgZGVjb3JhdG9yIGZ1bmN0aW9uIHNpZ25hdHVyZSBkb2VzIG5vdCBtYXRjaCBUeXBlU2NyaXB0IGRlY29yYXRvclxuICAgIC8vIHNpZ25hdHVyZVxuICAgIC8vIFRPRE8oa3NjaGFhZik6IHVuY2xlYXIgd2h5IGl0IHdhcyBvbmx5IGZhaWxpbmcgb24gdGhpcyBkZWNvcmF0b3IgYW5kIG5vdFxuICAgIC8vIHRoZSBvdGhlcnNcbiAgICAoKHByb3RvT3JEZXNjcmlwdG9yOiBPYmplY3R8Q2xhc3NFbGVtZW50LCBuYW1lPzogc3RyaW5nKSA9PlxuICAgICAgICAgKG5hbWUgIT09IHVuZGVmaW5lZCkgP1xuICAgICAgICAgbGVnYWN5RXZlbnRPcHRpb25zKG9wdGlvbnMsIHByb3RvT3JEZXNjcmlwdG9yIGFzIE9iamVjdCwgbmFtZSkgOlxuICAgICAgICAgc3RhbmRhcmRFdmVudE9wdGlvbnMob3B0aW9ucywgcHJvdG9PckRlc2NyaXB0b3IgYXMgQ2xhc3NFbGVtZW50KSkgYXNcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBkZWNvcmF0b3JcbiAgICAgICAgYW55O1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE5IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbmh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmVcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0IENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzXG5wYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzbyBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50XG5mb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbmV4cG9ydCBjb25zdCBzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHMgPVxuICAgICgnYWRvcHRlZFN0eWxlU2hlZXRzJyBpbiBEb2N1bWVudC5wcm90b3R5cGUpICYmXG4gICAgKCdyZXBsYWNlJyBpbiBDU1NTdHlsZVNoZWV0LnByb3RvdHlwZSk7XG5cbmNvbnN0IGNvbnN0cnVjdGlvblRva2VuID0gU3ltYm9sKCk7XG5cbmV4cG9ydCBjbGFzcyBDU1NSZXN1bHQge1xuICBfc3R5bGVTaGVldD86IENTU1N0eWxlU2hlZXR8bnVsbDtcblxuICByZWFkb25seSBjc3NUZXh0OiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoY3NzVGV4dDogc3RyaW5nLCBzYWZlVG9rZW46IHN5bWJvbCkge1xuICAgIGlmIChzYWZlVG9rZW4gIT09IGNvbnN0cnVjdGlvblRva2VuKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ0NTU1Jlc3VsdCBpcyBub3QgY29uc3RydWN0YWJsZS4gVXNlIGB1bnNhZmVDU1NgIG9yIGBjc3NgIGluc3RlYWQuJyk7XG4gICAgfVxuICAgIHRoaXMuY3NzVGV4dCA9IGNzc1RleHQ7XG4gIH1cblxuICAvLyBOb3RlLCB0aGlzIGlzIGEgZ2V0dGVyIHNvIHRoYXQgaXQncyBsYXp5LiBJbiBwcmFjdGljZSwgdGhpcyBtZWFuc1xuICAvLyBzdHlsZXNoZWV0cyBhcmUgbm90IGNyZWF0ZWQgdW50aWwgdGhlIGZpcnN0IGVsZW1lbnQgaW5zdGFuY2UgaXMgbWFkZS5cbiAgZ2V0IHN0eWxlU2hlZXQoKTogQ1NTU3R5bGVTaGVldHxudWxsIHtcbiAgICBpZiAodGhpcy5fc3R5bGVTaGVldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBOb3RlLCBpZiBgYWRvcHRlZFN0eWxlU2hlZXRzYCBpcyBzdXBwb3J0ZWQgdGhlbiB3ZSBhc3N1bWUgQ1NTU3R5bGVTaGVldFxuICAgICAgLy8gaXMgY29uc3RydWN0YWJsZS5cbiAgICAgIGlmIChzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHMpIHtcbiAgICAgICAgdGhpcy5fc3R5bGVTaGVldCA9IG5ldyBDU1NTdHlsZVNoZWV0KCk7XG4gICAgICAgIHRoaXMuX3N0eWxlU2hlZXQucmVwbGFjZVN5bmModGhpcy5jc3NUZXh0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3N0eWxlU2hlZXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fc3R5bGVTaGVldDtcbiAgfVxuXG4gIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuY3NzVGV4dDtcbiAgfVxufVxuXG4vKipcbiAqIFdyYXAgYSB2YWx1ZSBmb3IgaW50ZXJwb2xhdGlvbiBpbiBhIGNzcyB0YWdnZWQgdGVtcGxhdGUgbGl0ZXJhbC5cbiAqXG4gKiBUaGlzIGlzIHVuc2FmZSBiZWNhdXNlIHVudHJ1c3RlZCBDU1MgdGV4dCBjYW4gYmUgdXNlZCB0byBwaG9uZSBob21lXG4gKiBvciBleGZpbHRyYXRlIGRhdGEgdG8gYW4gYXR0YWNrZXIgY29udHJvbGxlZCBzaXRlLiBUYWtlIGNhcmUgdG8gb25seSB1c2VcbiAqIHRoaXMgd2l0aCB0cnVzdGVkIGlucHV0LlxuICovXG5leHBvcnQgY29uc3QgdW5zYWZlQ1NTID0gKHZhbHVlOiB1bmtub3duKSA9PiB7XG4gIHJldHVybiBuZXcgQ1NTUmVzdWx0KFN0cmluZyh2YWx1ZSksIGNvbnN0cnVjdGlvblRva2VuKTtcbn07XG5cbmNvbnN0IHRleHRGcm9tQ1NTUmVzdWx0ID0gKHZhbHVlOiBDU1NSZXN1bHQpID0+IHtcbiAgaWYgKHZhbHVlIGluc3RhbmNlb2YgQ1NTUmVzdWx0KSB7XG4gICAgcmV0dXJuIHZhbHVlLmNzc1RleHQ7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgVmFsdWUgcGFzc2VkIHRvICdjc3MnIGZ1bmN0aW9uIG11c3QgYmUgYSAnY3NzJyBmdW5jdGlvbiByZXN1bHQ6ICR7XG4gICAgICAgICAgICB2YWx1ZX0uIFVzZSAndW5zYWZlQ1NTJyB0byBwYXNzIG5vbi1saXRlcmFsIHZhbHVlcywgYnV0XG4gICAgICAgICAgICB0YWtlIGNhcmUgdG8gZW5zdXJlIHBhZ2Ugc2VjdXJpdHkuYCk7XG4gIH1cbn07XG5cbi8qKlxuICogVGVtcGxhdGUgdGFnIHdoaWNoIHdoaWNoIGNhbiBiZSB1c2VkIHdpdGggTGl0RWxlbWVudCdzIGBzdHlsZWAgcHJvcGVydHkgdG9cbiAqIHNldCBlbGVtZW50IHN0eWxlcy4gRm9yIHNlY3VyaXR5IHJlYXNvbnMsIG9ubHkgbGl0ZXJhbCBzdHJpbmcgdmFsdWVzIG1heSBiZVxuICogdXNlZC4gVG8gaW5jb3Jwb3JhdGUgbm9uLWxpdGVyYWwgdmFsdWVzIGB1bnNhZmVDU1NgIG1heSBiZSB1c2VkIGluc2lkZSBhXG4gKiB0ZW1wbGF0ZSBzdHJpbmcgcGFydC5cbiAqL1xuZXhwb3J0IGNvbnN0IGNzcyA9IChzdHJpbmdzOiBUZW1wbGF0ZVN0cmluZ3NBcnJheSwgLi4udmFsdWVzOiBDU1NSZXN1bHRbXSkgPT4ge1xuICBjb25zdCBjc3NUZXh0ID0gdmFsdWVzLnJlZHVjZShcbiAgICAgIChhY2MsIHYsIGlkeCkgPT4gYWNjICsgdGV4dEZyb21DU1NSZXN1bHQodikgKyBzdHJpbmdzW2lkeCArIDFdLFxuICAgICAgc3RyaW5nc1swXSk7XG4gIHJldHVybiBuZXcgQ1NTUmVzdWx0KGNzc1RleHQsIGNvbnN0cnVjdGlvblRva2VuKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5pbXBvcnQge1RlbXBsYXRlUmVzdWx0fSBmcm9tICdsaXQtaHRtbCc7XG5pbXBvcnQge3JlbmRlcn0gZnJvbSAnbGl0LWh0bWwvbGliL3NoYWR5LXJlbmRlci5qcyc7XG5cbmltcG9ydCB7UHJvcGVydHlWYWx1ZXMsIFVwZGF0aW5nRWxlbWVudH0gZnJvbSAnLi9saWIvdXBkYXRpbmctZWxlbWVudC5qcyc7XG5cbmV4cG9ydCAqIGZyb20gJy4vbGliL3VwZGF0aW5nLWVsZW1lbnQuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9saWIvZGVjb3JhdG9ycy5qcyc7XG5leHBvcnQge2h0bWwsIHN2ZywgVGVtcGxhdGVSZXN1bHQsIFNWR1RlbXBsYXRlUmVzdWx0fSBmcm9tICdsaXQtaHRtbC9saXQtaHRtbC5qcyc7XG5pbXBvcnQge3N1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cywgQ1NTUmVzdWx0fSBmcm9tICcuL2xpYi9jc3MtdGFnLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL2Nzcy10YWcuanMnO1xuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBXaW5kb3cge1xuICAgIGxpdEVsZW1lbnRWZXJzaW9uczogc3RyaW5nW107XG4gIH1cbn1cblxuLy8gSU1QT1JUQU5UOiBkbyBub3QgY2hhbmdlIHRoZSBwcm9wZXJ0eSBuYW1lIG9yIHRoZSBhc3NpZ25tZW50IGV4cHJlc3Npb24uXG4vLyBUaGlzIGxpbmUgd2lsbCBiZSB1c2VkIGluIHJlZ2V4ZXMgdG8gc2VhcmNoIGZvciBMaXRFbGVtZW50IHVzYWdlLlxuLy8gVE9ETyhqdXN0aW5mYWduYW5pKTogaW5qZWN0IHZlcnNpb24gbnVtYmVyIGF0IGJ1aWxkIHRpbWVcbih3aW5kb3dbJ2xpdEVsZW1lbnRWZXJzaW9ucyddIHx8ICh3aW5kb3dbJ2xpdEVsZW1lbnRWZXJzaW9ucyddID0gW10pKVxuICAgIC5wdXNoKCcyLjAuMScpO1xuXG5leHBvcnQgaW50ZXJmYWNlIENTU1Jlc3VsdEFycmF5IGV4dGVuZHMgQXJyYXk8Q1NTUmVzdWx0fENTU1Jlc3VsdEFycmF5PiB7fVxuXG4vKipcbiAqIE1pbmltYWwgaW1wbGVtZW50YXRpb24gb2YgQXJyYXkucHJvdG90eXBlLmZsYXRcbiAqIEBwYXJhbSBhcnIgdGhlIGFycmF5IHRvIGZsYXR0ZW5cbiAqIEBwYXJhbSByZXN1bHQgdGhlIGFjY3VtbGF0ZWQgcmVzdWx0XG4gKi9cbmZ1bmN0aW9uIGFycmF5RmxhdChcbiAgICBzdHlsZXM6IENTU1Jlc3VsdEFycmF5LCByZXN1bHQ6IENTU1Jlc3VsdFtdID0gW10pOiBDU1NSZXN1bHRbXSB7XG4gIGZvciAobGV0IGkgPSAwLCBsZW5ndGggPSBzdHlsZXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCB2YWx1ZSA9IHN0eWxlc1tpXTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIGFycmF5RmxhdCh2YWx1ZSwgcmVzdWx0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKiogRGVlcGx5IGZsYXR0ZW5zIHN0eWxlcyBhcnJheS4gVXNlcyBuYXRpdmUgZmxhdCBpZiBhdmFpbGFibGUuICovXG5jb25zdCBmbGF0dGVuU3R5bGVzID0gKHN0eWxlczogQ1NTUmVzdWx0QXJyYXkpOiBDU1NSZXN1bHRbXSA9PlxuICAgIHN0eWxlcy5mbGF0ID8gc3R5bGVzLmZsYXQoSW5maW5pdHkpIDogYXJyYXlGbGF0KHN0eWxlcyk7XG5cbmV4cG9ydCBjbGFzcyBMaXRFbGVtZW50IGV4dGVuZHMgVXBkYXRpbmdFbGVtZW50IHtcbiAgLyoqXG4gICAqIEVuc3VyZSB0aGlzIGNsYXNzIGlzIG1hcmtlZCBhcyBgZmluYWxpemVkYCBhcyBhbiBvcHRpbWl6YXRpb24gZW5zdXJpbmdcbiAgICogaXQgd2lsbCBub3QgbmVlZGxlc3NseSB0cnkgdG8gYGZpbmFsaXplYC5cbiAgICovXG4gIHByb3RlY3RlZCBzdGF0aWMgZmluYWxpemVkID0gdHJ1ZTtcblxuICAvKipcbiAgICogUmVuZGVyIG1ldGhvZCB1c2VkIHRvIHJlbmRlciB0aGUgbGl0LWh0bWwgVGVtcGxhdGVSZXN1bHQgdG8gdGhlIGVsZW1lbnQnc1xuICAgKiBET00uXG4gICAqIEBwYXJhbSB7VGVtcGxhdGVSZXN1bHR9IFRlbXBsYXRlIHRvIHJlbmRlci5cbiAgICogQHBhcmFtIHtFbGVtZW50fERvY3VtZW50RnJhZ21lbnR9IE5vZGUgaW50byB3aGljaCB0byByZW5kZXIuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBFbGVtZW50IG5hbWUuXG4gICAqIEBub2NvbGxhcHNlXG4gICAqL1xuICBzdGF0aWMgcmVuZGVyID0gcmVuZGVyO1xuXG4gIC8qKlxuICAgKiBBcnJheSBvZiBzdHlsZXMgdG8gYXBwbHkgdG8gdGhlIGVsZW1lbnQuIFRoZSBzdHlsZXMgc2hvdWxkIGJlIGRlZmluZWRcbiAgICogdXNpbmcgdGhlIGBjc3NgIHRhZyBmdW5jdGlvbi5cbiAgICovXG4gIHN0YXRpYyBzdHlsZXM/OiBDU1NSZXN1bHR8Q1NTUmVzdWx0QXJyYXk7XG5cbiAgcHJpdmF0ZSBzdGF0aWMgX3N0eWxlczogQ1NTUmVzdWx0W118dW5kZWZpbmVkO1xuXG4gIC8qKiBAbm9jb2xsYXBzZSAqL1xuICBwcm90ZWN0ZWQgc3RhdGljIGZpbmFsaXplKCkge1xuICAgIHN1cGVyLmZpbmFsaXplKCk7XG4gICAgLy8gUHJlcGFyZSBzdHlsaW5nIHRoYXQgaXMgc3RhbXBlZCBhdCBmaXJzdCByZW5kZXIgdGltZS4gU3R5bGluZ1xuICAgIC8vIGlzIGJ1aWx0IGZyb20gdXNlciBwcm92aWRlZCBgc3R5bGVzYCBvciBpcyBpbmhlcml0ZWQgZnJvbSB0aGUgc3VwZXJjbGFzcy5cbiAgICB0aGlzLl9zdHlsZXMgPVxuICAgICAgICB0aGlzLmhhc093blByb3BlcnR5KEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ3N0eWxlcycsIHRoaXMpKSA/XG4gICAgICAgIHRoaXMuX2dldFVuaXF1ZVN0eWxlcygpIDpcbiAgICAgICAgdGhpcy5fc3R5bGVzIHx8IFtdO1xuICB9XG5cbiAgLyoqIEBub2NvbGxhcHNlICovXG4gIHByaXZhdGUgc3RhdGljIF9nZXRVbmlxdWVTdHlsZXMoKTogQ1NTUmVzdWx0W10ge1xuICAgIC8vIFRha2UgY2FyZSBub3QgdG8gY2FsbCBgdGhpcy5zdHlsZXNgIG11bHRpcGxlIHRpbWVzIHNpbmNlIHRoaXMgZ2VuZXJhdGVzXG4gICAgLy8gbmV3IENTU1Jlc3VsdHMgZWFjaCB0aW1lLlxuICAgIC8vIFRPRE8oc29ydmVsbCk6IFNpbmNlIHdlIGRvIG5vdCBjYWNoZSBDU1NSZXN1bHRzIGJ5IGlucHV0LCBhbnlcbiAgICAvLyBzaGFyZWQgc3R5bGVzIHdpbGwgZ2VuZXJhdGUgbmV3IHN0eWxlc2hlZXQgb2JqZWN0cywgd2hpY2ggaXMgd2FzdGVmdWwuXG4gICAgLy8gVGhpcyBzaG91bGQgYmUgYWRkcmVzc2VkIHdoZW4gYSBicm93c2VyIHNoaXBzIGNvbnN0cnVjdGFibGVcbiAgICAvLyBzdHlsZXNoZWV0cy5cbiAgICBjb25zdCB1c2VyU3R5bGVzID0gdGhpcy5zdHlsZXM7XG4gICAgY29uc3Qgc3R5bGVzOiBDU1NSZXN1bHRbXSA9IFtdO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHVzZXJTdHlsZXMpKSB7XG4gICAgICBjb25zdCBmbGF0U3R5bGVzID0gZmxhdHRlblN0eWxlcyh1c2VyU3R5bGVzKTtcbiAgICAgIC8vIEFzIGEgcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uIHRvIGF2b2lkIGR1cGxpY2F0ZWQgc3R5bGluZyB0aGF0IGNhblxuICAgICAgLy8gb2NjdXIgZXNwZWNpYWxseSB3aGVuIGNvbXBvc2luZyB2aWEgc3ViY2xhc3NpbmcsIGRlLWR1cGxpY2F0ZSBzdHlsZXNcbiAgICAgIC8vIHByZXNlcnZpbmcgdGhlIGxhc3QgaXRlbSBpbiB0aGUgbGlzdC4gVGhlIGxhc3QgaXRlbSBpcyBrZXB0IHRvXG4gICAgICAvLyB0cnkgdG8gcHJlc2VydmUgY2FzY2FkZSBvcmRlciB3aXRoIHRoZSBhc3N1bXB0aW9uIHRoYXQgaXQncyBtb3N0XG4gICAgICAvLyBpbXBvcnRhbnQgdGhhdCBsYXN0IGFkZGVkIHN0eWxlcyBvdmVycmlkZSBwcmV2aW91cyBzdHlsZXMuXG4gICAgICBjb25zdCBzdHlsZVNldCA9IGZsYXRTdHlsZXMucmVkdWNlUmlnaHQoKHNldCwgcykgPT4ge1xuICAgICAgICBzZXQuYWRkKHMpO1xuICAgICAgICAvLyBvbiBJRSBzZXQuYWRkIGRvZXMgbm90IHJldHVybiB0aGUgc2V0LlxuICAgICAgICByZXR1cm4gc2V0O1xuICAgICAgfSwgbmV3IFNldDxDU1NSZXN1bHQ+KCkpO1xuICAgICAgLy8gQXJyYXkuZnJvbSBkb2VzIG5vdCB3b3JrIG9uIFNldCBpbiBJRVxuICAgICAgc3R5bGVTZXQuZm9yRWFjaCgodikgPT4gc3R5bGVzLnVuc2hpZnQodikpO1xuICAgIH0gZWxzZSBpZiAodXNlclN0eWxlcykge1xuICAgICAgc3R5bGVzLnB1c2godXNlclN0eWxlcyk7XG4gICAgfVxuICAgIHJldHVybiBzdHlsZXM7XG4gIH1cblxuICBwcml2YXRlIF9uZWVkc1NoaW1BZG9wdGVkU3R5bGVTaGVldHM/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBOb2RlIG9yIFNoYWRvd1Jvb3QgaW50byB3aGljaCBlbGVtZW50IERPTSBzaG91bGQgYmUgcmVuZGVyZWQuIERlZmF1bHRzXG4gICAqIHRvIGFuIG9wZW4gc2hhZG93Um9vdC5cbiAgICovXG4gIHJlYWRvbmx5IHJlbmRlclJvb3QhOiBFbGVtZW50fERvY3VtZW50RnJhZ21lbnQ7XG5cbiAgLyoqXG4gICAqIFBlcmZvcm1zIGVsZW1lbnQgaW5pdGlhbGl6YXRpb24uIEJ5IGRlZmF1bHQgdGhpcyBjYWxscyBgY3JlYXRlUmVuZGVyUm9vdGBcbiAgICogdG8gY3JlYXRlIHRoZSBlbGVtZW50IGByZW5kZXJSb290YCBub2RlIGFuZCBjYXB0dXJlcyBhbnkgcHJlLXNldCB2YWx1ZXMgZm9yXG4gICAqIHJlZ2lzdGVyZWQgcHJvcGVydGllcy5cbiAgICovXG4gIHByb3RlY3RlZCBpbml0aWFsaXplKCkge1xuICAgIHN1cGVyLmluaXRpYWxpemUoKTtcbiAgICAodGhpcyBhcyB7cmVuZGVyUm9vdDogRWxlbWVudCB8IERvY3VtZW50RnJhZ21lbnR9KS5yZW5kZXJSb290ID1cbiAgICAgICAgdGhpcy5jcmVhdGVSZW5kZXJSb290KCk7XG4gICAgLy8gTm90ZSwgaWYgcmVuZGVyUm9vdCBpcyBub3QgYSBzaGFkb3dSb290LCBzdHlsZXMgd291bGQvY291bGQgYXBwbHkgdG8gdGhlXG4gICAgLy8gZWxlbWVudCdzIGdldFJvb3ROb2RlKCkuIFdoaWxlIHRoaXMgY291bGQgYmUgZG9uZSwgd2UncmUgY2hvb3Npbmcgbm90IHRvXG4gICAgLy8gc3VwcG9ydCB0aGlzIG5vdyBzaW5jZSBpdCB3b3VsZCByZXF1aXJlIGRpZmZlcmVudCBsb2dpYyBhcm91bmQgZGUtZHVwaW5nLlxuICAgIGlmICh3aW5kb3cuU2hhZG93Um9vdCAmJiB0aGlzLnJlbmRlclJvb3QgaW5zdGFuY2VvZiB3aW5kb3cuU2hhZG93Um9vdCkge1xuICAgICAgdGhpcy5hZG9wdFN0eWxlcygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBub2RlIGludG8gd2hpY2ggdGhlIGVsZW1lbnQgc2hvdWxkIHJlbmRlciBhbmQgYnkgZGVmYXVsdFxuICAgKiBjcmVhdGVzIGFuZCByZXR1cm5zIGFuIG9wZW4gc2hhZG93Um9vdC4gSW1wbGVtZW50IHRvIGN1c3RvbWl6ZSB3aGVyZSB0aGVcbiAgICogZWxlbWVudCdzIERPTSBpcyByZW5kZXJlZC4gRm9yIGV4YW1wbGUsIHRvIHJlbmRlciBpbnRvIHRoZSBlbGVtZW50J3NcbiAgICogY2hpbGROb2RlcywgcmV0dXJuIGB0aGlzYC5cbiAgICogQHJldHVybnMge0VsZW1lbnR8RG9jdW1lbnRGcmFnbWVudH0gUmV0dXJucyBhIG5vZGUgaW50byB3aGljaCB0byByZW5kZXIuXG4gICAqL1xuICBwcm90ZWN0ZWQgY3JlYXRlUmVuZGVyUm9vdCgpOiBFbGVtZW50fFNoYWRvd1Jvb3Qge1xuICAgIHJldHVybiB0aGlzLmF0dGFjaFNoYWRvdyh7bW9kZTogJ29wZW4nfSk7XG4gIH1cblxuICAvKipcbiAgICogQXBwbGllcyBzdHlsaW5nIHRvIHRoZSBlbGVtZW50IHNoYWRvd1Jvb3QgdXNpbmcgdGhlIGBzdGF0aWMgZ2V0IHN0eWxlc2BcbiAgICogcHJvcGVydHkuIFN0eWxpbmcgd2lsbCBhcHBseSB1c2luZyBgc2hhZG93Um9vdC5hZG9wdGVkU3R5bGVTaGVldHNgIHdoZXJlXG4gICAqIGF2YWlsYWJsZSBhbmQgd2lsbCBmYWxsYmFjayBvdGhlcndpc2UuIFdoZW4gU2hhZG93IERPTSBpcyBwb2x5ZmlsbGVkLFxuICAgKiBTaGFkeUNTUyBzY29wZXMgc3R5bGVzIGFuZCBhZGRzIHRoZW0gdG8gdGhlIGRvY3VtZW50LiBXaGVuIFNoYWRvdyBET01cbiAgICogaXMgYXZhaWxhYmxlIGJ1dCBgYWRvcHRlZFN0eWxlU2hlZXRzYCBpcyBub3QsIHN0eWxlcyBhcmUgYXBwZW5kZWQgdG8gdGhlXG4gICAqIGVuZCBvZiB0aGUgYHNoYWRvd1Jvb3RgIHRvIFttaW1pYyBzcGVjXG4gICAqIGJlaGF2aW9yXShodHRwczovL3dpY2cuZ2l0aHViLmlvL2NvbnN0cnVjdC1zdHlsZXNoZWV0cy8jdXNpbmctY29uc3RydWN0ZWQtc3R5bGVzaGVldHMpLlxuICAgKi9cbiAgcHJvdGVjdGVkIGFkb3B0U3R5bGVzKCkge1xuICAgIGNvbnN0IHN0eWxlcyA9ICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBMaXRFbGVtZW50KS5fc3R5bGVzITtcbiAgICBpZiAoc3R5bGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBUaGVyZSBhcmUgdGhyZWUgc2VwYXJhdGUgY2FzZXMgaGVyZSBiYXNlZCBvbiBTaGFkb3cgRE9NIHN1cHBvcnQuXG4gICAgLy8gKDEpIHNoYWRvd1Jvb3QgcG9seWZpbGxlZDogdXNlIFNoYWR5Q1NTXG4gICAgLy8gKDIpIHNoYWRvd1Jvb3QuYWRvcHRlZFN0eWxlU2hlZXRzIGF2YWlsYWJsZTogdXNlIGl0LlxuICAgIC8vICgzKSBzaGFkb3dSb290LmFkb3B0ZWRTdHlsZVNoZWV0cyBwb2x5ZmlsbGVkOiBhcHBlbmQgc3R5bGVzIGFmdGVyXG4gICAgLy8gcmVuZGVyaW5nXG4gICAgaWYgKHdpbmRvdy5TaGFkeUNTUyAhPT0gdW5kZWZpbmVkICYmICF3aW5kb3cuU2hhZHlDU1MubmF0aXZlU2hhZG93KSB7XG4gICAgICB3aW5kb3cuU2hhZHlDU1MuU2NvcGluZ1NoaW0ucHJlcGFyZUFkb3B0ZWRDc3NUZXh0KFxuICAgICAgICAgIHN0eWxlcy5tYXAoKHMpID0+IHMuY3NzVGV4dCksIHRoaXMubG9jYWxOYW1lKTtcbiAgICB9IGVsc2UgaWYgKHN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cykge1xuICAgICAgKHRoaXMucmVuZGVyUm9vdCBhcyBTaGFkb3dSb290KS5hZG9wdGVkU3R5bGVTaGVldHMgPVxuICAgICAgICAgIHN0eWxlcy5tYXAoKHMpID0+IHMuc3R5bGVTaGVldCEpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUaGlzIG11c3QgYmUgZG9uZSBhZnRlciByZW5kZXJpbmcgc28gdGhlIGFjdHVhbCBzdHlsZSBpbnNlcnRpb24gaXMgZG9uZVxuICAgICAgLy8gaW4gYHVwZGF0ZWAuXG4gICAgICB0aGlzLl9uZWVkc1NoaW1BZG9wdGVkU3R5bGVTaGVldHMgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgLy8gTm90ZSwgZmlyc3QgdXBkYXRlL3JlbmRlciBoYW5kbGVzIHN0eWxlRWxlbWVudCBzbyB3ZSBvbmx5IGNhbGwgdGhpcyBpZlxuICAgIC8vIGNvbm5lY3RlZCBhZnRlciBmaXJzdCB1cGRhdGUuXG4gICAgaWYgKHRoaXMuaGFzVXBkYXRlZCAmJiB3aW5kb3cuU2hhZHlDU1MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgd2luZG93LlNoYWR5Q1NTLnN0eWxlRWxlbWVudCh0aGlzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgZWxlbWVudC4gVGhpcyBtZXRob2QgcmVmbGVjdHMgcHJvcGVydHkgdmFsdWVzIHRvIGF0dHJpYnV0ZXNcbiAgICogYW5kIGNhbGxzIGByZW5kZXJgIHRvIHJlbmRlciBET00gdmlhIGxpdC1odG1sLiBTZXR0aW5nIHByb3BlcnRpZXMgaW5zaWRlXG4gICAqIHRoaXMgbWV0aG9kIHdpbGwgKm5vdCogdHJpZ2dlciBhbm90aGVyIHVwZGF0ZS5cbiAgICogKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAqL1xuICBwcm90ZWN0ZWQgdXBkYXRlKGNoYW5nZWRQcm9wZXJ0aWVzOiBQcm9wZXJ0eVZhbHVlcykge1xuICAgIHN1cGVyLnVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgY29uc3QgdGVtcGxhdGVSZXN1bHQgPSB0aGlzLnJlbmRlcigpIGFzIHVua25vd247XG4gICAgaWYgKHRlbXBsYXRlUmVzdWx0IGluc3RhbmNlb2YgVGVtcGxhdGVSZXN1bHQpIHtcbiAgICAgICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBMaXRFbGVtZW50KVxuICAgICAgICAgIC5yZW5kZXIoXG4gICAgICAgICAgICAgIHRlbXBsYXRlUmVzdWx0LFxuICAgICAgICAgICAgICB0aGlzLnJlbmRlclJvb3QsXG4gICAgICAgICAgICAgIHtzY29wZU5hbWU6IHRoaXMubG9jYWxOYW1lLCBldmVudENvbnRleHQ6IHRoaXN9KTtcbiAgICB9XG4gICAgLy8gV2hlbiBuYXRpdmUgU2hhZG93IERPTSBpcyB1c2VkIGJ1dCBhZG9wdGVkU3R5bGVzIGFyZSBub3Qgc3VwcG9ydGVkLFxuICAgIC8vIGluc2VydCBzdHlsaW5nIGFmdGVyIHJlbmRlcmluZyB0byBlbnN1cmUgYWRvcHRlZFN0eWxlcyBoYXZlIGhpZ2hlc3RcbiAgICAvLyBwcmlvcml0eS5cbiAgICBpZiAodGhpcy5fbmVlZHNTaGltQWRvcHRlZFN0eWxlU2hlZXRzKSB7XG4gICAgICB0aGlzLl9uZWVkc1NoaW1BZG9wdGVkU3R5bGVTaGVldHMgPSBmYWxzZTtcbiAgICAgICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBMaXRFbGVtZW50KS5fc3R5bGVzIS5mb3JFYWNoKChzKSA9PiB7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSBzLmNzc1RleHQ7XG4gICAgICAgIHRoaXMucmVuZGVyUm9vdC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSW52b2tlZCBvbiBlYWNoIHVwZGF0ZSB0byBwZXJmb3JtIHJlbmRlcmluZyB0YXNrcy4gVGhpcyBtZXRob2QgbXVzdCByZXR1cm5cbiAgICogYSBsaXQtaHRtbCBUZW1wbGF0ZVJlc3VsdC4gU2V0dGluZyBwcm9wZXJ0aWVzIGluc2lkZSB0aGlzIG1ldGhvZCB3aWxsICpub3QqXG4gICAqIHRyaWdnZXIgdGhlIGVsZW1lbnQgdG8gdXBkYXRlLlxuICAgKi9cbiAgcHJvdGVjdGVkIHJlbmRlcigpOiBUZW1wbGF0ZVJlc3VsdHx2b2lkIHtcbiAgfVxufVxuIiwiaW1wb3J0IGF4aW9zLCB7IEF4aW9zUmVzcG9uc2UsIENhbmNlbFRva2VuLCBBeGlvc1JlcXVlc3RDb25maWcgfSBmcm9tICdheGlvcyc7XG5pbXBvcnQgeyBodG1sLCBUZW1wbGF0ZVJlc3VsdCB9IGZyb20gJ2xpdC1odG1sJztcblxuZXhwb3J0IGludGVyZmFjZSBBc3NldCB7XG4gICAga2V5Pzogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgQXNzZXRQYWdlIHtcbiAgICBhc3NldHM6IEFzc2V0W107XG4gICAgbmV4dDogc3RyaW5nO1xufVxuXG4vKiogR2V0IHRoZSB2YWx1ZSBmb3IgYSBuYW1lZCBjb29raWUgKi9cbmV4cG9ydCBjb25zdCBnZXRDb29raWUgPSAobmFtZTogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICBmb3IgKGNvbnN0IGNvb2tpZSBvZiBkb2N1bWVudC5jb29raWUuc3BsaXQoJzsnKSkge1xuICAgICAgICBjb25zdCBpZHggPSBjb29raWUuaW5kZXhPZignPScpO1xuICAgICAgICBsZXQga2V5ID0gY29va2llLnN1YnN0cigwLCBpZHgpO1xuICAgICAgICBsZXQgdmFsdWUgPSBjb29raWUuc3Vic3RyKGlkeCArIDEpO1xuXG4gICAgICAgIC8vIG5vIHNwYWNlcyBhbGxvd2VkXG4gICAgICAgIGtleSA9IGtleS50cmltKCk7XG4gICAgICAgIHZhbHVlID0gdmFsdWUudHJpbSgpO1xuXG4gICAgICAgIGlmIChrZXkgPT09IG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn07XG5cbmV4cG9ydCB0eXBlIENsYXNzTWFwID0ge1xuICAgIFtjbGFzc05hbWU6IHN0cmluZ106IGJvb2xlYW5cbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDbGFzc2VzID0gKG1hcDogQ2xhc3NNYXApOiBzdHJpbmcgPT4ge1xuICAgIGNvbnN0IGNsYXNzTmFtZXM6IHN0cmluZ1tdID0gW107XG4gICAgT2JqZWN0LmtleXMobWFwKS5mb3JFYWNoKChjbGFzc05hbWU6IHN0cmluZykgPT4ge1xuICAgICAgICBpZiAobWFwW2NsYXNzTmFtZV0pIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZXMucHVzaChjbGFzc05hbWUpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBsZXQgcmVzdWx0ID0gY2xhc3NOYW1lcy5qb2luKCcgJyk7XG4gICAgaWYgKHJlc3VsdC50cmltKCkubGVuZ3RoID4gMCkge1xuICAgICAgICByZXN1bHQgPSAnICcgKyByZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0QXNzZXRQYWdlID0gKHVybDogc3RyaW5nKTogUHJvbWlzZTxBc3NldFBhZ2U+ID0+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2U8QXNzZXRQYWdlPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGdldFVybCh1cmwpXG4gICAgICAgICAgICAudGhlbigocmVzcG9uc2U6IEF4aW9zUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICAgICAgICAgICAgYXNzZXRzOiByZXNwb25zZS5kYXRhLnJlc3VsdHMsXG4gICAgICAgICAgICAgICAgICAgIG5leHQ6IHJlc3BvbnNlLmRhdGEubmV4dFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiByZWplY3QoZXJyb3IpKTtcbiAgICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRBc3NldHMgPSBhc3luYyAodXJsOiBzdHJpbmcpOiBQcm9taXNlPEFzc2V0W10+ID0+IHtcbiAgICBpZiAoIXVybCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8QXNzZXRbXT4oKHJlc29sdmUsIHJlamVjdCkgPT4gcmVzb2x2ZShbXSkpO1xuICAgIH1cblxuICAgIGxldCBhc3NldHM6IEFzc2V0W10gPSBbXTtcbiAgICBsZXQgcGFnZVVybCA9IHVybDtcbiAgICB3aGlsZSAocGFnZVVybCkge1xuICAgICAgICBjb25zdCBhc3NldFBhZ2UgPSBhd2FpdCBnZXRBc3NldFBhZ2UocGFnZVVybCk7XG4gICAgICAgIGFzc2V0cyA9IGFzc2V0cy5jb25jYXQoYXNzZXRQYWdlLmFzc2V0cyk7XG4gICAgICAgIHBhZ2VVcmwgPSBhc3NldFBhZ2UubmV4dDtcbiAgICB9XG4gICAgcmV0dXJuIGFzc2V0cztcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRVcmwgPSAoXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgY2FuY2VsVG9rZW46IENhbmNlbFRva2VuID0gbnVsbFxuKTogUHJvbWlzZTxBeGlvc1Jlc3BvbnNlPiA9PiB7XG4gICAgY29uc3QgY3NyZiA9IGdldENvb2tpZSgnY3NyZnRva2VuJyk7XG4gICAgY29uc3QgaGVhZGVycyA9IGNzcmYgPyB7ICdYLUNTUkZUb2tlbic6IGNzcmYgfSA6IHt9O1xuICAgIGNvbnN0IGNvbmZpZzogQXhpb3NSZXF1ZXN0Q29uZmlnID0geyBoZWFkZXJzIH07XG4gICAgaWYgKGNhbmNlbFRva2VuKSB7XG4gICAgICAgIGNvbmZpZy5jYW5jZWxUb2tlbiA9IGNhbmNlbFRva2VuO1xuICAgIH1cbiAgICByZXR1cm4gYXhpb3MuZ2V0KHVybCwgY29uZmlnKTtcbn07XG5cbmV4cG9ydCBjb25zdCBwb3N0VXJsID0gKHVybDogc3RyaW5nLCBwYXlsb2FkOiBhbnkpOiBQcm9taXNlPEF4aW9zUmVzcG9uc2U+ID0+IHtcbiAgICBjb25zdCBjc3JmID0gZ2V0Q29va2llKCdjc3JmdG9rZW4nKTtcbiAgICBjb25zdCBoZWFkZXJzID0gY3NyZiA/IHsgJ1gtQ1NSRlRva2VuJzogY3NyZiB9IDoge307XG4gICAgcmV0dXJuIGF4aW9zLnBvc3QodXJsLCBwYXlsb2FkLCB7IGhlYWRlcnMgfSk7XG59O1xuXG4vKipcbiAqL1xuZXhwb3J0IGNvbnN0IHJlbmRlcklmID0gKHByZWRpY2F0ZTogYm9vbGVhbiB8IGFueSkgPT4gKFxuICAgIHRoZW46ICgpID0+IFRlbXBsYXRlUmVzdWx0LFxuICAgIG90aGVyd2lzZT86ICgpID0+IFRlbXBsYXRlUmVzdWx0XG4pID0+IHtcbiAgICByZXR1cm4gcHJlZGljYXRlID8gdGhlbigpIDogb3RoZXJ3aXNlID8gb3RoZXJ3aXNlKCkgOiBodG1sYGA7XG59O1xuXG5leHBvcnQgY29uc3QgaGV4VG9SZ2IgPSAoaGV4OiBzdHJpbmcpOiB7IHI6IG51bWJlciwgZzogbnVtYmVyLCBiOiBudW1iZXIgfSA9PiB7XG4gICAgdmFyIHJlc3VsdCA9IC9eIz8oW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkkL2kuZXhlYyhoZXgpO1xuICAgIHJldHVybiByZXN1bHRcbiAgICAgICAgPyB7XG4gICAgICAgICAgICAgIHI6IHBhcnNlSW50KHJlc3VsdFsxXSwgMTYpLFxuICAgICAgICAgICAgICBnOiBwYXJzZUludChyZXN1bHRbMl0sIDE2KSxcbiAgICAgICAgICAgICAgYjogcGFyc2VJbnQocmVzdWx0WzNdLCAxNilcbiAgICAgICAgICB9XG4gICAgICAgIDogbnVsbDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRFbGVtZW50T2Zmc2V0ID0gKFxuICAgIGVsZTogSFRNTEVsZW1lbnRcbik6IHtcbiAgICB0b3A6IG51bWJlcixcbiAgICBsZWZ0OiBudW1iZXIsXG4gICAgYm90dG9tOiBudW1iZXIsXG4gICAgcmlnaHQ6IG51bWJlcixcbiAgICB3aWR0aDogbnVtYmVyLFxuICAgIGhlaWdodDogbnVtYmVyXG59ID0+IHtcbiAgICBjb25zdCByZWN0ID0gZWxlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IHNjcm9sbExlZnQgPVxuICAgICAgICB3aW5kb3cucGFnZVhPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ7XG4gICAgY29uc3Qgc2Nyb2xsVG9wID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdG9wOiByZWN0LnRvcCArIHNjcm9sbFRvcCxcbiAgICAgICAgbGVmdDogcmVjdC5sZWZ0ICsgc2Nyb2xsTGVmdCxcbiAgICAgICAgYm90dG9tOiByZWN0LnRvcCArIHJlY3QuaGVpZ2h0LFxuICAgICAgICByaWdodDogcmVjdC5sZWZ0ICsgcmVjdC53aWR0aCxcbiAgICAgICAgd2lkdGg6IHJlY3Qud2lkdGgsXG4gICAgICAgIGhlaWdodDogcmVjdC5oZWlnaHRcbiAgICB9O1xufTtcbiIsImltcG9ydCB7IEF4aW9zUmVzcG9uc2UgfSBmcm9tICdheGlvcyc7XG5pbXBvcnQgeyBjc3MsIGN1c3RvbUVsZW1lbnQsIGh0bWwsIExpdEVsZW1lbnQsIHByb3BlcnR5LCBUZW1wbGF0ZVJlc3VsdCB9IGZyb20gJ2xpdC1lbGVtZW50JztcbmltcG9ydCB7IEZlYXR1cmVQcm9wZXJ0aWVzIH0gZnJvbSAnLi4vaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBnZXRVcmwsIHBvc3RVcmwgfSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgYXV0b3NpemUgZnJvbSAnYXV0b3NpemUnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICcuLi9idXR0b24vQnV0dG9uJztcblxuXG5AY3VzdG9tRWxlbWVudChcImFsaWFzLWVkaXRvclwiKVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWxpYXNFZGl0b3IgZXh0ZW5kcyBMaXRFbGVtZW50IHtcblxuICBzdGF0aWMgZ2V0IHN0eWxlcygpIHtcbiAgICByZXR1cm4gY3NzYFxuXG4gICAgICA6aG9zdCB7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiBub3JtYWw7XG4gICAgICB9XG5cbiAgICAgIHRleHRhcmVhIHtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgICAgICBib3JkZXItY29sb3I6IHZhcigtLWNvbG9yLWJvcmRlcnMpO1xuICAgICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgICBjb2xvcjogdmFyKC0tY29sb3ItdGV4dCk7XG4gICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgcmVzaXplOiBub25lO1xuICAgICAgfVxuXG4gICAgICB0ZXh0YXJlYTpmb2N1cyB7XG4gICAgICAgIGJveC1zaGFkb3c6IG5vbmU7XG4gICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgICB9XG5cbiAgICAgICNsZWZ0LWNvbHVtbiB7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gICAgICAgIHdpZHRoOiAzMDBweDtcbiAgICAgICAgei1pbmRleDogMTAwO1xuICAgICAgfVxuXG4gICAgICAuc2VhcmNoIHtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgICAgIH1cblxuICAgICAgLmZlYXR1cmUge1xuICAgICAgICBwYWRkaW5nOiA0cHggMTRweDtcbiAgICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgfVxuXG4gICAgICAubGV2ZWwtMCB7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAwcHg7XG4gICAgICB9XG5cbiAgICAgIC5sZXZlbC0xIHtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDVweDtcbiAgICAgICAgZm9udC1zaXplOiA5NSU7XG4gICAgICB9XG5cbiAgICAgIC5sZXZlbC0yIHtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gICAgICAgIGZvbnQtc2l6ZTogOTAlO1xuICAgICAgfVxuXG4gICAgICAubGV2ZWwtMyB7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAxNXB4O1xuICAgICAgICBmb250LXNpemU6IDg1JTtcbiAgICAgIH1cblxuICAgICAgLmZlYXR1cmUtbmFtZSB7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIH1cblxuICAgICAgLmNsaWNrYWJsZSB7XG4gICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICBjb2xvcjogdmFyKC0tY29sb3ItbGluay1wcmltYXJ5KTtcbiAgICAgIH1cblxuICAgICAgLmNsaWNrYWJsZS5zZWNvbmRhcnkge1xuICAgICAgICBjb2xvcjogdmFyKC0tY29sb3ItbGluay1zZWNvbmRhcnkpO1xuICAgICAgfVxuXG4gICAgICAuY2xpY2thYmxlOmhvdmVyIHtcbiAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1jb2xvci1saW5rLXByaW1hcnktaG92ZXIpO1xuICAgICAgfVxuXG4gICAgICAuZmVhdHVyZTpob3ZlciAuc2hvd29uaG92ZXIge1xuICAgICAgICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xuICAgICAgfVxuXG4gICAgICAuc2hvd29uaG92ZXIge1xuICAgICAgICB2aXNpYmlsaXR5OiBoaWRkZW47XG4gICAgICB9XG5cbiAgICAgIC5hbGlhc2VzIHtcbiAgICAgICAgY29sb3I6ICNiYmI7XG4gICAgICAgIGZvbnQtc2l6ZTogODAlO1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmU7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiA1cHg7XG4gICAgICB9XG5cbiAgICAgIHJwLWxhYmVsIHtcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAzcHg7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDNweDtcbiAgICAgICAgdmVydGljYWwtYWxpZ246IHRvcDtcbiAgICAgIH1cblxuICAgICAgLnNlbGVjdGVkIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgcGFkZGluZzogMTVweDtcbiAgICAgIH1cblxuICAgICAgLnNlbGVjdGVkIC5uYW1lIHtcbiAgICAgICAgZm9udC1zaXplOiAxOHB4O1xuICAgICAgICBwYWRkaW5nOiA1cHg7XG4gICAgICB9XG5cbiAgICAgIC5zZWxlY3RlZCAuaGVscCB7XG4gICAgICAgIHBhZGRpbmc6IDVweCAycHg7XG4gICAgICAgIGZvbnQtc2l6ZTogMTFweDtcbiAgICAgICAgY29sb3I6IHZhcigtLWNvbG9yLXNlY29uZGFyeS1saWdodCk7XG4gICAgICB9XG5cbiAgICAgICNyaWdodC1jb2x1bW4ge1xuICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogdG9wO1xuICAgICAgICBtYXJnaW4tbGVmdDogMjBweDtcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgfVxuXG4gICAgICBsZWFmbGV0LW1hcCB7XG4gICAgICAgIGhlaWdodDogMjUwcHg7XG4gICAgICAgIHdpZHRoOiA0NTBweDtcbiAgICAgICAgYm9yZGVyOiAwcHggc29saWQgIzk5OTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgICAgfVxuXG4gICAgICAuZWRpdCB7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAwcHg7XG4gICAgICB9XG5cbiAgIGA7XG4gIH1cblxuICBAcHJvcGVydHkoe3R5cGU6IEFycmF5LCBhdHRyaWJ1dGU6IGZhbHNlfSlcbiAgcGF0aDogRmVhdHVyZVByb3BlcnRpZXNbXSA9IFtdO1xuXG4gIEBwcm9wZXJ0eSgpXG4gIGVuZHBvaW50OiBzdHJpbmc7XG5cbiAgQHByb3BlcnR5KClcbiAgb3NtSWQ6IHN0cmluZztcblxuICBAcHJvcGVydHkoe3R5cGU6IE9iamVjdH0pXG4gIGhvdmVyZWQ6IEZlYXR1cmVQcm9wZXJ0aWVzO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogT2JqZWN0fSlcbiAgZWRpdEZlYXR1cmU6IEZlYXR1cmVQcm9wZXJ0aWVzXG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICBwdWJsaWMgdXBkYXRlZChjaGFuZ2VkUHJvcGVydGllczogTWFwPHN0cmluZywgYW55Pikge1xuXG4gICAgaWYgKGNoYW5nZWRQcm9wZXJ0aWVzLmhhcyhcIm9zbUlkXCIpKSB7XG4gICAgICAvLyBnb2luZyB1cCB0aGUgdHJlZSBkb2Vzbid0IHJlcXVpcmUgYSBmZXRjaFxuICAgICAgY29uc3QgbmV3UGF0aCA9IFtdO1xuICAgICAgZm9yIChsZXQgZmVhdHVyZSBvZiB0aGlzLnBhdGgpIHtcbiAgICAgICAgbmV3UGF0aC5wdXNoKGZlYXR1cmUpO1xuICAgICAgICBpZiAoZmVhdHVyZS5vc21faWQgPT09IHRoaXMub3NtSWQpIHtcbiAgICAgICAgICB0aGlzLnBhdGggPSBbLi4ubmV3UGF0aF07XG4gICAgICAgICAgdGhpcy5oaWRlQWxpYXNEaWFsb2coKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5mZXRjaEZlYXR1cmUoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGZldGNoRmVhdHVyZSgpIHtcbiAgICBnZXRVcmwodGhpcy5nZXRFbmRwb2ludCgpICsgXCJib3VuZGFyaWVzL1wiICsgdGhpcy5vc21JZCArIFwiL1wiKS50aGVuKChyZXNwb25zZTogQXhpb3NSZXNwb25zZSkgPT4ge1xuICAgICAgdGhpcy5wYXRoID0gcmVzcG9uc2UuZGF0YSBhcyBGZWF0dXJlUHJvcGVydGllc1tdO1xuICAgICAgdGhpcy5oaWRlQWxpYXNEaWFsb2coKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qXG4gICBNYWtlcyBzdXJlIG91ciB0ZXh0YXJlYSBncm93cyB3aXRoIHVzXG4gICAqL1xuICBwcml2YXRlIGZpcmVUZXh0YXJlYUF1dG9zaXplKCk6IHZvaWQge1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpPT57XG4gICAgICBhdXRvc2l6ZSh0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcigndGV4dGFyZWEnKSk7XG4gICAgICBhdXRvc2l6ZS51cGRhdGUodGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhJykpO1xuICAgIH0sIDApO1xuICB9XG4gIFxuICBwcml2YXRlIGhhbmRsZU1hcENsaWNrZWQoZmVhdHVyZTogRmVhdHVyZVByb3BlcnRpZXMpOiB2b2lkIHtcbiAgICB0aGlzLmhvdmVyZWQgPSBudWxsO1xuICAgIGlmICghZmVhdHVyZSB8fCBmZWF0dXJlLm9zbV9pZCAhPT0gdGhpcy5vc21JZCkge1xuICAgICAgdGhpcy5vc21JZCA9IGZlYXR1cmUub3NtX2lkO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlUGxhY2VDbGlja2VkKGZlYXR1cmU6IEZlYXR1cmVQcm9wZXJ0aWVzKSB7XG4gICAgdGhpcy5vc21JZCA9IGZlYXR1cmUub3NtX2lkO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVTZWFyY2hTZWxlY3Rpb24oZXZ0OiBDdXN0b21FdmVudCkge1xuICAgIGNvbnN0IHNlbGVjdGlvbiA9IGV2dC5kZXRhaWwuc2VsZWN0ZWQgYXMgRmVhdHVyZVByb3BlcnRpZXM7XG4gICAgdGhpcy5zaG93QWxpYXNEaWFsb2coc2VsZWN0aW9uKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyRmVhdHVyZShmZWF0dXJlOiBGZWF0dXJlUHJvcGVydGllcywgcmVtYWluaW5nUGF0aDogRmVhdHVyZVByb3BlcnRpZXNbXSk6IFRlbXBsYXRlUmVzdWx0IHtcbiAgICBjb25zdCBzZWxlY3RlZEZlYXR1cmUgPSB0aGlzLnBhdGhbdGhpcy5wYXRoLmxlbmd0aCAtIDFdO1xuICAgIGNvbnN0IGNsaWNrYWJsZSA9ICgoZmVhdHVyZS5oYXNfY2hpbGRyZW4gfHwgZmVhdHVyZS5sZXZlbCA9PT0gMCApJiYgZmVhdHVyZSAhPT0gc2VsZWN0ZWRGZWF0dXJlKTtcbiAgICBjb25zdCByZW5kZXJlZEZlYXR1cmUgPSBodG1sYFxuICAgICAgPGRpdiBjbGFzcz1cImZlYXR1cmVcIj5cbiAgICAgICAgPGRpdiBcbiAgICAgICAgICBAbW91c2VvdmVyPSR7KCkgPT4geyBpZiAoZmVhdHVyZS5sZXZlbCA+IDApIHsgdGhpcy5ob3ZlcmVkID0gZmVhdHVyZSB9fX1cbiAgICAgICAgICBAbW91c2VvdXQ9JHsoKSA9PiB7IHRoaXMuaG92ZXJlZCA9IG51bGwgfX1cbiAgICAgICAgICBjbGFzcz1cImxldmVsLSR7ZmVhdHVyZS5sZXZlbH1cIlxuICAgICAgICA+XG5cbiBcblxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmVhdHVyZS1uYW1lICR7IGNsaWNrYWJsZSA/ICdjbGlja2FibGUnIDogJyd9XCIgXG4gICAgICAgICAgQGNsaWNrPSR7KCkgPT4geyBpZiAoY2xpY2thYmxlKSB7dGhpcy5oYW5kbGVQbGFjZUNsaWNrZWQoZmVhdHVyZSkgfX19PlxuICAgICAgICAgICR7ZmVhdHVyZS5uYW1lfVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwiYWxpYXNlc1wiPlxuICAgICAgICAgICR7ZmVhdHVyZS5hbGlhc2VzLnNwbGl0KCdcXG4nKS5tYXAoKGFsaWFzOiBzdHJpbmcpPT5hbGlhcy50cmltKCkubGVuZ3RoID4gMCA/IGh0bWxgXG4gICAgICAgICAgICA8cnAtbGFiZWwgY2xhc3M9XCJhbGlhc1wiIEBjbGljaz0keygpPT57dGhpcy5zaG93QWxpYXNEaWFsb2coZmVhdHVyZSk7fX0gbGlnaHQgY2xpY2thYmxlPiR7YWxpYXN9PC9ycC1sYWJlbD5cbiAgICAgICAgICBgOiBudWxsKX1cblxuICAgICAgICAgICR7ZmVhdHVyZS5sZXZlbCA+IDAgPyBodG1sYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJlZGl0IGNsaWNrYWJsZSBzaG93b25ob3ZlclwiIEBjbGljaz0keyhldnQ6IE1vdXNlRXZlbnQpPT4geyB0aGlzLnNob3dBbGlhc0RpYWxvZyhmZWF0dXJlKTsgZXZ0LnByZXZlbnREZWZhdWx0KCk7IGV2dC5zdG9wUHJvcGFnYXRpb24oKX19PlxuICAgICAgICAgICAgPHJwLWljb24gbmFtZT1cInJlZ2lzdGVyXCIgc2l6ZT1cIjEyXCI+PC9ycC1pY29uPlxuICAgICAgICAgIDwvZGl2PmA6ICcnfVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgPC9kaXY+XG4gICAgICBgO1xuXG4gICAgY29uc3QgcmVuZGVyZWRDaGlsZHJlbiA9IChmZWF0dXJlLmNoaWxkcmVuIHx8IFtdKS5tYXAoKGNoaWxkOiBGZWF0dXJlUHJvcGVydGllcyk9PiB7XG4gICAgXG4gICAgICBpZiAocmVtYWluaW5nUGF0aC5sZW5ndGggPiAwICYmIChyZW1haW5pbmdQYXRoWzBdLm9zbV9pZCA9PT0gY2hpbGQub3NtX2lkKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJGZWF0dXJlKHJlbWFpbmluZ1BhdGhbMF0sIHJlbWFpbmluZ1BhdGguc2xpY2UoMSkpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVtYWluaW5nUGF0aC5sZW5ndGggPT09IDAgfHwgcmVtYWluaW5nUGF0aFswXS5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyRmVhdHVyZShjaGlsZCwgcmVtYWluaW5nUGF0aCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICAke3JlbmRlcmVkRmVhdHVyZX1cbiAgICAgICR7cmVuZGVyZWRDaGlsZHJlbn1cbiAgICBgXG4gIH1cblxuICBwdWJsaWMgc2hvd0FsaWFzRGlhbG9nKGZlYXR1cmU6IEZlYXR1cmVQcm9wZXJ0aWVzKSB7XG4gICAgdGhpcy5lZGl0RmVhdHVyZSA9IGZlYXR1cmU7XG4gICAgY29uc3QgYWxpYXNEaWFsb2cgPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJhbGlhcy1kaWFsb2dcIik7XG4gICAgaWYgKGFsaWFzRGlhbG9nKXtcbiAgICAgIHRoaXMuZmlyZVRleHRhcmVhQXV0b3NpemUoKTtcbiAgICAgIGFsaWFzRGlhbG9nLnNldEF0dHJpYnV0ZSgnb3BlbicsICcnKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgaGlkZUFsaWFzRGlhbG9nKCkge1xuICAgIGNvbnN0IGFsaWFzRGlhbG9nID0gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwiYWxpYXMtZGlhbG9nXCIpO1xuICAgIGlmIChhbGlhc0RpYWxvZykge1xuICAgICAgYWxpYXNEaWFsb2cucmVtb3ZlQXR0cmlidXRlKFwib3BlblwiKTtcbiAgICB9XG5cbiAgICB0aGlzLnJlcXVlc3RVcGRhdGUoKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0RW5kcG9pbnQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5lbmRwb2ludCArICghdGhpcy5lbmRwb2ludC5lbmRzV2l0aCgnLycpID8gJy8nIDogJycpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVEaWFsb2dDbGljayhldnQ6IEN1c3RvbUV2ZW50KSB7XG4gICAgY29uc3QgYnV0dG9uID0gZXZ0LmRldGFpbC5idXR0b247XG4gICAgaWYgKGJ1dHRvbi5uYW1lID09PSBcIlNhdmVcIikge1xuICAgICAgYnV0dG9uLnNldFByb2dyZXNzKHRydWUpO1xuICAgICAgY29uc3QgdGV4dGFyZWEgPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQodGhpcy5lZGl0RmVhdHVyZS5vc21faWQpIGFzIEhUTUxUZXh0QXJlYUVsZW1lbnQ7XG4gICAgICBjb25zdCBhbGlhc2VzID0gdGV4dGFyZWEudmFsdWU7XG4gICAgICBjb25zdCBwYXlsb2FkID0geyBcIm9zbV9pZFwiOiAgdGhpcy5lZGl0RmVhdHVyZS5vc21faWQsIGFsaWFzZXMgfTtcbiAgICAgIHBvc3RVcmwodGhpcy5nZXRFbmRwb2ludCgpICsgXCJib3VuZGFyaWVzL1wiICsgIHRoaXMuZWRpdEZlYXR1cmUub3NtX2lkICsgXCIvXCIsIHBheWxvYWQpLnRoZW4oKHJlc3BvbnNlOiBBeGlvc1Jlc3BvbnNlKSA9PiB7XG4gICAgICAgIHRoaXMuZmV0Y2hGZWF0dXJlKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZihidXR0b24ubmFtZSA9PT0gXCJDYW5jZWxcIikge1xuICAgICAgdGhpcy5oaWRlQWxpYXNEaWFsb2coKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlbmRlck9wdGlvbkRldGFpbChvcHRpb246IEZlYXR1cmVQcm9wZXJ0aWVzLCBzZWxlY3RlZDogYm9vbGVhbik6IFRlbXBsYXRlUmVzdWx0IHtcbiAgICBjb25zdCBzdHlsZSA9IGh0bWxgXG4gICAgICA8c3R5bGU+XG4gICAgICAgIHJwLWxhYmVsIHtcbiAgICAgICAgICBtYXJnaW4tdG9wOiAzcHg7XG4gICAgICAgICAgbWFyZ2luLXJpZ2h0OiAzcHg7XG4gICAgICAgIH1cbiAgICAgIDwvc3R5bGU+XG4gICAgYDtcblxuICAgIGNvbnN0IGFsaWFzTGlzdCA9IG9wdGlvbi5hbGlhc2VzLnNwbGl0KCdcXG4nKTtcbiAgICBjb25zdCBhbGlhc2VzID0gYWxpYXNMaXN0Lm1hcCgoYWxpYXM6IHN0cmluZyk9PmFsaWFzLnRyaW0oKS5sZW5ndGggPiAwID8gaHRtbGA8cnAtbGFiZWwgY2xhc3M9XCJhbGlhc1wiIGRhcms+JHthbGlhc308L3JwLWxhYmVsPmA6IG51bGwpO1xuICAgIHJldHVybiBodG1sYCR7c3R5bGV9PGRpdiBjbGFzcz1cInBhdGhcIj4ke29wdGlvbi5wYXRoLnJlcGxhY2UoLz4vZ2ksIFwi4oCjXCIpfTwvZGl2PjxkaXYgY2xhc3M9XCJhbGlhc2VzXCI+JHthbGlhc2VzfTwvZGl2PmA7ICAgIFxuICB9XG5cbiAgcHVibGljIHJlbmRlcigpOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgaWYgKHRoaXMucGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBodG1sYGA7XG4gICAgfVxuXG4gICAgLy8gaWYgd2UgYXJlIGEgbGVhZiwgaGF2ZSBvdXIgbWFwIHNob3cgdGhlIGxldmVsIGFib3ZlXG4gICAgY29uc3Qgc2VsZWN0ZWRGZWF0dXJlID0gdGhpcy5wYXRoW3RoaXMucGF0aC5sZW5ndGggLSAxXTtcbiAgICBjb25zdCBtYXBGZWF0dXJlID0gc2VsZWN0ZWRGZWF0dXJlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCA/IHRoaXMucGF0aFt0aGlzLnBhdGgubGVuZ3RoIC0gMl0gOiBzZWxlY3RlZEZlYXR1cmU7XG4gICAgXG4gICAgY29uc3QgZWRpdEZlYXR1cmVJZCA9IHRoaXMuZWRpdEZlYXR1cmUgPyB0aGlzLmVkaXRGZWF0dXJlLm9zbV9pZCA6IG51bGw7XG4gICAgY29uc3QgZWRpdEZlYXR1cmVOYW1lID0gdGhpcy5lZGl0RmVhdHVyZSA/IHRoaXMuZWRpdEZlYXR1cmUubmFtZSA6IG51bGw7XG4gICAgY29uc3QgZWRpdEZlYXR1cmVBbGlhc2VzID0gdGhpcy5lZGl0RmVhdHVyZSA/IHRoaXMuZWRpdEZlYXR1cmUuYWxpYXNlcyA6IG51bGw7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8ZGl2IGlkPVwibGVmdC1jb2x1bW5cIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInNlYXJjaFwiPlxuICAgICAgICAgIDxycC1zZWxlY3QgXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlYXJjaFwiIFxuICAgICAgICAgICAgZW5kcG9pbnQ9XCIke3RoaXMuZ2V0RW5kcG9pbnQoKX1ib3VuZGFyaWVzLyR7dGhpcy5wYXRoWzBdLm9zbV9pZH0vP3E9XCJcbiAgICAgICAgICAgIC5yZW5kZXJPcHRpb25EZXRhaWw9JHt0aGlzLnJlbmRlck9wdGlvbkRldGFpbH1cbiAgICAgICAgICAgIEBycC1zZWxlY3Rpb249JHt0aGlzLmhhbmRsZVNlYXJjaFNlbGVjdGlvbi5iaW5kKHRoaXMpfVxuICAgICAgICAgID48L3JwLXNlbGVjdD5cbiAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmVhdHVyZS10cmVlXCI+XG4gICAgICAgICAgJHt0aGlzLnJlbmRlckZlYXR1cmUodGhpcy5wYXRoWzBdLCB0aGlzLnBhdGguc2xpY2UoMSkpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGlkPVwicmlnaHQtY29sdW1uXCI+XG4gICAgICAgIDxsZWFmbGV0LW1hcCBcbiAgICAgICAgICBlbmRwb2ludD0ke3RoaXMuZ2V0RW5kcG9pbnQoKX1cbiAgICAgICAgICAuZmVhdHVyZT0ke21hcEZlYXR1cmV9XG4gICAgICAgICAgLm9zbUlkPSR7bWFwRmVhdHVyZS5vc21faWR9XG4gICAgICAgICAgLmhvdmVyZWQ9JHt0aGlzLmhvdmVyZWR9XG4gICAgICAgICAgLm9uRmVhdHVyZUNsaWNrZWQ9JHt0aGlzLmhhbmRsZU1hcENsaWNrZWQuYmluZCh0aGlzKX0+XG4gICAgICAgIDwvbGVhZmxldC1tYXA+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPHJwLWRpYWxvZyBpZD1cImFsaWFzLWRpYWxvZ1wiIFxuICAgICAgICB0aXRsZT1cIkFsaWFzZXMgZm9yICR7ZWRpdEZlYXR1cmVOYW1lfVwiIFxuICAgICAgICBwcmltYXJ5QnV0dG9uTmFtZT1cIlNhdmVcIlxuICAgICAgICBAcnAtYnV0dG9uLWNsaWNrZWQ9JHt0aGlzLmhhbmRsZURpYWxvZ0NsaWNrLmJpbmQodGhpcyl9PlxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJzZWxlY3RlZFwiPlxuICAgICAgICAgIDx0ZXh0YXJlYSBpZD1cIiR7ZWRpdEZlYXR1cmVJZH1cIiAudmFsdWU9JHtlZGl0RmVhdHVyZUFsaWFzZXN9PjwvdGV4dGFyZWE+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImhlbHBcIj5cbiAgICAgICAgICAgIEVudGVyIG90aGVyIGFsaWFzZXMgZm9yICR7ZWRpdEZlYXR1cmVOYW1lfSwgb25lIHBlciBsaW5lXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9ycC1kaWFsb2c+ICAgICAgICAgICAgIFxuXG4gICAgYDtcbiAgfVxufSIsImltcG9ydCB7IExpdEVsZW1lbnQsIFRlbXBsYXRlUmVzdWx0LCBodG1sLCBjc3MsIGN1c3RvbUVsZW1lbnQsIHByb3BlcnR5IH0gZnJvbSAnbGl0LWVsZW1lbnQnO1xuaW1wb3J0IHsgZ2V0Q2xhc3NlcyB9IGZyb20gJy4uL3V0aWxzJztcblxuQGN1c3RvbUVsZW1lbnQoXCJycC1idXR0b25cIilcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1dHRvbiBleHRlbmRzIExpdEVsZW1lbnQge1xuXG4gIHN0YXRpYyBnZXQgc3R5bGVzKCkge1xuICAgIHJldHVybiBjc3NgXG4gICAgICAuYnV0dG9uIHtcbiAgICAgICAgYmFja2dyb3VuZDogYmx1ZTtcbiAgICAgICAgY29sb3I6ICNmZmY7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1jdXJ2YXR1cmUpO1xuICAgICAgICBvdXRsaW5lOiBub25lO1xuICAgICAgfVxuXG4gICAgICAuYnV0dG9uOmZvY3VzIHtcbiAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgfVxuXG4gICAgICAuYnV0dG9uOmZvY3VzIC5tYXNre1xuICAgICAgICBiYWNrZ3JvdW5kOiByZ2IoMCwwLDAsLjEpO1xuICAgICAgICBib3gtc2hhZG93OiAwIDAgMHB4IDJweCB2YXIoLS1jb2xvci1idXR0b24tcHJpbWFyeSk7XG4gICAgICB9XG5cbiAgICAgIC5idXR0b24uc2Vjb25kYXJ5OmZvY3VzIC5tYXNre1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1jb2xvci1idXR0b24tc2Vjb25kYXJ5KTtcbiAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gICAgICAgIGJveC1zaGFkb3c6IDAgMCAwcHggMnB4IHZhcigtLWNvbG9yLWJ1dHRvbi1zZWNvbmRhcnkpO1xuICAgICAgfVxuXG4gICAgICAubWFzayB7XG4gICAgICAgIHBhZGRpbmc6IDVweCAxMHB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1jdXJ2YXR1cmUpO1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICAgIH1cblxuICAgICAgLnByaW1hcnkge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2xvci1idXR0b24tcHJpbWFyeSk7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1jb2xvci1idXR0b24tcHJpbWFyeS10ZXh0KTtcbiAgICAgIH1cblxuICAgICAgLnNlY29uZGFyeSB7XG4gICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgICAgICBjb2xvcjogdmFyKC0tY29sb3ItYnV0dG9uLXNlY29uZGFyeSk7XG4gICAgICB9XG5cbiAgICAgIC5zZWNvbmRhcnk6aG92ZXIgLm1hc2t7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWNvbG9yLWJ1dHRvbi1zZWNvbmRhcnkpO1xuICAgICAgfVxuXG4gICAgICAuYnV0dG9uLnByb2dyZXNze1xuICAgICAgICBiYWNrZ3JvdW5kOiAjZGRkO1xuICAgICAgfVxuXG4gICAgICAuYnV0dG9uLnByb2dyZXNzOmZvY3VzIC5tYXNrIHtcbiAgICAgICAgYm94LXNoYWRvdzogMCAwIDBweCAycHggdmFyKC0tY29sb3ItYnV0dG9uLXNlY29uZGFyeSk7XG4gICAgICB9XG5cbiAgICAgIC5tYXNrOmhvdmVyIHtcbiAgICAgICAgYmFja2dyb3VuZDogcmdiKDAsMCwwLC4xKTtcbiAgICAgIH1cblxuICAgICAgLnNlY29uZGFyeSAubWFzazpob3ZlciB7XG4gICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgICAgfVxuXG4gIGA7XG4gIH1cblxuICBAcHJvcGVydHkoe3R5cGU6IEJvb2xlYW59KVxuICBwcmltYXJ5OiBib29sZWFuO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogQm9vbGVhbn0pXG4gIHNlY29uZGFyeTogYm9vbGVhbjtcblxuICBAcHJvcGVydHkoKVxuICBuYW1lOiBzdHJpbmc7XG5cbiAgQHByb3BlcnR5KClcbiAgaW5Qcm9nZXNzTmFtZTogc3RyaW5nO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogQm9vbGVhbn0pXG4gIGlzUHJvZ3Jlc3M6IGJvb2xlYW47XG5cbiAgcHVibGljIHNldFByb2dyZXNzKHByb2dyZXNzOiBib29sZWFuKTogdm9pZCB7XG4gICAgdGhpcy5pc1Byb2dyZXNzID0gcHJvZ3Jlc3M7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUtleVVwKGV2ZW50OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICB0aGlzLmNsaWNrKCk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHJlbmRlcigpOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgICByZXR1cm4gaHRtbGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImJ1dHRvbiBcbiAgICAgICAgICAke2dldENsYXNzZXMoeyBcbiAgICAgICAgICBcInByb2dyZXNzXCI6IHRoaXMuaXNQcm9ncmVzcyxcbiAgICAgICAgICBcInByaW1hcnlcIjogdGhpcy5wcmltYXJ5LFxuICAgICAgICAgIFwic2Vjb25kYXJ5XCI6IHRoaXMuc2Vjb25kYXJ5XG4gICAgICAgICAgfSl9XCJcbiAgICAgICAgICB0YWJpbmRleD1cIjBcIlxuICAgICAgICAgIEBrZXl1cD0ke3RoaXMuaGFuZGxlS2V5VXB9XG4gICAgICAgID5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibWFza1wiPlxuICAgICAgICAgICAgJHt0aGlzLmlzUHJvZ3Jlc3MgPyB0aGlzLmluUHJvZ2Vzc05hbWUgfHwgdGhpcy5uYW1lIDogdGhpcy5uYW1lfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIGA7XG4gIH1cbn0iLCJleHBvcnQgaW50ZXJmYWNlIEZlYXR1cmVQcm9wZXJ0aWVzIHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgb3NtX2lkOiBzdHJpbmc7XG4gICAgbGV2ZWw6IG51bWJlcjtcbiAgICBjaGlsZHJlbj86IEZlYXR1cmVQcm9wZXJ0aWVzW107XG4gICAgaGFzX2NoaWxkcmVuPzogYm9vbGVhbjtcbiAgICBhbGlhc2VzPzogc3RyaW5nO1xuICAgIHBhcmVudF9vc21faWQ/OiBzdHJpbmc7XG4gICAgaWQ/OiBudW1iZXI7XG4gICAgcGF0aD86IHN0cmluZztcbn1cblxuZXhwb3J0IGVudW0gQ3VzdG9tRXZlbnRUeXBlIHtcbiAgICBDYW5jZWxlZCA9ICdycC1jYW5jZWxlZCcsXG4gICAgQ3Vyc29yQ2hhbmdlZCA9ICdycC1jdXJzb3ItY2hhbmdlZCcsXG4gICAgU2VsZWN0aW9uID0gJ3JwLXNlbGVjdGlvbicsXG4gICAgQnV0dG9uQ2xpY2tlZCA9ICdycC1idXR0b24tY2xpY2tlZCdcbn0iLCJpbXBvcnQgeyBMaXRFbGVtZW50IH0gZnJvbSAnbGl0LWVsZW1lbnQnO1xuaW1wb3J0IHsgQ3VzdG9tRXZlbnRUeXBlIH0gZnJvbSAnLi9pbnRlcmZhY2VzJztcblxuZXhwb3J0IGludGVyZmFjZSBFdmVudEhhbmRsZXIge1xuICBldmVudDogc3RyaW5nO1xuICBtZXRob2Q6IEV2ZW50TGlzdGVuZXI7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJhcGlkRWxlbWVudCBleHRlbmRzIExpdEVsZW1lbnQge1xuXG4gIHB1YmxpYyBnZXRFdmVudEhhbmRsZXJzKCk6IEV2ZW50SGFuZGxlcltdIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIGZvciAoY29uc3QgaGFuZGxlciBvZiB0aGlzLmdldEV2ZW50SGFuZGxlcnMoKSkge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihoYW5kbGVyLmV2ZW50LCBoYW5kbGVyLm1ldGhvZC5iaW5kKHRoaXMpKTtcbiAgICB9XG4gIH1cblxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBmb3IgKGNvbnN0IGhhbmRsZXIgb2YgdGhpcy5nZXRFdmVudEhhbmRsZXJzKCkpIHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoaGFuZGxlci5ldmVudCwgaGFuZGxlci5tZXRob2QpO1xuICAgIH1cbiAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICB9XG5cbiAgcHVibGljIGZpcmVFdmVudCh0eXBlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KHR5cGUsIHtcbiAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICBjb21wb3NlZDogdHJ1ZVxuICB9KSlcbiAgfVxuXG4gIHB1YmxpYyBmaXJlQ3VzdG9tRXZlbnQodHlwZTogQ3VzdG9tRXZlbnRUeXBlLCBkZXRhaWw6IGFueSA9IHt9KTogdm9pZCB7XG4gICAgY29uc3QgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQodHlwZSwge1xuICAgICAgICBkZXRhaWwsXG4gICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgIGNvbXBvc2VkOiB0cnVlXG4gICAgfSk7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgfTtcbn0iLCJpbXBvcnQgeyBjdXN0b21FbGVtZW50LCBwcm9wZXJ0eSB9IGZyb20gJ2xpdC1lbGVtZW50L2xpYi9kZWNvcmF0b3JzJztcbmltcG9ydCB7IExpdEVsZW1lbnQsIFRlbXBsYXRlUmVzdWx0LCBodG1sLCBjc3MgfSBmcm9tICdsaXQtZWxlbWVudCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJy4uL2J1dHRvbi9CdXR0b24nO1xuaW1wb3J0IFJhcGlkRWxlbWVudCBmcm9tICcuLi9SYXBpZEVsZW1lbnQnO1xuaW1wb3J0IHsgQ3VzdG9tRXZlbnRUeXBlIH0gZnJvbSAnLi4vaW50ZXJmYWNlcyc7XG5cbkBjdXN0b21FbGVtZW50KFwicnAtZGlhbG9nXCIpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEaWFsb2cgZXh0ZW5kcyBSYXBpZEVsZW1lbnQge1xuXG4gIHN0YXRpYyBnZXQgc3R5bGVzKCkge1xuICAgIHJldHVybiBjc3NgXG5cbiAgICAgIC5tYXNrIHtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgLjUpO1xuICAgICAgICBvcGFjaXR5OiAwO1xuICAgICAgICB2aXNpYmlsaXR5OiBoaWRkZW47XG4gICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgICAgdG9wOjBweDtcbiAgICAgICAgbGVmdDowcHg7XG4gICAgICAgIHRyYW5zaXRpb246IGFsbCBlYXNlLWluIDI1MG1zO1xuICAgICAgfVxuXG4gICAgICAuZGlhbG9nIHtcbiAgICAgICAgd2lkdGg6IDUwMHB4O1xuICAgICAgICBtYXJnaW46IDBweCBhdXRvOyBcbiAgICAgICAgdG9wOiAtMjAwcHg7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgdHJhbnNpdGlvbjogdG9wIGVhc2UtaW4tb3V0IDIwMG1zO1xuICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1jdXJ2YXR1cmUpOyBcbiAgICAgICAgYm94LXNoYWRvdzogMHB4IDBweCAwcHggNHB4IHJnYmEoMCwwLDAsLjA0KTtcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgIH1cblxuICAgICAgLmJvZHkge1xuICAgICAgICBiYWNrZ3JvdW5kOiAjZmZmO1xuICAgICAgfVxuXG4gICAgICAubWFzay5vcGVuIHtcbiAgICAgICAgb3BhY2l0eTogMTtcbiAgICAgICAgdmlzaWJpbGl0eTogdmlzaWJsZTtcbiAgICAgIH1cblxuICAgICAgLnRpdGxlIHtcbiAgICAgICAgcGFkZGluZzogMTBweCAyMHB4O1xuICAgICAgICBmb250LXNpemU6IDE4cHg7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1jb2xvci10ZXh0LWxpZ2h0KTtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tY29sb3ItcHJpbWFyeS1kYXJrKTtcbiAgICAgIH1cblxuICAgICAgLmZvb3RlciB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWNvbG9yLXByaW1hcnktbGlnaHQpO1xuICAgICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWZsb3c6IHJvdy1yZXZlcnNlO1xuICAgICAgfVxuXG4gICAgICBycC1idXR0b24ge1xuICAgICAgICBtYXJnaW4tbGVmdDogNXB4O1xuICAgICAgfVxuICBgO1xuICB9XG5cblxuICBAcHJvcGVydHkoe3R5cGUgOiBCb29sZWFufSlcbiAgb3BlbjogYm9vbGVhbjtcblxuICBAcHJvcGVydHkoKVxuICB0aXRsZTogc3RyaW5nO1xuXG4gIEBwcm9wZXJ0eSgpXG4gIGJvZHk6IHN0cmluZztcblxuICBAcHJvcGVydHkoKVxuICBwcmltYXJ5QnV0dG9uTmFtZTogc3RyaW5nID0gXCJPa1wiO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogU3RyaW5nfSlcbiAgY2FuY2VsQnV0dG9uTmFtZTogc3RyaW5nID0gXCJDYW5jZWxcIjtcblxuICBAcHJvcGVydHkoKVxuICBpblByb2dyZXNzTmFtZTogc3RyaW5nID0gXCJTYXZpbmdcIjtcblxuICBAcHJvcGVydHkoe2F0dHJpYnV0ZTogZmFsc2V9KVxuICBvbkJ1dHRvbkNsaWNrZWQ6IChidXR0b246IEJ1dHRvbikgPT4gdm9pZDtcblxuICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIHB1YmxpYyB1cGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzOiBNYXA8c3RyaW5nLCBhbnk+KSB7XG4gICAgaWYgKGNoYW5nZWRQcm9wZXJ0aWVzLmhhcyhcIm9wZW5cIikpIHtcbiAgICAgIC8vIG1ha2Ugc3VyZSBvdXIgYnV0dG9ucyBhcmVuJ3QgaW4gcHJvZ3Jlc3Mgb24gc2hvd1xuICAgICAgaWYgKHRoaXMub3Blbikge1xuICAgICAgICB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvckFsbChcInJwLWJ1dHRvblwiKS5mb3JFYWNoKChidXR0b246IEJ1dHRvbik9PmJ1dHRvbi5zZXRQcm9ncmVzcyhmYWxzZSkpO1xuICAgICAgICBjb25zdCBpbnB1dHMgPSB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoXCJ0ZXh0YXJlYSxpbnB1dFwiKTtcbiAgICAgICAgaWYgKGlucHV0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCk9PntcbiAgICAgICAgICAgIChpbnB1dHNbMF0gYXMgYW55KS5mb2N1cygpOyAgICAgICAgICAgIFxuICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwdWJsaWMgaGFuZGxlQ2xpY2soZXZ0OiBNb3VzZUV2ZW50KSB7XG4gICAgY29uc3QgYnV0dG9uID0gZXZ0LmN1cnJlbnRUYXJnZXQgYXMgQnV0dG9uO1xuICAgIGlmICghYnV0dG9uLmlzUHJvZ3Jlc3MpIHtcbiAgICAgIHRoaXMuZmlyZUN1c3RvbUV2ZW50KEN1c3RvbUV2ZW50VHlwZS5CdXR0b25DbGlja2VkLCB7YnV0dG9ufSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXREb2N1bWVudEhlaWdodCgpOiBudW1iZXIge1xuICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5ib2R5O1xuICAgIGNvbnN0IGh0bWwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgcmV0dXJuIE1hdGgubWF4KGJvZHkuc2Nyb2xsSGVpZ2h0LCBib2R5Lm9mZnNldEhlaWdodCwgaHRtbC5jbGllbnRIZWlnaHQsIGh0bWwuc2Nyb2xsSGVpZ2h0LCBodG1sLm9mZnNldEhlaWdodCk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUtleVVwKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgLy8gZmluZCBvdXIgY2FuY2VsIGJ1dHRvbiBhbmQgY2xpY2sgaXRcbiAgICAgIHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yQWxsKFwicnAtYnV0dG9uXCIpLmZvckVhY2goXG4gICAgICAgIChidXR0b246IEJ1dHRvbik9PnsgaWYgKGJ1dHRvbi5uYW1lID09PSB0aGlzLmNhbmNlbEJ1dHRvbk5hbWUpIHtidXR0b24uY2xpY2soKX19XG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgcHVibGljIHJlbmRlcigpOiBUZW1wbGF0ZVJlc3VsdCB7XG5cbiAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmdldERvY3VtZW50SGVpZ2h0KCk7XG5cbiAgICByZXR1cm4gaHRtbGBcbiAgICAgICAgPHN0eWxlPlxuICAgICAgICAgIC5tYXNrIHtcbiAgICAgICAgICAgIGhlaWdodDogJHtoZWlnaHQgKyAxMDB9cHg7XG4gICAgICAgICAgfVxuICAgICAgICAgIC5tYXNrLm9wZW4gPiAuZGlhbG9nIHtcbiAgICAgICAgICAgIHRvcDogMTAwcHg7XG4gICAgICAgICAgfVxuICAgICAgICA8L3N0eWxlPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibWFzayAke3RoaXMub3BlbiA/ICdvcGVuJyA6ICcnfVwiPlxuICAgICAgICAgIDxkaXYgQGtleXVwPSR7dGhpcy5oYW5kbGVLZXlVcH0gY2xhc3M9XCJkaWFsb2dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkZXJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRpdGxlXCI+JHt0aGlzLnRpdGxlfTwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYm9keVwiIEBrZXlwcmVzcz0ke3RoaXMuaGFuZGxlS2V5VXB9PiR7dGhpcy5ib2R5ID8gdGhpcy5ib2R5IDogaHRtbGA8c2xvdD48L3Nsb3Q+YH08L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb290ZXJcIj5cbiAgICAgICAgICAgICAgPHJwLWJ1dHRvbiBAY2xpY2s9JHt0aGlzLmhhbmRsZUNsaWNrfSBuYW1lPSR7dGhpcy5wcmltYXJ5QnV0dG9uTmFtZX0gaW5Qcm9nZXNzTmFtZT0ke3RoaXMuaW5Qcm9ncmVzc05hbWV9IHByaW1hcnk+fTwvcnAtYnV0dG9uPlxuICAgICAgICAgICAgICA8cnAtYnV0dG9uIEBjbGljaz0ke3RoaXMuaGFuZGxlQ2xpY2t9IG5hbWU9JHt0aGlzLmNhbmNlbEJ1dHRvbk5hbWV9IHNlY29uZGFyeT48L3JwLWJ1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PiAgICAgIFxuICAgICAgICA8L2Rpdj5cblxuICAgIGA7XG4gIH1cbn0iLCJpbXBvcnQgeyBjdXN0b21FbGVtZW50LCBUZW1wbGF0ZVJlc3VsdCwgaHRtbCwgY3NzLCBwcm9wZXJ0eSB9IGZyb20gJ2xpdC1lbGVtZW50JztcbmltcG9ydCBSYXBpZEVsZW1lbnQgZnJvbSAnLi4vUmFwaWRFbGVtZW50JztcblxuQGN1c3RvbUVsZW1lbnQoXCJycC10ZXh0aW5wdXRcIilcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRleHRJbnB1dCBleHRlbmRzIFJhcGlkRWxlbWVudCB7XG4gIHN0YXRpYyBnZXQgc3R5bGVzKCkge1xuICAgIHJldHVybiBjc3NgXG4gICAgICBcbiAgICAgIC5pbnB1dC1jb250YWluZXIge1xuICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1jdXJ2YXR1cmUpO1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICBjdXJzb3I6IHRleHQ7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWNvbG9yLXdpZGdldC1iZyk7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWNvbG9yLXdpZGdldC1ib3JkZXIpO1xuICAgICAgICBib3gtc2hhZG93OiBub25lO1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgZWFzZS1pbi1vdXQgMjAwbXM7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBzdHJldGNoO1xuICAgICAgfVxuXG4gICAgICAuaW5wdXQtY29udGFpbmVyOmZvY3VzLXdpdGhpbiB7XG4gICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0tY29sb3Itd2lkZ2V0LWJvcmRlcik7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWNvbG9yLXdpZGdldC1iZy1mb2N1c2VkKTtcbiAgICAgICAgYm94LXNoYWRvdzogdmFyKC0tY29sb3Itd2lkZ2V0LXNoYWRvdy1mb2N1c2VkKSAxcHggMXB4IDNweCAwcHggaW5zZXQ7XG4gICAgICB9XG5cbiAgICAgIC5pbnB1dC1jb250YWluZXI6aG92ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2xvci13aWRnZXQtYmctZm9jdXNlZCk7XG4gICAgICB9XG5cbiAgICAgIHRleHRhcmVhIHtcbiAgICAgICAgaGVpZ2h0OiA4NSU7XG4gICAgICB9XG5cbiAgICAgIC50ZXh0aW5wdXQge1xuICAgICAgICBwYWRkaW5nOiA4cHg7XG4gICAgICAgIGJvcmRlcjogMHB4IHNvbGlkIHJlZDtcbiAgICAgICAgZmxleDogMTtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICBiYWNrZ3JvdW5kOiBub25lO1xuICAgICAgICBjb2xvcjogdmFyKC0tY29sb3ItdGV4dCk7XG4gICAgICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICAgICAgY3Vyc29yOiB0ZXh0O1xuICAgICAgICByZXNpemU6IG5vbmU7XG4gICAgICB9XG5cbiAgICAgIC50ZXh0aW5wdXQ6Zm9jdXMge1xuICAgICAgICBvdXRsaW5lOiBub25lO1xuICAgICAgICBjdXJzb3I6IHRleHQ7XG4gICAgICB9XG5cbiAgICAgIC50ZXh0aW5wdXQ6OnBsYWNlaG9sZGVyIHtcbiAgICAgICAgY29sb3I6IHJnYmEoMCwwLDAsLjE1KTtcbiAgICAgIH1cblxuICAgIGBcbiAgfVxuXG4gIEBwcm9wZXJ0eSh7dHlwZTogQm9vbGVhbn0pXG4gIHRleHRhcmVhOiBib29sZWFuO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogU3RyaW5nfSlcbiAgcGxhY2Vob2xkZXI6IHN0cmluZyA9IFwiXCI7XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBTdHJpbmd9KVxuICB2YWx1ZTogc3RyaW5nID0gXCJcIjtcblxuICBAcHJvcGVydHkoe3R5cGU6IFN0cmluZ30pXG4gIG5hbWU6IHN0cmluZyA9IFwiXCI7XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBPYmplY3R9KVxuICBpbnB1dEVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQ7XG5cbiAgcHVibGljIGZpcnN0VXBkYXRlZChjaGFuZ2VzOiBNYXA8c3RyaW5nLCBhbnk+KSB7XG4gICAgc3VwZXIuZmlyc3RVcGRhdGVkKGNoYW5nZXMpO1xuICAgIHRoaXMuaW5wdXRFbGVtZW50ID0gdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoXCIudGV4dGlucHV0XCIpO1xuICB9XG5cbiAgcHVibGljIHJlbmRlcigpOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgPHN0eWxlPlxuICAgICAgLmlucHV0LWNvbnRhaW5lciB7XG4gICAgICAgIGhlaWdodDogJHt0aGlzLnRleHRhcmVhID8gJzEwMCUnIDogJ2F1dG8nfTtcbiAgICAgIH1cbiAgICA8L3N0eWxlPlxuICAgIDxkaXYgY2xhc3M9XCJpbnB1dC1jb250YWluZXJcIiBAY2xpY2s9JHsoKT0+eyAodGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoXCIudGV4dGlucHV0XCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLmZvY3VzKCl9fT5cbiAgICAgICR7dGhpcy50ZXh0YXJlYSA/IGh0bWxgXG4gICAgICAgIDx0ZXh0YXJlYSBjbGFzcz1cInRleHRpbnB1dFwiIFxuICAgICAgICAgIG5hbWU9JHt0aGlzLm5hbWV9XG4gICAgICAgICAgcGxhY2Vob2xkZXI9JHt0aGlzLnBsYWNlaG9sZGVyfVxuICAgICAgICAgIC52YWx1ZT0ke3RoaXMudmFsdWV9PlxuICAgICAgICA8L3RleHRhcmVhPlxuICAgICAgYCA6IGh0bWxgXG4gICAgICAgIDxpbnB1dCBjbGFzcz1cInRleHRpbnB1dFwiIFxuICAgICAgICAgIG5hbWU9JHt0aGlzLm5hbWV9XG4gICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgIHBsYWNlaG9sZGVyPSR7dGhpcy5wbGFjZWhvbGRlcn1cbiAgICAgICAgICAudmFsdWU9JHt0aGlzLnZhbHVlfT5cbiAgICAgIGB9XG4gICAgPC9kaXY+XG4gICAgYDtcbiAgfVxufVxuIiwiaW1wb3J0IHsgTGl0RWxlbWVudCwgVGVtcGxhdGVSZXN1bHQsIGh0bWwsIGNzcywgY3VzdG9tRWxlbWVudCwgcHJvcGVydHkgfSBmcm9tICdsaXQtZWxlbWVudCc7XG5pbXBvcnQgeyBnZXRDbGFzc2VzIH0gZnJvbSAnLi4vdXRpbHMnO1xuXG5cbkBjdXN0b21FbGVtZW50KFwicnAtbGFiZWxcIilcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExhYmVsIGV4dGVuZHMgTGl0RWxlbWVudCB7XG5cbiAgc3RhdGljIGdldCBzdHlsZXMoKSB7XG4gICAgcmV0dXJuIGNzc2BcblxuICAgICAgOmhvc3Qge1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICB9XG5cbiAgICAgIC5tYXNrIHtcbiAgICAgICAgcGFkZGluZzogM3B4IDZweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tY3VydmF0dXJlKTtcbiAgICAgIH1cblxuICAgICAgLmxhYmVsLmNsaWNrYWJsZSAubWFzazpob3ZlciB7XG4gICAgICAgIGJhY2tncm91bmQ6IHJnYigwLDAsMCwuMDUpO1xuICAgICAgfVxuXG4gICAgICAubGFiZWwge1xuICAgICAgICBib3JkZXItcmFkaXVzOiAycHg7XG4gICAgICAgIGZvbnQtc2l6ZTogODAlO1xuICAgICAgICBmb250LXdlaWdodDogNDAwO1xuICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1jdXJ2YXR1cmUpO1xuICAgICAgICBiYWNrZ3JvdW5kOiB0b21hdG87XG4gICAgICAgIGNvbG9yOiAjZmZmO1xuICAgICAgICB0ZXh0LXNoYWRvdzogMCAwLjA0ZW0gMC4wNGVtIHJnYmEoMCwwLDAsMC4zNSk7XG4gICAgICB9XG5cbiAgICAgIC5wcmltYXJ5IHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tY29sb3ItbGFiZWwtcHJpbWFyeSk7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1jb2xvci1sYWJlbC1wcmltYXJ5LXRleHQpO1xuICAgICAgfVxuXG4gICAgICAuc2Vjb25kYXJ5IHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tY29sb3ItbGFiZWwtc2Vjb25kYXJ5KTtcbiAgICAgICAgY29sb3I6IHZhcigtLWNvbG9yLWxhYmVsLXNlY29uZGFyeS10ZXh0KTtcbiAgICAgICAgdGV4dC1zaGFkb3c6IG5vbmU7XG4gICAgICB9XG5cbiAgICAgIC5saWdodCB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWNvbG9yLW92ZXJsYXktbGlnaHQpO1xuICAgICAgICBjb2xvcjogdmFyKC0tY29sb3Itb3ZlcmxheS1saWdodC10ZXh0KTtcbiAgICAgICAgdGV4dC1zaGFkb3c6IG5vbmU7XG4gICAgICB9XG5cbiAgICAgIC5kYXJrIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tY29sb3Itb3ZlcmxheS1kYXJrKTtcbiAgICAgICAgY29sb3I6IHZhcigtLWNvbG9yLW92ZXJsYXktZGFyay10ZXh0KTtcbiAgICAgICAgdGV4dC1zaGFkb3c6IG5vbmU7XG4gICAgICB9XG5cbiAgICAgIC5jbGlja2FibGUge1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICB9XG4gIGA7XG4gIH1cblxuICBAcHJvcGVydHkoe3R5cGU6IEJvb2xlYW59KVxuICBjbGlja2FibGU6IGJvb2xlYW47XG4gIFxuICBAcHJvcGVydHkoe3R5cGU6IEJvb2xlYW59KVxuICBwcmltYXJ5OiBib29sZWFuO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogQm9vbGVhbn0pXG4gIHNlY29uZGFyeTogYm9vbGVhbjtcblxuICBAcHJvcGVydHkoe3R5cGU6IEJvb2xlYW59KVxuICBsaWdodDogYm9vbGVhbjtcblxuICBAcHJvcGVydHkoe3R5cGU6IEJvb2xlYW59KVxuICBkYXJrOiBib29sZWFuO1xuXG4gIEBwcm9wZXJ0eSgpXG4gIGJhY2tncm91bmRDb2xvcjogc3RyaW5nO1xuXG4gIEBwcm9wZXJ0eSgpXG4gIHRleHRDb2xvcjogc3RyaW5nO1xuXG4gIHB1YmxpYyByZW5kZXIoKTogVGVtcGxhdGVSZXN1bHQge1xuICAgIHJldHVybiBodG1sYFxuICAgICAgJHt0aGlzLmJhY2tncm91bmRDb2xvciAmJiB0aGlzLnRleHRDb2xvciA/IGh0bWxgXG4gICAgICAgIDxzdHlsZT5cbiAgICAgICAgICAubGFiZWwge1xuICAgICAgICAgICAgYmFja2dyb3VuZDogJHt0aGlzLmJhY2tncm91bmRDb2xvcn07XG4gICAgICAgICAgICBjb2xvcjogJHt0aGlzLnRleHRDb2xvcn07XG4gICAgICAgICAgfVxuICAgICAgICA8L3N0eWxlPlxuICAgICAgYDogbnVsbH1cblxuICAgICAgPGRpdiBjbGFzcz1cImxhYmVsICR7Z2V0Q2xhc3Nlcyh7IFxuICAgICAgICBcImNsaWNrYWJsZVwiOiB0aGlzLmNsaWNrYWJsZSxcbiAgICAgICAgXCJwcmltYXJ5XCI6IHRoaXMucHJpbWFyeSxcbiAgICAgICAgXCJzZWNvbmRhcnlcIjogdGhpcy5zZWNvbmRhcnksXG4gICAgICAgIFwibGlnaHRcIjogdGhpcy5saWdodCxcbiAgICAgICAgXCJkYXJrXCI6IHRoaXMuZGFya1xuICAgICAgICB9KX1cIlxuICAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1hc2tcIj5cbiAgICAgICAgICA8c2xvdD48L3Nsb3Q+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgfVxufSIsImltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIFRlbXBsYXRlUmVzdWx0LCBodG1sLCBwcm9wZXJ0eSwgY3NzIH0gZnJvbSAnbGl0LWVsZW1lbnQnO1xuaW1wb3J0IHsgQ3VzdG9tRXZlbnRUeXBlIH0gZnJvbSAnLi4vaW50ZXJmYWNlcyc7XG5pbXBvcnQgUmFwaWRFbGVtZW50LCB7IEV2ZW50SGFuZGxlciB9IGZyb20gJy4uL1JhcGlkRWxlbWVudCc7XG5cbkBjdXN0b21FbGVtZW50KFwicnAtb3B0aW9uc1wiKVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3B0aW9ucyBleHRlbmRzIFJhcGlkRWxlbWVudCB7XG5cbiAgc3RhdGljIGdldCBzdHlsZXMoKSB7XG4gICAgcmV0dXJuIGNzc2BcbiAgICAgIC5jb250YWluZXIge1xuICAgICAgICB2aXNpYmlsaXR5OiBoaWRkZW47XG4gICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tY3VydmF0dXJlKTtcbiAgICAgICAgYm9yZGVyOiAwcHggc29saWQgdmFyKC0tY29sb3ItYm9yZGVycyk7XG4gICAgICAgIGJveC1zaGFkb3c6IDBweCAwcHggMHB4IDJweCByZ2JhKDAsMCwwLC4wOSk7XG4gICAgICAgIGJhY2tncm91bmQ6ICNmZmY7XG4gICAgICAgIHotaW5kZXg6IDE7XG4gICAgICB9XG5cbiAgICAgIC5vcHRpb25zIHtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tY3VydmF0dXJlKTtcbiAgICAgICAgYmFja2dyb3VuZDogI2ZmZjtcbiAgICAgICAgb3ZlcmZsb3cteTogc2Nyb2xsO1xuICAgICAgICBtYXgtaGVpZ2h0OiAyMjVweDtcbiAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgfVxuXG4gICAgICAuc2hvdyB7XG4gICAgICAgIHZpc2liaWxpdHk6IHZpc2libGU7XG4gICAgICB9XG5cbiAgICAgIC5vcHRpb24ge1xuICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIHBhZGRpbmc6IDdweCAxNHB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1jdXJ2YXR1cmUpO1xuICAgICAgICBtYXJnaW46IDNweDtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICBjb2xvcjogdmFyKC0tY29sb3ItdGV4dCk7XG4gICAgICB9XG5cbiAgICAgIC5vcHRpb24uZm9jdXNlZCB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWNvbG9yLXNlbGVjdGlvbik7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1jb2xvci10ZXh0LWxpZ2h0KTtcbiAgICAgIH1cblxuICAgICAgLm9wdGlvbiAuZGV0YWlsIHtcbiAgICAgICAgZm9udC1zaXplOiA4NSU7XG4gICAgICAgIGNvbG9yOiByZ2JhKDI1NSwyNTUsMjU1LC45KTtcbiAgICAgIH1cblxuICAgICAgY29kZSB7XG4gICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsLjE1KTtcbiAgICAgICAgcGFkZGluZzogMXB4IDVweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tY3VydmF0dXJlKTtcbiAgICAgIH1cbiAgICBgXG4gIH1cblxuICBAcHJvcGVydHkoe3R5cGU6IE51bWJlcn0pXG4gIHRvcDogbnVtYmVyO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogTnVtYmVyfSlcbiAgbGVmdDogbnVtYmVyO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogTnVtYmVyfSlcbiAgd2lkdGg6IG51bWJlcjtcblxuICBAcHJvcGVydHkoe3R5cGU6IE9iamVjdH0pXG4gIGFuY2hvclRvOiBIVE1MRWxlbWVudFxuXG4gIEBwcm9wZXJ0eSh7dHlwZTogQm9vbGVhbn0pXG4gIHZpc2libGU6IGJvb2xlYW47XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBOdW1iZXJ9KVxuICBjdXJzb3JJbmRleDogbnVtYmVyID0gMDtcblxuICBAcHJvcGVydHkoe3R5cGU6IEFycmF5fSlcbiAgb3B0aW9uczogYW55W11cblxuICBAcHJvcGVydHkoe2F0dHJpYnV0ZTogZmFsc2V9KVxuICByZW5kZXJPcHRpb246IChvcHRpb246IGFueSwgc2VsZWN0ZWQ6IGJvb2xlYW4pID0+IHZvaWQ7XG5cbiAgQHByb3BlcnR5KHthdHRyaWJ1dGU6IGZhbHNlfSlcbiAgcmVuZGVyT3B0aW9uTmFtZTogKG9wdGlvbjogYW55LCBzZWxlY3RlZDogYm9vbGVhbikgPT4gdm9pZDtcblxuICBAcHJvcGVydHkoe2F0dHJpYnV0ZTogZmFsc2V9KVxuICByZW5kZXJPcHRpb25EZXRhaWw6IChvcHRpb246IGFueSwgc2VsZWN0ZWQ6IGJvb2xlYW4pID0+IHZvaWQ7XG5cbiAgcHVibGljIHVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXM6IE1hcDxzdHJpbmcsIGFueT4pIHtcbiAgICBzdXBlci51cGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzKTtcblxuICAgIC8vIGlmIG91ciBjdXJzb3IgY2hhbmdlZCwgbGV0cyBtYWtlIHN1cmUgb3VyIHNjcm9sbGJveCBpcyBzaG93aW5nIGl0XG4gICAgaWYoY2hhbmdlZFByb3BlcnRpZXMuaGFzKFwiY3Vyc29ySW5kZXhcIikpIHtcbiAgICAgIGNvbnN0IGZvY3VzZWRFbGUgPSB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcihcIi5mb2N1c2VkXCIpIGFzIEhUTUxEaXZFbGVtZW50O1xuICAgICAgaWYgKGZvY3VzZWRFbGUpIHtcbiAgICAgICAgY29uc3Qgc2Nyb2xsQm94ID0gIHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKFwiLm9wdGlvbnNcIik7XG4gICAgICAgIGNvbnN0IHNjcm9sbEJveFJlY3QgPSBzY3JvbGxCb3guZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGNvbnN0IHNjcm9sbEJveEhlaWdodCA9IHNjcm9sbEJveFJlY3QuaGVpZ2h0XG4gICAgICAgIGNvbnN0IGZvY3VzZWRFbGVIZWlnaHQgPSBmb2N1c2VkRWxlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcblxuICAgICAgICBpZiAoZm9jdXNlZEVsZS5vZmZzZXRUb3AgKyBmb2N1c2VkRWxlSGVpZ2h0ID4gc2Nyb2xsQm94LnNjcm9sbFRvcCArIHNjcm9sbEJveEhlaWdodCAtIDUpIHtcbiAgICAgICAgICBjb25zdCBzY3JvbGxUbyA9IGZvY3VzZWRFbGUub2Zmc2V0VG9wIC0gc2Nyb2xsQm94SGVpZ2h0ICsgZm9jdXNlZEVsZUhlaWdodCArIDU7XG4gICAgICAgICAgc2Nyb2xsQm94LnNjcm9sbFRvcCA9IHNjcm9sbFRvO1xuICAgICAgICB9IGVsc2UgaWYgKGZvY3VzZWRFbGUub2Zmc2V0VG9wIDwgc2Nyb2xsQm94LnNjcm9sbFRvcCkge1xuICAgICAgICAgIGNvbnN0IHNjcm9sbFRvID0gZm9jdXNlZEVsZS5vZmZzZXRUb3AgLSA1O1xuICAgICAgICAgIHNjcm9sbEJveC5zY3JvbGxUb3AgPSBzY3JvbGxUbztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmKGNoYW5nZWRQcm9wZXJ0aWVzLmhhcyhcIm9wdGlvbnNcIikpIHtcbiAgICAgIHRoaXMuY2FsY3VsYXRlUG9zaXRpb24oKTtcbiAgICAgIHRoaXMuY3Vyc29ySW5kZXggPSAwO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyT3B0aW9uRGVmYXVsdChvcHRpb246IGFueSwgc2VsZWN0ZWQ6IGJvb2xlYW4pOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgY29uc3QgcmVuZGVyT3B0aW9uTmFtZSA9ICh0aGlzLnJlbmRlck9wdGlvbk5hbWUgfHwgdGhpcy5yZW5kZXJPcHRpb25OYW1lRGVmYXVsdCk7XG4gICAgY29uc3QgcmVuZGVyT3B0aW9uRGV0YWlsID0gKHRoaXMucmVuZGVyT3B0aW9uRGV0YWlsIHx8IHRoaXMucmVuZGVyT3B0aW9uRGV0YWlsRGVmYXVsdCk7XG4gICAgaWYgKHNlbGVjdGVkKSB7XG4gICAgICByZXR1cm4gaHRtbGA8ZGl2IGNsYXNzPVwibmFtZVwiPiR7cmVuZGVyT3B0aW9uTmFtZShvcHRpb24sIHNlbGVjdGVkKX08L2Rpdj48ZGl2IGNsYXNzPVwiZGV0YWlsXCI+JHtyZW5kZXJPcHRpb25EZXRhaWwob3B0aW9uLCBzZWxlY3RlZCl9PC9kaXY+YDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGh0bWxgPGRpdiBjbGFzcz1cIm5hbWVcIj4ke3JlbmRlck9wdGlvbk5hbWUob3B0aW9uLCBzZWxlY3RlZCl9PC9kaXY+YDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlbmRlck9wdGlvbk5hbWVEZWZhdWx0KG9wdGlvbjogYW55LCBzZWxlY3RlZDogYm9vbGVhbik6IFRlbXBsYXRlUmVzdWx0IHtcbiAgICByZXR1cm4gaHRtbGAke29wdGlvbi5uYW1lfWBcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyT3B0aW9uRGV0YWlsRGVmYXVsdChvcHRpb246IGFueSwgc2VsZWN0ZWQ6IGJvb2xlYW4pOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgcmV0dXJuIGh0bWxgJHtvcHRpb24uZGV0YWlsfWBcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlU2VsZWN0aW9uKHRhYmJlZDogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgY29uc3Qgc2VsZWN0ZWQgPSB0aGlzLm9wdGlvbnNbdGhpcy5jdXJzb3JJbmRleF07XG4gICAgdGhpcy5maXJlQ3VzdG9tRXZlbnQoQ3VzdG9tRXZlbnRUeXBlLlNlbGVjdGlvbiwgeyBzZWxlY3RlZCwgdGFiYmVkIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBtb3ZlQ3Vyc29yKGRpcmVjdGlvbjogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3QgbmV3SW5kZXggPSBNYXRoLm1heChNYXRoLm1pbih0aGlzLmN1cnNvckluZGV4ICsgZGlyZWN0aW9uLCB0aGlzLm9wdGlvbnMubGVuZ3RoIC0gMSksIDApO1xuICAgIHRoaXMuc2V0Q3Vyc29yKG5ld0luZGV4KTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0Q3Vyc29yKG5ld0luZGV4OiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAobmV3SW5kZXggIT09IHRoaXMuY3Vyc29ySW5kZXgpe1xuICAgICAgdGhpcy5jdXJzb3JJbmRleCA9IG5ld0luZGV4O1xuICAgICAgdGhpcy5maXJlQ3VzdG9tRXZlbnQoQ3VzdG9tRXZlbnRUeXBlLkN1cnNvckNoYW5nZWQsIHsgaW5kZXg6IG5ld0luZGV4IH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlS2V5RG93bihldnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICBpZiAodGhpcy52aXNpYmxlKSB7XG4gICAgICBpZiAoKGV2dC5jdHJsS2V5ICYmIGV2dC5rZXkgPT09IFwiblwiKSB8fCBldnQua2V5ID09PSBcIkFycm93RG93blwiKSB7XG4gICAgICAgIHRoaXMubW92ZUN1cnNvcigxKTtcbiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9IGVsc2UgaWYgKChldnQuY3RybEtleSAmJiBldnQua2V5ID09PSBcInBcIikgfHwgZXZ0LmtleSA9PT0gXCJBcnJvd1VwXCIpIHtcbiAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yKC0xKTtcbiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9IGVsc2UgaWYgKGV2dC5rZXkgPT09IFwiRW50ZXJcIiB8fCBldnQua2V5ID09PSBcIlRhYlwiKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlU2VsZWN0aW9uKGV2dC5rZXkgPT09IFwiVGFiXCIpO1xuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cblxuICAgICAgaWYoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgICB0aGlzLmZpcmVDdXN0b21FdmVudChDdXN0b21FdmVudFR5cGUuQ2FuY2VsZWQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY2FsY3VsYXRlUG9zaXRpb24oKSB7XG4gICAgY29uc3Qgb3B0aW9uc0JvdW5kcyA9IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCcuY29udGFpbmVyJykuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgaWYgKHRoaXMuYW5jaG9yVG8pIHtcbiAgICAgIGNvbnN0IGFuY2hvckJvdW5kcyA9IHRoaXMuYW5jaG9yVG8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7ICAgXG4gICAgICBjb25zdCB0b3BUb3AgPSBhbmNob3JCb3VuZHMudG9wIC0gb3B0aW9uc0JvdW5kcy5oZWlnaHQ7XG5cbiAgICAgIGlmICh0b3BUb3AgPiAwICYmIGFuY2hvckJvdW5kcy5ib3R0b20gKyBvcHRpb25zQm91bmRzLmhlaWdodCA+IHdpbmRvdy5pbm5lckhlaWdodCkge1xuICAgICAgICB0aGlzLnRvcCA9IHRvcFRvcDsgLy8gICsgd2luZG93LnBhZ2VZT2Zmc2V0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy50b3AgPSBhbmNob3JCb3VuZHMuYm90dG9tOyAvLyAgKyB3aW5kb3cucGFnZVlPZmZzZXQ7XG4gICAgICB9XG5cbiAgICAgIHRoaXMubGVmdCA9IGFuY2hvckJvdW5kcy5sZWZ0O1xuICAgICAgdGhpcy53aWR0aCA9IGFuY2hvckJvdW5kcy53aWR0aDtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgZ2V0RXZlbnRIYW5kbGVycygpOiBFdmVudEhhbmRsZXJbXSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHsgZXZlbnQ6ICdrZXlkb3duJywgbWV0aG9kOiB0aGlzLmhhbmRsZUtleURvd24gfSxcbiAgICAgIHsgZXZlbnQ6ICdzY3JvbGwnLCBtZXRob2Q6IHRoaXMuY2FsY3VsYXRlUG9zaXRpb24gfVxuICAgIF1cbiAgfVxuXG4gIHB1YmxpYyByZW5kZXIoKTogVGVtcGxhdGVSZXN1bHQge1xuICAgIGNvbnN0IHJlbmRlck9wdGlvbiA9ICh0aGlzLnJlbmRlck9wdGlvbiB8fCB0aGlzLnJlbmRlck9wdGlvbkRlZmF1bHQpLmJpbmQodGhpcyk7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8c3R5bGU+XG4gICAgICAgIC5jb250YWluZXIge1xuICAgICAgICAgIHRvcDogJHt0aGlzLnRvcH1weDtcbiAgICAgICAgICBsZWZ0OiAke3RoaXMubGVmdH1weDtcbiAgICAgICAgICB3aWR0aDogJHt0aGlzLndpZHRofXB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLm9wdGlvbnMge1xuICAgICAgICAgIHdpZHRoOiAke3RoaXMud2lkdGh9cHg7XG4gICAgICAgIH1cbiAgICAgIDwvc3R5bGU+XG4gICAgICA8ZGl2IGNsYXNzPVwiY29udGFpbmVyICR7dGhpcy52aXNpYmxlID8gXCJzaG93XCI6IFwiXCJ9XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJvcHRpb25zXCI+XG4gICAgICAgICAgJHt0aGlzLm9wdGlvbnMubWFwKChvcHRpb246IGFueSwgaW5kZXg6IG51bWJlcik9Pmh0bWxgXG4gICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICBAbW91c2VvdmVyPSR7KGV2dDogTW91c2VFdmVudCk9PntcbiAgICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhldnQubW92ZW1lbnRYKSArIE1hdGguYWJzKGV2dC5tb3ZlbWVudFkpID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEN1cnNvcihpbmRleCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIEBjbGljaz0keygpPT57dGhpcy5oYW5kbGVTZWxlY3Rpb24oKTt9fVxuICAgICAgICAgICAgICBjbGFzcz1cIm9wdGlvbiAke2luZGV4ID09IHRoaXMuY3Vyc29ySW5kZXggPyAnZm9jdXNlZCcgOiAnJ31cIj5cbiAgICAgICAgICAgICAgICAke3JlbmRlck9wdGlvbihvcHRpb24sIGluZGV4ID09IHRoaXMuY3Vyc29ySW5kZXgpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgYCl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8c2xvdD48L3Nsb3Q+XG4gICAgICA8L2Rpdj5cbiAgICAgIGA7XG4gIH1cbn1cbiIsImltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIFRlbXBsYXRlUmVzdWx0LCBodG1sLCBjc3MsIHByb3BlcnR5IH0gZnJvbSAnbGl0LWVsZW1lbnQnO1xuaW1wb3J0IHsgZ2V0VXJsIH0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IGF4aW9zLCB7IEF4aW9zUmVzcG9uc2UsIENhbmNlbFRva2VuU291cmNlIH0gZnJvbSAnYXhpb3MnO1xuaW1wb3J0ICcuLi9vcHRpb25zL09wdGlvbnMnO1xuaW1wb3J0IFJhcGlkRWxlbWVudCwgeyBFdmVudEhhbmRsZXIgfSBmcm9tICcuLi9SYXBpZEVsZW1lbnQnO1xuaW1wb3J0IHsgQ3VzdG9tRXZlbnRUeXBlIH0gZnJvbSAnLi4vaW50ZXJmYWNlcyc7XG5pbXBvcnQgVGV4dElucHV0IGZyb20gJy4uL3RleHRpbnB1dC9UZXh0SW5wdXQnO1xuXG5jb25zdCBMT09LX0FIRUFEID0gMjA7XG5cbkBjdXN0b21FbGVtZW50KFwicnAtc2VsZWN0XCIpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZWxlY3QgZXh0ZW5kcyBSYXBpZEVsZW1lbnQge1xuXG4gIHN0YXRpYyBnZXQgc3R5bGVzKCkge1xuICAgIHJldHVybiBjc3NgXG4gICAgICA6aG9zdCB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICB9XG4gICAgYFxuICB9XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBBcnJheX0pXG4gIHNlbGVjdGVkOiBhbnlbXSA9IFtdO1xuXG4gIEBwcm9wZXJ0eSgpXG4gIHBsYWNlaG9sZGVyOiBzdHJpbmcgPSAnJztcblxuICBAcHJvcGVydHkoKVxuICBlbmRwb2ludDogc3RyaW5nO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogU3RyaW5nfSlcbiAgaW5wdXQ6IHN0cmluZyA9ICcnO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogQXJyYXl9KVxuICBvcHRpb25zOiBhbnlbXSA9IFtdO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogTnVtYmVyfSlcbiAgcXVpZXRNaWxsaXM6IG51bWJlciA9IDIwMDtcblxuICBAcHJvcGVydHkoe3R5cGU6IEJvb2xlYW59KVxuICBmZXRjaGluZzogYm9vbGVhbjtcblxuICBAcHJvcGVydHkoe2F0dHJpYnV0ZTogZmFsc2V9KVxuICBjdXJzb3JJbmRleDogbnVtYmVyO1xuXG4gIEBwcm9wZXJ0eSh7YXR0cmlidXRlOiBmYWxzZX0pXG4gIGFuY2hvckVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuXG4gIEBwcm9wZXJ0eSh7YXR0cmlidXRlOiBmYWxzZX0pXG4gIHJlbmRlck9wdGlvbjogKG9wdGlvbjogYW55LCBzZWxlY3RlZDogYm9vbGVhbikgPT4gdm9pZDtcblxuICBAcHJvcGVydHkoe2F0dHJpYnV0ZTogZmFsc2V9KVxuICByZW5kZXJPcHRpb25OYW1lOiAob3B0aW9uOiBhbnksIHNlbGVjdGVkOiBib29sZWFuKSA9PiB2b2lkO1xuXG4gIEBwcm9wZXJ0eSh7YXR0cmlidXRlOiBmYWxzZX0pXG4gIHJlbmRlck9wdGlvbkRldGFpbDogKG9wdGlvbjogYW55LCBzZWxlY3RlZDogYm9vbGVhbikgPT4gdm9pZCA9ICgpPT57fTtcblxuICBwcml2YXRlIGxhc3RRdWVyeTogbnVtYmVyO1xuICBwcml2YXRlIGNhbmNlbFRva2VuOiBDYW5jZWxUb2tlblNvdXJjZTtcbiAgcHJpdmF0ZSBjb21wbGV0ZTogYm9vbGVhbjtcbiAgcHJpdmF0ZSBwYWdlOiBudW1iZXI7XG4gIHByaXZhdGUgcXVlcnk6IHN0cmluZztcblxuICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIHB1YmxpYyB1cGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzOiBNYXA8c3RyaW5nLCBhbnk+KSB7XG4gICAgc3VwZXIudXBkYXRlZChjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgaWYgKGNoYW5nZWRQcm9wZXJ0aWVzLmhhcyhcInNlbGVjdGVkXCIpKSB7XG4gICAgICB0aGlzLmlucHV0ID0gXCJcIjtcbiAgICAgIHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIikuYmx1cigpO1xuICAgIH1cbiAgICBcbiAgICBpZiAoY2hhbmdlZFByb3BlcnRpZXMuaGFzKFwiaW5wdXRcIikgJiYgIWNoYW5nZWRQcm9wZXJ0aWVzLmhhcyhcInNlbGVjdGVkXCIpKSB7XG4gICAgICBpZiAoIXRoaXMuaW5wdXQpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gW107XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMubGFzdFF1ZXJ5KSB7XG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5sYXN0UXVlcnkpO1xuICAgICAgfVxuICAgICAgdGhpcy5sYXN0UXVlcnkgPSB3aW5kb3cuc2V0VGltZW91dCgoKT0+e1xuICAgICAgICB0aGlzLmZldGNoT3B0aW9ucyh0aGlzLmlucHV0KTtcbiAgICAgIH0sIHRoaXMucXVpZXRNaWxsaXMpO1xuICAgIH1cblxuICAgICAgIC8vIGlmIG91ciBjdXJzb3IgY2hhbmdlZCwgbGV0cyBtYWtlIHN1cmUgb3VyIHNjcm9sbGJveCBpcyBzaG93aW5nIGl0XG4gICAgaWYoY2hhbmdlZFByb3BlcnRpZXMuaGFzKFwiY3Vyc29ySW5kZXhcIikpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMubGVuZ3RoID4gMCAmJiBcbiAgICAgICAgICB0aGlzLnF1ZXJ5ICYmIFxuICAgICAgICAgICF0aGlzLmNvbXBsZXRlICYmIFxuICAgICAgICAgIHRoaXMuY3Vyc29ySW5kZXggPiB0aGlzLm9wdGlvbnMubGVuZ3RoIC0gTE9PS19BSEVBRCkge1xuICAgICAgICB0aGlzLmZldGNoT3B0aW9ucyh0aGlzLnF1ZXJ5LCB0aGlzLnBhZ2UgKyAxKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZU9wdGlvblNlbGVjdGlvbihldmVudDogQ3VzdG9tRXZlbnQpIHtcbiAgICBjb25zdCBzZWxlY3RlZCA9IGV2ZW50LmRldGFpbC5zZWxlY3RlZDtcbiAgICB0aGlzLnNlbGVjdGVkID0gW3NlbGVjdGVkXTtcbiAgICB0aGlzLm9wdGlvbnMgPSBbXTtcbiAgICB0aGlzLmlucHV0ID0gc2VsZWN0ZWQubmFtZTtcbiB9XG5cbiAgcHVibGljIGZldGNoT3B0aW9ucyhxdWVyeTogc3RyaW5nLCBwYWdlOiBudW1iZXIgPSAwKSB7XG4gICAgXG4gICAgaWYgKCF0aGlzLmZldGNoaW5nKSB7XG4gICAgICAvLyBtYWtlIHN1cmUgd2UgY2FuY2VsIGFueSBwcmV2aW91cyByZXF1ZXN0XG4gICAgICBpZiAodGhpcy5jYW5jZWxUb2tlbikge1xuICAgICAgICB0aGlzLmNhbmNlbFRva2VuLmNhbmNlbCgpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBDYW5jZWxUb2tlbiA9IGF4aW9zLkNhbmNlbFRva2VuO1xuICAgICAgdGhpcy5jYW5jZWxUb2tlbiA9IENhbmNlbFRva2VuLnNvdXJjZSgpO1xuXG4gICAgICB0aGlzLmZldGNoaW5nID0gdHJ1ZTtcbiAgICAgIGdldFVybCh0aGlzLmVuZHBvaW50ICsgZW5jb2RlVVJJQ29tcG9uZW50KHF1ZXJ5KSArIFwiJnBhZ2U9XCIgKyBwYWdlLCB0aGlzLmNhbmNlbFRva2VuLnRva2VuKS50aGVuKChyZXNwb25zZTogQXhpb3NSZXNwb25zZSkgPT4ge1xuICAgICAgICBpZiAocGFnZSA9PT0gMCkge1xuICAgICAgICAgIHRoaXMub3B0aW9ucyA9IHJlc3BvbnNlLmRhdGEuZmlsdGVyKChvcHRpb246IGFueSkgPT4gb3B0aW9uLmxldmVsID4gMCk7XG4gICAgICAgICAgdGhpcy5jdXJzb3JJbmRleCA9IDA7XG4gICAgICAgICAgdGhpcy5xdWVyeSA9IHF1ZXJ5O1xuICAgICAgICAgIHRoaXMuY29tcGxldGUgPSB0aGlzLm9wdGlvbnMubGVuZ3RoID09PSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IG5ld1Jlc3VsdHMgPSByZXNwb25zZS5kYXRhLmZpbHRlcigob3B0aW9uOiBhbnkpID0+IG9wdGlvbi5sZXZlbCA+IDApO1xuICAgICAgICAgIGlmIChuZXdSZXN1bHRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IFsgLi4udGhpcy5vcHRpb25zLCAuLi5uZXdSZXN1bHRzXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5jb21wbGV0ZSA9IG5ld1Jlc3VsdHMubGVuZ3RoID09PSAwXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mZXRjaGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnBhZ2UgPSBwYWdlO1xuICAgICAgfSkuY2F0Y2goKHJlYXNvbjogYW55KT0+e1xuICAgICAgICAvLyBjYW5jZWxsZWRcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlQmx1cigpIHtcbiAgICAvLyB3ZSBkb24ndCBkbyB0aGlzIGltbWVkaWF0ZWx5IHNvIHdlIGNhbiBoYW5kbGUgY2xpY2sgZXZlbnRzIG91dHNpZGUgb2Ygb3VyIGlucHV0XG4gICAgd2luZG93LnNldFRpbWVvdXQoKCk9Pnt0aGlzLm9wdGlvbnMgPSBbXX0sIDEwMCk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUZvY3VzKCk6IHZvaWQge1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVLZXlVcChldnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICBjb25zdCBlbGUgPSBldnQuY3VycmVudFRhcmdldCBhcyBUZXh0SW5wdXQ7XG4gICAgdGhpcy5pbnB1dCA9IGVsZS5pbnB1dEVsZW1lbnQudmFsdWUudHJpbSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVDYW5jZWwoKSB7XG4gICAgdGhpcy5vcHRpb25zID0gW107XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUN1cnNvckNoYW5nZWQoZXZlbnQ6IEN1c3RvbUV2ZW50KSB7XG4gICAgdGhpcy5jdXJzb3JJbmRleCA9IGV2ZW50LmRldGFpbC5pbmRleDtcbiAgfVxuXG4gIHB1YmxpYyBnZXRFdmVudEhhbmRsZXJzKCk6IEV2ZW50SGFuZGxlcltdIHtcbiAgICByZXR1cm4gW1xuICAgICAgeyBldmVudDogQ3VzdG9tRXZlbnRUeXBlLkNhbmNlbGVkLCBtZXRob2Q6IHRoaXMuaGFuZGxlQ2FuY2VsIH0sXG4gICAgICB7IGV2ZW50OiBDdXN0b21FdmVudFR5cGUuQ3Vyc29yQ2hhbmdlZCwgbWV0aG9kOiB0aGlzLmhhbmRsZUN1cnNvckNoYW5nZWQgfSxcbiAgICAgIC8vIHsgZXZlbnQ6IEN1c3RvbUV2ZW50VHlwZS5TZWxlY3Rpb24sIG1ldGhvZDogdGhpcy5oYW5kbGVPcHRpb25TZWxlY3Rpb24gfSxcbiAgICBdO1xuICB9XG5cbiAgcHVibGljIGZpcnN0VXBkYXRlZChjaGFuZ2VkUHJvcGVydGllczogYW55KSB7XG4gICAgdGhpcy5hbmNob3JFbGVtZW50ID0gdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoXCJycC10ZXh0aW5wdXRcIik7XG4gIH1cblxuICBwdWJsaWMgcmVuZGVyKCk6IFRlbXBsYXRlUmVzdWx0IHtcbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxycC10ZXh0aW5wdXRcbiAgICAgICAgQGtleXVwPSR7dGhpcy5oYW5kbGVLZXlVcH1cbiAgICAgICAgQGJsdXI9JHt0aGlzLmhhbmRsZUJsdXJ9IFxuICAgICAgICBAZm9jdXM9JHt0aGlzLmhhbmRsZUZvY3VzfSBcbiAgICAgICAgLnZhbHVlPSR7dGhpcy5pbnB1dH0gIFxuICAgICAgICBwbGFjZWhvbGRlcj0ke3RoaXMucGxhY2Vob2xkZXJ9XG4gICAgICA+PC9ycC10ZXh0aW5wdXQ+XG4gICAgICA8cnAtb3B0aW9uc1xuICAgICAgICBjdXJzb3JJbmRleD0ke3RoaXMuY3Vyc29ySW5kZXh9XG4gICAgICAgIEBycC1zZWxlY3Rpb249JHt0aGlzLmhhbmRsZU9wdGlvblNlbGVjdGlvbn1cbiAgICAgICAgLnJlbmRlck9wdGlvbkRldGFpbD0ke3RoaXMucmVuZGVyT3B0aW9uRGV0YWlsfVxuICAgICAgICAucmVuZGVyT3B0aW9uTmFtZT0ke3RoaXMucmVuZGVyT3B0aW9uTmFtZX1cbiAgICAgICAgLnJlbmRlck9wdGlvbj0ke3RoaXMucmVuZGVyT3B0aW9ufVxuICAgICAgICAuYW5jaG9yVG89JHt0aGlzLmFuY2hvckVsZW1lbnR9XG4gICAgICAgIC5vcHRpb25zPSR7dGhpcy5vcHRpb25zfVxuICAgICAgICA/dmlzaWJsZT0ke3RoaXMuaW5wdXQubGVuZ3RoID4gMCAmJiB0aGlzLm9wdGlvbnMubGVuZ3RoID4gMH1cbiAgICAgID48L3JwLW9wdGlvbnM+XG4gICAgYFxuICB9XG59IiwiY29uc3QgU1RBVEVfQk9EWSA9IDA7IC8vIG5vdCBpbiBhIGV4cHJlc3Npb25cbmNvbnN0IFNUQVRFX1BSRUZJWCA9IDE7IC8vICdAJyBwcmVmaXggdGhhdCBkZW5vdGVzIHRoZSBzdGFydCBvZiBhbiBleHByZXNzaW9uXG5jb25zdCBTVEFURV9JREVOVElGSUVSID0gMjsgLy8gdGhlIGlkZW50aWZpZXIgcGFydCwgZS5nLiAnY29udGFjdC5hZ2UnIGluICdAY29udGFjdC5hZ2UnXG5jb25zdCBTVEFURV9CQUxBTkNFRCA9IDM7IC8vIHRoZSBiYWxhbmNlZCBwYXJlbnRoZXNlcyBkZWxpbWl0ZWQgcGFydCwgZS5nLiAnKDEgKyAyKScgaW4gJ0AoMSArIDIpJ1xuY29uc3QgU1RBVEVfU1RSSU5HX0xJVEVSQUwgPSA0OyAvLyBhIHN0cmluZyBsaXRlcmFsIHdoaWNoIGNvdWxkIGNvbnRhaW4gKVxuY29uc3QgU1RBVEVfRVNDQVBFRF9QUkVGSVggPSA1OyAvLyBhICdAJyBwcmVmaXggcHJlY2VkZWQgYnkgYW5vdGhlciAnQCdcbmNvbnN0IFNUQVRFX0lHTk9SRSA9IDY7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXhwcmVzc2lvbiB7XG4gIHN0YXJ0OiBudW1iZXI7XG4gIGVuZDogbnVtYmVyO1xuICB0ZXh0OiBzdHJpbmc7XG4gIGNsb3NlZDogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGdpdmVuIHN0cmluZyBzdGFydHMgd2l0aCB0aGUgZ2l2ZW4gdGV4dFxuICovXG5jb25zdCBzdGFydHNXaXRoID0gKHN0cjogc3RyaW5nLCBzdGFydDogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gIHJldHVybiBzdHIuaW5kZXhPZihzdGFydCwgMCkgPT09IDA7XG59O1xuXG4vKipcbiAqIENoZWNrcyB0aGUgcGFyc2VkIChwb3NzaWJseSBwYXJ0aWFsKSBleHByZXNzaW9uIHRvIGRldGVybWluZSBpZiBpdCdzIHZhbGlkIGJhc2VkIG9uIGhvdyBpdCBzdGFydHNcbiAqL1xuY29uc3QgaXNWYWxpZFN0YXJ0ID0gKFxuICBwYXJ0aWFsRXhwcmVzc2lvbjogc3RyaW5nLFxuICBhbGxvd2VkVG9wTGV2ZWxzOiBzdHJpbmdbXSxcbiAgYWxsb3dJbmNvbXBsZXRlOiBib29sZWFuXG4pOiBib29sZWFuID0+IHtcbiAgY29uc3QgYm9keSA9IHBhcnRpYWxFeHByZXNzaW9uLnN1YnN0cmluZygxKTsgLy8gc3RyaXAgcHJlZml4XG5cbiAgaWYgKGJvZHlbMF0gPT09ICcoJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2Uge1xuICAgIC8vIGlmIGV4cHJlc3Npb24gZG9lc24ndCBzdGFydCB3aXRoICggdGhlbiBjaGVjayBpdCdzIGFuIGFsbG93ZWQgdG9wIGxldmVsIGNvbnRleHQgcmVmZXJlbmNlXG4gICAgY29uc3QgdG9wTGV2ZWwgPSBib2R5LnNwbGl0KCcuJylbMF0udG9Mb3dlckNhc2UoKTtcblxuICAgIGlmIChhbGxvd0luY29tcGxldGUpIHtcbiAgICAgIGZvciAoY29uc3QgYWxsb3dlZCBvZiBhbGxvd2VkVG9wTGV2ZWxzKSB7XG4gICAgICAgIGlmIChzdGFydHNXaXRoKGFsbG93ZWQsIHRvcExldmVsKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBhbGxvd2VkVG9wTGV2ZWxzLmluZGV4T2YodG9wTGV2ZWwpID49IDA7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGdpdmVuIGNoYXJhY3RlciBpcyBhIHdvcmQgY2hhcmFjdGVyLCBpLmUuIFxcdyBpbiBhIHJlZ2V4XG4gKi9cbmV4cG9ydCBjb25zdCBpc1dvcmRDaGFyID0gKGNoOiBzdHJpbmcgfCAwKTogYm9vbGVhbiA9PiB7XG4gIHJldHVybiAoXG4gICAgKGNoID49ICdhJyAmJiBjaCA8PSAneicpIHx8IChjaCA+PSAnQScgJiYgY2ggPD0gJ1onKSB8fCAoY2ggPj0gJzAnICYmIGNoIDw9ICc5JykgfHwgY2ggPT09ICdfJ1xuICApO1xufTtcblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgd2UgYXJlIGluIGEgc3RyaW5nIGxpdGVyYWxcbiAqL1xuY29uc3QgaXNJblN0cmluZ0xpdGVyYWwgPSAocGFydGlhbEV4cHJlc3Npb246IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICAvLyBjb3VudCBudW1iZXIgcXVvdGF0aW9uIG1hcmtzXG4gIGxldCBudW1RdW90ZXMgPSAwO1xuICBmb3IgKGNvbnN0IHBvcyBvZiBwYXJ0aWFsRXhwcmVzc2lvbikge1xuICAgIGlmIChwb3MgPT09ICdcIicpIHtcbiAgICAgIG51bVF1b3RlcysrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVtUXVvdGVzICUgMiAhPT0gMDsgLy8gb2RkIG1lYW5zIGxhc3Qgc3RyaW5nIGxpdGVyYWwgaXMgb3BlblxufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXhjZWxsZW50UGFyc2VyIHtcbiAgcHJpdmF0ZSBleHByZXNzaW9uUHJlZml4OiBzdHJpbmc7XG4gIHByaXZhdGUgYWxsb3dlZFRvcExldmVsczogc3RyaW5nW107XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgcGFyc2VyXG4gICAqIEBwYXJhbSBleHByZXNzaW9uUHJlZml4IHRoZSBwcmVmaXggZm9yIGV4cHJlc3Npb25zLCBlLmcuICdAJ1xuICAgKiBAcGFyYW0gYWxsb3dlZFRvcExldmVscyB0aGUgY29udGV4dCBuYW1lcyB0aGF0IGFyZSBhbGxvd2VkIHdpdGhvdXQgcGFyZW50aGVzZXMsIGUuZy4gW1wiY29udGFjdFwiLCBcImZsb3dcIiwgLi4uXVxuICAgKi9cbiAgY29uc3RydWN0b3IoZXhwcmVzc2lvblByZWZpeDogc3RyaW5nLCBhbGxvd2VkVG9wTGV2ZWxzOiBzdHJpbmdbXSkge1xuICAgIHRoaXMuZXhwcmVzc2lvblByZWZpeCA9IGV4cHJlc3Npb25QcmVmaXg7XG4gICAgdGhpcy5hbGxvd2VkVG9wTGV2ZWxzID0gYWxsb3dlZFRvcExldmVscztcbiAgfVxuXG4gIC8qKlxuICAgKiBHaXZlbiB0aGUgdGV4dCB1cCB0byB0aGUgY2FyZXQgcG9zaXRpb24sIHJldHVybnMgdGhlIGV4cHJlc3Npb24gY3VycmVudGx5IGJlaW5nIGVkaXRlZCwgd2l0aG91dCBpdHMgcHJlZml4XG4gICAqL1xuICBwdWJsaWMgZXhwcmVzc2lvbkNvbnRleHQodGV4dFRvQ2FyZXQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgZXhwcmVzc2lvbnMgPSB0aGlzLmZpbmRFeHByZXNzaW9ucyh0ZXh0VG9DYXJldCk7XG4gICAgaWYgKGV4cHJlc3Npb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgLy8gbm8gZXhwcmVzc2lvbnMgZm91bmRcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IGxhc3RFeHByZXNzaW9uID0gZXhwcmVzc2lvbnNbZXhwcmVzc2lvbnMubGVuZ3RoIC0gMV07XG5cbiAgICAvLyBoYXMgbGFzdCBleHByZXNzaW9uIGFscmVhZHkgZW5kZWQgb3IgaXMgaXQgY2xvc2VkIChpLmUuIGhhcyBiYWxhbmNlZCBwYXJlbnRoZXNlcylcbiAgICBpZiAobGFzdEV4cHJlc3Npb24uZW5kIDwgdGV4dFRvQ2FyZXQubGVuZ3RoIHx8IGxhc3RFeHByZXNzaW9uLmNsb3NlZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxhc3RFeHByZXNzaW9uLnRleHQuc3Vic3RyaW5nKDEpOyAvLyByZXR1cm4gd2l0aG91dCBwcmVmaXhcbiAgfVxuXG4gIC8qKlxuICAgKiBHaXZlbiB0aGUgcGFydGlhbCBleHByZXNzaW9uIGN1cnJlbnRseSBiZWluZyBlZGl0ZWQsIHJldHVybnMgdGhlIGN1cnJlbnQgYXV0by1jb21wbGV0YWJsZSBpZGVudGlmaWVyXG4gICAqIHdoaWNoIG1heSBiZSBhIGZ1bmN0aW9uIG5hbWUgb3IgYSBjb250ZXh0IHJlZmVyZW5jZS5cbiAgICovXG4gIHB1YmxpYyBhdXRvQ29tcGxldGVDb250ZXh0KHBhcnRpYWxFeHByZXNzaW9uOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGlmIChpc0luU3RyaW5nTGl0ZXJhbChwYXJ0aWFsRXhwcmVzc2lvbikpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IG5lZWRlZFBhcmVudGhlc2VzID0gW107XG4gICAgbGV0IGZyYWdtZW50ID0gJyc7XG4gICAgbGV0IHNraXBDaGFyID0gZmFsc2U7XG4gICAgbGV0IGluUXVvdGVzID0gZmFsc2U7XG4gICAgbGV0IHByZXBlbmRGbGFnID0gJyc7XG5cbiAgICBmb3IgKGxldCBwb3MgPSBwYXJ0aWFsRXhwcmVzc2lvbi5sZW5ndGggLSAxOyBwb3MgPj0gMDsgcG9zLS0pIHtcbiAgICAgIGNvbnN0IGNoID0gcGFydGlhbEV4cHJlc3Npb25bcG9zXTtcblxuICAgICAgaWYgKGNoID09PSAnICcpIHtcbiAgICAgICAgc2tpcENoYXIgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoY2ggPT09ICcsJykge1xuICAgICAgICBza2lwQ2hhciA9IHRydWU7XG4gICAgICAgIGlmIChuZWVkZWRQYXJlbnRoZXNlc1tuZWVkZWRQYXJlbnRoZXNlcy5sZW5ndGggLSAxXSAhPT0gJygnKSB7XG4gICAgICAgICAgbmVlZGVkUGFyZW50aGVzZXMucHVzaCgnKCcpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChjaCA9PT0gJyknICYmICFpblF1b3Rlcykge1xuICAgICAgICBza2lwQ2hhciA9IHRydWU7XG4gICAgICAgIG5lZWRlZFBhcmVudGhlc2VzLnB1c2goJygnKTtcbiAgICAgICAgbmVlZGVkUGFyZW50aGVzZXMucHVzaCgnKCcpO1xuICAgICAgfVxuXG4gICAgICBpZiAoY2ggPT09ICdcIicpIHtcbiAgICAgICAgaW5RdW90ZXMgPSAhaW5RdW90ZXM7XG4gICAgICB9XG5cbiAgICAgIGlmIChza2lwQ2hhcikge1xuICAgICAgICBpZiAoY2ggPT09ICcoJyAmJiAhaW5RdW90ZXMpIHtcbiAgICAgICAgICBpZiAobmVlZGVkUGFyZW50aGVzZXNbbmVlZGVkUGFyZW50aGVzZXMubGVuZ3RoIC0gMV0gPT09ICcoJykge1xuICAgICAgICAgICAgbmVlZGVkUGFyZW50aGVzZXMucG9wKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKG5lZWRlZFBhcmVudGhlc2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgc2tpcENoYXIgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGNoID09PSAnKCcgJiYgZnJhZ21lbnQgPT09ICcnKSB7XG4gICAgICAgIHByZXBlbmRGbGFnID0gJyMnO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2tpcENoYXIgfHwgaW5RdW90ZXMgfHwgKGNoID09PSAnKCcgJiYgZnJhZ21lbnQgPT09ICcnKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzV29yZENoYXIoY2gpIHx8IGNoID09PSAnLicpIHtcbiAgICAgICAgZnJhZ21lbnQgPSBjaCArIGZyYWdtZW50O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGZyYWdtZW50Lm1hdGNoKC9bQS1aYS16XVtcXHddKihcXC5bXFx3XSspKi8pKSB7XG4gICAgICByZXR1cm4gcHJlcGVuZEZsYWcgKyBmcmFnbWVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRPRE8gZmluZCB0aGUgZnVuY3Rpb24gY29udGV4dFxuICAgKi9cbiAgcHVibGljIGZ1bmN0aW9uQ29udGV4dChwYXJ0aWFsRXhwcmVzc2lvbjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCBpblN0cmluZyA9IGlzSW5TdHJpbmdMaXRlcmFsKHBhcnRpYWxFeHByZXNzaW9uKTtcblxuICAgIC8vIGluaXRpYWwgc3RhdGUgaXMgc3RyaW5nIGxpdGVyYWwgaWYgbnVtYmVyIG9mIHF1b3RlcyBpcyBvZGRcbiAgICBsZXQgc3RhdGUgPSBpblN0cmluZyA/IFNUQVRFX1NUUklOR19MSVRFUkFMIDogU1RBVEVfSUdOT1JFO1xuICAgIGxldCBpZGVudGlmaWVyID0gJyc7XG4gICAgbGV0IHBhcmVudGhlc2VzTGV2ZWwgPSBwYXJ0aWFsRXhwcmVzc2lvblstMV0gPT09ICcoJyA/IDAgOiAxO1xuXG4gICAgZm9yIChsZXQgcG9zID0gcGFydGlhbEV4cHJlc3Npb24ubGVuZ3RoIC0gMTsgcG9zID49IDA7IHBvcy0tKSB7XG4gICAgICBjb25zdCBjaCA9IHBhcnRpYWxFeHByZXNzaW9uW3Bvc107XG5cbiAgICAgIGlmIChjaCA9PT0gJ0AnKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXRlID09PSBTVEFURV9JR05PUkUpIHtcbiAgICAgICAgaWYgKHBhcmVudGhlc2VzTGV2ZWwgPT09IDAgJiYgKGlzV29yZENoYXIoY2gpIHx8IGNoID09PSAnLicpKSB7XG4gICAgICAgICAgc3RhdGUgPSBTVEFURV9JREVOVElGSUVSO1xuICAgICAgICAgIGlkZW50aWZpZXIgPSBjaCArIGlkZW50aWZpZXI7XG4gICAgICAgIH0gZWxzZSBpZiAoY2ggPT09ICdcIicpIHtcbiAgICAgICAgICBzdGF0ZSA9IFNUQVRFX1NUUklOR19MSVRFUkFMO1xuICAgICAgICB9IGVsc2UgaWYgKGNoID09PSAnKCcpIHtcbiAgICAgICAgICBwYXJlbnRoZXNlc0xldmVsLS07XG4gICAgICAgIH0gZWxzZSBpZiAoY2ggPT09ICcpJykge1xuICAgICAgICAgIHBhcmVudGhlc2VzTGV2ZWwrKztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gU1RBVEVfSURFTlRJRklFUikge1xuICAgICAgICBpZiAoaXNXb3JkQ2hhcihjaCkgfHwgY2ggPT09ICcuJykge1xuICAgICAgICAgIGlkZW50aWZpZXIgPSBjaCArIGlkZW50aWZpZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGlkZW50aWZpZXI7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IFNUQVRFX1NUUklOR19MSVRFUkFMKSB7XG4gICAgICAgIGlmIChjaCA9PT0gJ1wiJykge1xuICAgICAgICAgIHN0YXRlID0gU1RBVEVfSUdOT1JFO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIHB1YmxpYyBnZXRDb250YWN0RmllbGRzKHRleHQ6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgICBjb25zdCBmaWVsZHMgPSB7fTtcbiAgICBjb25zdCByZSA9IC8oKHBhcmVudHxjaGlsZFxcLikqY29udGFjdFxcLikqZmllbGRzXFwuKFthLXowLTlfXSspL2c7XG4gICAgY29uc3QgZXhwcmVzc2lvbnMgPSB0aGlzLmZpbmRFeHByZXNzaW9ucyh0ZXh0KTtcbiAgICBmb3IgKGNvbnN0IGV4cHJlc3Npb24gb2YgZXhwcmVzc2lvbnMpIHtcbiAgICAgIGxldCBtYXRjaDtcbiAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1jb25kaXRpb25hbC1hc3NpZ25tZW50XG4gICAgICB3aGlsZSAoKG1hdGNoID0gcmUuZXhlYyhleHByZXNzaW9uLnRleHQpKSkge1xuICAgICAgICAoZmllbGRzIGFzIGFueSlbbWF0Y2hbM11dID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKGZpZWxkcyk7XG4gIH1cblxuICAvKipcbiAgICogRmluZHMgYWxsIGV4cHJlc3Npb25zIGluIHRoZSBnaXZlbiB0ZXh0LCBpbmNsdWRpbmcgYW55IHBhcnRpYWxseSBjb21wbGV0ZSBleHByZXNzaW9uIGF0IHRoZSBlbmQgb2YgdGhlIGlucHV0XG4gICAqL1xuICBwdWJsaWMgZmluZEV4cHJlc3Npb25zKHRleHQ6IHN0cmluZyk6IEV4cHJlc3Npb25bXSB7XG4gICAgY29uc3QgZXhwcmVzc2lvbnM6IEV4cHJlc3Npb25bXSA9IFtdO1xuICAgIGxldCBzdGF0ZSA9IFNUQVRFX0JPRFk7XG4gICAgbGV0IGN1cnJlbnRFeHByZXNzaW9uOiBFeHByZXNzaW9uID0gbnVsbDtcbiAgICBsZXQgcGFyZW50aGVzZXNMZXZlbCA9IDA7XG5cbiAgICBmb3IgKGxldCBwb3MgPSAwOyBwb3MgPCB0ZXh0Lmxlbmd0aDsgcG9zKyspIHtcbiAgICAgIGNvbnN0IGNoID0gdGV4dFtwb3NdO1xuICAgICAgLy8gaW4gb3JkZXIgdG8gZGV0ZXJtaW5lIGlmIHRoZSBiIGluIGEuYiB0ZXJtaW5hdGVzIGFuIGlkZW50aWZpZXIsIHdlIGhhdmUgdG8gcGVlayB0d28gY2hhcmFjdGVycyBhaGVhZCBhc1xuICAgICAgLy8gaXQgY291bGQgYmUgYS5iLiAoYiB0ZXJtaW5hdGVzKSBvciBhLmIuYyAoYiBkb2Vzbid0IHRlcm1pbmF0ZSlcbiAgICAgIGNvbnN0IG5leHRDaCA9IHBvcyA8IHRleHQubGVuZ3RoIC0gMSA/IHRleHRbcG9zICsgMV0gOiAwO1xuICAgICAgY29uc3QgbmV4dE5leHRDaCA9IHBvcyA8IHRleHQubGVuZ3RoIC0gMiA/IHRleHRbcG9zICsgMl0gOiAwO1xuXG4gICAgICBpZiAoc3RhdGUgPT09IFNUQVRFX0JPRFkpIHtcbiAgICAgICAgaWYgKGNoID09PSB0aGlzLmV4cHJlc3Npb25QcmVmaXggJiYgKGlzV29yZENoYXIobmV4dENoKSB8fCBuZXh0Q2ggPT09ICcoJykpIHtcbiAgICAgICAgICBzdGF0ZSA9IFNUQVRFX1BSRUZJWDtcbiAgICAgICAgICBjdXJyZW50RXhwcmVzc2lvbiA9IHtcbiAgICAgICAgICAgIHN0YXJ0OiBwb3MsXG4gICAgICAgICAgICBlbmQ6IG51bGwsXG4gICAgICAgICAgICB0ZXh0OiBjaCxcbiAgICAgICAgICAgIGNsb3NlZDogZmFsc2VcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKGNoID09PSB0aGlzLmV4cHJlc3Npb25QcmVmaXggJiYgbmV4dENoID09PSB0aGlzLmV4cHJlc3Npb25QcmVmaXgpIHtcbiAgICAgICAgICBzdGF0ZSA9IFNUQVRFX0VTQ0FQRURfUFJFRklYO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBTVEFURV9QUkVGSVgpIHtcbiAgICAgICAgaWYgKGlzV29yZENoYXIoY2gpKSB7XG4gICAgICAgICAgc3RhdGUgPSBTVEFURV9JREVOVElGSUVSOyAvLyB3ZSdyZSBwYXJzaW5nIGFuIGV4cHJlc3Npb24gbGlrZSBAWFhYXG4gICAgICAgIH0gZWxzZSBpZiAoY2ggPT09ICcoJykge1xuICAgICAgICAgIC8vIHdlJ3JlIHBhcnNpbmcgYW4gZXhwcmVzc2lvbiBsaWtlIEAoMSArIDIpXG4gICAgICAgICAgc3RhdGUgPSBTVEFURV9CQUxBTkNFRDtcbiAgICAgICAgICBwYXJlbnRoZXNlc0xldmVsICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudEV4cHJlc3Npb24udGV4dCArPSBjaDtcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IFNUQVRFX0lERU5USUZJRVIpIHtcbiAgICAgICAgY3VycmVudEV4cHJlc3Npb24udGV4dCArPSBjaDtcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IFNUQVRFX0JBTEFOQ0VEKSB7XG4gICAgICAgIGlmIChjaCA9PT0gJygnKSB7XG4gICAgICAgICAgcGFyZW50aGVzZXNMZXZlbCArPSAxO1xuICAgICAgICB9IGVsc2UgaWYgKGNoID09PSAnKScpIHtcbiAgICAgICAgICBwYXJlbnRoZXNlc0xldmVsIC09IDE7XG4gICAgICAgIH0gZWxzZSBpZiAoY2ggPT09ICdcIicpIHtcbiAgICAgICAgICBzdGF0ZSA9IFNUQVRFX1NUUklOR19MSVRFUkFMO1xuICAgICAgICB9XG5cbiAgICAgICAgY3VycmVudEV4cHJlc3Npb24udGV4dCArPSBjaDtcblxuICAgICAgICAvLyBleHByZXNzaW9uIHRlcm1pbmF0ZXMgaWYgcGFyZW50aGVzZXMgYmFsYW5jZVxuICAgICAgICBpZiAocGFyZW50aGVzZXNMZXZlbCA9PT0gMCkge1xuICAgICAgICAgIGN1cnJlbnRFeHByZXNzaW9uLmVuZCA9IHBvcyArIDE7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IFNUQVRFX1NUUklOR19MSVRFUkFMKSB7XG4gICAgICAgIGlmIChjaCA9PT0gJ1wiJykge1xuICAgICAgICAgIHN0YXRlID0gU1RBVEVfQkFMQU5DRUQ7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudEV4cHJlc3Npb24udGV4dCArPSBjaDtcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IFNUQVRFX0VTQ0FQRURfUFJFRklYKSB7XG4gICAgICAgIHN0YXRlID0gU1RBVEVfQk9EWTtcbiAgICAgIH1cblxuICAgICAgLy8gaWRlbnRpZmllciBjYW4gdGVybWluYXRlIGV4cHJlc3Npb24gaW4gMyB3YXlzOlxuICAgICAgLy8gIDEuIG5leHQgY2hhciBpcyBudWxsIChpLmUuIGVuZCBvZiB0aGUgaW5wdXQpXG4gICAgICAvLyAgMi4gbmV4dCBjaGFyIGlzIG5vdCBhIHdvcmQgY2hhcmFjdGVyIG9yIHBlcmlvZFxuICAgICAgLy8gIDMuIG5leHQgY2hhciBpcyBhIHBlcmlvZCwgYnV0IGl0J3Mgbm90IGZvbGxvd2VkIGJ5IGEgd29yZCBjaGFyYWN0ZXJcbiAgICAgIGlmIChzdGF0ZSA9PT0gU1RBVEVfSURFTlRJRklFUikge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgKCFpc1dvcmRDaGFyKG5leHRDaCkgJiYgbmV4dENoICE9PSAnLicpIHx8XG4gICAgICAgICAgKG5leHRDaCA9PT0gJy4nICYmICFpc1dvcmRDaGFyKG5leHROZXh0Q2gpKVxuICAgICAgICApIHtcbiAgICAgICAgICBjdXJyZW50RXhwcmVzc2lvbi5lbmQgPSBwb3MgKyAxO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChjdXJyZW50RXhwcmVzc2lvbiAhPSBudWxsICYmIChjdXJyZW50RXhwcmVzc2lvbi5lbmQgIT0gbnVsbCB8fCBuZXh0Q2ggPT09IDApKSB7XG4gICAgICAgIGNvbnN0IGFsbG93SW5jb21wbGV0ZSA9IG5leHRDaCA9PT0gMDsgLy8gaWYgd2UncmUgYXQgdGhlIGVuZCBvZiB0aGUgaW5wdXQsIGFsbG93IGluY29tcGxldGUgZXhwcmVzc2lvbnNcbiAgICAgICAgaWYgKGlzVmFsaWRTdGFydChjdXJyZW50RXhwcmVzc2lvbi50ZXh0LCB0aGlzLmFsbG93ZWRUb3BMZXZlbHMsIGFsbG93SW5jb21wbGV0ZSkpIHtcbiAgICAgICAgICBjdXJyZW50RXhwcmVzc2lvbi5jbG9zZWQgPSBjdXJyZW50RXhwcmVzc2lvbi50ZXh0WzFdID09PSAnKCcgJiYgcGFyZW50aGVzZXNMZXZlbCA9PT0gMDtcbiAgICAgICAgICBjdXJyZW50RXhwcmVzc2lvbi5lbmQgPSBwb3MgKyAxO1xuICAgICAgICAgIGV4cHJlc3Npb25zLnB1c2goY3VycmVudEV4cHJlc3Npb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgY3VycmVudEV4cHJlc3Npb24gPSBudWxsO1xuICAgICAgICBzdGF0ZSA9IFNUQVRFX0JPRFk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGV4cHJlc3Npb25zO1xuICB9XG59XG4iLCJpbXBvcnQgeyBDb21wbGV0aW9uT3B0aW9uIH0gZnJvbSAnLi9Db21wbGV0aW9uJztcblxuZXhwb3J0IGludGVyZmFjZSBDb21wbGV0aW9uUHJvcGVydHkge1xuICAgIGtleTogc3RyaW5nO1xuICAgIGhlbHA6IHN0cmluZztcbiAgICB0eXBlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGxldGlvblR5cGUge1xuICAgIG5hbWU6IHN0cmluZztcblxuICAgIGtleV9zb3VyY2U/OiBzdHJpbmc7XG4gICAgcHJvcGVydHlfdGVtcGxhdGU/OiBDb21wbGV0aW9uUHJvcGVydHk7XG4gICAgcHJvcGVydGllcz86IENvbXBsZXRpb25Qcm9wZXJ0eVtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbXBsZXRpb25TY2hlbWEge1xuICAgIHR5cGVzOiBDb21wbGV0aW9uVHlwZVtdO1xuICAgIHJvb3Q6IENvbXBsZXRpb25Qcm9wZXJ0eVtdO1xuICAgIHJvb3Rfbm9fc2Vzc2lvbjogQ29tcGxldGlvblByb3BlcnR5W107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUG9zaXRpb24ge1xuICAgIHRvcDogbnVtYmVyO1xuICAgIGxlZnQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IHR5cGUgS2V5ZWRBc3NldHMgPSB7IFthc3NldFR5cGU6IHN0cmluZ106IHN0cmluZ1tdIH07XG5cbmV4cG9ydCBjb25zdCBnZXRGdW5jdGlvbnMgPSAoXG4gICAgZnVuY3Rpb25zOiBDb21wbGV0aW9uT3B0aW9uW10sXG4gICAgcXVlcnk6IHN0cmluZ1xuKTogQ29tcGxldGlvbk9wdGlvbltdID0+IHtcbiAgICBpZiAoIXF1ZXJ5KSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbnM7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbnMuZmlsdGVyKChvcHRpb246IENvbXBsZXRpb25PcHRpb24pID0+IHtcbiAgICAgICAgaWYgKG9wdGlvbi5zaWduYXR1cmUpIHtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb24uc2lnbmF0dXJlLmluZGV4T2YocXVlcnkpID09PSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcbn07XG5cbi8qKlxuICogVGFrZXMgYSBkb3QgcXVlcnkgYW5kIHJldHVybnMgdGhlIGNvbXBsZXRpb25zIG9wdGlvbnMgYXQgdGhlIGN1cnJlbnQgbGV2ZWxcbiAqIEBwYXJhbSBkb3RRdWVyeSBxdWVyeSBzdWNoIGFzIFwiY29udGFjdC5maXJzdF9uXCJcbiAqL1xuZXhwb3J0IGNvbnN0IGdldENvbXBsZXRpb25zID0gKFxuICAgIHNjaGVtYTogQ29tcGxldGlvblNjaGVtYSxcbiAgICBkb3RRdWVyeTogc3RyaW5nLFxuICAgIGtleWVkQXNzZXRzOiBLZXllZEFzc2V0cyA9IHt9XG4pOiBDb21wbGV0aW9uT3B0aW9uW10gPT4ge1xuICAgIGNvbnN0IHBhcnRzID0gKGRvdFF1ZXJ5IHx8ICcnKS5zcGxpdCgnLicpO1xuICAgIGxldCBjdXJyZW50UHJvcHM6IENvbXBsZXRpb25Qcm9wZXJ0eVtdID0gc2NoZW1hLnJvb3Rfbm9fc2Vzc2lvbjtcblxuICAgIGxldCBwcmVmaXggPSAnJztcbiAgICBsZXQgcGFydCA9ICcnO1xuICAgIHdoaWxlIChwYXJ0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHBhcnQgPSBwYXJ0cy5zaGlmdCgpO1xuICAgICAgICBpZiAocGFydCkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICBjb25zdCBuZXh0UHJvcCA9IGN1cnJlbnRQcm9wcy5maW5kKFxuICAgICAgICAgICAgICAgIChwcm9wOiBDb21wbGV0aW9uUHJvcGVydHkpID0+IHByb3Aua2V5ID09PSBwYXJ0XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKG5leHRQcm9wKSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dFR5cGUgPSBzY2hlbWEudHlwZXMuZmluZChcbiAgICAgICAgICAgICAgICAgICAgKHR5cGU6IENvbXBsZXRpb25UeXBlKSA9PiB0eXBlLm5hbWUgPT09IG5leHRQcm9wLnR5cGVcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0VHlwZSAmJiBuZXh0VHlwZS5wcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQcm9wcyA9IG5leHRUeXBlLnByb3BlcnRpZXM7XG4gICAgICAgICAgICAgICAgICAgIHByZWZpeCArPSBwYXJ0ICsgJy4nO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobmV4dFR5cGUgJiYgbmV4dFR5cGUucHJvcGVydHlfdGVtcGxhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJlZml4ICs9IHBhcnQgKyAnLic7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlID0gbmV4dFR5cGUucHJvcGVydHlfdGVtcGxhdGU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXllZEFzc2V0c1tuZXh0VHlwZS5uYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFByb3BzID0ga2V5ZWRBc3NldHNbbmV4dFR5cGUubmFtZV0ubWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChrZXk6IHN0cmluZykgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiB0ZW1wbGF0ZS5rZXkucmVwbGFjZSgne2tleX0nLCBrZXkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWxwOiB0ZW1wbGF0ZS5oZWxwLnJlcGxhY2UoJ3trZXl9Jywga2V5KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdGVtcGxhdGUudHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFByb3BzID0gW107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFByb3BzID0gY3VycmVudFByb3BzLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgIChwcm9wOiBDb21wbGV0aW9uUHJvcGVydHkpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcC5rZXkuc3RhcnRzV2l0aChwYXJ0LnRvTG93ZXJDYXNlKCkpXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICAgICAgY3VycmVudFByb3BzID0gY3VycmVudFByb3BzLmZpbHRlcigocHJvcDogQ29tcGxldGlvblByb3BlcnR5KSA9PlxuICAgICAgICAgICAgICAgICAgICBwcm9wLmtleS5zdGFydHNXaXRoKHBhcnQudG9Mb3dlckNhc2UoKSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGN1cnJlbnRQcm9wcy5tYXAoKHByb3A6IENvbXBsZXRpb25Qcm9wZXJ0eSkgPT4ge1xuICAgICAgICBjb25zdCBuYW1lID1cbiAgICAgICAgICAgIHByb3Aua2V5ID09PSAnX19kZWZhdWx0X18nXG4gICAgICAgICAgICAgICAgPyBwcmVmaXguc3Vic3RyKDAsIHByZWZpeC5sZW5ndGggLSAxKVxuICAgICAgICAgICAgICAgIDogcHJlZml4ICsgcHJvcC5rZXk7XG4gICAgICAgIHJldHVybiB7IG5hbWUsIHN1bW1hcnk6IHByb3AuaGVscCB9O1xuICAgIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldE9mZnNldCA9IChlbDogSFRNTEVsZW1lbnQpID0+IHtcbiAgICB2YXIgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICBzY3JvbGxMZWZ0ID0gd2luZG93LnBhZ2VYT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0LFxuICAgICAgICBzY3JvbGxUb3AgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgICByZXR1cm4geyB0b3A6IHJlY3QudG9wICsgc2Nyb2xsVG9wLCBsZWZ0OiByZWN0LmxlZnQgKyBzY3JvbGxMZWZ0IH07XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0VmVydGljYWxTY3JvbGwgPSAoZWxlOiBOb2RlKSA9PiB7XG4gICAgbGV0IGN1cnJlbnQgPSBlbGU7XG4gICAgbGV0IHZlcnRpY2FsU2Nyb2xsID0gMDtcbiAgICB3aGlsZSAoY3VycmVudCkge1xuICAgICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnROb2RlO1xuICAgIH1cbiAgICByZXR1cm4gdmVydGljYWxTY3JvbGw7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0Q29tcGxldGlvbk5hbWUgPSAob3B0aW9uOiBDb21wbGV0aW9uT3B0aW9uKTogc3RyaW5nID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgICBvcHRpb24ubmFtZSB8fCBvcHRpb24uc2lnbmF0dXJlLnN1YnN0cigwLCBvcHRpb24uc2lnbmF0dXJlLmluZGV4T2YoJygnKSlcbiAgICApO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldENvbXBsZXRpb25TaWduYXR1cmUgPSAob3B0aW9uOiBDb21wbGV0aW9uT3B0aW9uKTogc3RyaW5nID0+IHtcbiAgICByZXR1cm4gb3B0aW9uLnNpZ25hdHVyZS5zdWJzdHIob3B0aW9uLnNpZ25hdHVyZS5pbmRleE9mKCcoJykpO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cblxuaW1wb3J0IHtpc1ByaW1pdGl2ZX0gZnJvbSAnLi4vbGliL3BhcnRzLmpzJztcbmltcG9ydCB7ZGlyZWN0aXZlLCBOb2RlUGFydCwgUGFydH0gZnJvbSAnLi4vbGl0LWh0bWwuanMnO1xuXG5pbnRlcmZhY2UgUHJldmlvdXNWYWx1ZSB7XG4gIHJlYWRvbmx5IHZhbHVlOiB1bmtub3duO1xuICByZWFkb25seSBmcmFnbWVudDogRG9jdW1lbnRGcmFnbWVudDtcbn1cblxuLy8gRm9yIGVhY2ggcGFydCwgcmVtZW1iZXIgdGhlIHZhbHVlIHRoYXQgd2FzIGxhc3QgcmVuZGVyZWQgdG8gdGhlIHBhcnQgYnkgdGhlXG4vLyB1bnNhZmVIVE1MIGRpcmVjdGl2ZSwgYW5kIHRoZSBEb2N1bWVudEZyYWdtZW50IHRoYXQgd2FzIGxhc3Qgc2V0IGFzIGEgdmFsdWUuXG4vLyBUaGUgRG9jdW1lbnRGcmFnbWVudCBpcyB1c2VkIGFzIGEgdW5pcXVlIGtleSB0byBjaGVjayBpZiB0aGUgbGFzdCB2YWx1ZVxuLy8gcmVuZGVyZWQgdG8gdGhlIHBhcnQgd2FzIHdpdGggdW5zYWZlSFRNTC4gSWYgbm90LCB3ZSdsbCBhbHdheXMgcmUtcmVuZGVyIHRoZVxuLy8gdmFsdWUgcGFzc2VkIHRvIHVuc2FmZUhUTUwuXG5jb25zdCBwcmV2aW91c1ZhbHVlcyA9IG5ldyBXZWFrTWFwPE5vZGVQYXJ0LCBQcmV2aW91c1ZhbHVlPigpO1xuXG4vKipcbiAqIFJlbmRlcnMgdGhlIHJlc3VsdCBhcyBIVE1MLCByYXRoZXIgdGhhbiB0ZXh0LlxuICpcbiAqIE5vdGUsIHRoaXMgaXMgdW5zYWZlIHRvIHVzZSB3aXRoIGFueSB1c2VyLXByb3ZpZGVkIGlucHV0IHRoYXQgaGFzbid0IGJlZW5cbiAqIHNhbml0aXplZCBvciBlc2NhcGVkLCBhcyBpdCBtYXkgbGVhZCB0byBjcm9zcy1zaXRlLXNjcmlwdGluZ1xuICogdnVsbmVyYWJpbGl0aWVzLlxuICovXG5leHBvcnQgY29uc3QgdW5zYWZlSFRNTCA9IGRpcmVjdGl2ZSgodmFsdWU6IHVua25vd24pID0+IChwYXJ0OiBQYXJ0KTogdm9pZCA9PiB7XG4gIGlmICghKHBhcnQgaW5zdGFuY2VvZiBOb2RlUGFydCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vuc2FmZUhUTUwgY2FuIG9ubHkgYmUgdXNlZCBpbiB0ZXh0IGJpbmRpbmdzJyk7XG4gIH1cblxuICBjb25zdCBwcmV2aW91c1ZhbHVlID0gcHJldmlvdXNWYWx1ZXMuZ2V0KHBhcnQpO1xuXG4gIGlmIChwcmV2aW91c1ZhbHVlICE9PSB1bmRlZmluZWQgJiYgaXNQcmltaXRpdmUodmFsdWUpICYmXG4gICAgICB2YWx1ZSA9PT0gcHJldmlvdXNWYWx1ZS52YWx1ZSAmJiBwYXJ0LnZhbHVlID09PSBwcmV2aW91c1ZhbHVlLmZyYWdtZW50KSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSB2YWx1ZSBhcyBzdHJpbmc7ICAvLyBpbm5lckhUTUwgY2FzdHMgdG8gc3RyaW5nIGludGVybmFsbHlcbiAgY29uc3QgZnJhZ21lbnQgPSBkb2N1bWVudC5pbXBvcnROb2RlKHRlbXBsYXRlLmNvbnRlbnQsIHRydWUpO1xuICBwYXJ0LnNldFZhbHVlKGZyYWdtZW50KTtcbiAgcHJldmlvdXNWYWx1ZXMuc2V0KHBhcnQsIHt2YWx1ZSwgZnJhZ21lbnR9KTtcbn0pO1xuIiwiaW1wb3J0IHsgY3VzdG9tRWxlbWVudCwgVGVtcGxhdGVSZXN1bHQsIGh0bWwsIGNzcywgcHJvcGVydHkgfSBmcm9tICdsaXQtZWxlbWVudCc7XG5pbXBvcnQgUmFwaWRFbGVtZW50LCB7IEV2ZW50SGFuZGxlciB9IGZyb20gJy4uL1JhcGlkRWxlbWVudCc7XG5pbXBvcnQgRXhjZWxsZW50UGFyc2VyLCB7IEV4cHJlc3Npb24gfSBmcm9tICcuL0V4Y2VsbGVudFBhcnNlcic7XG5pbXBvcnQgVGV4dElucHV0IGZyb20gJy4uL3RleHRpbnB1dC9UZXh0SW5wdXQnO1xuaW1wb3J0IHsgZ2V0Q29tcGxldGlvbnMsIENvbXBsZXRpb25TY2hlbWEsIGdldEZ1bmN0aW9ucywgUG9zaXRpb24sIEtleWVkQXNzZXRzLCBnZXRWZXJ0aWNhbFNjcm9sbCwgZ2V0T2Zmc2V0IH0gZnJvbSAnLi9oZWxwZXJzJztcbmltcG9ydCB7IGdldFVybCwgZ2V0QXNzZXRzLCBBc3NldCB9IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCB7IEF4aW9zUmVzcG9uc2UgfSBmcm9tICdheGlvcyc7XG5pbXBvcnQgZ2V0Q2FyZXRDb29yZGluYXRlcyBmcm9tICd0ZXh0YXJlYS1jYXJldCc7XG5pbXBvcnQgeyBkaXJlY3RpdmUsIFBhcnR9IGZyb20gJ2xpdC1odG1sJztcbmltcG9ydCB7IHVuc2FmZUhUTUwgfSBmcm9tICdsaXQtaHRtbC9kaXJlY3RpdmVzL3Vuc2FmZS1odG1sLmpzJztcblxuY29uc3QgbWFya2VkID0gcmVxdWlyZSgnbWFya2VkJyk7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRnVuY3Rpb25FeGFtcGxlIHtcbiAgdGVtcGxhdGU6IHN0cmluZztcbiAgb3V0cHV0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGxldGlvbk9wdGlvbiB7XG4gIG5hbWU/OiBzdHJpbmc7XG4gIHN1bW1hcnk6IHN0cmluZztcblxuICAvLyBmdW5jdGlvbnNcbiAgc2lnbmF0dXJlPzogc3RyaW5nO1xuICBkZXRhaWw/OiBzdHJpbmc7XG4gIGV4YW1wbGVzPzogRnVuY3Rpb25FeGFtcGxlW107XG59XG5cbmNvbnN0IG1hcmtlZFJlbmRlciA9IGRpcmVjdGl2ZSgoY29udGVudHM6IHN0cmluZykgPT4gKHBhcnQ6IFBhcnQpID0+IHsgXG4gIHBhcnQuc2V0VmFsdWUodW5zYWZlSFRNTChtYXJrZWQoY29udGVudHMpKSlcbn0pO1xuXG5cbi8qKlxuICogQ29tcGxldGlvbiBpcyBhIHRleHQgaW5wdXQgdGhhdCBoYW5kbGVzIGV4Y2VsbGVudCBjb21wbGV0aW9uIG9wdGlvbnMgaW4gYSBwb3B1cFxuICovXG5AY3VzdG9tRWxlbWVudChcInJwLWNvbXBsZXRpb25cIilcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbXBsZXRpb24gZXh0ZW5kcyBSYXBpZEVsZW1lbnQge1xuICBzdGF0aWMgZ2V0IHN0eWxlcygpIHtcbiAgICByZXR1cm4gY3NzYFxuICAgICAgXG4gICAgICA6aG9zdCB7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgfVxuXG4gICAgICAuY29udGFpbmVyIHtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICB9XG5cbiAgICAgICNhbmNob3Ige1xuICAgICAgICAvKiBiYWNrZ3JvdW5kOiByZ2JhKDEzMiwgNDAsIDE1OCwgLjEpOyAqL1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcbiAgICAgICAgd2lkdGg6IDI1MHB4O1xuICAgICAgICBoZWlnaHQ6IDIwcHg7XG4gICAgICB9XG5cbiAgICAgIC5mbi1tYXJrZXIge1xuICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgZm9udC1zaXplOiA0MnB4O1xuICAgICAgfVxuXG4gICAgICAub3B0aW9uLXNsb3Qge1xuICAgICAgICBiYWNrZ3JvdW5kOiAjZmZmO1xuICAgICAgfVxuXG4gICAgICAuY3VycmVudC1mbiB7XG4gICAgICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgICAgIG1hcmdpbjogNXB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2xvci13aWRnZXQtYmcpO1xuICAgICAgICBjb2xvcjogcmdiYSgwLCAwLCAwLCAuNSk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWN1cnZhdHVyZSk7XG4gICAgICAgIGZvbnQtc2l6ZTogOTAlO1xuICAgICAgfVxuXG4gICAgICAuZm9vdGVyIHtcbiAgICAgICAgcGFkZGluZzogNXB4IDEwcHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWNvbG9yLXByaW1hcnktbGlnaHQpO1xuICAgICAgICBjb2xvcjogcmdiYSgwLCAwLCAwLCAuNSk7XG4gICAgICAgIGZvbnQtc2l6ZTogODAlO1xuICAgICAgfVxuXG4gICAgICBjb2RlIHtcbiAgICAgICAgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwuMSk7XG4gICAgICAgIHBhZGRpbmc6IDFweCA1cHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWN1cnZhdHVyZSk7XG4gICAgICB9XG4gICAgYFxuICB9XG5cbiAgc3RhdGljIHBhcnNlciA9IG5ldyBFeGNlbGxlbnRQYXJzZXIoJ0AnLCBbXG4gICAgJ2NvbnRhY3QnLFxuICAgICdmaWVsZHMnLFxuICAgICd1cm5zJyxcbiAgXSk7XG5cbiAgLyoqIFJlbW90ZSBkZXNjcmlwdGlvbiBvZiBvdXIgY29tcGxldGlvbiBzY2hlbWEgKi8gIFxuICBwcml2YXRlIHNjaGVtYTogQ29tcGxldGlvblNjaGVtYTtcblxuICAvKiogUmVtb3RlIGxpc3Qgb2Ygb3VyIGZ1bmN0aW9uIG9wdGlvbnMgKi9cbiAgcHJpdmF0ZSBmdW5jdGlvbnM6IENvbXBsZXRpb25PcHRpb25bXTtcblxuICBwcml2YXRlIGtleWVkQXNzZXRzOiBLZXllZEFzc2V0cztcblxuICBAcHJvcGVydHkoeyB0eXBlOiBPYmplY3R9KVxuICBhbmNob3JQb3NpdGlvbjogUG9zaXRpb24gPSB7IGxlZnQ6IDAsIHRvcDogMH07XG5cbiAgQHByb3BlcnR5KHthdHRyaWJ1dGU6IGZhbHNlfSlcbiAgY3VycmVudEZ1bmN0aW9uOiBDb21wbGV0aW9uT3B0aW9uO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogU3RyaW5nfSlcbiAgcGxhY2Vob2xkZXI6IHN0cmluZyA9IFwiXCI7XG5cbiAgQHByb3BlcnR5KHthdHRyaWJ1dGU6IGZhbHNlfSlcbiAgdGV4dElucHV0RWxlbWVudDogVGV4dElucHV0O1xuXG4gIEBwcm9wZXJ0eSh7YXR0cmlidXRlOiBmYWxzZX0pXG4gIGFuY2hvckVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50O1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogQXJyYXl9KVxuICBvcHRpb25zOiBhbnlbXSA9IFtdO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogU3RyaW5nfSlcbiAgbmFtZTogc3RyaW5nID0gXCJcIjtcblxuICBAcHJvcGVydHkoe3R5cGU6IFN0cmluZ30pXG4gIHZhbHVlOiBzdHJpbmcgPSBcIlwiO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogU3RyaW5nfSlcbiAgY29tcGxldGlvbnNFbmRwb2ludDogc3RyaW5nO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogU3RyaW5nfSlcbiAgZnVuY3Rpb25zRW5kcG9pbnQ6IHN0cmluZztcblxuICBAcHJvcGVydHkoe3R5cGU6IFN0cmluZ30pXG4gIGZpZWxkc0VuZHBvaW50OiBzdHJpbmc7XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBCb29sZWFufSlcbiAgdGV4dGFyZWE6IGJvb2xlYW47XG5cbiAgcHJpdmF0ZSBoaWRkZW5FbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50O1xuICBwcml2YXRlIGlucHV0RWxlbWVudDogSFRNTElucHV0RWxlbWVudDtcbiAgcHJpdmF0ZSBxdWVyeTogc3RyaW5nO1xuICBcbiAgcHVibGljIGZpcnN0VXBkYXRlZChjaGFuZ2VkUHJvcGVydGllczogTWFwPHN0cmluZywgYW55Pikge1xuICAgIHRoaXMudGV4dElucHV0RWxlbWVudCA9IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKFwicnAtdGV4dGlucHV0XCIpIGFzIFRleHRJbnB1dDtcbiAgICB0aGlzLmFuY2hvckVsZW1lbnQgPSB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcihcIiNhbmNob3JcIik7XG5cbiAgICAvLyBUT0RPOiBmZXRjaCB0aGVzZSBvbmNlIHBlciBwYWdlLCBub3Qgb25jZSBwZXIgY29udHJvbFxuICAgIGlmICh0aGlzLmNvbXBsZXRpb25zRW5kcG9pbnQpIHtcbiAgICAgIGdldFVybCh0aGlzLmNvbXBsZXRpb25zRW5kcG9pbnQpLnRoZW4oKHJlc3BvbnNlOiBBeGlvc1Jlc3BvbnNlKSA9PiB7XG4gICAgICAgIHRoaXMuc2NoZW1hID0gcmVzcG9uc2UuZGF0YSBhcyBDb21wbGV0aW9uU2NoZW1hO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZnVuY3Rpb25zRW5kcG9pbnQpIHtcbiAgICAgIGdldFVybCh0aGlzLmZ1bmN0aW9uc0VuZHBvaW50KS50aGVuKChyZXNwb25zZTogQXhpb3NSZXNwb25zZSkgPT4ge1xuICAgICAgICB0aGlzLmZ1bmN0aW9ucyA9IHJlc3BvbnNlLmRhdGEgYXMgQ29tcGxldGlvbk9wdGlvbltdO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZmllbGRzRW5kcG9pbnQpIHtcbiAgICAgIGdldEFzc2V0cyh0aGlzLmZpZWxkc0VuZHBvaW50KS50aGVuKChhc3NldHM6IEFzc2V0W10pPT57XG4gICAgICAgIHRoaXMua2V5ZWRBc3NldHMgPSB7IGZpZWxkczogYXNzZXRzLm1hcCgoYXNzZXQ6IEFzc2V0KT0+IGFzc2V0LmtleSApIH1cbiAgICAgIH0pOyAgICAgIFxuICAgIH1cblxuICAgIC8vIGNyZWF0ZSBvdXIgaGlkZGVuIGNvbnRhaW5lciBzbyBpdCBnZXRzIGluY2x1ZGVkIGluIG91ciBob3N0IGVsZW1lbnQncyBmb3JtXG4gICAgdGhpcy5oaWRkZW5FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIHRoaXMuaGlkZGVuRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiaGlkZGVuXCIpO1xuICAgIHRoaXMuaGlkZGVuRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsIHRoaXMuZ2V0QXR0cmlidXRlKFwibmFtZVwiKSk7XG4gICAgdGhpcy5oaWRkZW5FbGVtZW50LnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIHRoaXMuZ2V0QXR0cmlidXRlKFwidmFsdWVcIikgfHwgXCJcIik7XG4gICAgdGhpcy5hcHBlbmRDaGlsZCh0aGlzLmhpZGRlbkVsZW1lbnQpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVLZXlVcChldnQ6IEtleWJvYXJkRXZlbnQpIHtcblxuICAgIC8vIGlmIHdlIGhhdmUgb3B0aW9ucywgaWdub3JlIGtleXMgdGhhdCBhcmUgbWVhbnQgZm9yIHRoZW1cbiAgICBpZiAodGhpcy5vcHRpb25zLmxlbmd0aCA+IDApIHtcblxuICAgICAgaWYoZXZ0LmtleSA9PT0gXCJBcnJvd1VwXCIgfHwgZXZ0LmtleSA9PT0gXCJBcnJvd0Rvd25cIikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChldnQuY3RybEtleSkge1xuICAgICAgICBpZiAoZXZ0LmtleSA9PT0gXCJuXCIgfHwgZXZ0LmtleSA9PT0gXCJwXCIpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYoZXZ0LmtleSA9PT0gXCJFbnRlclwiIHx8IGV2dC5rZXkgPT09IFwiRXNjYXBlXCIgfHwgZXZ0LmtleSA9PT0gXCJUYWJcIiB8fCBldnQua2V5LnN0YXJ0c1dpdGgoXCJDb250cm9sXCIpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5leGVjdXRlUXVlcnkoZXZ0LmN1cnJlbnRUYXJnZXQgYXMgVGV4dElucHV0KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUNsaWNrKGV2dDogTW91c2VFdmVudCkge1xuICAgIHRoaXMuZXhlY3V0ZVF1ZXJ5KGV2dC5jdXJyZW50VGFyZ2V0IGFzIFRleHRJbnB1dClcbiAgfVxuXG4gIC8qKlxuICAgKiBoYW5kbGUgdGhlIHVzZXIgbW92aW5nIHRoZSBjYXJldCB0byBhIG5ldyBsb2NhdGlvblxuICAgKi9cbiAgcHJpdmF0ZSBleGVjdXRlUXVlcnkoZWxlOiBUZXh0SW5wdXQpIHtcbiAgICB0aGlzLmlucHV0RWxlbWVudCA9IGVsZS5pbnB1dEVsZW1lbnQ7XG4gICAgdGhpcy5jdXJyZW50RnVuY3Rpb24gPSBudWxsO1xuXG4gICAgaWYgKHRoaXMuc2NoZW1hKSB7XG4gICAgICBjb25zdCBjdXJzb3IgPSBlbGUuaW5wdXRFbGVtZW50LnNlbGVjdGlvblN0YXJ0O1xuICAgICAgY29uc3QgaW5wdXQgPSBlbGUuaW5wdXRFbGVtZW50LnZhbHVlLnN1YnN0cmluZygwLCBjdXJzb3IpO1xuICAgICAgY29uc3QgZXhwcmVzc2lvbnMgPSBDb21wbGV0aW9uLnBhcnNlci5maW5kRXhwcmVzc2lvbnMoaW5wdXQpO1xuICAgICAgY29uc3QgY3VycmVudEV4cHJlc3Npb24gPSBleHByZXNzaW9ucy5maW5kKChleHByOiBFeHByZXNzaW9uKT0+ZXhwci5zdGFydCA8PSBjdXJzb3IgJiYgKGV4cHIuZW5kID4gY3Vyc29yIHx8IGV4cHIuZW5kID09PSBjdXJzb3IgJiYgIWV4cHIuY2xvc2VkKSk7XG5cbiAgICAgIGlmIChjdXJyZW50RXhwcmVzc2lvbikge1xuICAgICAgICBjb25zdCBpbmNsdWRlRnVuY3Rpb25zID0gY3VycmVudEV4cHJlc3Npb24udGV4dC5pbmRleE9mKCcoJykgPiAtMTtcbiAgICAgICAgaWYgKGluY2x1ZGVGdW5jdGlvbnMpIHtcbiAgICAgICAgICBjb25zdCBmdW5jdGlvblF1ZXJ5ID0gQ29tcGxldGlvbi5wYXJzZXIuZnVuY3Rpb25Db250ZXh0KGN1cnJlbnRFeHByZXNzaW9uLnRleHQpO1xuICAgICAgICAgIGlmIChmdW5jdGlvblF1ZXJ5KSB7XG4gICAgICAgICAgICBjb25zdCBmbnMgPSBnZXRGdW5jdGlvbnModGhpcy5mdW5jdGlvbnMsIGZ1bmN0aW9uUXVlcnkpO1xuICAgICAgICAgICAgaWYgKGZucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIHRoaXMuY3VycmVudEZ1bmN0aW9uID0gZm5zWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgXG4gICAgICAgIGZvciAobGV0IGkgPSBjdXJyZW50RXhwcmVzc2lvbi50ZXh0Lmxlbmd0aDsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICBjb25zdCBjdXJyID0gY3VycmVudEV4cHJlc3Npb24udGV4dFtpXTtcbiAgICAgICAgICBpZiAoY3VyciA9PT0gJ0AnIHx8IGN1cnIgPT09ICcoJyB8fCBjdXJyID09PSAnICcgfHwgY3VyciA9PT0gJywnIHx8IGN1cnIgPT09ICcpJyB8fCBpID09PSAwKSB7XG4gICAgICAgICAgICAvLyBkb24ndCBpbmNsdWRlIG5vbi1leHByZXNzaW9uIGNoYXJzXG4gICAgICAgICAgICBpZiAoY3VyciA9PT0gJygnIHx8IGN1cnIgPT09ICcgJyB8fCBjdXJyID09PSAnLCcgfHwgY3VyciA9PT0gJyknIHx8IGN1cnIgPT09ICdAJykge1xuICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBjYXJldCA9IGdldENhcmV0Q29vcmRpbmF0ZXMoZWxlLmlucHV0RWxlbWVudCwgY3VycmVudEV4cHJlc3Npb24uc3RhcnQgKyBpKTtcbiAgICAgICAgICAgIHRoaXMuYW5jaG9yUG9zaXRpb24gPSB7XG4gICAgICAgICAgICAgICBsZWZ0OiBjYXJldC5sZWZ0IC0gMiAtIHRoaXMuaW5wdXRFbGVtZW50LnNjcm9sbExlZnQsXG4gICAgICAgICAgICAgICB0b3A6IGNhcmV0LnRvcCAtIHRoaXMuaW5wdXRFbGVtZW50LnNjcm9sbFRvcFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnF1ZXJ5ID0gY3VycmVudEV4cHJlc3Npb24udGV4dC5zdWJzdHIoaSwgY3VycmVudEV4cHJlc3Npb24udGV4dC5sZW5ndGggLSBpKTtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IFtcbiAgICAgICAgICAgICAgLi4uZ2V0Q29tcGxldGlvbnModGhpcy5zY2hlbWEsIHRoaXMucXVlcnksIHRoaXMua2V5ZWRBc3NldHMpLFxuICAgICAgICAgICAgICAuLi4oaW5jbHVkZUZ1bmN0aW9ucyA/IGdldEZ1bmN0aW9ucyh0aGlzLmZ1bmN0aW9ucywgdGhpcy5xdWVyeSkgOiBbXSlcbiAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IFtdO1xuICAgICAgICB0aGlzLnF1ZXJ5ID0gXCJcIjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgXG4gIHB1YmxpYyB1cGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzOiBNYXA8c3RyaW5nLCBhbnk+KSB7XG4gICAgc3VwZXIudXBkYXRlZChjaGFuZ2VkUHJvcGVydGllcyk7XG5cbiAgICAvLyBpZiBvdXIgY3Vyc29yIGNoYW5nZWQsIGxldHMgbWFrZSBzdXJlIG91ciBzY3JvbGxib3ggaXMgc2hvd2luZyBpdFxuICAgIGlmKGNoYW5nZWRQcm9wZXJ0aWVzLmhhcyhcInZhbHVlXCIpKSB7XG4gICAgICB0aGlzLmhpZGRlbkVsZW1lbnQuc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgdGhpcy52YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVJbnB1dChldnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICBjb25zdCBlbGUgPSBldnQuY3VycmVudFRhcmdldCBhcyBUZXh0SW5wdXQ7XG4gICAgdGhpcy5leGVjdXRlUXVlcnkoZWxlKTtcbiAgICB0aGlzLnZhbHVlID0gZWxlLmlucHV0RWxlbWVudC52YWx1ZTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlT3B0aW9uQ2FuY2VsZWQoZXZ0OiBDdXN0b21FdmVudCkge1xuICAgIHRoaXMub3B0aW9ucyA9IFtdO1xuICAgIHRoaXMucXVlcnkgPSBcIlwiO1xuICB9XG4gIFxuICBwcml2YXRlIGhhbmRsZU9wdGlvblNlbGVjdGlvbihldnQ6IEN1c3RvbUV2ZW50KSB7XG4gICAgY29uc3Qgb3B0aW9uID0gZXZ0LmRldGFpbC5zZWxlY3RlZCBhcyBDb21wbGV0aW9uT3B0aW9uO1xuICAgIGNvbnN0IHRhYmJlZCA9IGV2dC5kZXRhaWwudGFiYmVkO1xuXG4gICAgbGV0IGluc2VydFRleHQgPSBcIlwiO1xuICAgIFxuICAgIGlmIChvcHRpb24uc2lnbmF0dXJlKSB7XG4gICAgICAvLyB0aGV5IHNlbGVjdGVkIGEgZnVuY3Rpb25cbiAgICAgIGluc2VydFRleHQgPSBvcHRpb24uc2lnbmF0dXJlLnN1YnN0cigwLCBvcHRpb24uc2lnbmF0dXJlLmluZGV4T2YoXCIoXCIpICsgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluc2VydFRleHQgPSBvcHRpb24ubmFtZTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pbnB1dEVsZW1lbnQpIHtcbiAgICAgIGxldCB2YWx1ZSA9IHRoaXMuaW5wdXRFbGVtZW50LnZhbHVlO1xuICAgICAgY29uc3QgaW5zZXJ0aW9uUG9pbnQgPSB0aGlzLmlucHV0RWxlbWVudC5zZWxlY3Rpb25TdGFydCAtIHRoaXMucXVlcnkubGVuZ3RoO1xuICAgICAgXG4gICAgICAvLyBzdHJpcCBvdXQgb3VyIHF1ZXJ5XG4gICAgICAvLyBjb25zdCBpbnNlcnRpb25Qb2ludCA9IHZhbHVlLmxhc3RJbmRleE9mKHZhbHVlLnN1YnN0cmluZygwLCB0aGlzLmlucHV0RWxlbWVudC5zZWxlY3Rpb25TdGFydCkpO1xuICAgICAgY29uc3QgbGVmdFNpZGUgPSB2YWx1ZS5zdWJzdHIoMCwgaW5zZXJ0aW9uUG9pbnQpO1xuICAgICAgY29uc3QgcmVtYWluaW5nID0gdmFsdWUuc3Vic3RyKGluc2VydGlvblBvaW50ICsgdGhpcy5xdWVyeS5sZW5ndGgpO1xuICAgICAgY29uc3QgY2FyZXQgPSBsZWZ0U2lkZS5sZW5ndGggKyBpbnNlcnRUZXh0Lmxlbmd0aDtcblxuICAgICAgLy8gc2V0IG91ciB2YWx1ZSBhbmQgb3VyIG5ldyBjYXJldFxuICAgICAgdGhpcy5pbnB1dEVsZW1lbnQudmFsdWUgPSBsZWZ0U2lkZSArIGluc2VydFRleHQgKyByZW1haW5pbmc7XG4gICAgICB0aGlzLmlucHV0RWxlbWVudC5zZXRTZWxlY3Rpb25SYW5nZShjYXJldCwgY2FyZXQpO1xuXG4gICAgICAvLyBub3cgc2Nyb2xsIG91ciB0ZXh0IGJveCBpZiBuZWNlc3NhcnlcbiAgICAgIGNvbnN0IHBvc2l0aW9uID0gZ2V0Q2FyZXRDb29yZGluYXRlcyh0aGlzLmlucHV0RWxlbWVudCwgY2FyZXQpO1xuICAgICAgaWYgKHBvc2l0aW9uLmxlZnQgPiB0aGlzLmlucHV0RWxlbWVudC53aWR0aCkge1xuICAgICAgICB0aGlzLmlucHV0RWxlbWVudC5zY3JvbGxMZWZ0ID0gcG9zaXRpb24ubGVmdDtcbiAgICAgIH1cblxuICAgIH1cblxuICAgIHRoaXMucXVlcnkgPSBcIlwiO1xuICAgIHRoaXMub3B0aW9ucyA9IFtdO1xuICAgIFxuICAgIGlmICh0YWJiZWQpIHtcbiAgICAgIHRoaXMuZXhlY3V0ZVF1ZXJ5KHRoaXMudGV4dElucHV0RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJDb21wbGV0aW9uT3B0aW9uKG9wdGlvbjogQ29tcGxldGlvbk9wdGlvbiwgc2VsZWN0ZWQ6IGJvb2xlYW4pIHtcbiAgICBpZihvcHRpb24uc2lnbmF0dXJlKSB7XG5cbiAgICAgIGNvbnN0IGFyZ1N0YXJ0ID0gb3B0aW9uLnNpZ25hdHVyZS5pbmRleE9mKFwiKFwiKVxuICAgICAgY29uc3QgbmFtZSA9IG9wdGlvbi5zaWduYXR1cmUuc3Vic3RyKDAsIGFyZ1N0YXJ0KTtcbiAgICAgIGNvbnN0IGFyZ3MgPSBvcHRpb24uc2lnbmF0dXJlLnN1YnN0cihhcmdTdGFydCk7XG5cbiAgICAgIHJldHVybiBodG1sYFxuICAgICAgICA8ZGl2IHN0eWxlPVwiJHtzZWxlY3RlZCA/ICdmb250LXdlaWdodDogNDAwJyA6ICcnfVwiPlxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJkaXNwbGF5OmlubGluZS1ibG9jaztcIj7GkjwvZGl2PlxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJkaXNwbGF5OmlubGluZS1ibG9ja1wiPiR7bmFtZX08L2Rpdj5cbiAgICAgICAgICAke3NlbGVjdGVkID8gaHRtbGBcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJkaXNwbGF5OmlubGluZS1ibG9jazsgZm9udC13ZWlnaHQ6IDMwMDsgZm9udC1zaXplOiA4NSVcIj4ke2FyZ3N9PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGV0YWlsXCI+JHttYXJrZWRSZW5kZXIob3B0aW9uLnN1bW1hcnkpfTwvZGl2PlxuICAgICAgICAgIGAgOiBudWxsfVxuICAgICAgICA8L2Rpdj5gO1xuICAgICAgfVxuXG4gICAgcmV0dXJuIGh0bWxgXG4gICAgPGRpdj5cbiAgICAgIDxkaXYgc3R5bGU9XCIke3NlbGVjdGVkID8gJ2ZvbnQtd2VpZ2h0OiA0MDAnIDogJyd9XCI+JHtvcHRpb24ubmFtZX08L2Rpdj5cbiAgICAgICR7c2VsZWN0ZWQgPyBodG1sYDxkaXYgc3R5bGU9XCJmb250LXNpemU6IDg1JVwiPiR7b3B0aW9uLnN1bW1hcnl9PC9kaXY+YCA6IG51bGx9XG4gICAgPC9kaXY+YFxuICB9XG5cbiAgcHVibGljIHJlbmRlcigpOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8c3R5bGU+XG4gICAgICAgICNhbmNob3Ige1xuICAgICAgICAgIHRvcDoke3RoaXMuYW5jaG9yUG9zaXRpb24udG9wfXB4O1xuICAgICAgICAgIGxlZnQ6JHt0aGlzLmFuY2hvclBvc2l0aW9uLmxlZnR9cHg7XG4gICAgICAgIH1cbiAgICAgIDwvc3R5bGU+XG4gICAgICA8ZGl2IGNsYXNzPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgaWQ9XCJhbmNob3JcIj48L2Rpdj5cbiAgICAgICAgPHJwLXRleHRpbnB1dCBcbiAgICAgICAgICBuYW1lPSR7dGhpcy5uYW1lfVxuICAgICAgICAgIHBsYWNlaG9sZGVyPSR7dGhpcy5wbGFjZWhvbGRlcn1cbiAgICAgICAgICBAa2V5dXA9JHt0aGlzLmhhbmRsZUtleVVwfVxuICAgICAgICAgIEBjbGljaz0ke3RoaXMuaGFuZGxlQ2xpY2t9XG4gICAgICAgICAgQGlucHV0PSR7dGhpcy5oYW5kbGVJbnB1dH1cbiAgICAgICAgICAudmFsdWU9JHt0aGlzLnZhbHVlfVxuICAgICAgICAgID90ZXh0YXJlYT0ke3RoaXMudGV4dGFyZWF9XG4gICAgICAgICAgPlxuICAgICAgICA8L3JwLXRleHRpbnB1dD5cbiAgICAgICAgPHJwLW9wdGlvbnNcbiAgICAgICAgICBAcnAtc2VsZWN0aW9uPSR7dGhpcy5oYW5kbGVPcHRpb25TZWxlY3Rpb259XG4gICAgICAgICAgQHJwLWNhbmNlbGVkPSR7dGhpcy5oYW5kbGVPcHRpb25DYW5jZWxlZH1cbiAgICAgICAgICAuYW5jaG9yVG89JHt0aGlzLmFuY2hvckVsZW1lbnR9XG4gICAgICAgICAgLm9wdGlvbnM9JHt0aGlzLm9wdGlvbnN9XG4gICAgICAgICAgLnJlbmRlck9wdGlvbj0ke3RoaXMucmVuZGVyQ29tcGxldGlvbk9wdGlvbn1cbiAgICAgICAgICA/dmlzaWJsZT0ke3RoaXMub3B0aW9ucy5sZW5ndGggPiAwfVxuICAgICAgICA+XG4gICAgICAgICAgJHt0aGlzLmN1cnJlbnRGdW5jdGlvbiA/IGh0bWxgPGRpdiBjbGFzcz1cImN1cnJlbnQtZm5cIj4ke3RoaXMucmVuZGVyQ29tcGxldGlvbk9wdGlvbih0aGlzLmN1cnJlbnRGdW5jdGlvbiwgdHJ1ZSl9PC9kaXY+YDogbnVsbH1cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9vdGVyXCI+VGFiIHRvIGNvbXBsZXRlLCBlbnRlciB0byBzZWxlY3Q8L2Rpdj5cbiAgICAgICAgPC9ycC1vcHRpb25zPlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgfVxufSJdLCJzb3VyY2VSb290IjoiIn0=